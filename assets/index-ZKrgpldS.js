var Lu=tn=>{throw TypeError(tn)};var ju=(tn,sn,un)=>sn.has(tn)||Lu("Cannot "+un);var mr=(tn,sn,un)=>(ju(tn,sn,"read from private field"),un?un.call(tn):sn.get(tn)),us=(tn,sn,un)=>sn.has(tn)?Lu("Cannot add the same private member more than once"):sn instanceof WeakSet?sn.add(tn):sn.set(tn,un),Zr=(tn,sn,un,dn)=>(ju(tn,sn,"write to private field"),dn?dn.call(tn,un):sn.set(tn,un),un),Ss=(tn,sn,un)=>(ju(tn,sn,"access private method"),un);var Eu=(tn,sn,un,dn)=>({set _(pn){Zr(tn,sn,pn,un)},get _(){return mr(tn,sn,dn)}});function _mergeNamespaces(tn,sn){for(var un=0;un<sn.length;un++){const dn=sn[un];if(typeof dn!="string"&&!Array.isArray(dn)){for(const pn in dn)if(pn!=="default"&&!(pn in tn)){const mn=Object.getOwnPropertyDescriptor(dn,pn);mn&&Object.defineProperty(tn,pn,mn.get?mn:{enumerable:!0,get:()=>dn[pn]})}}}return Object.freeze(Object.defineProperty(tn,Symbol.toStringTag,{value:"Module"}))}(function(){const sn=document.createElement("link").relList;if(sn&&sn.supports&&sn.supports("modulepreload"))return;for(const pn of document.querySelectorAll('link[rel="modulepreload"]'))dn(pn);new MutationObserver(pn=>{for(const mn of pn)if(mn.type==="childList")for(const hn of mn.addedNodes)hn.tagName==="LINK"&&hn.rel==="modulepreload"&&dn(hn)}).observe(document,{childList:!0,subtree:!0});function un(pn){const mn={};return pn.integrity&&(mn.integrity=pn.integrity),pn.referrerPolicy&&(mn.referrerPolicy=pn.referrerPolicy),pn.crossOrigin==="use-credentials"?mn.credentials="include":pn.crossOrigin==="anonymous"?mn.credentials="omit":mn.credentials="same-origin",mn}function dn(pn){if(pn.ep)return;pn.ep=!0;const mn=un(pn);fetch(pn.href,mn)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tn){return tn&&tn.__esModule&&Object.prototype.hasOwnProperty.call(tn,"default")?tn.default:tn}function getAugmentedNamespace(tn){if(tn.__esModule)return tn;var sn=tn.default;if(typeof sn=="function"){var un=function dn(){return this instanceof dn?Reflect.construct(sn,arguments,this.constructor):sn.apply(this,arguments)};un.prototype=sn.prototype}else un={};return Object.defineProperty(un,"__esModule",{value:!0}),Object.keys(tn).forEach(function(dn){var pn=Object.getOwnPropertyDescriptor(tn,dn);Object.defineProperty(un,dn,pn.get?pn:{enumerable:!0,get:function(){return tn[dn]}})}),un}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(tn){return tn===null||typeof tn!="object"?null:(tn=z$3&&tn[z$3]||tn["@@iterator"],typeof tn=="function"?tn:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(tn,sn,un){this.props=tn,this.context=sn,this.refs=D$2,this.updater=un||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(tn,sn){if(typeof tn!="object"&&typeof tn!="function"&&tn!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tn,sn,"setState")};E$2.prototype.forceUpdate=function(tn){this.updater.enqueueForceUpdate(this,tn,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(tn,sn,un){this.props=tn,this.context=sn,this.refs=D$2,this.updater=un||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(tn,sn,un){var dn,pn={},mn=null,hn=null;if(sn!=null)for(dn in sn.ref!==void 0&&(hn=sn.ref),sn.key!==void 0&&(mn=""+sn.key),sn)J$1.call(sn,dn)&&!L$2.hasOwnProperty(dn)&&(pn[dn]=sn[dn]);var fn=arguments.length-2;if(fn===1)pn.children=un;else if(1<fn){for(var gn=Array(fn),xn=0;xn<fn;xn++)gn[xn]=arguments[xn+2];pn.children=gn}if(tn&&tn.defaultProps)for(dn in fn=tn.defaultProps,fn)pn[dn]===void 0&&(pn[dn]=fn[dn]);return{$$typeof:l$2,type:tn,key:mn,ref:hn,props:pn,_owner:K$2.current}}function N$2(tn,sn){return{$$typeof:l$2,type:tn.type,key:sn,ref:tn.ref,props:tn.props,_owner:tn._owner}}function O$2(tn){return typeof tn=="object"&&tn!==null&&tn.$$typeof===l$2}function escape$1(tn){var sn={"=":"=0",":":"=2"};return"$"+tn.replace(/[=:]/g,function(un){return sn[un]})}var P$3=/\/+/g;function Q$2(tn,sn){return typeof tn=="object"&&tn!==null&&tn.key!=null?escape$1(""+tn.key):sn.toString(36)}function R$2(tn,sn,un,dn,pn){var mn=typeof tn;(mn==="undefined"||mn==="boolean")&&(tn=null);var hn=!1;if(tn===null)hn=!0;else switch(mn){case"string":case"number":hn=!0;break;case"object":switch(tn.$$typeof){case l$2:case n$3:hn=!0}}if(hn)return hn=tn,pn=pn(hn),tn=dn===""?"."+Q$2(hn,0):dn,I$2(pn)?(un="",tn!=null&&(un=tn.replace(P$3,"$&/")+"/"),R$2(pn,sn,un,"",function(xn){return xn})):pn!=null&&(O$2(pn)&&(pn=N$2(pn,un+(!pn.key||hn&&hn.key===pn.key?"":(""+pn.key).replace(P$3,"$&/")+"/")+tn)),sn.push(pn)),1;if(hn=0,dn=dn===""?".":dn+":",I$2(tn))for(var fn=0;fn<tn.length;fn++){mn=tn[fn];var gn=dn+Q$2(mn,fn);hn+=R$2(mn,sn,un,gn,pn)}else if(gn=A$2(tn),typeof gn=="function")for(tn=gn.call(tn),fn=0;!(mn=tn.next()).done;)mn=mn.value,gn=dn+Q$2(mn,fn++),hn+=R$2(mn,sn,un,gn,pn);else if(mn==="object")throw sn=String(tn),Error("Objects are not valid as a React child (found: "+(sn==="[object Object]"?"object with keys {"+Object.keys(tn).join(", ")+"}":sn)+"). If you meant to render a collection of children, use an array instead.");return hn}function S$2(tn,sn,un){if(tn==null)return tn;var dn=[],pn=0;return R$2(tn,dn,"","",function(mn){return sn.call(un,mn,pn++)}),dn}function T$2(tn){if(tn._status===-1){var sn=tn._result;sn=sn(),sn.then(function(un){(tn._status===0||tn._status===-1)&&(tn._status=1,tn._result=un)},function(un){(tn._status===0||tn._status===-1)&&(tn._status=2,tn._result=un)}),tn._status===-1&&(tn._status=0,tn._result=sn)}if(tn._status===1)return tn._result.default;throw tn._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(tn,sn,un){S$2(tn,function(){sn.apply(this,arguments)},un)},count:function(tn){var sn=0;return S$2(tn,function(){sn++}),sn},toArray:function(tn){return S$2(tn,function(sn){return sn})||[]},only:function(tn){if(!O$2(tn))throw Error("React.Children.only expected to receive a single React element child.");return tn}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$3;react_production_min.cloneElement=function(tn,sn,un){if(tn==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tn+".");var dn=C$2({},tn.props),pn=tn.key,mn=tn.ref,hn=tn._owner;if(sn!=null){if(sn.ref!==void 0&&(mn=sn.ref,hn=K$2.current),sn.key!==void 0&&(pn=""+sn.key),tn.type&&tn.type.defaultProps)var fn=tn.type.defaultProps;for(gn in sn)J$1.call(sn,gn)&&!L$2.hasOwnProperty(gn)&&(dn[gn]=sn[gn]===void 0&&fn!==void 0?fn[gn]:sn[gn])}var gn=arguments.length-2;if(gn===1)dn.children=un;else if(1<gn){fn=Array(gn);for(var xn=0;xn<gn;xn++)fn[xn]=arguments[xn+2];dn.children=fn}return{$$typeof:l$2,type:tn.type,key:pn,ref:mn,props:dn,_owner:hn}};react_production_min.createContext=function(tn){return tn={$$typeof:u$2,_currentValue:tn,_currentValue2:tn,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tn.Provider={$$typeof:t$2,_context:tn},tn.Consumer=tn};react_production_min.createElement=M$2;react_production_min.createFactory=function(tn){var sn=M$2.bind(null,tn);return sn.type=tn,sn};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tn){return{$$typeof:v$3,render:tn}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(tn){return{$$typeof:y$2,_payload:{_status:-1,_result:tn},_init:T$2}};react_production_min.memo=function(tn,sn){return{$$typeof:x$2,type:tn,compare:sn===void 0?null:sn}};react_production_min.startTransition=function(tn){var sn=V$2.transition;V$2.transition={};try{tn()}finally{V$2.transition=sn}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(tn,sn){return U$2.current.useCallback(tn,sn)};react_production_min.useContext=function(tn){return U$2.current.useContext(tn)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tn){return U$2.current.useDeferredValue(tn)};react_production_min.useEffect=function(tn,sn){return U$2.current.useEffect(tn,sn)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(tn,sn,un){return U$2.current.useImperativeHandle(tn,sn,un)};react_production_min.useInsertionEffect=function(tn,sn){return U$2.current.useInsertionEffect(tn,sn)};react_production_min.useLayoutEffect=function(tn,sn){return U$2.current.useLayoutEffect(tn,sn)};react_production_min.useMemo=function(tn,sn){return U$2.current.useMemo(tn,sn)};react_production_min.useReducer=function(tn,sn,un){return U$2.current.useReducer(tn,sn,un)};react_production_min.useRef=function(tn){return U$2.current.useRef(tn)};react_production_min.useState=function(tn){return U$2.current.useState(tn)};react_production_min.useSyncExternalStore=function(tn,sn,un){return U$2.current.useSyncExternalStore(tn,sn,un)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(tn,sn,un){var dn,pn={},mn=null,hn=null;un!==void 0&&(mn=""+un),sn.key!==void 0&&(mn=""+sn.key),sn.ref!==void 0&&(hn=sn.ref);for(dn in sn)m$3.call(sn,dn)&&!p$3.hasOwnProperty(dn)&&(pn[dn]=sn[dn]);if(tn&&tn.defaultProps)for(dn in sn=tn.defaultProps,sn)pn[dn]===void 0&&(pn[dn]=sn[dn]);return{$$typeof:k$3,type:tn,key:mn,ref:hn,props:pn,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tn){function sn(Ln,zn){var Bn=Ln.length;Ln.push(zn);e:for(;0<Bn;){var Fn=Bn-1>>>1,Gn=Ln[Fn];if(0<pn(Gn,zn))Ln[Fn]=zn,Ln[Bn]=Gn,Bn=Fn;else break e}}function un(Ln){return Ln.length===0?null:Ln[0]}function dn(Ln){if(Ln.length===0)return null;var zn=Ln[0],Bn=Ln.pop();if(Bn!==zn){Ln[0]=Bn;e:for(var Fn=0,Gn=Ln.length,qn=Gn>>>1;Fn<qn;){var Jn=2*(Fn+1)-1,dr=Ln[Jn],br=Jn+1,Er=Ln[br];if(0>pn(dr,Bn))br<Gn&&0>pn(Er,dr)?(Ln[Fn]=Er,Ln[br]=Bn,Fn=br):(Ln[Fn]=dr,Ln[Jn]=Bn,Fn=Jn);else if(br<Gn&&0>pn(Er,Bn))Ln[Fn]=Er,Ln[br]=Bn,Fn=br;else break e}}return zn}function pn(Ln,zn){var Bn=Ln.sortIndex-zn.sortIndex;return Bn!==0?Bn:Ln.id-zn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var mn=performance;tn.unstable_now=function(){return mn.now()}}else{var hn=Date,fn=hn.now();tn.unstable_now=function(){return hn.now()-fn}}var gn=[],xn=[],yn=1,vn=null,En=3,bn=!1,wn=!1,Sn=!1,Rn=typeof setTimeout=="function"?setTimeout:null,_n=typeof clearTimeout=="function"?clearTimeout:null,jn=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Cn(Ln){for(var zn=un(xn);zn!==null;){if(zn.callback===null)dn(xn);else if(zn.startTime<=Ln)dn(xn),zn.sortIndex=zn.expirationTime,sn(gn,zn);else break;zn=un(xn)}}function An(Ln){if(Sn=!1,Cn(Ln),!wn)if(un(gn)!==null)wn=!0,Vn(Tn);else{var zn=un(xn);zn!==null&&Hn(An,zn.startTime-Ln)}}function Tn(Ln,zn){wn=!1,Sn&&(Sn=!1,_n(Nn),Nn=-1),bn=!0;var Bn=En;try{for(Cn(zn),vn=un(gn);vn!==null&&(!(vn.expirationTime>zn)||Ln&&!Mn());){var Fn=vn.callback;if(typeof Fn=="function"){vn.callback=null,En=vn.priorityLevel;var Gn=Fn(vn.expirationTime<=zn);zn=tn.unstable_now(),typeof Gn=="function"?vn.callback=Gn:vn===un(gn)&&dn(gn),Cn(zn)}else dn(gn);vn=un(gn)}if(vn!==null)var qn=!0;else{var Jn=un(xn);Jn!==null&&Hn(An,Jn.startTime-zn),qn=!1}return qn}finally{vn=null,En=Bn,bn=!1}}var $n=!1,Dn=null,Nn=-1,kn=5,Pn=-1;function Mn(){return!(tn.unstable_now()-Pn<kn)}function On(){if(Dn!==null){var Ln=tn.unstable_now();Pn=Ln;var zn=!0;try{zn=Dn(!0,Ln)}finally{zn?Wn():($n=!1,Dn=null)}}else $n=!1}var Wn;if(typeof jn=="function")Wn=function(){jn(On)};else if(typeof MessageChannel<"u"){var In=new MessageChannel,Un=In.port2;In.port1.onmessage=On,Wn=function(){Un.postMessage(null)}}else Wn=function(){Rn(On,0)};function Vn(Ln){Dn=Ln,$n||($n=!0,Wn())}function Hn(Ln,zn){Nn=Rn(function(){Ln(tn.unstable_now())},zn)}tn.unstable_IdlePriority=5,tn.unstable_ImmediatePriority=1,tn.unstable_LowPriority=4,tn.unstable_NormalPriority=3,tn.unstable_Profiling=null,tn.unstable_UserBlockingPriority=2,tn.unstable_cancelCallback=function(Ln){Ln.callback=null},tn.unstable_continueExecution=function(){wn||bn||(wn=!0,Vn(Tn))},tn.unstable_forceFrameRate=function(Ln){0>Ln||125<Ln?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):kn=0<Ln?Math.floor(1e3/Ln):5},tn.unstable_getCurrentPriorityLevel=function(){return En},tn.unstable_getFirstCallbackNode=function(){return un(gn)},tn.unstable_next=function(Ln){switch(En){case 1:case 2:case 3:var zn=3;break;default:zn=En}var Bn=En;En=zn;try{return Ln()}finally{En=Bn}},tn.unstable_pauseExecution=function(){},tn.unstable_requestPaint=function(){},tn.unstable_runWithPriority=function(Ln,zn){switch(Ln){case 1:case 2:case 3:case 4:case 5:break;default:Ln=3}var Bn=En;En=Ln;try{return zn()}finally{En=Bn}},tn.unstable_scheduleCallback=function(Ln,zn,Bn){var Fn=tn.unstable_now();switch(typeof Bn=="object"&&Bn!==null?(Bn=Bn.delay,Bn=typeof Bn=="number"&&0<Bn?Fn+Bn:Fn):Bn=Fn,Ln){case 1:var Gn=-1;break;case 2:Gn=250;break;case 5:Gn=1073741823;break;case 4:Gn=1e4;break;default:Gn=5e3}return Gn=Bn+Gn,Ln={id:yn++,callback:zn,priorityLevel:Ln,startTime:Bn,expirationTime:Gn,sortIndex:-1},Bn>Fn?(Ln.sortIndex=Bn,sn(xn,Ln),un(gn)===null&&Ln===un(xn)&&(Sn?(_n(Nn),Nn=-1):Sn=!0,Hn(An,Bn-Fn))):(Ln.sortIndex=Gn,sn(gn,Ln),wn||bn||(wn=!0,Vn(Tn))),Ln},tn.unstable_shouldYield=Mn,tn.unstable_wrapCallback=function(Ln){var zn=En;return function(){var Bn=En;En=zn;try{return Ln.apply(this,arguments)}finally{En=Bn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(tn){for(var sn="https://reactjs.org/docs/error-decoder.html?invariant="+tn,un=1;un<arguments.length;un++)sn+="&args[]="+encodeURIComponent(arguments[un]);return"Minified React error #"+tn+"; visit "+sn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tn,sn){ha(tn,sn),ha(tn+"Capture",sn)}function ha(tn,sn){for(ea[tn]=sn,tn=0;tn<sn.length;tn++)da.add(sn[tn])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(tn){return ja$1.call(ma,tn)?!0:ja$1.call(la,tn)?!1:ka$1.test(tn)?ma[tn]=!0:(la[tn]=!0,!1)}function pa(tn,sn,un,dn){if(un!==null&&un.type===0)return!1;switch(typeof sn){case"function":case"symbol":return!0;case"boolean":return dn?!1:un!==null?!un.acceptsBooleans:(tn=tn.toLowerCase().slice(0,5),tn!=="data-"&&tn!=="aria-");default:return!1}}function qa(tn,sn,un,dn){if(sn===null||typeof sn>"u"||pa(tn,sn,un,dn))return!0;if(dn)return!1;if(un!==null)switch(un.type){case 3:return!sn;case 4:return sn===!1;case 5:return isNaN(sn);case 6:return isNaN(sn)||1>sn}return!1}function v$2(tn,sn,un,dn,pn,mn,hn){this.acceptsBooleans=sn===2||sn===3||sn===4,this.attributeName=dn,this.attributeNamespace=pn,this.mustUseProperty=un,this.propertyName=tn,this.type=sn,this.sanitizeURL=mn,this.removeEmptyString=hn}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tn){z$2[tn]=new v$2(tn,0,!1,tn,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tn){var sn=tn[0];z$2[sn]=new v$2(sn,1,!1,tn[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tn){z$2[tn]=new v$2(tn,2,!1,tn.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tn){z$2[tn]=new v$2(tn,2,!1,tn,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tn){z$2[tn]=new v$2(tn,3,!1,tn.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tn){z$2[tn]=new v$2(tn,3,!0,tn,null,!1,!1)});["capture","download"].forEach(function(tn){z$2[tn]=new v$2(tn,4,!1,tn,null,!1,!1)});["cols","rows","size","span"].forEach(function(tn){z$2[tn]=new v$2(tn,6,!1,tn,null,!1,!1)});["rowSpan","start"].forEach(function(tn){z$2[tn]=new v$2(tn,5,!1,tn.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(tn){return tn[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tn){var sn=tn.replace(ra,sa);z$2[sn]=new v$2(sn,1,!1,tn,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tn){var sn=tn.replace(ra,sa);z$2[sn]=new v$2(sn,1,!1,tn,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tn){var sn=tn.replace(ra,sa);z$2[sn]=new v$2(sn,1,!1,tn,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tn){z$2[tn]=new v$2(tn,1,!1,tn.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tn){z$2[tn]=new v$2(tn,1,!1,tn.toLowerCase(),null,!0,!0)});function ta$2(tn,sn,un,dn){var pn=z$2.hasOwnProperty(sn)?z$2[sn]:null;(pn!==null?pn.type!==0:dn||!(2<sn.length)||sn[0]!=="o"&&sn[0]!=="O"||sn[1]!=="n"&&sn[1]!=="N")&&(qa(sn,un,pn,dn)&&(un=null),dn||pn===null?oa(sn)&&(un===null?tn.removeAttribute(sn):tn.setAttribute(sn,""+un)):pn.mustUseProperty?tn[pn.propertyName]=un===null?pn.type===3?!1:"":un:(sn=pn.attributeName,dn=pn.attributeNamespace,un===null?tn.removeAttribute(sn):(pn=pn.type,un=pn===3||pn===4&&un===!0?"":""+un,dn?tn.setAttributeNS(dn,sn,un):tn.setAttribute(sn,un))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(tn){return tn===null||typeof tn!="object"?null:(tn=Ja&&tn[Ja]||tn["@@iterator"],typeof tn=="function"?tn:null)}var A$1=Object.assign,La;function Ma(tn){if(La===void 0)try{throw Error()}catch(un){var sn=un.stack.trim().match(/\n( *(at )?)/);La=sn&&sn[1]||""}return`
`+La+tn}var Na=!1;function Oa(tn,sn){if(!tn||Na)return"";Na=!0;var un=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(sn)if(sn=function(){throw Error()},Object.defineProperty(sn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(sn,[])}catch(xn){var dn=xn}Reflect.construct(tn,[],sn)}else{try{sn.call()}catch(xn){dn=xn}tn.call(sn.prototype)}else{try{throw Error()}catch(xn){dn=xn}tn()}}catch(xn){if(xn&&dn&&typeof xn.stack=="string"){for(var pn=xn.stack.split(`
`),mn=dn.stack.split(`
`),hn=pn.length-1,fn=mn.length-1;1<=hn&&0<=fn&&pn[hn]!==mn[fn];)fn--;for(;1<=hn&&0<=fn;hn--,fn--)if(pn[hn]!==mn[fn]){if(hn!==1||fn!==1)do if(hn--,fn--,0>fn||pn[hn]!==mn[fn]){var gn=`
`+pn[hn].replace(" at new "," at ");return tn.displayName&&gn.includes("<anonymous>")&&(gn=gn.replace("<anonymous>",tn.displayName)),gn}while(1<=hn&&0<=fn);break}}}finally{Na=!1,Error.prepareStackTrace=un}return(tn=tn?tn.displayName||tn.name:"")?Ma(tn):""}function Pa(tn){switch(tn.tag){case 5:return Ma(tn.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return tn=Oa(tn.type,!1),tn;case 11:return tn=Oa(tn.type.render,!1),tn;case 1:return tn=Oa(tn.type,!0),tn;default:return""}}function Qa(tn){if(tn==null)return null;if(typeof tn=="function")return tn.displayName||tn.name||null;if(typeof tn=="string")return tn;switch(tn){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof tn=="object")switch(tn.$$typeof){case Ca:return(tn.displayName||"Context")+".Consumer";case Ba:return(tn._context.displayName||"Context")+".Provider";case Da:var sn=tn.render;return tn=tn.displayName,tn||(tn=sn.displayName||sn.name||"",tn=tn!==""?"ForwardRef("+tn+")":"ForwardRef"),tn;case Ga:return sn=tn.displayName||null,sn!==null?sn:Qa(tn.type)||"Memo";case Ha:sn=tn._payload,tn=tn._init;try{return Qa(tn(sn))}catch{}}return null}function Ra(tn){var sn=tn.type;switch(tn.tag){case 24:return"Cache";case 9:return(sn.displayName||"Context")+".Consumer";case 10:return(sn._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tn=sn.render,tn=tn.displayName||tn.name||"",sn.displayName||(tn!==""?"ForwardRef("+tn+")":"ForwardRef");case 7:return"Fragment";case 5:return sn;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(sn);case 8:return sn===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof sn=="function")return sn.displayName||sn.name||null;if(typeof sn=="string")return sn}return null}function Sa(tn){switch(typeof tn){case"boolean":case"number":case"string":case"undefined":return tn;case"object":return tn;default:return""}}function Ta(tn){var sn=tn.type;return(tn=tn.nodeName)&&tn.toLowerCase()==="input"&&(sn==="checkbox"||sn==="radio")}function Ua(tn){var sn=Ta(tn)?"checked":"value",un=Object.getOwnPropertyDescriptor(tn.constructor.prototype,sn),dn=""+tn[sn];if(!tn.hasOwnProperty(sn)&&typeof un<"u"&&typeof un.get=="function"&&typeof un.set=="function"){var pn=un.get,mn=un.set;return Object.defineProperty(tn,sn,{configurable:!0,get:function(){return pn.call(this)},set:function(hn){dn=""+hn,mn.call(this,hn)}}),Object.defineProperty(tn,sn,{enumerable:un.enumerable}),{getValue:function(){return dn},setValue:function(hn){dn=""+hn},stopTracking:function(){tn._valueTracker=null,delete tn[sn]}}}}function Va(tn){tn._valueTracker||(tn._valueTracker=Ua(tn))}function Wa(tn){if(!tn)return!1;var sn=tn._valueTracker;if(!sn)return!0;var un=sn.getValue(),dn="";return tn&&(dn=Ta(tn)?tn.checked?"true":"false":tn.value),tn=dn,tn!==un?(sn.setValue(tn),!0):!1}function Xa(tn){if(tn=tn||(typeof document<"u"?document:void 0),typeof tn>"u")return null;try{return tn.activeElement||tn.body}catch{return tn.body}}function Ya(tn,sn){var un=sn.checked;return A$1({},sn,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:un??tn._wrapperState.initialChecked})}function Za(tn,sn){var un=sn.defaultValue==null?"":sn.defaultValue,dn=sn.checked!=null?sn.checked:sn.defaultChecked;un=Sa(sn.value!=null?sn.value:un),tn._wrapperState={initialChecked:dn,initialValue:un,controlled:sn.type==="checkbox"||sn.type==="radio"?sn.checked!=null:sn.value!=null}}function ab(tn,sn){sn=sn.checked,sn!=null&&ta$2(tn,"checked",sn,!1)}function bb(tn,sn){ab(tn,sn);var un=Sa(sn.value),dn=sn.type;if(un!=null)dn==="number"?(un===0&&tn.value===""||tn.value!=un)&&(tn.value=""+un):tn.value!==""+un&&(tn.value=""+un);else if(dn==="submit"||dn==="reset"){tn.removeAttribute("value");return}sn.hasOwnProperty("value")?cb(tn,sn.type,un):sn.hasOwnProperty("defaultValue")&&cb(tn,sn.type,Sa(sn.defaultValue)),sn.checked==null&&sn.defaultChecked!=null&&(tn.defaultChecked=!!sn.defaultChecked)}function db(tn,sn,un){if(sn.hasOwnProperty("value")||sn.hasOwnProperty("defaultValue")){var dn=sn.type;if(!(dn!=="submit"&&dn!=="reset"||sn.value!==void 0&&sn.value!==null))return;sn=""+tn._wrapperState.initialValue,un||sn===tn.value||(tn.value=sn),tn.defaultValue=sn}un=tn.name,un!==""&&(tn.name=""),tn.defaultChecked=!!tn._wrapperState.initialChecked,un!==""&&(tn.name=un)}function cb(tn,sn,un){(sn!=="number"||Xa(tn.ownerDocument)!==tn)&&(un==null?tn.defaultValue=""+tn._wrapperState.initialValue:tn.defaultValue!==""+un&&(tn.defaultValue=""+un))}var eb=Array.isArray;function fb(tn,sn,un,dn){if(tn=tn.options,sn){sn={};for(var pn=0;pn<un.length;pn++)sn["$"+un[pn]]=!0;for(un=0;un<tn.length;un++)pn=sn.hasOwnProperty("$"+tn[un].value),tn[un].selected!==pn&&(tn[un].selected=pn),pn&&dn&&(tn[un].defaultSelected=!0)}else{for(un=""+Sa(un),sn=null,pn=0;pn<tn.length;pn++){if(tn[pn].value===un){tn[pn].selected=!0,dn&&(tn[pn].defaultSelected=!0);return}sn!==null||tn[pn].disabled||(sn=tn[pn])}sn!==null&&(sn.selected=!0)}}function gb(tn,sn){if(sn.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},sn,{value:void 0,defaultValue:void 0,children:""+tn._wrapperState.initialValue})}function hb(tn,sn){var un=sn.value;if(un==null){if(un=sn.children,sn=sn.defaultValue,un!=null){if(sn!=null)throw Error(p$2(92));if(eb(un)){if(1<un.length)throw Error(p$2(93));un=un[0]}sn=un}sn==null&&(sn=""),un=sn}tn._wrapperState={initialValue:Sa(un)}}function ib(tn,sn){var un=Sa(sn.value),dn=Sa(sn.defaultValue);un!=null&&(un=""+un,un!==tn.value&&(tn.value=un),sn.defaultValue==null&&tn.defaultValue!==un&&(tn.defaultValue=un)),dn!=null&&(tn.defaultValue=""+dn)}function jb(tn){var sn=tn.textContent;sn===tn._wrapperState.initialValue&&sn!==""&&sn!==null&&(tn.value=sn)}function kb(tn){switch(tn){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(tn,sn){return tn==null||tn==="http://www.w3.org/1999/xhtml"?kb(sn):tn==="http://www.w3.org/2000/svg"&&sn==="foreignObject"?"http://www.w3.org/1999/xhtml":tn}var mb,nb=function(tn){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(sn,un,dn,pn){MSApp.execUnsafeLocalFunction(function(){return tn(sn,un,dn,pn)})}:tn}(function(tn,sn){if(tn.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tn)tn.innerHTML=sn;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+sn.valueOf().toString()+"</svg>",sn=mb.firstChild;tn.firstChild;)tn.removeChild(tn.firstChild);for(;sn.firstChild;)tn.appendChild(sn.firstChild)}});function ob(tn,sn){if(sn){var un=tn.firstChild;if(un&&un===tn.lastChild&&un.nodeType===3){un.nodeValue=sn;return}}tn.textContent=sn}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(tn){qb.forEach(function(sn){sn=sn+tn.charAt(0).toUpperCase()+tn.substring(1),pb[sn]=pb[tn]})});function rb(tn,sn,un){return sn==null||typeof sn=="boolean"||sn===""?"":un||typeof sn!="number"||sn===0||pb.hasOwnProperty(tn)&&pb[tn]?(""+sn).trim():sn+"px"}function sb(tn,sn){tn=tn.style;for(var un in sn)if(sn.hasOwnProperty(un)){var dn=un.indexOf("--")===0,pn=rb(un,sn[un],dn);un==="float"&&(un="cssFloat"),dn?tn.setProperty(un,pn):tn[un]=pn}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(tn,sn){if(sn){if(tb[tn]&&(sn.children!=null||sn.dangerouslySetInnerHTML!=null))throw Error(p$2(137,tn));if(sn.dangerouslySetInnerHTML!=null){if(sn.children!=null)throw Error(p$2(60));if(typeof sn.dangerouslySetInnerHTML!="object"||!("__html"in sn.dangerouslySetInnerHTML))throw Error(p$2(61))}if(sn.style!=null&&typeof sn.style!="object")throw Error(p$2(62))}}function vb(tn,sn){if(tn.indexOf("-")===-1)return typeof sn.is=="string";switch(tn){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(tn){return tn=tn.target||tn.srcElement||window,tn.correspondingUseElement&&(tn=tn.correspondingUseElement),tn.nodeType===3?tn.parentNode:tn}var yb=null,zb=null,Ab=null;function Bb(tn){if(tn=Cb(tn)){if(typeof yb!="function")throw Error(p$2(280));var sn=tn.stateNode;sn&&(sn=Db(sn),yb(tn.stateNode,tn.type,sn))}}function Eb(tn){zb?Ab?Ab.push(tn):Ab=[tn]:zb=tn}function Fb(){if(zb){var tn=zb,sn=Ab;if(Ab=zb=null,Bb(tn),sn)for(tn=0;tn<sn.length;tn++)Bb(sn[tn])}}function Gb(tn,sn){return tn(sn)}function Hb(){}var Ib=!1;function Jb(tn,sn,un){if(Ib)return tn(sn,un);Ib=!0;try{return Gb(tn,sn,un)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(tn,sn){var un=tn.stateNode;if(un===null)return null;var dn=Db(un);if(dn===null)return null;un=dn[sn];e:switch(sn){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(dn=!dn.disabled)||(tn=tn.type,dn=!(tn==="button"||tn==="input"||tn==="select"||tn==="textarea")),tn=!dn;break e;default:tn=!1}if(tn)return null;if(un&&typeof un!="function")throw Error(p$2(231,sn,typeof un));return un}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(tn,sn,un,dn,pn,mn,hn,fn,gn){var xn=Array.prototype.slice.call(arguments,3);try{sn.apply(un,xn)}catch(yn){this.onError(yn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(tn){Ob=!0,Pb=tn}};function Tb(tn,sn,un,dn,pn,mn,hn,fn,gn){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(tn,sn,un,dn,pn,mn,hn,fn,gn){if(Tb.apply(this,arguments),Ob){if(Ob){var xn=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=xn)}}function Vb(tn){var sn=tn,un=tn;if(tn.alternate)for(;sn.return;)sn=sn.return;else{tn=sn;do sn=tn,sn.flags&4098&&(un=sn.return),tn=sn.return;while(tn)}return sn.tag===3?un:null}function Wb(tn){if(tn.tag===13){var sn=tn.memoizedState;if(sn===null&&(tn=tn.alternate,tn!==null&&(sn=tn.memoizedState)),sn!==null)return sn.dehydrated}return null}function Xb(tn){if(Vb(tn)!==tn)throw Error(p$2(188))}function Yb(tn){var sn=tn.alternate;if(!sn){if(sn=Vb(tn),sn===null)throw Error(p$2(188));return sn!==tn?null:tn}for(var un=tn,dn=sn;;){var pn=un.return;if(pn===null)break;var mn=pn.alternate;if(mn===null){if(dn=pn.return,dn!==null){un=dn;continue}break}if(pn.child===mn.child){for(mn=pn.child;mn;){if(mn===un)return Xb(pn),tn;if(mn===dn)return Xb(pn),sn;mn=mn.sibling}throw Error(p$2(188))}if(un.return!==dn.return)un=pn,dn=mn;else{for(var hn=!1,fn=pn.child;fn;){if(fn===un){hn=!0,un=pn,dn=mn;break}if(fn===dn){hn=!0,dn=pn,un=mn;break}fn=fn.sibling}if(!hn){for(fn=mn.child;fn;){if(fn===un){hn=!0,un=mn,dn=pn;break}if(fn===dn){hn=!0,dn=mn,un=pn;break}fn=fn.sibling}if(!hn)throw Error(p$2(189))}}if(un.alternate!==dn)throw Error(p$2(190))}if(un.tag!==3)throw Error(p$2(188));return un.stateNode.current===un?tn:sn}function Zb(tn){return tn=Yb(tn),tn!==null?$b(tn):null}function $b(tn){if(tn.tag===5||tn.tag===6)return tn;for(tn=tn.child;tn!==null;){var sn=$b(tn);if(sn!==null)return sn;tn=tn.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(tn){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,tn,void 0,(tn.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(tn){return tn>>>=0,tn===0?32:31-(pc(tn)/qc|0)|0}var rc=64,sc=4194304;function tc(tn){switch(tn&-tn){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tn&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tn&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tn}}function uc(tn,sn){var un=tn.pendingLanes;if(un===0)return 0;var dn=0,pn=tn.suspendedLanes,mn=tn.pingedLanes,hn=un&268435455;if(hn!==0){var fn=hn&~pn;fn!==0?dn=tc(fn):(mn&=hn,mn!==0&&(dn=tc(mn)))}else hn=un&~pn,hn!==0?dn=tc(hn):mn!==0&&(dn=tc(mn));if(dn===0)return 0;if(sn!==0&&sn!==dn&&!(sn&pn)&&(pn=dn&-dn,mn=sn&-sn,pn>=mn||pn===16&&(mn&4194240)!==0))return sn;if(dn&4&&(dn|=un&16),sn=tn.entangledLanes,sn!==0)for(tn=tn.entanglements,sn&=dn;0<sn;)un=31-oc(sn),pn=1<<un,dn|=tn[un],sn&=~pn;return dn}function vc(tn,sn){switch(tn){case 1:case 2:case 4:return sn+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return sn+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(tn,sn){for(var un=tn.suspendedLanes,dn=tn.pingedLanes,pn=tn.expirationTimes,mn=tn.pendingLanes;0<mn;){var hn=31-oc(mn),fn=1<<hn,gn=pn[hn];gn===-1?(!(fn&un)||fn&dn)&&(pn[hn]=vc(fn,sn)):gn<=sn&&(tn.expiredLanes|=fn),mn&=~fn}}function xc(tn){return tn=tn.pendingLanes&-1073741825,tn!==0?tn:tn&1073741824?1073741824:0}function yc(){var tn=rc;return rc<<=1,!(rc&4194240)&&(rc=64),tn}function zc(tn){for(var sn=[],un=0;31>un;un++)sn.push(tn);return sn}function Ac(tn,sn,un){tn.pendingLanes|=sn,sn!==536870912&&(tn.suspendedLanes=0,tn.pingedLanes=0),tn=tn.eventTimes,sn=31-oc(sn),tn[sn]=un}function Bc(tn,sn){var un=tn.pendingLanes&~sn;tn.pendingLanes=sn,tn.suspendedLanes=0,tn.pingedLanes=0,tn.expiredLanes&=sn,tn.mutableReadLanes&=sn,tn.entangledLanes&=sn,sn=tn.entanglements;var dn=tn.eventTimes;for(tn=tn.expirationTimes;0<un;){var pn=31-oc(un),mn=1<<pn;sn[pn]=0,dn[pn]=-1,tn[pn]=-1,un&=~mn}}function Cc(tn,sn){var un=tn.entangledLanes|=sn;for(tn=tn.entanglements;un;){var dn=31-oc(un),pn=1<<dn;pn&sn|tn[dn]&sn&&(tn[dn]|=sn),un&=~pn}}var C$1=0;function Dc(tn){return tn&=-tn,1<tn?4<tn?tn&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(tn,sn){switch(tn){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(sn.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(sn.pointerId)}}function Tc(tn,sn,un,dn,pn,mn){return tn===null||tn.nativeEvent!==mn?(tn={blockedOn:sn,domEventName:un,eventSystemFlags:dn,nativeEvent:mn,targetContainers:[pn]},sn!==null&&(sn=Cb(sn),sn!==null&&Fc(sn)),tn):(tn.eventSystemFlags|=dn,sn=tn.targetContainers,pn!==null&&sn.indexOf(pn)===-1&&sn.push(pn),tn)}function Uc(tn,sn,un,dn,pn){switch(sn){case"focusin":return Lc=Tc(Lc,tn,sn,un,dn,pn),!0;case"dragenter":return Mc=Tc(Mc,tn,sn,un,dn,pn),!0;case"mouseover":return Nc=Tc(Nc,tn,sn,un,dn,pn),!0;case"pointerover":var mn=pn.pointerId;return Oc.set(mn,Tc(Oc.get(mn)||null,tn,sn,un,dn,pn)),!0;case"gotpointercapture":return mn=pn.pointerId,Pc.set(mn,Tc(Pc.get(mn)||null,tn,sn,un,dn,pn)),!0}return!1}function Vc(tn){var sn=Wc(tn.target);if(sn!==null){var un=Vb(sn);if(un!==null){if(sn=un.tag,sn===13){if(sn=Wb(un),sn!==null){tn.blockedOn=sn,Ic(tn.priority,function(){Gc(un)});return}}else if(sn===3&&un.stateNode.current.memoizedState.isDehydrated){tn.blockedOn=un.tag===3?un.stateNode.containerInfo:null;return}}}tn.blockedOn=null}function Xc(tn){if(tn.blockedOn!==null)return!1;for(var sn=tn.targetContainers;0<sn.length;){var un=Yc(tn.domEventName,tn.eventSystemFlags,sn[0],tn.nativeEvent);if(un===null){un=tn.nativeEvent;var dn=new un.constructor(un.type,un);wb=dn,un.target.dispatchEvent(dn),wb=null}else return sn=Cb(un),sn!==null&&Fc(sn),tn.blockedOn=un,!1;sn.shift()}return!0}function Zc(tn,sn,un){Xc(tn)&&un.delete(sn)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(tn,sn){tn.blockedOn===sn&&(tn.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(tn){function sn(pn){return ad(pn,tn)}if(0<Kc.length){ad(Kc[0],tn);for(var un=1;un<Kc.length;un++){var dn=Kc[un];dn.blockedOn===tn&&(dn.blockedOn=null)}}for(Lc!==null&&ad(Lc,tn),Mc!==null&&ad(Mc,tn),Nc!==null&&ad(Nc,tn),Oc.forEach(sn),Pc.forEach(sn),un=0;un<Qc.length;un++)dn=Qc[un],dn.blockedOn===tn&&(dn.blockedOn=null);for(;0<Qc.length&&(un=Qc[0],un.blockedOn===null);)Vc(un),un.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(tn,sn,un,dn){var pn=C$1,mn=cd.transition;cd.transition=null;try{C$1=1,fd(tn,sn,un,dn)}finally{C$1=pn,cd.transition=mn}}function gd(tn,sn,un,dn){var pn=C$1,mn=cd.transition;cd.transition=null;try{C$1=4,fd(tn,sn,un,dn)}finally{C$1=pn,cd.transition=mn}}function fd(tn,sn,un,dn){if(dd){var pn=Yc(tn,sn,un,dn);if(pn===null)hd(tn,sn,dn,id$3,un),Sc(tn,dn);else if(Uc(pn,tn,sn,un,dn))dn.stopPropagation();else if(Sc(tn,dn),sn&4&&-1<Rc.indexOf(tn)){for(;pn!==null;){var mn=Cb(pn);if(mn!==null&&Ec(mn),mn=Yc(tn,sn,un,dn),mn===null&&hd(tn,sn,dn,id$3,un),mn===pn)break;pn=mn}pn!==null&&dn.stopPropagation()}else hd(tn,sn,dn,null,un)}}var id$3=null;function Yc(tn,sn,un,dn){if(id$3=null,tn=xb(dn),tn=Wc(tn),tn!==null)if(sn=Vb(tn),sn===null)tn=null;else if(un=sn.tag,un===13){if(tn=Wb(sn),tn!==null)return tn;tn=null}else if(un===3){if(sn.stateNode.current.memoizedState.isDehydrated)return sn.tag===3?sn.stateNode.containerInfo:null;tn=null}else sn!==tn&&(tn=null);return id$3=tn,null}function jd(tn){switch(tn){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var tn,sn=ld,un=sn.length,dn,pn="value"in kd?kd.value:kd.textContent,mn=pn.length;for(tn=0;tn<un&&sn[tn]===pn[tn];tn++);var hn=un-tn;for(dn=1;dn<=hn&&sn[un-dn]===pn[mn-dn];dn++);return md=pn.slice(tn,1<dn?1-dn:void 0)}function od(tn){var sn=tn.keyCode;return"charCode"in tn?(tn=tn.charCode,tn===0&&sn===13&&(tn=13)):tn=sn,tn===10&&(tn=13),32<=tn||tn===13?tn:0}function pd(){return!0}function qd(){return!1}function rd(tn){function sn(un,dn,pn,mn,hn){this._reactName=un,this._targetInst=pn,this.type=dn,this.nativeEvent=mn,this.target=hn,this.currentTarget=null;for(var fn in tn)tn.hasOwnProperty(fn)&&(un=tn[fn],this[fn]=un?un(mn):mn[fn]);return this.isDefaultPrevented=(mn.defaultPrevented!=null?mn.defaultPrevented:mn.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(sn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var un=this.nativeEvent;un&&(un.preventDefault?un.preventDefault():typeof un.returnValue!="unknown"&&(un.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var un=this.nativeEvent;un&&(un.stopPropagation?un.stopPropagation():typeof un.cancelBubble!="unknown"&&(un.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),sn}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tn){return tn.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(tn){return tn.relatedTarget===void 0?tn.fromElement===tn.srcElement?tn.toElement:tn.fromElement:tn.relatedTarget},movementX:function(tn){return"movementX"in tn?tn.movementX:(tn!==yd&&(yd&&tn.type==="mousemove"?(wd=tn.screenX-yd.screenX,xd=tn.screenY-yd.screenY):xd=wd=0,yd=tn),wd)},movementY:function(tn){return"movementY"in tn?tn.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(tn){return"clipboardData"in tn?tn.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(tn){var sn=this.nativeEvent;return sn.getModifierState?sn.getModifierState(tn):(tn=Od[tn])?!!sn[tn]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(tn){if(tn.key){var sn=Md[tn.key]||tn.key;if(sn!=="Unidentified")return sn}return tn.type==="keypress"?(tn=od(tn),tn===13?"Enter":String.fromCharCode(tn)):tn.type==="keydown"||tn.type==="keyup"?Nd[tn.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(tn){return tn.type==="keypress"?od(tn):0},keyCode:function(tn){return tn.type==="keydown"||tn.type==="keyup"?tn.keyCode:0},which:function(tn){return tn.type==="keypress"?od(tn):tn.type==="keydown"||tn.type==="keyup"?tn.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(tn){return"deltaX"in tn?tn.deltaX:"wheelDeltaX"in tn?-tn.wheelDeltaX:0},deltaY:function(tn){return"deltaY"in tn?tn.deltaY:"wheelDeltaY"in tn?-tn.wheelDeltaY:"wheelDelta"in tn?-tn.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$2=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(tn,sn){switch(tn){case"keyup":return $d.indexOf(sn.keyCode)!==-1;case"keydown":return sn.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(tn){return tn=tn.detail,typeof tn=="object"&&"data"in tn?tn.data:null}var ie$1=!1;function je$1(tn,sn){switch(tn){case"compositionend":return he$1(sn);case"keypress":return sn.which!==32?null:(fe$1=!0,ee$1);case"textInput":return tn=sn.data,tn===ee$1&&fe$1?null:tn;default:return null}}function ke$1(tn,sn){if(ie$1)return tn==="compositionend"||!ae$1&&ge$1(tn,sn)?(tn=nd(),md=ld=kd=null,ie$1=!1,tn):null;switch(tn){case"paste":return null;case"keypress":if(!(sn.ctrlKey||sn.altKey||sn.metaKey)||sn.ctrlKey&&sn.altKey){if(sn.char&&1<sn.char.length)return sn.char;if(sn.which)return String.fromCharCode(sn.which)}return null;case"compositionend":return de$2&&sn.locale!=="ko"?null:sn.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(tn){var sn=tn&&tn.nodeName&&tn.nodeName.toLowerCase();return sn==="input"?!!le$1[tn.type]:sn==="textarea"}function ne$1(tn,sn,un,dn){Eb(dn),sn=oe$1(sn,"onChange"),0<sn.length&&(un=new td("onChange","change",null,un,dn),tn.push({event:un,listeners:sn}))}var pe$1=null,qe$1=null;function re$4(tn){se$1(tn,0)}function te$1(tn){var sn=ue$1(tn);if(Wa(sn))return tn}function ve$1(tn,sn){if(tn==="change")return sn}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(tn){if(tn.propertyName==="value"&&te$1(qe$1)){var sn=[];ne$1(sn,qe$1,tn,xb(tn)),Jb(re$4,sn)}}function Ce$1(tn,sn,un){tn==="focusin"?(Ae(),pe$1=sn,qe$1=un,pe$1.attachEvent("onpropertychange",Be$1)):tn==="focusout"&&Ae()}function De$1(tn){if(tn==="selectionchange"||tn==="keyup"||tn==="keydown")return te$1(qe$1)}function Ee$1(tn,sn){if(tn==="click")return te$1(sn)}function Fe$1(tn,sn){if(tn==="input"||tn==="change")return te$1(sn)}function Ge$1(tn,sn){return tn===sn&&(tn!==0||1/tn===1/sn)||tn!==tn&&sn!==sn}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(tn,sn){if(He$1(tn,sn))return!0;if(typeof tn!="object"||tn===null||typeof sn!="object"||sn===null)return!1;var un=Object.keys(tn),dn=Object.keys(sn);if(un.length!==dn.length)return!1;for(dn=0;dn<un.length;dn++){var pn=un[dn];if(!ja$1.call(sn,pn)||!He$1(tn[pn],sn[pn]))return!1}return!0}function Je$1(tn){for(;tn&&tn.firstChild;)tn=tn.firstChild;return tn}function Ke$1(tn,sn){var un=Je$1(tn);tn=0;for(var dn;un;){if(un.nodeType===3){if(dn=tn+un.textContent.length,tn<=sn&&dn>=sn)return{node:un,offset:sn-tn};tn=dn}e:{for(;un;){if(un.nextSibling){un=un.nextSibling;break e}un=un.parentNode}un=void 0}un=Je$1(un)}}function Le$1(tn,sn){return tn&&sn?tn===sn?!0:tn&&tn.nodeType===3?!1:sn&&sn.nodeType===3?Le$1(tn,sn.parentNode):"contains"in tn?tn.contains(sn):tn.compareDocumentPosition?!!(tn.compareDocumentPosition(sn)&16):!1:!1}function Me$1(){for(var tn=window,sn=Xa();sn instanceof tn.HTMLIFrameElement;){try{var un=typeof sn.contentWindow.location.href=="string"}catch{un=!1}if(un)tn=sn.contentWindow;else break;sn=Xa(tn.document)}return sn}function Ne$1(tn){var sn=tn&&tn.nodeName&&tn.nodeName.toLowerCase();return sn&&(sn==="input"&&(tn.type==="text"||tn.type==="search"||tn.type==="tel"||tn.type==="url"||tn.type==="password")||sn==="textarea"||tn.contentEditable==="true")}function Oe$1(tn){var sn=Me$1(),un=tn.focusedElem,dn=tn.selectionRange;if(sn!==un&&un&&un.ownerDocument&&Le$1(un.ownerDocument.documentElement,un)){if(dn!==null&&Ne$1(un)){if(sn=dn.start,tn=dn.end,tn===void 0&&(tn=sn),"selectionStart"in un)un.selectionStart=sn,un.selectionEnd=Math.min(tn,un.value.length);else if(tn=(sn=un.ownerDocument||document)&&sn.defaultView||window,tn.getSelection){tn=tn.getSelection();var pn=un.textContent.length,mn=Math.min(dn.start,pn);dn=dn.end===void 0?mn:Math.min(dn.end,pn),!tn.extend&&mn>dn&&(pn=dn,dn=mn,mn=pn),pn=Ke$1(un,mn);var hn=Ke$1(un,dn);pn&&hn&&(tn.rangeCount!==1||tn.anchorNode!==pn.node||tn.anchorOffset!==pn.offset||tn.focusNode!==hn.node||tn.focusOffset!==hn.offset)&&(sn=sn.createRange(),sn.setStart(pn.node,pn.offset),tn.removeAllRanges(),mn>dn?(tn.addRange(sn),tn.extend(hn.node,hn.offset)):(sn.setEnd(hn.node,hn.offset),tn.addRange(sn)))}}for(sn=[],tn=un;tn=tn.parentNode;)tn.nodeType===1&&sn.push({element:tn,left:tn.scrollLeft,top:tn.scrollTop});for(typeof un.focus=="function"&&un.focus(),un=0;un<sn.length;un++)tn=sn[un],tn.element.scrollLeft=tn.left,tn.element.scrollTop=tn.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(tn,sn,un){var dn=un.window===un?un.document:un.nodeType===9?un:un.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(dn)||(dn=Qe$1,"selectionStart"in dn&&Ne$1(dn)?dn={start:dn.selectionStart,end:dn.selectionEnd}:(dn=(dn.ownerDocument&&dn.ownerDocument.defaultView||window).getSelection(),dn={anchorNode:dn.anchorNode,anchorOffset:dn.anchorOffset,focusNode:dn.focusNode,focusOffset:dn.focusOffset}),Se$1&&Ie$1(Se$1,dn)||(Se$1=dn,dn=oe$1(Re$1,"onSelect"),0<dn.length&&(sn=new td("onSelect","select",null,sn,un),tn.push({event:sn,listeners:dn}),sn.target=Qe$1)))}function Ve$1(tn,sn){var un={};return un[tn.toLowerCase()]=sn.toLowerCase(),un["Webkit"+tn]="webkit"+sn,un["Moz"+tn]="moz"+sn,un}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(tn){if(Xe$1[tn])return Xe$1[tn];if(!We$1[tn])return tn;var sn=We$1[tn],un;for(un in sn)if(sn.hasOwnProperty(un)&&un in Ye$1)return Xe$1[tn]=sn[un];return tn}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(tn,sn){df.set(tn,sn),fa(sn,[tn])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(tn,sn,un){var dn=tn.type||"unknown-event";tn.currentTarget=un,Ub(dn,sn,void 0,tn),tn.currentTarget=null}function se$1(tn,sn){sn=(sn&4)!==0;for(var un=0;un<tn.length;un++){var dn=tn[un],pn=dn.event;dn=dn.listeners;e:{var mn=void 0;if(sn)for(var hn=dn.length-1;0<=hn;hn--){var fn=dn[hn],gn=fn.instance,xn=fn.currentTarget;if(fn=fn.listener,gn!==mn&&pn.isPropagationStopped())break e;nf(pn,fn,xn),mn=gn}else for(hn=0;hn<dn.length;hn++){if(fn=dn[hn],gn=fn.instance,xn=fn.currentTarget,fn=fn.listener,gn!==mn&&pn.isPropagationStopped())break e;nf(pn,fn,xn),mn=gn}}}if(Qb)throw tn=Rb,Qb=!1,Rb=null,tn}function D$1(tn,sn){var un=sn[of];un===void 0&&(un=sn[of]=new Set);var dn=tn+"__bubble";un.has(dn)||(pf(sn,tn,2,!1),un.add(dn))}function qf(tn,sn,un){var dn=0;sn&&(dn|=4),pf(un,tn,dn,sn)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(tn){if(!tn[rf]){tn[rf]=!0,da.forEach(function(un){un!=="selectionchange"&&(mf.has(un)||qf(un,!1,tn),qf(un,!0,tn))});var sn=tn.nodeType===9?tn:tn.ownerDocument;sn===null||sn[rf]||(sn[rf]=!0,qf("selectionchange",!1,sn))}}function pf(tn,sn,un,dn){switch(jd(sn)){case 1:var pn=ed;break;case 4:pn=gd;break;default:pn=fd}un=pn.bind(null,sn,un,tn),pn=void 0,!Lb||sn!=="touchstart"&&sn!=="touchmove"&&sn!=="wheel"||(pn=!0),dn?pn!==void 0?tn.addEventListener(sn,un,{capture:!0,passive:pn}):tn.addEventListener(sn,un,!0):pn!==void 0?tn.addEventListener(sn,un,{passive:pn}):tn.addEventListener(sn,un,!1)}function hd(tn,sn,un,dn,pn){var mn=dn;if(!(sn&1)&&!(sn&2)&&dn!==null)e:for(;;){if(dn===null)return;var hn=dn.tag;if(hn===3||hn===4){var fn=dn.stateNode.containerInfo;if(fn===pn||fn.nodeType===8&&fn.parentNode===pn)break;if(hn===4)for(hn=dn.return;hn!==null;){var gn=hn.tag;if((gn===3||gn===4)&&(gn=hn.stateNode.containerInfo,gn===pn||gn.nodeType===8&&gn.parentNode===pn))return;hn=hn.return}for(;fn!==null;){if(hn=Wc(fn),hn===null)return;if(gn=hn.tag,gn===5||gn===6){dn=mn=hn;continue e}fn=fn.parentNode}}dn=dn.return}Jb(function(){var xn=mn,yn=xb(un),vn=[];e:{var En=df.get(tn);if(En!==void 0){var bn=td,wn=tn;switch(tn){case"keypress":if(od(un)===0)break e;case"keydown":case"keyup":bn=Rd;break;case"focusin":wn="focus",bn=Fd;break;case"focusout":wn="blur",bn=Fd;break;case"beforeblur":case"afterblur":bn=Fd;break;case"click":if(un.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bn=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bn=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bn=Vd;break;case $e$1:case af:case bf:bn=Hd;break;case cf:bn=Xd;break;case"scroll":bn=vd;break;case"wheel":bn=Zd;break;case"copy":case"cut":case"paste":bn=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bn=Td}var Sn=(sn&4)!==0,Rn=!Sn&&tn==="scroll",_n=Sn?En!==null?En+"Capture":null:En;Sn=[];for(var jn=xn,Cn;jn!==null;){Cn=jn;var An=Cn.stateNode;if(Cn.tag===5&&An!==null&&(Cn=An,_n!==null&&(An=Kb(jn,_n),An!=null&&Sn.push(tf(jn,An,Cn)))),Rn)break;jn=jn.return}0<Sn.length&&(En=new bn(En,wn,null,un,yn),vn.push({event:En,listeners:Sn}))}}if(!(sn&7)){e:{if(En=tn==="mouseover"||tn==="pointerover",bn=tn==="mouseout"||tn==="pointerout",En&&un!==wb&&(wn=un.relatedTarget||un.fromElement)&&(Wc(wn)||wn[uf]))break e;if((bn||En)&&(En=yn.window===yn?yn:(En=yn.ownerDocument)?En.defaultView||En.parentWindow:window,bn?(wn=un.relatedTarget||un.toElement,bn=xn,wn=wn?Wc(wn):null,wn!==null&&(Rn=Vb(wn),wn!==Rn||wn.tag!==5&&wn.tag!==6)&&(wn=null)):(bn=null,wn=xn),bn!==wn)){if(Sn=Bd,An="onMouseLeave",_n="onMouseEnter",jn="mouse",(tn==="pointerout"||tn==="pointerover")&&(Sn=Td,An="onPointerLeave",_n="onPointerEnter",jn="pointer"),Rn=bn==null?En:ue$1(bn),Cn=wn==null?En:ue$1(wn),En=new Sn(An,jn+"leave",bn,un,yn),En.target=Rn,En.relatedTarget=Cn,An=null,Wc(yn)===xn&&(Sn=new Sn(_n,jn+"enter",wn,un,yn),Sn.target=Cn,Sn.relatedTarget=Rn,An=Sn),Rn=An,bn&&wn)t:{for(Sn=bn,_n=wn,jn=0,Cn=Sn;Cn;Cn=vf(Cn))jn++;for(Cn=0,An=_n;An;An=vf(An))Cn++;for(;0<jn-Cn;)Sn=vf(Sn),jn--;for(;0<Cn-jn;)_n=vf(_n),Cn--;for(;jn--;){if(Sn===_n||_n!==null&&Sn===_n.alternate)break t;Sn=vf(Sn),_n=vf(_n)}Sn=null}else Sn=null;bn!==null&&wf(vn,En,bn,Sn,!1),wn!==null&&Rn!==null&&wf(vn,Rn,wn,Sn,!0)}}e:{if(En=xn?ue$1(xn):window,bn=En.nodeName&&En.nodeName.toLowerCase(),bn==="select"||bn==="input"&&En.type==="file")var Tn=ve$1;else if(me$1(En))if(we$1)Tn=Fe$1;else{Tn=De$1;var $n=Ce$1}else(bn=En.nodeName)&&bn.toLowerCase()==="input"&&(En.type==="checkbox"||En.type==="radio")&&(Tn=Ee$1);if(Tn&&(Tn=Tn(tn,xn))){ne$1(vn,Tn,un,yn);break e}$n&&$n(tn,En,xn),tn==="focusout"&&($n=En._wrapperState)&&$n.controlled&&En.type==="number"&&cb(En,"number",En.value)}switch($n=xn?ue$1(xn):window,tn){case"focusin":(me$1($n)||$n.contentEditable==="true")&&(Qe$1=$n,Re$1=xn,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(vn,un,yn);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(vn,un,yn)}var Dn;if(ae$1)e:{switch(tn){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else ie$1?ge$1(tn,un)&&(Nn="onCompositionEnd"):tn==="keydown"&&un.keyCode===229&&(Nn="onCompositionStart");Nn&&(de$2&&un.locale!=="ko"&&(ie$1||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&ie$1&&(Dn=nd()):(kd=yn,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),$n=oe$1(xn,Nn),0<$n.length&&(Nn=new Ld(Nn,tn,null,un,yn),vn.push({event:Nn,listeners:$n}),Dn?Nn.data=Dn:(Dn=he$1(un),Dn!==null&&(Nn.data=Dn)))),(Dn=ce$1?je$1(tn,un):ke$1(tn,un))&&(xn=oe$1(xn,"onBeforeInput"),0<xn.length&&(yn=new Ld("onBeforeInput","beforeinput",null,un,yn),vn.push({event:yn,listeners:xn}),yn.data=Dn))}se$1(vn,sn)})}function tf(tn,sn,un){return{instance:tn,listener:sn,currentTarget:un}}function oe$1(tn,sn){for(var un=sn+"Capture",dn=[];tn!==null;){var pn=tn,mn=pn.stateNode;pn.tag===5&&mn!==null&&(pn=mn,mn=Kb(tn,un),mn!=null&&dn.unshift(tf(tn,mn,pn)),mn=Kb(tn,sn),mn!=null&&dn.push(tf(tn,mn,pn))),tn=tn.return}return dn}function vf(tn){if(tn===null)return null;do tn=tn.return;while(tn&&tn.tag!==5);return tn||null}function wf(tn,sn,un,dn,pn){for(var mn=sn._reactName,hn=[];un!==null&&un!==dn;){var fn=un,gn=fn.alternate,xn=fn.stateNode;if(gn!==null&&gn===dn)break;fn.tag===5&&xn!==null&&(fn=xn,pn?(gn=Kb(un,mn),gn!=null&&hn.unshift(tf(un,gn,fn))):pn||(gn=Kb(un,mn),gn!=null&&hn.push(tf(un,gn,fn)))),un=un.return}hn.length!==0&&tn.push({event:sn,listeners:hn})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(tn){return(typeof tn=="string"?tn:""+tn).replace(xf,`
`).replace(yf,"")}function Af(tn,sn,un){if(sn=zf(sn),zf(tn)!==sn&&un)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(tn,sn){return tn==="textarea"||tn==="noscript"||typeof sn.children=="string"||typeof sn.children=="number"||typeof sn.dangerouslySetInnerHTML=="object"&&sn.dangerouslySetInnerHTML!==null&&sn.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(tn){return Hf.resolve(null).then(tn).catch(If)}:Ff;function If(tn){setTimeout(function(){throw tn})}function Kf(tn,sn){var un=sn,dn=0;do{var pn=un.nextSibling;if(tn.removeChild(un),pn&&pn.nodeType===8)if(un=pn.data,un==="/$"){if(dn===0){tn.removeChild(pn),bd(sn);return}dn--}else un!=="$"&&un!=="$?"&&un!=="$!"||dn++;un=pn}while(un);bd(sn)}function Lf(tn){for(;tn!=null;tn=tn.nextSibling){var sn=tn.nodeType;if(sn===1||sn===3)break;if(sn===8){if(sn=tn.data,sn==="$"||sn==="$!"||sn==="$?")break;if(sn==="/$")return null}}return tn}function Mf(tn){tn=tn.previousSibling;for(var sn=0;tn;){if(tn.nodeType===8){var un=tn.data;if(un==="$"||un==="$!"||un==="$?"){if(sn===0)return tn;sn--}else un==="/$"&&sn++}tn=tn.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(tn){var sn=tn[Of];if(sn)return sn;for(var un=tn.parentNode;un;){if(sn=un[uf]||un[Of]){if(un=sn.alternate,sn.child!==null||un!==null&&un.child!==null)for(tn=Mf(tn);tn!==null;){if(un=tn[Of])return un;tn=Mf(tn)}return sn}tn=un,un=tn.parentNode}return null}function Cb(tn){return tn=tn[Of]||tn[uf],!tn||tn.tag!==5&&tn.tag!==6&&tn.tag!==13&&tn.tag!==3?null:tn}function ue$1(tn){if(tn.tag===5||tn.tag===6)return tn.stateNode;throw Error(p$2(33))}function Db(tn){return tn[Pf]||null}var Sf=[],Tf=-1;function Uf(tn){return{current:tn}}function E$1(tn){0>Tf||(tn.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(tn,sn){Tf++,Sf[Tf]=tn.current,tn.current=sn}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(tn,sn){var un=tn.type.contextTypes;if(!un)return Vf;var dn=tn.stateNode;if(dn&&dn.__reactInternalMemoizedUnmaskedChildContext===sn)return dn.__reactInternalMemoizedMaskedChildContext;var pn={},mn;for(mn in un)pn[mn]=sn[mn];return dn&&(tn=tn.stateNode,tn.__reactInternalMemoizedUnmaskedChildContext=sn,tn.__reactInternalMemoizedMaskedChildContext=pn),pn}function Zf(tn){return tn=tn.childContextTypes,tn!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(tn,sn,un){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,sn),G$1(Wf,un)}function bg(tn,sn,un){var dn=tn.stateNode;if(sn=sn.childContextTypes,typeof dn.getChildContext!="function")return un;dn=dn.getChildContext();for(var pn in dn)if(!(pn in sn))throw Error(p$2(108,Ra(tn)||"Unknown",pn));return A$1({},un,dn)}function cg(tn){return tn=(tn=tn.stateNode)&&tn.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,tn),G$1(Wf,Wf.current),!0}function dg(tn,sn,un){var dn=tn.stateNode;if(!dn)throw Error(p$2(169));un?(tn=bg(tn,sn,Xf),dn.__reactInternalMemoizedMergedChildContext=tn,E$1(Wf),E$1(H$1),G$1(H$1,tn)):E$1(Wf),G$1(Wf,un)}var eg=null,fg=!1,gg=!1;function hg(tn){eg===null?eg=[tn]:eg.push(tn)}function ig(tn){fg=!0,hg(tn)}function jg(){if(!gg&&eg!==null){gg=!0;var tn=0,sn=C$1;try{var un=eg;for(C$1=1;tn<un.length;tn++){var dn=un[tn];do dn=dn(!0);while(dn!==null)}eg=null,fg=!1}catch(pn){throw eg!==null&&(eg=eg.slice(tn+1)),ac(fc,jg),pn}finally{C$1=sn,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(tn,sn){kg[lg++]=ng,kg[lg++]=mg,mg=tn,ng=sn}function ug(tn,sn,un){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=tn;var dn=rg;tn=sg;var pn=32-oc(dn)-1;dn&=~(1<<pn),un+=1;var mn=32-oc(sn)+pn;if(30<mn){var hn=pn-pn%5;mn=(dn&(1<<hn)-1).toString(32),dn>>=hn,pn-=hn,rg=1<<32-oc(sn)+pn|un<<pn|dn,sg=mn+tn}else rg=1<<mn|un<<pn|dn,sg=tn}function vg(tn){tn.return!==null&&(tg(tn,1),ug(tn,1,0))}function wg(tn){for(;tn===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;tn===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(tn,sn){var un=Bg(5,null,null,0);un.elementType="DELETED",un.stateNode=sn,un.return=tn,sn=tn.deletions,sn===null?(tn.deletions=[un],tn.flags|=16):sn.push(un)}function Cg(tn,sn){switch(tn.tag){case 5:var un=tn.type;return sn=sn.nodeType!==1||un.toLowerCase()!==sn.nodeName.toLowerCase()?null:sn,sn!==null?(tn.stateNode=sn,xg=tn,yg=Lf(sn.firstChild),!0):!1;case 6:return sn=tn.pendingProps===""||sn.nodeType!==3?null:sn,sn!==null?(tn.stateNode=sn,xg=tn,yg=null,!0):!1;case 13:return sn=sn.nodeType!==8?null:sn,sn!==null?(un=qg!==null?{id:rg,overflow:sg}:null,tn.memoizedState={dehydrated:sn,treeContext:un,retryLane:1073741824},un=Bg(18,null,null,0),un.stateNode=sn,un.return=tn,tn.child=un,xg=tn,yg=null,!0):!1;default:return!1}}function Dg(tn){return(tn.mode&1)!==0&&(tn.flags&128)===0}function Eg(tn){if(I$1){var sn=yg;if(sn){var un=sn;if(!Cg(tn,sn)){if(Dg(tn))throw Error(p$2(418));sn=Lf(un.nextSibling);var dn=xg;sn&&Cg(tn,sn)?Ag(dn,un):(tn.flags=tn.flags&-4097|2,I$1=!1,xg=tn)}}else{if(Dg(tn))throw Error(p$2(418));tn.flags=tn.flags&-4097|2,I$1=!1,xg=tn}}}function Fg(tn){for(tn=tn.return;tn!==null&&tn.tag!==5&&tn.tag!==3&&tn.tag!==13;)tn=tn.return;xg=tn}function Gg(tn){if(tn!==xg)return!1;if(!I$1)return Fg(tn),I$1=!0,!1;var sn;if((sn=tn.tag!==3)&&!(sn=tn.tag!==5)&&(sn=tn.type,sn=sn!=="head"&&sn!=="body"&&!Ef(tn.type,tn.memoizedProps)),sn&&(sn=yg)){if(Dg(tn))throw Hg(),Error(p$2(418));for(;sn;)Ag(tn,sn),sn=Lf(sn.nextSibling)}if(Fg(tn),tn.tag===13){if(tn=tn.memoizedState,tn=tn!==null?tn.dehydrated:null,!tn)throw Error(p$2(317));e:{for(tn=tn.nextSibling,sn=0;tn;){if(tn.nodeType===8){var un=tn.data;if(un==="/$"){if(sn===0){yg=Lf(tn.nextSibling);break e}sn--}else un!=="$"&&un!=="$!"&&un!=="$?"||sn++}tn=tn.nextSibling}yg=null}}else yg=xg?Lf(tn.stateNode.nextSibling):null;return!0}function Hg(){for(var tn=yg;tn;)tn=Lf(tn.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(tn){zg===null?zg=[tn]:zg.push(tn)}var Kg=ua.ReactCurrentBatchConfig;function Lg(tn,sn,un){if(tn=un.ref,tn!==null&&typeof tn!="function"&&typeof tn!="object"){if(un._owner){if(un=un._owner,un){if(un.tag!==1)throw Error(p$2(309));var dn=un.stateNode}if(!dn)throw Error(p$2(147,tn));var pn=dn,mn=""+tn;return sn!==null&&sn.ref!==null&&typeof sn.ref=="function"&&sn.ref._stringRef===mn?sn.ref:(sn=function(hn){var fn=pn.refs;hn===null?delete fn[mn]:fn[mn]=hn},sn._stringRef=mn,sn)}if(typeof tn!="string")throw Error(p$2(284));if(!un._owner)throw Error(p$2(290,tn))}return tn}function Mg(tn,sn){throw tn=Object.prototype.toString.call(sn),Error(p$2(31,tn==="[object Object]"?"object with keys {"+Object.keys(sn).join(", ")+"}":tn))}function Ng(tn){var sn=tn._init;return sn(tn._payload)}function Og(tn){function sn(_n,jn){if(tn){var Cn=_n.deletions;Cn===null?(_n.deletions=[jn],_n.flags|=16):Cn.push(jn)}}function un(_n,jn){if(!tn)return null;for(;jn!==null;)sn(_n,jn),jn=jn.sibling;return null}function dn(_n,jn){for(_n=new Map;jn!==null;)jn.key!==null?_n.set(jn.key,jn):_n.set(jn.index,jn),jn=jn.sibling;return _n}function pn(_n,jn){return _n=Pg(_n,jn),_n.index=0,_n.sibling=null,_n}function mn(_n,jn,Cn){return _n.index=Cn,tn?(Cn=_n.alternate,Cn!==null?(Cn=Cn.index,Cn<jn?(_n.flags|=2,jn):Cn):(_n.flags|=2,jn)):(_n.flags|=1048576,jn)}function hn(_n){return tn&&_n.alternate===null&&(_n.flags|=2),_n}function fn(_n,jn,Cn,An){return jn===null||jn.tag!==6?(jn=Qg(Cn,_n.mode,An),jn.return=_n,jn):(jn=pn(jn,Cn),jn.return=_n,jn)}function gn(_n,jn,Cn,An){var Tn=Cn.type;return Tn===ya?yn(_n,jn,Cn.props.children,An,Cn.key):jn!==null&&(jn.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===Ha&&Ng(Tn)===jn.type)?(An=pn(jn,Cn.props),An.ref=Lg(_n,jn,Cn),An.return=_n,An):(An=Rg(Cn.type,Cn.key,Cn.props,null,_n.mode,An),An.ref=Lg(_n,jn,Cn),An.return=_n,An)}function xn(_n,jn,Cn,An){return jn===null||jn.tag!==4||jn.stateNode.containerInfo!==Cn.containerInfo||jn.stateNode.implementation!==Cn.implementation?(jn=Sg(Cn,_n.mode,An),jn.return=_n,jn):(jn=pn(jn,Cn.children||[]),jn.return=_n,jn)}function yn(_n,jn,Cn,An,Tn){return jn===null||jn.tag!==7?(jn=Tg(Cn,_n.mode,An,Tn),jn.return=_n,jn):(jn=pn(jn,Cn),jn.return=_n,jn)}function vn(_n,jn,Cn){if(typeof jn=="string"&&jn!==""||typeof jn=="number")return jn=Qg(""+jn,_n.mode,Cn),jn.return=_n,jn;if(typeof jn=="object"&&jn!==null){switch(jn.$$typeof){case va:return Cn=Rg(jn.type,jn.key,jn.props,null,_n.mode,Cn),Cn.ref=Lg(_n,null,jn),Cn.return=_n,Cn;case wa:return jn=Sg(jn,_n.mode,Cn),jn.return=_n,jn;case Ha:var An=jn._init;return vn(_n,An(jn._payload),Cn)}if(eb(jn)||Ka(jn))return jn=Tg(jn,_n.mode,Cn,null),jn.return=_n,jn;Mg(_n,jn)}return null}function En(_n,jn,Cn,An){var Tn=jn!==null?jn.key:null;if(typeof Cn=="string"&&Cn!==""||typeof Cn=="number")return Tn!==null?null:fn(_n,jn,""+Cn,An);if(typeof Cn=="object"&&Cn!==null){switch(Cn.$$typeof){case va:return Cn.key===Tn?gn(_n,jn,Cn,An):null;case wa:return Cn.key===Tn?xn(_n,jn,Cn,An):null;case Ha:return Tn=Cn._init,En(_n,jn,Tn(Cn._payload),An)}if(eb(Cn)||Ka(Cn))return Tn!==null?null:yn(_n,jn,Cn,An,null);Mg(_n,Cn)}return null}function bn(_n,jn,Cn,An,Tn){if(typeof An=="string"&&An!==""||typeof An=="number")return _n=_n.get(Cn)||null,fn(jn,_n,""+An,Tn);if(typeof An=="object"&&An!==null){switch(An.$$typeof){case va:return _n=_n.get(An.key===null?Cn:An.key)||null,gn(jn,_n,An,Tn);case wa:return _n=_n.get(An.key===null?Cn:An.key)||null,xn(jn,_n,An,Tn);case Ha:var $n=An._init;return bn(_n,jn,Cn,$n(An._payload),Tn)}if(eb(An)||Ka(An))return _n=_n.get(Cn)||null,yn(jn,_n,An,Tn,null);Mg(jn,An)}return null}function wn(_n,jn,Cn,An){for(var Tn=null,$n=null,Dn=jn,Nn=jn=0,kn=null;Dn!==null&&Nn<Cn.length;Nn++){Dn.index>Nn?(kn=Dn,Dn=null):kn=Dn.sibling;var Pn=En(_n,Dn,Cn[Nn],An);if(Pn===null){Dn===null&&(Dn=kn);break}tn&&Dn&&Pn.alternate===null&&sn(_n,Dn),jn=mn(Pn,jn,Nn),$n===null?Tn=Pn:$n.sibling=Pn,$n=Pn,Dn=kn}if(Nn===Cn.length)return un(_n,Dn),I$1&&tg(_n,Nn),Tn;if(Dn===null){for(;Nn<Cn.length;Nn++)Dn=vn(_n,Cn[Nn],An),Dn!==null&&(jn=mn(Dn,jn,Nn),$n===null?Tn=Dn:$n.sibling=Dn,$n=Dn);return I$1&&tg(_n,Nn),Tn}for(Dn=dn(_n,Dn);Nn<Cn.length;Nn++)kn=bn(Dn,_n,Nn,Cn[Nn],An),kn!==null&&(tn&&kn.alternate!==null&&Dn.delete(kn.key===null?Nn:kn.key),jn=mn(kn,jn,Nn),$n===null?Tn=kn:$n.sibling=kn,$n=kn);return tn&&Dn.forEach(function(Mn){return sn(_n,Mn)}),I$1&&tg(_n,Nn),Tn}function Sn(_n,jn,Cn,An){var Tn=Ka(Cn);if(typeof Tn!="function")throw Error(p$2(150));if(Cn=Tn.call(Cn),Cn==null)throw Error(p$2(151));for(var $n=Tn=null,Dn=jn,Nn=jn=0,kn=null,Pn=Cn.next();Dn!==null&&!Pn.done;Nn++,Pn=Cn.next()){Dn.index>Nn?(kn=Dn,Dn=null):kn=Dn.sibling;var Mn=En(_n,Dn,Pn.value,An);if(Mn===null){Dn===null&&(Dn=kn);break}tn&&Dn&&Mn.alternate===null&&sn(_n,Dn),jn=mn(Mn,jn,Nn),$n===null?Tn=Mn:$n.sibling=Mn,$n=Mn,Dn=kn}if(Pn.done)return un(_n,Dn),I$1&&tg(_n,Nn),Tn;if(Dn===null){for(;!Pn.done;Nn++,Pn=Cn.next())Pn=vn(_n,Pn.value,An),Pn!==null&&(jn=mn(Pn,jn,Nn),$n===null?Tn=Pn:$n.sibling=Pn,$n=Pn);return I$1&&tg(_n,Nn),Tn}for(Dn=dn(_n,Dn);!Pn.done;Nn++,Pn=Cn.next())Pn=bn(Dn,_n,Nn,Pn.value,An),Pn!==null&&(tn&&Pn.alternate!==null&&Dn.delete(Pn.key===null?Nn:Pn.key),jn=mn(Pn,jn,Nn),$n===null?Tn=Pn:$n.sibling=Pn,$n=Pn);return tn&&Dn.forEach(function(On){return sn(_n,On)}),I$1&&tg(_n,Nn),Tn}function Rn(_n,jn,Cn,An){if(typeof Cn=="object"&&Cn!==null&&Cn.type===ya&&Cn.key===null&&(Cn=Cn.props.children),typeof Cn=="object"&&Cn!==null){switch(Cn.$$typeof){case va:e:{for(var Tn=Cn.key,$n=jn;$n!==null;){if($n.key===Tn){if(Tn=Cn.type,Tn===ya){if($n.tag===7){un(_n,$n.sibling),jn=pn($n,Cn.props.children),jn.return=_n,_n=jn;break e}}else if($n.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===Ha&&Ng(Tn)===$n.type){un(_n,$n.sibling),jn=pn($n,Cn.props),jn.ref=Lg(_n,$n,Cn),jn.return=_n,_n=jn;break e}un(_n,$n);break}else sn(_n,$n);$n=$n.sibling}Cn.type===ya?(jn=Tg(Cn.props.children,_n.mode,An,Cn.key),jn.return=_n,_n=jn):(An=Rg(Cn.type,Cn.key,Cn.props,null,_n.mode,An),An.ref=Lg(_n,jn,Cn),An.return=_n,_n=An)}return hn(_n);case wa:e:{for($n=Cn.key;jn!==null;){if(jn.key===$n)if(jn.tag===4&&jn.stateNode.containerInfo===Cn.containerInfo&&jn.stateNode.implementation===Cn.implementation){un(_n,jn.sibling),jn=pn(jn,Cn.children||[]),jn.return=_n,_n=jn;break e}else{un(_n,jn);break}else sn(_n,jn);jn=jn.sibling}jn=Sg(Cn,_n.mode,An),jn.return=_n,_n=jn}return hn(_n);case Ha:return $n=Cn._init,Rn(_n,jn,$n(Cn._payload),An)}if(eb(Cn))return wn(_n,jn,Cn,An);if(Ka(Cn))return Sn(_n,jn,Cn,An);Mg(_n,Cn)}return typeof Cn=="string"&&Cn!==""||typeof Cn=="number"?(Cn=""+Cn,jn!==null&&jn.tag===6?(un(_n,jn.sibling),jn=pn(jn,Cn),jn.return=_n,_n=jn):(un(_n,jn),jn=Qg(Cn,_n.mode,An),jn.return=_n,_n=jn),hn(_n)):un(_n,jn)}return Rn}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(tn){var sn=Wg.current;E$1(Wg),tn._currentValue=sn}function bh(tn,sn,un){for(;tn!==null;){var dn=tn.alternate;if((tn.childLanes&sn)!==sn?(tn.childLanes|=sn,dn!==null&&(dn.childLanes|=sn)):dn!==null&&(dn.childLanes&sn)!==sn&&(dn.childLanes|=sn),tn===un)break;tn=tn.return}}function ch(tn,sn){Xg=tn,Zg=Yg=null,tn=tn.dependencies,tn!==null&&tn.firstContext!==null&&(tn.lanes&sn&&(dh=!0),tn.firstContext=null)}function eh(tn){var sn=tn._currentValue;if(Zg!==tn)if(tn={context:tn,memoizedValue:sn,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=tn,Xg.dependencies={lanes:0,firstContext:tn}}else Yg=Yg.next=tn;return sn}var fh=null;function gh(tn){fh===null?fh=[tn]:fh.push(tn)}function hh(tn,sn,un,dn){var pn=sn.interleaved;return pn===null?(un.next=un,gh(sn)):(un.next=pn.next,pn.next=un),sn.interleaved=un,ih(tn,dn)}function ih(tn,sn){tn.lanes|=sn;var un=tn.alternate;for(un!==null&&(un.lanes|=sn),un=tn,tn=tn.return;tn!==null;)tn.childLanes|=sn,un=tn.alternate,un!==null&&(un.childLanes|=sn),un=tn,tn=tn.return;return un.tag===3?un.stateNode:null}var jh=!1;function kh(tn){tn.updateQueue={baseState:tn.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(tn,sn){tn=tn.updateQueue,sn.updateQueue===tn&&(sn.updateQueue={baseState:tn.baseState,firstBaseUpdate:tn.firstBaseUpdate,lastBaseUpdate:tn.lastBaseUpdate,shared:tn.shared,effects:tn.effects})}function mh(tn,sn){return{eventTime:tn,lane:sn,tag:0,payload:null,callback:null,next:null}}function nh(tn,sn,un){var dn=tn.updateQueue;if(dn===null)return null;if(dn=dn.shared,K$1&2){var pn=dn.pending;return pn===null?sn.next=sn:(sn.next=pn.next,pn.next=sn),dn.pending=sn,ih(tn,un)}return pn=dn.interleaved,pn===null?(sn.next=sn,gh(dn)):(sn.next=pn.next,pn.next=sn),dn.interleaved=sn,ih(tn,un)}function oh(tn,sn,un){if(sn=sn.updateQueue,sn!==null&&(sn=sn.shared,(un&4194240)!==0)){var dn=sn.lanes;dn&=tn.pendingLanes,un|=dn,sn.lanes=un,Cc(tn,un)}}function ph(tn,sn){var un=tn.updateQueue,dn=tn.alternate;if(dn!==null&&(dn=dn.updateQueue,un===dn)){var pn=null,mn=null;if(un=un.firstBaseUpdate,un!==null){do{var hn={eventTime:un.eventTime,lane:un.lane,tag:un.tag,payload:un.payload,callback:un.callback,next:null};mn===null?pn=mn=hn:mn=mn.next=hn,un=un.next}while(un!==null);mn===null?pn=mn=sn:mn=mn.next=sn}else pn=mn=sn;un={baseState:dn.baseState,firstBaseUpdate:pn,lastBaseUpdate:mn,shared:dn.shared,effects:dn.effects},tn.updateQueue=un;return}tn=un.lastBaseUpdate,tn===null?un.firstBaseUpdate=sn:tn.next=sn,un.lastBaseUpdate=sn}function qh(tn,sn,un,dn){var pn=tn.updateQueue;jh=!1;var mn=pn.firstBaseUpdate,hn=pn.lastBaseUpdate,fn=pn.shared.pending;if(fn!==null){pn.shared.pending=null;var gn=fn,xn=gn.next;gn.next=null,hn===null?mn=xn:hn.next=xn,hn=gn;var yn=tn.alternate;yn!==null&&(yn=yn.updateQueue,fn=yn.lastBaseUpdate,fn!==hn&&(fn===null?yn.firstBaseUpdate=xn:fn.next=xn,yn.lastBaseUpdate=gn))}if(mn!==null){var vn=pn.baseState;hn=0,yn=xn=gn=null,fn=mn;do{var En=fn.lane,bn=fn.eventTime;if((dn&En)===En){yn!==null&&(yn=yn.next={eventTime:bn,lane:0,tag:fn.tag,payload:fn.payload,callback:fn.callback,next:null});e:{var wn=tn,Sn=fn;switch(En=sn,bn=un,Sn.tag){case 1:if(wn=Sn.payload,typeof wn=="function"){vn=wn.call(bn,vn,En);break e}vn=wn;break e;case 3:wn.flags=wn.flags&-65537|128;case 0:if(wn=Sn.payload,En=typeof wn=="function"?wn.call(bn,vn,En):wn,En==null)break e;vn=A$1({},vn,En);break e;case 2:jh=!0}}fn.callback!==null&&fn.lane!==0&&(tn.flags|=64,En=pn.effects,En===null?pn.effects=[fn]:En.push(fn))}else bn={eventTime:bn,lane:En,tag:fn.tag,payload:fn.payload,callback:fn.callback,next:null},yn===null?(xn=yn=bn,gn=vn):yn=yn.next=bn,hn|=En;if(fn=fn.next,fn===null){if(fn=pn.shared.pending,fn===null)break;En=fn,fn=En.next,En.next=null,pn.lastBaseUpdate=En,pn.shared.pending=null}}while(!0);if(yn===null&&(gn=vn),pn.baseState=gn,pn.firstBaseUpdate=xn,pn.lastBaseUpdate=yn,sn=pn.shared.interleaved,sn!==null){pn=sn;do hn|=pn.lane,pn=pn.next;while(pn!==sn)}else mn===null&&(pn.shared.lanes=0);rh|=hn,tn.lanes=hn,tn.memoizedState=vn}}function sh(tn,sn,un){if(tn=sn.effects,sn.effects=null,tn!==null)for(sn=0;sn<tn.length;sn++){var dn=tn[sn],pn=dn.callback;if(pn!==null){if(dn.callback=null,dn=un,typeof pn!="function")throw Error(p$2(191,pn));pn.call(dn)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(tn){if(tn===th)throw Error(p$2(174));return tn}function yh(tn,sn){switch(G$1(wh,sn),G$1(vh$1,tn),G$1(uh,th),tn=sn.nodeType,tn){case 9:case 11:sn=(sn=sn.documentElement)?sn.namespaceURI:lb(null,"");break;default:tn=tn===8?sn.parentNode:sn,sn=tn.namespaceURI||null,tn=tn.tagName,sn=lb(sn,tn)}E$1(uh),G$1(uh,sn)}function zh(){E$1(uh),E$1(vh$1),E$1(wh)}function Ah(tn){xh(wh.current);var sn=xh(uh.current),un=lb(sn,tn.type);sn!==un&&(G$1(vh$1,tn),G$1(uh,un))}function Bh(tn){vh$1.current===tn&&(E$1(uh),E$1(vh$1))}var L$1=Uf(0);function Ch(tn){for(var sn=tn;sn!==null;){if(sn.tag===13){var un=sn.memoizedState;if(un!==null&&(un=un.dehydrated,un===null||un.data==="$?"||un.data==="$!"))return sn}else if(sn.tag===19&&sn.memoizedProps.revealOrder!==void 0){if(sn.flags&128)return sn}else if(sn.child!==null){sn.child.return=sn,sn=sn.child;continue}if(sn===tn)break;for(;sn.sibling===null;){if(sn.return===null||sn.return===tn)return null;sn=sn.return}sn.sibling.return=sn.return,sn=sn.sibling}return null}var Dh=[];function Eh(){for(var tn=0;tn<Dh.length;tn++)Dh[tn]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$2(321))}function Mh(tn,sn){if(sn===null)return!1;for(var un=0;un<sn.length&&un<tn.length;un++)if(!He$1(tn[un],sn[un]))return!1;return!0}function Nh(tn,sn,un,dn,pn,mn){if(Hh=mn,M$1=sn,sn.memoizedState=null,sn.updateQueue=null,sn.lanes=0,Fh.current=tn===null||tn.memoizedState===null?Oh:Ph,tn=un(dn,pn),Jh){mn=0;do{if(Jh=!1,Kh=0,25<=mn)throw Error(p$2(301));mn+=1,O$1=N$1=null,sn.updateQueue=null,Fh.current=Qh,tn=un(dn,pn)}while(Jh)}if(Fh.current=Rh,sn=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,sn)throw Error(p$2(300));return tn}function Sh(){var tn=Kh!==0;return Kh=0,tn}function Th(){var tn={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=tn:O$1=O$1.next=tn,O$1}function Uh(){if(N$1===null){var tn=M$1.alternate;tn=tn!==null?tn.memoizedState:null}else tn=N$1.next;var sn=O$1===null?M$1.memoizedState:O$1.next;if(sn!==null)O$1=sn,N$1=tn;else{if(tn===null)throw Error(p$2(310));N$1=tn,tn={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=tn:O$1=O$1.next=tn}return O$1}function Vh(tn,sn){return typeof sn=="function"?sn(tn):sn}function Wh(tn){var sn=Uh(),un=sn.queue;if(un===null)throw Error(p$2(311));un.lastRenderedReducer=tn;var dn=N$1,pn=dn.baseQueue,mn=un.pending;if(mn!==null){if(pn!==null){var hn=pn.next;pn.next=mn.next,mn.next=hn}dn.baseQueue=pn=mn,un.pending=null}if(pn!==null){mn=pn.next,dn=dn.baseState;var fn=hn=null,gn=null,xn=mn;do{var yn=xn.lane;if((Hh&yn)===yn)gn!==null&&(gn=gn.next={lane:0,action:xn.action,hasEagerState:xn.hasEagerState,eagerState:xn.eagerState,next:null}),dn=xn.hasEagerState?xn.eagerState:tn(dn,xn.action);else{var vn={lane:yn,action:xn.action,hasEagerState:xn.hasEagerState,eagerState:xn.eagerState,next:null};gn===null?(fn=gn=vn,hn=dn):gn=gn.next=vn,M$1.lanes|=yn,rh|=yn}xn=xn.next}while(xn!==null&&xn!==mn);gn===null?hn=dn:gn.next=fn,He$1(dn,sn.memoizedState)||(dh=!0),sn.memoizedState=dn,sn.baseState=hn,sn.baseQueue=gn,un.lastRenderedState=dn}if(tn=un.interleaved,tn!==null){pn=tn;do mn=pn.lane,M$1.lanes|=mn,rh|=mn,pn=pn.next;while(pn!==tn)}else pn===null&&(un.lanes=0);return[sn.memoizedState,un.dispatch]}function Xh(tn){var sn=Uh(),un=sn.queue;if(un===null)throw Error(p$2(311));un.lastRenderedReducer=tn;var dn=un.dispatch,pn=un.pending,mn=sn.memoizedState;if(pn!==null){un.pending=null;var hn=pn=pn.next;do mn=tn(mn,hn.action),hn=hn.next;while(hn!==pn);He$1(mn,sn.memoizedState)||(dh=!0),sn.memoizedState=mn,sn.baseQueue===null&&(sn.baseState=mn),un.lastRenderedState=mn}return[mn,dn]}function Yh(){}function Zh(tn,sn){var un=M$1,dn=Uh(),pn=sn(),mn=!He$1(dn.memoizedState,pn);if(mn&&(dn.memoizedState=pn,dh=!0),dn=dn.queue,$h(ai.bind(null,un,dn,tn),[tn]),dn.getSnapshot!==sn||mn||O$1!==null&&O$1.memoizedState.tag&1){if(un.flags|=2048,bi(9,ci.bind(null,un,dn,pn,sn),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(un,sn,pn)}return pn}function di(tn,sn,un){tn.flags|=16384,tn={getSnapshot:sn,value:un},sn=M$1.updateQueue,sn===null?(sn={lastEffect:null,stores:null},M$1.updateQueue=sn,sn.stores=[tn]):(un=sn.stores,un===null?sn.stores=[tn]:un.push(tn))}function ci(tn,sn,un,dn){sn.value=un,sn.getSnapshot=dn,ei(sn)&&fi(tn)}function ai(tn,sn,un){return un(function(){ei(sn)&&fi(tn)})}function ei(tn){var sn=tn.getSnapshot;tn=tn.value;try{var un=sn();return!He$1(tn,un)}catch{return!0}}function fi(tn){var sn=ih(tn,1);sn!==null&&gi(sn,tn,1,-1)}function hi$1(tn){var sn=Th();return typeof tn=="function"&&(tn=tn()),sn.memoizedState=sn.baseState=tn,tn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:tn},sn.queue=tn,tn=tn.dispatch=ii.bind(null,M$1,tn),[sn.memoizedState,tn]}function bi(tn,sn,un,dn){return tn={tag:tn,create:sn,destroy:un,deps:dn,next:null},sn=M$1.updateQueue,sn===null?(sn={lastEffect:null,stores:null},M$1.updateQueue=sn,sn.lastEffect=tn.next=tn):(un=sn.lastEffect,un===null?sn.lastEffect=tn.next=tn:(dn=un.next,un.next=tn,tn.next=dn,sn.lastEffect=tn)),tn}function ji(){return Uh().memoizedState}function ki(tn,sn,un,dn){var pn=Th();M$1.flags|=tn,pn.memoizedState=bi(1|sn,un,void 0,dn===void 0?null:dn)}function li(tn,sn,un,dn){var pn=Uh();dn=dn===void 0?null:dn;var mn=void 0;if(N$1!==null){var hn=N$1.memoizedState;if(mn=hn.destroy,dn!==null&&Mh(dn,hn.deps)){pn.memoizedState=bi(sn,un,mn,dn);return}}M$1.flags|=tn,pn.memoizedState=bi(1|sn,un,mn,dn)}function mi(tn,sn){return ki(8390656,8,tn,sn)}function $h(tn,sn){return li(2048,8,tn,sn)}function ni(tn,sn){return li(4,2,tn,sn)}function oi(tn,sn){return li(4,4,tn,sn)}function pi$2(tn,sn){if(typeof sn=="function")return tn=tn(),sn(tn),function(){sn(null)};if(sn!=null)return tn=tn(),sn.current=tn,function(){sn.current=null}}function qi(tn,sn,un){return un=un!=null?un.concat([tn]):null,li(4,4,pi$2.bind(null,sn,tn),un)}function ri(){}function si(tn,sn){var un=Uh();sn=sn===void 0?null:sn;var dn=un.memoizedState;return dn!==null&&sn!==null&&Mh(sn,dn[1])?dn[0]:(un.memoizedState=[tn,sn],tn)}function ti(tn,sn){var un=Uh();sn=sn===void 0?null:sn;var dn=un.memoizedState;return dn!==null&&sn!==null&&Mh(sn,dn[1])?dn[0]:(tn=tn(),un.memoizedState=[tn,sn],tn)}function ui(tn,sn,un){return Hh&21?(He$1(un,sn)||(un=yc(),M$1.lanes|=un,rh|=un,tn.baseState=!0),sn):(tn.baseState&&(tn.baseState=!1,dh=!0),tn.memoizedState=un)}function vi(tn,sn){var un=C$1;C$1=un!==0&&4>un?un:4,tn(!0);var dn=Gh.transition;Gh.transition={};try{tn(!1),sn()}finally{C$1=un,Gh.transition=dn}}function wi(){return Uh().memoizedState}function xi(tn,sn,un){var dn=yi(tn);if(un={lane:dn,action:un,hasEagerState:!1,eagerState:null,next:null},zi(tn))Ai(sn,un);else if(un=hh(tn,sn,un,dn),un!==null){var pn=R$1();gi(un,tn,dn,pn),Bi(un,sn,dn)}}function ii(tn,sn,un){var dn=yi(tn),pn={lane:dn,action:un,hasEagerState:!1,eagerState:null,next:null};if(zi(tn))Ai(sn,pn);else{var mn=tn.alternate;if(tn.lanes===0&&(mn===null||mn.lanes===0)&&(mn=sn.lastRenderedReducer,mn!==null))try{var hn=sn.lastRenderedState,fn=mn(hn,un);if(pn.hasEagerState=!0,pn.eagerState=fn,He$1(fn,hn)){var gn=sn.interleaved;gn===null?(pn.next=pn,gh(sn)):(pn.next=gn.next,gn.next=pn),sn.interleaved=pn;return}}catch{}finally{}un=hh(tn,sn,pn,dn),un!==null&&(pn=R$1(),gi(un,tn,dn,pn),Bi(un,sn,dn))}}function zi(tn){var sn=tn.alternate;return tn===M$1||sn!==null&&sn===M$1}function Ai(tn,sn){Jh=Ih=!0;var un=tn.pending;un===null?sn.next=sn:(sn.next=un.next,un.next=sn),tn.pending=sn}function Bi(tn,sn,un){if(un&4194240){var dn=sn.lanes;dn&=tn.pendingLanes,un|=dn,sn.lanes=un,Cc(tn,un)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(tn,sn){return Th().memoizedState=[tn,sn===void 0?null:sn],tn},useContext:eh,useEffect:mi,useImperativeHandle:function(tn,sn,un){return un=un!=null?un.concat([tn]):null,ki(4194308,4,pi$2.bind(null,sn,tn),un)},useLayoutEffect:function(tn,sn){return ki(4194308,4,tn,sn)},useInsertionEffect:function(tn,sn){return ki(4,2,tn,sn)},useMemo:function(tn,sn){var un=Th();return sn=sn===void 0?null:sn,tn=tn(),un.memoizedState=[tn,sn],tn},useReducer:function(tn,sn,un){var dn=Th();return sn=un!==void 0?un(sn):sn,dn.memoizedState=dn.baseState=sn,tn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:sn},dn.queue=tn,tn=tn.dispatch=xi.bind(null,M$1,tn),[dn.memoizedState,tn]},useRef:function(tn){var sn=Th();return tn={current:tn},sn.memoizedState=tn},useState:hi$1,useDebugValue:ri,useDeferredValue:function(tn){return Th().memoizedState=tn},useTransition:function(){var tn=hi$1(!1),sn=tn[0];return tn=vi.bind(null,tn[1]),Th().memoizedState=tn,[sn,tn]},useMutableSource:function(){},useSyncExternalStore:function(tn,sn,un){var dn=M$1,pn=Th();if(I$1){if(un===void 0)throw Error(p$2(407));un=un()}else{if(un=sn(),Q$1===null)throw Error(p$2(349));Hh&30||di(dn,sn,un)}pn.memoizedState=un;var mn={value:un,getSnapshot:sn};return pn.queue=mn,mi(ai.bind(null,dn,mn,tn),[tn]),dn.flags|=2048,bi(9,ci.bind(null,dn,mn,un,sn),void 0,null),un},useId:function(){var tn=Th(),sn=Q$1.identifierPrefix;if(I$1){var un=sg,dn=rg;un=(dn&~(1<<32-oc(dn)-1)).toString(32)+un,sn=":"+sn+"R"+un,un=Kh++,0<un&&(sn+="H"+un.toString(32)),sn+=":"}else un=Lh++,sn=":"+sn+"r"+un.toString(32)+":";return tn.memoizedState=sn},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(tn){var sn=Uh();return ui(sn,N$1.memoizedState,tn)},useTransition:function(){var tn=Wh(Vh)[0],sn=Uh().memoizedState;return[tn,sn]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(tn){var sn=Uh();return N$1===null?sn.memoizedState=tn:ui(sn,N$1.memoizedState,tn)},useTransition:function(){var tn=Xh(Vh)[0],sn=Uh().memoizedState;return[tn,sn]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(tn,sn){if(tn&&tn.defaultProps){sn=A$1({},sn),tn=tn.defaultProps;for(var un in tn)sn[un]===void 0&&(sn[un]=tn[un]);return sn}return sn}function Di(tn,sn,un,dn){sn=tn.memoizedState,un=un(dn,sn),un=un==null?sn:A$1({},sn,un),tn.memoizedState=un,tn.lanes===0&&(tn.updateQueue.baseState=un)}var Ei={isMounted:function(tn){return(tn=tn._reactInternals)?Vb(tn)===tn:!1},enqueueSetState:function(tn,sn,un){tn=tn._reactInternals;var dn=R$1(),pn=yi(tn),mn=mh(dn,pn);mn.payload=sn,un!=null&&(mn.callback=un),sn=nh(tn,mn,pn),sn!==null&&(gi(sn,tn,pn,dn),oh(sn,tn,pn))},enqueueReplaceState:function(tn,sn,un){tn=tn._reactInternals;var dn=R$1(),pn=yi(tn),mn=mh(dn,pn);mn.tag=1,mn.payload=sn,un!=null&&(mn.callback=un),sn=nh(tn,mn,pn),sn!==null&&(gi(sn,tn,pn,dn),oh(sn,tn,pn))},enqueueForceUpdate:function(tn,sn){tn=tn._reactInternals;var un=R$1(),dn=yi(tn),pn=mh(un,dn);pn.tag=2,sn!=null&&(pn.callback=sn),sn=nh(tn,pn,dn),sn!==null&&(gi(sn,tn,dn,un),oh(sn,tn,dn))}};function Fi(tn,sn,un,dn,pn,mn,hn){return tn=tn.stateNode,typeof tn.shouldComponentUpdate=="function"?tn.shouldComponentUpdate(dn,mn,hn):sn.prototype&&sn.prototype.isPureReactComponent?!Ie$1(un,dn)||!Ie$1(pn,mn):!0}function Gi(tn,sn,un){var dn=!1,pn=Vf,mn=sn.contextType;return typeof mn=="object"&&mn!==null?mn=eh(mn):(pn=Zf(sn)?Xf:H$1.current,dn=sn.contextTypes,mn=(dn=dn!=null)?Yf(tn,pn):Vf),sn=new sn(un,mn),tn.memoizedState=sn.state!==null&&sn.state!==void 0?sn.state:null,sn.updater=Ei,tn.stateNode=sn,sn._reactInternals=tn,dn&&(tn=tn.stateNode,tn.__reactInternalMemoizedUnmaskedChildContext=pn,tn.__reactInternalMemoizedMaskedChildContext=mn),sn}function Hi(tn,sn,un,dn){tn=sn.state,typeof sn.componentWillReceiveProps=="function"&&sn.componentWillReceiveProps(un,dn),typeof sn.UNSAFE_componentWillReceiveProps=="function"&&sn.UNSAFE_componentWillReceiveProps(un,dn),sn.state!==tn&&Ei.enqueueReplaceState(sn,sn.state,null)}function Ii(tn,sn,un,dn){var pn=tn.stateNode;pn.props=un,pn.state=tn.memoizedState,pn.refs={},kh(tn);var mn=sn.contextType;typeof mn=="object"&&mn!==null?pn.context=eh(mn):(mn=Zf(sn)?Xf:H$1.current,pn.context=Yf(tn,mn)),pn.state=tn.memoizedState,mn=sn.getDerivedStateFromProps,typeof mn=="function"&&(Di(tn,sn,mn,un),pn.state=tn.memoizedState),typeof sn.getDerivedStateFromProps=="function"||typeof pn.getSnapshotBeforeUpdate=="function"||typeof pn.UNSAFE_componentWillMount!="function"&&typeof pn.componentWillMount!="function"||(sn=pn.state,typeof pn.componentWillMount=="function"&&pn.componentWillMount(),typeof pn.UNSAFE_componentWillMount=="function"&&pn.UNSAFE_componentWillMount(),sn!==pn.state&&Ei.enqueueReplaceState(pn,pn.state,null),qh(tn,un,pn,dn),pn.state=tn.memoizedState),typeof pn.componentDidMount=="function"&&(tn.flags|=4194308)}function Ji(tn,sn){try{var un="",dn=sn;do un+=Pa(dn),dn=dn.return;while(dn);var pn=un}catch(mn){pn=`
Error generating stack: `+mn.message+`
`+mn.stack}return{value:tn,source:sn,stack:pn,digest:null}}function Ki(tn,sn,un){return{value:tn,source:null,stack:un??null,digest:sn??null}}function Li(tn,sn){try{console.error(sn.value)}catch(un){setTimeout(function(){throw un})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(tn,sn,un){un=mh(-1,un),un.tag=3,un.payload={element:null};var dn=sn.value;return un.callback=function(){Oi||(Oi=!0,Pi=dn),Li(tn,sn)},un}function Qi(tn,sn,un){un=mh(-1,un),un.tag=3;var dn=tn.type.getDerivedStateFromError;if(typeof dn=="function"){var pn=sn.value;un.payload=function(){return dn(pn)},un.callback=function(){Li(tn,sn)}}var mn=tn.stateNode;return mn!==null&&typeof mn.componentDidCatch=="function"&&(un.callback=function(){Li(tn,sn),typeof dn!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var hn=sn.stack;this.componentDidCatch(sn.value,{componentStack:hn!==null?hn:""})}),un}function Si(tn,sn,un){var dn=tn.pingCache;if(dn===null){dn=tn.pingCache=new Mi;var pn=new Set;dn.set(sn,pn)}else pn=dn.get(sn),pn===void 0&&(pn=new Set,dn.set(sn,pn));pn.has(un)||(pn.add(un),tn=Ti.bind(null,tn,sn,un),sn.then(tn,tn))}function Ui(tn){do{var sn;if((sn=tn.tag===13)&&(sn=tn.memoizedState,sn=sn!==null?sn.dehydrated!==null:!0),sn)return tn;tn=tn.return}while(tn!==null);return null}function Vi(tn,sn,un,dn,pn){return tn.mode&1?(tn.flags|=65536,tn.lanes=pn,tn):(tn===sn?tn.flags|=65536:(tn.flags|=128,un.flags|=131072,un.flags&=-52805,un.tag===1&&(un.alternate===null?un.tag=17:(sn=mh(-1,1),sn.tag=2,nh(un,sn,1))),un.lanes|=1),tn)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(tn,sn,un,dn){sn.child=tn===null?Vg(sn,null,un,dn):Ug(sn,tn.child,un,dn)}function Yi(tn,sn,un,dn,pn){un=un.render;var mn=sn.ref;return ch(sn,pn),dn=Nh(tn,sn,un,dn,mn,pn),un=Sh(),tn!==null&&!dh?(sn.updateQueue=tn.updateQueue,sn.flags&=-2053,tn.lanes&=~pn,Zi(tn,sn,pn)):(I$1&&un&&vg(sn),sn.flags|=1,Xi(tn,sn,dn,pn),sn.child)}function $i(tn,sn,un,dn,pn){if(tn===null){var mn=un.type;return typeof mn=="function"&&!aj(mn)&&mn.defaultProps===void 0&&un.compare===null&&un.defaultProps===void 0?(sn.tag=15,sn.type=mn,bj(tn,sn,mn,dn,pn)):(tn=Rg(un.type,null,dn,sn,sn.mode,pn),tn.ref=sn.ref,tn.return=sn,sn.child=tn)}if(mn=tn.child,!(tn.lanes&pn)){var hn=mn.memoizedProps;if(un=un.compare,un=un!==null?un:Ie$1,un(hn,dn)&&tn.ref===sn.ref)return Zi(tn,sn,pn)}return sn.flags|=1,tn=Pg(mn,dn),tn.ref=sn.ref,tn.return=sn,sn.child=tn}function bj(tn,sn,un,dn,pn){if(tn!==null){var mn=tn.memoizedProps;if(Ie$1(mn,dn)&&tn.ref===sn.ref)if(dh=!1,sn.pendingProps=dn=mn,(tn.lanes&pn)!==0)tn.flags&131072&&(dh=!0);else return sn.lanes=tn.lanes,Zi(tn,sn,pn)}return cj(tn,sn,un,dn,pn)}function dj(tn,sn,un){var dn=sn.pendingProps,pn=dn.children,mn=tn!==null?tn.memoizedState:null;if(dn.mode==="hidden")if(!(sn.mode&1))sn.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=un;else{if(!(un&1073741824))return tn=mn!==null?mn.baseLanes|un:un,sn.lanes=sn.childLanes=1073741824,sn.memoizedState={baseLanes:tn,cachePool:null,transitions:null},sn.updateQueue=null,G$1(ej,fj),fj|=tn,null;sn.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn=mn!==null?mn.baseLanes:un,G$1(ej,fj),fj|=dn}else mn!==null?(dn=mn.baseLanes|un,sn.memoizedState=null):dn=un,G$1(ej,fj),fj|=dn;return Xi(tn,sn,pn,un),sn.child}function gj(tn,sn){var un=sn.ref;(tn===null&&un!==null||tn!==null&&tn.ref!==un)&&(sn.flags|=512,sn.flags|=2097152)}function cj(tn,sn,un,dn,pn){var mn=Zf(un)?Xf:H$1.current;return mn=Yf(sn,mn),ch(sn,pn),un=Nh(tn,sn,un,dn,mn,pn),dn=Sh(),tn!==null&&!dh?(sn.updateQueue=tn.updateQueue,sn.flags&=-2053,tn.lanes&=~pn,Zi(tn,sn,pn)):(I$1&&dn&&vg(sn),sn.flags|=1,Xi(tn,sn,un,pn),sn.child)}function hj(tn,sn,un,dn,pn){if(Zf(un)){var mn=!0;cg(sn)}else mn=!1;if(ch(sn,pn),sn.stateNode===null)ij(tn,sn),Gi(sn,un,dn),Ii(sn,un,dn,pn),dn=!0;else if(tn===null){var hn=sn.stateNode,fn=sn.memoizedProps;hn.props=fn;var gn=hn.context,xn=un.contextType;typeof xn=="object"&&xn!==null?xn=eh(xn):(xn=Zf(un)?Xf:H$1.current,xn=Yf(sn,xn));var yn=un.getDerivedStateFromProps,vn=typeof yn=="function"||typeof hn.getSnapshotBeforeUpdate=="function";vn||typeof hn.UNSAFE_componentWillReceiveProps!="function"&&typeof hn.componentWillReceiveProps!="function"||(fn!==dn||gn!==xn)&&Hi(sn,hn,dn,xn),jh=!1;var En=sn.memoizedState;hn.state=En,qh(sn,dn,hn,pn),gn=sn.memoizedState,fn!==dn||En!==gn||Wf.current||jh?(typeof yn=="function"&&(Di(sn,un,yn,dn),gn=sn.memoizedState),(fn=jh||Fi(sn,un,fn,dn,En,gn,xn))?(vn||typeof hn.UNSAFE_componentWillMount!="function"&&typeof hn.componentWillMount!="function"||(typeof hn.componentWillMount=="function"&&hn.componentWillMount(),typeof hn.UNSAFE_componentWillMount=="function"&&hn.UNSAFE_componentWillMount()),typeof hn.componentDidMount=="function"&&(sn.flags|=4194308)):(typeof hn.componentDidMount=="function"&&(sn.flags|=4194308),sn.memoizedProps=dn,sn.memoizedState=gn),hn.props=dn,hn.state=gn,hn.context=xn,dn=fn):(typeof hn.componentDidMount=="function"&&(sn.flags|=4194308),dn=!1)}else{hn=sn.stateNode,lh(tn,sn),fn=sn.memoizedProps,xn=sn.type===sn.elementType?fn:Ci(sn.type,fn),hn.props=xn,vn=sn.pendingProps,En=hn.context,gn=un.contextType,typeof gn=="object"&&gn!==null?gn=eh(gn):(gn=Zf(un)?Xf:H$1.current,gn=Yf(sn,gn));var bn=un.getDerivedStateFromProps;(yn=typeof bn=="function"||typeof hn.getSnapshotBeforeUpdate=="function")||typeof hn.UNSAFE_componentWillReceiveProps!="function"&&typeof hn.componentWillReceiveProps!="function"||(fn!==vn||En!==gn)&&Hi(sn,hn,dn,gn),jh=!1,En=sn.memoizedState,hn.state=En,qh(sn,dn,hn,pn);var wn=sn.memoizedState;fn!==vn||En!==wn||Wf.current||jh?(typeof bn=="function"&&(Di(sn,un,bn,dn),wn=sn.memoizedState),(xn=jh||Fi(sn,un,xn,dn,En,wn,gn)||!1)?(yn||typeof hn.UNSAFE_componentWillUpdate!="function"&&typeof hn.componentWillUpdate!="function"||(typeof hn.componentWillUpdate=="function"&&hn.componentWillUpdate(dn,wn,gn),typeof hn.UNSAFE_componentWillUpdate=="function"&&hn.UNSAFE_componentWillUpdate(dn,wn,gn)),typeof hn.componentDidUpdate=="function"&&(sn.flags|=4),typeof hn.getSnapshotBeforeUpdate=="function"&&(sn.flags|=1024)):(typeof hn.componentDidUpdate!="function"||fn===tn.memoizedProps&&En===tn.memoizedState||(sn.flags|=4),typeof hn.getSnapshotBeforeUpdate!="function"||fn===tn.memoizedProps&&En===tn.memoizedState||(sn.flags|=1024),sn.memoizedProps=dn,sn.memoizedState=wn),hn.props=dn,hn.state=wn,hn.context=gn,dn=xn):(typeof hn.componentDidUpdate!="function"||fn===tn.memoizedProps&&En===tn.memoizedState||(sn.flags|=4),typeof hn.getSnapshotBeforeUpdate!="function"||fn===tn.memoizedProps&&En===tn.memoizedState||(sn.flags|=1024),dn=!1)}return jj(tn,sn,un,dn,mn,pn)}function jj(tn,sn,un,dn,pn,mn){gj(tn,sn);var hn=(sn.flags&128)!==0;if(!dn&&!hn)return pn&&dg(sn,un,!1),Zi(tn,sn,mn);dn=sn.stateNode,Wi.current=sn;var fn=hn&&typeof un.getDerivedStateFromError!="function"?null:dn.render();return sn.flags|=1,tn!==null&&hn?(sn.child=Ug(sn,tn.child,null,mn),sn.child=Ug(sn,null,fn,mn)):Xi(tn,sn,fn,mn),sn.memoizedState=dn.state,pn&&dg(sn,un,!0),sn.child}function kj(tn){var sn=tn.stateNode;sn.pendingContext?ag(tn,sn.pendingContext,sn.pendingContext!==sn.context):sn.context&&ag(tn,sn.context,!1),yh(tn,sn.containerInfo)}function lj(tn,sn,un,dn,pn){return Ig(),Jg(pn),sn.flags|=256,Xi(tn,sn,un,dn),sn.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(tn){return{baseLanes:tn,cachePool:null,transitions:null}}function oj(tn,sn,un){var dn=sn.pendingProps,pn=L$1.current,mn=!1,hn=(sn.flags&128)!==0,fn;if((fn=hn)||(fn=tn!==null&&tn.memoizedState===null?!1:(pn&2)!==0),fn?(mn=!0,sn.flags&=-129):(tn===null||tn.memoizedState!==null)&&(pn|=1),G$1(L$1,pn&1),tn===null)return Eg(sn),tn=sn.memoizedState,tn!==null&&(tn=tn.dehydrated,tn!==null)?(sn.mode&1?tn.data==="$!"?sn.lanes=8:sn.lanes=1073741824:sn.lanes=1,null):(hn=dn.children,tn=dn.fallback,mn?(dn=sn.mode,mn=sn.child,hn={mode:"hidden",children:hn},!(dn&1)&&mn!==null?(mn.childLanes=0,mn.pendingProps=hn):mn=pj(hn,dn,0,null),tn=Tg(tn,dn,un,null),mn.return=sn,tn.return=sn,mn.sibling=tn,sn.child=mn,sn.child.memoizedState=nj(un),sn.memoizedState=mj,tn):qj(sn,hn));if(pn=tn.memoizedState,pn!==null&&(fn=pn.dehydrated,fn!==null))return rj(tn,sn,hn,dn,fn,pn,un);if(mn){mn=dn.fallback,hn=sn.mode,pn=tn.child,fn=pn.sibling;var gn={mode:"hidden",children:dn.children};return!(hn&1)&&sn.child!==pn?(dn=sn.child,dn.childLanes=0,dn.pendingProps=gn,sn.deletions=null):(dn=Pg(pn,gn),dn.subtreeFlags=pn.subtreeFlags&14680064),fn!==null?mn=Pg(fn,mn):(mn=Tg(mn,hn,un,null),mn.flags|=2),mn.return=sn,dn.return=sn,dn.sibling=mn,sn.child=dn,dn=mn,mn=sn.child,hn=tn.child.memoizedState,hn=hn===null?nj(un):{baseLanes:hn.baseLanes|un,cachePool:null,transitions:hn.transitions},mn.memoizedState=hn,mn.childLanes=tn.childLanes&~un,sn.memoizedState=mj,dn}return mn=tn.child,tn=mn.sibling,dn=Pg(mn,{mode:"visible",children:dn.children}),!(sn.mode&1)&&(dn.lanes=un),dn.return=sn,dn.sibling=null,tn!==null&&(un=sn.deletions,un===null?(sn.deletions=[tn],sn.flags|=16):un.push(tn)),sn.child=dn,sn.memoizedState=null,dn}function qj(tn,sn){return sn=pj({mode:"visible",children:sn},tn.mode,0,null),sn.return=tn,tn.child=sn}function sj(tn,sn,un,dn){return dn!==null&&Jg(dn),Ug(sn,tn.child,null,un),tn=qj(sn,sn.pendingProps.children),tn.flags|=2,sn.memoizedState=null,tn}function rj(tn,sn,un,dn,pn,mn,hn){if(un)return sn.flags&256?(sn.flags&=-257,dn=Ki(Error(p$2(422))),sj(tn,sn,hn,dn)):sn.memoizedState!==null?(sn.child=tn.child,sn.flags|=128,null):(mn=dn.fallback,pn=sn.mode,dn=pj({mode:"visible",children:dn.children},pn,0,null),mn=Tg(mn,pn,hn,null),mn.flags|=2,dn.return=sn,mn.return=sn,dn.sibling=mn,sn.child=dn,sn.mode&1&&Ug(sn,tn.child,null,hn),sn.child.memoizedState=nj(hn),sn.memoizedState=mj,mn);if(!(sn.mode&1))return sj(tn,sn,hn,null);if(pn.data==="$!"){if(dn=pn.nextSibling&&pn.nextSibling.dataset,dn)var fn=dn.dgst;return dn=fn,mn=Error(p$2(419)),dn=Ki(mn,dn,void 0),sj(tn,sn,hn,dn)}if(fn=(hn&tn.childLanes)!==0,dh||fn){if(dn=Q$1,dn!==null){switch(hn&-hn){case 4:pn=2;break;case 16:pn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:pn=32;break;case 536870912:pn=268435456;break;default:pn=0}pn=pn&(dn.suspendedLanes|hn)?0:pn,pn!==0&&pn!==mn.retryLane&&(mn.retryLane=pn,ih(tn,pn),gi(dn,tn,pn,-1))}return tj(),dn=Ki(Error(p$2(421))),sj(tn,sn,hn,dn)}return pn.data==="$?"?(sn.flags|=128,sn.child=tn.child,sn=uj.bind(null,tn),pn._reactRetry=sn,null):(tn=mn.treeContext,yg=Lf(pn.nextSibling),xg=sn,I$1=!0,zg=null,tn!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=tn.id,sg=tn.overflow,qg=sn),sn=qj(sn,dn.children),sn.flags|=4096,sn)}function vj(tn,sn,un){tn.lanes|=sn;var dn=tn.alternate;dn!==null&&(dn.lanes|=sn),bh(tn.return,sn,un)}function wj(tn,sn,un,dn,pn){var mn=tn.memoizedState;mn===null?tn.memoizedState={isBackwards:sn,rendering:null,renderingStartTime:0,last:dn,tail:un,tailMode:pn}:(mn.isBackwards=sn,mn.rendering=null,mn.renderingStartTime=0,mn.last=dn,mn.tail=un,mn.tailMode=pn)}function xj(tn,sn,un){var dn=sn.pendingProps,pn=dn.revealOrder,mn=dn.tail;if(Xi(tn,sn,dn.children,un),dn=L$1.current,dn&2)dn=dn&1|2,sn.flags|=128;else{if(tn!==null&&tn.flags&128)e:for(tn=sn.child;tn!==null;){if(tn.tag===13)tn.memoizedState!==null&&vj(tn,un,sn);else if(tn.tag===19)vj(tn,un,sn);else if(tn.child!==null){tn.child.return=tn,tn=tn.child;continue}if(tn===sn)break e;for(;tn.sibling===null;){if(tn.return===null||tn.return===sn)break e;tn=tn.return}tn.sibling.return=tn.return,tn=tn.sibling}dn&=1}if(G$1(L$1,dn),!(sn.mode&1))sn.memoizedState=null;else switch(pn){case"forwards":for(un=sn.child,pn=null;un!==null;)tn=un.alternate,tn!==null&&Ch(tn)===null&&(pn=un),un=un.sibling;un=pn,un===null?(pn=sn.child,sn.child=null):(pn=un.sibling,un.sibling=null),wj(sn,!1,pn,un,mn);break;case"backwards":for(un=null,pn=sn.child,sn.child=null;pn!==null;){if(tn=pn.alternate,tn!==null&&Ch(tn)===null){sn.child=pn;break}tn=pn.sibling,pn.sibling=un,un=pn,pn=tn}wj(sn,!0,un,null,mn);break;case"together":wj(sn,!1,null,null,void 0);break;default:sn.memoizedState=null}return sn.child}function ij(tn,sn){!(sn.mode&1)&&tn!==null&&(tn.alternate=null,sn.alternate=null,sn.flags|=2)}function Zi(tn,sn,un){if(tn!==null&&(sn.dependencies=tn.dependencies),rh|=sn.lanes,!(un&sn.childLanes))return null;if(tn!==null&&sn.child!==tn.child)throw Error(p$2(153));if(sn.child!==null){for(tn=sn.child,un=Pg(tn,tn.pendingProps),sn.child=un,un.return=sn;tn.sibling!==null;)tn=tn.sibling,un=un.sibling=Pg(tn,tn.pendingProps),un.return=sn;un.sibling=null}return sn.child}function yj(tn,sn,un){switch(sn.tag){case 3:kj(sn),Ig();break;case 5:Ah(sn);break;case 1:Zf(sn.type)&&cg(sn);break;case 4:yh(sn,sn.stateNode.containerInfo);break;case 10:var dn=sn.type._context,pn=sn.memoizedProps.value;G$1(Wg,dn._currentValue),dn._currentValue=pn;break;case 13:if(dn=sn.memoizedState,dn!==null)return dn.dehydrated!==null?(G$1(L$1,L$1.current&1),sn.flags|=128,null):un&sn.child.childLanes?oj(tn,sn,un):(G$1(L$1,L$1.current&1),tn=Zi(tn,sn,un),tn!==null?tn.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(dn=(un&sn.childLanes)!==0,tn.flags&128){if(dn)return xj(tn,sn,un);sn.flags|=128}if(pn=sn.memoizedState,pn!==null&&(pn.rendering=null,pn.tail=null,pn.lastEffect=null),G$1(L$1,L$1.current),dn)break;return null;case 22:case 23:return sn.lanes=0,dj(tn,sn,un)}return Zi(tn,sn,un)}var zj,Aj,Bj,Cj;zj=function(tn,sn){for(var un=sn.child;un!==null;){if(un.tag===5||un.tag===6)tn.appendChild(un.stateNode);else if(un.tag!==4&&un.child!==null){un.child.return=un,un=un.child;continue}if(un===sn)break;for(;un.sibling===null;){if(un.return===null||un.return===sn)return;un=un.return}un.sibling.return=un.return,un=un.sibling}};Aj=function(){};Bj=function(tn,sn,un,dn){var pn=tn.memoizedProps;if(pn!==dn){tn=sn.stateNode,xh(uh.current);var mn=null;switch(un){case"input":pn=Ya(tn,pn),dn=Ya(tn,dn),mn=[];break;case"select":pn=A$1({},pn,{value:void 0}),dn=A$1({},dn,{value:void 0}),mn=[];break;case"textarea":pn=gb(tn,pn),dn=gb(tn,dn),mn=[];break;default:typeof pn.onClick!="function"&&typeof dn.onClick=="function"&&(tn.onclick=Bf)}ub(un,dn);var hn;un=null;for(xn in pn)if(!dn.hasOwnProperty(xn)&&pn.hasOwnProperty(xn)&&pn[xn]!=null)if(xn==="style"){var fn=pn[xn];for(hn in fn)fn.hasOwnProperty(hn)&&(un||(un={}),un[hn]="")}else xn!=="dangerouslySetInnerHTML"&&xn!=="children"&&xn!=="suppressContentEditableWarning"&&xn!=="suppressHydrationWarning"&&xn!=="autoFocus"&&(ea.hasOwnProperty(xn)?mn||(mn=[]):(mn=mn||[]).push(xn,null));for(xn in dn){var gn=dn[xn];if(fn=pn!=null?pn[xn]:void 0,dn.hasOwnProperty(xn)&&gn!==fn&&(gn!=null||fn!=null))if(xn==="style")if(fn){for(hn in fn)!fn.hasOwnProperty(hn)||gn&&gn.hasOwnProperty(hn)||(un||(un={}),un[hn]="");for(hn in gn)gn.hasOwnProperty(hn)&&fn[hn]!==gn[hn]&&(un||(un={}),un[hn]=gn[hn])}else un||(mn||(mn=[]),mn.push(xn,un)),un=gn;else xn==="dangerouslySetInnerHTML"?(gn=gn?gn.__html:void 0,fn=fn?fn.__html:void 0,gn!=null&&fn!==gn&&(mn=mn||[]).push(xn,gn)):xn==="children"?typeof gn!="string"&&typeof gn!="number"||(mn=mn||[]).push(xn,""+gn):xn!=="suppressContentEditableWarning"&&xn!=="suppressHydrationWarning"&&(ea.hasOwnProperty(xn)?(gn!=null&&xn==="onScroll"&&D$1("scroll",tn),mn||fn===gn||(mn=[])):(mn=mn||[]).push(xn,gn))}un&&(mn=mn||[]).push("style",un);var xn=mn;(sn.updateQueue=xn)&&(sn.flags|=4)}};Cj=function(tn,sn,un,dn){un!==dn&&(sn.flags|=4)};function Dj(tn,sn){if(!I$1)switch(tn.tailMode){case"hidden":sn=tn.tail;for(var un=null;sn!==null;)sn.alternate!==null&&(un=sn),sn=sn.sibling;un===null?tn.tail=null:un.sibling=null;break;case"collapsed":un=tn.tail;for(var dn=null;un!==null;)un.alternate!==null&&(dn=un),un=un.sibling;dn===null?sn||tn.tail===null?tn.tail=null:tn.tail.sibling=null:dn.sibling=null}}function S$1(tn){var sn=tn.alternate!==null&&tn.alternate.child===tn.child,un=0,dn=0;if(sn)for(var pn=tn.child;pn!==null;)un|=pn.lanes|pn.childLanes,dn|=pn.subtreeFlags&14680064,dn|=pn.flags&14680064,pn.return=tn,pn=pn.sibling;else for(pn=tn.child;pn!==null;)un|=pn.lanes|pn.childLanes,dn|=pn.subtreeFlags,dn|=pn.flags,pn.return=tn,pn=pn.sibling;return tn.subtreeFlags|=dn,tn.childLanes=un,sn}function Ej(tn,sn,un){var dn=sn.pendingProps;switch(wg(sn),sn.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(sn),null;case 1:return Zf(sn.type)&&$f(),S$1(sn),null;case 3:return dn=sn.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),dn.pendingContext&&(dn.context=dn.pendingContext,dn.pendingContext=null),(tn===null||tn.child===null)&&(Gg(sn)?sn.flags|=4:tn===null||tn.memoizedState.isDehydrated&&!(sn.flags&256)||(sn.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(tn,sn),S$1(sn),null;case 5:Bh(sn);var pn=xh(wh.current);if(un=sn.type,tn!==null&&sn.stateNode!=null)Bj(tn,sn,un,dn,pn),tn.ref!==sn.ref&&(sn.flags|=512,sn.flags|=2097152);else{if(!dn){if(sn.stateNode===null)throw Error(p$2(166));return S$1(sn),null}if(tn=xh(uh.current),Gg(sn)){dn=sn.stateNode,un=sn.type;var mn=sn.memoizedProps;switch(dn[Of]=sn,dn[Pf]=mn,tn=(sn.mode&1)!==0,un){case"dialog":D$1("cancel",dn),D$1("close",dn);break;case"iframe":case"object":case"embed":D$1("load",dn);break;case"video":case"audio":for(pn=0;pn<lf.length;pn++)D$1(lf[pn],dn);break;case"source":D$1("error",dn);break;case"img":case"image":case"link":D$1("error",dn),D$1("load",dn);break;case"details":D$1("toggle",dn);break;case"input":Za(dn,mn),D$1("invalid",dn);break;case"select":dn._wrapperState={wasMultiple:!!mn.multiple},D$1("invalid",dn);break;case"textarea":hb(dn,mn),D$1("invalid",dn)}ub(un,mn),pn=null;for(var hn in mn)if(mn.hasOwnProperty(hn)){var fn=mn[hn];hn==="children"?typeof fn=="string"?dn.textContent!==fn&&(mn.suppressHydrationWarning!==!0&&Af(dn.textContent,fn,tn),pn=["children",fn]):typeof fn=="number"&&dn.textContent!==""+fn&&(mn.suppressHydrationWarning!==!0&&Af(dn.textContent,fn,tn),pn=["children",""+fn]):ea.hasOwnProperty(hn)&&fn!=null&&hn==="onScroll"&&D$1("scroll",dn)}switch(un){case"input":Va(dn),db(dn,mn,!0);break;case"textarea":Va(dn),jb(dn);break;case"select":case"option":break;default:typeof mn.onClick=="function"&&(dn.onclick=Bf)}dn=pn,sn.updateQueue=dn,dn!==null&&(sn.flags|=4)}else{hn=pn.nodeType===9?pn:pn.ownerDocument,tn==="http://www.w3.org/1999/xhtml"&&(tn=kb(un)),tn==="http://www.w3.org/1999/xhtml"?un==="script"?(tn=hn.createElement("div"),tn.innerHTML="<script><\/script>",tn=tn.removeChild(tn.firstChild)):typeof dn.is=="string"?tn=hn.createElement(un,{is:dn.is}):(tn=hn.createElement(un),un==="select"&&(hn=tn,dn.multiple?hn.multiple=!0:dn.size&&(hn.size=dn.size))):tn=hn.createElementNS(tn,un),tn[Of]=sn,tn[Pf]=dn,zj(tn,sn,!1,!1),sn.stateNode=tn;e:{switch(hn=vb(un,dn),un){case"dialog":D$1("cancel",tn),D$1("close",tn),pn=dn;break;case"iframe":case"object":case"embed":D$1("load",tn),pn=dn;break;case"video":case"audio":for(pn=0;pn<lf.length;pn++)D$1(lf[pn],tn);pn=dn;break;case"source":D$1("error",tn),pn=dn;break;case"img":case"image":case"link":D$1("error",tn),D$1("load",tn),pn=dn;break;case"details":D$1("toggle",tn),pn=dn;break;case"input":Za(tn,dn),pn=Ya(tn,dn),D$1("invalid",tn);break;case"option":pn=dn;break;case"select":tn._wrapperState={wasMultiple:!!dn.multiple},pn=A$1({},dn,{value:void 0}),D$1("invalid",tn);break;case"textarea":hb(tn,dn),pn=gb(tn,dn),D$1("invalid",tn);break;default:pn=dn}ub(un,pn),fn=pn;for(mn in fn)if(fn.hasOwnProperty(mn)){var gn=fn[mn];mn==="style"?sb(tn,gn):mn==="dangerouslySetInnerHTML"?(gn=gn?gn.__html:void 0,gn!=null&&nb(tn,gn)):mn==="children"?typeof gn=="string"?(un!=="textarea"||gn!=="")&&ob(tn,gn):typeof gn=="number"&&ob(tn,""+gn):mn!=="suppressContentEditableWarning"&&mn!=="suppressHydrationWarning"&&mn!=="autoFocus"&&(ea.hasOwnProperty(mn)?gn!=null&&mn==="onScroll"&&D$1("scroll",tn):gn!=null&&ta$2(tn,mn,gn,hn))}switch(un){case"input":Va(tn),db(tn,dn,!1);break;case"textarea":Va(tn),jb(tn);break;case"option":dn.value!=null&&tn.setAttribute("value",""+Sa(dn.value));break;case"select":tn.multiple=!!dn.multiple,mn=dn.value,mn!=null?fb(tn,!!dn.multiple,mn,!1):dn.defaultValue!=null&&fb(tn,!!dn.multiple,dn.defaultValue,!0);break;default:typeof pn.onClick=="function"&&(tn.onclick=Bf)}switch(un){case"button":case"input":case"select":case"textarea":dn=!!dn.autoFocus;break e;case"img":dn=!0;break e;default:dn=!1}}dn&&(sn.flags|=4)}sn.ref!==null&&(sn.flags|=512,sn.flags|=2097152)}return S$1(sn),null;case 6:if(tn&&sn.stateNode!=null)Cj(tn,sn,tn.memoizedProps,dn);else{if(typeof dn!="string"&&sn.stateNode===null)throw Error(p$2(166));if(un=xh(wh.current),xh(uh.current),Gg(sn)){if(dn=sn.stateNode,un=sn.memoizedProps,dn[Of]=sn,(mn=dn.nodeValue!==un)&&(tn=xg,tn!==null))switch(tn.tag){case 3:Af(dn.nodeValue,un,(tn.mode&1)!==0);break;case 5:tn.memoizedProps.suppressHydrationWarning!==!0&&Af(dn.nodeValue,un,(tn.mode&1)!==0)}mn&&(sn.flags|=4)}else dn=(un.nodeType===9?un:un.ownerDocument).createTextNode(dn),dn[Of]=sn,sn.stateNode=dn}return S$1(sn),null;case 13:if(E$1(L$1),dn=sn.memoizedState,tn===null||tn.memoizedState!==null&&tn.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&sn.mode&1&&!(sn.flags&128))Hg(),Ig(),sn.flags|=98560,mn=!1;else if(mn=Gg(sn),dn!==null&&dn.dehydrated!==null){if(tn===null){if(!mn)throw Error(p$2(318));if(mn=sn.memoizedState,mn=mn!==null?mn.dehydrated:null,!mn)throw Error(p$2(317));mn[Of]=sn}else Ig(),!(sn.flags&128)&&(sn.memoizedState=null),sn.flags|=4;S$1(sn),mn=!1}else zg!==null&&(Fj(zg),zg=null),mn=!0;if(!mn)return sn.flags&65536?sn:null}return sn.flags&128?(sn.lanes=un,sn):(dn=dn!==null,dn!==(tn!==null&&tn.memoizedState!==null)&&dn&&(sn.child.flags|=8192,sn.mode&1&&(tn===null||L$1.current&1?T$1===0&&(T$1=3):tj())),sn.updateQueue!==null&&(sn.flags|=4),S$1(sn),null);case 4:return zh(),Aj(tn,sn),tn===null&&sf(sn.stateNode.containerInfo),S$1(sn),null;case 10:return ah(sn.type._context),S$1(sn),null;case 17:return Zf(sn.type)&&$f(),S$1(sn),null;case 19:if(E$1(L$1),mn=sn.memoizedState,mn===null)return S$1(sn),null;if(dn=(sn.flags&128)!==0,hn=mn.rendering,hn===null)if(dn)Dj(mn,!1);else{if(T$1!==0||tn!==null&&tn.flags&128)for(tn=sn.child;tn!==null;){if(hn=Ch(tn),hn!==null){for(sn.flags|=128,Dj(mn,!1),dn=hn.updateQueue,dn!==null&&(sn.updateQueue=dn,sn.flags|=4),sn.subtreeFlags=0,dn=un,un=sn.child;un!==null;)mn=un,tn=dn,mn.flags&=14680066,hn=mn.alternate,hn===null?(mn.childLanes=0,mn.lanes=tn,mn.child=null,mn.subtreeFlags=0,mn.memoizedProps=null,mn.memoizedState=null,mn.updateQueue=null,mn.dependencies=null,mn.stateNode=null):(mn.childLanes=hn.childLanes,mn.lanes=hn.lanes,mn.child=hn.child,mn.subtreeFlags=0,mn.deletions=null,mn.memoizedProps=hn.memoizedProps,mn.memoizedState=hn.memoizedState,mn.updateQueue=hn.updateQueue,mn.type=hn.type,tn=hn.dependencies,mn.dependencies=tn===null?null:{lanes:tn.lanes,firstContext:tn.firstContext}),un=un.sibling;return G$1(L$1,L$1.current&1|2),sn.child}tn=tn.sibling}mn.tail!==null&&B$1()>Gj&&(sn.flags|=128,dn=!0,Dj(mn,!1),sn.lanes=4194304)}else{if(!dn)if(tn=Ch(hn),tn!==null){if(sn.flags|=128,dn=!0,un=tn.updateQueue,un!==null&&(sn.updateQueue=un,sn.flags|=4),Dj(mn,!0),mn.tail===null&&mn.tailMode==="hidden"&&!hn.alternate&&!I$1)return S$1(sn),null}else 2*B$1()-mn.renderingStartTime>Gj&&un!==1073741824&&(sn.flags|=128,dn=!0,Dj(mn,!1),sn.lanes=4194304);mn.isBackwards?(hn.sibling=sn.child,sn.child=hn):(un=mn.last,un!==null?un.sibling=hn:sn.child=hn,mn.last=hn)}return mn.tail!==null?(sn=mn.tail,mn.rendering=sn,mn.tail=sn.sibling,mn.renderingStartTime=B$1(),sn.sibling=null,un=L$1.current,G$1(L$1,dn?un&1|2:un&1),sn):(S$1(sn),null);case 22:case 23:return Hj(),dn=sn.memoizedState!==null,tn!==null&&tn.memoizedState!==null!==dn&&(sn.flags|=8192),dn&&sn.mode&1?fj&1073741824&&(S$1(sn),sn.subtreeFlags&6&&(sn.flags|=8192)):S$1(sn),null;case 24:return null;case 25:return null}throw Error(p$2(156,sn.tag))}function Ij(tn,sn){switch(wg(sn),sn.tag){case 1:return Zf(sn.type)&&$f(),tn=sn.flags,tn&65536?(sn.flags=tn&-65537|128,sn):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),tn=sn.flags,tn&65536&&!(tn&128)?(sn.flags=tn&-65537|128,sn):null;case 5:return Bh(sn),null;case 13:if(E$1(L$1),tn=sn.memoizedState,tn!==null&&tn.dehydrated!==null){if(sn.alternate===null)throw Error(p$2(340));Ig()}return tn=sn.flags,tn&65536?(sn.flags=tn&-65537|128,sn):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah(sn.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(tn,sn){var un=tn.ref;if(un!==null)if(typeof un=="function")try{un(null)}catch(dn){W$1(tn,sn,dn)}else un.current=null}function Mj(tn,sn,un){try{un()}catch(dn){W$1(tn,sn,dn)}}var Nj=!1;function Oj(tn,sn){if(Cf=dd,tn=Me$1(),Ne$1(tn)){if("selectionStart"in tn)var un={start:tn.selectionStart,end:tn.selectionEnd};else e:{un=(un=tn.ownerDocument)&&un.defaultView||window;var dn=un.getSelection&&un.getSelection();if(dn&&dn.rangeCount!==0){un=dn.anchorNode;var pn=dn.anchorOffset,mn=dn.focusNode;dn=dn.focusOffset;try{un.nodeType,mn.nodeType}catch{un=null;break e}var hn=0,fn=-1,gn=-1,xn=0,yn=0,vn=tn,En=null;t:for(;;){for(var bn;vn!==un||pn!==0&&vn.nodeType!==3||(fn=hn+pn),vn!==mn||dn!==0&&vn.nodeType!==3||(gn=hn+dn),vn.nodeType===3&&(hn+=vn.nodeValue.length),(bn=vn.firstChild)!==null;)En=vn,vn=bn;for(;;){if(vn===tn)break t;if(En===un&&++xn===pn&&(fn=hn),En===mn&&++yn===dn&&(gn=hn),(bn=vn.nextSibling)!==null)break;vn=En,En=vn.parentNode}vn=bn}un=fn===-1||gn===-1?null:{start:fn,end:gn}}else un=null}un=un||{start:0,end:0}}else un=null;for(Df={focusedElem:tn,selectionRange:un},dd=!1,V$1=sn;V$1!==null;)if(sn=V$1,tn=sn.child,(sn.subtreeFlags&1028)!==0&&tn!==null)tn.return=sn,V$1=tn;else for(;V$1!==null;){sn=V$1;try{var wn=sn.alternate;if(sn.flags&1024)switch(sn.tag){case 0:case 11:case 15:break;case 1:if(wn!==null){var Sn=wn.memoizedProps,Rn=wn.memoizedState,_n=sn.stateNode,jn=_n.getSnapshotBeforeUpdate(sn.elementType===sn.type?Sn:Ci(sn.type,Sn),Rn);_n.__reactInternalSnapshotBeforeUpdate=jn}break;case 3:var Cn=sn.stateNode.containerInfo;Cn.nodeType===1?Cn.textContent="":Cn.nodeType===9&&Cn.documentElement&&Cn.removeChild(Cn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(An){W$1(sn,sn.return,An)}if(tn=sn.sibling,tn!==null){tn.return=sn.return,V$1=tn;break}V$1=sn.return}return wn=Nj,Nj=!1,wn}function Pj(tn,sn,un){var dn=sn.updateQueue;if(dn=dn!==null?dn.lastEffect:null,dn!==null){var pn=dn=dn.next;do{if((pn.tag&tn)===tn){var mn=pn.destroy;pn.destroy=void 0,mn!==void 0&&Mj(sn,un,mn)}pn=pn.next}while(pn!==dn)}}function Qj(tn,sn){if(sn=sn.updateQueue,sn=sn!==null?sn.lastEffect:null,sn!==null){var un=sn=sn.next;do{if((un.tag&tn)===tn){var dn=un.create;un.destroy=dn()}un=un.next}while(un!==sn)}}function Rj(tn){var sn=tn.ref;if(sn!==null){var un=tn.stateNode;switch(tn.tag){case 5:tn=un;break;default:tn=un}typeof sn=="function"?sn(tn):sn.current=tn}}function Sj(tn){var sn=tn.alternate;sn!==null&&(tn.alternate=null,Sj(sn)),tn.child=null,tn.deletions=null,tn.sibling=null,tn.tag===5&&(sn=tn.stateNode,sn!==null&&(delete sn[Of],delete sn[Pf],delete sn[of],delete sn[Qf],delete sn[Rf])),tn.stateNode=null,tn.return=null,tn.dependencies=null,tn.memoizedProps=null,tn.memoizedState=null,tn.pendingProps=null,tn.stateNode=null,tn.updateQueue=null}function Tj(tn){return tn.tag===5||tn.tag===3||tn.tag===4}function Uj(tn){e:for(;;){for(;tn.sibling===null;){if(tn.return===null||Tj(tn.return))return null;tn=tn.return}for(tn.sibling.return=tn.return,tn=tn.sibling;tn.tag!==5&&tn.tag!==6&&tn.tag!==18;){if(tn.flags&2||tn.child===null||tn.tag===4)continue e;tn.child.return=tn,tn=tn.child}if(!(tn.flags&2))return tn.stateNode}}function Vj(tn,sn,un){var dn=tn.tag;if(dn===5||dn===6)tn=tn.stateNode,sn?un.nodeType===8?un.parentNode.insertBefore(tn,sn):un.insertBefore(tn,sn):(un.nodeType===8?(sn=un.parentNode,sn.insertBefore(tn,un)):(sn=un,sn.appendChild(tn)),un=un._reactRootContainer,un!=null||sn.onclick!==null||(sn.onclick=Bf));else if(dn!==4&&(tn=tn.child,tn!==null))for(Vj(tn,sn,un),tn=tn.sibling;tn!==null;)Vj(tn,sn,un),tn=tn.sibling}function Wj(tn,sn,un){var dn=tn.tag;if(dn===5||dn===6)tn=tn.stateNode,sn?un.insertBefore(tn,sn):un.appendChild(tn);else if(dn!==4&&(tn=tn.child,tn!==null))for(Wj(tn,sn,un),tn=tn.sibling;tn!==null;)Wj(tn,sn,un),tn=tn.sibling}var X$2=null,Xj=!1;function Yj(tn,sn,un){for(un=un.child;un!==null;)Zj(tn,sn,un),un=un.sibling}function Zj(tn,sn,un){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,un)}catch{}switch(un.tag){case 5:U$1||Lj(un,sn);case 6:var dn=X$2,pn=Xj;X$2=null,Yj(tn,sn,un),X$2=dn,Xj=pn,X$2!==null&&(Xj?(tn=X$2,un=un.stateNode,tn.nodeType===8?tn.parentNode.removeChild(un):tn.removeChild(un)):X$2.removeChild(un.stateNode));break;case 18:X$2!==null&&(Xj?(tn=X$2,un=un.stateNode,tn.nodeType===8?Kf(tn.parentNode,un):tn.nodeType===1&&Kf(tn,un),bd(tn)):Kf(X$2,un.stateNode));break;case 4:dn=X$2,pn=Xj,X$2=un.stateNode.containerInfo,Xj=!0,Yj(tn,sn,un),X$2=dn,Xj=pn;break;case 0:case 11:case 14:case 15:if(!U$1&&(dn=un.updateQueue,dn!==null&&(dn=dn.lastEffect,dn!==null))){pn=dn=dn.next;do{var mn=pn,hn=mn.destroy;mn=mn.tag,hn!==void 0&&(mn&2||mn&4)&&Mj(un,sn,hn),pn=pn.next}while(pn!==dn)}Yj(tn,sn,un);break;case 1:if(!U$1&&(Lj(un,sn),dn=un.stateNode,typeof dn.componentWillUnmount=="function"))try{dn.props=un.memoizedProps,dn.state=un.memoizedState,dn.componentWillUnmount()}catch(fn){W$1(un,sn,fn)}Yj(tn,sn,un);break;case 21:Yj(tn,sn,un);break;case 22:un.mode&1?(U$1=(dn=U$1)||un.memoizedState!==null,Yj(tn,sn,un),U$1=dn):Yj(tn,sn,un);break;default:Yj(tn,sn,un)}}function ak(tn){var sn=tn.updateQueue;if(sn!==null){tn.updateQueue=null;var un=tn.stateNode;un===null&&(un=tn.stateNode=new Kj),sn.forEach(function(dn){var pn=bk.bind(null,tn,dn);un.has(dn)||(un.add(dn),dn.then(pn,pn))})}}function ck(tn,sn){var un=sn.deletions;if(un!==null)for(var dn=0;dn<un.length;dn++){var pn=un[dn];try{var mn=tn,hn=sn,fn=hn;e:for(;fn!==null;){switch(fn.tag){case 5:X$2=fn.stateNode,Xj=!1;break e;case 3:X$2=fn.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=fn.stateNode.containerInfo,Xj=!0;break e}fn=fn.return}if(X$2===null)throw Error(p$2(160));Zj(mn,hn,pn),X$2=null,Xj=!1;var gn=pn.alternate;gn!==null&&(gn.return=null),pn.return=null}catch(xn){W$1(pn,sn,xn)}}if(sn.subtreeFlags&12854)for(sn=sn.child;sn!==null;)dk(sn,tn),sn=sn.sibling}function dk(tn,sn){var un=tn.alternate,dn=tn.flags;switch(tn.tag){case 0:case 11:case 14:case 15:if(ck(sn,tn),ek(tn),dn&4){try{Pj(3,tn,tn.return),Qj(3,tn)}catch(Sn){W$1(tn,tn.return,Sn)}try{Pj(5,tn,tn.return)}catch(Sn){W$1(tn,tn.return,Sn)}}break;case 1:ck(sn,tn),ek(tn),dn&512&&un!==null&&Lj(un,un.return);break;case 5:if(ck(sn,tn),ek(tn),dn&512&&un!==null&&Lj(un,un.return),tn.flags&32){var pn=tn.stateNode;try{ob(pn,"")}catch(Sn){W$1(tn,tn.return,Sn)}}if(dn&4&&(pn=tn.stateNode,pn!=null)){var mn=tn.memoizedProps,hn=un!==null?un.memoizedProps:mn,fn=tn.type,gn=tn.updateQueue;if(tn.updateQueue=null,gn!==null)try{fn==="input"&&mn.type==="radio"&&mn.name!=null&&ab(pn,mn),vb(fn,hn);var xn=vb(fn,mn);for(hn=0;hn<gn.length;hn+=2){var yn=gn[hn],vn=gn[hn+1];yn==="style"?sb(pn,vn):yn==="dangerouslySetInnerHTML"?nb(pn,vn):yn==="children"?ob(pn,vn):ta$2(pn,yn,vn,xn)}switch(fn){case"input":bb(pn,mn);break;case"textarea":ib(pn,mn);break;case"select":var En=pn._wrapperState.wasMultiple;pn._wrapperState.wasMultiple=!!mn.multiple;var bn=mn.value;bn!=null?fb(pn,!!mn.multiple,bn,!1):En!==!!mn.multiple&&(mn.defaultValue!=null?fb(pn,!!mn.multiple,mn.defaultValue,!0):fb(pn,!!mn.multiple,mn.multiple?[]:"",!1))}pn[Pf]=mn}catch(Sn){W$1(tn,tn.return,Sn)}}break;case 6:if(ck(sn,tn),ek(tn),dn&4){if(tn.stateNode===null)throw Error(p$2(162));pn=tn.stateNode,mn=tn.memoizedProps;try{pn.nodeValue=mn}catch(Sn){W$1(tn,tn.return,Sn)}}break;case 3:if(ck(sn,tn),ek(tn),dn&4&&un!==null&&un.memoizedState.isDehydrated)try{bd(sn.containerInfo)}catch(Sn){W$1(tn,tn.return,Sn)}break;case 4:ck(sn,tn),ek(tn);break;case 13:ck(sn,tn),ek(tn),pn=tn.child,pn.flags&8192&&(mn=pn.memoizedState!==null,pn.stateNode.isHidden=mn,!mn||pn.alternate!==null&&pn.alternate.memoizedState!==null||(fk=B$1())),dn&4&&ak(tn);break;case 22:if(yn=un!==null&&un.memoizedState!==null,tn.mode&1?(U$1=(xn=U$1)||yn,ck(sn,tn),U$1=xn):ck(sn,tn),ek(tn),dn&8192){if(xn=tn.memoizedState!==null,(tn.stateNode.isHidden=xn)&&!yn&&tn.mode&1)for(V$1=tn,yn=tn.child;yn!==null;){for(vn=V$1=yn;V$1!==null;){switch(En=V$1,bn=En.child,En.tag){case 0:case 11:case 14:case 15:Pj(4,En,En.return);break;case 1:Lj(En,En.return);var wn=En.stateNode;if(typeof wn.componentWillUnmount=="function"){dn=En,un=En.return;try{sn=dn,wn.props=sn.memoizedProps,wn.state=sn.memoizedState,wn.componentWillUnmount()}catch(Sn){W$1(dn,un,Sn)}}break;case 5:Lj(En,En.return);break;case 22:if(En.memoizedState!==null){gk(vn);continue}}bn!==null?(bn.return=En,V$1=bn):gk(vn)}yn=yn.sibling}e:for(yn=null,vn=tn;;){if(vn.tag===5){if(yn===null){yn=vn;try{pn=vn.stateNode,xn?(mn=pn.style,typeof mn.setProperty=="function"?mn.setProperty("display","none","important"):mn.display="none"):(fn=vn.stateNode,gn=vn.memoizedProps.style,hn=gn!=null&&gn.hasOwnProperty("display")?gn.display:null,fn.style.display=rb("display",hn))}catch(Sn){W$1(tn,tn.return,Sn)}}}else if(vn.tag===6){if(yn===null)try{vn.stateNode.nodeValue=xn?"":vn.memoizedProps}catch(Sn){W$1(tn,tn.return,Sn)}}else if((vn.tag!==22&&vn.tag!==23||vn.memoizedState===null||vn===tn)&&vn.child!==null){vn.child.return=vn,vn=vn.child;continue}if(vn===tn)break e;for(;vn.sibling===null;){if(vn.return===null||vn.return===tn)break e;yn===vn&&(yn=null),vn=vn.return}yn===vn&&(yn=null),vn.sibling.return=vn.return,vn=vn.sibling}}break;case 19:ck(sn,tn),ek(tn),dn&4&&ak(tn);break;case 21:break;default:ck(sn,tn),ek(tn)}}function ek(tn){var sn=tn.flags;if(sn&2){try{e:{for(var un=tn.return;un!==null;){if(Tj(un)){var dn=un;break e}un=un.return}throw Error(p$2(160))}switch(dn.tag){case 5:var pn=dn.stateNode;dn.flags&32&&(ob(pn,""),dn.flags&=-33);var mn=Uj(tn);Wj(tn,mn,pn);break;case 3:case 4:var hn=dn.stateNode.containerInfo,fn=Uj(tn);Vj(tn,fn,hn);break;default:throw Error(p$2(161))}}catch(gn){W$1(tn,tn.return,gn)}tn.flags&=-3}sn&4096&&(tn.flags&=-4097)}function hk(tn,sn,un){V$1=tn,ik(tn)}function ik(tn,sn,un){for(var dn=(tn.mode&1)!==0;V$1!==null;){var pn=V$1,mn=pn.child;if(pn.tag===22&&dn){var hn=pn.memoizedState!==null||Jj;if(!hn){var fn=pn.alternate,gn=fn!==null&&fn.memoizedState!==null||U$1;fn=Jj;var xn=U$1;if(Jj=hn,(U$1=gn)&&!xn)for(V$1=pn;V$1!==null;)hn=V$1,gn=hn.child,hn.tag===22&&hn.memoizedState!==null?jk(pn):gn!==null?(gn.return=hn,V$1=gn):jk(pn);for(;mn!==null;)V$1=mn,ik(mn),mn=mn.sibling;V$1=pn,Jj=fn,U$1=xn}kk(tn)}else pn.subtreeFlags&8772&&mn!==null?(mn.return=pn,V$1=mn):kk(tn)}}function kk(tn){for(;V$1!==null;){var sn=V$1;if(sn.flags&8772){var un=sn.alternate;try{if(sn.flags&8772)switch(sn.tag){case 0:case 11:case 15:U$1||Qj(5,sn);break;case 1:var dn=sn.stateNode;if(sn.flags&4&&!U$1)if(un===null)dn.componentDidMount();else{var pn=sn.elementType===sn.type?un.memoizedProps:Ci(sn.type,un.memoizedProps);dn.componentDidUpdate(pn,un.memoizedState,dn.__reactInternalSnapshotBeforeUpdate)}var mn=sn.updateQueue;mn!==null&&sh(sn,mn,dn);break;case 3:var hn=sn.updateQueue;if(hn!==null){if(un=null,sn.child!==null)switch(sn.child.tag){case 5:un=sn.child.stateNode;break;case 1:un=sn.child.stateNode}sh(sn,hn,un)}break;case 5:var fn=sn.stateNode;if(un===null&&sn.flags&4){un=fn;var gn=sn.memoizedProps;switch(sn.type){case"button":case"input":case"select":case"textarea":gn.autoFocus&&un.focus();break;case"img":gn.src&&(un.src=gn.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(sn.memoizedState===null){var xn=sn.alternate;if(xn!==null){var yn=xn.memoizedState;if(yn!==null){var vn=yn.dehydrated;vn!==null&&bd(vn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||sn.flags&512&&Rj(sn)}catch(En){W$1(sn,sn.return,En)}}if(sn===tn){V$1=null;break}if(un=sn.sibling,un!==null){un.return=sn.return,V$1=un;break}V$1=sn.return}}function gk(tn){for(;V$1!==null;){var sn=V$1;if(sn===tn){V$1=null;break}var un=sn.sibling;if(un!==null){un.return=sn.return,V$1=un;break}V$1=sn.return}}function jk(tn){for(;V$1!==null;){var sn=V$1;try{switch(sn.tag){case 0:case 11:case 15:var un=sn.return;try{Qj(4,sn)}catch(gn){W$1(sn,un,gn)}break;case 1:var dn=sn.stateNode;if(typeof dn.componentDidMount=="function"){var pn=sn.return;try{dn.componentDidMount()}catch(gn){W$1(sn,pn,gn)}}var mn=sn.return;try{Rj(sn)}catch(gn){W$1(sn,mn,gn)}break;case 5:var hn=sn.return;try{Rj(sn)}catch(gn){W$1(sn,hn,gn)}}}catch(gn){W$1(sn,sn.return,gn)}if(sn===tn){V$1=null;break}var fn=sn.sibling;if(fn!==null){fn.return=sn.return,V$1=fn;break}V$1=sn.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok$2=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk$2=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(tn){return tn.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(tn=C$1,tn!==0||(tn=window.event,tn=tn===void 0?16:jd(tn.type)),tn):1}function gi(tn,sn,un,dn){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(tn,un,dn),(!(K$1&2)||tn!==Q$1)&&(tn===Q$1&&(!(K$1&2)&&(qk|=un),T$1===4&&Ck(tn,Z$1)),Dk(tn,dn),un===1&&K$1===0&&!(sn.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(tn,sn){var un=tn.callbackNode;wc(tn,sn);var dn=uc(tn,tn===Q$1?Z$1:0);if(dn===0)un!==null&&bc(un),tn.callbackNode=null,tn.callbackPriority=0;else if(sn=dn&-dn,tn.callbackPriority!==sn){if(un!=null&&bc(un),sn===1)tn.tag===0?ig(Ek.bind(null,tn)):hg(Ek.bind(null,tn)),Jf(function(){!(K$1&6)&&jg()}),un=null;else{switch(Dc(dn)){case 1:un=fc;break;case 4:un=gc;break;case 16:un=hc;break;case 536870912:un=jc;break;default:un=hc}un=Fk(un,Gk.bind(null,tn))}tn.callbackPriority=sn,tn.callbackNode=un}}function Gk(tn,sn){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var un=tn.callbackNode;if(Hk()&&tn.callbackNode!==un)return null;var dn=uc(tn,tn===Q$1?Z$1:0);if(dn===0)return null;if(dn&30||dn&tn.expiredLanes||sn)sn=Ik(tn,dn);else{sn=dn;var pn=K$1;K$1|=2;var mn=Jk();(Q$1!==tn||Z$1!==sn)&&(uk=null,Gj=B$1()+500,Kk(tn,sn));do try{Lk();break}catch(fn){Mk(tn,fn)}while(!0);$g(),mk.current=mn,K$1=pn,Y$1!==null?sn=0:(Q$1=null,Z$1=0,sn=T$1)}if(sn!==0){if(sn===2&&(pn=xc(tn),pn!==0&&(dn=pn,sn=Nk(tn,pn))),sn===1)throw un=pk,Kk(tn,0),Ck(tn,dn),Dk(tn,B$1()),un;if(sn===6)Ck(tn,dn);else{if(pn=tn.current.alternate,!(dn&30)&&!Ok$c(pn)&&(sn=Ik(tn,dn),sn===2&&(mn=xc(tn),mn!==0&&(dn=mn,sn=Nk(tn,mn))),sn===1))throw un=pk,Kk(tn,0),Ck(tn,dn),Dk(tn,B$1()),un;switch(tn.finishedWork=pn,tn.finishedLanes=dn,sn){case 0:case 1:throw Error(p$2(345));case 2:Pk(tn,tk$2,uk);break;case 3:if(Ck(tn,dn),(dn&130023424)===dn&&(sn=fk+500-B$1(),10<sn)){if(uc(tn,0)!==0)break;if(pn=tn.suspendedLanes,(pn&dn)!==dn){R$1(),tn.pingedLanes|=tn.suspendedLanes&pn;break}tn.timeoutHandle=Ff(Pk.bind(null,tn,tk$2,uk),sn);break}Pk(tn,tk$2,uk);break;case 4:if(Ck(tn,dn),(dn&4194240)===dn)break;for(sn=tn.eventTimes,pn=-1;0<dn;){var hn=31-oc(dn);mn=1<<hn,hn=sn[hn],hn>pn&&(pn=hn),dn&=~mn}if(dn=pn,dn=B$1()-dn,dn=(120>dn?120:480>dn?480:1080>dn?1080:1920>dn?1920:3e3>dn?3e3:4320>dn?4320:1960*lk(dn/1960))-dn,10<dn){tn.timeoutHandle=Ff(Pk.bind(null,tn,tk$2,uk),dn);break}Pk(tn,tk$2,uk);break;case 5:Pk(tn,tk$2,uk);break;default:throw Error(p$2(329))}}}return Dk(tn,B$1()),tn.callbackNode===un?Gk.bind(null,tn):null}function Nk(tn,sn){var un=sk;return tn.current.memoizedState.isDehydrated&&(Kk(tn,sn).flags|=256),tn=Ik(tn,sn),tn!==2&&(sn=tk$2,tk$2=un,sn!==null&&Fj(sn)),tn}function Fj(tn){tk$2===null?tk$2=tn:tk$2.push.apply(tk$2,tn)}function Ok$c(tn){for(var sn=tn;;){if(sn.flags&16384){var un=sn.updateQueue;if(un!==null&&(un=un.stores,un!==null))for(var dn=0;dn<un.length;dn++){var pn=un[dn],mn=pn.getSnapshot;pn=pn.value;try{if(!He$1(mn(),pn))return!1}catch{return!1}}}if(un=sn.child,sn.subtreeFlags&16384&&un!==null)un.return=sn,sn=un;else{if(sn===tn)break;for(;sn.sibling===null;){if(sn.return===null||sn.return===tn)return!0;sn=sn.return}sn.sibling.return=sn.return,sn=sn.sibling}}return!0}function Ck(tn,sn){for(sn&=~rk,sn&=~qk,tn.suspendedLanes|=sn,tn.pingedLanes&=~sn,tn=tn.expirationTimes;0<sn;){var un=31-oc(sn),dn=1<<un;tn[un]=-1,sn&=~dn}}function Ek(tn){if(K$1&6)throw Error(p$2(327));Hk();var sn=uc(tn,0);if(!(sn&1))return Dk(tn,B$1()),null;var un=Ik(tn,sn);if(tn.tag!==0&&un===2){var dn=xc(tn);dn!==0&&(sn=dn,un=Nk(tn,dn))}if(un===1)throw un=pk,Kk(tn,0),Ck(tn,sn),Dk(tn,B$1()),un;if(un===6)throw Error(p$2(345));return tn.finishedWork=tn.current.alternate,tn.finishedLanes=sn,Pk(tn,tk$2,uk),Dk(tn,B$1()),null}function Qk(tn,sn){var un=K$1;K$1|=1;try{return tn(sn)}finally{K$1=un,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(tn){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var sn=K$1;K$1|=1;var un=ok$2.transition,dn=C$1;try{if(ok$2.transition=null,C$1=1,tn)return tn()}finally{C$1=dn,ok$2.transition=un,K$1=sn,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(tn,sn){tn.finishedWork=null,tn.finishedLanes=0;var un=tn.timeoutHandle;if(un!==-1&&(tn.timeoutHandle=-1,Gf(un)),Y$1!==null)for(un=Y$1.return;un!==null;){var dn=un;switch(wg(dn),dn.tag){case 1:dn=dn.type.childContextTypes,dn!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(dn);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(dn.type._context);break;case 22:case 23:Hj()}un=un.return}if(Q$1=tn,Y$1=tn=Pg(tn.current,null),Z$1=fj=sn,T$1=0,pk=null,rk=qk=rh=0,tk$2=sk=null,fh!==null){for(sn=0;sn<fh.length;sn++)if(un=fh[sn],dn=un.interleaved,dn!==null){un.interleaved=null;var pn=dn.next,mn=un.pending;if(mn!==null){var hn=mn.next;mn.next=pn,dn.next=hn}un.pending=dn}fh=null}return tn}function Mk(tn,sn){do{var un=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var dn=M$1.memoizedState;dn!==null;){var pn=dn.queue;pn!==null&&(pn.pending=null),dn=dn.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,un===null||un.return===null){T$1=1,pk=sn,Y$1=null;break}e:{var mn=tn,hn=un.return,fn=un,gn=sn;if(sn=Z$1,fn.flags|=32768,gn!==null&&typeof gn=="object"&&typeof gn.then=="function"){var xn=gn,yn=fn,vn=yn.tag;if(!(yn.mode&1)&&(vn===0||vn===11||vn===15)){var En=yn.alternate;En?(yn.updateQueue=En.updateQueue,yn.memoizedState=En.memoizedState,yn.lanes=En.lanes):(yn.updateQueue=null,yn.memoizedState=null)}var bn=Ui(hn);if(bn!==null){bn.flags&=-257,Vi(bn,hn,fn,mn,sn),bn.mode&1&&Si(mn,xn,sn),sn=bn,gn=xn;var wn=sn.updateQueue;if(wn===null){var Sn=new Set;Sn.add(gn),sn.updateQueue=Sn}else wn.add(gn);break e}else{if(!(sn&1)){Si(mn,xn,sn),tj();break e}gn=Error(p$2(426))}}else if(I$1&&fn.mode&1){var Rn=Ui(hn);if(Rn!==null){!(Rn.flags&65536)&&(Rn.flags|=256),Vi(Rn,hn,fn,mn,sn),Jg(Ji(gn,fn));break e}}mn=gn=Ji(gn,fn),T$1!==4&&(T$1=2),sk===null?sk=[mn]:sk.push(mn),mn=hn;do{switch(mn.tag){case 3:mn.flags|=65536,sn&=-sn,mn.lanes|=sn;var _n=Ni(mn,gn,sn);ph(mn,_n);break e;case 1:fn=gn;var jn=mn.type,Cn=mn.stateNode;if(!(mn.flags&128)&&(typeof jn.getDerivedStateFromError=="function"||Cn!==null&&typeof Cn.componentDidCatch=="function"&&(Ri===null||!Ri.has(Cn)))){mn.flags|=65536,sn&=-sn,mn.lanes|=sn;var An=Qi(mn,fn,sn);ph(mn,An);break e}}mn=mn.return}while(mn!==null)}Sk(un)}catch(Tn){sn=Tn,Y$1===un&&un!==null&&(Y$1=un=un.return);continue}break}while(!0)}function Jk(){var tn=mk.current;return mk.current=Rh,tn===null?Rh:tn}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(tn,sn){var un=K$1;K$1|=2;var dn=Jk();(Q$1!==tn||Z$1!==sn)&&(uk=null,Kk(tn,sn));do try{Tk();break}catch(pn){Mk(tn,pn)}while(!0);if($g(),K$1=un,mk.current=dn,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(tn){var sn=Vk(tn.alternate,tn,fj);tn.memoizedProps=tn.pendingProps,sn===null?Sk(tn):Y$1=sn,nk.current=null}function Sk(tn){var sn=tn;do{var un=sn.alternate;if(tn=sn.return,sn.flags&32768){if(un=Ij(un,sn),un!==null){un.flags&=32767,Y$1=un;return}if(tn!==null)tn.flags|=32768,tn.subtreeFlags=0,tn.deletions=null;else{T$1=6,Y$1=null;return}}else if(un=Ej(un,sn,fj),un!==null){Y$1=un;return}if(sn=sn.sibling,sn!==null){Y$1=sn;return}Y$1=sn=tn}while(sn!==null);T$1===0&&(T$1=5)}function Pk(tn,sn,un){var dn=C$1,pn=ok$2.transition;try{ok$2.transition=null,C$1=1,Wk(tn,sn,un,dn)}finally{ok$2.transition=pn,C$1=dn}return null}function Wk(tn,sn,un,dn){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));un=tn.finishedWork;var pn=tn.finishedLanes;if(un===null)return null;if(tn.finishedWork=null,tn.finishedLanes=0,un===tn.current)throw Error(p$2(177));tn.callbackNode=null,tn.callbackPriority=0;var mn=un.lanes|un.childLanes;if(Bc(tn,mn),tn===Q$1&&(Y$1=Q$1=null,Z$1=0),!(un.subtreeFlags&2064)&&!(un.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),mn=(un.flags&15990)!==0,un.subtreeFlags&15990||mn){mn=ok$2.transition,ok$2.transition=null;var hn=C$1;C$1=1;var fn=K$1;K$1|=4,nk.current=null,Oj(tn,un),dk(un,tn),Oe$1(Df),dd=!!Cf,Df=Cf=null,tn.current=un,hk(un),dc(),K$1=fn,C$1=hn,ok$2.transition=mn}else tn.current=un;if(vk&&(vk=!1,wk=tn,xk=pn),mn=tn.pendingLanes,mn===0&&(Ri=null),mc(un.stateNode),Dk(tn,B$1()),sn!==null)for(dn=tn.onRecoverableError,un=0;un<sn.length;un++)pn=sn[un],dn(pn.value,{componentStack:pn.stack,digest:pn.digest});if(Oi)throw Oi=!1,tn=Pi,Pi=null,tn;return xk&1&&tn.tag!==0&&Hk(),mn=tn.pendingLanes,mn&1?tn===zk?yk++:(yk=0,zk=tn):yk=0,jg(),null}function Hk(){if(wk!==null){var tn=Dc(xk),sn=ok$2.transition,un=C$1;try{if(ok$2.transition=null,C$1=16>tn?16:tn,wk===null)var dn=!1;else{if(tn=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var pn=K$1;for(K$1|=4,V$1=tn.current;V$1!==null;){var mn=V$1,hn=mn.child;if(V$1.flags&16){var fn=mn.deletions;if(fn!==null){for(var gn=0;gn<fn.length;gn++){var xn=fn[gn];for(V$1=xn;V$1!==null;){var yn=V$1;switch(yn.tag){case 0:case 11:case 15:Pj(8,yn,mn)}var vn=yn.child;if(vn!==null)vn.return=yn,V$1=vn;else for(;V$1!==null;){yn=V$1;var En=yn.sibling,bn=yn.return;if(Sj(yn),yn===xn){V$1=null;break}if(En!==null){En.return=bn,V$1=En;break}V$1=bn}}}var wn=mn.alternate;if(wn!==null){var Sn=wn.child;if(Sn!==null){wn.child=null;do{var Rn=Sn.sibling;Sn.sibling=null,Sn=Rn}while(Sn!==null)}}V$1=mn}}if(mn.subtreeFlags&2064&&hn!==null)hn.return=mn,V$1=hn;else e:for(;V$1!==null;){if(mn=V$1,mn.flags&2048)switch(mn.tag){case 0:case 11:case 15:Pj(9,mn,mn.return)}var _n=mn.sibling;if(_n!==null){_n.return=mn.return,V$1=_n;break e}V$1=mn.return}}var jn=tn.current;for(V$1=jn;V$1!==null;){hn=V$1;var Cn=hn.child;if(hn.subtreeFlags&2064&&Cn!==null)Cn.return=hn,V$1=Cn;else e:for(hn=jn;V$1!==null;){if(fn=V$1,fn.flags&2048)try{switch(fn.tag){case 0:case 11:case 15:Qj(9,fn)}}catch(Tn){W$1(fn,fn.return,Tn)}if(fn===hn){V$1=null;break e}var An=fn.sibling;if(An!==null){An.return=fn.return,V$1=An;break e}V$1=fn.return}}if(K$1=pn,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,tn)}catch{}dn=!0}return dn}finally{C$1=un,ok$2.transition=sn}}return!1}function Xk(tn,sn,un){sn=Ji(un,sn),sn=Ni(tn,sn,1),tn=nh(tn,sn,1),sn=R$1(),tn!==null&&(Ac(tn,1,sn),Dk(tn,sn))}function W$1(tn,sn,un){if(tn.tag===3)Xk(tn,tn,un);else for(;sn!==null;){if(sn.tag===3){Xk(sn,tn,un);break}else if(sn.tag===1){var dn=sn.stateNode;if(typeof sn.type.getDerivedStateFromError=="function"||typeof dn.componentDidCatch=="function"&&(Ri===null||!Ri.has(dn))){tn=Ji(un,tn),tn=Qi(sn,tn,1),sn=nh(sn,tn,1),tn=R$1(),sn!==null&&(Ac(sn,1,tn),Dk(sn,tn));break}}sn=sn.return}}function Ti(tn,sn,un){var dn=tn.pingCache;dn!==null&&dn.delete(sn),sn=R$1(),tn.pingedLanes|=tn.suspendedLanes&un,Q$1===tn&&(Z$1&un)===un&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(tn,0):rk|=un),Dk(tn,sn)}function Yk(tn,sn){sn===0&&(tn.mode&1?(sn=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):sn=1);var un=R$1();tn=ih(tn,sn),tn!==null&&(Ac(tn,sn,un),Dk(tn,un))}function uj(tn){var sn=tn.memoizedState,un=0;sn!==null&&(un=sn.retryLane),Yk(tn,un)}function bk(tn,sn){var un=0;switch(tn.tag){case 13:var dn=tn.stateNode,pn=tn.memoizedState;pn!==null&&(un=pn.retryLane);break;case 19:dn=tn.stateNode;break;default:throw Error(p$2(314))}dn!==null&&dn.delete(sn),Yk(tn,un)}var Vk;Vk=function(tn,sn,un){if(tn!==null)if(tn.memoizedProps!==sn.pendingProps||Wf.current)dh=!0;else{if(!(tn.lanes&un)&&!(sn.flags&128))return dh=!1,yj(tn,sn,un);dh=!!(tn.flags&131072)}else dh=!1,I$1&&sn.flags&1048576&&ug(sn,ng,sn.index);switch(sn.lanes=0,sn.tag){case 2:var dn=sn.type;ij(tn,sn),tn=sn.pendingProps;var pn=Yf(sn,H$1.current);ch(sn,un),pn=Nh(null,sn,dn,tn,pn,un);var mn=Sh();return sn.flags|=1,typeof pn=="object"&&pn!==null&&typeof pn.render=="function"&&pn.$$typeof===void 0?(sn.tag=1,sn.memoizedState=null,sn.updateQueue=null,Zf(dn)?(mn=!0,cg(sn)):mn=!1,sn.memoizedState=pn.state!==null&&pn.state!==void 0?pn.state:null,kh(sn),pn.updater=Ei,sn.stateNode=pn,pn._reactInternals=sn,Ii(sn,dn,tn,un),sn=jj(null,sn,dn,!0,mn,un)):(sn.tag=0,I$1&&mn&&vg(sn),Xi(null,sn,pn,un),sn=sn.child),sn;case 16:dn=sn.elementType;e:{switch(ij(tn,sn),tn=sn.pendingProps,pn=dn._init,dn=pn(dn._payload),sn.type=dn,pn=sn.tag=Zk(dn),tn=Ci(dn,tn),pn){case 0:sn=cj(null,sn,dn,tn,un);break e;case 1:sn=hj(null,sn,dn,tn,un);break e;case 11:sn=Yi(null,sn,dn,tn,un);break e;case 14:sn=$i(null,sn,dn,Ci(dn.type,tn),un);break e}throw Error(p$2(306,dn,""))}return sn;case 0:return dn=sn.type,pn=sn.pendingProps,pn=sn.elementType===dn?pn:Ci(dn,pn),cj(tn,sn,dn,pn,un);case 1:return dn=sn.type,pn=sn.pendingProps,pn=sn.elementType===dn?pn:Ci(dn,pn),hj(tn,sn,dn,pn,un);case 3:e:{if(kj(sn),tn===null)throw Error(p$2(387));dn=sn.pendingProps,mn=sn.memoizedState,pn=mn.element,lh(tn,sn),qh(sn,dn,null,un);var hn=sn.memoizedState;if(dn=hn.element,mn.isDehydrated)if(mn={element:dn,isDehydrated:!1,cache:hn.cache,pendingSuspenseBoundaries:hn.pendingSuspenseBoundaries,transitions:hn.transitions},sn.updateQueue.baseState=mn,sn.memoizedState=mn,sn.flags&256){pn=Ji(Error(p$2(423)),sn),sn=lj(tn,sn,dn,un,pn);break e}else if(dn!==pn){pn=Ji(Error(p$2(424)),sn),sn=lj(tn,sn,dn,un,pn);break e}else for(yg=Lf(sn.stateNode.containerInfo.firstChild),xg=sn,I$1=!0,zg=null,un=Vg(sn,null,dn,un),sn.child=un;un;)un.flags=un.flags&-3|4096,un=un.sibling;else{if(Ig(),dn===pn){sn=Zi(tn,sn,un);break e}Xi(tn,sn,dn,un)}sn=sn.child}return sn;case 5:return Ah(sn),tn===null&&Eg(sn),dn=sn.type,pn=sn.pendingProps,mn=tn!==null?tn.memoizedProps:null,hn=pn.children,Ef(dn,pn)?hn=null:mn!==null&&Ef(dn,mn)&&(sn.flags|=32),gj(tn,sn),Xi(tn,sn,hn,un),sn.child;case 6:return tn===null&&Eg(sn),null;case 13:return oj(tn,sn,un);case 4:return yh(sn,sn.stateNode.containerInfo),dn=sn.pendingProps,tn===null?sn.child=Ug(sn,null,dn,un):Xi(tn,sn,dn,un),sn.child;case 11:return dn=sn.type,pn=sn.pendingProps,pn=sn.elementType===dn?pn:Ci(dn,pn),Yi(tn,sn,dn,pn,un);case 7:return Xi(tn,sn,sn.pendingProps,un),sn.child;case 8:return Xi(tn,sn,sn.pendingProps.children,un),sn.child;case 12:return Xi(tn,sn,sn.pendingProps.children,un),sn.child;case 10:e:{if(dn=sn.type._context,pn=sn.pendingProps,mn=sn.memoizedProps,hn=pn.value,G$1(Wg,dn._currentValue),dn._currentValue=hn,mn!==null)if(He$1(mn.value,hn)){if(mn.children===pn.children&&!Wf.current){sn=Zi(tn,sn,un);break e}}else for(mn=sn.child,mn!==null&&(mn.return=sn);mn!==null;){var fn=mn.dependencies;if(fn!==null){hn=mn.child;for(var gn=fn.firstContext;gn!==null;){if(gn.context===dn){if(mn.tag===1){gn=mh(-1,un&-un),gn.tag=2;var xn=mn.updateQueue;if(xn!==null){xn=xn.shared;var yn=xn.pending;yn===null?gn.next=gn:(gn.next=yn.next,yn.next=gn),xn.pending=gn}}mn.lanes|=un,gn=mn.alternate,gn!==null&&(gn.lanes|=un),bh(mn.return,un,sn),fn.lanes|=un;break}gn=gn.next}}else if(mn.tag===10)hn=mn.type===sn.type?null:mn.child;else if(mn.tag===18){if(hn=mn.return,hn===null)throw Error(p$2(341));hn.lanes|=un,fn=hn.alternate,fn!==null&&(fn.lanes|=un),bh(hn,un,sn),hn=mn.sibling}else hn=mn.child;if(hn!==null)hn.return=mn;else for(hn=mn;hn!==null;){if(hn===sn){hn=null;break}if(mn=hn.sibling,mn!==null){mn.return=hn.return,hn=mn;break}hn=hn.return}mn=hn}Xi(tn,sn,pn.children,un),sn=sn.child}return sn;case 9:return pn=sn.type,dn=sn.pendingProps.children,ch(sn,un),pn=eh(pn),dn=dn(pn),sn.flags|=1,Xi(tn,sn,dn,un),sn.child;case 14:return dn=sn.type,pn=Ci(dn,sn.pendingProps),pn=Ci(dn.type,pn),$i(tn,sn,dn,pn,un);case 15:return bj(tn,sn,sn.type,sn.pendingProps,un);case 17:return dn=sn.type,pn=sn.pendingProps,pn=sn.elementType===dn?pn:Ci(dn,pn),ij(tn,sn),sn.tag=1,Zf(dn)?(tn=!0,cg(sn)):tn=!1,ch(sn,un),Gi(sn,dn,pn),Ii(sn,dn,pn,un),jj(null,sn,dn,!0,tn,un);case 19:return xj(tn,sn,un);case 22:return dj(tn,sn,un)}throw Error(p$2(156,sn.tag))};function Fk(tn,sn){return ac(tn,sn)}function $k(tn,sn,un,dn){this.tag=tn,this.key=un,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=sn,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=dn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(tn,sn,un,dn){return new $k(tn,sn,un,dn)}function aj(tn){return tn=tn.prototype,!(!tn||!tn.isReactComponent)}function Zk(tn){if(typeof tn=="function")return aj(tn)?1:0;if(tn!=null){if(tn=tn.$$typeof,tn===Da)return 11;if(tn===Ga)return 14}return 2}function Pg(tn,sn){var un=tn.alternate;return un===null?(un=Bg(tn.tag,sn,tn.key,tn.mode),un.elementType=tn.elementType,un.type=tn.type,un.stateNode=tn.stateNode,un.alternate=tn,tn.alternate=un):(un.pendingProps=sn,un.type=tn.type,un.flags=0,un.subtreeFlags=0,un.deletions=null),un.flags=tn.flags&14680064,un.childLanes=tn.childLanes,un.lanes=tn.lanes,un.child=tn.child,un.memoizedProps=tn.memoizedProps,un.memoizedState=tn.memoizedState,un.updateQueue=tn.updateQueue,sn=tn.dependencies,un.dependencies=sn===null?null:{lanes:sn.lanes,firstContext:sn.firstContext},un.sibling=tn.sibling,un.index=tn.index,un.ref=tn.ref,un}function Rg(tn,sn,un,dn,pn,mn){var hn=2;if(dn=tn,typeof tn=="function")aj(tn)&&(hn=1);else if(typeof tn=="string")hn=5;else e:switch(tn){case ya:return Tg(un.children,pn,mn,sn);case za:hn=8,pn|=8;break;case Aa:return tn=Bg(12,un,sn,pn|2),tn.elementType=Aa,tn.lanes=mn,tn;case Ea:return tn=Bg(13,un,sn,pn),tn.elementType=Ea,tn.lanes=mn,tn;case Fa:return tn=Bg(19,un,sn,pn),tn.elementType=Fa,tn.lanes=mn,tn;case Ia:return pj(un,pn,mn,sn);default:if(typeof tn=="object"&&tn!==null)switch(tn.$$typeof){case Ba:hn=10;break e;case Ca:hn=9;break e;case Da:hn=11;break e;case Ga:hn=14;break e;case Ha:hn=16,dn=null;break e}throw Error(p$2(130,tn==null?tn:typeof tn,""))}return sn=Bg(hn,un,sn,pn),sn.elementType=tn,sn.type=dn,sn.lanes=mn,sn}function Tg(tn,sn,un,dn){return tn=Bg(7,tn,dn,sn),tn.lanes=un,tn}function pj(tn,sn,un,dn){return tn=Bg(22,tn,dn,sn),tn.elementType=Ia,tn.lanes=un,tn.stateNode={isHidden:!1},tn}function Qg(tn,sn,un){return tn=Bg(6,tn,null,sn),tn.lanes=un,tn}function Sg(tn,sn,un){return sn=Bg(4,tn.children!==null?tn.children:[],tn.key,sn),sn.lanes=un,sn.stateNode={containerInfo:tn.containerInfo,pendingChildren:null,implementation:tn.implementation},sn}function al(tn,sn,un,dn,pn){this.tag=sn,this.containerInfo=tn,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=dn,this.onRecoverableError=pn,this.mutableSourceEagerHydrationData=null}function bl(tn,sn,un,dn,pn,mn,hn,fn,gn){return tn=new al(tn,sn,un,fn,gn),sn===1?(sn=1,mn===!0&&(sn|=8)):sn=0,mn=Bg(3,null,null,sn),tn.current=mn,mn.stateNode=tn,mn.memoizedState={element:dn,isDehydrated:un,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(mn),tn}function cl(tn,sn,un){var dn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:dn==null?null:""+dn,children:tn,containerInfo:sn,implementation:un}}function dl(tn){if(!tn)return Vf;tn=tn._reactInternals;e:{if(Vb(tn)!==tn||tn.tag!==1)throw Error(p$2(170));var sn=tn;do{switch(sn.tag){case 3:sn=sn.stateNode.context;break e;case 1:if(Zf(sn.type)){sn=sn.stateNode.__reactInternalMemoizedMergedChildContext;break e}}sn=sn.return}while(sn!==null);throw Error(p$2(171))}if(tn.tag===1){var un=tn.type;if(Zf(un))return bg(tn,un,sn)}return sn}function el(tn,sn,un,dn,pn,mn,hn,fn,gn){return tn=bl(un,dn,!0,tn,pn,mn,hn,fn,gn),tn.context=dl(null),un=tn.current,dn=R$1(),pn=yi(un),mn=mh(dn,pn),mn.callback=sn??null,nh(un,mn,pn),tn.current.lanes=pn,Ac(tn,pn,dn),Dk(tn,dn),tn}function fl(tn,sn,un,dn){var pn=sn.current,mn=R$1(),hn=yi(pn);return un=dl(un),sn.context===null?sn.context=un:sn.pendingContext=un,sn=mh(mn,hn),sn.payload={element:tn},dn=dn===void 0?null:dn,dn!==null&&(sn.callback=dn),tn=nh(pn,sn,hn),tn!==null&&(gi(tn,pn,hn,mn),oh(tn,pn,hn)),hn}function gl(tn){if(tn=tn.current,!tn.child)return null;switch(tn.child.tag){case 5:return tn.child.stateNode;default:return tn.child.stateNode}}function hl(tn,sn){if(tn=tn.memoizedState,tn!==null&&tn.dehydrated!==null){var un=tn.retryLane;tn.retryLane=un!==0&&un<sn?un:sn}}function il(tn,sn){hl(tn,sn),(tn=tn.alternate)&&hl(tn,sn)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(tn){console.error(tn)};function ll(tn){this._internalRoot=tn}ml.prototype.render=ll.prototype.render=function(tn){var sn=this._internalRoot;if(sn===null)throw Error(p$2(409));fl(tn,sn,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var tn=this._internalRoot;if(tn!==null){this._internalRoot=null;var sn=tn.containerInfo;Rk(function(){fl(null,tn,null,null)}),sn[uf]=null}};function ml(tn){this._internalRoot=tn}ml.prototype.unstable_scheduleHydration=function(tn){if(tn){var sn=Hc();tn={blockedOn:null,target:tn,priority:sn};for(var un=0;un<Qc.length&&sn!==0&&sn<Qc[un].priority;un++);Qc.splice(un,0,tn),un===0&&Vc(tn)}};function nl$1(tn){return!(!tn||tn.nodeType!==1&&tn.nodeType!==9&&tn.nodeType!==11)}function ol(tn){return!(!tn||tn.nodeType!==1&&tn.nodeType!==9&&tn.nodeType!==11&&(tn.nodeType!==8||tn.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(tn,sn,un,dn,pn){if(pn){if(typeof dn=="function"){var mn=dn;dn=function(){var xn=gl(hn);mn.call(xn)}}var hn=el(sn,dn,tn,0,null,!1,!1,"",pl);return tn._reactRootContainer=hn,tn[uf]=hn.current,sf(tn.nodeType===8?tn.parentNode:tn),Rk(),hn}for(;pn=tn.lastChild;)tn.removeChild(pn);if(typeof dn=="function"){var fn=dn;dn=function(){var xn=gl(gn);fn.call(xn)}}var gn=bl(tn,0,!1,null,null,!1,!1,"",pl);return tn._reactRootContainer=gn,tn[uf]=gn.current,sf(tn.nodeType===8?tn.parentNode:tn),Rk(function(){fl(sn,gn,un,dn)}),gn}function rl(tn,sn,un,dn,pn){var mn=un._reactRootContainer;if(mn){var hn=mn;if(typeof pn=="function"){var fn=pn;pn=function(){var gn=gl(hn);fn.call(gn)}}fl(sn,hn,tn,pn)}else hn=ql(un,sn,tn,pn,dn);return gl(hn)}Ec=function(tn){switch(tn.tag){case 3:var sn=tn.stateNode;if(sn.current.memoizedState.isDehydrated){var un=tc(sn.pendingLanes);un!==0&&(Cc(sn,un|1),Dk(sn,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var dn=ih(tn,1);if(dn!==null){var pn=R$1();gi(dn,tn,1,pn)}}),il(tn,1)}};Fc=function(tn){if(tn.tag===13){var sn=ih(tn,134217728);if(sn!==null){var un=R$1();gi(sn,tn,134217728,un)}il(tn,134217728)}};Gc=function(tn){if(tn.tag===13){var sn=yi(tn),un=ih(tn,sn);if(un!==null){var dn=R$1();gi(un,tn,sn,dn)}il(tn,sn)}};Hc=function(){return C$1};Ic=function(tn,sn){var un=C$1;try{return C$1=tn,sn()}finally{C$1=un}};yb=function(tn,sn,un){switch(sn){case"input":if(bb(tn,un),sn=un.name,un.type==="radio"&&sn!=null){for(un=tn;un.parentNode;)un=un.parentNode;for(un=un.querySelectorAll("input[name="+JSON.stringify(""+sn)+'][type="radio"]'),sn=0;sn<un.length;sn++){var dn=un[sn];if(dn!==tn&&dn.form===tn.form){var pn=Db(dn);if(!pn)throw Error(p$2(90));Wa(dn),bb(dn,pn)}}}break;case"textarea":ib(tn,un);break;case"select":sn=un.value,sn!=null&&fb(tn,!!un.multiple,sn,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(tn){return tn=Zb(tn),tn===null?null:tn.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(tn,sn){var un=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl$1(sn))throw Error(p$2(200));return cl(tn,sn,null,un)};reactDom_production_min.createRoot=function(tn,sn){if(!nl$1(tn))throw Error(p$2(299));var un=!1,dn="",pn=kl;return sn!=null&&(sn.unstable_strictMode===!0&&(un=!0),sn.identifierPrefix!==void 0&&(dn=sn.identifierPrefix),sn.onRecoverableError!==void 0&&(pn=sn.onRecoverableError)),sn=bl(tn,1,!1,null,null,un,!1,dn,pn),tn[uf]=sn.current,sf(tn.nodeType===8?tn.parentNode:tn),new ll(sn)};reactDom_production_min.findDOMNode=function(tn){if(tn==null)return null;if(tn.nodeType===1)return tn;var sn=tn._reactInternals;if(sn===void 0)throw typeof tn.render=="function"?Error(p$2(188)):(tn=Object.keys(tn).join(","),Error(p$2(268,tn)));return tn=Zb(sn),tn=tn===null?null:tn.stateNode,tn};reactDom_production_min.flushSync=function(tn){return Rk(tn)};reactDom_production_min.hydrate=function(tn,sn,un){if(!ol(sn))throw Error(p$2(200));return rl(null,tn,sn,!0,un)};reactDom_production_min.hydrateRoot=function(tn,sn,un){if(!nl$1(tn))throw Error(p$2(405));var dn=un!=null&&un.hydratedSources||null,pn=!1,mn="",hn=kl;if(un!=null&&(un.unstable_strictMode===!0&&(pn=!0),un.identifierPrefix!==void 0&&(mn=un.identifierPrefix),un.onRecoverableError!==void 0&&(hn=un.onRecoverableError)),sn=el(sn,null,tn,1,un??null,pn,!1,mn,hn),tn[uf]=sn.current,sf(tn),dn)for(tn=0;tn<dn.length;tn++)un=dn[tn],pn=un._getVersion,pn=pn(un._source),sn.mutableSourceEagerHydrationData==null?sn.mutableSourceEagerHydrationData=[un,pn]:sn.mutableSourceEagerHydrationData.push(un,pn);return new ml(sn)};reactDom_production_min.render=function(tn,sn,un){if(!ol(sn))throw Error(p$2(200));return rl(null,tn,sn,!1,un)};reactDom_production_min.unmountComponentAtNode=function(tn){if(!ol(tn))throw Error(p$2(40));return tn._reactRootContainer?(Rk(function(){rl(null,null,tn,!1,function(){tn._reactRootContainer=null,tn[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tn,sn,un,dn){if(!ol(un))throw Error(p$2(200));if(tn==null||tn._reactInternals===void 0)throw Error(p$2(38));return rl(tn,sn,un,!1,dn)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(tn){console.error(tn)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;function parse$3(tn,sn){if(tn instanceof RegExp)return{keys:!1,pattern:tn};var un,dn,pn,mn,hn=[],fn="",gn=tn.split("/");for(gn[0]||gn.shift();pn=gn.shift();)un=pn[0],un==="*"?(hn.push(un),fn+=pn[1]==="?"?"(?:/(.*))?":"/(.*)"):un===":"?(dn=pn.indexOf("?",1),mn=pn.indexOf(".",1),hn.push(pn.substring(1,~dn?dn:~mn?mn:pn.length)),fn+=~dn&&!~mn?"(?:/([^/]+?))?":"/([^/]+?)",~mn&&(fn+=(~dn?"?":"")+"\\"+pn.substring(mn))):fn+="/"+pn;return{keys:hn,pattern:new RegExp("^"+fn+(sn?"(?=$|/)":"/?$"),"i")}}var shim$1={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is(tn,sn){return tn===sn&&(tn!==0||1/tn===1/sn)||tn!==tn&&sn!==sn}var objectIs=typeof Object.is=="function"?Object.is:is,useState=React.useState,useEffect=React.useEffect,useLayoutEffect=React.useLayoutEffect,useDebugValue=React.useDebugValue;function useSyncExternalStore$2(tn,sn){var un=sn(),dn=useState({inst:{value:un,getSnapshot:sn}}),pn=dn[0].inst,mn=dn[1];return useLayoutEffect(function(){pn.value=un,pn.getSnapshot=sn,checkIfSnapshotChanged(pn)&&mn({inst:pn})},[tn,un,sn]),useEffect(function(){return checkIfSnapshotChanged(pn)&&mn({inst:pn}),tn(function(){checkIfSnapshotChanged(pn)&&mn({inst:pn})})},[tn]),useDebugValue(un),un}function checkIfSnapshotChanged(tn){var sn=tn.getSnapshot;tn=tn.value;try{var un=sn();return!objectIs(tn,un)}catch{return!0}}function useSyncExternalStore$1(tn,sn){return sn()}var shim=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React.useSyncExternalStore!==void 0?React.useSyncExternalStore:shim;shim$1.exports=useSyncExternalStoreShim_production;var shimExports=shim$1.exports;const useBuiltinInsertionEffect=React$2.useInsertionEffect,canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$4=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect,useInsertionEffect$1=useBuiltinInsertionEffect||useIsomorphicLayoutEffect$4,useEvent=tn=>{const sn=reactExports.useRef([tn,(...un)=>sn[0](...un)]).current;return useInsertionEffect$1(()=>{sn[0]=tn}),sn[1]},eventPopstate="popstate",eventPushState="pushState",eventReplaceState="replaceState",eventHashchange="hashchange",events=[eventPopstate,eventPushState,eventReplaceState,eventHashchange],subscribeToLocationUpdates=tn=>{for(const sn of events)addEventListener(sn,tn);return()=>{for(const sn of events)removeEventListener(sn,tn)}},useLocationProperty=(tn,sn)=>shimExports.useSyncExternalStore(subscribeToLocationUpdates,tn,sn),currentSearch=()=>location.search,useSearch=({ssrSearch:tn=""}={})=>useLocationProperty(currentSearch,()=>tn),currentPathname=()=>location.pathname,usePathname=({ssrPath:tn}={})=>useLocationProperty(currentPathname,tn?()=>tn:currentPathname),navigate=(tn,{replace:sn=!1,state:un=null}={})=>history[sn?eventReplaceState:eventPushState](un,"",tn),useBrowserLocation=(tn={})=>[usePathname(tn),navigate],patchKey=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[patchKey]>"u"){for(const tn of[eventPushState,eventReplaceState]){const sn=history[tn];history[tn]=function(){const un=sn.apply(this,arguments),dn=new Event(tn);return dn.arguments=arguments,dispatchEvent(dn),un}}Object.defineProperty(window,patchKey,{value:!0})}const _relativePath=(tn,sn)=>sn.toLowerCase().indexOf(tn.toLowerCase())?"~"+sn:sn.slice(tn.length)||"/",baseDefaults=(tn="")=>tn==="/"?"":tn,absolutePath=(tn,sn)=>tn[0]==="~"?tn.slice(1):baseDefaults(sn)+tn,relativePath=(tn="",sn)=>_relativePath(unescape$1(baseDefaults(tn)),unescape$1(sn)),unescape$1=tn=>{try{return decodeURI(tn)}catch{return tn}},defaultRouter={hook:useBrowserLocation,searchHook:useSearch,parser:parse$3,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:tn=>tn},RouterCtx=reactExports.createContext(defaultRouter),useRouter=()=>reactExports.useContext(RouterCtx),Params0={},ParamsCtx=reactExports.createContext(Params0),useParams=()=>reactExports.useContext(ParamsCtx),useLocationFromRouter=tn=>{const[sn,un]=tn.hook(tn);return[relativePath(tn.base,sn),useEvent((dn,pn)=>un(absolutePath(dn,tn.base),pn))]},useLocation=()=>useLocationFromRouter(useRouter()),matchRoute=(tn,sn,un,dn)=>{const{pattern:pn,keys:mn}=sn instanceof RegExp?{keys:!1,pattern:sn}:tn(sn||"*",dn),hn=pn.exec(un)||[],[fn,...gn]=hn;return fn!==void 0?[!0,(()=>{const xn=mn!==!1?Object.fromEntries(mn.map((vn,En)=>[vn,gn[En]])):hn.groups;let yn={...gn};return xn&&Object.assign(yn,xn),yn})(),...dn?[fn]:[]]:[!1,null]},Router$1=({children:tn,...sn})=>{var yn,vn;const un=useRouter(),dn=sn.hook?defaultRouter:un;let pn=dn;const[mn,hn]=((yn=sn.ssrPath)==null?void 0:yn.split("?"))??[];hn&&(sn.ssrSearch=hn,sn.ssrPath=mn),sn.hrefs=sn.hrefs??((vn=sn.hook)==null?void 0:vn.hrefs);let fn=reactExports.useRef({}),gn=fn.current,xn=gn;for(let En in dn){const bn=En==="base"?dn[En]+(sn[En]||""):sn[En]||dn[En];gn===xn&&bn!==xn[En]&&(fn.current=xn={...xn}),xn[En]=bn,(bn!==dn[En]||bn!==pn[En])&&(pn=xn)}return reactExports.createElement(RouterCtx.Provider,{value:pn,children:tn})},h_route=({children:tn,component:sn},un)=>sn?reactExports.createElement(sn,{params:un}):typeof tn=="function"?tn(un):tn,useCachedParams=tn=>{let sn=reactExports.useRef(Params0);const un=sn.current;return sn.current=Object.keys(tn).length!==Object.keys(un).length||Object.entries(tn).some(([dn,pn])=>pn!==un[dn])?tn:un},Route=({path:tn,nest:sn,match:un,...dn})=>{const pn=useRouter(),[mn]=useLocationFromRouter(pn),[hn,fn,gn]=un??matchRoute(pn.parser,tn,mn,sn),xn=useCachedParams({...useParams(),...fn});if(!hn)return null;const yn=gn?reactExports.createElement(Router$1,{base:gn},h_route(dn,xn)):h_route(dn,xn);return reactExports.createElement(ParamsCtx.Provider,{value:xn,children:yn})},Link$1=reactExports.forwardRef((tn,sn)=>{const un=useRouter(),[dn,pn]=useLocationFromRouter(un),{to:mn="",href:hn=mn,onClick:fn,asChild:gn,children:xn,className:yn,replace:vn,state:En,...bn}=tn,wn=useEvent(Rn=>{Rn.ctrlKey||Rn.metaKey||Rn.altKey||Rn.shiftKey||Rn.button!==0||(fn==null||fn(Rn),Rn.defaultPrevented||(Rn.preventDefault(),pn(hn,tn)))}),Sn=un.hrefs(hn[0]==="~"?hn.slice(1):un.base+hn,un);return gn&&reactExports.isValidElement(xn)?reactExports.cloneElement(xn,{onClick:wn,href:Sn}):reactExports.createElement("a",{...bn,onClick:wn,href:Sn,className:yn!=null&&yn.call?yn(dn===hn):yn,children:xn,ref:sn})}),flattenChildren=tn=>Array.isArray(tn)?tn.flatMap(sn=>flattenChildren(sn&&sn.type===reactExports.Fragment?sn.props.children:sn)):[tn],Switch$2=({children:tn,location:sn})=>{const un=useRouter(),[dn]=useLocationFromRouter(un);for(const pn of flattenChildren(tn)){let mn=0;if(reactExports.isValidElement(pn)&&(mn=matchRoute(un.parser,pn.props.path,sn||dn,pn.props.nest))[0])return reactExports.cloneElement(pn,{match:mn})}return null},Redirect=tn=>{const{to:sn,href:un=sn}=tn,dn=useRouter(),[,pn]=useLocationFromRouter(dn),mn=useEvent(()=>pn(sn||un,tn)),{ssrContext:hn}=dn;return useIsomorphicLayoutEffect$4(()=>{mn()},[]),hn&&(hn.redirectTo=sn),null};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(tn){return this.listeners.add(tn),this.onSubscribe(),()=>{this.listeners.delete(tn),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$f(){}function functionalUpdate(tn,sn){return typeof tn=="function"?tn(sn):tn}function isValidTimeout(tn){return typeof tn=="number"&&tn>=0&&tn!==1/0}function timeUntilStale(tn,sn){return Math.max(tn+(sn||0)-Date.now(),0)}function resolveStaleTime(tn,sn){return typeof tn=="function"?tn(sn):tn}function resolveEnabled(tn,sn){return typeof tn=="function"?tn(sn):tn}function matchQuery(tn,sn){const{type:un="all",exact:dn,fetchStatus:pn,predicate:mn,queryKey:hn,stale:fn}=tn;if(hn){if(dn){if(sn.queryHash!==hashQueryKeyByOptions(hn,sn.options))return!1}else if(!partialMatchKey(sn.queryKey,hn))return!1}if(un!=="all"){const gn=sn.isActive();if(un==="active"&&!gn||un==="inactive"&&gn)return!1}return!(typeof fn=="boolean"&&sn.isStale()!==fn||pn&&pn!==sn.state.fetchStatus||mn&&!mn(sn))}function matchMutation(tn,sn){const{exact:un,status:dn,predicate:pn,mutationKey:mn}=tn;if(mn){if(!sn.options.mutationKey)return!1;if(un){if(hashKey(sn.options.mutationKey)!==hashKey(mn))return!1}else if(!partialMatchKey(sn.options.mutationKey,mn))return!1}return!(dn&&sn.state.status!==dn||pn&&!pn(sn))}function hashQueryKeyByOptions(tn,sn){return((sn==null?void 0:sn.queryKeyHashFn)||hashKey)(tn)}function hashKey(tn){return JSON.stringify(tn,(sn,un)=>isPlainObject$7(un)?Object.keys(un).sort().reduce((dn,pn)=>(dn[pn]=un[pn],dn),{}):un)}function partialMatchKey(tn,sn){return tn===sn?!0:typeof tn!=typeof sn?!1:tn&&sn&&typeof tn=="object"&&typeof sn=="object"?Object.keys(sn).every(un=>partialMatchKey(tn[un],sn[un])):!1}function replaceEqualDeep(tn,sn){if(tn===sn)return tn;const un=isPlainArray(tn)&&isPlainArray(sn);if(un||isPlainObject$7(tn)&&isPlainObject$7(sn)){const dn=un?tn:Object.keys(tn),pn=dn.length,mn=un?sn:Object.keys(sn),hn=mn.length,fn=un?[]:{},gn=new Set(dn);let xn=0;for(let yn=0;yn<hn;yn++){const vn=un?yn:mn[yn];(!un&&gn.has(vn)||un)&&tn[vn]===void 0&&sn[vn]===void 0?(fn[vn]=void 0,xn++):(fn[vn]=replaceEqualDeep(tn[vn],sn[vn]),fn[vn]===tn[vn]&&tn[vn]!==void 0&&xn++)}return pn===hn&&xn===pn?tn:fn}return sn}function shallowEqualObjects(tn,sn){if(!sn||Object.keys(tn).length!==Object.keys(sn).length)return!1;for(const un in tn)if(tn[un]!==sn[un])return!1;return!0}function isPlainArray(tn){return Array.isArray(tn)&&tn.length===Object.keys(tn).length}function isPlainObject$7(tn){if(!hasObjectPrototype(tn))return!1;const sn=tn.constructor;if(sn===void 0)return!0;const un=sn.prototype;return!(!hasObjectPrototype(un)||!un.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(tn)!==Object.prototype)}function hasObjectPrototype(tn){return Object.prototype.toString.call(tn)==="[object Object]"}function sleep$2(tn){return new Promise(sn=>{setTimeout(sn,tn)})}function replaceData(tn,sn,un){return typeof un.structuralSharing=="function"?un.structuralSharing(tn,sn):un.structuralSharing!==!1?replaceEqualDeep(tn,sn):sn}function addToEnd(tn,sn,un=0){const dn=[...tn,sn];return un&&dn.length>un?dn.slice(1):dn}function addToStart(tn,sn,un=0){const dn=[sn,...tn];return un&&dn.length>un?dn.slice(0,-1):dn}var skipToken=Symbol();function ensureQueryFn(tn,sn){return!tn.queryFn&&(sn!=null&&sn.initialPromise)?()=>sn.initialPromise:!tn.queryFn||tn.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${tn.queryHash}'`)):tn.queryFn}function shouldThrowError(tn,sn){return typeof tn=="function"?tn(...sn):!!tn}var Cl,Wo,Kl,Fu,FocusManager=(Fu=class extends Subscribable{constructor(){super();us(this,Cl);us(this,Wo);us(this,Kl);Zr(this,Kl,sn=>{if(!isServer&&window.addEventListener){const un=()=>sn();return window.addEventListener("visibilitychange",un,!1),()=>{window.removeEventListener("visibilitychange",un)}}})}onSubscribe(){mr(this,Wo)||this.setEventListener(mr(this,Kl))}onUnsubscribe(){var sn;this.hasListeners()||((sn=mr(this,Wo))==null||sn.call(this),Zr(this,Wo,void 0))}setEventListener(sn){var un;Zr(this,Kl,sn),(un=mr(this,Wo))==null||un.call(this),Zr(this,Wo,sn(dn=>{typeof dn=="boolean"?this.setFocused(dn):this.onFocus()}))}setFocused(sn){mr(this,Cl)!==sn&&(Zr(this,Cl,sn),this.onFocus())}onFocus(){const sn=this.isFocused();this.listeners.forEach(un=>{un(sn)})}isFocused(){var sn;return typeof mr(this,Cl)=="boolean"?mr(this,Cl):((sn=globalThis.document)==null?void 0:sn.visibilityState)!=="hidden"}},Cl=new WeakMap,Wo=new WeakMap,Kl=new WeakMap,Fu),focusManager=new FocusManager,Yl,qo,Zl,Bu,OnlineManager=(Bu=class extends Subscribable{constructor(){super();us(this,Yl,!0);us(this,qo);us(this,Zl);Zr(this,Zl,sn=>{if(!isServer&&window.addEventListener){const un=()=>sn(!0),dn=()=>sn(!1);return window.addEventListener("online",un,!1),window.addEventListener("offline",dn,!1),()=>{window.removeEventListener("online",un),window.removeEventListener("offline",dn)}}})}onSubscribe(){mr(this,qo)||this.setEventListener(mr(this,Zl))}onUnsubscribe(){var sn;this.hasListeners()||((sn=mr(this,qo))==null||sn.call(this),Zr(this,qo,void 0))}setEventListener(sn){var un;Zr(this,Zl,sn),(un=mr(this,qo))==null||un.call(this),Zr(this,qo,sn(this.setOnline.bind(this)))}setOnline(sn){mr(this,Yl)!==sn&&(Zr(this,Yl,sn),this.listeners.forEach(dn=>{dn(sn)}))}isOnline(){return mr(this,Yl)}},Yl=new WeakMap,qo=new WeakMap,Zl=new WeakMap,Bu),onlineManager=new OnlineManager;function pendingThenable(){let tn,sn;const un=new Promise((pn,mn)=>{tn=pn,sn=mn});un.status="pending",un.catch(()=>{});function dn(pn){Object.assign(un,pn),delete un.resolve,delete un.reject}return un.resolve=pn=>{dn({status:"fulfilled",value:pn}),tn(pn)},un.reject=pn=>{dn({status:"rejected",reason:pn}),sn(pn)},un}function defaultRetryDelay(tn){return Math.min(1e3*2**tn,3e4)}function canFetch(tn){return(tn??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(tn){super("CancelledError"),this.revert=tn==null?void 0:tn.revert,this.silent=tn==null?void 0:tn.silent}};function isCancelledError(tn){return tn instanceof CancelledError}function createRetryer(tn){let sn=!1,un=0,dn=!1,pn;const mn=pendingThenable(),hn=Sn=>{var Rn;dn||(En(new CancelledError(Sn)),(Rn=tn.abort)==null||Rn.call(tn))},fn=()=>{sn=!0},gn=()=>{sn=!1},xn=()=>focusManager.isFocused()&&(tn.networkMode==="always"||onlineManager.isOnline())&&tn.canRun(),yn=()=>canFetch(tn.networkMode)&&tn.canRun(),vn=Sn=>{var Rn;dn||(dn=!0,(Rn=tn.onSuccess)==null||Rn.call(tn,Sn),pn==null||pn(),mn.resolve(Sn))},En=Sn=>{var Rn;dn||(dn=!0,(Rn=tn.onError)==null||Rn.call(tn,Sn),pn==null||pn(),mn.reject(Sn))},bn=()=>new Promise(Sn=>{var Rn;pn=_n=>{(dn||xn())&&Sn(_n)},(Rn=tn.onPause)==null||Rn.call(tn)}).then(()=>{var Sn;pn=void 0,dn||(Sn=tn.onContinue)==null||Sn.call(tn)}),wn=()=>{if(dn)return;let Sn;const Rn=un===0?tn.initialPromise:void 0;try{Sn=Rn??tn.fn()}catch(_n){Sn=Promise.reject(_n)}Promise.resolve(Sn).then(vn).catch(_n=>{var $n;if(dn)return;const jn=tn.retry??(isServer?0:3),Cn=tn.retryDelay??defaultRetryDelay,An=typeof Cn=="function"?Cn(un,_n):Cn,Tn=jn===!0||typeof jn=="number"&&un<jn||typeof jn=="function"&&jn(un,_n);if(sn||!Tn){En(_n);return}un++,($n=tn.onFail)==null||$n.call(tn,un,_n),sleep$2(An).then(()=>xn()?void 0:bn()).then(()=>{sn?En(_n):wn()})})};return{promise:mn,cancel:hn,continue:()=>(pn==null||pn(),mn),cancelRetry:fn,continueRetry:gn,canStart:yn,start:()=>(yn()?wn():bn().then(wn),mn)}}var defaultScheduler=tn=>setTimeout(tn,0);function createNotifyManager(){let tn=[],sn=0,un=fn=>{fn()},dn=fn=>{fn()},pn=defaultScheduler;const mn=fn=>{sn?tn.push(fn):pn(()=>{un(fn)})},hn=()=>{const fn=tn;tn=[],fn.length&&pn(()=>{dn(()=>{fn.forEach(gn=>{un(gn)})})})};return{batch:fn=>{let gn;sn++;try{gn=fn()}finally{sn--,sn||hn()}return gn},batchCalls:fn=>(...gn)=>{mn(()=>{fn(...gn)})},schedule:mn,setNotifyFunction:fn=>{un=fn},setBatchNotifyFunction:fn=>{dn=fn},setScheduler:fn=>{pn=fn}}}var notifyManager=createNotifyManager(),$l,Uu,Removable=(Uu=class{constructor(){us(this,$l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Zr(this,$l,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(tn){this.gcTime=Math.max(this.gcTime||0,tn??(isServer?1/0:5*60*1e3))}clearGcTimeout(){mr(this,$l)&&(clearTimeout(mr(this,$l)),Zr(this,$l,void 0))}},$l=new WeakMap,Uu),Ql,Tl,go,Al,$a,mu,Dl,bo,Mo,Hu,Query=(Hu=class extends Removable{constructor(sn){super();us(this,bo);us(this,Ql);us(this,Tl);us(this,go);us(this,Al);us(this,$a);us(this,mu);us(this,Dl);Zr(this,Dl,!1),Zr(this,mu,sn.defaultOptions),this.setOptions(sn.options),this.observers=[],Zr(this,Al,sn.client),Zr(this,go,mr(this,Al).getQueryCache()),this.queryKey=sn.queryKey,this.queryHash=sn.queryHash,Zr(this,Ql,getDefaultState$1(this.options)),this.state=sn.state??mr(this,Ql),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var sn;return(sn=mr(this,$a))==null?void 0:sn.promise}setOptions(sn){this.options={...mr(this,mu),...sn},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&mr(this,go).remove(this)}setData(sn,un){const dn=replaceData(this.state.data,sn,this.options);return Ss(this,bo,Mo).call(this,{data:dn,type:"success",dataUpdatedAt:un==null?void 0:un.updatedAt,manual:un==null?void 0:un.manual}),dn}setState(sn,un){Ss(this,bo,Mo).call(this,{type:"setState",state:sn,setStateOptions:un})}cancel(sn){var dn,pn;const un=(dn=mr(this,$a))==null?void 0:dn.promise;return(pn=mr(this,$a))==null||pn.cancel(sn),un?un.then(noop$f).catch(noop$f):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(mr(this,Ql))}isActive(){return this.observers.some(sn=>resolveEnabled(sn.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(sn=>resolveStaleTime(sn.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(sn=>sn.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(sn=0){return this.state.data===void 0?!0:sn==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,sn)}onFocus(){var un;const sn=this.observers.find(dn=>dn.shouldFetchOnWindowFocus());sn==null||sn.refetch({cancelRefetch:!1}),(un=mr(this,$a))==null||un.continue()}onOnline(){var un;const sn=this.observers.find(dn=>dn.shouldFetchOnReconnect());sn==null||sn.refetch({cancelRefetch:!1}),(un=mr(this,$a))==null||un.continue()}addObserver(sn){this.observers.includes(sn)||(this.observers.push(sn),this.clearGcTimeout(),mr(this,go).notify({type:"observerAdded",query:this,observer:sn}))}removeObserver(sn){this.observers.includes(sn)&&(this.observers=this.observers.filter(un=>un!==sn),this.observers.length||(mr(this,$a)&&(mr(this,Dl)?mr(this,$a).cancel({revert:!0}):mr(this,$a).cancelRetry()),this.scheduleGc()),mr(this,go).notify({type:"observerRemoved",query:this,observer:sn}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ss(this,bo,Mo).call(this,{type:"invalidate"})}fetch(sn,un){var xn,yn,vn;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(un!=null&&un.cancelRefetch))this.cancel({silent:!0});else if(mr(this,$a))return mr(this,$a).continueRetry(),mr(this,$a).promise}if(sn&&this.setOptions(sn),!this.options.queryFn){const En=this.observers.find(bn=>bn.options.queryFn);En&&this.setOptions(En.options)}const dn=new AbortController,pn=En=>{Object.defineProperty(En,"signal",{enumerable:!0,get:()=>(Zr(this,Dl,!0),dn.signal)})},mn=()=>{const En=ensureQueryFn(this.options,un),wn=(()=>{const Sn={client:mr(this,Al),queryKey:this.queryKey,meta:this.meta};return pn(Sn),Sn})();return Zr(this,Dl,!1),this.options.persister?this.options.persister(En,wn,this):En(wn)},fn=(()=>{const En={fetchOptions:un,options:this.options,queryKey:this.queryKey,client:mr(this,Al),state:this.state,fetchFn:mn};return pn(En),En})();(xn=this.options.behavior)==null||xn.onFetch(fn,this),Zr(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((yn=fn.fetchOptions)==null?void 0:yn.meta))&&Ss(this,bo,Mo).call(this,{type:"fetch",meta:(vn=fn.fetchOptions)==null?void 0:vn.meta});const gn=En=>{var bn,wn,Sn,Rn;isCancelledError(En)&&En.silent||Ss(this,bo,Mo).call(this,{type:"error",error:En}),isCancelledError(En)||((wn=(bn=mr(this,go).config).onError)==null||wn.call(bn,En,this),(Rn=(Sn=mr(this,go).config).onSettled)==null||Rn.call(Sn,this.state.data,En,this)),this.scheduleGc()};return Zr(this,$a,createRetryer({initialPromise:un==null?void 0:un.initialPromise,fn:fn.fetchFn,abort:dn.abort.bind(dn),onSuccess:En=>{var bn,wn,Sn,Rn;if(En===void 0){gn(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(En)}catch(_n){gn(_n);return}(wn=(bn=mr(this,go).config).onSuccess)==null||wn.call(bn,En,this),(Rn=(Sn=mr(this,go).config).onSettled)==null||Rn.call(Sn,En,this.state.error,this),this.scheduleGc()},onError:gn,onFail:(En,bn)=>{Ss(this,bo,Mo).call(this,{type:"failed",failureCount:En,error:bn})},onPause:()=>{Ss(this,bo,Mo).call(this,{type:"pause"})},onContinue:()=>{Ss(this,bo,Mo).call(this,{type:"continue"})},retry:fn.options.retry,retryDelay:fn.options.retryDelay,networkMode:fn.options.networkMode,canRun:()=>!0})),mr(this,$a).start()}},Ql=new WeakMap,Tl=new WeakMap,go=new WeakMap,Al=new WeakMap,$a=new WeakMap,mu=new WeakMap,Dl=new WeakMap,bo=new WeakSet,Mo=function(sn){const un=dn=>{switch(sn.type){case"failed":return{...dn,fetchFailureCount:sn.failureCount,fetchFailureReason:sn.error};case"pause":return{...dn,fetchStatus:"paused"};case"continue":return{...dn,fetchStatus:"fetching"};case"fetch":return{...dn,...fetchState(dn.data,this.options),fetchMeta:sn.meta??null};case"success":return Zr(this,Tl,void 0),{...dn,data:sn.data,dataUpdateCount:dn.dataUpdateCount+1,dataUpdatedAt:sn.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!sn.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const pn=sn.error;return isCancelledError(pn)&&pn.revert&&mr(this,Tl)?{...mr(this,Tl),fetchStatus:"idle"}:{...dn,error:pn,errorUpdateCount:dn.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:dn.fetchFailureCount+1,fetchFailureReason:pn,fetchStatus:"idle",status:"error"};case"invalidate":return{...dn,isInvalidated:!0};case"setState":return{...dn,...sn.state}}};this.state=un(this.state),notifyManager.batch(()=>{this.observers.forEach(dn=>{dn.onQueryUpdate()}),mr(this,go).notify({query:this,type:"updated",action:sn})})},Hu);function fetchState(tn,sn){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(sn.networkMode)?"fetching":"paused",...tn===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(tn){const sn=typeof tn.initialData=="function"?tn.initialData():tn.initialData,un=sn!==void 0,dn=un?typeof tn.initialDataUpdatedAt=="function"?tn.initialDataUpdatedAt():tn.initialDataUpdatedAt:0;return{data:sn,dataUpdateCount:0,dataUpdatedAt:un?dn??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:un?"success":"pending",fetchStatus:"idle"}}var _o,Vu,QueryCache=(Vu=class extends Subscribable{constructor(sn={}){super();us(this,_o);this.config=sn,Zr(this,_o,new Map)}build(sn,un,dn){const pn=un.queryKey,mn=un.queryHash??hashQueryKeyByOptions(pn,un);let hn=this.get(mn);return hn||(hn=new Query({client:sn,queryKey:pn,queryHash:mn,options:sn.defaultQueryOptions(un),state:dn,defaultOptions:sn.getQueryDefaults(pn)}),this.add(hn)),hn}add(sn){mr(this,_o).has(sn.queryHash)||(mr(this,_o).set(sn.queryHash,sn),this.notify({type:"added",query:sn}))}remove(sn){const un=mr(this,_o).get(sn.queryHash);un&&(sn.destroy(),un===sn&&mr(this,_o).delete(sn.queryHash),this.notify({type:"removed",query:sn}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(sn=>{this.remove(sn)})})}get(sn){return mr(this,_o).get(sn)}getAll(){return[...mr(this,_o).values()]}find(sn){const un={exact:!0,...sn};return this.getAll().find(dn=>matchQuery(un,dn))}findAll(sn={}){const un=this.getAll();return Object.keys(sn).length>0?un.filter(dn=>matchQuery(sn,dn)):un}notify(sn){notifyManager.batch(()=>{this.listeners.forEach(un=>{un(sn)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(sn=>{sn.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(sn=>{sn.onOnline()})})}},_o=new WeakMap,Vu),Co,no,Pl,$o,zo,zu,Mutation=(zu=class extends Removable{constructor(sn){super();us(this,$o);us(this,Co);us(this,no);us(this,Pl);this.mutationId=sn.mutationId,Zr(this,no,sn.mutationCache),Zr(this,Co,[]),this.state=sn.state||getDefaultState(),this.setOptions(sn.options),this.scheduleGc()}setOptions(sn){this.options=sn,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(sn){mr(this,Co).includes(sn)||(mr(this,Co).push(sn),this.clearGcTimeout(),mr(this,no).notify({type:"observerAdded",mutation:this,observer:sn}))}removeObserver(sn){Zr(this,Co,mr(this,Co).filter(un=>un!==sn)),this.scheduleGc(),mr(this,no).notify({type:"observerRemoved",mutation:this,observer:sn})}optionalRemove(){mr(this,Co).length||(this.state.status==="pending"?this.scheduleGc():mr(this,no).remove(this))}continue(){var sn;return((sn=mr(this,Pl))==null?void 0:sn.continue())??this.execute(this.state.variables)}async execute(sn){var mn,hn,fn,gn,xn,yn,vn,En,bn,wn,Sn,Rn,_n,jn,Cn,An,Tn,$n,Dn,Nn;const un=()=>{Ss(this,$o,zo).call(this,{type:"continue"})};Zr(this,Pl,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(sn):Promise.reject(new Error("No mutationFn found")),onFail:(kn,Pn)=>{Ss(this,$o,zo).call(this,{type:"failed",failureCount:kn,error:Pn})},onPause:()=>{Ss(this,$o,zo).call(this,{type:"pause"})},onContinue:un,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>mr(this,no).canRun(this)}));const dn=this.state.status==="pending",pn=!mr(this,Pl).canStart();try{if(dn)un();else{Ss(this,$o,zo).call(this,{type:"pending",variables:sn,isPaused:pn}),await((hn=(mn=mr(this,no).config).onMutate)==null?void 0:hn.call(mn,sn,this));const Pn=await((gn=(fn=this.options).onMutate)==null?void 0:gn.call(fn,sn));Pn!==this.state.context&&Ss(this,$o,zo).call(this,{type:"pending",context:Pn,variables:sn,isPaused:pn})}const kn=await mr(this,Pl).start();return await((yn=(xn=mr(this,no).config).onSuccess)==null?void 0:yn.call(xn,kn,sn,this.state.context,this)),await((En=(vn=this.options).onSuccess)==null?void 0:En.call(vn,kn,sn,this.state.context)),await((wn=(bn=mr(this,no).config).onSettled)==null?void 0:wn.call(bn,kn,null,this.state.variables,this.state.context,this)),await((Rn=(Sn=this.options).onSettled)==null?void 0:Rn.call(Sn,kn,null,sn,this.state.context)),Ss(this,$o,zo).call(this,{type:"success",data:kn}),kn}catch(kn){try{throw await((jn=(_n=mr(this,no).config).onError)==null?void 0:jn.call(_n,kn,sn,this.state.context,this)),await((An=(Cn=this.options).onError)==null?void 0:An.call(Cn,kn,sn,this.state.context)),await(($n=(Tn=mr(this,no).config).onSettled)==null?void 0:$n.call(Tn,void 0,kn,this.state.variables,this.state.context,this)),await((Nn=(Dn=this.options).onSettled)==null?void 0:Nn.call(Dn,void 0,kn,sn,this.state.context)),kn}finally{Ss(this,$o,zo).call(this,{type:"error",error:kn})}}finally{mr(this,no).runNext(this)}}},Co=new WeakMap,no=new WeakMap,Pl=new WeakMap,$o=new WeakSet,zo=function(sn){const un=dn=>{switch(sn.type){case"failed":return{...dn,failureCount:sn.failureCount,failureReason:sn.error};case"pause":return{...dn,isPaused:!0};case"continue":return{...dn,isPaused:!1};case"pending":return{...dn,context:sn.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:sn.isPaused,status:"pending",variables:sn.variables,submittedAt:Date.now()};case"success":return{...dn,data:sn.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...dn,data:void 0,error:sn.error,failureCount:dn.failureCount+1,failureReason:sn.error,isPaused:!1,status:"error"}}};this.state=un(this.state),notifyManager.batch(()=>{mr(this,Co).forEach(dn=>{dn.onMutationUpdate(sn)}),mr(this,no).notify({mutation:this,type:"updated",action:sn})})},zu);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Oo,So,hu,Wu,MutationCache=(Wu=class extends Subscribable{constructor(sn={}){super();us(this,Oo);us(this,So);us(this,hu);this.config=sn,Zr(this,Oo,new Set),Zr(this,So,new Map),Zr(this,hu,0)}build(sn,un,dn){const pn=new Mutation({mutationCache:this,mutationId:++Eu(this,hu)._,options:sn.defaultMutationOptions(un),state:dn});return this.add(pn),pn}add(sn){mr(this,Oo).add(sn);const un=scopeFor(sn);if(typeof un=="string"){const dn=mr(this,So).get(un);dn?dn.push(sn):mr(this,So).set(un,[sn])}this.notify({type:"added",mutation:sn})}remove(sn){if(mr(this,Oo).delete(sn)){const un=scopeFor(sn);if(typeof un=="string"){const dn=mr(this,So).get(un);if(dn)if(dn.length>1){const pn=dn.indexOf(sn);pn!==-1&&dn.splice(pn,1)}else dn[0]===sn&&mr(this,So).delete(un)}}this.notify({type:"removed",mutation:sn})}canRun(sn){const un=scopeFor(sn);if(typeof un=="string"){const dn=mr(this,So).get(un),pn=dn==null?void 0:dn.find(mn=>mn.state.status==="pending");return!pn||pn===sn}else return!0}runNext(sn){var dn;const un=scopeFor(sn);if(typeof un=="string"){const pn=(dn=mr(this,So).get(un))==null?void 0:dn.find(mn=>mn!==sn&&mn.state.isPaused);return(pn==null?void 0:pn.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{mr(this,Oo).forEach(sn=>{this.notify({type:"removed",mutation:sn})}),mr(this,Oo).clear(),mr(this,So).clear()})}getAll(){return Array.from(mr(this,Oo))}find(sn){const un={exact:!0,...sn};return this.getAll().find(dn=>matchMutation(un,dn))}findAll(sn={}){return this.getAll().filter(un=>matchMutation(sn,un))}notify(sn){notifyManager.batch(()=>{this.listeners.forEach(un=>{un(sn)})})}resumePausedMutations(){const sn=this.getAll().filter(un=>un.state.isPaused);return notifyManager.batch(()=>Promise.all(sn.map(un=>un.continue().catch(noop$f))))}},Oo=new WeakMap,So=new WeakMap,hu=new WeakMap,Wu);function scopeFor(tn){var sn;return(sn=tn.options.scope)==null?void 0:sn.id}function infiniteQueryBehavior(tn){return{onFetch:(sn,un)=>{var yn,vn,En,bn,wn;const dn=sn.options,pn=(En=(vn=(yn=sn.fetchOptions)==null?void 0:yn.meta)==null?void 0:vn.fetchMore)==null?void 0:En.direction,mn=((bn=sn.state.data)==null?void 0:bn.pages)||[],hn=((wn=sn.state.data)==null?void 0:wn.pageParams)||[];let fn={pages:[],pageParams:[]},gn=0;const xn=async()=>{let Sn=!1;const Rn=Cn=>{Object.defineProperty(Cn,"signal",{enumerable:!0,get:()=>(sn.signal.aborted?Sn=!0:sn.signal.addEventListener("abort",()=>{Sn=!0}),sn.signal)})},_n=ensureQueryFn(sn.options,sn.fetchOptions),jn=async(Cn,An,Tn)=>{if(Sn)return Promise.reject();if(An==null&&Cn.pages.length)return Promise.resolve(Cn);const Dn=(()=>{const Mn={client:sn.client,queryKey:sn.queryKey,pageParam:An,direction:Tn?"backward":"forward",meta:sn.options.meta};return Rn(Mn),Mn})(),Nn=await _n(Dn),{maxPages:kn}=sn.options,Pn=Tn?addToStart:addToEnd;return{pages:Pn(Cn.pages,Nn,kn),pageParams:Pn(Cn.pageParams,An,kn)}};if(pn&&mn.length){const Cn=pn==="backward",An=Cn?getPreviousPageParam:getNextPageParam,Tn={pages:mn,pageParams:hn},$n=An(dn,Tn);fn=await jn(Tn,$n,Cn)}else{const Cn=tn??mn.length;do{const An=gn===0?hn[0]??dn.initialPageParam:getNextPageParam(dn,fn);if(gn>0&&An==null)break;fn=await jn(fn,An),gn++}while(gn<Cn)}return fn};sn.options.persister?sn.fetchFn=()=>{var Sn,Rn;return(Rn=(Sn=sn.options).persister)==null?void 0:Rn.call(Sn,xn,{client:sn.client,queryKey:sn.queryKey,meta:sn.options.meta,signal:sn.signal},un)}:sn.fetchFn=xn}}}function getNextPageParam(tn,{pages:sn,pageParams:un}){const dn=sn.length-1;return sn.length>0?tn.getNextPageParam(sn[dn],sn,un[dn],un):void 0}function getPreviousPageParam(tn,{pages:sn,pageParams:un}){var dn;return sn.length>0?(dn=tn.getPreviousPageParam)==null?void 0:dn.call(tn,sn[0],sn,un[0],un):void 0}var Ks,Go,Ko,Xl,Jl,Yo,_c,eu,qu,QueryClient=(qu=class{constructor(tn={}){us(this,Ks);us(this,Go);us(this,Ko);us(this,Xl);us(this,Jl);us(this,Yo);us(this,_c);us(this,eu);Zr(this,Ks,tn.queryCache||new QueryCache),Zr(this,Go,tn.mutationCache||new MutationCache),Zr(this,Ko,tn.defaultOptions||{}),Zr(this,Xl,new Map),Zr(this,Jl,new Map),Zr(this,Yo,0)}mount(){Eu(this,Yo)._++,mr(this,Yo)===1&&(Zr(this,_c,focusManager.subscribe(async tn=>{tn&&(await this.resumePausedMutations(),mr(this,Ks).onFocus())})),Zr(this,eu,onlineManager.subscribe(async tn=>{tn&&(await this.resumePausedMutations(),mr(this,Ks).onOnline())})))}unmount(){var tn,sn;Eu(this,Yo)._--,mr(this,Yo)===0&&((tn=mr(this,_c))==null||tn.call(this),Zr(this,_c,void 0),(sn=mr(this,eu))==null||sn.call(this),Zr(this,eu,void 0))}isFetching(tn){return mr(this,Ks).findAll({...tn,fetchStatus:"fetching"}).length}isMutating(tn){return mr(this,Go).findAll({...tn,status:"pending"}).length}getQueryData(tn){var un;const sn=this.defaultQueryOptions({queryKey:tn});return(un=mr(this,Ks).get(sn.queryHash))==null?void 0:un.state.data}ensureQueryData(tn){const sn=this.defaultQueryOptions(tn),un=mr(this,Ks).build(this,sn),dn=un.state.data;return dn===void 0?this.fetchQuery(tn):(tn.revalidateIfStale&&un.isStaleByTime(resolveStaleTime(sn.staleTime,un))&&this.prefetchQuery(sn),Promise.resolve(dn))}getQueriesData(tn){return mr(this,Ks).findAll(tn).map(({queryKey:sn,state:un})=>{const dn=un.data;return[sn,dn]})}setQueryData(tn,sn,un){const dn=this.defaultQueryOptions({queryKey:tn}),pn=mr(this,Ks).get(dn.queryHash),mn=pn==null?void 0:pn.state.data,hn=functionalUpdate(sn,mn);if(hn!==void 0)return mr(this,Ks).build(this,dn).setData(hn,{...un,manual:!0})}setQueriesData(tn,sn,un){return notifyManager.batch(()=>mr(this,Ks).findAll(tn).map(({queryKey:dn})=>[dn,this.setQueryData(dn,sn,un)]))}getQueryState(tn){var un;const sn=this.defaultQueryOptions({queryKey:tn});return(un=mr(this,Ks).get(sn.queryHash))==null?void 0:un.state}removeQueries(tn){const sn=mr(this,Ks);notifyManager.batch(()=>{sn.findAll(tn).forEach(un=>{sn.remove(un)})})}resetQueries(tn,sn){const un=mr(this,Ks);return notifyManager.batch(()=>(un.findAll(tn).forEach(dn=>{dn.reset()}),this.refetchQueries({type:"active",...tn},sn)))}cancelQueries(tn,sn={}){const un={revert:!0,...sn},dn=notifyManager.batch(()=>mr(this,Ks).findAll(tn).map(pn=>pn.cancel(un)));return Promise.all(dn).then(noop$f).catch(noop$f)}invalidateQueries(tn,sn={}){return notifyManager.batch(()=>(mr(this,Ks).findAll(tn).forEach(un=>{un.invalidate()}),(tn==null?void 0:tn.refetchType)==="none"?Promise.resolve():this.refetchQueries({...tn,type:(tn==null?void 0:tn.refetchType)??(tn==null?void 0:tn.type)??"active"},sn)))}refetchQueries(tn,sn={}){const un={...sn,cancelRefetch:sn.cancelRefetch??!0},dn=notifyManager.batch(()=>mr(this,Ks).findAll(tn).filter(pn=>!pn.isDisabled()&&!pn.isStatic()).map(pn=>{let mn=pn.fetch(void 0,un);return un.throwOnError||(mn=mn.catch(noop$f)),pn.state.fetchStatus==="paused"?Promise.resolve():mn}));return Promise.all(dn).then(noop$f)}fetchQuery(tn){const sn=this.defaultQueryOptions(tn);sn.retry===void 0&&(sn.retry=!1);const un=mr(this,Ks).build(this,sn);return un.isStaleByTime(resolveStaleTime(sn.staleTime,un))?un.fetch(sn):Promise.resolve(un.state.data)}prefetchQuery(tn){return this.fetchQuery(tn).then(noop$f).catch(noop$f)}fetchInfiniteQuery(tn){return tn.behavior=infiniteQueryBehavior(tn.pages),this.fetchQuery(tn)}prefetchInfiniteQuery(tn){return this.fetchInfiniteQuery(tn).then(noop$f).catch(noop$f)}ensureInfiniteQueryData(tn){return tn.behavior=infiniteQueryBehavior(tn.pages),this.ensureQueryData(tn)}resumePausedMutations(){return onlineManager.isOnline()?mr(this,Go).resumePausedMutations():Promise.resolve()}getQueryCache(){return mr(this,Ks)}getMutationCache(){return mr(this,Go)}getDefaultOptions(){return mr(this,Ko)}setDefaultOptions(tn){Zr(this,Ko,tn)}setQueryDefaults(tn,sn){mr(this,Xl).set(hashKey(tn),{queryKey:tn,defaultOptions:sn})}getQueryDefaults(tn){const sn=[...mr(this,Xl).values()],un={};return sn.forEach(dn=>{partialMatchKey(tn,dn.queryKey)&&Object.assign(un,dn.defaultOptions)}),un}setMutationDefaults(tn,sn){mr(this,Jl).set(hashKey(tn),{mutationKey:tn,defaultOptions:sn})}getMutationDefaults(tn){const sn=[...mr(this,Jl).values()],un={};return sn.forEach(dn=>{partialMatchKey(tn,dn.mutationKey)&&Object.assign(un,dn.defaultOptions)}),un}defaultQueryOptions(tn){if(tn._defaulted)return tn;const sn={...mr(this,Ko).queries,...this.getQueryDefaults(tn.queryKey),...tn,_defaulted:!0};return sn.queryHash||(sn.queryHash=hashQueryKeyByOptions(sn.queryKey,sn)),sn.refetchOnReconnect===void 0&&(sn.refetchOnReconnect=sn.networkMode!=="always"),sn.throwOnError===void 0&&(sn.throwOnError=!!sn.suspense),!sn.networkMode&&sn.persister&&(sn.networkMode="offlineFirst"),sn.queryFn===skipToken&&(sn.enabled=!1),sn}defaultMutationOptions(tn){return tn!=null&&tn._defaulted?tn:{...mr(this,Ko).mutations,...(tn==null?void 0:tn.mutationKey)&&this.getMutationDefaults(tn.mutationKey),...tn,_defaulted:!0}}clear(){mr(this,Ks).clear(),mr(this,Go).clear()}},Ks=new WeakMap,Go=new WeakMap,Ko=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Yo=new WeakMap,_c=new WeakMap,eu=new WeakMap,qu),oo,Ds,fu,ro,Ml,tu,Zo,Qo,gu,nu,su,Ol,Il,Xo,au,Fs,pu,_u,Cu,$u,Tu,Au,Nu,Du,Yu,Gu,QueryObserver=(Gu=class extends Subscribable{constructor(sn,un){super();us(this,Fs);us(this,oo);us(this,Ds);us(this,fu);us(this,ro);us(this,Ml);us(this,tu);us(this,Zo);us(this,Qo);us(this,gu);us(this,nu);us(this,su);us(this,Ol);us(this,Il);us(this,Xo);us(this,au,new Set);this.options=un,Zr(this,oo,sn),Zr(this,Qo,null),Zr(this,Zo,pendingThenable()),this.options.experimental_prefetchInRender||mr(this,Zo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(un)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(mr(this,Ds).addObserver(this),shouldFetchOnMount(mr(this,Ds),this.options)?Ss(this,Fs,pu).call(this):this.updateResult(),Ss(this,Fs,Tu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(mr(this,Ds),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(mr(this,Ds),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ss(this,Fs,Au).call(this),Ss(this,Fs,Nu).call(this),mr(this,Ds).removeObserver(this)}setOptions(sn){const un=this.options,dn=mr(this,Ds);if(this.options=mr(this,oo).defaultQueryOptions(sn),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,mr(this,Ds))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ss(this,Fs,Du).call(this),mr(this,Ds).setOptions(this.options),un._defaulted&&!shallowEqualObjects(this.options,un)&&mr(this,oo).getQueryCache().notify({type:"observerOptionsUpdated",query:mr(this,Ds),observer:this});const pn=this.hasListeners();pn&&shouldFetchOptionally(mr(this,Ds),dn,this.options,un)&&Ss(this,Fs,pu).call(this),this.updateResult(),pn&&(mr(this,Ds)!==dn||resolveEnabled(this.options.enabled,mr(this,Ds))!==resolveEnabled(un.enabled,mr(this,Ds))||resolveStaleTime(this.options.staleTime,mr(this,Ds))!==resolveStaleTime(un.staleTime,mr(this,Ds)))&&Ss(this,Fs,_u).call(this);const mn=Ss(this,Fs,Cu).call(this);pn&&(mr(this,Ds)!==dn||resolveEnabled(this.options.enabled,mr(this,Ds))!==resolveEnabled(un.enabled,mr(this,Ds))||mn!==mr(this,Xo))&&Ss(this,Fs,$u).call(this,mn)}getOptimisticResult(sn){const un=mr(this,oo).getQueryCache().build(mr(this,oo),sn),dn=this.createResult(un,sn);return shouldAssignObserverCurrentProperties(this,dn)&&(Zr(this,ro,dn),Zr(this,tu,this.options),Zr(this,Ml,mr(this,Ds).state)),dn}getCurrentResult(){return mr(this,ro)}trackResult(sn,un){return new Proxy(sn,{get:(dn,pn)=>(this.trackProp(pn),un==null||un(pn),Reflect.get(dn,pn))})}trackProp(sn){mr(this,au).add(sn)}getCurrentQuery(){return mr(this,Ds)}refetch({...sn}={}){return this.fetch({...sn})}fetchOptimistic(sn){const un=mr(this,oo).defaultQueryOptions(sn),dn=mr(this,oo).getQueryCache().build(mr(this,oo),un);return dn.fetch().then(()=>this.createResult(dn,un))}fetch(sn){return Ss(this,Fs,pu).call(this,{...sn,cancelRefetch:sn.cancelRefetch??!0}).then(()=>(this.updateResult(),mr(this,ro)))}createResult(sn,un){var kn;const dn=mr(this,Ds),pn=this.options,mn=mr(this,ro),hn=mr(this,Ml),fn=mr(this,tu),xn=sn!==dn?sn.state:mr(this,fu),{state:yn}=sn;let vn={...yn},En=!1,bn;if(un._optimisticResults){const Pn=this.hasListeners(),Mn=!Pn&&shouldFetchOnMount(sn,un),On=Pn&&shouldFetchOptionally(sn,dn,un,pn);(Mn||On)&&(vn={...vn,...fetchState(yn.data,sn.options)}),un._optimisticResults==="isRestoring"&&(vn.fetchStatus="idle")}let{error:wn,errorUpdatedAt:Sn,status:Rn}=vn;bn=vn.data;let _n=!1;if(un.placeholderData!==void 0&&bn===void 0&&Rn==="pending"){let Pn;mn!=null&&mn.isPlaceholderData&&un.placeholderData===(fn==null?void 0:fn.placeholderData)?(Pn=mn.data,_n=!0):Pn=typeof un.placeholderData=="function"?un.placeholderData((kn=mr(this,su))==null?void 0:kn.state.data,mr(this,su)):un.placeholderData,Pn!==void 0&&(Rn="success",bn=replaceData(mn==null?void 0:mn.data,Pn,un),En=!0)}if(un.select&&bn!==void 0&&!_n)if(mn&&bn===(hn==null?void 0:hn.data)&&un.select===mr(this,gu))bn=mr(this,nu);else try{Zr(this,gu,un.select),bn=un.select(bn),bn=replaceData(mn==null?void 0:mn.data,bn,un),Zr(this,nu,bn),Zr(this,Qo,null)}catch(Pn){Zr(this,Qo,Pn)}mr(this,Qo)&&(wn=mr(this,Qo),bn=mr(this,nu),Sn=Date.now(),Rn="error");const jn=vn.fetchStatus==="fetching",Cn=Rn==="pending",An=Rn==="error",Tn=Cn&&jn,$n=bn!==void 0,Nn={status:Rn,fetchStatus:vn.fetchStatus,isPending:Cn,isSuccess:Rn==="success",isError:An,isInitialLoading:Tn,isLoading:Tn,data:bn,dataUpdatedAt:vn.dataUpdatedAt,error:wn,errorUpdatedAt:Sn,failureCount:vn.fetchFailureCount,failureReason:vn.fetchFailureReason,errorUpdateCount:vn.errorUpdateCount,isFetched:vn.dataUpdateCount>0||vn.errorUpdateCount>0,isFetchedAfterMount:vn.dataUpdateCount>xn.dataUpdateCount||vn.errorUpdateCount>xn.errorUpdateCount,isFetching:jn,isRefetching:jn&&!Cn,isLoadingError:An&&!$n,isPaused:vn.fetchStatus==="paused",isPlaceholderData:En,isRefetchError:An&&$n,isStale:isStale(sn,un),refetch:this.refetch,promise:mr(this,Zo)};if(this.options.experimental_prefetchInRender){const Pn=Wn=>{Nn.status==="error"?Wn.reject(Nn.error):Nn.data!==void 0&&Wn.resolve(Nn.data)},Mn=()=>{const Wn=Zr(this,Zo,Nn.promise=pendingThenable());Pn(Wn)},On=mr(this,Zo);switch(On.status){case"pending":sn.queryHash===dn.queryHash&&Pn(On);break;case"fulfilled":(Nn.status==="error"||Nn.data!==On.value)&&Mn();break;case"rejected":(Nn.status!=="error"||Nn.error!==On.reason)&&Mn();break}}return Nn}updateResult(){const sn=mr(this,ro),un=this.createResult(mr(this,Ds),this.options);if(Zr(this,Ml,mr(this,Ds).state),Zr(this,tu,this.options),mr(this,Ml).data!==void 0&&Zr(this,su,mr(this,Ds)),shallowEqualObjects(un,sn))return;Zr(this,ro,un);const dn=()=>{if(!sn)return!0;const{notifyOnChangeProps:pn}=this.options,mn=typeof pn=="function"?pn():pn;if(mn==="all"||!mn&&!mr(this,au).size)return!0;const hn=new Set(mn??mr(this,au));return this.options.throwOnError&&hn.add("error"),Object.keys(mr(this,ro)).some(fn=>{const gn=fn;return mr(this,ro)[gn]!==sn[gn]&&hn.has(gn)})};Ss(this,Fs,Yu).call(this,{listeners:dn()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ss(this,Fs,Tu).call(this)}},oo=new WeakMap,Ds=new WeakMap,fu=new WeakMap,ro=new WeakMap,Ml=new WeakMap,tu=new WeakMap,Zo=new WeakMap,Qo=new WeakMap,gu=new WeakMap,nu=new WeakMap,su=new WeakMap,Ol=new WeakMap,Il=new WeakMap,Xo=new WeakMap,au=new WeakMap,Fs=new WeakSet,pu=function(sn){Ss(this,Fs,Du).call(this);let un=mr(this,Ds).fetch(this.options,sn);return sn!=null&&sn.throwOnError||(un=un.catch(noop$f)),un},_u=function(){Ss(this,Fs,Au).call(this);const sn=resolveStaleTime(this.options.staleTime,mr(this,Ds));if(isServer||mr(this,ro).isStale||!isValidTimeout(sn))return;const dn=timeUntilStale(mr(this,ro).dataUpdatedAt,sn)+1;Zr(this,Ol,setTimeout(()=>{mr(this,ro).isStale||this.updateResult()},dn))},Cu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(mr(this,Ds)):this.options.refetchInterval)??!1},$u=function(sn){Ss(this,Fs,Nu).call(this),Zr(this,Xo,sn),!(isServer||resolveEnabled(this.options.enabled,mr(this,Ds))===!1||!isValidTimeout(mr(this,Xo))||mr(this,Xo)===0)&&Zr(this,Il,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&Ss(this,Fs,pu).call(this)},mr(this,Xo)))},Tu=function(){Ss(this,Fs,_u).call(this),Ss(this,Fs,$u).call(this,Ss(this,Fs,Cu).call(this))},Au=function(){mr(this,Ol)&&(clearTimeout(mr(this,Ol)),Zr(this,Ol,void 0))},Nu=function(){mr(this,Il)&&(clearInterval(mr(this,Il)),Zr(this,Il,void 0))},Du=function(){const sn=mr(this,oo).getQueryCache().build(mr(this,oo),this.options);if(sn===mr(this,Ds))return;const un=mr(this,Ds);Zr(this,Ds,sn),Zr(this,fu,sn.state),this.hasListeners()&&(un==null||un.removeObserver(this),sn.addObserver(this))},Yu=function(sn){notifyManager.batch(()=>{sn.listeners&&this.listeners.forEach(un=>{un(mr(this,ro))}),mr(this,oo).getQueryCache().notify({query:mr(this,Ds),type:"observerResultsUpdated"})})},Gu);function shouldLoadOnMount(tn,sn){return resolveEnabled(sn.enabled,tn)!==!1&&tn.state.data===void 0&&!(tn.state.status==="error"&&sn.retryOnMount===!1)}function shouldFetchOnMount(tn,sn){return shouldLoadOnMount(tn,sn)||tn.state.data!==void 0&&shouldFetchOn(tn,sn,sn.refetchOnMount)}function shouldFetchOn(tn,sn,un){if(resolveEnabled(sn.enabled,tn)!==!1&&resolveStaleTime(sn.staleTime,tn)!=="static"){const dn=typeof un=="function"?un(tn):un;return dn==="always"||dn!==!1&&isStale(tn,sn)}return!1}function shouldFetchOptionally(tn,sn,un,dn){return(tn!==sn||resolveEnabled(dn.enabled,tn)===!1)&&(!un.suspense||tn.state.status!=="error")&&isStale(tn,un)}function isStale(tn,sn){return resolveEnabled(sn.enabled,tn)!==!1&&tn.isStaleByTime(resolveStaleTime(sn.staleTime,tn))}function shouldAssignObserverCurrentProperties(tn,sn){return!shallowEqualObjects(tn.getCurrentResult(),sn)}var Jo,xl,lo,Io,Lo,bu,Pu,Ku,MutationObserver$1=(Ku=class extends Subscribable{constructor(un,dn){super();us(this,Lo);us(this,Jo);us(this,xl);us(this,lo);us(this,Io);Zr(this,Jo,un),this.setOptions(dn),this.bindMethods(),Ss(this,Lo,bu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(un){var pn;const dn=this.options;this.options=mr(this,Jo).defaultMutationOptions(un),shallowEqualObjects(this.options,dn)||mr(this,Jo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:mr(this,lo),observer:this}),dn!=null&&dn.mutationKey&&this.options.mutationKey&&hashKey(dn.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((pn=mr(this,lo))==null?void 0:pn.state.status)==="pending"&&mr(this,lo).setOptions(this.options)}onUnsubscribe(){var un;this.hasListeners()||(un=mr(this,lo))==null||un.removeObserver(this)}onMutationUpdate(un){Ss(this,Lo,bu).call(this),Ss(this,Lo,Pu).call(this,un)}getCurrentResult(){return mr(this,xl)}reset(){var un;(un=mr(this,lo))==null||un.removeObserver(this),Zr(this,lo,void 0),Ss(this,Lo,bu).call(this),Ss(this,Lo,Pu).call(this)}mutate(un,dn){var pn;return Zr(this,Io,dn),(pn=mr(this,lo))==null||pn.removeObserver(this),Zr(this,lo,mr(this,Jo).getMutationCache().build(mr(this,Jo),this.options)),mr(this,lo).addObserver(this),mr(this,lo).execute(un)}},Jo=new WeakMap,xl=new WeakMap,lo=new WeakMap,Io=new WeakMap,Lo=new WeakSet,bu=function(){var dn;const un=((dn=mr(this,lo))==null?void 0:dn.state)??getDefaultState();Zr(this,xl,{...un,isPending:un.status==="pending",isSuccess:un.status==="success",isError:un.status==="error",isIdle:un.status==="idle",mutate:this.mutate,reset:this.reset})},Pu=function(un){notifyManager.batch(()=>{var dn,pn,mn,hn,fn,gn,xn,yn;if(mr(this,Io)&&this.hasListeners()){const vn=mr(this,xl).variables,En=mr(this,xl).context;(un==null?void 0:un.type)==="success"?((pn=(dn=mr(this,Io)).onSuccess)==null||pn.call(dn,un.data,vn,En),(hn=(mn=mr(this,Io)).onSettled)==null||hn.call(mn,un.data,null,vn,En)):(un==null?void 0:un.type)==="error"&&((gn=(fn=mr(this,Io)).onError)==null||gn.call(fn,un.error,vn,En),(yn=(xn=mr(this,Io)).onSettled)==null||yn.call(xn,void 0,un.error,vn,En))}this.listeners.forEach(vn=>{vn(mr(this,xl))})})},Ku),QueryClientContext=reactExports.createContext(void 0),useQueryClient=tn=>{const sn=reactExports.useContext(QueryClientContext);if(!sn)throw new Error("No QueryClient set, use QueryClientProvider to set one");return sn},QueryClientProvider=({client:tn,children:sn})=>(reactExports.useEffect(()=>(tn.mount(),()=>{tn.unmount()}),[tn]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:tn,children:sn})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let tn=!1;return{clearReset:()=>{tn=!1},reset:()=>{tn=!0},isReset:()=>tn}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(tn,sn)=>{(tn.suspense||tn.throwOnError||tn.experimental_prefetchInRender)&&(sn.isReset()||(tn.retryOnMount=!1))},useClearResetErrorBoundary=tn=>{reactExports.useEffect(()=>{tn.clearReset()},[tn])},getHasError=({result:tn,errorResetBoundary:sn,throwOnError:un,query:dn,suspense:pn})=>tn.isError&&!sn.isReset()&&!tn.isFetching&&dn&&(pn&&tn.data===void 0||shouldThrowError(un,[tn.error,dn])),ensureSuspenseTimers=tn=>{if(tn.suspense){const sn=dn=>dn==="static"?dn:Math.max(dn??1e3,1e3),un=tn.staleTime;tn.staleTime=typeof un=="function"?(...dn)=>sn(un(...dn)):sn(un),typeof tn.gcTime=="number"&&(tn.gcTime=Math.max(tn.gcTime,1e3))}},willFetch=(tn,sn)=>tn.isLoading&&tn.isFetching&&!sn,shouldSuspend=(tn,sn)=>(tn==null?void 0:tn.suspense)&&sn.isPending,fetchOptimistic=(tn,sn,un)=>sn.fetchOptimistic(tn).catch(()=>{un.clearReset()});function useBaseQuery(tn,sn,un){var vn,En,bn,wn,Sn;const dn=useIsRestoring(),pn=useQueryErrorResetBoundary(),mn=useQueryClient(),hn=mn.defaultQueryOptions(tn);(En=(vn=mn.getDefaultOptions().queries)==null?void 0:vn._experimental_beforeQuery)==null||En.call(vn,hn),hn._optimisticResults=dn?"isRestoring":"optimistic",ensureSuspenseTimers(hn),ensurePreventErrorBoundaryRetry(hn,pn),useClearResetErrorBoundary(pn);const fn=!mn.getQueryCache().get(hn.queryHash),[gn]=reactExports.useState(()=>new sn(mn,hn)),xn=gn.getOptimisticResult(hn),yn=!dn&&tn.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(Rn=>{const _n=yn?gn.subscribe(notifyManager.batchCalls(Rn)):noop$f;return gn.updateResult(),_n},[gn,yn]),()=>gn.getCurrentResult(),()=>gn.getCurrentResult()),reactExports.useEffect(()=>{gn.setOptions(hn)},[hn,gn]),shouldSuspend(hn,xn))throw fetchOptimistic(hn,gn,pn);if(getHasError({result:xn,errorResetBoundary:pn,throwOnError:hn.throwOnError,query:mn.getQueryCache().get(hn.queryHash),suspense:hn.suspense}))throw xn.error;if((wn=(bn=mn.getDefaultOptions().queries)==null?void 0:bn._experimental_afterQuery)==null||wn.call(bn,hn,xn),hn.experimental_prefetchInRender&&!isServer&&willFetch(xn,dn)){const Rn=fn?fetchOptimistic(hn,gn,pn):(Sn=mn.getQueryCache().get(hn.queryHash))==null?void 0:Sn.promise;Rn==null||Rn.catch(noop$f).finally(()=>{gn.updateResult()})}return hn.notifyOnChangeProps?xn:gn.trackResult(xn)}function useQuery(tn,sn){return useBaseQuery(tn,QueryObserver)}function useMutation(tn,sn){const un=useQueryClient(),[dn]=reactExports.useState(()=>new MutationObserver$1(un,tn));reactExports.useEffect(()=>{dn.setOptions(tn)},[dn,tn]);const pn=reactExports.useSyncExternalStore(reactExports.useCallback(hn=>dn.subscribe(notifyManager.batchCalls(hn)),[dn]),()=>dn.getCurrentResult(),()=>dn.getCurrentResult()),mn=reactExports.useCallback((hn,fn)=>{dn.mutate(hn,fn).catch(noop$f)},[dn]);if(pn.error&&shouldThrowError(dn.options.throwOnError,[pn.error]))throw pn.error;return{...pn,mutate:mn,mutateAsync:pn.mutate}}const scriptRel="modulepreload",assetsURL=function(tn){return"/"+tn},seen={},__vitePreload=function(sn,un,dn){let pn=Promise.resolve();if(un&&un.length>0){document.getElementsByTagName("link");const hn=document.querySelector("meta[property=csp-nonce]"),fn=(hn==null?void 0:hn.nonce)||(hn==null?void 0:hn.getAttribute("nonce"));pn=Promise.allSettled(un.map(gn=>{if(gn=assetsURL(gn),gn in seen)return;seen[gn]=!0;const xn=gn.endsWith(".css"),yn=xn?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${gn}"]${yn}`))return;const vn=document.createElement("link");if(vn.rel=xn?"stylesheet":scriptRel,xn||(vn.as="script"),vn.crossOrigin="",vn.href=gn,fn&&vn.setAttribute("nonce",fn),document.head.appendChild(vn),xn)return new Promise((En,bn)=>{vn.addEventListener("load",En),vn.addEventListener("error",()=>bn(new Error(`Unable to preload CSS for ${gn}`)))})}))}function mn(hn){const fn=new Event("vite:preloadError",{cancelable:!0});if(fn.payload=hn,window.dispatchEvent(fn),!fn.defaultPrevented)throw hn}return pn.then(hn=>{for(const fn of hn||[])fn.status==="rejected"&&mn(fn.reason);return sn().catch(mn)})},resolveFetch$3=tn=>{let sn;return tn?sn=tn:typeof fetch>"u"?sn=(...un)=>__vitePreload(async()=>{const{default:dn}=await Promise.resolve().then(()=>browser);return{default:dn}},void 0).then(({default:dn})=>dn(...un)):sn=fetch,(...un)=>sn(...un)};class FunctionsError extends Error{constructor(sn,un="FunctionsError",dn){super(sn),this.name=un,this.context=dn}}class FunctionsFetchError extends FunctionsError{constructor(sn){super("Failed to send a request to the Edge Function","FunctionsFetchError",sn)}}class FunctionsRelayError extends FunctionsError{constructor(sn){super("Relay Error invoking the Edge Function","FunctionsRelayError",sn)}}class FunctionsHttpError extends FunctionsError{constructor(sn){super("Edge Function returned a non-2xx status code","FunctionsHttpError",sn)}}var FunctionRegion;(function(tn){tn.Any="any",tn.ApNortheast1="ap-northeast-1",tn.ApNortheast2="ap-northeast-2",tn.ApSouth1="ap-south-1",tn.ApSoutheast1="ap-southeast-1",tn.ApSoutheast2="ap-southeast-2",tn.CaCentral1="ca-central-1",tn.EuCentral1="eu-central-1",tn.EuWest1="eu-west-1",tn.EuWest2="eu-west-2",tn.EuWest3="eu-west-3",tn.SaEast1="sa-east-1",tn.UsEast1="us-east-1",tn.UsWest1="us-west-1",tn.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$8=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};class FunctionsClient{constructor(sn,{headers:un={},customFetch:dn,region:pn=FunctionRegion.Any}={}){this.url=sn,this.headers=un,this.region=pn,this.fetch=resolveFetch$3(dn)}setAuth(sn){this.headers.Authorization=`Bearer ${sn}`}invoke(sn,un={}){var dn;return __awaiter$8(this,void 0,void 0,function*(){try{const{headers:pn,method:mn,body:hn}=un;let fn={},{region:gn}=un;gn||(gn=this.region);const xn=new URL(`${this.url}/${sn}`);gn&&gn!=="any"&&(fn["x-region"]=gn,xn.searchParams.set("forceFunctionRegion",gn));let yn;hn&&(pn&&!Object.prototype.hasOwnProperty.call(pn,"Content-Type")||!pn)&&(typeof Blob<"u"&&hn instanceof Blob||hn instanceof ArrayBuffer?(fn["Content-Type"]="application/octet-stream",yn=hn):typeof hn=="string"?(fn["Content-Type"]="text/plain",yn=hn):typeof FormData<"u"&&hn instanceof FormData?yn=hn:(fn["Content-Type"]="application/json",yn=JSON.stringify(hn)));const vn=yield this.fetch(xn.toString(),{method:mn||"POST",headers:Object.assign(Object.assign(Object.assign({},fn),this.headers),pn),body:yn}).catch(Sn=>{throw new FunctionsFetchError(Sn)}),En=vn.headers.get("x-relay-error");if(En&&En==="true")throw new FunctionsRelayError(vn);if(!vn.ok)throw new FunctionsHttpError(vn);let bn=((dn=vn.headers.get("Content-Type"))!==null&&dn!==void 0?dn:"text/plain").split(";")[0].trim(),wn;return bn==="application/json"?wn=yield vn.json():bn==="application/octet-stream"?wn=yield vn.blob():bn==="text/event-stream"?wn=vn:bn==="multipart/form-data"?wn=yield vn.formData():wn=yield vn.text(),{data:wn,error:null,response:vn}}catch(pn){return{data:null,error:pn,response:pn instanceof FunctionsHttpError||pn instanceof FunctionsRelayError?pn.context:void 0}}})}}var cjs$3={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal$1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal$1();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request$1=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request:Request$1,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(sn){super(sn.message),this.name="PostgrestError",this.details=sn.details,this.hint=sn.hint,this.code=sn.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$7(require$$0),PostgrestError_1$1=__importDefault$7(PostgrestError$2);let PostgrestBuilder$1=class{constructor(sn){this.shouldThrowOnError=!1,this.method=sn.method,this.url=sn.url,this.headers=sn.headers,this.schema=sn.schema,this.body=sn.body,this.shouldThrowOnError=sn.shouldThrowOnError,this.signal=sn.signal,this.isMaybeSingle=sn.isMaybeSingle,sn.fetch?this.fetch=sn.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(sn,un){return this.headers=Object.assign({},this.headers),this.headers[sn]=un,this}then(sn,un){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const dn=this.fetch;let pn=dn(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async mn=>{var hn,fn,gn;let xn=null,yn=null,vn=null,En=mn.status,bn=mn.statusText;if(mn.ok){if(this.method!=="HEAD"){const _n=await mn.text();_n===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?yn=_n:yn=JSON.parse(_n))}const Sn=(hn=this.headers.Prefer)===null||hn===void 0?void 0:hn.match(/count=(exact|planned|estimated)/),Rn=(fn=mn.headers.get("content-range"))===null||fn===void 0?void 0:fn.split("/");Sn&&Rn&&Rn.length>1&&(vn=parseInt(Rn[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(yn)&&(yn.length>1?(xn={code:"PGRST116",details:`Results contain ${yn.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},yn=null,vn=null,En=406,bn="Not Acceptable"):yn.length===1?yn=yn[0]:yn=null)}else{const Sn=await mn.text();try{xn=JSON.parse(Sn),Array.isArray(xn)&&mn.status===404&&(yn=[],xn=null,En=200,bn="OK")}catch{mn.status===404&&Sn===""?(En=204,bn="No Content"):xn={message:Sn}}if(xn&&this.isMaybeSingle&&(!((gn=xn==null?void 0:xn.details)===null||gn===void 0)&&gn.includes("0 rows"))&&(xn=null,En=200,bn="OK"),xn&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(xn)}return{error:xn,data:yn,count:vn,status:En,statusText:bn}});return this.shouldThrowOnError||(pn=pn.catch(mn=>{var hn,fn,gn;return{error:{message:`${(hn=mn==null?void 0:mn.name)!==null&&hn!==void 0?hn:"FetchError"}: ${mn==null?void 0:mn.message}`,details:`${(fn=mn==null?void 0:mn.stack)!==null&&fn!==void 0?fn:""}`,hint:"",code:`${(gn=mn==null?void 0:mn.code)!==null&&gn!==void 0?gn:""}`},data:null,count:null,status:0,statusText:""}})),pn.then(sn,un)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$6(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(sn){let un=!1;const dn=(sn??"*").split("").map(pn=>/\s/.test(pn)&&!un?"":(pn==='"'&&(un=!un),pn)).join("");return this.url.searchParams.set("select",dn),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(sn,{ascending:un=!0,nullsFirst:dn,foreignTable:pn,referencedTable:mn=pn}={}){const hn=mn?`${mn}.order`:"order",fn=this.url.searchParams.get(hn);return this.url.searchParams.set(hn,`${fn?`${fn},`:""}${sn}.${un?"asc":"desc"}${dn===void 0?"":dn?".nullsfirst":".nullslast"}`),this}limit(sn,{foreignTable:un,referencedTable:dn=un}={}){const pn=typeof dn>"u"?"limit":`${dn}.limit`;return this.url.searchParams.set(pn,`${sn}`),this}range(sn,un,{foreignTable:dn,referencedTable:pn=dn}={}){const mn=typeof pn>"u"?"offset":`${pn}.offset`,hn=typeof pn>"u"?"limit":`${pn}.limit`;return this.url.searchParams.set(mn,`${sn}`),this.url.searchParams.set(hn,`${un-sn+1}`),this}abortSignal(sn){return this.signal=sn,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:sn=!1,verbose:un=!1,settings:dn=!1,buffers:pn=!1,wal:mn=!1,format:hn="text"}={}){var fn;const gn=[sn?"analyze":null,un?"verbose":null,dn?"settings":null,pn?"buffers":null,mn?"wal":null].filter(Boolean).join("|"),xn=(fn=this.headers.Accept)!==null&&fn!==void 0?fn:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${hn}; for="${xn}"; options=${gn};`,hn==="json"?this:this}rollback(){var sn;return((sn=this.headers.Prefer)!==null&&sn!==void 0?sn:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$5(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(sn,un){return this.url.searchParams.append(sn,`eq.${un}`),this}neq(sn,un){return this.url.searchParams.append(sn,`neq.${un}`),this}gt(sn,un){return this.url.searchParams.append(sn,`gt.${un}`),this}gte(sn,un){return this.url.searchParams.append(sn,`gte.${un}`),this}lt(sn,un){return this.url.searchParams.append(sn,`lt.${un}`),this}lte(sn,un){return this.url.searchParams.append(sn,`lte.${un}`),this}like(sn,un){return this.url.searchParams.append(sn,`like.${un}`),this}likeAllOf(sn,un){return this.url.searchParams.append(sn,`like(all).{${un.join(",")}}`),this}likeAnyOf(sn,un){return this.url.searchParams.append(sn,`like(any).{${un.join(",")}}`),this}ilike(sn,un){return this.url.searchParams.append(sn,`ilike.${un}`),this}ilikeAllOf(sn,un){return this.url.searchParams.append(sn,`ilike(all).{${un.join(",")}}`),this}ilikeAnyOf(sn,un){return this.url.searchParams.append(sn,`ilike(any).{${un.join(",")}}`),this}is(sn,un){return this.url.searchParams.append(sn,`is.${un}`),this}in(sn,un){const dn=Array.from(new Set(un)).map(pn=>typeof pn=="string"&&new RegExp("[,()]").test(pn)?`"${pn}"`:`${pn}`).join(",");return this.url.searchParams.append(sn,`in.(${dn})`),this}contains(sn,un){return typeof un=="string"?this.url.searchParams.append(sn,`cs.${un}`):Array.isArray(un)?this.url.searchParams.append(sn,`cs.{${un.join(",")}}`):this.url.searchParams.append(sn,`cs.${JSON.stringify(un)}`),this}containedBy(sn,un){return typeof un=="string"?this.url.searchParams.append(sn,`cd.${un}`):Array.isArray(un)?this.url.searchParams.append(sn,`cd.{${un.join(",")}}`):this.url.searchParams.append(sn,`cd.${JSON.stringify(un)}`),this}rangeGt(sn,un){return this.url.searchParams.append(sn,`sr.${un}`),this}rangeGte(sn,un){return this.url.searchParams.append(sn,`nxl.${un}`),this}rangeLt(sn,un){return this.url.searchParams.append(sn,`sl.${un}`),this}rangeLte(sn,un){return this.url.searchParams.append(sn,`nxr.${un}`),this}rangeAdjacent(sn,un){return this.url.searchParams.append(sn,`adj.${un}`),this}overlaps(sn,un){return typeof un=="string"?this.url.searchParams.append(sn,`ov.${un}`):this.url.searchParams.append(sn,`ov.{${un.join(",")}}`),this}textSearch(sn,un,{config:dn,type:pn}={}){let mn="";pn==="plain"?mn="pl":pn==="phrase"?mn="ph":pn==="websearch"&&(mn="w");const hn=dn===void 0?"":`(${dn})`;return this.url.searchParams.append(sn,`${mn}fts${hn}.${un}`),this}match(sn){return Object.entries(sn).forEach(([un,dn])=>{this.url.searchParams.append(un,`eq.${dn}`)}),this}not(sn,un,dn){return this.url.searchParams.append(sn,`not.${un}.${dn}`),this}or(sn,{foreignTable:un,referencedTable:dn=un}={}){const pn=dn?`${dn}.or`:"or";return this.url.searchParams.append(pn,`(${sn})`),this}filter(sn,un,dn){return this.url.searchParams.append(sn,`${un}.${dn}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$4(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(sn,{headers:un={},schema:dn,fetch:pn}){this.url=sn,this.headers=un,this.schema=dn,this.fetch=pn}select(sn,{head:un=!1,count:dn}={}){const pn=un?"HEAD":"GET";let mn=!1;const hn=(sn??"*").split("").map(fn=>/\s/.test(fn)&&!mn?"":(fn==='"'&&(mn=!mn),fn)).join("");return this.url.searchParams.set("select",hn),dn&&(this.headers.Prefer=`count=${dn}`),new PostgrestFilterBuilder_1$2.default({method:pn,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(sn,{count:un,defaultToNull:dn=!0}={}){const pn="POST",mn=[];if(this.headers.Prefer&&mn.push(this.headers.Prefer),un&&mn.push(`count=${un}`),dn||mn.push("missing=default"),this.headers.Prefer=mn.join(","),Array.isArray(sn)){const hn=sn.reduce((fn,gn)=>fn.concat(Object.keys(gn)),[]);if(hn.length>0){const fn=[...new Set(hn)].map(gn=>`"${gn}"`);this.url.searchParams.set("columns",fn.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:pn,url:this.url,headers:this.headers,schema:this.schema,body:sn,fetch:this.fetch,allowEmpty:!1})}upsert(sn,{onConflict:un,ignoreDuplicates:dn=!1,count:pn,defaultToNull:mn=!0}={}){const hn="POST",fn=[`resolution=${dn?"ignore":"merge"}-duplicates`];if(un!==void 0&&this.url.searchParams.set("on_conflict",un),this.headers.Prefer&&fn.push(this.headers.Prefer),pn&&fn.push(`count=${pn}`),mn||fn.push("missing=default"),this.headers.Prefer=fn.join(","),Array.isArray(sn)){const gn=sn.reduce((xn,yn)=>xn.concat(Object.keys(yn)),[]);if(gn.length>0){const xn=[...new Set(gn)].map(yn=>`"${yn}"`);this.url.searchParams.set("columns",xn.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:hn,url:this.url,headers:this.headers,schema:this.schema,body:sn,fetch:this.fetch,allowEmpty:!1})}update(sn,{count:un}={}){const dn="PATCH",pn=[];return this.headers.Prefer&&pn.push(this.headers.Prefer),un&&pn.push(`count=${un}`),this.headers.Prefer=pn.join(","),new PostgrestFilterBuilder_1$2.default({method:dn,url:this.url,headers:this.headers,schema:this.schema,body:sn,fetch:this.fetch,allowEmpty:!1})}delete({count:sn}={}){const un="DELETE",dn=[];return sn&&dn.push(`count=${sn}`),this.headers.Prefer&&dn.unshift(this.headers.Prefer),this.headers.Prefer=dn.join(","),new PostgrestFilterBuilder_1$2.default({method:un,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var constants$1={},version$4={};Object.defineProperty(version$4,"__esModule",{value:!0});version$4.version=void 0;version$4.version="0.0.0-automated";Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.DEFAULT_HEADERS=void 0;const version_1=version$4;constants$1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${version_1.version}`};var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$3(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$3(PostgrestFilterBuilder$2),constants_1=constants$1;let PostgrestClient$1=class Zu{constructor(sn,{headers:un={},schema:dn,fetch:pn}={}){this.url=sn,this.headers=Object.assign(Object.assign({},constants_1.DEFAULT_HEADERS),un),this.schemaName=dn,this.fetch=pn}from(sn){const un=new URL(`${this.url}/${sn}`);return new PostgrestQueryBuilder_1$1.default(un,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(sn){return new Zu(this.url,{headers:this.headers,schema:sn,fetch:this.fetch})}rpc(sn,un={},{head:dn=!1,get:pn=!1,count:mn}={}){let hn;const fn=new URL(`${this.url}/rpc/${sn}`);let gn;dn||pn?(hn=dn?"HEAD":"GET",Object.entries(un).filter(([yn,vn])=>vn!==void 0).map(([yn,vn])=>[yn,Array.isArray(vn)?`{${vn.join(",")}}`:`${vn}`]).forEach(([yn,vn])=>{fn.searchParams.append(yn,vn)})):(hn="POST",gn=un);const xn=Object.assign({},this.headers);return mn&&(xn.Prefer=`count=${mn}`),new PostgrestFilterBuilder_1$1.default({method:hn,url:fn,headers:xn,schema:this.schemaName,body:gn,fetch:this.fetch,allowEmpty:!1})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(cjs$3,"__esModule",{value:!0});cjs$3.PostgrestError=cjs$3.PostgrestBuilder=cjs$3.PostgrestTransformBuilder=cjs$3.PostgrestFilterBuilder=cjs$3.PostgrestQueryBuilder=cjs$3.PostgrestClient=void 0;const PostgrestClient_1=__importDefault$2(PostgrestClient$2);cjs$3.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault$2(PostgrestQueryBuilder$2);cjs$3.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault$2(PostgrestFilterBuilder$2);cjs$3.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault$2(PostgrestTransformBuilder$2);cjs$3.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault$2(PostgrestBuilder$2);cjs$3.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault$2(PostgrestError$2);cjs$3.PostgrestError=PostgrestError_1.default;var _default$1=cjs$3.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default$1;function getNativeWebSocket(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const WebSocket$1=getNativeWebSocket(),version$3="2.11.15",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(tn){tn[tn.connecting=0]="connecting",tn[tn.open=1]="open",tn[tn.closing=2]="closing",tn[tn.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(tn){tn.closed="closed",tn.errored="errored",tn.joined="joined",tn.joining="joining",tn.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(tn){tn.close="phx_close",tn.error="phx_error",tn.join="phx_join",tn.reply="phx_reply",tn.leave="phx_leave",tn.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(tn){tn.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(tn){tn.Connecting="connecting",tn.Open="open",tn.Closing="closing",tn.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(sn,un){return sn.constructor===ArrayBuffer?un(this._binaryDecode(sn)):un(typeof sn=="string"?JSON.parse(sn):{})}_binaryDecode(sn){const un=new DataView(sn),dn=new TextDecoder;return this._decodeBroadcast(sn,un,dn)}_decodeBroadcast(sn,un,dn){const pn=un.getUint8(1),mn=un.getUint8(2);let hn=this.HEADER_LENGTH+2;const fn=dn.decode(sn.slice(hn,hn+pn));hn=hn+pn;const gn=dn.decode(sn.slice(hn,hn+mn));hn=hn+mn;const xn=JSON.parse(dn.decode(sn.slice(hn,sn.byteLength)));return{ref:null,topic:fn,event:gn,payload:xn}}}class Timer{constructor(sn,un){this.callback=sn,this.timerCalc=un,this.timer=void 0,this.tries=0,this.callback=sn,this.timerCalc=un}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(tn){tn.abstime="abstime",tn.bool="bool",tn.date="date",tn.daterange="daterange",tn.float4="float4",tn.float8="float8",tn.int2="int2",tn.int4="int4",tn.int4range="int4range",tn.int8="int8",tn.int8range="int8range",tn.json="json",tn.jsonb="jsonb",tn.money="money",tn.numeric="numeric",tn.oid="oid",tn.reltime="reltime",tn.text="text",tn.time="time",tn.timestamp="timestamp",tn.timestamptz="timestamptz",tn.timetz="timetz",tn.tsrange="tsrange",tn.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(tn,sn,un={})=>{var dn;const pn=(dn=un.skipTypes)!==null&&dn!==void 0?dn:[];return Object.keys(sn).reduce((mn,hn)=>(mn[hn]=convertColumn(hn,tn,sn,pn),mn),{})},convertColumn=(tn,sn,un,dn)=>{const pn=sn.find(fn=>fn.name===tn),mn=pn==null?void 0:pn.type,hn=un[tn];return mn&&!dn.includes(mn)?convertCell(mn,hn):noop$e(hn)},convertCell=(tn,sn)=>{if(tn.charAt(0)==="_"){const un=tn.slice(1,tn.length);return toArray$3(sn,un)}switch(tn){case PostgresTypes.bool:return toBoolean(sn);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$5(sn);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(sn);case PostgresTypes.timestamp:return toTimestampString(sn);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$e(sn);default:return noop$e(sn)}},noop$e=tn=>tn,toBoolean=tn=>{switch(tn){case"t":return!0;case"f":return!1;default:return tn}},toNumber$5=tn=>{if(typeof tn=="string"){const sn=parseFloat(tn);if(!Number.isNaN(sn))return sn}return tn},toJson=tn=>{if(typeof tn=="string")try{return JSON.parse(tn)}catch(sn){return console.log(`JSON parse error: ${sn}`),tn}return tn},toArray$3=(tn,sn)=>{if(typeof tn!="string")return tn;const un=tn.length-1,dn=tn[un];if(tn[0]==="{"&&dn==="}"){let mn;const hn=tn.slice(1,un);try{mn=JSON.parse("["+hn+"]")}catch{mn=hn?hn.split(","):[]}return mn.map(fn=>convertCell(sn,fn))}return tn},toTimestampString=tn=>typeof tn=="string"?tn.replace(" ","T"):tn,httpEndpointURL=tn=>{let sn=tn;return sn=sn.replace(/^ws/i,"http"),sn=sn.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),sn.replace(/\/+$/,"")};class Push{constructor(sn,un,dn={},pn=DEFAULT_TIMEOUT){this.channel=sn,this.event=un,this.payload=dn,this.timeout=pn,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(sn){this.timeout=sn,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(sn){this.payload=Object.assign(Object.assign({},this.payload),sn)}receive(sn,un){var dn;return this._hasReceived(sn)&&un((dn=this.receivedResp)===null||dn===void 0?void 0:dn.response),this.recHooks.push({status:sn,callback:un}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const sn=un=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=un,this._matchReceive(un)};this.channel._on(this.refEvent,{},sn),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(sn,un){this.refEvent&&this.channel._trigger(this.refEvent,{status:sn,response:un})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:sn,response:un}){this.recHooks.filter(dn=>dn.status===sn).forEach(dn=>dn.callback(un))}_hasReceived(sn){return this.receivedResp&&this.receivedResp.status===sn}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(tn){tn.SYNC="sync",tn.JOIN="join",tn.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(sn,un){this.channel=sn,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const dn=(un==null?void 0:un.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(dn.state,{},pn=>{const{onJoin:mn,onLeave:hn,onSync:fn}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,pn,mn,hn),this.pendingDiffs.forEach(gn=>{this.state=RealtimePresence.syncDiff(this.state,gn,mn,hn)}),this.pendingDiffs=[],fn()}),this.channel._on(dn.diff,{},pn=>{const{onJoin:mn,onLeave:hn,onSync:fn}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(pn):(this.state=RealtimePresence.syncDiff(this.state,pn,mn,hn),fn())}),this.onJoin((pn,mn,hn)=>{this.channel._trigger("presence",{event:"join",key:pn,currentPresences:mn,newPresences:hn})}),this.onLeave((pn,mn,hn)=>{this.channel._trigger("presence",{event:"leave",key:pn,currentPresences:mn,leftPresences:hn})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(sn,un,dn,pn){const mn=this.cloneDeep(sn),hn=this.transformState(un),fn={},gn={};return this.map(mn,(xn,yn)=>{hn[xn]||(gn[xn]=yn)}),this.map(hn,(xn,yn)=>{const vn=mn[xn];if(vn){const En=yn.map(Rn=>Rn.presence_ref),bn=vn.map(Rn=>Rn.presence_ref),wn=yn.filter(Rn=>bn.indexOf(Rn.presence_ref)<0),Sn=vn.filter(Rn=>En.indexOf(Rn.presence_ref)<0);wn.length>0&&(fn[xn]=wn),Sn.length>0&&(gn[xn]=Sn)}else fn[xn]=yn}),this.syncDiff(mn,{joins:fn,leaves:gn},dn,pn)}static syncDiff(sn,un,dn,pn){const{joins:mn,leaves:hn}={joins:this.transformState(un.joins),leaves:this.transformState(un.leaves)};return dn||(dn=()=>{}),pn||(pn=()=>{}),this.map(mn,(fn,gn)=>{var xn;const yn=(xn=sn[fn])!==null&&xn!==void 0?xn:[];if(sn[fn]=this.cloneDeep(gn),yn.length>0){const vn=sn[fn].map(bn=>bn.presence_ref),En=yn.filter(bn=>vn.indexOf(bn.presence_ref)<0);sn[fn].unshift(...En)}dn(fn,yn,gn)}),this.map(hn,(fn,gn)=>{let xn=sn[fn];if(!xn)return;const yn=gn.map(vn=>vn.presence_ref);xn=xn.filter(vn=>yn.indexOf(vn.presence_ref)<0),sn[fn]=xn,pn(fn,xn,gn),xn.length===0&&delete sn[fn]}),sn}static map(sn,un){return Object.getOwnPropertyNames(sn).map(dn=>un(dn,sn[dn]))}static transformState(sn){return sn=this.cloneDeep(sn),Object.getOwnPropertyNames(sn).reduce((un,dn)=>{const pn=sn[dn];return"metas"in pn?un[dn]=pn.metas.map(mn=>(mn.presence_ref=mn.phx_ref,delete mn.phx_ref,delete mn.phx_ref_prev,mn)):un[dn]=pn,un},{})}static cloneDeep(sn){return JSON.parse(JSON.stringify(sn))}onJoin(sn){this.caller.onJoin=sn}onLeave(sn){this.caller.onLeave=sn}onSync(sn){this.caller.onSync=sn}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(tn){tn.ALL="*",tn.INSERT="INSERT",tn.UPDATE="UPDATE",tn.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(tn){tn.BROADCAST="broadcast",tn.PRESENCE="presence",tn.POSTGRES_CHANGES="postgres_changes",tn.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(tn){tn.SUBSCRIBED="SUBSCRIBED",tn.TIMED_OUT="TIMED_OUT",tn.CLOSED="CLOSED",tn.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(sn,un={config:{}},dn){this.topic=sn,this.params=un,this.socket=dn,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=sn.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},un.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(pn=>pn.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(pn=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,pn),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(pn,mn)=>{this._trigger(this._replyEventName(mn),pn)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(sn,un=this.timeout){var dn,pn;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:mn,presence:hn,private:fn}}=this.params;this._onError(yn=>sn==null?void 0:sn(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,yn)),this._onClose(()=>sn==null?void 0:sn(REALTIME_SUBSCRIBE_STATES.CLOSED));const gn={},xn={broadcast:mn,presence:hn,postgres_changes:(pn=(dn=this.bindings.postgres_changes)===null||dn===void 0?void 0:dn.map(yn=>yn.filter))!==null&&pn!==void 0?pn:[],private:fn};this.socket.accessTokenValue&&(gn.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:xn},gn)),this.joinedOnce=!0,this._rejoin(un),this.joinPush.receive("ok",async({postgres_changes:yn})=>{var vn;if(this.socket.setAuth(),yn===void 0){sn==null||sn(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const En=this.bindings.postgres_changes,bn=(vn=En==null?void 0:En.length)!==null&&vn!==void 0?vn:0,wn=[];for(let Sn=0;Sn<bn;Sn++){const Rn=En[Sn],{filter:{event:_n,schema:jn,table:Cn,filter:An}}=Rn,Tn=yn&&yn[Sn];if(Tn&&Tn.event===_n&&Tn.schema===jn&&Tn.table===Cn&&Tn.filter===An)wn.push(Object.assign(Object.assign({},Rn),{id:Tn.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,sn==null||sn(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=wn,sn&&sn(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",yn=>{this.state=CHANNEL_STATES.errored,sn==null||sn(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(yn).join(", ")||"error")))}).receive("timeout",()=>{sn==null||sn(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(sn,un={}){return await this.send({type:"presence",event:"track",payload:sn},un.timeout||this.timeout)}async untrack(sn={}){return await this.send({type:"presence",event:"untrack"},sn)}on(sn,un,dn){return this._on(sn,un,dn)}async send(sn,un={}){var dn,pn;if(!this._canPush()&&sn.type==="broadcast"){const{event:mn,payload:hn}=sn,gn={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:mn,payload:hn,private:this.private}]})};try{const xn=await this._fetchWithTimeout(this.broadcastEndpointURL,gn,(dn=un.timeout)!==null&&dn!==void 0?dn:this.timeout);return await((pn=xn.body)===null||pn===void 0?void 0:pn.cancel()),xn.ok?"ok":"error"}catch(xn){return xn.name==="AbortError"?"timed out":"error"}}else return new Promise(mn=>{var hn,fn,gn;const xn=this._push(sn.type,sn,un.timeout||this.timeout);sn.type==="broadcast"&&!(!((gn=(fn=(hn=this.params)===null||hn===void 0?void 0:hn.config)===null||fn===void 0?void 0:fn.broadcast)===null||gn===void 0)&&gn.ack)&&mn("ok"),xn.receive("ok",()=>mn("ok")),xn.receive("error",()=>mn("error")),xn.receive("timeout",()=>mn("timed out"))})}updateJoinPayload(sn){this.joinPush.updatePayload(sn)}unsubscribe(sn=this.timeout){this.state=CHANNEL_STATES.leaving;const un=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let dn=null;return new Promise(pn=>{dn=new Push(this,CHANNEL_EVENTS.leave,{},sn),dn.receive("ok",()=>{un(),pn("ok")}).receive("timeout",()=>{un(),pn("timed out")}).receive("error",()=>{pn("error")}),dn.send(),this._canPush()||dn.trigger("ok",{})}).finally(()=>{dn==null||dn.destroy()})}teardown(){this.pushBuffer.forEach(sn=>sn.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(sn,un,dn){const pn=new AbortController,mn=setTimeout(()=>pn.abort(),dn),hn=await this.socket.fetch(sn,Object.assign(Object.assign({},un),{signal:pn.signal}));return clearTimeout(mn),hn}_push(sn,un,dn=this.timeout){if(!this.joinedOnce)throw`tried to push '${sn}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let pn=new Push(this,sn,un,dn);return this._canPush()?pn.send():(pn.startTimeout(),this.pushBuffer.push(pn)),pn}_onMessage(sn,un,dn){return un}_isMember(sn){return this.topic===sn}_joinRef(){return this.joinPush.ref}_trigger(sn,un,dn){var pn,mn;const hn=sn.toLocaleLowerCase(),{close:fn,error:gn,leave:xn,join:yn}=CHANNEL_EVENTS;if(dn&&[fn,gn,xn,yn].indexOf(hn)>=0&&dn!==this._joinRef())return;let En=this._onMessage(hn,un,dn);if(un&&!En)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(hn)?(pn=this.bindings.postgres_changes)===null||pn===void 0||pn.filter(bn=>{var wn,Sn,Rn;return((wn=bn.filter)===null||wn===void 0?void 0:wn.event)==="*"||((Rn=(Sn=bn.filter)===null||Sn===void 0?void 0:Sn.event)===null||Rn===void 0?void 0:Rn.toLocaleLowerCase())===hn}).map(bn=>bn.callback(En,dn)):(mn=this.bindings[hn])===null||mn===void 0||mn.filter(bn=>{var wn,Sn,Rn,_n,jn,Cn;if(["broadcast","presence","postgres_changes"].includes(hn))if("id"in bn){const An=bn.id,Tn=(wn=bn.filter)===null||wn===void 0?void 0:wn.event;return An&&((Sn=un.ids)===null||Sn===void 0?void 0:Sn.includes(An))&&(Tn==="*"||(Tn==null?void 0:Tn.toLocaleLowerCase())===((Rn=un.data)===null||Rn===void 0?void 0:Rn.type.toLocaleLowerCase()))}else{const An=(jn=(_n=bn==null?void 0:bn.filter)===null||_n===void 0?void 0:_n.event)===null||jn===void 0?void 0:jn.toLocaleLowerCase();return An==="*"||An===((Cn=un==null?void 0:un.event)===null||Cn===void 0?void 0:Cn.toLocaleLowerCase())}else return bn.type.toLocaleLowerCase()===hn}).map(bn=>{if(typeof En=="object"&&"ids"in En){const wn=En.data,{schema:Sn,table:Rn,commit_timestamp:_n,type:jn,errors:Cn}=wn;En=Object.assign(Object.assign({},{schema:Sn,table:Rn,commit_timestamp:_n,eventType:jn,new:{},old:{},errors:Cn}),this._getPayloadRecords(wn))}bn.callback(En,dn)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(sn){return`chan_reply_${sn}`}_on(sn,un,dn){const pn=sn.toLocaleLowerCase(),mn={type:pn,filter:un,callback:dn};return this.bindings[pn]?this.bindings[pn].push(mn):this.bindings[pn]=[mn],this}_off(sn,un){const dn=sn.toLocaleLowerCase();return this.bindings[dn]=this.bindings[dn].filter(pn=>{var mn;return!(((mn=pn.type)===null||mn===void 0?void 0:mn.toLocaleLowerCase())===dn&&RealtimeChannel.isEqual(pn.filter,un))}),this}static isEqual(sn,un){if(Object.keys(sn).length!==Object.keys(un).length)return!1;for(const dn in sn)if(sn[dn]!==un[dn])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(sn){this._on(CHANNEL_EVENTS.close,{},sn)}_onError(sn){this._on(CHANNEL_EVENTS.error,{},un=>sn(un))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(sn=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(sn))}_getPayloadRecords(sn){const un={new:{},old:{}};return(sn.type==="INSERT"||sn.type==="UPDATE")&&(un.new=convertChangeData(sn.columns,sn.record)),(sn.type==="UPDATE"||sn.type==="DELETE")&&(un.old=convertChangeData(sn.columns,sn.old_record)),un}}const noop$d=()=>{},WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(sn,un){var dn;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$d,this.ref=0,this.logger=noop$d,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=mn=>{let hn;return mn?hn=mn:typeof fetch>"u"?hn=(...fn)=>__vitePreload(async()=>{const{default:gn}=await Promise.resolve().then(()=>browser);return{default:gn}},void 0).then(({default:gn})=>gn(...fn)):hn=fetch,(...fn)=>hn(...fn)},this.endPoint=`${sn}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(sn),un!=null&&un.transport?this.transport=un.transport:this.transport=null,un!=null&&un.params&&(this.params=un.params),un!=null&&un.timeout&&(this.timeout=un.timeout),un!=null&&un.logger&&(this.logger=un.logger),(un!=null&&un.logLevel||un!=null&&un.log_level)&&(this.logLevel=un.logLevel||un.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),un!=null&&un.heartbeatIntervalMs&&(this.heartbeatIntervalMs=un.heartbeatIntervalMs);const pn=(dn=un==null?void 0:un.params)===null||dn===void 0?void 0:dn.apikey;if(pn&&(this.accessTokenValue=pn,this.apiKey=pn),this.reconnectAfterMs=un!=null&&un.reconnectAfterMs?un.reconnectAfterMs:mn=>[1e3,2e3,5e3,1e4][mn-1]||1e4,this.encode=un!=null&&un.encode?un.encode:(mn,hn)=>hn(JSON.stringify(mn)),this.decode=un!=null&&un.decode?un.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(un==null?void 0:un.fetch),un!=null&&un.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(un==null?void 0:un.worker)||!1,this.workerUrl=un==null?void 0:un.workerUrl}this.accessToken=(un==null?void 0:un.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=WebSocket$1),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(sn,un){this.conn&&(this.conn.onclose=function(){},sn?this.conn.close(sn,un??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(dn=>dn.teardown()))}getChannels(){return this.channels}async removeChannel(sn){const un=await sn.unsubscribe();return this.channels.length===0&&this.disconnect(),un}async removeAllChannels(){const sn=await Promise.all(this.channels.map(un=>un.unsubscribe()));return this.channels=[],this.disconnect(),sn}log(sn,un,dn){this.logger(sn,un,dn)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}channel(sn,un={config:{}}){const dn=`realtime:${sn}`,pn=this.getChannels().find(mn=>mn.topic===dn);if(pn)return pn;{const mn=new RealtimeChannel(`realtime:${sn}`,un,this);return this.channels.push(mn),mn}}push(sn){const{topic:un,event:dn,payload:pn,ref:mn}=sn,hn=()=>{this.encode(sn,fn=>{var gn;(gn=this.conn)===null||gn===void 0||gn.send(fn)})};this.log("push",`${un} ${dn} (${mn})`,pn),this.isConnected()?hn():this.sendBuffer.push(hn)}async setAuth(sn=null){let un=sn||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=un&&(this.accessTokenValue=un,this.channels.forEach(dn=>{const pn={access_token:un,version:DEFAULT_VERSION};un&&dn.updateJoinPayload(pn),dn.joinedOnce&&dn._isJoined()&&dn._push(CHANNEL_EVENTS.access_token,{access_token:un})}))}async sendHeartbeat(){var sn;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(sn=this.conn)===null||sn===void 0||sn.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(sn){this.heartbeatCallback=sn}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(sn=>sn()),this.sendBuffer=[])}_makeRef(){let sn=this.ref+1;return sn===this.ref?this.ref=0:this.ref=sn,this.ref.toString()}_leaveOpenTopic(sn){let un=this.channels.find(dn=>dn.topic===sn&&(dn._isJoined()||dn._isJoining()));un&&(this.log("transport",`leaving duplicate topic "${sn}"`),un.unsubscribe())}_remove(sn){this.channels=this.channels.filter(un=>un.topic!==sn.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=sn=>this._onConnError(sn),this.conn.onmessage=sn=>this._onConnMessage(sn),this.conn.onclose=sn=>this._onConnClose(sn))}_onConnMessage(sn){this.decode(sn.data,un=>{let{topic:dn,event:pn,payload:mn,ref:hn}=un;dn==="phoenix"&&pn==="phx_reply"&&this.heartbeatCallback(un.payload.status=="ok"?"ok":"error"),hn&&hn===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${mn.status||""} ${dn} ${pn} ${hn&&"("+hn+")"||""}`,mn),Array.from(this.channels).filter(fn=>fn._isMember(dn)).forEach(fn=>fn._trigger(pn,mn,hn)),this.stateChangeCallbacks.message.forEach(fn=>fn(un))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(sn=>sn())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const sn=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(sn),this.workerRef.onerror=un=>{this.log("worker","worker error",un.message),this.workerRef.terminate()},this.workerRef.onmessage=un=>{un.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(sn){this.log("transport","close",sn),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(un=>un(sn))}_onConnError(sn){this.log("transport",`${sn}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(un=>un(sn))}_triggerChanError(){this.channels.forEach(sn=>sn._trigger(CHANNEL_EVENTS.error))}_appendParams(sn,un){if(Object.keys(un).length===0)return sn;const dn=sn.match(/\?/)?"&":"?",pn=new URLSearchParams(un);return`${sn}${dn}${pn}`}_workerObjectUrl(sn){let un;if(sn)un=sn;else{const dn=new Blob([WORKER_SCRIPT],{type:"application/javascript"});un=URL.createObjectURL(dn)}return un}}class StorageError extends Error{constructor(sn){super(sn),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(tn){return typeof tn=="object"&&tn!==null&&"__isStorageError"in tn}class StorageApiError extends StorageError{constructor(sn,un,dn){super(sn),this.name="StorageApiError",this.status=un,this.statusCode=dn}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(sn,un){super(sn),this.name="StorageUnknownError",this.originalError=un}}var __awaiter$7=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};const resolveFetch$2=tn=>{let sn;return tn?sn=tn:typeof fetch>"u"?sn=(...un)=>__vitePreload(async()=>{const{default:dn}=await Promise.resolve().then(()=>browser);return{default:dn}},void 0).then(({default:dn})=>dn(...un)):sn=fetch,(...un)=>sn(...un)},resolveResponse=()=>__awaiter$7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=tn=>{if(Array.isArray(tn))return tn.map(un=>recursiveToCamel(un));if(typeof tn=="function"||tn!==Object(tn))return tn;const sn={};return Object.entries(tn).forEach(([un,dn])=>{const pn=un.replace(/([-_][a-z])/gi,mn=>mn.toUpperCase().replace(/[-_]/g,""));sn[pn]=recursiveToCamel(dn)}),sn},isPlainObject$6=tn=>{if(typeof tn!="object"||tn===null)return!1;const sn=Object.getPrototypeOf(tn);return(sn===null||sn===Object.prototype||Object.getPrototypeOf(sn)===null)&&!(Symbol.toStringTag in tn)&&!(Symbol.iterator in tn)};var __awaiter$6=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};const _getErrorMessage$1=tn=>tn.msg||tn.message||tn.error_description||tn.error||JSON.stringify(tn),handleError$1=(tn,sn,un)=>__awaiter$6(void 0,void 0,void 0,function*(){const dn=yield resolveResponse();tn instanceof dn&&!(un!=null&&un.noResolveJson)?tn.json().then(pn=>{const mn=tn.status||500,hn=(pn==null?void 0:pn.statusCode)||mn+"";sn(new StorageApiError(_getErrorMessage$1(pn),mn,hn))}).catch(pn=>{sn(new StorageUnknownError(_getErrorMessage$1(pn),pn))}):sn(new StorageUnknownError(_getErrorMessage$1(tn),tn))}),_getRequestParams$1=(tn,sn,un,dn)=>{const pn={method:tn,headers:(sn==null?void 0:sn.headers)||{}};return tn==="GET"||!dn?pn:(isPlainObject$6(dn)?(pn.headers=Object.assign({"Content-Type":"application/json"},sn==null?void 0:sn.headers),pn.body=JSON.stringify(dn)):pn.body=dn,Object.assign(Object.assign({},pn),un))};function _handleRequest$1(tn,sn,un,dn,pn,mn){return __awaiter$6(this,void 0,void 0,function*(){return new Promise((hn,fn)=>{tn(un,_getRequestParams$1(sn,dn,pn,mn)).then(gn=>{if(!gn.ok)throw gn;return dn!=null&&dn.noResolveJson?gn:gn.json()}).then(gn=>hn(gn)).catch(gn=>handleError$1(gn,fn,dn))})})}function get$6(tn,sn,un,dn){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(tn,"GET",sn,un,dn)})}function post$1(tn,sn,un,dn,pn){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(tn,"POST",sn,dn,pn,un)})}function put(tn,sn,un,dn,pn){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(tn,"PUT",sn,dn,pn,un)})}function head(tn,sn,un,dn){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(tn,"HEAD",sn,Object.assign(Object.assign({},un),{noResolveJson:!0}),dn)})}function remove(tn,sn,un,dn,pn){return __awaiter$6(this,void 0,void 0,function*(){return _handleRequest$1(tn,"DELETE",sn,dn,pn,un)})}var __awaiter$5=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(sn,un={},dn,pn){this.url=sn,this.headers=un,this.bucketId=dn,this.fetch=resolveFetch$2(pn)}uploadOrUpdate(sn,un,dn,pn){return __awaiter$5(this,void 0,void 0,function*(){try{let mn;const hn=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),pn);let fn=Object.assign(Object.assign({},this.headers),sn==="POST"&&{"x-upsert":String(hn.upsert)});const gn=hn.metadata;typeof Blob<"u"&&dn instanceof Blob?(mn=new FormData,mn.append("cacheControl",hn.cacheControl),gn&&mn.append("metadata",this.encodeMetadata(gn)),mn.append("",dn)):typeof FormData<"u"&&dn instanceof FormData?(mn=dn,mn.append("cacheControl",hn.cacheControl),gn&&mn.append("metadata",this.encodeMetadata(gn))):(mn=dn,fn["cache-control"]=`max-age=${hn.cacheControl}`,fn["content-type"]=hn.contentType,gn&&(fn["x-metadata"]=this.toBase64(this.encodeMetadata(gn)))),pn!=null&&pn.headers&&(fn=Object.assign(Object.assign({},fn),pn.headers));const xn=this._removeEmptyFolders(un),yn=this._getFinalPath(xn),vn=yield(sn=="PUT"?put:post$1)(this.fetch,`${this.url}/object/${yn}`,mn,Object.assign({headers:fn},hn!=null&&hn.duplex?{duplex:hn.duplex}:{}));return{data:{path:xn,id:vn.Id,fullPath:vn.Key},error:null}}catch(mn){if(isStorageError(mn))return{data:null,error:mn};throw mn}})}upload(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",sn,un,dn)})}uploadToSignedUrl(sn,un,dn,pn){return __awaiter$5(this,void 0,void 0,function*(){const mn=this._removeEmptyFolders(sn),hn=this._getFinalPath(mn),fn=new URL(this.url+`/object/upload/sign/${hn}`);fn.searchParams.set("token",un);try{let gn;const xn=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},pn),yn=Object.assign(Object.assign({},this.headers),{"x-upsert":String(xn.upsert)});typeof Blob<"u"&&dn instanceof Blob?(gn=new FormData,gn.append("cacheControl",xn.cacheControl),gn.append("",dn)):typeof FormData<"u"&&dn instanceof FormData?(gn=dn,gn.append("cacheControl",xn.cacheControl)):(gn=dn,yn["cache-control"]=`max-age=${xn.cacheControl}`,yn["content-type"]=xn.contentType);const vn=yield put(this.fetch,fn.toString(),gn,{headers:yn});return{data:{path:mn,fullPath:vn.Key},error:null}}catch(gn){if(isStorageError(gn))return{data:null,error:gn};throw gn}})}createSignedUploadUrl(sn,un){return __awaiter$5(this,void 0,void 0,function*(){try{let dn=this._getFinalPath(sn);const pn=Object.assign({},this.headers);un!=null&&un.upsert&&(pn["x-upsert"]="true");const mn=yield post$1(this.fetch,`${this.url}/object/upload/sign/${dn}`,{},{headers:pn}),hn=new URL(this.url+mn.url),fn=hn.searchParams.get("token");if(!fn)throw new StorageError("No token returned by API");return{data:{signedUrl:hn.toString(),path:sn,token:fn},error:null}}catch(dn){if(isStorageError(dn))return{data:null,error:dn};throw dn}})}update(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",sn,un,dn)})}move(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:sn,destinationKey:un,destinationBucket:dn==null?void 0:dn.destinationBucket},{headers:this.headers}),error:null}}catch(pn){if(isStorageError(pn))return{data:null,error:pn};throw pn}})}copy(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:{path:(yield post$1(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:sn,destinationKey:un,destinationBucket:dn==null?void 0:dn.destinationBucket},{headers:this.headers})).Key},error:null}}catch(pn){if(isStorageError(pn))return{data:null,error:pn};throw pn}})}createSignedUrl(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){try{let pn=this._getFinalPath(sn),mn=yield post$1(this.fetch,`${this.url}/object/sign/${pn}`,Object.assign({expiresIn:un},dn!=null&&dn.transform?{transform:dn.transform}:{}),{headers:this.headers});const hn=dn!=null&&dn.download?`&download=${dn.download===!0?"":dn.download}`:"";return mn={signedUrl:encodeURI(`${this.url}${mn.signedURL}${hn}`)},{data:mn,error:null}}catch(pn){if(isStorageError(pn))return{data:null,error:pn};throw pn}})}createSignedUrls(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){try{const pn=yield post$1(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:un,paths:sn},{headers:this.headers}),mn=dn!=null&&dn.download?`&download=${dn.download===!0?"":dn.download}`:"";return{data:pn.map(hn=>Object.assign(Object.assign({},hn),{signedUrl:hn.signedURL?encodeURI(`${this.url}${hn.signedURL}${mn}`):null})),error:null}}catch(pn){if(isStorageError(pn))return{data:null,error:pn};throw pn}})}download(sn,un){return __awaiter$5(this,void 0,void 0,function*(){const pn=typeof(un==null?void 0:un.transform)<"u"?"render/image/authenticated":"object",mn=this.transformOptsToQueryString((un==null?void 0:un.transform)||{}),hn=mn?`?${mn}`:"";try{const fn=this._getFinalPath(sn);return{data:yield(yield get$6(this.fetch,`${this.url}/${pn}/${fn}${hn}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(fn){if(isStorageError(fn))return{data:null,error:fn};throw fn}})}info(sn){return __awaiter$5(this,void 0,void 0,function*(){const un=this._getFinalPath(sn);try{const dn=yield get$6(this.fetch,`${this.url}/object/info/${un}`,{headers:this.headers});return{data:recursiveToCamel(dn),error:null}}catch(dn){if(isStorageError(dn))return{data:null,error:dn};throw dn}})}exists(sn){return __awaiter$5(this,void 0,void 0,function*(){const un=this._getFinalPath(sn);try{return yield head(this.fetch,`${this.url}/object/${un}`,{headers:this.headers}),{data:!0,error:null}}catch(dn){if(isStorageError(dn)&&dn instanceof StorageUnknownError){const pn=dn.originalError;if([400,404].includes(pn==null?void 0:pn.status))return{data:!1,error:dn}}throw dn}})}getPublicUrl(sn,un){const dn=this._getFinalPath(sn),pn=[],mn=un!=null&&un.download?`download=${un.download===!0?"":un.download}`:"";mn!==""&&pn.push(mn);const fn=typeof(un==null?void 0:un.transform)<"u"?"render/image":"object",gn=this.transformOptsToQueryString((un==null?void 0:un.transform)||{});gn!==""&&pn.push(gn);let xn=pn.join("&");return xn!==""&&(xn=`?${xn}`),{data:{publicUrl:encodeURI(`${this.url}/${fn}/public/${dn}${xn}`)}}}remove(sn){return __awaiter$5(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:sn},{headers:this.headers}),error:null}}catch(un){if(isStorageError(un))return{data:null,error:un};throw un}})}list(sn,un,dn){return __awaiter$5(this,void 0,void 0,function*(){try{const pn=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),un),{prefix:sn||""});return{data:yield post$1(this.fetch,`${this.url}/object/list/${this.bucketId}`,pn,{headers:this.headers},dn),error:null}}catch(pn){if(isStorageError(pn))return{data:null,error:pn};throw pn}})}encodeMetadata(sn){return JSON.stringify(sn)}toBase64(sn){return typeof Buffer<"u"?Buffer.from(sn).toString("base64"):btoa(sn)}_getFinalPath(sn){return`${this.bucketId}/${sn.replace(/^\/+/,"")}`}_removeEmptyFolders(sn){return sn.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(sn){const un=[];return sn.width&&un.push(`width=${sn.width}`),sn.height&&un.push(`height=${sn.height}`),sn.resize&&un.push(`resize=${sn.resize}`),sn.format&&un.push(`format=${sn.format}`),sn.quality&&un.push(`quality=${sn.quality}`),un.join("&")}}const version$2="2.10.4",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$4=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};class StorageBucketApi{constructor(sn,un={},dn,pn){const mn=new URL(sn);pn!=null&&pn.useNewHostname&&/supabase\.(co|in|red)$/.test(mn.hostname)&&!mn.hostname.includes("storage.supabase.")&&(mn.hostname=mn.hostname.replace("supabase.","storage.supabase.")),this.url=mn.href,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),un),this.fetch=resolveFetch$2(dn)}listBuckets(){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get$6(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(sn){if(isStorageError(sn))return{data:null,error:sn};throw sn}})}getBucket(sn){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield get$6(this.fetch,`${this.url}/bucket/${sn}`,{headers:this.headers}),error:null}}catch(un){if(isStorageError(un))return{data:null,error:un};throw un}})}createBucket(sn,un={public:!1}){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket`,{id:sn,name:sn,type:un.type,public:un.public,file_size_limit:un.fileSizeLimit,allowed_mime_types:un.allowedMimeTypes},{headers:this.headers}),error:null}}catch(dn){if(isStorageError(dn))return{data:null,error:dn};throw dn}})}updateBucket(sn,un){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${sn}`,{id:sn,name:sn,public:un.public,file_size_limit:un.fileSizeLimit,allowed_mime_types:un.allowedMimeTypes},{headers:this.headers}),error:null}}catch(dn){if(isStorageError(dn))return{data:null,error:dn};throw dn}})}emptyBucket(sn){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket/${sn}/empty`,{},{headers:this.headers}),error:null}}catch(un){if(isStorageError(un))return{data:null,error:un};throw un}})}deleteBucket(sn){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${sn}`,{},{headers:this.headers}),error:null}}catch(un){if(isStorageError(un))return{data:null,error:un};throw un}})}}class StorageClient extends StorageBucketApi{constructor(sn,un={},dn,pn){super(sn,un,dn,pn)}from(sn){return new StorageFileApi(this.url,this.headers,sn,this.fetch)}}const version$1="2.53.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$3=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};const resolveFetch$1=tn=>{let sn;return tn?sn=tn:typeof fetch>"u"?sn=nodeFetch:sn=fetch,(...un)=>sn(...un)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(tn,sn,un)=>{const dn=resolveFetch$1(un),pn=resolveHeadersConstructor();return(mn,hn)=>__awaiter$3(void 0,void 0,void 0,function*(){var fn;const gn=(fn=yield sn())!==null&&fn!==void 0?fn:tn;let xn=new pn(hn==null?void 0:hn.headers);return xn.has("apikey")||xn.set("apikey",tn),xn.has("Authorization")||xn.set("Authorization",`Bearer ${gn}`),dn(mn,Object.assign(Object.assign({},hn),{headers:xn}))})};var __awaiter$2=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};function ensureTrailingSlash(tn){return tn.endsWith("/")?tn:tn+"/"}function applySettingDefaults(tn,sn){var un,dn;const{db:pn,auth:mn,realtime:hn,global:fn}=tn,{db:gn,auth:xn,realtime:yn,global:vn}=sn,En={db:Object.assign(Object.assign({},gn),pn),auth:Object.assign(Object.assign({},xn),mn),realtime:Object.assign(Object.assign({},yn),hn),storage:{},global:Object.assign(Object.assign(Object.assign({},vn),fn),{headers:Object.assign(Object.assign({},(un=vn==null?void 0:vn.headers)!==null&&un!==void 0?un:{}),(dn=fn==null?void 0:fn.headers)!==null&&dn!==void 0?dn:{})}),accessToken:()=>__awaiter$2(this,void 0,void 0,function*(){return""})};return tn.accessToken?En.accessToken=tn.accessToken:delete En.accessToken,En}const version="2.71.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(sn,un,dn){super(sn),this.__isAuthError=!0,this.name="AuthError",this.status=un,this.code=dn}}function isAuthError(tn){return typeof tn=="object"&&tn!==null&&"__isAuthError"in tn}class AuthApiError extends AuthError{constructor(sn,un,dn){super(sn,un,dn),this.name="AuthApiError",this.status=un,this.code=dn}}function isAuthApiError(tn){return isAuthError(tn)&&tn.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(sn,un){super(sn),this.name="AuthUnknownError",this.originalError=un}}class CustomAuthError extends AuthError{constructor(sn,un,dn,pn){super(sn,dn,pn),this.name=un,this.status=dn}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(tn){return isAuthError(tn)&&tn.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(sn){super(sn,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(sn,un=null){super(sn,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=un}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(tn){return isAuthError(tn)&&tn.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(sn,un=null){super(sn,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=un}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(sn,un){super(sn,"AuthRetryableFetchError",un,void 0)}}function isAuthRetryableFetchError(tn){return isAuthError(tn)&&tn.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(sn,un,dn){super(sn,"AuthWeakPasswordError",un,"weak_password"),this.reasons=dn}}class AuthInvalidJwtError extends CustomAuthError{constructor(sn){super(sn,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const tn=new Array(128);for(let sn=0;sn<tn.length;sn+=1)tn[sn]=-1;for(let sn=0;sn<IGNORE_BASE64URL.length;sn+=1)tn[IGNORE_BASE64URL[sn].charCodeAt(0)]=-2;for(let sn=0;sn<TO_BASE64URL.length;sn+=1)tn[TO_BASE64URL[sn].charCodeAt(0)]=sn;return tn})();function byteToBase64URL(tn,sn,un){if(tn!==null)for(sn.queue=sn.queue<<8|tn,sn.queuedBits+=8;sn.queuedBits>=6;){const dn=sn.queue>>sn.queuedBits-6&63;un(TO_BASE64URL[dn]),sn.queuedBits-=6}else if(sn.queuedBits>0)for(sn.queue=sn.queue<<6-sn.queuedBits,sn.queuedBits=6;sn.queuedBits>=6;){const dn=sn.queue>>sn.queuedBits-6&63;un(TO_BASE64URL[dn]),sn.queuedBits-=6}}function byteFromBase64URL(tn,sn,un){const dn=FROM_BASE64URL[tn];if(dn>-1)for(sn.queue=sn.queue<<6|dn,sn.queuedBits+=6;sn.queuedBits>=8;)un(sn.queue>>sn.queuedBits-8&255),sn.queuedBits-=8;else{if(dn===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(tn)}"`)}}function stringFromBase64URL(tn){const sn=[],un=hn=>{sn.push(String.fromCodePoint(hn))},dn={utf8seq:0,codepoint:0},pn={queue:0,queuedBits:0},mn=hn=>{stringFromUTF8(hn,dn,un)};for(let hn=0;hn<tn.length;hn+=1)byteFromBase64URL(tn.charCodeAt(hn),pn,mn);return sn.join("")}function codepointToUTF8(tn,sn){if(tn<=127){sn(tn);return}else if(tn<=2047){sn(192|tn>>6),sn(128|tn&63);return}else if(tn<=65535){sn(224|tn>>12),sn(128|tn>>6&63),sn(128|tn&63);return}else if(tn<=1114111){sn(240|tn>>18),sn(128|tn>>12&63),sn(128|tn>>6&63),sn(128|tn&63);return}throw new Error(`Unrecognized Unicode codepoint: ${tn.toString(16)}`)}function stringToUTF8(tn,sn){for(let un=0;un<tn.length;un+=1){let dn=tn.charCodeAt(un);if(dn>55295&&dn<=56319){const pn=(dn-55296)*1024&65535;dn=(tn.charCodeAt(un+1)-56320&65535|pn)+65536,un+=1}codepointToUTF8(dn,sn)}}function stringFromUTF8(tn,sn,un){if(sn.utf8seq===0){if(tn<=127){un(tn);return}for(let dn=1;dn<6;dn+=1)if(!(tn>>7-dn&1)){sn.utf8seq=dn;break}if(sn.utf8seq===2)sn.codepoint=tn&31;else if(sn.utf8seq===3)sn.codepoint=tn&15;else if(sn.utf8seq===4)sn.codepoint=tn&7;else throw new Error("Invalid UTF-8 sequence");sn.utf8seq-=1}else if(sn.utf8seq>0){if(tn<=127)throw new Error("Invalid UTF-8 sequence");sn.codepoint=sn.codepoint<<6|tn&63,sn.utf8seq-=1,sn.utf8seq===0&&un(sn.codepoint)}}function base64UrlToUint8Array(tn){const sn=[],un={queue:0,queuedBits:0},dn=pn=>{sn.push(pn)};for(let pn=0;pn<tn.length;pn+=1)byteFromBase64URL(tn.charCodeAt(pn),un,dn);return new Uint8Array(sn)}function stringToUint8Array(tn){const sn=[];return stringToUTF8(tn,un=>sn.push(un)),new Uint8Array(sn)}function bytesToBase64URL(tn){const sn=[],un={queue:0,queuedBits:0},dn=pn=>{sn.push(pn)};return tn.forEach(pn=>byteToBase64URL(pn,un,dn)),byteToBase64URL(null,un,dn),sn.join("")}function expiresAt(tn){return Math.round(Date.now()/1e3)+tn}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(tn){const sn=Math.random()*16|0;return(tn=="x"?sn:sn&3|8).toString(16)})}const isBrowser$1=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$1())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const tn=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(tn,tn),globalThis.localStorage.removeItem(tn),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(tn){const sn={},un=new URL(tn);if(un.hash&&un.hash[0]==="#")try{new URLSearchParams(un.hash.substring(1)).forEach((pn,mn)=>{sn[mn]=pn})}catch{}return un.searchParams.forEach((dn,pn)=>{sn[pn]=dn}),sn}const resolveFetch=tn=>{let sn;return tn?sn=tn:typeof fetch>"u"?sn=(...un)=>__vitePreload(async()=>{const{default:dn}=await Promise.resolve().then(()=>browser);return{default:dn}},void 0).then(({default:dn})=>dn(...un)):sn=fetch,(...un)=>sn(...un)},looksLikeFetchResponse=tn=>typeof tn=="object"&&tn!==null&&"status"in tn&&"ok"in tn&&"json"in tn&&typeof tn.json=="function",setItemAsync=async(tn,sn,un)=>{await tn.setItem(sn,JSON.stringify(un))},getItemAsync=async(tn,sn)=>{const un=await tn.getItem(sn);if(!un)return null;try{return JSON.parse(un)}catch{return un}},removeItemAsync=async(tn,sn)=>{await tn.removeItem(sn)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((sn,un)=>{this.resolve=sn,this.reject=un})}}Deferred.promiseConstructor=Promise;function decodeJWT(tn){const sn=tn.split(".");if(sn.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let dn=0;dn<sn.length;dn++)if(!BASE64URL_REGEX.test(sn[dn]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(sn[0])),payload:JSON.parse(stringFromBase64URL(sn[1])),signature:base64UrlToUint8Array(sn[2]),raw:{header:sn[0],payload:sn[1]}}}async function sleep$1(tn){return await new Promise(sn=>{setTimeout(()=>sn(null),tn)})}function retryable(tn,sn){return new Promise((dn,pn)=>{(async()=>{for(let mn=0;mn<1/0;mn++)try{const hn=await tn(mn);if(!sn(mn,null,hn)){dn(hn);return}}catch(hn){if(!sn(mn,hn)){pn(hn);return}}})()})}function dec2hex(tn){return("0"+tn.toString(16)).substr(-2)}function generatePKCEVerifier(){const sn=new Uint32Array(56);if(typeof crypto>"u"){const un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",dn=un.length;let pn="";for(let mn=0;mn<56;mn++)pn+=un.charAt(Math.floor(Math.random()*dn));return pn}return crypto.getRandomValues(sn),Array.from(sn,dec2hex).join("")}async function sha256(tn){const un=new TextEncoder().encode(tn),dn=await crypto.subtle.digest("SHA-256",un),pn=new Uint8Array(dn);return Array.from(pn).map(mn=>String.fromCharCode(mn)).join("")}async function generatePKCEChallenge(tn){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),tn;const un=await sha256(tn);return btoa(un).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(tn,sn,un=!1){const dn=generatePKCEVerifier();let pn=dn;un&&(pn+="/PASSWORD_RECOVERY"),await setItemAsync(tn,`${sn}-code-verifier`,pn);const mn=await generatePKCEChallenge(dn);return[mn,dn===mn?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(tn){const sn=tn.headers.get(API_VERSION_HEADER_NAME);if(!sn||!sn.match(API_VERSION_REGEX))return null;try{return new Date(`${sn}T00:00:00.0Z`)}catch{return null}}function validateExp(tn){if(!tn)throw new Error("Missing exp claim");const sn=Math.floor(Date.now()/1e3);if(tn<=sn)throw new Error("JWT has expired")}function getAlgorithm(tn){switch(tn){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(tn){if(!UUID_REGEX.test(tn))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const tn={};return new Proxy(tn,{get:(sn,un)=>{if(un==="__isUserNotAvailableProxy")return!0;if(typeof un=="symbol"){const dn=un.toString();if(dn==="Symbol(Symbol.toPrimitive)"||dn==="Symbol(Symbol.toStringTag)"||dn==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${un}" property of the session object is not supported. Please use getUser() instead.`)},set:(sn,un)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${un}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(sn,un)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${un}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function deepClone(tn){return JSON.parse(JSON.stringify(tn))}var __rest$2=function(tn,sn){var un={};for(var dn in tn)Object.prototype.hasOwnProperty.call(tn,dn)&&sn.indexOf(dn)<0&&(un[dn]=tn[dn]);if(tn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pn=0,dn=Object.getOwnPropertySymbols(tn);pn<dn.length;pn++)sn.indexOf(dn[pn])<0&&Object.prototype.propertyIsEnumerable.call(tn,dn[pn])&&(un[dn[pn]]=tn[dn[pn]]);return un};const _getErrorMessage=tn=>tn.msg||tn.message||tn.error_description||tn.error||JSON.stringify(tn),NETWORK_ERROR_CODES=[502,503,504];async function handleError(tn){var sn;if(!looksLikeFetchResponse(tn))throw new AuthRetryableFetchError(_getErrorMessage(tn),0);if(NETWORK_ERROR_CODES.includes(tn.status))throw new AuthRetryableFetchError(_getErrorMessage(tn),tn.status);let un;try{un=await tn.json()}catch(mn){throw new AuthUnknownError(_getErrorMessage(mn),mn)}let dn;const pn=parseResponseAPIVersion(tn);if(pn&&pn.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof un=="object"&&un&&typeof un.code=="string"?dn=un.code:typeof un=="object"&&un&&typeof un.error_code=="string"&&(dn=un.error_code),dn){if(dn==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(un),tn.status,((sn=un.weak_password)===null||sn===void 0?void 0:sn.reasons)||[]);if(dn==="session_not_found")throw new AuthSessionMissingError}else if(typeof un=="object"&&un&&typeof un.weak_password=="object"&&un.weak_password&&Array.isArray(un.weak_password.reasons)&&un.weak_password.reasons.length&&un.weak_password.reasons.reduce((mn,hn)=>mn&&typeof hn=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(un),tn.status,un.weak_password.reasons);throw new AuthApiError(_getErrorMessage(un),tn.status||500,dn)}const _getRequestParams=(tn,sn,un,dn)=>{const pn={method:tn,headers:(sn==null?void 0:sn.headers)||{}};return tn==="GET"?pn:(pn.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},sn==null?void 0:sn.headers),pn.body=JSON.stringify(dn),Object.assign(Object.assign({},pn),un))};async function _request(tn,sn,un,dn){var pn;const mn=Object.assign({},dn==null?void 0:dn.headers);mn[API_VERSION_HEADER_NAME]||(mn[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),dn!=null&&dn.jwt&&(mn.Authorization=`Bearer ${dn.jwt}`);const hn=(pn=dn==null?void 0:dn.query)!==null&&pn!==void 0?pn:{};dn!=null&&dn.redirectTo&&(hn.redirect_to=dn.redirectTo);const fn=Object.keys(hn).length?"?"+new URLSearchParams(hn).toString():"",gn=await _handleRequest(tn,sn,un+fn,{headers:mn,noResolveJson:dn==null?void 0:dn.noResolveJson},{},dn==null?void 0:dn.body);return dn!=null&&dn.xform?dn==null?void 0:dn.xform(gn):{data:Object.assign({},gn),error:null}}async function _handleRequest(tn,sn,un,dn,pn,mn){const hn=_getRequestParams(sn,dn,pn,mn);let fn;try{fn=await tn(un,Object.assign({},hn))}catch(gn){throw console.error(gn),new AuthRetryableFetchError(_getErrorMessage(gn),0)}if(fn.ok||await handleError(fn),dn!=null&&dn.noResolveJson)return fn;try{return await fn.json()}catch(gn){await handleError(gn)}}function _sessionResponse(tn){var sn;let un=null;hasSession(tn)&&(un=Object.assign({},tn),tn.expires_at||(un.expires_at=expiresAt(tn.expires_in)));const dn=(sn=tn.user)!==null&&sn!==void 0?sn:tn;return{data:{session:un,user:dn},error:null}}function _sessionResponsePassword(tn){const sn=_sessionResponse(tn);return!sn.error&&tn.weak_password&&typeof tn.weak_password=="object"&&Array.isArray(tn.weak_password.reasons)&&tn.weak_password.reasons.length&&tn.weak_password.message&&typeof tn.weak_password.message=="string"&&tn.weak_password.reasons.reduce((un,dn)=>un&&typeof dn=="string",!0)&&(sn.data.weak_password=tn.weak_password),sn}function _userResponse(tn){var sn;return{data:{user:(sn=tn.user)!==null&&sn!==void 0?sn:tn},error:null}}function _ssoResponse(tn){return{data:tn,error:null}}function _generateLinkResponse(tn){const{action_link:sn,email_otp:un,hashed_token:dn,redirect_to:pn,verification_type:mn}=tn,hn=__rest$2(tn,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),fn={action_link:sn,email_otp:un,hashed_token:dn,redirect_to:pn,verification_type:mn},gn=Object.assign({},hn);return{data:{properties:fn,user:gn},error:null}}function _noResolveJsonResponse(tn){return tn}function hasSession(tn){return tn.access_token&&tn.refresh_token&&tn.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest$1=function(tn,sn){var un={};for(var dn in tn)Object.prototype.hasOwnProperty.call(tn,dn)&&sn.indexOf(dn)<0&&(un[dn]=tn[dn]);if(tn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pn=0,dn=Object.getOwnPropertySymbols(tn);pn<dn.length;pn++)sn.indexOf(dn[pn])<0&&Object.prototype.propertyIsEnumerable.call(tn,dn[pn])&&(un[dn[pn]]=tn[dn[pn]]);return un};class GoTrueAdminApi{constructor({url:sn="",headers:un={},fetch:dn}){this.url=sn,this.headers=un,this.fetch=resolveFetch(dn),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(sn,un=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(un)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${un}`,{headers:this.headers,jwt:sn,noResolveJson:!0}),{data:null,error:null}}catch(dn){if(isAuthError(dn))return{data:null,error:dn};throw dn}}async inviteUserByEmail(sn,un={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:sn,data:un.data},headers:this.headers,redirectTo:un.redirectTo,xform:_userResponse})}catch(dn){if(isAuthError(dn))return{data:{user:null},error:dn};throw dn}}async generateLink(sn){try{const{options:un}=sn,dn=__rest$1(sn,["options"]),pn=Object.assign(Object.assign({},dn),un);return"newEmail"in dn&&(pn.new_email=dn==null?void 0:dn.newEmail,delete pn.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:pn,headers:this.headers,xform:_generateLinkResponse,redirectTo:un==null?void 0:un.redirectTo})}catch(un){if(isAuthError(un))return{data:{properties:null,user:null},error:un};throw un}}async createUser(sn){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:sn,headers:this.headers,xform:_userResponse})}catch(un){if(isAuthError(un))return{data:{user:null},error:un};throw un}}async listUsers(sn){var un,dn,pn,mn,hn,fn,gn;try{const xn={nextPage:null,lastPage:0,total:0},yn=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(dn=(un=sn==null?void 0:sn.page)===null||un===void 0?void 0:un.toString())!==null&&dn!==void 0?dn:"",per_page:(mn=(pn=sn==null?void 0:sn.perPage)===null||pn===void 0?void 0:pn.toString())!==null&&mn!==void 0?mn:""},xform:_noResolveJsonResponse});if(yn.error)throw yn.error;const vn=await yn.json(),En=(hn=yn.headers.get("x-total-count"))!==null&&hn!==void 0?hn:0,bn=(gn=(fn=yn.headers.get("link"))===null||fn===void 0?void 0:fn.split(","))!==null&&gn!==void 0?gn:[];return bn.length>0&&(bn.forEach(wn=>{const Sn=parseInt(wn.split(";")[0].split("=")[1].substring(0,1)),Rn=JSON.parse(wn.split(";")[1].split("=")[1]);xn[`${Rn}Page`]=Sn}),xn.total=parseInt(En)),{data:Object.assign(Object.assign({},vn),xn),error:null}}catch(xn){if(isAuthError(xn))return{data:{users:[]},error:xn};throw xn}}async getUserById(sn){validateUUID(sn);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${sn}`,{headers:this.headers,xform:_userResponse})}catch(un){if(isAuthError(un))return{data:{user:null},error:un};throw un}}async updateUserById(sn,un){validateUUID(sn);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${sn}`,{body:un,headers:this.headers,xform:_userResponse})}catch(dn){if(isAuthError(dn))return{data:{user:null},error:dn};throw dn}}async deleteUser(sn,un=!1){validateUUID(sn);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${sn}`,{headers:this.headers,body:{should_soft_delete:un},xform:_userResponse})}catch(dn){if(isAuthError(dn))return{data:{user:null},error:dn};throw dn}}async _listFactors(sn){validateUUID(sn.userId);try{const{data:un,error:dn}=await _request(this.fetch,"GET",`${this.url}/admin/users/${sn.userId}/factors`,{headers:this.headers,xform:pn=>({data:{factors:pn},error:null})});return{data:un,error:dn}}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}}async _deleteFactor(sn){validateUUID(sn.userId),validateUUID(sn.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${sn.userId}/factors/${sn.id}`,{headers:this.headers}),error:null}}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}}}function memoryLocalStorageAdapter(tn={}){return{getItem:sn=>tn[sn]||null,setItem:(sn,un)=>{tn[sn]=un},removeItem:sn=>{delete tn[sn]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(sn){super(sn),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(tn,sn,un){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",tn,sn);const dn=new globalThis.AbortController;return sn>0&&setTimeout(()=>{dn.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",tn)},sn),await Promise.resolve().then(()=>globalThis.navigator.locks.request(tn,sn===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:dn.signal},async pn=>{if(pn){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",tn,pn.name);try{return await un()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",tn,pn.name)}}else{if(sn===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",tn),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${tn}" immediately failed`);if(internals.debug)try{const mn=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(mn,null,"  "))}catch(mn){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",mn)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await un()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS$3={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(tn,sn,un){return await un()}const GLOBAL_JWKS={};class GoTrueClient{constructor(sn){var un,dn;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$1()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const pn=Object.assign(Object.assign({},DEFAULT_OPTIONS$3),sn);if(this.logDebugMessages=!!pn.debug,typeof pn.debug=="function"&&(this.logger=pn.debug),this.persistSession=pn.persistSession,this.storageKey=pn.storageKey,this.autoRefreshToken=pn.autoRefreshToken,this.admin=new GoTrueAdminApi({url:pn.url,headers:pn.headers,fetch:pn.fetch}),this.url=pn.url,this.headers=pn.headers,this.fetch=resolveFetch(pn.fetch),this.lock=pn.lock||lockNoOp,this.detectSessionInUrl=pn.detectSessionInUrl,this.flowType=pn.flowType,this.hasCustomAuthorizationHeader=pn.hasCustomAuthorizationHeader,pn.lock?this.lock=pn.lock:isBrowser$1()&&(!((un=globalThis==null?void 0:globalThis.navigator)===null||un===void 0)&&un.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(pn.storage?this.storage=pn.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),pn.userStorage&&(this.userStorage=pn.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser$1()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(mn){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",mn)}(dn=this.broadcastChannel)===null||dn===void 0||dn.addEventListener("message",async mn=>{this._debug("received broadcast notification from other tab or client",mn),await this._notifyAllSubscribers(mn.data.event,mn.data.session,!1)})}this.initialize()}get jwks(){var sn,un;return(un=(sn=GLOBAL_JWKS[this.storageKey])===null||sn===void 0?void 0:sn.jwks)!==null&&un!==void 0?un:{keys:[]}}set jwks(sn){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:sn})}get jwks_cached_at(){var sn,un;return(un=(sn=GLOBAL_JWKS[this.storageKey])===null||sn===void 0?void 0:sn.cachedAt)!==null&&un!==void 0?un:Number.MIN_SAFE_INTEGER}set jwks_cached_at(sn){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:sn})}_debug(...sn){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...sn),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var sn;try{const un=parseParametersFromURL(window.location.href);let dn="none";if(this._isImplicitGrantCallback(un)?dn="implicit":await this._isPKCECallback(un)&&(dn="pkce"),isBrowser$1()&&this.detectSessionInUrl&&dn!=="none"){const{data:pn,error:mn}=await this._getSessionFromURL(un,dn);if(mn){if(this._debug("#_initialize()","error detecting session from URL",mn),isAuthImplicitGrantRedirectError(mn)){const gn=(sn=mn.details)===null||sn===void 0?void 0:sn.code;if(gn==="identity_already_exists"||gn==="identity_not_found"||gn==="single_identity_not_deletable")return{error:mn}}return await this._removeSession(),{error:mn}}const{session:hn,redirectType:fn}=pn;return this._debug("#_initialize()","detected session in URL",hn,"redirect type",fn),await this._saveSession(hn),setTimeout(async()=>{fn==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",hn):await this._notifyAllSubscribers("SIGNED_IN",hn)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(un){return isAuthError(un)?{error:un}:{error:new AuthUnknownError("Unexpected error during initialization",un)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(sn){var un,dn,pn;try{const mn=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(dn=(un=sn==null?void 0:sn.options)===null||un===void 0?void 0:un.data)!==null&&dn!==void 0?dn:{},gotrue_meta_security:{captcha_token:(pn=sn==null?void 0:sn.options)===null||pn===void 0?void 0:pn.captchaToken}},xform:_sessionResponse}),{data:hn,error:fn}=mn;if(fn||!hn)return{data:{user:null,session:null},error:fn};const gn=hn.session,xn=hn.user;return hn.session&&(await this._saveSession(hn.session),await this._notifyAllSubscribers("SIGNED_IN",gn)),{data:{user:xn,session:gn},error:null}}catch(mn){if(isAuthError(mn))return{data:{user:null,session:null},error:mn};throw mn}}async signUp(sn){var un,dn,pn;try{let mn;if("email"in sn){const{email:yn,password:vn,options:En}=sn;let bn=null,wn=null;this.flowType==="pkce"&&([bn,wn]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),mn=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:En==null?void 0:En.emailRedirectTo,body:{email:yn,password:vn,data:(un=En==null?void 0:En.data)!==null&&un!==void 0?un:{},gotrue_meta_security:{captcha_token:En==null?void 0:En.captchaToken},code_challenge:bn,code_challenge_method:wn},xform:_sessionResponse})}else if("phone"in sn){const{phone:yn,password:vn,options:En}=sn;mn=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:yn,password:vn,data:(dn=En==null?void 0:En.data)!==null&&dn!==void 0?dn:{},channel:(pn=En==null?void 0:En.channel)!==null&&pn!==void 0?pn:"sms",gotrue_meta_security:{captcha_token:En==null?void 0:En.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:hn,error:fn}=mn;if(fn||!hn)return{data:{user:null,session:null},error:fn};const gn=hn.session,xn=hn.user;return hn.session&&(await this._saveSession(hn.session),await this._notifyAllSubscribers("SIGNED_IN",gn)),{data:{user:xn,session:gn},error:null}}catch(mn){if(isAuthError(mn))return{data:{user:null,session:null},error:mn};throw mn}}async signInWithPassword(sn){try{let un;if("email"in sn){const{email:mn,password:hn,options:fn}=sn;un=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:mn,password:hn,gotrue_meta_security:{captcha_token:fn==null?void 0:fn.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in sn){const{phone:mn,password:hn,options:fn}=sn;un=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:mn,password:hn,gotrue_meta_security:{captcha_token:fn==null?void 0:fn.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:dn,error:pn}=un;return pn?{data:{user:null,session:null},error:pn}:!dn||!dn.session||!dn.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(dn.session&&(await this._saveSession(dn.session),await this._notifyAllSubscribers("SIGNED_IN",dn.session)),{data:Object.assign({user:dn.user,session:dn.session},dn.weak_password?{weakPassword:dn.weak_password}:null),error:pn})}catch(un){if(isAuthError(un))return{data:{user:null,session:null},error:un};throw un}}async signInWithOAuth(sn){var un,dn,pn,mn;return await this._handleProviderSignIn(sn.provider,{redirectTo:(un=sn.options)===null||un===void 0?void 0:un.redirectTo,scopes:(dn=sn.options)===null||dn===void 0?void 0:dn.scopes,queryParams:(pn=sn.options)===null||pn===void 0?void 0:pn.queryParams,skipBrowserRedirect:(mn=sn.options)===null||mn===void 0?void 0:mn.skipBrowserRedirect})}async exchangeCodeForSession(sn){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(sn))}async signInWithWeb3(sn){const{chain:un}=sn;if(un==="solana")return await this.signInWithSolana(sn);throw new Error(`@supabase/auth-js: Unsupported chain "${un}"`)}async signInWithSolana(sn){var un,dn,pn,mn,hn,fn,gn,xn,yn,vn,En,bn;let wn,Sn;if("message"in sn)wn=sn.message,Sn=sn.signature;else{const{chain:Rn,wallet:_n,statement:jn,options:Cn}=sn;let An;if(isBrowser$1())if(typeof _n=="object")An=_n;else{const $n=window;if("solana"in $n&&typeof $n.solana=="object"&&("signIn"in $n.solana&&typeof $n.solana.signIn=="function"||"signMessage"in $n.solana&&typeof $n.solana.signMessage=="function"))An=$n.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _n!="object"||!(Cn!=null&&Cn.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");An=_n}const Tn=new URL((un=Cn==null?void 0:Cn.url)!==null&&un!==void 0?un:window.location.href);if("signIn"in An&&An.signIn){const $n=await An.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Cn==null?void 0:Cn.signInWithSolana),{version:"1",domain:Tn.host,uri:Tn.href}),jn?{statement:jn}:null));let Dn;if(Array.isArray($n)&&$n[0]&&typeof $n[0]=="object")Dn=$n[0];else if($n&&typeof $n=="object"&&"signedMessage"in $n&&"signature"in $n)Dn=$n;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Dn&&"signature"in Dn&&(typeof Dn.signedMessage=="string"||Dn.signedMessage instanceof Uint8Array)&&Dn.signature instanceof Uint8Array)wn=typeof Dn.signedMessage=="string"?Dn.signedMessage:new TextDecoder().decode(Dn.signedMessage),Sn=Dn.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in An)||typeof An.signMessage!="function"||!("publicKey"in An)||typeof An!="object"||!An.publicKey||!("toBase58"in An.publicKey)||typeof An.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");wn=[`${Tn.host} wants you to sign in with your Solana account:`,An.publicKey.toBase58(),...jn?["",jn,""]:[""],"Version: 1",`URI: ${Tn.href}`,`Issued At: ${(pn=(dn=Cn==null?void 0:Cn.signInWithSolana)===null||dn===void 0?void 0:dn.issuedAt)!==null&&pn!==void 0?pn:new Date().toISOString()}`,...!((mn=Cn==null?void 0:Cn.signInWithSolana)===null||mn===void 0)&&mn.notBefore?[`Not Before: ${Cn.signInWithSolana.notBefore}`]:[],...!((hn=Cn==null?void 0:Cn.signInWithSolana)===null||hn===void 0)&&hn.expirationTime?[`Expiration Time: ${Cn.signInWithSolana.expirationTime}`]:[],...!((fn=Cn==null?void 0:Cn.signInWithSolana)===null||fn===void 0)&&fn.chainId?[`Chain ID: ${Cn.signInWithSolana.chainId}`]:[],...!((gn=Cn==null?void 0:Cn.signInWithSolana)===null||gn===void 0)&&gn.nonce?[`Nonce: ${Cn.signInWithSolana.nonce}`]:[],...!((xn=Cn==null?void 0:Cn.signInWithSolana)===null||xn===void 0)&&xn.requestId?[`Request ID: ${Cn.signInWithSolana.requestId}`]:[],...!((vn=(yn=Cn==null?void 0:Cn.signInWithSolana)===null||yn===void 0?void 0:yn.resources)===null||vn===void 0)&&vn.length?["Resources",...Cn.signInWithSolana.resources.map(Dn=>`- ${Dn}`)]:[]].join(`
`);const $n=await An.signMessage(new TextEncoder().encode(wn),"utf8");if(!$n||!($n instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Sn=$n}}try{const{data:Rn,error:_n}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:wn,signature:bytesToBase64URL(Sn)},!((En=sn.options)===null||En===void 0)&&En.captchaToken?{gotrue_meta_security:{captcha_token:(bn=sn.options)===null||bn===void 0?void 0:bn.captchaToken}}:null),xform:_sessionResponse});if(_n)throw _n;return!Rn||!Rn.session||!Rn.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(Rn.session&&(await this._saveSession(Rn.session),await this._notifyAllSubscribers("SIGNED_IN",Rn.session)),{data:Object.assign({},Rn),error:_n})}catch(Rn){if(isAuthError(Rn))return{data:{user:null,session:null},error:Rn};throw Rn}}async _exchangeCodeForSession(sn){const un=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[dn,pn]=(un??"").split("/");try{const{data:mn,error:hn}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:sn,code_verifier:dn},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),hn)throw hn;return!mn||!mn.session||!mn.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(mn.session&&(await this._saveSession(mn.session),await this._notifyAllSubscribers("SIGNED_IN",mn.session)),{data:Object.assign(Object.assign({},mn),{redirectType:pn??null}),error:hn})}catch(mn){if(isAuthError(mn))return{data:{user:null,session:null,redirectType:null},error:mn};throw mn}}async signInWithIdToken(sn){try{const{options:un,provider:dn,token:pn,access_token:mn,nonce:hn}=sn,fn=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:dn,id_token:pn,access_token:mn,nonce:hn,gotrue_meta_security:{captcha_token:un==null?void 0:un.captchaToken}},xform:_sessionResponse}),{data:gn,error:xn}=fn;return xn?{data:{user:null,session:null},error:xn}:!gn||!gn.session||!gn.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(gn.session&&(await this._saveSession(gn.session),await this._notifyAllSubscribers("SIGNED_IN",gn.session)),{data:gn,error:xn})}catch(un){if(isAuthError(un))return{data:{user:null,session:null},error:un};throw un}}async signInWithOtp(sn){var un,dn,pn,mn,hn;try{if("email"in sn){const{email:fn,options:gn}=sn;let xn=null,yn=null;this.flowType==="pkce"&&([xn,yn]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:vn}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:fn,data:(un=gn==null?void 0:gn.data)!==null&&un!==void 0?un:{},create_user:(dn=gn==null?void 0:gn.shouldCreateUser)!==null&&dn!==void 0?dn:!0,gotrue_meta_security:{captcha_token:gn==null?void 0:gn.captchaToken},code_challenge:xn,code_challenge_method:yn},redirectTo:gn==null?void 0:gn.emailRedirectTo});return{data:{user:null,session:null},error:vn}}if("phone"in sn){const{phone:fn,options:gn}=sn,{data:xn,error:yn}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:fn,data:(pn=gn==null?void 0:gn.data)!==null&&pn!==void 0?pn:{},create_user:(mn=gn==null?void 0:gn.shouldCreateUser)!==null&&mn!==void 0?mn:!0,gotrue_meta_security:{captcha_token:gn==null?void 0:gn.captchaToken},channel:(hn=gn==null?void 0:gn.channel)!==null&&hn!==void 0?hn:"sms"}});return{data:{user:null,session:null,messageId:xn==null?void 0:xn.message_id},error:yn}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(fn){if(isAuthError(fn))return{data:{user:null,session:null},error:fn};throw fn}}async verifyOtp(sn){var un,dn;try{let pn,mn;"options"in sn&&(pn=(un=sn.options)===null||un===void 0?void 0:un.redirectTo,mn=(dn=sn.options)===null||dn===void 0?void 0:dn.captchaToken);const{data:hn,error:fn}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},sn),{gotrue_meta_security:{captcha_token:mn}}),redirectTo:pn,xform:_sessionResponse});if(fn)throw fn;if(!hn)throw new Error("An error occurred on token verification.");const gn=hn.session,xn=hn.user;return gn!=null&&gn.access_token&&(await this._saveSession(gn),await this._notifyAllSubscribers(sn.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",gn)),{data:{user:xn,session:gn},error:null}}catch(pn){if(isAuthError(pn))return{data:{user:null,session:null},error:pn};throw pn}}async signInWithSSO(sn){var un,dn,pn;try{let mn=null,hn=null;return this.flowType==="pkce"&&([mn,hn]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in sn?{provider_id:sn.providerId}:null),"domain"in sn?{domain:sn.domain}:null),{redirect_to:(dn=(un=sn.options)===null||un===void 0?void 0:un.redirectTo)!==null&&dn!==void 0?dn:void 0}),!((pn=sn==null?void 0:sn.options)===null||pn===void 0)&&pn.captchaToken?{gotrue_meta_security:{captcha_token:sn.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:mn,code_challenge_method:hn}),headers:this.headers,xform:_ssoResponse})}catch(mn){if(isAuthError(mn))return{data:null,error:mn};throw mn}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async sn=>{const{data:{session:un},error:dn}=sn;if(dn)throw dn;if(!un)throw new AuthSessionMissingError;const{error:pn}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:un.access_token});return{data:{user:null,session:null},error:pn}})}catch(sn){if(isAuthError(sn))return{data:{user:null,session:null},error:sn};throw sn}}async resend(sn){try{const un=`${this.url}/resend`;if("email"in sn){const{email:dn,type:pn,options:mn}=sn,{error:hn}=await _request(this.fetch,"POST",un,{headers:this.headers,body:{email:dn,type:pn,gotrue_meta_security:{captcha_token:mn==null?void 0:mn.captchaToken}},redirectTo:mn==null?void 0:mn.emailRedirectTo});return{data:{user:null,session:null},error:hn}}else if("phone"in sn){const{phone:dn,type:pn,options:mn}=sn,{data:hn,error:fn}=await _request(this.fetch,"POST",un,{headers:this.headers,body:{phone:dn,type:pn,gotrue_meta_security:{captcha_token:mn==null?void 0:mn.captchaToken}}});return{data:{user:null,session:null,messageId:hn==null?void 0:hn.message_id},error:fn}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(un){if(isAuthError(un))return{data:{user:null,session:null},error:un};throw un}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async un=>un))}async _acquireLock(sn,un){this._debug("#_acquireLock","begin",sn);try{if(this.lockAcquired){const dn=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),pn=(async()=>(await dn,await un()))();return this.pendingInLock.push((async()=>{try{await pn}catch{}})()),pn}return await this.lock(`lock:${this.storageKey}`,sn,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const dn=un();for(this.pendingInLock.push((async()=>{try{await dn}catch{}})()),await dn;this.pendingInLock.length;){const pn=[...this.pendingInLock];await Promise.all(pn),this.pendingInLock.splice(0,pn.length)}return await dn}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(sn){this._debug("#_useSession","begin");try{const un=await this.__loadSession();return await sn(un)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let sn=null;const un=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",un),un!==null&&(this._isValidSession(un)?sn=un:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!sn)return{data:{session:null},error:null};const dn=sn.expires_at?sn.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${dn?"":" not"} expired`,"expires_at",sn.expires_at),!dn){if(this.userStorage){const hn=await getItemAsync(this.userStorage,this.storageKey+"-user");hn!=null&&hn.user?sn.user=hn.user:sn.user=userNotAvailableProxy()}if(this.storage.isServer&&sn.user){let hn=this.suppressGetSessionWarning;sn=new Proxy(sn,{get:(gn,xn,yn)=>(!hn&&xn==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),hn=!0,this.suppressGetSessionWarning=!0),Reflect.get(gn,xn,yn))})}return{data:{session:sn},error:null}}const{session:pn,error:mn}=await this._callRefreshToken(sn.refresh_token);return mn?{data:{session:null},error:mn}:{data:{session:pn},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(sn){return sn?await this._getUser(sn):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(sn){try{return sn?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:sn,xform:_userResponse}):await this._useSession(async un=>{var dn,pn,mn;const{data:hn,error:fn}=un;if(fn)throw fn;return!(!((dn=hn.session)===null||dn===void 0)&&dn.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(mn=(pn=hn.session)===null||pn===void 0?void 0:pn.access_token)!==null&&mn!==void 0?mn:void 0,xform:_userResponse})})}catch(un){if(isAuthError(un))return isAuthSessionMissingError(un)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:un};throw un}}async updateUser(sn,un={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(sn,un))}async _updateUser(sn,un={}){try{return await this._useSession(async dn=>{const{data:pn,error:mn}=dn;if(mn)throw mn;if(!pn.session)throw new AuthSessionMissingError;const hn=pn.session;let fn=null,gn=null;this.flowType==="pkce"&&sn.email!=null&&([fn,gn]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:xn,error:yn}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:un==null?void 0:un.emailRedirectTo,body:Object.assign(Object.assign({},sn),{code_challenge:fn,code_challenge_method:gn}),jwt:hn.access_token,xform:_userResponse});if(yn)throw yn;return hn.user=xn.user,await this._saveSession(hn),await this._notifyAllSubscribers("USER_UPDATED",hn),{data:{user:hn.user},error:null}})}catch(dn){if(isAuthError(dn))return{data:{user:null},error:dn};throw dn}}async setSession(sn){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(sn))}async _setSession(sn){try{if(!sn.access_token||!sn.refresh_token)throw new AuthSessionMissingError;const un=Date.now()/1e3;let dn=un,pn=!0,mn=null;const{payload:hn}=decodeJWT(sn.access_token);if(hn.exp&&(dn=hn.exp,pn=dn<=un),pn){const{session:fn,error:gn}=await this._callRefreshToken(sn.refresh_token);if(gn)return{data:{user:null,session:null},error:gn};if(!fn)return{data:{user:null,session:null},error:null};mn=fn}else{const{data:fn,error:gn}=await this._getUser(sn.access_token);if(gn)throw gn;mn={access_token:sn.access_token,refresh_token:sn.refresh_token,user:fn.user,token_type:"bearer",expires_in:dn-un,expires_at:dn},await this._saveSession(mn),await this._notifyAllSubscribers("SIGNED_IN",mn)}return{data:{user:mn.user,session:mn},error:null}}catch(un){if(isAuthError(un))return{data:{session:null,user:null},error:un};throw un}}async refreshSession(sn){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(sn))}async _refreshSession(sn){try{return await this._useSession(async un=>{var dn;if(!sn){const{data:hn,error:fn}=un;if(fn)throw fn;sn=(dn=hn.session)!==null&&dn!==void 0?dn:void 0}if(!(sn!=null&&sn.refresh_token))throw new AuthSessionMissingError;const{session:pn,error:mn}=await this._callRefreshToken(sn.refresh_token);return mn?{data:{user:null,session:null},error:mn}:pn?{data:{user:pn.user,session:pn},error:null}:{data:{user:null,session:null},error:null}})}catch(un){if(isAuthError(un))return{data:{user:null,session:null},error:un};throw un}}async _getSessionFromURL(sn,un){try{if(!isBrowser$1())throw new AuthImplicitGrantRedirectError("No browser detected.");if(sn.error||sn.error_description||sn.error_code)throw new AuthImplicitGrantRedirectError(sn.error_description||"Error in URL with unspecified error_description",{error:sn.error||"unspecified_error",code:sn.error_code||"unspecified_code"});switch(un){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(un==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!sn.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:jn,error:Cn}=await this._exchangeCodeForSession(sn.code);if(Cn)throw Cn;const An=new URL(window.location.href);return An.searchParams.delete("code"),window.history.replaceState(window.history.state,"",An.toString()),{data:{session:jn.session,redirectType:null},error:null}}const{provider_token:dn,provider_refresh_token:pn,access_token:mn,refresh_token:hn,expires_in:fn,expires_at:gn,token_type:xn}=sn;if(!mn||!fn||!hn||!xn)throw new AuthImplicitGrantRedirectError("No session defined in URL");const yn=Math.round(Date.now()/1e3),vn=parseInt(fn);let En=yn+vn;gn&&(En=parseInt(gn));const bn=En-yn;bn*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${bn}s, should have been closer to ${vn}s`);const wn=En-vn;yn-wn>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",wn,En,yn):yn-wn<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",wn,En,yn);const{data:Sn,error:Rn}=await this._getUser(mn);if(Rn)throw Rn;const _n={provider_token:dn,provider_refresh_token:pn,access_token:mn,expires_in:vn,expires_at:En,refresh_token:hn,token_type:xn,user:Sn.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_n,redirectType:sn.type},error:null}}catch(dn){if(isAuthError(dn))return{data:{session:null,redirectType:null},error:dn};throw dn}}_isImplicitGrantCallback(sn){return!!(sn.access_token||sn.error_description)}async _isPKCECallback(sn){const un=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(sn.code&&un)}async signOut(sn={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(sn))}async _signOut({scope:sn}={scope:"global"}){return await this._useSession(async un=>{var dn;const{data:pn,error:mn}=un;if(mn)return{error:mn};const hn=(dn=pn.session)===null||dn===void 0?void 0:dn.access_token;if(hn){const{error:fn}=await this.admin.signOut(hn,sn);if(fn&&!(isAuthApiError(fn)&&(fn.status===404||fn.status===401||fn.status===403)))return{error:fn}}return sn!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(sn){const un=uuid(),dn={id:un,callback:sn,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",un),this.stateChangeEmitters.delete(un)}};return this._debug("#onAuthStateChange()","registered callback with id",un),this.stateChangeEmitters.set(un,dn),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(un)})))(),{data:{subscription:dn}}}async _emitInitialSession(sn){return await this._useSession(async un=>{var dn,pn;try{const{data:{session:mn},error:hn}=un;if(hn)throw hn;await((dn=this.stateChangeEmitters.get(sn))===null||dn===void 0?void 0:dn.callback("INITIAL_SESSION",mn)),this._debug("INITIAL_SESSION","callback id",sn,"session",mn)}catch(mn){await((pn=this.stateChangeEmitters.get(sn))===null||pn===void 0?void 0:pn.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",sn,"error",mn),console.error(mn)}})}async resetPasswordForEmail(sn,un={}){let dn=null,pn=null;this.flowType==="pkce"&&([dn,pn]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:sn,code_challenge:dn,code_challenge_method:pn,gotrue_meta_security:{captcha_token:un.captchaToken}},headers:this.headers,redirectTo:un.redirectTo})}catch(mn){if(isAuthError(mn))return{data:null,error:mn};throw mn}}async getUserIdentities(){var sn;try{const{data:un,error:dn}=await this.getUser();if(dn)throw dn;return{data:{identities:(sn=un.user.identities)!==null&&sn!==void 0?sn:[]},error:null}}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}}async linkIdentity(sn){var un;try{const{data:dn,error:pn}=await this._useSession(async mn=>{var hn,fn,gn,xn,yn;const{data:vn,error:En}=mn;if(En)throw En;const bn=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,sn.provider,{redirectTo:(hn=sn.options)===null||hn===void 0?void 0:hn.redirectTo,scopes:(fn=sn.options)===null||fn===void 0?void 0:fn.scopes,queryParams:(gn=sn.options)===null||gn===void 0?void 0:gn.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",bn,{headers:this.headers,jwt:(yn=(xn=vn.session)===null||xn===void 0?void 0:xn.access_token)!==null&&yn!==void 0?yn:void 0})});if(pn)throw pn;return isBrowser$1()&&!(!((un=sn.options)===null||un===void 0)&&un.skipBrowserRedirect)&&window.location.assign(dn==null?void 0:dn.url),{data:{provider:sn.provider,url:dn==null?void 0:dn.url},error:null}}catch(dn){if(isAuthError(dn))return{data:{provider:sn.provider,url:null},error:dn};throw dn}}async unlinkIdentity(sn){try{return await this._useSession(async un=>{var dn,pn;const{data:mn,error:hn}=un;if(hn)throw hn;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${sn.identity_id}`,{headers:this.headers,jwt:(pn=(dn=mn.session)===null||dn===void 0?void 0:dn.access_token)!==null&&pn!==void 0?pn:void 0})})}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}}async _refreshAccessToken(sn){const un=`#_refreshAccessToken(${sn.substring(0,5)}...)`;this._debug(un,"begin");try{const dn=Date.now();return await retryable(async pn=>(pn>0&&await sleep$1(200*Math.pow(2,pn-1)),this._debug(un,"refreshing attempt",pn),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:sn},headers:this.headers,xform:_sessionResponse})),(pn,mn)=>{const hn=200*Math.pow(2,pn);return mn&&isAuthRetryableFetchError(mn)&&Date.now()+hn-dn<AUTO_REFRESH_TICK_DURATION_MS})}catch(dn){if(this._debug(un,"error",dn),isAuthError(dn))return{data:{session:null,user:null},error:dn};throw dn}finally{this._debug(un,"end")}}_isValidSession(sn){return typeof sn=="object"&&sn!==null&&"access_token"in sn&&"refresh_token"in sn&&"expires_at"in sn}async _handleProviderSignIn(sn,un){const dn=await this._getUrlForProvider(`${this.url}/authorize`,sn,{redirectTo:un.redirectTo,scopes:un.scopes,queryParams:un.queryParams});return this._debug("#_handleProviderSignIn()","provider",sn,"options",un,"url",dn),isBrowser$1()&&!un.skipBrowserRedirect&&window.location.assign(dn),{data:{provider:sn,url:dn},error:null}}async _recoverAndRefresh(){var sn,un;const dn="#_recoverAndRefresh()";this._debug(dn,"begin");try{const pn=await getItemAsync(this.storage,this.storageKey);if(pn&&this.userStorage){let hn=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!hn&&(hn={user:pn.user},await setItemAsync(this.userStorage,this.storageKey+"-user",hn)),pn.user=(sn=hn==null?void 0:hn.user)!==null&&sn!==void 0?sn:userNotAvailableProxy()}else if(pn&&!pn.user&&!pn.user){const hn=await getItemAsync(this.storage,this.storageKey+"-user");hn&&(hn!=null&&hn.user)?(pn.user=hn.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,pn)):pn.user=userNotAvailableProxy()}if(this._debug(dn,"session from storage",pn),!this._isValidSession(pn)){this._debug(dn,"session is not valid"),pn!==null&&await this._removeSession();return}const mn=((un=pn.expires_at)!==null&&un!==void 0?un:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(dn,`session has${mn?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),mn){if(this.autoRefreshToken&&pn.refresh_token){const{error:hn}=await this._callRefreshToken(pn.refresh_token);hn&&(console.error(hn),isAuthRetryableFetchError(hn)||(this._debug(dn,"refresh failed with a non-retryable error, removing the session",hn),await this._removeSession()))}}else if(pn.user&&pn.user.__isUserNotAvailableProxy===!0)try{const{data:hn,error:fn}=await this._getUser(pn.access_token);!fn&&(hn!=null&&hn.user)?(pn.user=hn.user,await this._saveSession(pn),await this._notifyAllSubscribers("SIGNED_IN",pn)):this._debug(dn,"could not get user data, skipping SIGNED_IN notification")}catch(hn){console.error("Error getting user data:",hn),this._debug(dn,"error getting user data, skipping SIGNED_IN notification",hn)}else await this._notifyAllSubscribers("SIGNED_IN",pn)}catch(pn){this._debug(dn,"error",pn),console.error(pn);return}finally{this._debug(dn,"end")}}async _callRefreshToken(sn){var un,dn;if(!sn)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const pn=`#_callRefreshToken(${sn.substring(0,5)}...)`;this._debug(pn,"begin");try{this.refreshingDeferred=new Deferred;const{data:mn,error:hn}=await this._refreshAccessToken(sn);if(hn)throw hn;if(!mn.session)throw new AuthSessionMissingError;await this._saveSession(mn.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",mn.session);const fn={session:mn.session,error:null};return this.refreshingDeferred.resolve(fn),fn}catch(mn){if(this._debug(pn,"error",mn),isAuthError(mn)){const hn={session:null,error:mn};return isAuthRetryableFetchError(mn)||await this._removeSession(),(un=this.refreshingDeferred)===null||un===void 0||un.resolve(hn),hn}throw(dn=this.refreshingDeferred)===null||dn===void 0||dn.reject(mn),mn}finally{this.refreshingDeferred=null,this._debug(pn,"end")}}async _notifyAllSubscribers(sn,un,dn=!0){const pn=`#_notifyAllSubscribers(${sn})`;this._debug(pn,"begin",un,`broadcast = ${dn}`);try{this.broadcastChannel&&dn&&this.broadcastChannel.postMessage({event:sn,session:un});const mn=[],hn=Array.from(this.stateChangeEmitters.values()).map(async fn=>{try{await fn.callback(sn,un)}catch(gn){mn.push(gn)}});if(await Promise.all(hn),mn.length>0){for(let fn=0;fn<mn.length;fn+=1)console.error(mn[fn]);throw mn[0]}}finally{this._debug(pn,"end")}}async _saveSession(sn){this._debug("#_saveSession()",sn),this.suppressGetSessionWarning=!0;const un=Object.assign({},sn),dn=un.user&&un.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!dn&&un.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:un.user});const pn=Object.assign({},un);delete pn.user;const mn=deepClone(pn);await setItemAsync(this.storage,this.storageKey,mn)}else{const pn=deepClone(un);await setItemAsync(this.storage,this.storageKey,pn)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const sn=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{sn&&isBrowser$1()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",sn)}catch(un){console.error("removing visibilitychange callback failed",un)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const sn=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=sn,sn&&typeof sn=="object"&&typeof sn.unref=="function"?sn.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(sn),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const sn=this.autoRefreshTicker;this.autoRefreshTicker=null,sn&&clearInterval(sn)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const sn=Date.now();try{return await this._useSession(async un=>{const{data:{session:dn}}=un;if(!dn||!dn.refresh_token||!dn.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const pn=Math.floor((dn.expires_at*1e3-sn)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${pn} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),pn<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(dn.refresh_token)})}catch(un){console.error("Auto refresh tick failed with error. This is likely a transient error.",un)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(sn){if(sn.isAcquireTimeout||sn instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw sn}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$1()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(sn){console.error("_handleVisibilityChange",sn)}}async _onVisibilityChanged(sn){const un=`#_onVisibilityChanged(${sn})`;this._debug(un,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),sn||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(un,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(sn,un,dn){const pn=[`provider=${encodeURIComponent(un)}`];if(dn!=null&&dn.redirectTo&&pn.push(`redirect_to=${encodeURIComponent(dn.redirectTo)}`),dn!=null&&dn.scopes&&pn.push(`scopes=${encodeURIComponent(dn.scopes)}`),this.flowType==="pkce"){const[mn,hn]=await getCodeChallengeAndMethod(this.storage,this.storageKey),fn=new URLSearchParams({code_challenge:`${encodeURIComponent(mn)}`,code_challenge_method:`${encodeURIComponent(hn)}`});pn.push(fn.toString())}if(dn!=null&&dn.queryParams){const mn=new URLSearchParams(dn.queryParams);pn.push(mn.toString())}return dn!=null&&dn.skipBrowserRedirect&&pn.push(`skip_http_redirect=${dn.skipBrowserRedirect}`),`${sn}?${pn.join("&")}`}async _unenroll(sn){try{return await this._useSession(async un=>{var dn;const{data:pn,error:mn}=un;return mn?{data:null,error:mn}:await _request(this.fetch,"DELETE",`${this.url}/factors/${sn.factorId}`,{headers:this.headers,jwt:(dn=pn==null?void 0:pn.session)===null||dn===void 0?void 0:dn.access_token})})}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}}async _enroll(sn){try{return await this._useSession(async un=>{var dn,pn;const{data:mn,error:hn}=un;if(hn)return{data:null,error:hn};const fn=Object.assign({friendly_name:sn.friendlyName,factor_type:sn.factorType},sn.factorType==="phone"?{phone:sn.phone}:{issuer:sn.issuer}),{data:gn,error:xn}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:fn,headers:this.headers,jwt:(dn=mn==null?void 0:mn.session)===null||dn===void 0?void 0:dn.access_token});return xn?{data:null,error:xn}:(sn.factorType==="totp"&&(!((pn=gn==null?void 0:gn.totp)===null||pn===void 0)&&pn.qr_code)&&(gn.totp.qr_code=`data:image/svg+xml;utf-8,${gn.totp.qr_code}`),{data:gn,error:null})})}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}}async _verify(sn){return this._acquireLock(-1,async()=>{try{return await this._useSession(async un=>{var dn;const{data:pn,error:mn}=un;if(mn)return{data:null,error:mn};const{data:hn,error:fn}=await _request(this.fetch,"POST",`${this.url}/factors/${sn.factorId}/verify`,{body:{code:sn.code,challenge_id:sn.challengeId},headers:this.headers,jwt:(dn=pn==null?void 0:pn.session)===null||dn===void 0?void 0:dn.access_token});return fn?{data:null,error:fn}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+hn.expires_in},hn)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",hn),{data:hn,error:fn})})}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}})}async _challenge(sn){return this._acquireLock(-1,async()=>{try{return await this._useSession(async un=>{var dn;const{data:pn,error:mn}=un;return mn?{data:null,error:mn}:await _request(this.fetch,"POST",`${this.url}/factors/${sn.factorId}/challenge`,{body:{channel:sn.channel},headers:this.headers,jwt:(dn=pn==null?void 0:pn.session)===null||dn===void 0?void 0:dn.access_token})})}catch(un){if(isAuthError(un))return{data:null,error:un};throw un}})}async _challengeAndVerify(sn){const{data:un,error:dn}=await this._challenge({factorId:sn.factorId});return dn?{data:null,error:dn}:await this._verify({factorId:sn.factorId,challengeId:un.id,code:sn.code})}async _listFactors(){const{data:{user:sn},error:un}=await this.getUser();if(un)return{data:null,error:un};const dn=(sn==null?void 0:sn.factors)||[],pn=dn.filter(hn=>hn.factor_type==="totp"&&hn.status==="verified"),mn=dn.filter(hn=>hn.factor_type==="phone"&&hn.status==="verified");return{data:{all:dn,totp:pn,phone:mn},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async sn=>{var un,dn;const{data:{session:pn},error:mn}=sn;if(mn)return{data:null,error:mn};if(!pn)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:hn}=decodeJWT(pn.access_token);let fn=null;hn.aal&&(fn=hn.aal);let gn=fn;((dn=(un=pn.user.factors)===null||un===void 0?void 0:un.filter(vn=>vn.status==="verified"))!==null&&dn!==void 0?dn:[]).length>0&&(gn="aal2");const yn=hn.amr||[];return{data:{currentLevel:fn,nextLevel:gn,currentAuthenticationMethods:yn},error:null}}))}async fetchJwk(sn,un={keys:[]}){let dn=un.keys.find(fn=>fn.kid===sn);if(dn)return dn;const pn=Date.now();if(dn=this.jwks.keys.find(fn=>fn.kid===sn),dn&&this.jwks_cached_at+JWKS_TTL>pn)return dn;const{data:mn,error:hn}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(hn)throw hn;return!mn.keys||mn.keys.length===0||(this.jwks=mn,this.jwks_cached_at=pn,dn=mn.keys.find(fn=>fn.kid===sn),!dn)?null:dn}async getClaims(sn,un={}){try{let dn=sn;if(!dn){const{data:bn,error:wn}=await this.getSession();if(wn||!bn.session)return{data:null,error:wn};dn=bn.session.access_token}const{header:pn,payload:mn,signature:hn,raw:{header:fn,payload:gn}}=decodeJWT(dn);un!=null&&un.allowExpired||validateExp(mn.exp);const xn=!pn.alg||pn.alg.startsWith("HS")||!pn.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(pn.kid,un!=null&&un.keys?{keys:un.keys}:un==null?void 0:un.jwks);if(!xn){const{error:bn}=await this.getUser(dn);if(bn)throw bn;return{data:{claims:mn,header:pn,signature:hn},error:null}}const yn=getAlgorithm(pn.alg),vn=await crypto.subtle.importKey("jwk",xn,yn,!0,["verify"]);if(!await crypto.subtle.verify(yn,vn,hn,stringToUint8Array(`${fn}.${gn}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:mn,header:pn,signature:hn},error:null}}catch(dn){if(isAuthError(dn))return{data:null,error:dn};throw dn}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(sn){super(sn)}}var __awaiter$1=function(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})};class SupabaseClient{constructor(sn,un,dn){var pn,mn,hn;if(this.supabaseUrl=sn,this.supabaseKey=un,!sn)throw new Error("supabaseUrl is required.");if(!un)throw new Error("supabaseKey is required.");const fn=ensureTrailingSlash(sn),gn=new URL(fn);this.realtimeUrl=new URL("realtime/v1",gn),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",gn),this.storageUrl=new URL("storage/v1",gn),this.functionsUrl=new URL("functions/v1",gn);const xn=`sb-${gn.hostname.split(".")[0]}-auth-token`,yn={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:xn}),global:DEFAULT_GLOBAL_OPTIONS},vn=applySettingDefaults(dn??{},yn);this.storageKey=(pn=vn.auth.storageKey)!==null&&pn!==void 0?pn:"",this.headers=(mn=vn.global.headers)!==null&&mn!==void 0?mn:{},vn.accessToken?(this.accessToken=vn.accessToken,this.auth=new Proxy({},{get:(En,bn)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(bn)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((hn=vn.auth)!==null&&hn!==void 0?hn:{},this.headers,vn.global.fetch),this.fetch=fetchWithAuth(un,this._getAccessToken.bind(this),vn.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},vn.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",gn).href,{headers:this.headers,schema:vn.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,dn==null?void 0:dn.storage),vn.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(sn){return this.rest.from(sn)}schema(sn){return this.rest.schema(sn)}rpc(sn,un={},dn={}){return this.rest.rpc(sn,un,dn)}channel(sn,un={config:{}}){return this.realtime.channel(sn,un)}getChannels(){return this.realtime.getChannels()}removeChannel(sn){return this.realtime.removeChannel(sn)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var sn,un;return __awaiter$1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:dn}=yield this.auth.getSession();return(un=(sn=dn.session)===null||sn===void 0?void 0:sn.access_token)!==null&&un!==void 0?un:null})}_initSupabaseAuthClient({autoRefreshToken:sn,persistSession:un,detectSessionInUrl:dn,storage:pn,storageKey:mn,flowType:hn,lock:fn,debug:gn},xn,yn){const vn={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},vn),xn),storageKey:mn,autoRefreshToken:sn,persistSession:un,detectSessionInUrl:dn,storage:pn,flowType:hn,lock:fn,debug:gn,fetch:yn,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(sn){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},sn),{params:Object.assign({apikey:this.supabaseKey},sn==null?void 0:sn.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((un,dn)=>{this._handleTokenChanged(un,"CLIENT",dn==null?void 0:dn.access_token)})}_handleTokenChanged(sn,un,dn){(sn==="TOKEN_REFRESHED"||sn==="SIGNED_IN")&&this.changedAccessToken!==dn?this.changedAccessToken=dn:sn==="SIGNED_OUT"&&(this.realtime.setAuth(),un=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(tn,sn,un)=>new SupabaseClient(tn,sn,un);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const tn=process.version.match(/^v(\d+)\./);return tn?parseInt(tn[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl=void 0,supabaseAnonKey=void 0;throw new Error("Missing VITE_SUPABASE_URL environment variable");const supabase=createClient(supabaseUrl,supabaseAnonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),signUp=async(tn,sn,un)=>{const{data:dn,error:pn}=await supabase.auth.signUp({email:tn,password:sn,options:{data:un}});return{data:dn,error:pn}},signIn=async(tn,sn)=>{const{data:un,error:dn}=await supabase.auth.signInWithPassword({email:tn,password:sn});return{data:un,error:dn}},signOut=async()=>{const{error:tn}=await supabase.auth.signOut();return{error:tn}},resetPassword=async tn=>{const{data:sn,error:un}=await supabase.auth.resetPasswordForEmail(tn,{redirectTo:`${window.location.origin}/reset-password`});return{data:sn,error:un}},getSession=async()=>{const{data:{session:tn},error:sn}=await supabase.auth.getSession();return{session:tn,error:sn}},API_BASE_URL="https://sandwich-project-api.onrender.com";async function throwIfResNotOk(tn){if(!tn.ok){const sn=await tn.text()||tn.statusText;throw new Error(`${tn.status}: ${sn}`)}}async function getAuthHeaders(){const{data:{session:tn}}=await supabase.auth.getSession(),sn={};return tn!=null&&tn.access_token&&(sn.Authorization=`Bearer ${tn.access_token}`),sn}async function apiRequest(tn,sn,un){const dn=un instanceof FormData,pn=await getAuthHeaders(),mn=sn.startsWith("http")?sn:`${API_BASE_URL}${sn}`,hn=await fetch(mn,{method:tn,headers:{...pn,...dn?{}:un?{"Content-Type":"application/json"}:{}},body:dn?un:un?JSON.stringify(un):void 0,credentials:"include"});await throwIfResNotOk(hn);const fn=hn.headers.get("content-type");return fn&&fn.includes("application/json")?await hn.json():null}const getQueryFn=({on401:tn})=>async({queryKey:sn})=>{const un=await getAuthHeaders(),dn=await fetch(sn[0],{headers:un,credentials:"include"});return await throwIfResNotOk(dn),await dn.json()},queryClient=new QueryClient({defaultOptions:{queries:{queryFn:getQueryFn({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AuthContext=reactExports.createContext(void 0),useAuth=()=>{const tn=reactExports.useContext(AuthContext);if(!tn)throw new Error("useAuth must be used within an AuthProvider");return tn},AuthProvider=({children:tn})=>{const[sn,un]=reactExports.useState(null),[dn,pn]=reactExports.useState(null),[mn,hn]=reactExports.useState(!0);reactExports.useEffect(()=>{getSession().then(({session:xn})=>{pn(xn),un((xn==null?void 0:xn.user)??null),hn(!1)});const{data:{subscription:gn}}=supabase.auth.onAuthStateChange((xn,yn)=>{pn(yn),un((yn==null?void 0:yn.user)??null),hn(!1)});return()=>gn.unsubscribe()},[]);const fn={user:sn,session:dn,loading:mn,signIn,signUp,signOut,resetPassword};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:fn,children:tn})},trackEvent=(tn,sn,un,dn)=>{typeof window>"u"||!window.gtag||window.gtag("event",tn,{event_category:sn,event_label:un,value:dn})},useAnalytics=()=>{const[tn]=useLocation(),sn=reactExports.useRef(tn);reactExports.useEffect(()=>{tn!==sn.current&&(sn.current=tn)},[tn])},useEnhancedTracking=()=>{const[tn]=useLocation(),sn=reactExports.useRef(Date.now()),un=reactExports.useRef("");reactExports.useEffect(()=>{const gn=Math.round((Date.now()-sn.current)/1e3);un.current&&gn>2&&(trackEvent("page_duration","engagement",un.current,gn),fetch("/api/enhanced-user-activity/track",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"Page View",section:getSectionFromPath(un.current),page:un.current,duration:gn,metadata:{timestamp:new Date().toISOString(),from:un.current,to:tn}})}).catch(console.error)),sn.current=Date.now(),un.current=tn},[tn]);const dn=gn=>{trackEvent(gn.action,gn.section,gn.feature),fetch("/api/enhanced-user-activity/track",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:gn.action,section:gn.section,page:tn,feature:gn.feature,duration:gn.duration,metadata:{timestamp:new Date().toISOString(),...gn.metadata}})}).catch(console.error)};return{trackUserAction:dn,trackButtonClick:(gn,xn)=>{dn({section:xn,action:"Button Click",feature:gn,metadata:{buttonName:gn,location:tn}})},trackFormSubmit:(gn,xn)=>{dn({section:xn,action:"Form Submit",feature:gn,metadata:{formName:gn,location:tn}})},trackSearch:(gn,xn,yn)=>{dn({section:xn,action:"Search",feature:"Search",metadata:{searchTerm:gn,resultsCount:yn,location:tn}})},trackDownload:(gn,xn)=>{dn({section:xn,action:"Download",feature:"File Download",metadata:{fileName:gn,location:tn}})}}},getSectionFromPath=tn=>tn==="/"?"Dashboard":tn.startsWith("/inbox")||tn.startsWith("/messages")?"Communication":tn.startsWith("/projects")?"Projects":tn.startsWith("/hosts")||tn.startsWith("/recipients")||tn.startsWith("/drivers")?"Directory":tn.startsWith("/meetings")?"Meetings":tn.startsWith("/suggestions")?"Suggestions":tn.startsWith("/governance")?"Governance":tn.startsWith("/toolkit")?"Toolkit":tn.startsWith("/reports")?"Analytics":tn.includes("admin")?"Admin":"Other",TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count$2=0;function genId(){return count$2=(count$2+1)%Number.MAX_SAFE_INTEGER,count$2.toString()}const toastTimeouts=new Map,addToRemoveQueue=tn=>{if(toastTimeouts.has(tn))return;const sn=setTimeout(()=>{toastTimeouts.delete(tn),dispatch({type:"REMOVE_TOAST",toastId:tn})},TOAST_REMOVE_DELAY);toastTimeouts.set(tn,sn)},reducer$1=(tn,sn)=>{switch(sn.type){case"ADD_TOAST":return{...tn,toasts:[sn.toast,...tn.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...tn,toasts:tn.toasts.map(un=>un.id===sn.toast.id?{...un,...sn.toast}:un)};case"DISMISS_TOAST":{const{toastId:un}=sn;return un?addToRemoveQueue(un):tn.toasts.forEach(dn=>{addToRemoveQueue(dn.id)}),{...tn,toasts:tn.toasts.map(dn=>dn.id===un||un===void 0?{...dn,open:!1}:dn)}}case"REMOVE_TOAST":return sn.toastId===void 0?{...tn,toasts:[]}:{...tn,toasts:tn.toasts.filter(un=>un.id!==sn.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(tn){memoryState=reducer$1(memoryState,tn),listeners.forEach(sn=>{sn(memoryState)})}function toast({...tn}){const sn=genId(),un=pn=>dispatch({type:"UPDATE_TOAST",toast:{...pn,id:sn}}),dn=()=>dispatch({type:"DISMISS_TOAST",toastId:sn});return dispatch({type:"ADD_TOAST",toast:{...tn,id:sn,open:!0,onOpenChange:pn=>{pn||dn()}}}),{id:sn,dismiss:dn,update:un}}function useToast(){const[tn,sn]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(sn),()=>{const un=listeners.indexOf(sn);un>-1&&listeners.splice(un,1)}),[tn]),{...tn,toast,dismiss:un=>dispatch({type:"DISMISS_TOAST",toastId:un})}}function composeEventHandlers$1(tn,sn,{checkForDefaultPrevented:un=!0}={}){return function(pn){if(tn==null||tn(pn),un===!1||!pn.defaultPrevented)return sn==null?void 0:sn(pn)}}function setRef(tn,sn){if(typeof tn=="function")return tn(sn);tn!=null&&(tn.current=sn)}function composeRefs(...tn){return sn=>{let un=!1;const dn=tn.map(pn=>{const mn=setRef(pn,sn);return!un&&typeof mn=="function"&&(un=!0),mn});if(un)return()=>{for(let pn=0;pn<dn.length;pn++){const mn=dn[pn];typeof mn=="function"?mn():setRef(tn[pn],null)}}}}function useComposedRefs(...tn){return reactExports.useCallback(composeRefs(...tn),tn)}function createContext2(tn,sn){const un=reactExports.createContext(sn),dn=mn=>{const{children:hn,...fn}=mn,gn=reactExports.useMemo(()=>fn,Object.values(fn));return jsxRuntimeExports.jsx(un.Provider,{value:gn,children:hn})};dn.displayName=tn+"Provider";function pn(mn){const hn=reactExports.useContext(un);if(hn)return hn;if(sn!==void 0)return sn;throw new Error(`\`${mn}\` must be used within \`${tn}\``)}return[dn,pn]}function createContextScope(tn,sn=[]){let un=[];function dn(mn,hn){const fn=reactExports.createContext(hn),gn=un.length;un=[...un,hn];const xn=vn=>{var _n;const{scope:En,children:bn,...wn}=vn,Sn=((_n=En==null?void 0:En[tn])==null?void 0:_n[gn])||fn,Rn=reactExports.useMemo(()=>wn,Object.values(wn));return jsxRuntimeExports.jsx(Sn.Provider,{value:Rn,children:bn})};xn.displayName=mn+"Provider";function yn(vn,En){var Sn;const bn=((Sn=En==null?void 0:En[tn])==null?void 0:Sn[gn])||fn,wn=reactExports.useContext(bn);if(wn)return wn;if(hn!==void 0)return hn;throw new Error(`\`${vn}\` must be used within \`${mn}\``)}return[xn,yn]}const pn=()=>{const mn=un.map(hn=>reactExports.createContext(hn));return function(fn){const gn=(fn==null?void 0:fn[tn])||mn;return reactExports.useMemo(()=>({[`__scope${tn}`]:{...fn,[tn]:gn}}),[fn,gn])}};return pn.scopeName=tn,[dn,composeContextScopes(pn,...sn)]}function composeContextScopes(...tn){const sn=tn[0];if(tn.length===1)return sn;const un=()=>{const dn=tn.map(pn=>({useScope:pn(),scopeName:pn.scopeName}));return function(mn){const hn=dn.reduce((fn,{useScope:gn,scopeName:xn})=>{const vn=gn(mn)[`__scope${xn}`];return{...fn,...vn}},{});return reactExports.useMemo(()=>({[`__scope${sn.scopeName}`]:hn}),[hn])}};return un.scopeName=sn.scopeName,un}function createSlot(tn){const sn=createSlotClone(tn),un=reactExports.forwardRef((dn,pn)=>{const{children:mn,...hn}=dn,fn=reactExports.Children.toArray(mn),gn=fn.find(isSlottable);if(gn){const xn=gn.props.children,yn=fn.map(vn=>vn===gn?reactExports.Children.count(xn)>1?reactExports.Children.only(null):reactExports.isValidElement(xn)?xn.props.children:null:vn);return jsxRuntimeExports.jsx(sn,{...hn,ref:pn,children:reactExports.isValidElement(xn)?reactExports.cloneElement(xn,void 0,yn):null})}return jsxRuntimeExports.jsx(sn,{...hn,ref:pn,children:mn})});return un.displayName=`${tn}.Slot`,un}var Slot$3=createSlot("Slot");function createSlotClone(tn){const sn=reactExports.forwardRef((un,dn)=>{const{children:pn,...mn}=un;if(reactExports.isValidElement(pn)){const hn=getElementRef$1(pn),fn=mergeProps(mn,pn.props);return pn.type!==reactExports.Fragment&&(fn.ref=dn?composeRefs(dn,hn):hn),reactExports.cloneElement(pn,fn)}return reactExports.Children.count(pn)>1?reactExports.Children.only(null):null});return sn.displayName=`${tn}.SlotClone`,sn}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(tn){const sn=({children:un})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:un});return sn.displayName=`${tn}.Slottable`,sn.__radixId=SLOTTABLE_IDENTIFIER,sn}function isSlottable(tn){return reactExports.isValidElement(tn)&&typeof tn.type=="function"&&"__radixId"in tn.type&&tn.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(tn,sn){const un={...sn};for(const dn in sn){const pn=tn[dn],mn=sn[dn];/^on[A-Z]/.test(dn)?pn&&mn?un[dn]=(...fn)=>{const gn=mn(...fn);return pn(...fn),gn}:pn&&(un[dn]=pn):dn==="style"?un[dn]={...pn,...mn}:dn==="className"&&(un[dn]=[pn,mn].filter(Boolean).join(" "))}return{...tn,...un}}function getElementRef$1(tn){var dn,pn;let sn=(dn=Object.getOwnPropertyDescriptor(tn.props,"ref"))==null?void 0:dn.get,un=sn&&"isReactWarning"in sn&&sn.isReactWarning;return un?tn.ref:(sn=(pn=Object.getOwnPropertyDescriptor(tn,"ref"))==null?void 0:pn.get,un=sn&&"isReactWarning"in sn&&sn.isReactWarning,un?tn.props.ref:tn.props.ref||tn.ref)}function createCollection(tn){const sn=tn+"CollectionProvider",[un,dn]=createContextScope(sn),[pn,mn]=un(sn,{collectionRef:{current:null},itemMap:new Map}),hn=Sn=>{const{scope:Rn,children:_n}=Sn,jn=React$1.useRef(null),Cn=React$1.useRef(new Map).current;return jsxRuntimeExports.jsx(pn,{scope:Rn,itemMap:Cn,collectionRef:jn,children:_n})};hn.displayName=sn;const fn=tn+"CollectionSlot",gn=createSlot(fn),xn=React$1.forwardRef((Sn,Rn)=>{const{scope:_n,children:jn}=Sn,Cn=mn(fn,_n),An=useComposedRefs(Rn,Cn.collectionRef);return jsxRuntimeExports.jsx(gn,{ref:An,children:jn})});xn.displayName=fn;const yn=tn+"CollectionItemSlot",vn="data-radix-collection-item",En=createSlot(yn),bn=React$1.forwardRef((Sn,Rn)=>{const{scope:_n,children:jn,...Cn}=Sn,An=React$1.useRef(null),Tn=useComposedRefs(Rn,An),$n=mn(yn,_n);return React$1.useEffect(()=>($n.itemMap.set(An,{ref:An,...Cn}),()=>void $n.itemMap.delete(An))),jsxRuntimeExports.jsx(En,{[vn]:"",ref:Tn,children:jn})});bn.displayName=yn;function wn(Sn){const Rn=mn(tn+"CollectionConsumer",Sn);return React$1.useCallback(()=>{const jn=Rn.collectionRef.current;if(!jn)return[];const Cn=Array.from(jn.querySelectorAll(`[${vn}]`));return Array.from(Rn.itemMap.values()).sort(($n,Dn)=>Cn.indexOf($n.ref.current)-Cn.indexOf(Dn.ref.current))},[Rn.collectionRef,Rn.itemMap])}return[{Provider:hn,Slot:xn,ItemSlot:bn},wn,dn]}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((tn,sn)=>{const un=createSlot(`Primitive.${sn}`),dn=reactExports.forwardRef((pn,mn)=>{const{asChild:hn,...fn}=pn,gn=hn?un:sn;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(gn,{...fn,ref:mn})});return dn.displayName=`Primitive.${sn}`,{...tn,[sn]:dn}},{});function dispatchDiscreteCustomEvent(tn,sn){tn&&reactDomExports.flushSync(()=>tn.dispatchEvent(sn))}function useCallbackRef$1(tn){const sn=reactExports.useRef(tn);return reactExports.useEffect(()=>{sn.current=tn}),reactExports.useMemo(()=>(...un)=>{var dn;return(dn=sn.current)==null?void 0:dn.call(sn,...un)},[])}function useEscapeKeydown(tn,sn=globalThis==null?void 0:globalThis.document){const un=useCallbackRef$1(tn);reactExports.useEffect(()=>{const dn=pn=>{pn.key==="Escape"&&un(pn)};return sn.addEventListener("keydown",dn,{capture:!0}),()=>sn.removeEventListener("keydown",dn,{capture:!0})},[un,sn])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((tn,sn)=>{const{disableOutsidePointerEvents:un=!1,onEscapeKeyDown:dn,onPointerDownOutside:pn,onFocusOutside:mn,onInteractOutside:hn,onDismiss:fn,...gn}=tn,xn=reactExports.useContext(DismissableLayerContext),[yn,vn]=reactExports.useState(null),En=(yn==null?void 0:yn.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,bn]=reactExports.useState({}),wn=useComposedRefs(sn,Dn=>vn(Dn)),Sn=Array.from(xn.layers),[Rn]=[...xn.layersWithOutsidePointerEventsDisabled].slice(-1),_n=Sn.indexOf(Rn),jn=yn?Sn.indexOf(yn):-1,Cn=xn.layersWithOutsidePointerEventsDisabled.size>0,An=jn>=_n,Tn=usePointerDownOutside(Dn=>{const Nn=Dn.target,kn=[...xn.branches].some(Pn=>Pn.contains(Nn));!An||kn||(pn==null||pn(Dn),hn==null||hn(Dn),Dn.defaultPrevented||fn==null||fn())},En),$n=useFocusOutside(Dn=>{const Nn=Dn.target;[...xn.branches].some(Pn=>Pn.contains(Nn))||(mn==null||mn(Dn),hn==null||hn(Dn),Dn.defaultPrevented||fn==null||fn())},En);return useEscapeKeydown(Dn=>{jn===xn.layers.size-1&&(dn==null||dn(Dn),!Dn.defaultPrevented&&fn&&(Dn.preventDefault(),fn()))},En),reactExports.useEffect(()=>{if(yn)return un&&(xn.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=En.body.style.pointerEvents,En.body.style.pointerEvents="none"),xn.layersWithOutsidePointerEventsDisabled.add(yn)),xn.layers.add(yn),dispatchUpdate(),()=>{un&&xn.layersWithOutsidePointerEventsDisabled.size===1&&(En.body.style.pointerEvents=originalBodyPointerEvents)}},[yn,En,un,xn]),reactExports.useEffect(()=>()=>{yn&&(xn.layers.delete(yn),xn.layersWithOutsidePointerEventsDisabled.delete(yn),dispatchUpdate())},[yn,xn]),reactExports.useEffect(()=>{const Dn=()=>bn({});return document.addEventListener(CONTEXT_UPDATE,Dn),()=>document.removeEventListener(CONTEXT_UPDATE,Dn)},[]),jsxRuntimeExports.jsx(Primitive.div,{...gn,ref:wn,style:{pointerEvents:Cn?An?"auto":"none":void 0,...tn.style},onFocusCapture:composeEventHandlers$1(tn.onFocusCapture,$n.onFocusCapture),onBlurCapture:composeEventHandlers$1(tn.onBlurCapture,$n.onBlurCapture),onPointerDownCapture:composeEventHandlers$1(tn.onPointerDownCapture,Tn.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((tn,sn)=>{const un=reactExports.useContext(DismissableLayerContext),dn=reactExports.useRef(null),pn=useComposedRefs(sn,dn);return reactExports.useEffect(()=>{const mn=dn.current;if(mn)return un.branches.add(mn),()=>{un.branches.delete(mn)}},[un.branches]),jsxRuntimeExports.jsx(Primitive.div,{...tn,ref:pn})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(tn,sn=globalThis==null?void 0:globalThis.document){const un=useCallbackRef$1(tn),dn=reactExports.useRef(!1),pn=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const mn=fn=>{if(fn.target&&!dn.current){let gn=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,un,xn,{discrete:!0})};const xn={originalEvent:fn};fn.pointerType==="touch"?(sn.removeEventListener("click",pn.current),pn.current=gn,sn.addEventListener("click",pn.current,{once:!0})):gn()}else sn.removeEventListener("click",pn.current);dn.current=!1},hn=window.setTimeout(()=>{sn.addEventListener("pointerdown",mn)},0);return()=>{window.clearTimeout(hn),sn.removeEventListener("pointerdown",mn),sn.removeEventListener("click",pn.current)}},[sn,un]),{onPointerDownCapture:()=>dn.current=!0}}function useFocusOutside(tn,sn=globalThis==null?void 0:globalThis.document){const un=useCallbackRef$1(tn),dn=reactExports.useRef(!1);return reactExports.useEffect(()=>{const pn=mn=>{mn.target&&!dn.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,un,{originalEvent:mn},{discrete:!1})};return sn.addEventListener("focusin",pn),()=>sn.removeEventListener("focusin",pn)},[sn,un]),{onFocusCapture:()=>dn.current=!0,onBlurCapture:()=>dn.current=!1}}function dispatchUpdate(){const tn=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(tn)}function handleAndDispatchCustomEvent$1(tn,sn,un,{discrete:dn}){const pn=un.originalEvent.target,mn=new CustomEvent(tn,{bubbles:!1,cancelable:!0,detail:un});sn&&pn.addEventListener(tn,sn,{once:!0}),dn?dispatchDiscreteCustomEvent(pn,mn):pn.dispatchEvent(mn)}var Root$a=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$5="Portal",Portal$4=reactExports.forwardRef((tn,sn)=>{var fn;const{container:un,...dn}=tn,[pn,mn]=reactExports.useState(!1);useLayoutEffect2(()=>mn(!0),[]);const hn=un||pn&&((fn=globalThis==null?void 0:globalThis.document)==null?void 0:fn.body);return hn?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...dn,ref:sn}),hn):null});Portal$4.displayName=PORTAL_NAME$5;function useStateMachine$1(tn,sn){return reactExports.useReducer((un,dn)=>sn[un][dn]??un,tn)}var Presence=tn=>{const{present:sn,children:un}=tn,dn=usePresence$1(sn),pn=typeof un=="function"?un({present:dn.isPresent}):reactExports.Children.only(un),mn=useComposedRefs(dn.ref,getElementRef(pn));return typeof un=="function"||dn.isPresent?reactExports.cloneElement(pn,{ref:mn}):null};Presence.displayName="Presence";function usePresence$1(tn){const[sn,un]=reactExports.useState(),dn=reactExports.useRef(null),pn=reactExports.useRef(tn),mn=reactExports.useRef("none"),hn=tn?"mounted":"unmounted",[fn,gn]=useStateMachine$1(hn,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const xn=getAnimationName(dn.current);mn.current=fn==="mounted"?xn:"none"},[fn]),useLayoutEffect2(()=>{const xn=dn.current,yn=pn.current;if(yn!==tn){const En=mn.current,bn=getAnimationName(xn);tn?gn("MOUNT"):bn==="none"||(xn==null?void 0:xn.display)==="none"?gn("UNMOUNT"):gn(yn&&En!==bn?"ANIMATION_OUT":"UNMOUNT"),pn.current=tn}},[tn,gn]),useLayoutEffect2(()=>{if(sn){let xn;const yn=sn.ownerDocument.defaultView??window,vn=bn=>{const Sn=getAnimationName(dn.current).includes(bn.animationName);if(bn.target===sn&&Sn&&(gn("ANIMATION_END"),!pn.current)){const Rn=sn.style.animationFillMode;sn.style.animationFillMode="forwards",xn=yn.setTimeout(()=>{sn.style.animationFillMode==="forwards"&&(sn.style.animationFillMode=Rn)})}},En=bn=>{bn.target===sn&&(mn.current=getAnimationName(dn.current))};return sn.addEventListener("animationstart",En),sn.addEventListener("animationcancel",vn),sn.addEventListener("animationend",vn),()=>{yn.clearTimeout(xn),sn.removeEventListener("animationstart",En),sn.removeEventListener("animationcancel",vn),sn.removeEventListener("animationend",vn)}}else gn("ANIMATION_END")},[sn,gn]),{isPresent:["mounted","unmountSuspended"].includes(fn),ref:reactExports.useCallback(xn=>{dn.current=xn?getComputedStyle(xn):null,un(xn)},[])}}function getAnimationName(tn){return(tn==null?void 0:tn.animationName)||"none"}function getElementRef(tn){var dn,pn;let sn=(dn=Object.getOwnPropertyDescriptor(tn.props,"ref"))==null?void 0:dn.get,un=sn&&"isReactWarning"in sn&&sn.isReactWarning;return un?tn.ref:(sn=(pn=Object.getOwnPropertyDescriptor(tn,"ref"))==null?void 0:pn.get,un=sn&&"isReactWarning"in sn&&sn.isReactWarning,un?tn.props.ref:tn.props.ref||tn.ref)}var useInsertionEffect=React$2[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:tn,defaultProp:sn,onChange:un=()=>{},caller:dn}){const[pn,mn,hn]=useUncontrolledState({defaultProp:sn,onChange:un}),fn=tn!==void 0,gn=fn?tn:pn;{const yn=reactExports.useRef(tn!==void 0);reactExports.useEffect(()=>{const vn=yn.current;vn!==fn&&console.warn(`${dn} is changing from ${vn?"controlled":"uncontrolled"} to ${fn?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),yn.current=fn},[fn,dn])}const xn=reactExports.useCallback(yn=>{var vn;if(fn){const En=isFunction$7(yn)?yn(tn):yn;En!==tn&&((vn=hn.current)==null||vn.call(hn,En))}else mn(yn)},[fn,tn,mn,hn]);return[gn,xn]}function useUncontrolledState({defaultProp:tn,onChange:sn}){const[un,dn]=reactExports.useState(tn),pn=reactExports.useRef(un),mn=reactExports.useRef(sn);return useInsertionEffect(()=>{mn.current=sn},[sn]),reactExports.useEffect(()=>{var hn;pn.current!==un&&((hn=mn.current)==null||hn.call(mn,un),pn.current=un)},[un,pn]),[un,dn,mn]}function isFunction$7(tn){return typeof tn=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$3="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((tn,sn)=>jsxRuntimeExports.jsx(Primitive.span,{...tn,ref:sn,style:{...VISUALLY_HIDDEN_STYLES,...tn.style}}));VisuallyHidden.displayName=NAME$3;var Root$9=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope$3]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=tn=>{const{__scopeToast:sn,label:un="Notification",duration:dn=5e3,swipeDirection:pn="right",swipeThreshold:mn=50,children:hn}=tn,[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(0),vn=reactExports.useRef(!1),En=reactExports.useRef(!1);return un.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$3.Provider,{scope:sn,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:sn,label:un,duration:dn,swipeDirection:pn,swipeThreshold:mn,toastCount:xn,viewport:fn,onViewportChange:gn,onToastAdd:reactExports.useCallback(()=>yn(bn=>bn+1),[]),onToastRemove:reactExports.useCallback(()=>yn(bn=>bn-1),[]),isFocusedToastEscapeKeyDownRef:vn,isClosePausedRef:En,children:hn})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME$2="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,hotkey:dn=VIEWPORT_DEFAULT_HOTKEY,label:pn="Notifications ({hotkey})",...mn}=tn,hn=useToastProviderContext(VIEWPORT_NAME$2,un),fn=useCollection$3(un),gn=reactExports.useRef(null),xn=reactExports.useRef(null),yn=reactExports.useRef(null),vn=reactExports.useRef(null),En=useComposedRefs(sn,vn,hn.onViewportChange),bn=dn.join("+").replace(/Key/g,"").replace(/Digit/g,""),wn=hn.toastCount>0;reactExports.useEffect(()=>{const Rn=_n=>{var Cn;dn.length!==0&&dn.every(An=>_n[An]||_n.code===An)&&((Cn=vn.current)==null||Cn.focus())};return document.addEventListener("keydown",Rn),()=>document.removeEventListener("keydown",Rn)},[dn]),reactExports.useEffect(()=>{const Rn=gn.current,_n=vn.current;if(wn&&Rn&&_n){const jn=()=>{if(!hn.isClosePausedRef.current){const $n=new CustomEvent(VIEWPORT_PAUSE);_n.dispatchEvent($n),hn.isClosePausedRef.current=!0}},Cn=()=>{if(hn.isClosePausedRef.current){const $n=new CustomEvent(VIEWPORT_RESUME);_n.dispatchEvent($n),hn.isClosePausedRef.current=!1}},An=$n=>{!Rn.contains($n.relatedTarget)&&Cn()},Tn=()=>{Rn.contains(document.activeElement)||Cn()};return Rn.addEventListener("focusin",jn),Rn.addEventListener("focusout",An),Rn.addEventListener("pointermove",jn),Rn.addEventListener("pointerleave",Tn),window.addEventListener("blur",jn),window.addEventListener("focus",Cn),()=>{Rn.removeEventListener("focusin",jn),Rn.removeEventListener("focusout",An),Rn.removeEventListener("pointermove",jn),Rn.removeEventListener("pointerleave",Tn),window.removeEventListener("blur",jn),window.removeEventListener("focus",Cn)}}},[wn,hn.isClosePausedRef]);const Sn=reactExports.useCallback(({tabbingDirection:Rn})=>{const jn=fn().map(Cn=>{const An=Cn.ref.current,Tn=[An,...getTabbableCandidates$1(An)];return Rn==="forwards"?Tn:Tn.reverse()});return(Rn==="forwards"?jn.reverse():jn).flat()},[fn]);return reactExports.useEffect(()=>{const Rn=vn.current;if(Rn){const _n=jn=>{var Tn,$n,Dn;const Cn=jn.altKey||jn.ctrlKey||jn.metaKey;if(jn.key==="Tab"&&!Cn){const Nn=document.activeElement,kn=jn.shiftKey;if(jn.target===Rn&&kn){(Tn=xn.current)==null||Tn.focus();return}const On=Sn({tabbingDirection:kn?"backwards":"forwards"}),Wn=On.findIndex(In=>In===Nn);focusFirst$3(On.slice(Wn+1))?jn.preventDefault():kn?($n=xn.current)==null||$n.focus():(Dn=yn.current)==null||Dn.focus()}};return Rn.addEventListener("keydown",_n),()=>Rn.removeEventListener("keydown",_n)}},[fn,Sn]),jsxRuntimeExports.jsxs(Branch,{ref:gn,role:"region","aria-label":pn.replace("{hotkey}",bn),tabIndex:-1,style:{pointerEvents:wn?void 0:"none"},children:[wn&&jsxRuntimeExports.jsx(FocusProxy,{ref:xn,onFocusFromOutsideViewport:()=>{const Rn=Sn({tabbingDirection:"forwards"});focusFirst$3(Rn)}}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:un,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...mn,ref:En})}),wn&&jsxRuntimeExports.jsx(FocusProxy,{ref:yn,onFocusFromOutsideViewport:()=>{const Rn=Sn({tabbingDirection:"backwards"});focusFirst$3(Rn)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME$2;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,onFocusFromOutsideViewport:dn,...pn}=tn,mn=useToastProviderContext(FOCUS_PROXY_NAME,un);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...pn,ref:sn,style:{position:"fixed"},onFocus:hn=>{var xn;const fn=hn.relatedTarget;!((xn=mn.viewport)!=null&&xn.contains(fn))&&dn()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((tn,sn)=>{const{forceMount:un,open:dn,defaultOpen:pn,onOpenChange:mn,...hn}=tn,[fn,gn]=useControllableState({prop:dn,defaultProp:pn??!0,onChange:mn,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:un||fn,children:jsxRuntimeExports.jsx(ToastImpl,{open:fn,...hn,ref:sn,onClose:()=>gn(!1),onPause:useCallbackRef$1(tn.onPause),onResume:useCallbackRef$1(tn.onResume),onSwipeStart:composeEventHandlers$1(tn.onSwipeStart,xn=>{xn.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers$1(tn.onSwipeMove,xn=>{const{x:yn,y:vn}=xn.detail.delta;xn.currentTarget.setAttribute("data-swipe","move"),xn.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${yn}px`),xn.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${vn}px`)}),onSwipeCancel:composeEventHandlers$1(tn.onSwipeCancel,xn=>{xn.currentTarget.setAttribute("data-swipe","cancel"),xn.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),xn.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),xn.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),xn.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers$1(tn.onSwipeEnd,xn=>{const{x:yn,y:vn}=xn.detail.delta;xn.currentTarget.setAttribute("data-swipe","end"),xn.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),xn.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),xn.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${yn}px`),xn.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${vn}px`),gn(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,type:dn="foreground",duration:pn,open:mn,onClose:hn,onEscapeKeyDown:fn,onPause:gn,onResume:xn,onSwipeStart:yn,onSwipeMove:vn,onSwipeCancel:En,onSwipeEnd:bn,...wn}=tn,Sn=useToastProviderContext(TOAST_NAME,un),[Rn,_n]=reactExports.useState(null),jn=useComposedRefs(sn,In=>_n(In)),Cn=reactExports.useRef(null),An=reactExports.useRef(null),Tn=pn||Sn.duration,$n=reactExports.useRef(0),Dn=reactExports.useRef(Tn),Nn=reactExports.useRef(0),{onToastAdd:kn,onToastRemove:Pn}=Sn,Mn=useCallbackRef$1(()=>{var Un;(Rn==null?void 0:Rn.contains(document.activeElement))&&((Un=Sn.viewport)==null||Un.focus()),hn()}),On=reactExports.useCallback(In=>{!In||In===1/0||(window.clearTimeout(Nn.current),$n.current=new Date().getTime(),Nn.current=window.setTimeout(Mn,In))},[Mn]);reactExports.useEffect(()=>{const In=Sn.viewport;if(In){const Un=()=>{On(Dn.current),xn==null||xn()},Vn=()=>{const Hn=new Date().getTime()-$n.current;Dn.current=Dn.current-Hn,window.clearTimeout(Nn.current),gn==null||gn()};return In.addEventListener(VIEWPORT_PAUSE,Vn),In.addEventListener(VIEWPORT_RESUME,Un),()=>{In.removeEventListener(VIEWPORT_PAUSE,Vn),In.removeEventListener(VIEWPORT_RESUME,Un)}}},[Sn.viewport,Tn,gn,xn,On]),reactExports.useEffect(()=>{mn&&!Sn.isClosePausedRef.current&&On(Tn)},[mn,Tn,Sn.isClosePausedRef,On]),reactExports.useEffect(()=>(kn(),()=>Pn()),[kn,Pn]);const Wn=reactExports.useMemo(()=>Rn?getAnnounceTextContent(Rn):null,[Rn]);return Sn.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Wn&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:un,role:"status","aria-live":dn==="foreground"?"assertive":"polite","aria-atomic":!0,children:Wn}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:un,onClose:Mn,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:un,children:jsxRuntimeExports.jsx(Root$a,{asChild:!0,onEscapeKeyDown:composeEventHandlers$1(fn,()=>{Sn.isFocusedToastEscapeKeyDownRef.current||Mn(),Sn.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":mn?"open":"closed","data-swipe-direction":Sn.swipeDirection,...wn,ref:jn,style:{userSelect:"none",touchAction:"none",...tn.style},onKeyDown:composeEventHandlers$1(tn.onKeyDown,In=>{In.key==="Escape"&&(fn==null||fn(In.nativeEvent),In.nativeEvent.defaultPrevented||(Sn.isFocusedToastEscapeKeyDownRef.current=!0,Mn()))}),onPointerDown:composeEventHandlers$1(tn.onPointerDown,In=>{In.button===0&&(Cn.current={x:In.clientX,y:In.clientY})}),onPointerMove:composeEventHandlers$1(tn.onPointerMove,In=>{if(!Cn.current)return;const Un=In.clientX-Cn.current.x,Vn=In.clientY-Cn.current.y,Hn=!!An.current,Ln=["left","right"].includes(Sn.swipeDirection),zn=["left","up"].includes(Sn.swipeDirection)?Math.min:Math.max,Bn=Ln?zn(0,Un):0,Fn=Ln?0:zn(0,Vn),Gn=In.pointerType==="touch"?10:2,qn={x:Bn,y:Fn},Jn={originalEvent:In,delta:qn};Hn?(An.current=qn,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,vn,Jn,{discrete:!1})):isDeltaInDirection(qn,Sn.swipeDirection,Gn)?(An.current=qn,handleAndDispatchCustomEvent(TOAST_SWIPE_START,yn,Jn,{discrete:!1}),In.target.setPointerCapture(In.pointerId)):(Math.abs(Un)>Gn||Math.abs(Vn)>Gn)&&(Cn.current=null)}),onPointerUp:composeEventHandlers$1(tn.onPointerUp,In=>{const Un=An.current,Vn=In.target;if(Vn.hasPointerCapture(In.pointerId)&&Vn.releasePointerCapture(In.pointerId),An.current=null,Cn.current=null,Un){const Hn=In.currentTarget,Ln={originalEvent:In,delta:Un};isDeltaInDirection(Un,Sn.swipeDirection,Sn.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,bn,Ln,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,En,Ln,{discrete:!0}),Hn.addEventListener("click",zn=>zn.preventDefault(),{once:!0})}})})})}),Sn.viewport)})]}):null}),ToastAnnounce=tn=>{const{__scopeToast:sn,children:un,...dn}=tn,pn=useToastProviderContext(TOAST_NAME,sn),[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(!1);return useNextFrame(()=>hn(!0)),reactExports.useEffect(()=>{const xn=window.setTimeout(()=>gn(!0),1e3);return()=>window.clearTimeout(xn)},[]),fn?null:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...dn,children:mn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[pn.label," ",un]})})})},TITLE_NAME$1="ToastTitle",ToastTitle$1=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,...dn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{...dn,ref:sn})});ToastTitle$1.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="ToastDescription",ToastDescription$1=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,...dn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{...dn,ref:sn})});ToastDescription$1.displayName=DESCRIPTION_NAME$1;var ACTION_NAME="ToastAction",ToastAction$1=reactExports.forwardRef((tn,sn)=>{const{altText:un,...dn}=tn;return un.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:un,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...dn,ref:sn})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME;var CLOSE_NAME$1="ToastClose",ToastClose$1=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,...dn}=tn,pn=useToastInteractiveContext(CLOSE_NAME$1,un);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...dn,ref:sn,onClick:composeEventHandlers$1(tn.onClick,pn.onClose)})})});ToastClose$1.displayName=CLOSE_NAME$1;var ToastAnnounceExclude=reactExports.forwardRef((tn,sn)=>{const{__scopeToast:un,altText:dn,...pn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":dn||void 0,...pn,ref:sn})});function getAnnounceTextContent(tn){const sn=[];return Array.from(tn.childNodes).forEach(dn=>{if(dn.nodeType===dn.TEXT_NODE&&dn.textContent&&sn.push(dn.textContent),isHTMLElement$3(dn)){const pn=dn.ariaHidden||dn.hidden||dn.style.display==="none",mn=dn.dataset.radixToastAnnounceExclude==="";if(!pn)if(mn){const hn=dn.dataset.radixToastAnnounceAlt;hn&&sn.push(hn)}else sn.push(...getAnnounceTextContent(dn))}}),sn}function handleAndDispatchCustomEvent(tn,sn,un,{discrete:dn}){const pn=un.originalEvent.currentTarget,mn=new CustomEvent(tn,{bubbles:!0,cancelable:!0,detail:un});sn&&pn.addEventListener(tn,sn,{once:!0}),dn?dispatchDiscreteCustomEvent(pn,mn):pn.dispatchEvent(mn)}var isDeltaInDirection=(tn,sn,un=0)=>{const dn=Math.abs(tn.x),pn=Math.abs(tn.y),mn=dn>pn;return sn==="left"||sn==="right"?mn&&dn>un:!mn&&pn>un};function useNextFrame(tn=()=>{}){const sn=useCallbackRef$1(tn);useLayoutEffect2(()=>{let un=0,dn=0;return un=window.requestAnimationFrame(()=>dn=window.requestAnimationFrame(sn)),()=>{window.cancelAnimationFrame(un),window.cancelAnimationFrame(dn)}},[sn])}function isHTMLElement$3(tn){return tn.nodeType===tn.ELEMENT_NODE}function getTabbableCandidates$1(tn){const sn=[],un=document.createTreeWalker(tn,NodeFilter.SHOW_ELEMENT,{acceptNode:dn=>{const pn=dn.tagName==="INPUT"&&dn.type==="hidden";return dn.disabled||dn.hidden||pn?NodeFilter.FILTER_SKIP:dn.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;un.nextNode();)sn.push(un.currentNode);return sn}function focusFirst$3(tn){const sn=document.activeElement;return tn.some(un=>un===sn?!0:(un.focus(),document.activeElement!==sn))}var Provider$1=ToastProvider$1,Viewport$2=ToastViewport$1,Root2$4=Toast$1,Title$1=ToastTitle$1,Description$1=ToastDescription$1,Action=ToastAction$1,Close$d=ToastClose$1;function r$1(tn){var sn,un,dn="";if(typeof tn=="string"||typeof tn=="number")dn+=tn;else if(typeof tn=="object")if(Array.isArray(tn)){var pn=tn.length;for(sn=0;sn<pn;sn++)tn[sn]&&(un=r$1(tn[sn]))&&(dn&&(dn+=" "),dn+=un)}else for(un in tn)tn[un]&&(dn&&(dn+=" "),dn+=un);return dn}function clsx(){for(var tn,sn,un=0,dn="",pn=arguments.length;un<pn;un++)(tn=arguments[un])&&(sn=r$1(tn))&&(dn&&(dn+=" "),dn+=sn);return dn}const falsyToString=tn=>typeof tn=="boolean"?`${tn}`:tn===0?"0":tn,cx=clsx,cva=(tn,sn)=>un=>{var dn;if((sn==null?void 0:sn.variants)==null)return cx(tn,un==null?void 0:un.class,un==null?void 0:un.className);const{variants:pn,defaultVariants:mn}=sn,hn=Object.keys(pn).map(xn=>{const yn=un==null?void 0:un[xn],vn=mn==null?void 0:mn[xn];if(yn===null)return null;const En=falsyToString(yn)||falsyToString(vn);return pn[xn][En]}),fn=un&&Object.entries(un).reduce((xn,yn)=>{let[vn,En]=yn;return En===void 0||(xn[vn]=En),xn},{}),gn=sn==null||(dn=sn.compoundVariants)===null||dn===void 0?void 0:dn.reduce((xn,yn)=>{let{class:vn,className:En,...bn}=yn;return Object.entries(bn).every(wn=>{let[Sn,Rn]=wn;return Array.isArray(Rn)?Rn.includes({...mn,...fn}[Sn]):{...mn,...fn}[Sn]===Rn})?[...xn,vn,En]:xn},[]);return cx(tn,hn,gn,un==null?void 0:un.class,un==null?void 0:un.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=tn=>tn.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...tn)=>tn.filter((sn,un,dn)=>!!sn&&dn.indexOf(sn)===un).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$3=reactExports.forwardRef(({color:tn="currentColor",size:sn=24,strokeWidth:un=2,absoluteStrokeWidth:dn,className:pn="",children:mn,iconNode:hn,...fn},gn)=>reactExports.createElement("svg",{ref:gn,...defaultAttributes,width:sn,height:sn,stroke:tn,strokeWidth:dn?Number(un)*24/Number(sn):un,className:mergeClasses("lucide",pn),...fn},[...hn.map(([xn,yn])=>reactExports.createElement(xn,yn)),...Array.isArray(mn)?mn:[mn]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(tn,sn)=>{const un=reactExports.forwardRef(({className:dn,...pn},mn)=>reactExports.createElement(Icon$3,{ref:mn,iconNode:sn,className:mergeClasses(`lucide-${toKebabCase(tn)}`,dn),...pn}));return un.displayName=`${tn}`,un};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Archive$c=createLucideIcon("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bug=createLucideIcon("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calculator=createLucideIcon("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Car=createLucideIcon("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartLine=createLucideIcon("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartPie=createLucideIcon("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleHelp=createLucideIcon("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ClipboardList=createLucideIcon("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coffee=createLucideIcon("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crown=createLucideIcon("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ellipsis=createLucideIcon("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileCheck=createLucideIcon("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileSpreadsheet=createLucideIcon("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FolderOpen=createLucideIcon("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Forward=createLucideIcon("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash$2=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const House=createLucideIcon("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Inbox$1=createLucideIcon("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Link=createLucideIcon("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListTodo=createLucideIcon("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Megaphone=createLucideIcon("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu$d=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MousePointer=createLucideIcon("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Paperclip=createLucideIcon("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ReplyAll=createLucideIcon("ReplyAll",[["polyline",{points:"7 17 2 12 7 7",key:"t83bqg"}],["polyline",{points:"12 17 7 12 12 7",key:"1g4ajm"}],["path",{d:"M22 18v-2a4 4 0 0 0-4-4H7",key:"1fcyog"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Reply$c=createLucideIcon("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sandwich=createLucideIcon("Sandwich",[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777",key:"f1wd0e"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25",key:"1pfu07"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9",key:"1oq9qw"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"1fnwu5"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1",key:"itshg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scale=createLucideIcon("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scan=createLucideIcon("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search$c=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send$c=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sheet=createLucideIcon("Sheet",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquareCheckBig=createLucideIcon("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Square=createLucideIcon("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const StarOff=createLucideIcon("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ThumbsUp=createLucideIcon("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCog=createLucideIcon("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Video=createLucideIcon("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wrench=createLucideIcon("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=tn=>{const sn=createClassMap(tn),{conflictingClassGroups:un,conflictingClassGroupModifiers:dn}=tn;return{getClassGroupId:hn=>{const fn=hn.split(CLASS_PART_SEPARATOR);return fn[0]===""&&fn.length!==1&&fn.shift(),getGroupRecursive(fn,sn)||getGroupIdForArbitraryProperty(hn)},getConflictingClassGroupIds:(hn,fn)=>{const gn=un[hn]||[];return fn&&dn[hn]?[...gn,...dn[hn]]:gn}}},getGroupRecursive=(tn,sn)=>{var hn;if(tn.length===0)return sn.classGroupId;const un=tn[0],dn=sn.nextPart.get(un),pn=dn?getGroupRecursive(tn.slice(1),dn):void 0;if(pn)return pn;if(sn.validators.length===0)return;const mn=tn.join(CLASS_PART_SEPARATOR);return(hn=sn.validators.find(({validator:fn})=>fn(mn)))==null?void 0:hn.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=tn=>{if(arbitraryPropertyRegex.test(tn)){const sn=arbitraryPropertyRegex.exec(tn)[1],un=sn==null?void 0:sn.substring(0,sn.indexOf(":"));if(un)return"arbitrary.."+un}},createClassMap=tn=>{const{theme:sn,prefix:un}=tn,dn={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(tn.classGroups),un).forEach(([mn,hn])=>{processClassesRecursively(hn,dn,mn,sn)}),dn},processClassesRecursively=(tn,sn,un,dn)=>{tn.forEach(pn=>{if(typeof pn=="string"){const mn=pn===""?sn:getPart(sn,pn);mn.classGroupId=un;return}if(typeof pn=="function"){if(isThemeGetter(pn)){processClassesRecursively(pn(dn),sn,un,dn);return}sn.validators.push({validator:pn,classGroupId:un});return}Object.entries(pn).forEach(([mn,hn])=>{processClassesRecursively(hn,getPart(sn,mn),un,dn)})})},getPart=(tn,sn)=>{let un=tn;return sn.split(CLASS_PART_SEPARATOR).forEach(dn=>{un.nextPart.has(dn)||un.nextPart.set(dn,{nextPart:new Map,validators:[]}),un=un.nextPart.get(dn)}),un},isThemeGetter=tn=>tn.isThemeGetter,getPrefixedClassGroupEntries=(tn,sn)=>sn?tn.map(([un,dn])=>{const pn=dn.map(mn=>typeof mn=="string"?sn+mn:typeof mn=="object"?Object.fromEntries(Object.entries(mn).map(([hn,fn])=>[sn+hn,fn])):mn);return[un,pn]}):tn,createLruCache=tn=>{if(tn<1)return{get:()=>{},set:()=>{}};let sn=0,un=new Map,dn=new Map;const pn=(mn,hn)=>{un.set(mn,hn),sn++,sn>tn&&(sn=0,dn=un,un=new Map)};return{get(mn){let hn=un.get(mn);if(hn!==void 0)return hn;if((hn=dn.get(mn))!==void 0)return pn(mn,hn),hn},set(mn,hn){un.has(mn)?un.set(mn,hn):pn(mn,hn)}}},IMPORTANT_MODIFIER="!",createParseClassName=tn=>{const{separator:sn,experimentalParseClassName:un}=tn,dn=sn.length===1,pn=sn[0],mn=sn.length,hn=fn=>{const gn=[];let xn=0,yn=0,vn;for(let Rn=0;Rn<fn.length;Rn++){let _n=fn[Rn];if(xn===0){if(_n===pn&&(dn||fn.slice(Rn,Rn+mn)===sn)){gn.push(fn.slice(yn,Rn)),yn=Rn+mn;continue}if(_n==="/"){vn=Rn;continue}}_n==="["?xn++:_n==="]"&&xn--}const En=gn.length===0?fn:fn.substring(yn),bn=En.startsWith(IMPORTANT_MODIFIER),wn=bn?En.substring(1):En,Sn=vn&&vn>yn?vn-yn:void 0;return{modifiers:gn,hasImportantModifier:bn,baseClassName:wn,maybePostfixModifierPosition:Sn}};return un?fn=>un({className:fn,parseClassName:hn}):hn},sortModifiers=tn=>{if(tn.length<=1)return tn;const sn=[];let un=[];return tn.forEach(dn=>{dn[0]==="["?(sn.push(...un.sort(),dn),un=[]):un.push(dn)}),sn.push(...un.sort()),sn},createConfigUtils=tn=>({cache:createLruCache(tn.cacheSize),parseClassName:createParseClassName(tn),...createClassGroupUtils(tn)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(tn,sn)=>{const{parseClassName:un,getClassGroupId:dn,getConflictingClassGroupIds:pn}=sn,mn=[],hn=tn.trim().split(SPLIT_CLASSES_REGEX);let fn="";for(let gn=hn.length-1;gn>=0;gn-=1){const xn=hn[gn],{modifiers:yn,hasImportantModifier:vn,baseClassName:En,maybePostfixModifierPosition:bn}=un(xn);let wn=!!bn,Sn=dn(wn?En.substring(0,bn):En);if(!Sn){if(!wn){fn=xn+(fn.length>0?" "+fn:fn);continue}if(Sn=dn(En),!Sn){fn=xn+(fn.length>0?" "+fn:fn);continue}wn=!1}const Rn=sortModifiers(yn).join(":"),_n=vn?Rn+IMPORTANT_MODIFIER:Rn,jn=_n+Sn;if(mn.includes(jn))continue;mn.push(jn);const Cn=pn(Sn,wn);for(let An=0;An<Cn.length;++An){const Tn=Cn[An];mn.push(_n+Tn)}fn=xn+(fn.length>0?" "+fn:fn)}return fn};function twJoin(){let tn=0,sn,un,dn="";for(;tn<arguments.length;)(sn=arguments[tn++])&&(un=toValue(sn))&&(dn&&(dn+=" "),dn+=un);return dn}const toValue=tn=>{if(typeof tn=="string")return tn;let sn,un="";for(let dn=0;dn<tn.length;dn++)tn[dn]&&(sn=toValue(tn[dn]))&&(un&&(un+=" "),un+=sn);return un};function createTailwindMerge(tn,...sn){let un,dn,pn,mn=hn;function hn(gn){const xn=sn.reduce((yn,vn)=>vn(yn),tn());return un=createConfigUtils(xn),dn=un.cache.get,pn=un.cache.set,mn=fn,fn(gn)}function fn(gn){const xn=dn(gn);if(xn)return xn;const yn=mergeClassList(gn,un);return pn(gn,yn),yn}return function(){return mn(twJoin.apply(null,arguments))}}const fromTheme=tn=>{const sn=un=>un[tn]||[];return sn.isThemeGetter=!0,sn},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength$4=tn=>isNumber$6(tn)||stringLengths.has(tn)||fractionRegex.test(tn),isArbitraryLength=tn=>getIsArbitraryValue(tn,"length",isLengthOnly),isNumber$6=tn=>!!tn&&!Number.isNaN(Number(tn)),isArbitraryNumber=tn=>getIsArbitraryValue(tn,"number",isNumber$6),isInteger=tn=>!!tn&&Number.isInteger(Number(tn)),isPercent$1=tn=>tn.endsWith("%")&&isNumber$6(tn.slice(0,-1)),isArbitraryValue=tn=>arbitraryValueRegex.test(tn),isTshirtSize=tn=>tshirtUnitRegex.test(tn),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=tn=>getIsArbitraryValue(tn,sizeLabels,isNever),isArbitraryPosition=tn=>getIsArbitraryValue(tn,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=tn=>getIsArbitraryValue(tn,imageLabels,isImage),isArbitraryShadow=tn=>getIsArbitraryValue(tn,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(tn,sn,un)=>{const dn=arbitraryValueRegex.exec(tn);return dn?dn[1]?typeof sn=="string"?dn[1]===sn:sn.has(dn[1]):un(dn[2]):!1},isLengthOnly=tn=>lengthUnitRegex.test(tn)&&!colorFunctionRegex.test(tn),isNever=()=>!1,isShadow=tn=>shadowRegex.test(tn),isImage=tn=>imageRegex.test(tn),getDefaultConfig=()=>{const tn=fromTheme("colors"),sn=fromTheme("spacing"),un=fromTheme("blur"),dn=fromTheme("brightness"),pn=fromTheme("borderColor"),mn=fromTheme("borderRadius"),hn=fromTheme("borderSpacing"),fn=fromTheme("borderWidth"),gn=fromTheme("contrast"),xn=fromTheme("grayscale"),yn=fromTheme("hueRotate"),vn=fromTheme("invert"),En=fromTheme("gap"),bn=fromTheme("gradientColorStops"),wn=fromTheme("gradientColorStopPositions"),Sn=fromTheme("inset"),Rn=fromTheme("margin"),_n=fromTheme("opacity"),jn=fromTheme("padding"),Cn=fromTheme("saturate"),An=fromTheme("scale"),Tn=fromTheme("sepia"),$n=fromTheme("skew"),Dn=fromTheme("space"),Nn=fromTheme("translate"),kn=()=>["auto","contain","none"],Pn=()=>["auto","hidden","clip","visible","scroll"],Mn=()=>["auto",isArbitraryValue,sn],On=()=>[isArbitraryValue,sn],Wn=()=>["",isLength$4,isArbitraryLength],In=()=>["auto",isNumber$6,isArbitraryValue],Un=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Vn=()=>["solid","dashed","dotted","double","none"],Hn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ln=()=>["start","end","center","between","around","evenly","stretch"],zn=()=>["","0",isArbitraryValue],Bn=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Fn=()=>[isNumber$6,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength$4,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Fn(),borderColor:[tn],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:On(),borderWidth:Wn(),contrast:Fn(),grayscale:zn(),hueRotate:Fn(),invert:zn(),gap:On(),gradientColorStops:[tn],gradientColorStopPositions:[isPercent$1,isArbitraryLength],inset:Mn(),margin:Mn(),opacity:Fn(),padding:On(),saturate:Fn(),scale:Fn(),sepia:zn(),skew:Fn(),space:On(),translate:On()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Bn()}],"break-before":[{"break-before":Bn()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Un(),isArbitraryValue]}],overflow:[{overflow:Pn()}],"overflow-x":[{"overflow-x":Pn()}],"overflow-y":[{"overflow-y":Pn()}],overscroll:[{overscroll:kn()}],"overscroll-x":[{"overscroll-x":kn()}],"overscroll-y":[{"overscroll-y":kn()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[Sn]}],"inset-x":[{"inset-x":[Sn]}],"inset-y":[{"inset-y":[Sn]}],start:[{start:[Sn]}],end:[{end:[Sn]}],top:[{top:[Sn]}],right:[{right:[Sn]}],bottom:[{bottom:[Sn]}],left:[{left:[Sn]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Mn()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:zn()}],shrink:[{shrink:zn()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":In()}],"col-end":[{"col-end":In()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":In()}],"row-end":[{"row-end":In()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[En]}],"gap-x":[{"gap-x":[En]}],"gap-y":[{"gap-y":[En]}],"justify-content":[{justify:["normal",...Ln()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ln(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ln(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[jn]}],px:[{px:[jn]}],py:[{py:[jn]}],ps:[{ps:[jn]}],pe:[{pe:[jn]}],pt:[{pt:[jn]}],pr:[{pr:[jn]}],pb:[{pb:[jn]}],pl:[{pl:[jn]}],m:[{m:[Rn]}],mx:[{mx:[Rn]}],my:[{my:[Rn]}],ms:[{ms:[Rn]}],me:[{me:[Rn]}],mt:[{mt:[Rn]}],mr:[{mr:[Rn]}],mb:[{mb:[Rn]}],ml:[{ml:[Rn]}],"space-x":[{"space-x":[Dn]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Dn]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,sn]}],"min-w":[{"min-w":[isArbitraryValue,sn,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,sn,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,sn,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,sn,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,sn,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,sn,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$6,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength$4,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[tn]}],"placeholder-opacity":[{"placeholder-opacity":[_n]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[tn]}],"text-opacity":[{"text-opacity":[_n]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Vn(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$4,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength$4,isArbitraryValue]}],"text-decoration-color":[{decoration:[tn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:On()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_n]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Un(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[tn]}],"gradient-from-pos":[{from:[wn]}],"gradient-via-pos":[{via:[wn]}],"gradient-to-pos":[{to:[wn]}],"gradient-from":[{from:[bn]}],"gradient-via":[{via:[bn]}],"gradient-to":[{to:[bn]}],rounded:[{rounded:[mn]}],"rounded-s":[{"rounded-s":[mn]}],"rounded-e":[{"rounded-e":[mn]}],"rounded-t":[{"rounded-t":[mn]}],"rounded-r":[{"rounded-r":[mn]}],"rounded-b":[{"rounded-b":[mn]}],"rounded-l":[{"rounded-l":[mn]}],"rounded-ss":[{"rounded-ss":[mn]}],"rounded-se":[{"rounded-se":[mn]}],"rounded-ee":[{"rounded-ee":[mn]}],"rounded-es":[{"rounded-es":[mn]}],"rounded-tl":[{"rounded-tl":[mn]}],"rounded-tr":[{"rounded-tr":[mn]}],"rounded-br":[{"rounded-br":[mn]}],"rounded-bl":[{"rounded-bl":[mn]}],"border-w":[{border:[fn]}],"border-w-x":[{"border-x":[fn]}],"border-w-y":[{"border-y":[fn]}],"border-w-s":[{"border-s":[fn]}],"border-w-e":[{"border-e":[fn]}],"border-w-t":[{"border-t":[fn]}],"border-w-r":[{"border-r":[fn]}],"border-w-b":[{"border-b":[fn]}],"border-w-l":[{"border-l":[fn]}],"border-opacity":[{"border-opacity":[_n]}],"border-style":[{border:[...Vn(),"hidden"]}],"divide-x":[{"divide-x":[fn]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[fn]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_n]}],"divide-style":[{divide:Vn()}],"border-color":[{border:[pn]}],"border-color-x":[{"border-x":[pn]}],"border-color-y":[{"border-y":[pn]}],"border-color-s":[{"border-s":[pn]}],"border-color-e":[{"border-e":[pn]}],"border-color-t":[{"border-t":[pn]}],"border-color-r":[{"border-r":[pn]}],"border-color-b":[{"border-b":[pn]}],"border-color-l":[{"border-l":[pn]}],"divide-color":[{divide:[pn]}],"outline-style":[{outline:["",...Vn()]}],"outline-offset":[{"outline-offset":[isLength$4,isArbitraryValue]}],"outline-w":[{outline:[isLength$4,isArbitraryLength]}],"outline-color":[{outline:[tn]}],"ring-w":[{ring:Wn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[tn]}],"ring-opacity":[{"ring-opacity":[_n]}],"ring-offset-w":[{"ring-offset":[isLength$4,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[tn]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[_n]}],"mix-blend":[{"mix-blend":[...Hn(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Hn()}],filter:[{filter:["","none"]}],blur:[{blur:[un]}],brightness:[{brightness:[dn]}],contrast:[{contrast:[gn]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[xn]}],"hue-rotate":[{"hue-rotate":[yn]}],invert:[{invert:[vn]}],saturate:[{saturate:[Cn]}],sepia:[{sepia:[Tn]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[un]}],"backdrop-brightness":[{"backdrop-brightness":[dn]}],"backdrop-contrast":[{"backdrop-contrast":[gn]}],"backdrop-grayscale":[{"backdrop-grayscale":[xn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yn]}],"backdrop-invert":[{"backdrop-invert":[vn]}],"backdrop-opacity":[{"backdrop-opacity":[_n]}],"backdrop-saturate":[{"backdrop-saturate":[Cn]}],"backdrop-sepia":[{"backdrop-sepia":[Tn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[hn]}],"border-spacing-x":[{"border-spacing-x":[hn]}],"border-spacing-y":[{"border-spacing-y":[hn]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Fn()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Fn()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[An]}],"scale-x":[{"scale-x":[An]}],"scale-y":[{"scale-y":[An]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Nn]}],"translate-y":[{"translate-y":[Nn]}],"skew-x":[{"skew-x":[$n]}],"skew-y":[{"skew-y":[$n]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",tn]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[tn]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":On()}],"scroll-mx":[{"scroll-mx":On()}],"scroll-my":[{"scroll-my":On()}],"scroll-ms":[{"scroll-ms":On()}],"scroll-me":[{"scroll-me":On()}],"scroll-mt":[{"scroll-mt":On()}],"scroll-mr":[{"scroll-mr":On()}],"scroll-mb":[{"scroll-mb":On()}],"scroll-ml":[{"scroll-ml":On()}],"scroll-p":[{"scroll-p":On()}],"scroll-px":[{"scroll-px":On()}],"scroll-py":[{"scroll-py":On()}],"scroll-ps":[{"scroll-ps":On()}],"scroll-pe":[{"scroll-pe":On()}],"scroll-pt":[{"scroll-pt":On()}],"scroll-pr":[{"scroll-pr":On()}],"scroll-pb":[{"scroll-pb":On()}],"scroll-pl":[{"scroll-pl":On()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[tn,"none"]}],"stroke-w":[{stroke:[isLength$4,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[tn,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...tn){return twMerge(clsx(tn))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Viewport$2,{ref:un,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",tn),...sn}));ToastViewport.displayName=Viewport$2.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:tn,variant:sn,...un},dn)=>jsxRuntimeExports.jsx(Root2$4,{ref:dn,className:cn(toastVariants({variant:sn}),tn),...un}));Toast.displayName=Root2$4.displayName;const ToastAction=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Action,{ref:un,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",tn),...sn}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Close$d,{ref:un,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",tn),"toast-close":"",...sn,children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})}));ToastClose.displayName=Close$d.displayName;const ToastTitle=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Title$1,{ref:un,className:cn("text-sm font-semibold",tn),...sn}));ToastTitle.displayName=Title$1.displayName;const ToastDescription=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Description$1,{ref:un,className:cn("text-sm opacity-90",tn),...sn}));ToastDescription.displayName=Description$1.displayName;function Toaster(){const{toasts:tn}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[tn.map(function({id:sn,title:un,description:dn,action:pn,...mn}){return jsxRuntimeExports.jsxs(Toast,{...mn,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[un&&jsxRuntimeExports.jsx(ToastTitle,{children:un}),dn&&jsxRuntimeExports.jsx(ToastDescription,{children:dn})]}),pn,jsxRuntimeExports.jsx(ToastClose,{})]},sn)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var useReactId=React$2[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId(tn){const[sn,un]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{un(dn=>dn??String(count$1++))},[tn]),sn?`radix-${sn}`:""}const sides=["top","right","bottom","left"],min$4=Math.min,max$4=Math.max,round$2=Math.round,floor=Math.floor,createCoords=tn=>({x:tn,y:tn}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$2(tn,sn,un){return max$4(tn,min$4(sn,un))}function evaluate(tn,sn){return typeof tn=="function"?tn(sn):tn}function getSide(tn){return tn.split("-")[0]}function getAlignment(tn){return tn.split("-")[1]}function getOppositeAxis(tn){return tn==="x"?"y":"x"}function getAxisLength(tn){return tn==="y"?"height":"width"}function getSideAxis(tn){return["top","bottom"].includes(getSide(tn))?"y":"x"}function getAlignmentAxis(tn){return getOppositeAxis(getSideAxis(tn))}function getAlignmentSides(tn,sn,un){un===void 0&&(un=!1);const dn=getAlignment(tn),pn=getAlignmentAxis(tn),mn=getAxisLength(pn);let hn=pn==="x"?dn===(un?"end":"start")?"right":"left":dn==="start"?"bottom":"top";return sn.reference[mn]>sn.floating[mn]&&(hn=getOppositePlacement$1(hn)),[hn,getOppositePlacement$1(hn)]}function getExpandedPlacements(tn){const sn=getOppositePlacement$1(tn);return[getOppositeAlignmentPlacement(tn),sn,getOppositeAlignmentPlacement(sn)]}function getOppositeAlignmentPlacement(tn){return tn.replace(/start|end/g,sn=>oppositeAlignmentMap[sn])}function getSideList(tn,sn,un){const dn=["left","right"],pn=["right","left"],mn=["top","bottom"],hn=["bottom","top"];switch(tn){case"top":case"bottom":return un?sn?pn:dn:sn?dn:pn;case"left":case"right":return sn?mn:hn;default:return[]}}function getOppositeAxisPlacements(tn,sn,un,dn){const pn=getAlignment(tn);let mn=getSideList(getSide(tn),un==="start",dn);return pn&&(mn=mn.map(hn=>hn+"-"+pn),sn&&(mn=mn.concat(mn.map(getOppositeAlignmentPlacement)))),mn}function getOppositePlacement$1(tn){return tn.replace(/left|right|bottom|top/g,sn=>oppositeSideMap[sn])}function expandPaddingObject(tn){return{top:0,right:0,bottom:0,left:0,...tn}}function getPaddingObject(tn){return typeof tn!="number"?expandPaddingObject(tn):{top:tn,right:tn,bottom:tn,left:tn}}function rectToClientRect$1(tn){const{x:sn,y:un,width:dn,height:pn}=tn;return{width:dn,height:pn,top:un,left:sn,right:sn+dn,bottom:un+pn,x:sn,y:un}}function computeCoordsFromPlacement(tn,sn,un){let{reference:dn,floating:pn}=tn;const mn=getSideAxis(sn),hn=getAlignmentAxis(sn),fn=getAxisLength(hn),gn=getSide(sn),xn=mn==="y",yn=dn.x+dn.width/2-pn.width/2,vn=dn.y+dn.height/2-pn.height/2,En=dn[fn]/2-pn[fn]/2;let bn;switch(gn){case"top":bn={x:yn,y:dn.y-pn.height};break;case"bottom":bn={x:yn,y:dn.y+dn.height};break;case"right":bn={x:dn.x+dn.width,y:vn};break;case"left":bn={x:dn.x-pn.width,y:vn};break;default:bn={x:dn.x,y:dn.y}}switch(getAlignment(sn)){case"start":bn[hn]-=En*(un&&xn?-1:1);break;case"end":bn[hn]+=En*(un&&xn?-1:1);break}return bn}const computePosition$1=async(tn,sn,un)=>{const{placement:dn="bottom",strategy:pn="absolute",middleware:mn=[],platform:hn}=un,fn=mn.filter(Boolean),gn=await(hn.isRTL==null?void 0:hn.isRTL(sn));let xn=await hn.getElementRects({reference:tn,floating:sn,strategy:pn}),{x:yn,y:vn}=computeCoordsFromPlacement(xn,dn,gn),En=dn,bn={},wn=0;for(let Sn=0;Sn<fn.length;Sn++){const{name:Rn,fn:_n}=fn[Sn],{x:jn,y:Cn,data:An,reset:Tn}=await _n({x:yn,y:vn,initialPlacement:dn,placement:En,strategy:pn,middlewareData:bn,rects:xn,platform:hn,elements:{reference:tn,floating:sn}});yn=jn??yn,vn=Cn??vn,bn={...bn,[Rn]:{...bn[Rn],...An}},Tn&&wn<=50&&(wn++,typeof Tn=="object"&&(Tn.placement&&(En=Tn.placement),Tn.rects&&(xn=Tn.rects===!0?await hn.getElementRects({reference:tn,floating:sn,strategy:pn}):Tn.rects),{x:yn,y:vn}=computeCoordsFromPlacement(xn,En,gn)),Sn=-1)}return{x:yn,y:vn,placement:En,strategy:pn,middlewareData:bn}};async function detectOverflow$1(tn,sn){var un;sn===void 0&&(sn={});const{x:dn,y:pn,platform:mn,rects:hn,elements:fn,strategy:gn}=tn,{boundary:xn="clippingAncestors",rootBoundary:yn="viewport",elementContext:vn="floating",altBoundary:En=!1,padding:bn=0}=evaluate(sn,tn),wn=getPaddingObject(bn),Rn=fn[En?vn==="floating"?"reference":"floating":vn],_n=rectToClientRect$1(await mn.getClippingRect({element:(un=await(mn.isElement==null?void 0:mn.isElement(Rn)))==null||un?Rn:Rn.contextElement||await(mn.getDocumentElement==null?void 0:mn.getDocumentElement(fn.floating)),boundary:xn,rootBoundary:yn,strategy:gn})),jn=vn==="floating"?{x:dn,y:pn,width:hn.floating.width,height:hn.floating.height}:hn.reference,Cn=await(mn.getOffsetParent==null?void 0:mn.getOffsetParent(fn.floating)),An=await(mn.isElement==null?void 0:mn.isElement(Cn))?await(mn.getScale==null?void 0:mn.getScale(Cn))||{x:1,y:1}:{x:1,y:1},Tn=rectToClientRect$1(mn.convertOffsetParentRelativeRectToViewportRelativeRect?await mn.convertOffsetParentRelativeRectToViewportRelativeRect({elements:fn,rect:jn,offsetParent:Cn,strategy:gn}):jn);return{top:(_n.top-Tn.top+wn.top)/An.y,bottom:(Tn.bottom-_n.bottom+wn.bottom)/An.y,left:(_n.left-Tn.left+wn.left)/An.x,right:(Tn.right-_n.right+wn.right)/An.x}}const arrow$4=tn=>({name:"arrow",options:tn,async fn(sn){const{x:un,y:dn,placement:pn,rects:mn,platform:hn,elements:fn,middlewareData:gn}=sn,{element:xn,padding:yn=0}=evaluate(tn,sn)||{};if(xn==null)return{};const vn=getPaddingObject(yn),En={x:un,y:dn},bn=getAlignmentAxis(pn),wn=getAxisLength(bn),Sn=await hn.getDimensions(xn),Rn=bn==="y",_n=Rn?"top":"left",jn=Rn?"bottom":"right",Cn=Rn?"clientHeight":"clientWidth",An=mn.reference[wn]+mn.reference[bn]-En[bn]-mn.floating[wn],Tn=En[bn]-mn.reference[bn],$n=await(hn.getOffsetParent==null?void 0:hn.getOffsetParent(xn));let Dn=$n?$n[Cn]:0;(!Dn||!await(hn.isElement==null?void 0:hn.isElement($n)))&&(Dn=fn.floating[Cn]||mn.floating[wn]);const Nn=An/2-Tn/2,kn=Dn/2-Sn[wn]/2-1,Pn=min$4(vn[_n],kn),Mn=min$4(vn[jn],kn),On=Pn,Wn=Dn-Sn[wn]-Mn,In=Dn/2-Sn[wn]/2+Nn,Un=clamp$2(On,In,Wn),Vn=!gn.arrow&&getAlignment(pn)!=null&&In!==Un&&mn.reference[wn]/2-(In<On?Pn:Mn)-Sn[wn]/2<0,Hn=Vn?In<On?In-On:In-Wn:0;return{[bn]:En[bn]+Hn,data:{[bn]:Un,centerOffset:In-Un-Hn,...Vn&&{alignmentOffset:Hn}},reset:Vn}}}),flip$4=function(tn){return tn===void 0&&(tn={}),{name:"flip",options:tn,async fn(sn){var un,dn;const{placement:pn,middlewareData:mn,rects:hn,initialPlacement:fn,platform:gn,elements:xn}=sn,{mainAxis:yn=!0,crossAxis:vn=!0,fallbackPlacements:En,fallbackStrategy:bn="bestFit",fallbackAxisSideDirection:wn="none",flipAlignment:Sn=!0,...Rn}=evaluate(tn,sn);if((un=mn.arrow)!=null&&un.alignmentOffset)return{};const _n=getSide(pn),jn=getSideAxis(fn),Cn=getSide(fn)===fn,An=await(gn.isRTL==null?void 0:gn.isRTL(xn.floating)),Tn=En||(Cn||!Sn?[getOppositePlacement$1(fn)]:getExpandedPlacements(fn)),$n=wn!=="none";!En&&$n&&Tn.push(...getOppositeAxisPlacements(fn,Sn,wn,An));const Dn=[fn,...Tn],Nn=await detectOverflow$1(sn,Rn),kn=[];let Pn=((dn=mn.flip)==null?void 0:dn.overflows)||[];if(yn&&kn.push(Nn[_n]),vn){const In=getAlignmentSides(pn,hn,An);kn.push(Nn[In[0]],Nn[In[1]])}if(Pn=[...Pn,{placement:pn,overflows:kn}],!kn.every(In=>In<=0)){var Mn,On;const In=(((Mn=mn.flip)==null?void 0:Mn.index)||0)+1,Un=Dn[In];if(Un)return{data:{index:In,overflows:Pn},reset:{placement:Un}};let Vn=(On=Pn.filter(Hn=>Hn.overflows[0]<=0).sort((Hn,Ln)=>Hn.overflows[1]-Ln.overflows[1])[0])==null?void 0:On.placement;if(!Vn)switch(bn){case"bestFit":{var Wn;const Hn=(Wn=Pn.filter(Ln=>{if($n){const zn=getSideAxis(Ln.placement);return zn===jn||zn==="y"}return!0}).map(Ln=>[Ln.placement,Ln.overflows.filter(zn=>zn>0).reduce((zn,Bn)=>zn+Bn,0)]).sort((Ln,zn)=>Ln[1]-zn[1])[0])==null?void 0:Wn[0];Hn&&(Vn=Hn);break}case"initialPlacement":Vn=fn;break}if(pn!==Vn)return{reset:{placement:Vn}}}return{}}}};function getSideOffsets$1(tn,sn){return{top:tn.top-sn.height,right:tn.right-sn.width,bottom:tn.bottom-sn.height,left:tn.left-sn.width}}function isAnySideFullyClipped$1(tn){return sides.some(sn=>tn[sn]>=0)}const hide$4=function(tn){return tn===void 0&&(tn={}),{name:"hide",options:tn,async fn(sn){const{rects:un}=sn,{strategy:dn="referenceHidden",...pn}=evaluate(tn,sn);switch(dn){case"referenceHidden":{const mn=await detectOverflow$1(sn,{...pn,elementContext:"reference"}),hn=getSideOffsets$1(mn,un.reference);return{data:{referenceHiddenOffsets:hn,referenceHidden:isAnySideFullyClipped$1(hn)}}}case"escaped":{const mn=await detectOverflow$1(sn,{...pn,altBoundary:!0}),hn=getSideOffsets$1(mn,un.floating);return{data:{escapedOffsets:hn,escaped:isAnySideFullyClipped$1(hn)}}}default:return{}}}}};async function convertValueToCoords(tn,sn){const{placement:un,platform:dn,elements:pn}=tn,mn=await(dn.isRTL==null?void 0:dn.isRTL(pn.floating)),hn=getSide(un),fn=getAlignment(un),gn=getSideAxis(un)==="y",xn=["left","top"].includes(hn)?-1:1,yn=mn&&gn?-1:1,vn=evaluate(sn,tn);let{mainAxis:En,crossAxis:bn,alignmentAxis:wn}=typeof vn=="number"?{mainAxis:vn,crossAxis:0,alignmentAxis:null}:{mainAxis:vn.mainAxis||0,crossAxis:vn.crossAxis||0,alignmentAxis:vn.alignmentAxis};return fn&&typeof wn=="number"&&(bn=fn==="end"?wn*-1:wn),gn?{x:bn*yn,y:En*xn}:{x:En*xn,y:bn*yn}}const offset$4=function(tn){return tn===void 0&&(tn=0),{name:"offset",options:tn,async fn(sn){var un,dn;const{x:pn,y:mn,placement:hn,middlewareData:fn}=sn,gn=await convertValueToCoords(sn,tn);return hn===((un=fn.offset)==null?void 0:un.placement)&&(dn=fn.arrow)!=null&&dn.alignmentOffset?{}:{x:pn+gn.x,y:mn+gn.y,data:{...gn,placement:hn}}}}},shift$2=function(tn){return tn===void 0&&(tn={}),{name:"shift",options:tn,async fn(sn){const{x:un,y:dn,placement:pn}=sn,{mainAxis:mn=!0,crossAxis:hn=!1,limiter:fn={fn:Rn=>{let{x:_n,y:jn}=Rn;return{x:_n,y:jn}}},...gn}=evaluate(tn,sn),xn={x:un,y:dn},yn=await detectOverflow$1(sn,gn),vn=getSideAxis(getSide(pn)),En=getOppositeAxis(vn);let bn=xn[En],wn=xn[vn];if(mn){const Rn=En==="y"?"top":"left",_n=En==="y"?"bottom":"right",jn=bn+yn[Rn],Cn=bn-yn[_n];bn=clamp$2(jn,bn,Cn)}if(hn){const Rn=vn==="y"?"top":"left",_n=vn==="y"?"bottom":"right",jn=wn+yn[Rn],Cn=wn-yn[_n];wn=clamp$2(jn,wn,Cn)}const Sn=fn.fn({...sn,[En]:bn,[vn]:wn});return{...Sn,data:{x:Sn.x-un,y:Sn.y-dn,enabled:{[En]:mn,[vn]:hn}}}}}},limitShift$2=function(tn){return tn===void 0&&(tn={}),{options:tn,fn(sn){const{x:un,y:dn,placement:pn,rects:mn,middlewareData:hn}=sn,{offset:fn=0,mainAxis:gn=!0,crossAxis:xn=!0}=evaluate(tn,sn),yn={x:un,y:dn},vn=getSideAxis(pn),En=getOppositeAxis(vn);let bn=yn[En],wn=yn[vn];const Sn=evaluate(fn,sn),Rn=typeof Sn=="number"?{mainAxis:Sn,crossAxis:0}:{mainAxis:0,crossAxis:0,...Sn};if(gn){const Cn=En==="y"?"height":"width",An=mn.reference[En]-mn.floating[Cn]+Rn.mainAxis,Tn=mn.reference[En]+mn.reference[Cn]-Rn.mainAxis;bn<An?bn=An:bn>Tn&&(bn=Tn)}if(xn){var _n,jn;const Cn=En==="y"?"width":"height",An=["top","left"].includes(getSide(pn)),Tn=mn.reference[vn]-mn.floating[Cn]+(An&&((_n=hn.offset)==null?void 0:_n[vn])||0)+(An?0:Rn.crossAxis),$n=mn.reference[vn]+mn.reference[Cn]+(An?0:((jn=hn.offset)==null?void 0:jn[vn])||0)-(An?Rn.crossAxis:0);wn<Tn?wn=Tn:wn>$n&&(wn=$n)}return{[En]:bn,[vn]:wn}}}},size$2=function(tn){return tn===void 0&&(tn={}),{name:"size",options:tn,async fn(sn){var un,dn;const{placement:pn,rects:mn,platform:hn,elements:fn}=sn,{apply:gn=()=>{},...xn}=evaluate(tn,sn),yn=await detectOverflow$1(sn,xn),vn=getSide(pn),En=getAlignment(pn),bn=getSideAxis(pn)==="y",{width:wn,height:Sn}=mn.floating;let Rn,_n;vn==="top"||vn==="bottom"?(Rn=vn,_n=En===(await(hn.isRTL==null?void 0:hn.isRTL(fn.floating))?"start":"end")?"left":"right"):(_n=vn,Rn=En==="end"?"top":"bottom");const jn=Sn-yn.top-yn.bottom,Cn=wn-yn.left-yn.right,An=min$4(Sn-yn[Rn],jn),Tn=min$4(wn-yn[_n],Cn),$n=!sn.middlewareData.shift;let Dn=An,Nn=Tn;if((un=sn.middlewareData.shift)!=null&&un.enabled.x&&(Nn=Cn),(dn=sn.middlewareData.shift)!=null&&dn.enabled.y&&(Dn=jn),$n&&!En){const Pn=max$4(yn.left,0),Mn=max$4(yn.right,0),On=max$4(yn.top,0),Wn=max$4(yn.bottom,0);bn?Nn=wn-2*(Pn!==0||Mn!==0?Pn+Mn:max$4(yn.left,yn.right)):Dn=Sn-2*(On!==0||Wn!==0?On+Wn:max$4(yn.top,yn.bottom))}await gn({...sn,availableWidth:Nn,availableHeight:Dn});const kn=await hn.getDimensions(fn.floating);return wn!==kn.width||Sn!==kn.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName$1(tn){return isNode(tn)?(tn.nodeName||"").toLowerCase():"#document"}function getWindow$1(tn){var sn;return(tn==null||(sn=tn.ownerDocument)==null?void 0:sn.defaultView)||window}function getDocumentElement$1(tn){var sn;return(sn=(isNode(tn)?tn.ownerDocument:tn.document)||window.document)==null?void 0:sn.documentElement}function isNode(tn){return hasWindow()?tn instanceof Node||tn instanceof getWindow$1(tn).Node:!1}function isElement$1(tn){return hasWindow()?tn instanceof Element||tn instanceof getWindow$1(tn).Element:!1}function isHTMLElement$2(tn){return hasWindow()?tn instanceof HTMLElement||tn instanceof getWindow$1(tn).HTMLElement:!1}function isShadowRoot$1(tn){return!hasWindow()||typeof ShadowRoot>"u"?!1:tn instanceof ShadowRoot||tn instanceof getWindow$1(tn).ShadowRoot}function isOverflowElement(tn){const{overflow:sn,overflowX:un,overflowY:dn,display:pn}=getComputedStyle$3(tn);return/auto|scroll|overlay|hidden|clip/.test(sn+dn+un)&&!["inline","contents"].includes(pn)}function isTableElement$1(tn){return["table","td","th"].includes(getNodeName$1(tn))}function isTopLayer(tn){return[":popover-open",":modal"].some(sn=>{try{return tn.matches(sn)}catch{return!1}})}function isContainingBlock(tn){const sn=isWebKit(),un=isElement$1(tn)?getComputedStyle$3(tn):tn;return["transform","translate","scale","rotate","perspective"].some(dn=>un[dn]?un[dn]!=="none":!1)||(un.containerType?un.containerType!=="normal":!1)||!sn&&(un.backdropFilter?un.backdropFilter!=="none":!1)||!sn&&(un.filter?un.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(dn=>(un.willChange||"").includes(dn))||["paint","layout","strict","content"].some(dn=>(un.contain||"").includes(dn))}function getContainingBlock$1(tn){let sn=getParentNode$1(tn);for(;isHTMLElement$2(sn)&&!isLastTraversableNode(sn);){if(isContainingBlock(sn))return sn;if(isTopLayer(sn))return null;sn=getParentNode$1(sn)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(tn){return["html","body","#document"].includes(getNodeName$1(tn))}function getComputedStyle$3(tn){return getWindow$1(tn).getComputedStyle(tn)}function getNodeScroll$1(tn){return isElement$1(tn)?{scrollLeft:tn.scrollLeft,scrollTop:tn.scrollTop}:{scrollLeft:tn.scrollX,scrollTop:tn.scrollY}}function getParentNode$1(tn){if(getNodeName$1(tn)==="html")return tn;const sn=tn.assignedSlot||tn.parentNode||isShadowRoot$1(tn)&&tn.host||getDocumentElement$1(tn);return isShadowRoot$1(sn)?sn.host:sn}function getNearestOverflowAncestor(tn){const sn=getParentNode$1(tn);return isLastTraversableNode(sn)?tn.ownerDocument?tn.ownerDocument.body:tn.body:isHTMLElement$2(sn)&&isOverflowElement(sn)?sn:getNearestOverflowAncestor(sn)}function getOverflowAncestors(tn,sn,un){var dn;sn===void 0&&(sn=[]),un===void 0&&(un=!0);const pn=getNearestOverflowAncestor(tn),mn=pn===((dn=tn.ownerDocument)==null?void 0:dn.body),hn=getWindow$1(pn);if(mn){const fn=getFrameElement(hn);return sn.concat(hn,hn.visualViewport||[],isOverflowElement(pn)?pn:[],fn&&un?getOverflowAncestors(fn):[])}return sn.concat(pn,getOverflowAncestors(pn,[],un))}function getFrameElement(tn){return tn.parent&&Object.getPrototypeOf(tn.parent)?tn.frameElement:null}function getCssDimensions(tn){const sn=getComputedStyle$3(tn);let un=parseFloat(sn.width)||0,dn=parseFloat(sn.height)||0;const pn=isHTMLElement$2(tn),mn=pn?tn.offsetWidth:un,hn=pn?tn.offsetHeight:dn,fn=round$2(un)!==mn||round$2(dn)!==hn;return fn&&(un=mn,dn=hn),{width:un,height:dn,$:fn}}function unwrapElement(tn){return isElement$1(tn)?tn:tn.contextElement}function getScale(tn){const sn=unwrapElement(tn);if(!isHTMLElement$2(sn))return createCoords(1);const un=sn.getBoundingClientRect(),{width:dn,height:pn,$:mn}=getCssDimensions(sn);let hn=(mn?round$2(un.width):un.width)/dn,fn=(mn?round$2(un.height):un.height)/pn;return(!hn||!Number.isFinite(hn))&&(hn=1),(!fn||!Number.isFinite(fn))&&(fn=1),{x:hn,y:fn}}const noOffsets=createCoords(0);function getVisualOffsets(tn){const sn=getWindow$1(tn);return!isWebKit()||!sn.visualViewport?noOffsets:{x:sn.visualViewport.offsetLeft,y:sn.visualViewport.offsetTop}}function shouldAddVisualOffsets(tn,sn,un){return sn===void 0&&(sn=!1),!un||sn&&un!==getWindow$1(tn)?!1:sn}function getBoundingClientRect$1(tn,sn,un,dn){sn===void 0&&(sn=!1),un===void 0&&(un=!1);const pn=tn.getBoundingClientRect(),mn=unwrapElement(tn);let hn=createCoords(1);sn&&(dn?isElement$1(dn)&&(hn=getScale(dn)):hn=getScale(tn));const fn=shouldAddVisualOffsets(mn,un,dn)?getVisualOffsets(mn):createCoords(0);let gn=(pn.left+fn.x)/hn.x,xn=(pn.top+fn.y)/hn.y,yn=pn.width/hn.x,vn=pn.height/hn.y;if(mn){const En=getWindow$1(mn),bn=dn&&isElement$1(dn)?getWindow$1(dn):dn;let wn=En,Sn=getFrameElement(wn);for(;Sn&&dn&&bn!==wn;){const Rn=getScale(Sn),_n=Sn.getBoundingClientRect(),jn=getComputedStyle$3(Sn),Cn=_n.left+(Sn.clientLeft+parseFloat(jn.paddingLeft))*Rn.x,An=_n.top+(Sn.clientTop+parseFloat(jn.paddingTop))*Rn.y;gn*=Rn.x,xn*=Rn.y,yn*=Rn.x,vn*=Rn.y,gn+=Cn,xn+=An,wn=getWindow$1(Sn),Sn=getFrameElement(wn)}}return rectToClientRect$1({width:yn,height:vn,x:gn,y:xn})}function getWindowScrollBarX$1(tn,sn){const un=getNodeScroll$1(tn).scrollLeft;return sn?sn.left+un:getBoundingClientRect$1(getDocumentElement$1(tn)).left+un}function getHTMLOffset(tn,sn,un){un===void 0&&(un=!1);const dn=tn.getBoundingClientRect(),pn=dn.left+sn.scrollLeft-(un?0:getWindowScrollBarX$1(tn,dn)),mn=dn.top+sn.scrollTop;return{x:pn,y:mn}}function convertOffsetParentRelativeRectToViewportRelativeRect(tn){let{elements:sn,rect:un,offsetParent:dn,strategy:pn}=tn;const mn=pn==="fixed",hn=getDocumentElement$1(dn),fn=sn?isTopLayer(sn.floating):!1;if(dn===hn||fn&&mn)return un;let gn={scrollLeft:0,scrollTop:0},xn=createCoords(1);const yn=createCoords(0),vn=isHTMLElement$2(dn);if((vn||!vn&&!mn)&&((getNodeName$1(dn)!=="body"||isOverflowElement(hn))&&(gn=getNodeScroll$1(dn)),isHTMLElement$2(dn))){const bn=getBoundingClientRect$1(dn);xn=getScale(dn),yn.x=bn.x+dn.clientLeft,yn.y=bn.y+dn.clientTop}const En=hn&&!vn&&!mn?getHTMLOffset(hn,gn,!0):createCoords(0);return{width:un.width*xn.x,height:un.height*xn.y,x:un.x*xn.x-gn.scrollLeft*xn.x+yn.x+En.x,y:un.y*xn.y-gn.scrollTop*xn.y+yn.y+En.y}}function getClientRects(tn){return Array.from(tn.getClientRects())}function getDocumentRect$1(tn){const sn=getDocumentElement$1(tn),un=getNodeScroll$1(tn),dn=tn.ownerDocument.body,pn=max$4(sn.scrollWidth,sn.clientWidth,dn.scrollWidth,dn.clientWidth),mn=max$4(sn.scrollHeight,sn.clientHeight,dn.scrollHeight,dn.clientHeight);let hn=-un.scrollLeft+getWindowScrollBarX$1(tn);const fn=-un.scrollTop;return getComputedStyle$3(dn).direction==="rtl"&&(hn+=max$4(sn.clientWidth,dn.clientWidth)-pn),{width:pn,height:mn,x:hn,y:fn}}function getViewportRect$1(tn,sn){const un=getWindow$1(tn),dn=getDocumentElement$1(tn),pn=un.visualViewport;let mn=dn.clientWidth,hn=dn.clientHeight,fn=0,gn=0;if(pn){mn=pn.width,hn=pn.height;const xn=isWebKit();(!xn||xn&&sn==="fixed")&&(fn=pn.offsetLeft,gn=pn.offsetTop)}return{width:mn,height:hn,x:fn,y:gn}}function getInnerBoundingClientRect$1(tn,sn){const un=getBoundingClientRect$1(tn,!0,sn==="fixed"),dn=un.top+tn.clientTop,pn=un.left+tn.clientLeft,mn=isHTMLElement$2(tn)?getScale(tn):createCoords(1),hn=tn.clientWidth*mn.x,fn=tn.clientHeight*mn.y,gn=pn*mn.x,xn=dn*mn.y;return{width:hn,height:fn,x:gn,y:xn}}function getClientRectFromClippingAncestor(tn,sn,un){let dn;if(sn==="viewport")dn=getViewportRect$1(tn,un);else if(sn==="document")dn=getDocumentRect$1(getDocumentElement$1(tn));else if(isElement$1(sn))dn=getInnerBoundingClientRect$1(sn,un);else{const pn=getVisualOffsets(tn);dn={x:sn.x-pn.x,y:sn.y-pn.y,width:sn.width,height:sn.height}}return rectToClientRect$1(dn)}function hasFixedPositionAncestor(tn,sn){const un=getParentNode$1(tn);return un===sn||!isElement$1(un)||isLastTraversableNode(un)?!1:getComputedStyle$3(un).position==="fixed"||hasFixedPositionAncestor(un,sn)}function getClippingElementAncestors(tn,sn){const un=sn.get(tn);if(un)return un;let dn=getOverflowAncestors(tn,[],!1).filter(fn=>isElement$1(fn)&&getNodeName$1(fn)!=="body"),pn=null;const mn=getComputedStyle$3(tn).position==="fixed";let hn=mn?getParentNode$1(tn):tn;for(;isElement$1(hn)&&!isLastTraversableNode(hn);){const fn=getComputedStyle$3(hn),gn=isContainingBlock(hn);!gn&&fn.position==="fixed"&&(pn=null),(mn?!gn&&!pn:!gn&&fn.position==="static"&&!!pn&&["absolute","fixed"].includes(pn.position)||isOverflowElement(hn)&&!gn&&hasFixedPositionAncestor(tn,hn))?dn=dn.filter(yn=>yn!==hn):pn=fn,hn=getParentNode$1(hn)}return sn.set(tn,dn),dn}function getClippingRect$1(tn){let{element:sn,boundary:un,rootBoundary:dn,strategy:pn}=tn;const hn=[...un==="clippingAncestors"?isTopLayer(sn)?[]:getClippingElementAncestors(sn,this._c):[].concat(un),dn],fn=hn[0],gn=hn.reduce((xn,yn)=>{const vn=getClientRectFromClippingAncestor(sn,yn,pn);return xn.top=max$4(vn.top,xn.top),xn.right=min$4(vn.right,xn.right),xn.bottom=min$4(vn.bottom,xn.bottom),xn.left=max$4(vn.left,xn.left),xn},getClientRectFromClippingAncestor(sn,fn,pn));return{width:gn.right-gn.left,height:gn.bottom-gn.top,x:gn.left,y:gn.top}}function getDimensions(tn){const{width:sn,height:un}=getCssDimensions(tn);return{width:sn,height:un}}function getRectRelativeToOffsetParent(tn,sn,un){const dn=isHTMLElement$2(sn),pn=getDocumentElement$1(sn),mn=un==="fixed",hn=getBoundingClientRect$1(tn,!0,mn,sn);let fn={scrollLeft:0,scrollTop:0};const gn=createCoords(0);if(dn||!dn&&!mn)if((getNodeName$1(sn)!=="body"||isOverflowElement(pn))&&(fn=getNodeScroll$1(sn)),dn){const En=getBoundingClientRect$1(sn,!0,mn,sn);gn.x=En.x+sn.clientLeft,gn.y=En.y+sn.clientTop}else pn&&(gn.x=getWindowScrollBarX$1(pn));const xn=pn&&!dn&&!mn?getHTMLOffset(pn,fn):createCoords(0),yn=hn.left+fn.scrollLeft-gn.x-xn.x,vn=hn.top+fn.scrollTop-gn.y-xn.y;return{x:yn,y:vn,width:hn.width,height:hn.height}}function isStaticPositioned(tn){return getComputedStyle$3(tn).position==="static"}function getTrueOffsetParent$1(tn,sn){if(!isHTMLElement$2(tn)||getComputedStyle$3(tn).position==="fixed")return null;if(sn)return sn(tn);let un=tn.offsetParent;return getDocumentElement$1(tn)===un&&(un=un.ownerDocument.body),un}function getOffsetParent$1(tn,sn){const un=getWindow$1(tn);if(isTopLayer(tn))return un;if(!isHTMLElement$2(tn)){let pn=getParentNode$1(tn);for(;pn&&!isLastTraversableNode(pn);){if(isElement$1(pn)&&!isStaticPositioned(pn))return pn;pn=getParentNode$1(pn)}return un}let dn=getTrueOffsetParent$1(tn,sn);for(;dn&&isTableElement$1(dn)&&isStaticPositioned(dn);)dn=getTrueOffsetParent$1(dn,sn);return dn&&isLastTraversableNode(dn)&&isStaticPositioned(dn)&&!isContainingBlock(dn)?un:dn||getContainingBlock$1(tn)||un}const getElementRects=async function(tn){const sn=this.getOffsetParent||getOffsetParent$1,un=this.getDimensions,dn=await un(tn.floating);return{reference:getRectRelativeToOffsetParent(tn.reference,await sn(tn.floating),tn.strategy),floating:{x:0,y:0,width:dn.width,height:dn.height}}};function isRTL(tn){return getComputedStyle$3(tn).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement$1,getClippingRect:getClippingRect$1,getOffsetParent:getOffsetParent$1,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function rectsAreEqual(tn,sn){return tn.x===sn.x&&tn.y===sn.y&&tn.width===sn.width&&tn.height===sn.height}function observeMove(tn,sn){let un=null,dn;const pn=getDocumentElement$1(tn);function mn(){var fn;clearTimeout(dn),(fn=un)==null||fn.disconnect(),un=null}function hn(fn,gn){fn===void 0&&(fn=!1),gn===void 0&&(gn=1),mn();const xn=tn.getBoundingClientRect(),{left:yn,top:vn,width:En,height:bn}=xn;if(fn||sn(),!En||!bn)return;const wn=floor(vn),Sn=floor(pn.clientWidth-(yn+En)),Rn=floor(pn.clientHeight-(vn+bn)),_n=floor(yn),Cn={rootMargin:-wn+"px "+-Sn+"px "+-Rn+"px "+-_n+"px",threshold:max$4(0,min$4(1,gn))||1};let An=!0;function Tn($n){const Dn=$n[0].intersectionRatio;if(Dn!==gn){if(!An)return hn();Dn?hn(!1,Dn):dn=setTimeout(()=>{hn(!1,1e-7)},1e3)}Dn===1&&!rectsAreEqual(xn,tn.getBoundingClientRect())&&hn(),An=!1}try{un=new IntersectionObserver(Tn,{...Cn,root:pn.ownerDocument})}catch{un=new IntersectionObserver(Tn,Cn)}un.observe(tn)}return hn(!0),mn}function autoUpdate(tn,sn,un,dn){dn===void 0&&(dn={});const{ancestorScroll:pn=!0,ancestorResize:mn=!0,elementResize:hn=typeof ResizeObserver=="function",layoutShift:fn=typeof IntersectionObserver=="function",animationFrame:gn=!1}=dn,xn=unwrapElement(tn),yn=pn||mn?[...xn?getOverflowAncestors(xn):[],...getOverflowAncestors(sn)]:[];yn.forEach(_n=>{pn&&_n.addEventListener("scroll",un,{passive:!0}),mn&&_n.addEventListener("resize",un)});const vn=xn&&fn?observeMove(xn,un):null;let En=-1,bn=null;hn&&(bn=new ResizeObserver(_n=>{let[jn]=_n;jn&&jn.target===xn&&bn&&(bn.unobserve(sn),cancelAnimationFrame(En),En=requestAnimationFrame(()=>{var Cn;(Cn=bn)==null||Cn.observe(sn)})),un()}),xn&&!gn&&bn.observe(xn),bn.observe(sn));let wn,Sn=gn?getBoundingClientRect$1(tn):null;gn&&Rn();function Rn(){const _n=getBoundingClientRect$1(tn);Sn&&!rectsAreEqual(Sn,_n)&&un(),Sn=_n,wn=requestAnimationFrame(Rn)}return un(),()=>{var _n;yn.forEach(jn=>{pn&&jn.removeEventListener("scroll",un),mn&&jn.removeEventListener("resize",un)}),vn==null||vn(),(_n=bn)==null||_n.disconnect(),bn=null,gn&&cancelAnimationFrame(wn)}}const offset$3=offset$4,shift$1=shift$2,flip$3=flip$4,size$1=size$2,hide$3=hide$4,arrow$3=arrow$4,limitShift$1=limitShift$2,computePosition=(tn,sn,un)=>{const dn=new Map,pn={platform,...un},mn={...pn.platform,_c:dn};return computePosition$1(tn,sn,{...pn,platform:mn})};var index$3=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$2(tn,sn){if(tn===sn)return!0;if(typeof tn!=typeof sn)return!1;if(typeof tn=="function"&&tn.toString()===sn.toString())return!0;let un,dn,pn;if(tn&&sn&&typeof tn=="object"){if(Array.isArray(tn)){if(un=tn.length,un!==sn.length)return!1;for(dn=un;dn--!==0;)if(!deepEqual$2(tn[dn],sn[dn]))return!1;return!0}if(pn=Object.keys(tn),un=pn.length,un!==Object.keys(sn).length)return!1;for(dn=un;dn--!==0;)if(!{}.hasOwnProperty.call(sn,pn[dn]))return!1;for(dn=un;dn--!==0;){const mn=pn[dn];if(!(mn==="_owner"&&tn.$$typeof)&&!deepEqual$2(tn[mn],sn[mn]))return!1}return!0}return tn!==tn&&sn!==sn}function getDPR(tn){return typeof window>"u"?1:(tn.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(tn,sn){const un=getDPR(tn);return Math.round(sn*un)/un}function useLatestRef(tn){const sn=reactExports.useRef(tn);return index$3(()=>{sn.current=tn}),sn}function useFloating(tn){tn===void 0&&(tn={});const{placement:sn="bottom",strategy:un="absolute",middleware:dn=[],platform:pn,elements:{reference:mn,floating:hn}={},transform:fn=!0,whileElementsMounted:gn,open:xn}=tn,[yn,vn]=reactExports.useState({x:0,y:0,strategy:un,placement:sn,middlewareData:{},isPositioned:!1}),[En,bn]=reactExports.useState(dn);deepEqual$2(En,dn)||bn(dn);const[wn,Sn]=reactExports.useState(null),[Rn,_n]=reactExports.useState(null),jn=reactExports.useCallback(Ln=>{Ln!==$n.current&&($n.current=Ln,Sn(Ln))},[]),Cn=reactExports.useCallback(Ln=>{Ln!==Dn.current&&(Dn.current=Ln,_n(Ln))},[]),An=mn||wn,Tn=hn||Rn,$n=reactExports.useRef(null),Dn=reactExports.useRef(null),Nn=reactExports.useRef(yn),kn=gn!=null,Pn=useLatestRef(gn),Mn=useLatestRef(pn),On=useLatestRef(xn),Wn=reactExports.useCallback(()=>{if(!$n.current||!Dn.current)return;const Ln={placement:sn,strategy:un,middleware:En};Mn.current&&(Ln.platform=Mn.current),computePosition($n.current,Dn.current,Ln).then(zn=>{const Bn={...zn,isPositioned:On.current!==!1};In.current&&!deepEqual$2(Nn.current,Bn)&&(Nn.current=Bn,reactDomExports.flushSync(()=>{vn(Bn)}))})},[En,sn,un,Mn,On]);index$3(()=>{xn===!1&&Nn.current.isPositioned&&(Nn.current.isPositioned=!1,vn(Ln=>({...Ln,isPositioned:!1})))},[xn]);const In=reactExports.useRef(!1);index$3(()=>(In.current=!0,()=>{In.current=!1}),[]),index$3(()=>{if(An&&($n.current=An),Tn&&(Dn.current=Tn),An&&Tn){if(Pn.current)return Pn.current(An,Tn,Wn);Wn()}},[An,Tn,Wn,Pn,kn]);const Un=reactExports.useMemo(()=>({reference:$n,floating:Dn,setReference:jn,setFloating:Cn}),[jn,Cn]),Vn=reactExports.useMemo(()=>({reference:An,floating:Tn}),[An,Tn]),Hn=reactExports.useMemo(()=>{const Ln={position:un,left:0,top:0};if(!Vn.floating)return Ln;const zn=roundByDPR(Vn.floating,yn.x),Bn=roundByDPR(Vn.floating,yn.y);return fn?{...Ln,transform:"translate("+zn+"px, "+Bn+"px)",...getDPR(Vn.floating)>=1.5&&{willChange:"transform"}}:{position:un,left:zn,top:Bn}},[un,fn,Vn.floating,yn.x,yn.y]);return reactExports.useMemo(()=>({...yn,update:Wn,refs:Un,elements:Vn,floatingStyles:Hn}),[yn,Wn,Un,Vn,Hn])}const arrow$1$1=tn=>{function sn(un){return{}.hasOwnProperty.call(un,"current")}return{name:"arrow",options:tn,fn(un){const{element:dn,padding:pn}=typeof tn=="function"?tn(un):tn;return dn&&sn(dn)?dn.current!=null?arrow$3({element:dn.current,padding:pn}).fn(un):{}:dn?arrow$3({element:dn,padding:pn}).fn(un):{}}}},offset$2=(tn,sn)=>({...offset$3(tn),options:[tn,sn]}),shift=(tn,sn)=>({...shift$1(tn),options:[tn,sn]}),limitShift=(tn,sn)=>({...limitShift$1(tn),options:[tn,sn]}),flip$2=(tn,sn)=>({...flip$3(tn),options:[tn,sn]}),size=(tn,sn)=>({...size$1(tn),options:[tn,sn]}),hide$2=(tn,sn)=>({...hide$3(tn),options:[tn,sn]}),arrow$2=(tn,sn)=>({...arrow$1$1(tn),options:[tn,sn]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((tn,sn)=>{const{children:un,width:dn=10,height:pn=5,...mn}=tn;return jsxRuntimeExports.jsx(Primitive.svg,{...mn,ref:sn,width:dn,height:pn,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:tn.asChild?un:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$8=Arrow$1;function useSize(tn){const[sn,un]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(tn){un({width:tn.offsetWidth,height:tn.offsetHeight});const dn=new ResizeObserver(pn=>{if(!Array.isArray(pn)||!pn.length)return;const mn=pn[0];let hn,fn;if("borderBoxSize"in mn){const gn=mn.borderBoxSize,xn=Array.isArray(gn)?gn[0]:gn;hn=xn.inlineSize,fn=xn.blockSize}else hn=tn.offsetWidth,fn=tn.offsetHeight;un({width:hn,height:fn})});return dn.observe(tn,{box:"border-box"}),()=>dn.unobserve(tn)}else un(void 0)},[tn]),sn}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=tn=>{const{__scopePopper:sn,children:un}=tn,[dn,pn]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:sn,anchor:dn,onAnchorChange:pn,children:un})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((tn,sn)=>{const{__scopePopper:un,virtualRef:dn,...pn}=tn,mn=usePopperContext(ANCHOR_NAME$1,un),hn=reactExports.useRef(null),fn=useComposedRefs(sn,hn);return reactExports.useEffect(()=>{mn.onAnchorChange((dn==null?void 0:dn.current)||hn.current)}),dn?null:jsxRuntimeExports.jsx(Primitive.div,{...pn,ref:fn})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$6="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$6),PopperContent=reactExports.forwardRef((tn,sn)=>{var Er,yr,xr,vr,nr,sr;const{__scopePopper:un,side:dn="bottom",sideOffset:pn=0,align:mn="center",alignOffset:hn=0,arrowPadding:fn=0,avoidCollisions:gn=!0,collisionBoundary:xn=[],collisionPadding:yn=0,sticky:vn="partial",hideWhenDetached:En=!1,updatePositionStrategy:bn="optimized",onPlaced:wn,...Sn}=tn,Rn=usePopperContext(CONTENT_NAME$6,un),[_n,jn]=reactExports.useState(null),Cn=useComposedRefs(sn,Rr=>jn(Rr)),[An,Tn]=reactExports.useState(null),$n=useSize(An),Dn=($n==null?void 0:$n.width)??0,Nn=($n==null?void 0:$n.height)??0,kn=dn+(mn!=="center"?"-"+mn:""),Pn=typeof yn=="number"?yn:{top:0,right:0,bottom:0,left:0,...yn},Mn=Array.isArray(xn)?xn:[xn],On=Mn.length>0,Wn={padding:Pn,boundary:Mn.filter(isNotNull$1),altBoundary:On},{refs:In,floatingStyles:Un,placement:Vn,isPositioned:Hn,middlewareData:Ln}=useFloating({strategy:"fixed",placement:kn,whileElementsMounted:(...Rr)=>autoUpdate(...Rr,{animationFrame:bn==="always"}),elements:{reference:Rn.anchor},middleware:[offset$2({mainAxis:pn+Nn,alignmentAxis:hn}),gn&&shift({mainAxis:!0,crossAxis:!1,limiter:vn==="partial"?limitShift():void 0,...Wn}),gn&&flip$2({...Wn}),size({...Wn,apply:({elements:Rr,rects:Ar,availableWidth:Lr,availableHeight:Or})=>{const{width:Zn,height:Cr}=Ar.reference,Fr=Rr.floating.style;Fr.setProperty("--radix-popper-available-width",`${Lr}px`),Fr.setProperty("--radix-popper-available-height",`${Or}px`),Fr.setProperty("--radix-popper-anchor-width",`${Zn}px`),Fr.setProperty("--radix-popper-anchor-height",`${Cr}px`)}}),An&&arrow$2({element:An,padding:fn}),transformOrigin({arrowWidth:Dn,arrowHeight:Nn}),En&&hide$2({strategy:"referenceHidden",...Wn})]}),[zn,Bn]=getSideAndAlignFromPlacement(Vn),Fn=useCallbackRef$1(wn);useLayoutEffect2(()=>{Hn&&(Fn==null||Fn())},[Hn,Fn]);const Gn=(Er=Ln.arrow)==null?void 0:Er.x,qn=(yr=Ln.arrow)==null?void 0:yr.y,Jn=((xr=Ln.arrow)==null?void 0:xr.centerOffset)!==0,[dr,br]=reactExports.useState();return useLayoutEffect2(()=>{_n&&br(window.getComputedStyle(_n).zIndex)},[_n]),jsxRuntimeExports.jsx("div",{ref:In.setFloating,"data-radix-popper-content-wrapper":"",style:{...Un,transform:Hn?Un.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:dr,"--radix-popper-transform-origin":[(vr=Ln.transformOrigin)==null?void 0:vr.x,(nr=Ln.transformOrigin)==null?void 0:nr.y].join(" "),...((sr=Ln.hide)==null?void 0:sr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:tn.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:un,placedSide:zn,onArrowChange:Tn,arrowX:Gn,arrowY:qn,shouldHideArrow:Jn,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":zn,"data-align":Bn,...Sn,ref:Cn,style:{...Sn.style,animation:Hn?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$6;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(sn,un){const{__scopePopper:dn,...pn}=sn,mn=useContentContext(ARROW_NAME$4,dn),hn=OPPOSITE_SIDE[mn.placedSide];return jsxRuntimeExports.jsx("span",{ref:mn.onArrowChange,style:{position:"absolute",left:mn.arrowX,top:mn.arrowY,[hn]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[mn.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[mn.placedSide],visibility:mn.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$8,{...pn,ref:un,style:{...pn.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull$1(tn){return tn!==null}var transformOrigin=tn=>({name:"transformOrigin",options:tn,fn(sn){var Rn,_n,jn;const{placement:un,rects:dn,middlewareData:pn}=sn,hn=((Rn=pn.arrow)==null?void 0:Rn.centerOffset)!==0,fn=hn?0:tn.arrowWidth,gn=hn?0:tn.arrowHeight,[xn,yn]=getSideAndAlignFromPlacement(un),vn={start:"0%",center:"50%",end:"100%"}[yn],En=(((_n=pn.arrow)==null?void 0:_n.x)??0)+fn/2,bn=(((jn=pn.arrow)==null?void 0:jn.y)??0)+gn/2;let wn="",Sn="";return xn==="bottom"?(wn=hn?vn:`${En}px`,Sn=`${-gn}px`):xn==="top"?(wn=hn?vn:`${En}px`,Sn=`${dn.floating.height+gn}px`):xn==="right"?(wn=`${-gn}px`,Sn=hn?vn:`${bn}px`):xn==="left"&&(wn=`${dn.floating.width+gn}px`,Sn=hn?vn:`${bn}px`),{data:{x:wn,y:Sn}}}});function getSideAndAlignFromPlacement(tn){const[sn,un="center"]=tn.split("-");return[sn,un]}var Root2$3=Popper,Anchor$1=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=tn=>{const{__scopeTooltip:sn,delayDuration:un=DEFAULT_DELAY_DURATION,skipDelayDuration:dn=300,disableHoverableContent:pn=!1,children:mn}=tn,hn=reactExports.useRef(!0),fn=reactExports.useRef(!1),gn=reactExports.useRef(0);return reactExports.useEffect(()=>{const xn=gn.current;return()=>window.clearTimeout(xn)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:sn,isOpenDelayedRef:hn,delayDuration:un,onOpen:reactExports.useCallback(()=>{window.clearTimeout(gn.current),hn.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(gn.current),gn.current=window.setTimeout(()=>hn.current=!0,dn)},[dn]),isPointerInTransitRef:fn,onPointerInTransitChange:reactExports.useCallback(xn=>{fn.current=xn},[]),disableHoverableContent:pn,children:mn})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$2=tn=>{const{__scopeTooltip:sn,children:un,open:dn,defaultOpen:pn,onOpenChange:mn,disableHoverableContent:hn,delayDuration:fn}=tn,gn=useTooltipProviderContext(TOOLTIP_NAME,tn.__scopeTooltip),xn=usePopperScope$2(sn),[yn,vn]=reactExports.useState(null),En=useId(),bn=reactExports.useRef(0),wn=hn??gn.disableHoverableContent,Sn=fn??gn.delayDuration,Rn=reactExports.useRef(!1),[_n,jn]=useControllableState({prop:dn,defaultProp:pn??!1,onChange:Dn=>{Dn?(gn.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):gn.onClose(),mn==null||mn(Dn)},caller:TOOLTIP_NAME}),Cn=reactExports.useMemo(()=>_n?Rn.current?"delayed-open":"instant-open":"closed",[_n]),An=reactExports.useCallback(()=>{window.clearTimeout(bn.current),bn.current=0,Rn.current=!1,jn(!0)},[jn]),Tn=reactExports.useCallback(()=>{window.clearTimeout(bn.current),bn.current=0,jn(!1)},[jn]),$n=reactExports.useCallback(()=>{window.clearTimeout(bn.current),bn.current=window.setTimeout(()=>{Rn.current=!0,jn(!0),bn.current=0},Sn)},[Sn,jn]);return reactExports.useEffect(()=>()=>{bn.current&&(window.clearTimeout(bn.current),bn.current=0)},[]),jsxRuntimeExports.jsx(Root2$3,{...xn,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:sn,contentId:En,open:_n,stateAttribute:Cn,trigger:yn,onTriggerChange:vn,onTriggerEnter:reactExports.useCallback(()=>{gn.isOpenDelayedRef.current?$n():An()},[gn.isOpenDelayedRef,$n,An]),onTriggerLeave:reactExports.useCallback(()=>{wn?Tn():(window.clearTimeout(bn.current),bn.current=0)},[Tn,wn]),onOpen:An,onClose:Tn,disableHoverableContent:wn,children:un})})};Tooltip$2.displayName=TOOLTIP_NAME;var TRIGGER_NAME$5="TooltipTrigger",TooltipTrigger$1=reactExports.forwardRef((tn,sn)=>{const{__scopeTooltip:un,...dn}=tn,pn=useTooltipContext(TRIGGER_NAME$5,un),mn=useTooltipProviderContext(TRIGGER_NAME$5,un),hn=usePopperScope$2(un),fn=reactExports.useRef(null),gn=useComposedRefs(sn,fn,pn.onTriggerChange),xn=reactExports.useRef(!1),yn=reactExports.useRef(!1),vn=reactExports.useCallback(()=>xn.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",vn),[vn]),jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...hn,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":pn.open?pn.contentId:void 0,"data-state":pn.stateAttribute,...dn,ref:gn,onPointerMove:composeEventHandlers$1(tn.onPointerMove,En=>{En.pointerType!=="touch"&&!yn.current&&!mn.isPointerInTransitRef.current&&(pn.onTriggerEnter(),yn.current=!0)}),onPointerLeave:composeEventHandlers$1(tn.onPointerLeave,()=>{pn.onTriggerLeave(),yn.current=!1}),onPointerDown:composeEventHandlers$1(tn.onPointerDown,()=>{pn.open&&pn.onClose(),xn.current=!0,document.addEventListener("pointerup",vn,{once:!0})}),onFocus:composeEventHandlers$1(tn.onFocus,()=>{xn.current||pn.onOpen()}),onBlur:composeEventHandlers$1(tn.onBlur,pn.onClose),onClick:composeEventHandlers$1(tn.onClick,pn.onClose)})})});TooltipTrigger$1.displayName=TRIGGER_NAME$5;var PORTAL_NAME$4="TooltipPortal",[PortalProvider$2,usePortalContext$2]=createTooltipContext(PORTAL_NAME$4,{forceMount:void 0}),CONTENT_NAME$5="TooltipContent",TooltipContent$1=reactExports.forwardRef((tn,sn)=>{const un=usePortalContext$2(CONTENT_NAME$5,tn.__scopeTooltip),{forceMount:dn=un.forceMount,side:pn="top",...mn}=tn,hn=useTooltipContext(CONTENT_NAME$5,tn.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:dn||hn.open,children:hn.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:pn,...mn,ref:sn}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:pn,...mn,ref:sn})})}),TooltipContentHoverable=reactExports.forwardRef((tn,sn)=>{const un=useTooltipContext(CONTENT_NAME$5,tn.__scopeTooltip),dn=useTooltipProviderContext(CONTENT_NAME$5,tn.__scopeTooltip),pn=reactExports.useRef(null),mn=useComposedRefs(sn,pn),[hn,fn]=reactExports.useState(null),{trigger:gn,onClose:xn}=un,yn=pn.current,{onPointerInTransitChange:vn}=dn,En=reactExports.useCallback(()=>{fn(null),vn(!1)},[vn]),bn=reactExports.useCallback((wn,Sn)=>{const Rn=wn.currentTarget,_n={x:wn.clientX,y:wn.clientY},jn=getExitSideFromRect(_n,Rn.getBoundingClientRect()),Cn=getPaddedExitPoints(_n,jn),An=getPointsFromRect(Sn.getBoundingClientRect()),Tn=getHull([...Cn,...An]);fn(Tn),vn(!0)},[vn]);return reactExports.useEffect(()=>()=>En(),[En]),reactExports.useEffect(()=>{if(gn&&yn){const wn=Rn=>bn(Rn,yn),Sn=Rn=>bn(Rn,gn);return gn.addEventListener("pointerleave",wn),yn.addEventListener("pointerleave",Sn),()=>{gn.removeEventListener("pointerleave",wn),yn.removeEventListener("pointerleave",Sn)}}},[gn,yn,bn,En]),reactExports.useEffect(()=>{if(hn){const wn=Sn=>{const Rn=Sn.target,_n={x:Sn.clientX,y:Sn.clientY},jn=(gn==null?void 0:gn.contains(Rn))||(yn==null?void 0:yn.contains(Rn)),Cn=!isPointInPolygon$1(_n,hn);jn?En():Cn&&(En(),xn())};return document.addEventListener("pointermove",wn),()=>document.removeEventListener("pointermove",wn)}},[gn,yn,hn,xn,En]),jsxRuntimeExports.jsx(TooltipContentImpl,{...tn,ref:mn})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeTooltip:un,children:dn,"aria-label":pn,onEscapeKeyDown:mn,onPointerDownOutside:hn,...fn}=tn,gn=useTooltipContext(CONTENT_NAME$5,un),xn=usePopperScope$2(un),{onClose:yn}=gn;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,yn),()=>document.removeEventListener(TOOLTIP_OPEN,yn)),[yn]),reactExports.useEffect(()=>{if(gn.trigger){const vn=En=>{const bn=En.target;bn!=null&&bn.contains(gn.trigger)&&yn()};return window.addEventListener("scroll",vn,{capture:!0}),()=>window.removeEventListener("scroll",vn,{capture:!0})}},[gn.trigger,yn]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:mn,onPointerDownOutside:hn,onFocusOutside:vn=>vn.preventDefault(),onDismiss:yn,children:jsxRuntimeExports.jsxs(Content$2,{"data-state":gn.stateAttribute,...xn,...fn,ref:sn,style:{...fn.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:dn}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:un,isInside:!0,children:jsxRuntimeExports.jsx(Root$9,{id:gn.contentId,role:"tooltip",children:pn||dn})})]})})});TooltipContent$1.displayName=CONTENT_NAME$5;var ARROW_NAME$3="TooltipArrow",TooltipArrow=reactExports.forwardRef((tn,sn)=>{const{__scopeTooltip:un,...dn}=tn,pn=usePopperScope$2(un);return useVisuallyHiddenContentContext(ARROW_NAME$3,un).isInside?null:jsxRuntimeExports.jsx(Arrow,{...pn,...dn,ref:sn})});TooltipArrow.displayName=ARROW_NAME$3;function getExitSideFromRect(tn,sn){const un=Math.abs(sn.top-tn.y),dn=Math.abs(sn.bottom-tn.y),pn=Math.abs(sn.right-tn.x),mn=Math.abs(sn.left-tn.x);switch(Math.min(un,dn,pn,mn)){case mn:return"left";case pn:return"right";case un:return"top";case dn:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(tn,sn,un=5){const dn=[];switch(sn){case"top":dn.push({x:tn.x-un,y:tn.y+un},{x:tn.x+un,y:tn.y+un});break;case"bottom":dn.push({x:tn.x-un,y:tn.y-un},{x:tn.x+un,y:tn.y-un});break;case"left":dn.push({x:tn.x+un,y:tn.y-un},{x:tn.x+un,y:tn.y+un});break;case"right":dn.push({x:tn.x-un,y:tn.y-un},{x:tn.x-un,y:tn.y+un});break}return dn}function getPointsFromRect(tn){const{top:sn,right:un,bottom:dn,left:pn}=tn;return[{x:pn,y:sn},{x:un,y:sn},{x:un,y:dn},{x:pn,y:dn}]}function isPointInPolygon$1(tn,sn){const{x:un,y:dn}=tn;let pn=!1;for(let mn=0,hn=sn.length-1;mn<sn.length;hn=mn++){const fn=sn[mn],gn=sn[hn],xn=fn.x,yn=fn.y,vn=gn.x,En=gn.y;yn>dn!=En>dn&&un<(vn-xn)*(dn-yn)/(En-yn)+xn&&(pn=!pn)}return pn}function getHull(tn){const sn=tn.slice();return sn.sort((un,dn)=>un.x<dn.x?-1:un.x>dn.x?1:un.y<dn.y?-1:un.y>dn.y?1:0),getHullPresorted(sn)}function getHullPresorted(tn){if(tn.length<=1)return tn.slice();const sn=[];for(let dn=0;dn<tn.length;dn++){const pn=tn[dn];for(;sn.length>=2;){const mn=sn[sn.length-1],hn=sn[sn.length-2];if((mn.x-hn.x)*(pn.y-hn.y)>=(mn.y-hn.y)*(pn.x-hn.x))sn.pop();else break}sn.push(pn)}sn.pop();const un=[];for(let dn=tn.length-1;dn>=0;dn--){const pn=tn[dn];for(;un.length>=2;){const mn=un[un.length-1],hn=un[un.length-2];if((mn.x-hn.x)*(pn.y-hn.y)>=(mn.y-hn.y)*(pn.x-hn.x))un.pop();else break}un.push(pn)}return un.pop(),sn.length===1&&un.length===1&&sn[0].x===un[0].x&&sn[0].y===un[0].y?sn:sn.concat(un)}var Provider=TooltipProvider$1,Root3$1=Tooltip$2,Trigger$4=TooltipTrigger$1,Content2$3=TooltipContent$1;const TooltipProvider=Provider,Tooltip$1=Root3$1,TooltipTrigger=Trigger$4,TooltipContent=reactExports.forwardRef(({className:tn,sideOffset:sn=4,...un},dn)=>jsxRuntimeExports.jsx(Content2$3,{ref:dn,sideOffset:sn,avoidCollisions:!0,collisionPadding:20,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-w-xs whitespace-pre-wrap break-words",tn),...un}));TooltipContent.displayName=Content2$3.displayName;function LoadingSpinner({size:tn="md",className:sn}){const un={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return jsxRuntimeExports.jsx(LoaderCircle,{className:cn("animate-spin text-gray-600 dark:text-gray-400",un[tn],sn)})}function LoadingState({text:tn="Loading...",size:sn="md",className:un}){return jsxRuntimeExports.jsx("div",{className:cn("flex items-center justify-center p-8",un),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx(LoadingSpinner,{size:sn}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:tn})]})})}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"text-gray-700 hover:bg-gray-100",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:tn,variant:sn,size:un,asChild:dn=!1,...pn},mn)=>{const hn=dn?Slot$3:"button";return jsxRuntimeExports.jsx(hn,{className:cn(buttonVariants({variant:sn,size:un,className:tn})),ref:mn,...pn})});Button.displayName="Button";const Card$1=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",tn),...sn}));Card$1.displayName="Card";const CardHeader$1=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("flex flex-col space-y-1.5 p-6",tn),...sn}));CardHeader$1.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("text-2xl font-semibold leading-none tracking-tight",tn),...sn}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("text-sm text-muted-foreground",tn),...sn}));CardDescription.displayName="CardDescription";const CardContent$1=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("p-6 pt-0",tn),...sn}));CardContent$1.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("flex items-center p-6 pt-0",tn),...sn}));CardFooter.displayName="CardFooter";let ErrorBoundary$1=class extends reactExports.Component{constructor(sn){super(sn),this.handleReload=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(sn){return{hasError:!0,error:sn}}componentDidCatch(sn,un){var dn,pn;console.error("Error caught by boundary:",sn,un),(pn=(dn=this.props).onError)==null||pn.call(dn,sn,un)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:jsxRuntimeExports.jsxs(Card$1,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-gray-900 dark:text-white",children:"Something went wrong"}),jsxRuntimeExports.jsx(CardDescription,{children:"We encountered an unexpected error. Please try refreshing the page."})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-4",children:[!1,jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:this.handleReload,className:"flex-1",variant:"outline",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),"Try Again"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>window.location.reload(),className:"flex-1",children:"Refresh Page"})]})]})]})}):this.props.children}};const sandwichLogo="/assets/TSP_transparent-Bp9SEQ_7.png",squareSandwichLogo="/assets/sandwich%20logo-DvhvnHfZ.png";var DirectionContext=reactExports.createContext(void 0);function useDirection(tn){const sn=reactExports.useContext(DirectionContext);return tn||sn||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME$3="RovingFocusGroup",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(GROUP_NAME$3),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$3,[createCollectionScope$2]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$3),RovingFocusGroup=reactExports.forwardRef((tn,sn)=>jsxRuntimeExports.jsx(Collection$2.Provider,{scope:tn.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:tn.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...tn,ref:sn})})}));RovingFocusGroup.displayName=GROUP_NAME$3;var RovingFocusGroupImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeRovingFocusGroup:un,orientation:dn,loop:pn=!1,dir:mn,currentTabStopId:hn,defaultCurrentTabStopId:fn,onCurrentTabStopIdChange:gn,onEntryFocus:xn,preventScrollOnEntryFocus:yn=!1,...vn}=tn,En=reactExports.useRef(null),bn=useComposedRefs(sn,En),wn=useDirection(mn),[Sn,Rn]=useControllableState({prop:hn,defaultProp:fn??null,onChange:gn,caller:GROUP_NAME$3}),[_n,jn]=reactExports.useState(!1),Cn=useCallbackRef$1(xn),An=useCollection$2(un),Tn=reactExports.useRef(!1),[$n,Dn]=reactExports.useState(0);return reactExports.useEffect(()=>{const Nn=En.current;if(Nn)return Nn.addEventListener(ENTRY_FOCUS,Cn),()=>Nn.removeEventListener(ENTRY_FOCUS,Cn)},[Cn]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:un,orientation:dn,dir:wn,loop:pn,currentTabStopId:Sn,onItemFocus:reactExports.useCallback(Nn=>Rn(Nn),[Rn]),onItemShiftTab:reactExports.useCallback(()=>jn(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>Dn(Nn=>Nn+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>Dn(Nn=>Nn-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:_n||$n===0?-1:0,"data-orientation":dn,...vn,ref:bn,style:{outline:"none",...tn.style},onMouseDown:composeEventHandlers$1(tn.onMouseDown,()=>{Tn.current=!0}),onFocus:composeEventHandlers$1(tn.onFocus,Nn=>{const kn=!Tn.current;if(Nn.target===Nn.currentTarget&&kn&&!_n){const Pn=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(Nn.currentTarget.dispatchEvent(Pn),!Pn.defaultPrevented){const Mn=An().filter(Vn=>Vn.focusable),On=Mn.find(Vn=>Vn.active),Wn=Mn.find(Vn=>Vn.id===Sn),Un=[On,Wn,...Mn].filter(Boolean).map(Vn=>Vn.ref.current);focusFirst$2(Un,yn)}}Tn.current=!1}),onBlur:composeEventHandlers$1(tn.onBlur,()=>jn(!1))})})}),ITEM_NAME$3="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((tn,sn)=>{const{__scopeRovingFocusGroup:un,focusable:dn=!0,active:pn=!1,tabStopId:mn,children:hn,...fn}=tn,gn=useId(),xn=mn||gn,yn=useRovingFocusContext(ITEM_NAME$3,un),vn=yn.currentTabStopId===xn,En=useCollection$2(un),{onFocusableItemAdd:bn,onFocusableItemRemove:wn,currentTabStopId:Sn}=yn;return reactExports.useEffect(()=>{if(dn)return bn(),()=>wn()},[dn,bn,wn]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:un,id:xn,focusable:dn,active:pn,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:vn?0:-1,"data-orientation":yn.orientation,...fn,ref:sn,onMouseDown:composeEventHandlers$1(tn.onMouseDown,Rn=>{dn?yn.onItemFocus(xn):Rn.preventDefault()}),onFocus:composeEventHandlers$1(tn.onFocus,()=>yn.onItemFocus(xn)),onKeyDown:composeEventHandlers$1(tn.onKeyDown,Rn=>{if(Rn.key==="Tab"&&Rn.shiftKey){yn.onItemShiftTab();return}if(Rn.target!==Rn.currentTarget)return;const _n=getFocusIntent(Rn,yn.orientation,yn.dir);if(_n!==void 0){if(Rn.metaKey||Rn.ctrlKey||Rn.altKey||Rn.shiftKey)return;Rn.preventDefault();let Cn=En().filter(An=>An.focusable).map(An=>An.ref.current);if(_n==="last")Cn.reverse();else if(_n==="prev"||_n==="next"){_n==="prev"&&Cn.reverse();const An=Cn.indexOf(Rn.currentTarget);Cn=yn.loop?wrapArray$2(Cn,An+1):Cn.slice(An+1)}setTimeout(()=>focusFirst$2(Cn))}}),children:typeof hn=="function"?hn({isCurrentTabStop:vn,hasTabStop:Sn!=null}):hn})})});RovingFocusGroupItem.displayName=ITEM_NAME$3;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(tn,sn){return sn!=="rtl"?tn:tn==="ArrowLeft"?"ArrowRight":tn==="ArrowRight"?"ArrowLeft":tn}function getFocusIntent(tn,sn,un){const dn=getDirectionAwareKey(tn.key,un);if(!(sn==="vertical"&&["ArrowLeft","ArrowRight"].includes(dn))&&!(sn==="horizontal"&&["ArrowUp","ArrowDown"].includes(dn)))return MAP_KEY_TO_FOCUS_INTENT[dn]}function focusFirst$2(tn,sn=!1){const un=document.activeElement;for(const dn of tn)if(dn===un||(dn.focus({preventScroll:sn}),document.activeElement!==un))return}function wrapArray$2(tn,sn){return tn.map((un,dn)=>tn[(sn+dn)%tn.length])}var Root$7=RovingFocusGroup,Item$2=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((tn,sn)=>{const{__scopeTabs:un,value:dn,onValueChange:pn,defaultValue:mn,orientation:hn="horizontal",dir:fn,activationMode:gn="automatic",...xn}=tn,yn=useDirection(fn),[vn,En]=useControllableState({prop:dn,onChange:pn,defaultProp:mn??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:un,baseId:useId(),value:vn,onValueChange:En,orientation:hn,dir:yn,activationMode:gn,children:jsxRuntimeExports.jsx(Primitive.div,{dir:yn,"data-orientation":hn,...xn,ref:sn})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((tn,sn)=>{const{__scopeTabs:un,loop:dn=!0,...pn}=tn,mn=useTabsContext(TAB_LIST_NAME,un),hn=useRovingFocusGroupScope$1(un);return jsxRuntimeExports.jsx(Root$7,{asChild:!0,...hn,orientation:mn.orientation,dir:mn.dir,loop:dn,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":mn.orientation,...pn,ref:sn})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$4="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((tn,sn)=>{const{__scopeTabs:un,value:dn,disabled:pn=!1,...mn}=tn,hn=useTabsContext(TRIGGER_NAME$4,un),fn=useRovingFocusGroupScope$1(un),gn=makeTriggerId(hn.baseId,dn),xn=makeContentId(hn.baseId,dn),yn=dn===hn.value;return jsxRuntimeExports.jsx(Item$2,{asChild:!0,...fn,focusable:!pn,active:yn,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":yn,"aria-controls":xn,"data-state":yn?"active":"inactive","data-disabled":pn?"":void 0,disabled:pn,id:gn,...mn,ref:sn,onMouseDown:composeEventHandlers$1(tn.onMouseDown,vn=>{!pn&&vn.button===0&&vn.ctrlKey===!1?hn.onValueChange(dn):vn.preventDefault()}),onKeyDown:composeEventHandlers$1(tn.onKeyDown,vn=>{[" ","Enter"].includes(vn.key)&&hn.onValueChange(dn)}),onFocus:composeEventHandlers$1(tn.onFocus,()=>{const vn=hn.activationMode!=="manual";!yn&&!pn&&vn&&hn.onValueChange(dn)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$4;var CONTENT_NAME$4="TabsContent",TabsContent$1=reactExports.forwardRef((tn,sn)=>{const{__scopeTabs:un,value:dn,forceMount:pn,children:mn,...hn}=tn,fn=useTabsContext(CONTENT_NAME$4,un),gn=makeTriggerId(fn.baseId,dn),xn=makeContentId(fn.baseId,dn),yn=dn===fn.value,vn=reactExports.useRef(yn);return reactExports.useEffect(()=>{const En=requestAnimationFrame(()=>vn.current=!1);return()=>cancelAnimationFrame(En)},[]),jsxRuntimeExports.jsx(Presence,{present:pn||yn,children:({present:En})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":yn?"active":"inactive","data-orientation":fn.orientation,role:"tabpanel","aria-labelledby":gn,hidden:!En,id:xn,tabIndex:0,...hn,ref:sn,style:{...tn.style,animationDuration:vn.current?"0s":void 0},children:En&&mn})})});TabsContent$1.displayName=CONTENT_NAME$4;function makeTriggerId(tn,sn){return`${tn}-trigger-${sn}`}function makeContentId(tn,sn){return`${tn}-content-${sn}`}var Root2$2=Tabs$1,List=TabsList$1,Trigger$3=TabsTrigger$1,Content$1=TabsContent$1;const Tabs=Root2$2,TabsList=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(List,{ref:un,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",tn),...sn}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Trigger$3,{ref:un,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",tn),...sn}));TabsTrigger.displayName=Trigger$3.displayName;const TabsContent=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Content$1,{ref:un,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",tn),...sn}));TabsContent.displayName=Content$1.displayName;const Input=reactExports.forwardRef(({className:tn,type:sn,...un},dn)=>jsxRuntimeExports.jsx("input",{type:sn,className:cn("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-base text-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",tn),ref:dn,...un}));Input.displayName="Input";const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:tn,variant:sn,...un}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:sn}),tn),...un})}function toDate(tn){const sn=Object.prototype.toString.call(tn);return tn instanceof Date||typeof tn=="object"&&sn==="[object Date]"?new tn.constructor(+tn):typeof tn=="number"||sn==="[object Number]"||typeof tn=="string"||sn==="[object String]"?new Date(tn):new Date(NaN)}function constructFrom(tn,sn){return tn instanceof Date?new tn.constructor(sn):new Date(sn)}function addDays(tn,sn){const un=toDate(tn);return isNaN(sn)?constructFrom(tn,NaN):(sn&&un.setDate(un.getDate()+sn),un)}function addMonths(tn,sn){const un=toDate(tn);if(isNaN(sn))return constructFrom(tn,NaN);if(!sn)return un;const dn=un.getDate(),pn=constructFrom(tn,un.getTime());pn.setMonth(un.getMonth()+sn+1,0);const mn=pn.getDate();return dn>=mn?pn:(un.setFullYear(pn.getFullYear(),pn.getMonth(),dn),un)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,minutesInMonth=43200,minutesInDay=1440;let defaultOptions$1={};function getDefaultOptions(){return defaultOptions$1}function startOfWeek(tn,sn){var fn,gn,xn,yn;const un=getDefaultOptions(),dn=(sn==null?void 0:sn.weekStartsOn)??((gn=(fn=sn==null?void 0:sn.locale)==null?void 0:fn.options)==null?void 0:gn.weekStartsOn)??un.weekStartsOn??((yn=(xn=un.locale)==null?void 0:xn.options)==null?void 0:yn.weekStartsOn)??0,pn=toDate(tn),mn=pn.getDay(),hn=(mn<dn?7:0)+mn-dn;return pn.setDate(pn.getDate()-hn),pn.setHours(0,0,0,0),pn}function startOfISOWeek(tn){return startOfWeek(tn,{weekStartsOn:1})}function getISOWeekYear(tn){const sn=toDate(tn),un=sn.getFullYear(),dn=constructFrom(tn,0);dn.setFullYear(un+1,0,4),dn.setHours(0,0,0,0);const pn=startOfISOWeek(dn),mn=constructFrom(tn,0);mn.setFullYear(un,0,4),mn.setHours(0,0,0,0);const hn=startOfISOWeek(mn);return sn.getTime()>=pn.getTime()?un+1:sn.getTime()>=hn.getTime()?un:un-1}function startOfDay(tn){const sn=toDate(tn);return sn.setHours(0,0,0,0),sn}function getTimezoneOffsetInMilliseconds(tn){const sn=toDate(tn),un=new Date(Date.UTC(sn.getFullYear(),sn.getMonth(),sn.getDate(),sn.getHours(),sn.getMinutes(),sn.getSeconds(),sn.getMilliseconds()));return un.setUTCFullYear(sn.getFullYear()),+tn-+un}function differenceInCalendarDays(tn,sn){const un=startOfDay(tn),dn=startOfDay(sn),pn=+un-getTimezoneOffsetInMilliseconds(un),mn=+dn-getTimezoneOffsetInMilliseconds(dn);return Math.round((pn-mn)/millisecondsInDay)}function startOfISOWeekYear(tn){const sn=getISOWeekYear(tn),un=constructFrom(tn,0);return un.setFullYear(sn,0,4),un.setHours(0,0,0,0),startOfISOWeek(un)}function compareAsc(tn,sn){const un=toDate(tn),dn=toDate(sn),pn=un.getTime()-dn.getTime();return pn<0?-1:pn>0?1:pn}function constructNow(tn){return constructFrom(tn,Date.now())}function isDate$2(tn){return tn instanceof Date||typeof tn=="object"&&Object.prototype.toString.call(tn)==="[object Date]"}function isValid$1(tn){if(!isDate$2(tn)&&typeof tn!="number")return!1;const sn=toDate(tn);return!isNaN(Number(sn))}function differenceInCalendarMonths(tn,sn){const un=toDate(tn),dn=toDate(sn),pn=un.getFullYear()-dn.getFullYear(),mn=un.getMonth()-dn.getMonth();return pn*12+mn}function getRoundingMethod(tn){return sn=>{const dn=(tn?Math[tn]:Math.trunc)(sn);return dn===0?0:dn}}function differenceInMilliseconds(tn,sn){return+toDate(tn)-+toDate(sn)}function endOfDay(tn){const sn=toDate(tn);return sn.setHours(23,59,59,999),sn}function endOfMonth(tn){const sn=toDate(tn),un=sn.getMonth();return sn.setFullYear(sn.getFullYear(),un+1,0),sn.setHours(23,59,59,999),sn}function isLastDayOfMonth(tn){const sn=toDate(tn);return+endOfDay(sn)==+endOfMonth(sn)}function differenceInMonths(tn,sn){const un=toDate(tn),dn=toDate(sn),pn=compareAsc(un,dn),mn=Math.abs(differenceInCalendarMonths(un,dn));let hn;if(mn<1)hn=0;else{un.getMonth()===1&&un.getDate()>27&&un.setDate(30),un.setMonth(un.getMonth()-pn*mn);let fn=compareAsc(un,dn)===-pn;isLastDayOfMonth(toDate(tn))&&mn===1&&compareAsc(tn,dn)===1&&(fn=!1),hn=pn*(mn-Number(fn))}return hn===0?0:hn}function differenceInSeconds(tn,sn,un){const dn=differenceInMilliseconds(tn,sn)/1e3;return getRoundingMethod(un==null?void 0:un.roundingMethod)(dn)}function startOfYear(tn){const sn=toDate(tn),un=constructFrom(tn,0);return un.setFullYear(sn.getFullYear(),0,1),un.setHours(0,0,0,0),un}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(tn,sn,un)=>{let dn;const pn=formatDistanceLocale[tn];return typeof pn=="string"?dn=pn:sn===1?dn=pn.one:dn=pn.other.replace("{{count}}",sn.toString()),un!=null&&un.addSuffix?un.comparison&&un.comparison>0?"in "+dn:dn+" ago":dn};function buildFormatLongFn(tn){return(sn={})=>{const un=sn.width?String(sn.width):tn.defaultWidth;return tn.formats[un]||tn.formats[tn.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(tn,sn,un,dn)=>formatRelativeLocale[tn];function buildLocalizeFn(tn){return(sn,un)=>{const dn=un!=null&&un.context?String(un.context):"standalone";let pn;if(dn==="formatting"&&tn.formattingValues){const hn=tn.defaultFormattingWidth||tn.defaultWidth,fn=un!=null&&un.width?String(un.width):hn;pn=tn.formattingValues[fn]||tn.formattingValues[hn]}else{const hn=tn.defaultWidth,fn=un!=null&&un.width?String(un.width):tn.defaultWidth;pn=tn.values[fn]||tn.values[hn]}const mn=tn.argumentCallback?tn.argumentCallback(sn):sn;return pn[mn]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(tn,sn)=>{const un=Number(tn),dn=un%100;if(dn>20||dn<10)switch(dn%10){case 1:return un+"st";case 2:return un+"nd";case 3:return un+"rd"}return un+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:tn=>tn-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(tn){return(sn,un={})=>{const dn=un.width,pn=dn&&tn.matchPatterns[dn]||tn.matchPatterns[tn.defaultMatchWidth],mn=sn.match(pn);if(!mn)return null;const hn=mn[0],fn=dn&&tn.parsePatterns[dn]||tn.parsePatterns[tn.defaultParseWidth],gn=Array.isArray(fn)?findIndex$2(fn,vn=>vn.test(hn)):findKey$1(fn,vn=>vn.test(hn));let xn;xn=tn.valueCallback?tn.valueCallback(gn):gn,xn=un.valueCallback?un.valueCallback(xn):xn;const yn=sn.slice(hn.length);return{value:xn,rest:yn}}}function findKey$1(tn,sn){for(const un in tn)if(Object.prototype.hasOwnProperty.call(tn,un)&&sn(tn[un]))return un}function findIndex$2(tn,sn){for(let un=0;un<tn.length;un++)if(sn(tn[un]))return un}function buildMatchPatternFn(tn){return(sn,un={})=>{const dn=sn.match(tn.matchPattern);if(!dn)return null;const pn=dn[0],mn=sn.match(tn.parsePattern);if(!mn)return null;let hn=tn.valueCallback?tn.valueCallback(mn[0]):mn[0];hn=un.valueCallback?un.valueCallback(hn):hn;const fn=sn.slice(pn.length);return{value:hn,rest:fn}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:tn=>parseInt(tn,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:tn=>tn+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(tn){const sn=toDate(tn);return differenceInCalendarDays(sn,startOfYear(sn))+1}function getISOWeek(tn){const sn=toDate(tn),un=+startOfISOWeek(sn)-+startOfISOWeekYear(sn);return Math.round(un/millisecondsInWeek)+1}function getWeekYear(tn,sn){var yn,vn,En,bn;const un=toDate(tn),dn=un.getFullYear(),pn=getDefaultOptions(),mn=(sn==null?void 0:sn.firstWeekContainsDate)??((vn=(yn=sn==null?void 0:sn.locale)==null?void 0:yn.options)==null?void 0:vn.firstWeekContainsDate)??pn.firstWeekContainsDate??((bn=(En=pn.locale)==null?void 0:En.options)==null?void 0:bn.firstWeekContainsDate)??1,hn=constructFrom(tn,0);hn.setFullYear(dn+1,0,mn),hn.setHours(0,0,0,0);const fn=startOfWeek(hn,sn),gn=constructFrom(tn,0);gn.setFullYear(dn,0,mn),gn.setHours(0,0,0,0);const xn=startOfWeek(gn,sn);return un.getTime()>=fn.getTime()?dn+1:un.getTime()>=xn.getTime()?dn:dn-1}function startOfWeekYear(tn,sn){var fn,gn,xn,yn;const un=getDefaultOptions(),dn=(sn==null?void 0:sn.firstWeekContainsDate)??((gn=(fn=sn==null?void 0:sn.locale)==null?void 0:fn.options)==null?void 0:gn.firstWeekContainsDate)??un.firstWeekContainsDate??((yn=(xn=un.locale)==null?void 0:xn.options)==null?void 0:yn.firstWeekContainsDate)??1,pn=getWeekYear(tn,sn),mn=constructFrom(tn,0);return mn.setFullYear(pn,0,dn),mn.setHours(0,0,0,0),startOfWeek(mn,sn)}function getWeek(tn,sn){const un=toDate(tn),dn=+startOfWeek(un,sn)-+startOfWeekYear(un,sn);return Math.round(dn/millisecondsInWeek)+1}function addLeadingZeros(tn,sn){const un=tn<0?"-":"",dn=Math.abs(tn).toString().padStart(sn,"0");return un+dn}const lightFormatters={y(tn,sn){const un=tn.getFullYear(),dn=un>0?un:1-un;return addLeadingZeros(sn==="yy"?dn%100:dn,sn.length)},M(tn,sn){const un=tn.getMonth();return sn==="M"?String(un+1):addLeadingZeros(un+1,2)},d(tn,sn){return addLeadingZeros(tn.getDate(),sn.length)},a(tn,sn){const un=tn.getHours()/12>=1?"pm":"am";switch(sn){case"a":case"aa":return un.toUpperCase();case"aaa":return un;case"aaaaa":return un[0];case"aaaa":default:return un==="am"?"a.m.":"p.m."}},h(tn,sn){return addLeadingZeros(tn.getHours()%12||12,sn.length)},H(tn,sn){return addLeadingZeros(tn.getHours(),sn.length)},m(tn,sn){return addLeadingZeros(tn.getMinutes(),sn.length)},s(tn,sn){return addLeadingZeros(tn.getSeconds(),sn.length)},S(tn,sn){const un=sn.length,dn=tn.getMilliseconds(),pn=Math.trunc(dn*Math.pow(10,un-3));return addLeadingZeros(pn,sn.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(tn,sn,un){const dn=tn.getFullYear()>0?1:0;switch(sn){case"G":case"GG":case"GGG":return un.era(dn,{width:"abbreviated"});case"GGGGG":return un.era(dn,{width:"narrow"});case"GGGG":default:return un.era(dn,{width:"wide"})}},y:function(tn,sn,un){if(sn==="yo"){const dn=tn.getFullYear(),pn=dn>0?dn:1-dn;return un.ordinalNumber(pn,{unit:"year"})}return lightFormatters.y(tn,sn)},Y:function(tn,sn,un,dn){const pn=getWeekYear(tn,dn),mn=pn>0?pn:1-pn;if(sn==="YY"){const hn=mn%100;return addLeadingZeros(hn,2)}return sn==="Yo"?un.ordinalNumber(mn,{unit:"year"}):addLeadingZeros(mn,sn.length)},R:function(tn,sn){const un=getISOWeekYear(tn);return addLeadingZeros(un,sn.length)},u:function(tn,sn){const un=tn.getFullYear();return addLeadingZeros(un,sn.length)},Q:function(tn,sn,un){const dn=Math.ceil((tn.getMonth()+1)/3);switch(sn){case"Q":return String(dn);case"QQ":return addLeadingZeros(dn,2);case"Qo":return un.ordinalNumber(dn,{unit:"quarter"});case"QQQ":return un.quarter(dn,{width:"abbreviated",context:"formatting"});case"QQQQQ":return un.quarter(dn,{width:"narrow",context:"formatting"});case"QQQQ":default:return un.quarter(dn,{width:"wide",context:"formatting"})}},q:function(tn,sn,un){const dn=Math.ceil((tn.getMonth()+1)/3);switch(sn){case"q":return String(dn);case"qq":return addLeadingZeros(dn,2);case"qo":return un.ordinalNumber(dn,{unit:"quarter"});case"qqq":return un.quarter(dn,{width:"abbreviated",context:"standalone"});case"qqqqq":return un.quarter(dn,{width:"narrow",context:"standalone"});case"qqqq":default:return un.quarter(dn,{width:"wide",context:"standalone"})}},M:function(tn,sn,un){const dn=tn.getMonth();switch(sn){case"M":case"MM":return lightFormatters.M(tn,sn);case"Mo":return un.ordinalNumber(dn+1,{unit:"month"});case"MMM":return un.month(dn,{width:"abbreviated",context:"formatting"});case"MMMMM":return un.month(dn,{width:"narrow",context:"formatting"});case"MMMM":default:return un.month(dn,{width:"wide",context:"formatting"})}},L:function(tn,sn,un){const dn=tn.getMonth();switch(sn){case"L":return String(dn+1);case"LL":return addLeadingZeros(dn+1,2);case"Lo":return un.ordinalNumber(dn+1,{unit:"month"});case"LLL":return un.month(dn,{width:"abbreviated",context:"standalone"});case"LLLLL":return un.month(dn,{width:"narrow",context:"standalone"});case"LLLL":default:return un.month(dn,{width:"wide",context:"standalone"})}},w:function(tn,sn,un,dn){const pn=getWeek(tn,dn);return sn==="wo"?un.ordinalNumber(pn,{unit:"week"}):addLeadingZeros(pn,sn.length)},I:function(tn,sn,un){const dn=getISOWeek(tn);return sn==="Io"?un.ordinalNumber(dn,{unit:"week"}):addLeadingZeros(dn,sn.length)},d:function(tn,sn,un){return sn==="do"?un.ordinalNumber(tn.getDate(),{unit:"date"}):lightFormatters.d(tn,sn)},D:function(tn,sn,un){const dn=getDayOfYear(tn);return sn==="Do"?un.ordinalNumber(dn,{unit:"dayOfYear"}):addLeadingZeros(dn,sn.length)},E:function(tn,sn,un){const dn=tn.getDay();switch(sn){case"E":case"EE":case"EEE":return un.day(dn,{width:"abbreviated",context:"formatting"});case"EEEEE":return un.day(dn,{width:"narrow",context:"formatting"});case"EEEEEE":return un.day(dn,{width:"short",context:"formatting"});case"EEEE":default:return un.day(dn,{width:"wide",context:"formatting"})}},e:function(tn,sn,un,dn){const pn=tn.getDay(),mn=(pn-dn.weekStartsOn+8)%7||7;switch(sn){case"e":return String(mn);case"ee":return addLeadingZeros(mn,2);case"eo":return un.ordinalNumber(mn,{unit:"day"});case"eee":return un.day(pn,{width:"abbreviated",context:"formatting"});case"eeeee":return un.day(pn,{width:"narrow",context:"formatting"});case"eeeeee":return un.day(pn,{width:"short",context:"formatting"});case"eeee":default:return un.day(pn,{width:"wide",context:"formatting"})}},c:function(tn,sn,un,dn){const pn=tn.getDay(),mn=(pn-dn.weekStartsOn+8)%7||7;switch(sn){case"c":return String(mn);case"cc":return addLeadingZeros(mn,sn.length);case"co":return un.ordinalNumber(mn,{unit:"day"});case"ccc":return un.day(pn,{width:"abbreviated",context:"standalone"});case"ccccc":return un.day(pn,{width:"narrow",context:"standalone"});case"cccccc":return un.day(pn,{width:"short",context:"standalone"});case"cccc":default:return un.day(pn,{width:"wide",context:"standalone"})}},i:function(tn,sn,un){const dn=tn.getDay(),pn=dn===0?7:dn;switch(sn){case"i":return String(pn);case"ii":return addLeadingZeros(pn,sn.length);case"io":return un.ordinalNumber(pn,{unit:"day"});case"iii":return un.day(dn,{width:"abbreviated",context:"formatting"});case"iiiii":return un.day(dn,{width:"narrow",context:"formatting"});case"iiiiii":return un.day(dn,{width:"short",context:"formatting"});case"iiii":default:return un.day(dn,{width:"wide",context:"formatting"})}},a:function(tn,sn,un){const pn=tn.getHours()/12>=1?"pm":"am";switch(sn){case"a":case"aa":return un.dayPeriod(pn,{width:"abbreviated",context:"formatting"});case"aaa":return un.dayPeriod(pn,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return un.dayPeriod(pn,{width:"narrow",context:"formatting"});case"aaaa":default:return un.dayPeriod(pn,{width:"wide",context:"formatting"})}},b:function(tn,sn,un){const dn=tn.getHours();let pn;switch(dn===12?pn=dayPeriodEnum.noon:dn===0?pn=dayPeriodEnum.midnight:pn=dn/12>=1?"pm":"am",sn){case"b":case"bb":return un.dayPeriod(pn,{width:"abbreviated",context:"formatting"});case"bbb":return un.dayPeriod(pn,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return un.dayPeriod(pn,{width:"narrow",context:"formatting"});case"bbbb":default:return un.dayPeriod(pn,{width:"wide",context:"formatting"})}},B:function(tn,sn,un){const dn=tn.getHours();let pn;switch(dn>=17?pn=dayPeriodEnum.evening:dn>=12?pn=dayPeriodEnum.afternoon:dn>=4?pn=dayPeriodEnum.morning:pn=dayPeriodEnum.night,sn){case"B":case"BB":case"BBB":return un.dayPeriod(pn,{width:"abbreviated",context:"formatting"});case"BBBBB":return un.dayPeriod(pn,{width:"narrow",context:"formatting"});case"BBBB":default:return un.dayPeriod(pn,{width:"wide",context:"formatting"})}},h:function(tn,sn,un){if(sn==="ho"){let dn=tn.getHours()%12;return dn===0&&(dn=12),un.ordinalNumber(dn,{unit:"hour"})}return lightFormatters.h(tn,sn)},H:function(tn,sn,un){return sn==="Ho"?un.ordinalNumber(tn.getHours(),{unit:"hour"}):lightFormatters.H(tn,sn)},K:function(tn,sn,un){const dn=tn.getHours()%12;return sn==="Ko"?un.ordinalNumber(dn,{unit:"hour"}):addLeadingZeros(dn,sn.length)},k:function(tn,sn,un){let dn=tn.getHours();return dn===0&&(dn=24),sn==="ko"?un.ordinalNumber(dn,{unit:"hour"}):addLeadingZeros(dn,sn.length)},m:function(tn,sn,un){return sn==="mo"?un.ordinalNumber(tn.getMinutes(),{unit:"minute"}):lightFormatters.m(tn,sn)},s:function(tn,sn,un){return sn==="so"?un.ordinalNumber(tn.getSeconds(),{unit:"second"}):lightFormatters.s(tn,sn)},S:function(tn,sn){return lightFormatters.S(tn,sn)},X:function(tn,sn,un){const dn=tn.getTimezoneOffset();if(dn===0)return"Z";switch(sn){case"X":return formatTimezoneWithOptionalMinutes(dn);case"XXXX":case"XX":return formatTimezone(dn);case"XXXXX":case"XXX":default:return formatTimezone(dn,":")}},x:function(tn,sn,un){const dn=tn.getTimezoneOffset();switch(sn){case"x":return formatTimezoneWithOptionalMinutes(dn);case"xxxx":case"xx":return formatTimezone(dn);case"xxxxx":case"xxx":default:return formatTimezone(dn,":")}},O:function(tn,sn,un){const dn=tn.getTimezoneOffset();switch(sn){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(dn,":");case"OOOO":default:return"GMT"+formatTimezone(dn,":")}},z:function(tn,sn,un){const dn=tn.getTimezoneOffset();switch(sn){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(dn,":");case"zzzz":default:return"GMT"+formatTimezone(dn,":")}},t:function(tn,sn,un){const dn=Math.trunc(tn.getTime()/1e3);return addLeadingZeros(dn,sn.length)},T:function(tn,sn,un){const dn=tn.getTime();return addLeadingZeros(dn,sn.length)}};function formatTimezoneShort(tn,sn=""){const un=tn>0?"-":"+",dn=Math.abs(tn),pn=Math.trunc(dn/60),mn=dn%60;return mn===0?un+String(pn):un+String(pn)+sn+addLeadingZeros(mn,2)}function formatTimezoneWithOptionalMinutes(tn,sn){return tn%60===0?(tn>0?"-":"+")+addLeadingZeros(Math.abs(tn)/60,2):formatTimezone(tn,sn)}function formatTimezone(tn,sn=""){const un=tn>0?"-":"+",dn=Math.abs(tn),pn=addLeadingZeros(Math.trunc(dn/60),2),mn=addLeadingZeros(dn%60,2);return un+pn+sn+mn}const dateLongFormatter=(tn,sn)=>{switch(tn){case"P":return sn.date({width:"short"});case"PP":return sn.date({width:"medium"});case"PPP":return sn.date({width:"long"});case"PPPP":default:return sn.date({width:"full"})}},timeLongFormatter=(tn,sn)=>{switch(tn){case"p":return sn.time({width:"short"});case"pp":return sn.time({width:"medium"});case"ppp":return sn.time({width:"long"});case"pppp":default:return sn.time({width:"full"})}},dateTimeLongFormatter=(tn,sn)=>{const un=tn.match(/(P+)(p+)?/)||[],dn=un[1],pn=un[2];if(!pn)return dateLongFormatter(tn,sn);let mn;switch(dn){case"P":mn=sn.dateTime({width:"short"});break;case"PP":mn=sn.dateTime({width:"medium"});break;case"PPP":mn=sn.dateTime({width:"long"});break;case"PPPP":default:mn=sn.dateTime({width:"full"});break}return mn.replace("{{date}}",dateLongFormatter(dn,sn)).replace("{{time}}",timeLongFormatter(pn,sn))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(tn){return dayOfYearTokenRE.test(tn)}function isProtectedWeekYearToken(tn){return weekYearTokenRE.test(tn)}function warnOrThrowProtectedError(tn,sn,un){const dn=message(tn,sn,un);if(console.warn(dn),throwTokens.includes(tn))throw new RangeError(dn)}function message(tn,sn,un){const dn=tn[0]==="Y"?"years":"days of the month";return`Use \`${tn.toLowerCase()}\` instead of \`${tn}\` (in \`${sn}\`) for formatting ${dn} to the input \`${un}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format$1(tn,sn,un){var yn,vn,En,bn;const dn=getDefaultOptions(),pn=dn.locale??enUS,mn=dn.firstWeekContainsDate??((vn=(yn=dn.locale)==null?void 0:yn.options)==null?void 0:vn.firstWeekContainsDate)??1,hn=dn.weekStartsOn??((bn=(En=dn.locale)==null?void 0:En.options)==null?void 0:bn.weekStartsOn)??0,fn=toDate(tn);if(!isValid$1(fn))throw new RangeError("Invalid time value");let gn=sn.match(longFormattingTokensRegExp).map(wn=>{const Sn=wn[0];if(Sn==="p"||Sn==="P"){const Rn=longFormatters[Sn];return Rn(wn,pn.formatLong)}return wn}).join("").match(formattingTokensRegExp).map(wn=>{if(wn==="''")return{isToken:!1,value:"'"};const Sn=wn[0];if(Sn==="'")return{isToken:!1,value:cleanEscapedString(wn)};if(formatters[Sn])return{isToken:!0,value:wn};if(Sn.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Sn+"`");return{isToken:!1,value:wn}});pn.localize.preprocessor&&(gn=pn.localize.preprocessor(fn,gn));const xn={firstWeekContainsDate:mn,weekStartsOn:hn,locale:pn};return gn.map(wn=>{if(!wn.isToken)return wn.value;const Sn=wn.value;(isProtectedWeekYearToken(Sn)||isProtectedDayOfYearToken(Sn))&&warnOrThrowProtectedError(Sn,sn,String(tn));const Rn=formatters[Sn[0]];return Rn(fn,Sn,pn.localize,xn)}).join("")}function cleanEscapedString(tn){const sn=tn.match(escapedStringRegExp);return sn?sn[1].replace(doubleQuoteRegExp,"'"):tn}function formatDistance(tn,sn,un){const dn=getDefaultOptions(),pn=(un==null?void 0:un.locale)??dn.locale??enUS,mn=2520,hn=compareAsc(tn,sn);if(isNaN(hn))throw new RangeError("Invalid time value");const fn=Object.assign({},un,{addSuffix:un==null?void 0:un.addSuffix,comparison:hn});let gn,xn;hn>0?(gn=toDate(sn),xn=toDate(tn)):(gn=toDate(tn),xn=toDate(sn));const yn=differenceInSeconds(xn,gn),vn=(getTimezoneOffsetInMilliseconds(xn)-getTimezoneOffsetInMilliseconds(gn))/1e3,En=Math.round((yn-vn)/60);let bn;if(En<2)return un!=null&&un.includeSeconds?yn<5?pn.formatDistance("lessThanXSeconds",5,fn):yn<10?pn.formatDistance("lessThanXSeconds",10,fn):yn<20?pn.formatDistance("lessThanXSeconds",20,fn):yn<40?pn.formatDistance("halfAMinute",0,fn):yn<60?pn.formatDistance("lessThanXMinutes",1,fn):pn.formatDistance("xMinutes",1,fn):En===0?pn.formatDistance("lessThanXMinutes",1,fn):pn.formatDistance("xMinutes",En,fn);if(En<45)return pn.formatDistance("xMinutes",En,fn);if(En<90)return pn.formatDistance("aboutXHours",1,fn);if(En<minutesInDay){const wn=Math.round(En/60);return pn.formatDistance("aboutXHours",wn,fn)}else{if(En<mn)return pn.formatDistance("xDays",1,fn);if(En<minutesInMonth){const wn=Math.round(En/minutesInDay);return pn.formatDistance("xDays",wn,fn)}else if(En<minutesInMonth*2)return bn=Math.round(En/minutesInMonth),pn.formatDistance("aboutXMonths",bn,fn)}if(bn=differenceInMonths(xn,gn),bn<12){const wn=Math.round(En/minutesInMonth);return pn.formatDistance("xMonths",wn,fn)}else{const wn=bn%12,Sn=Math.trunc(bn/12);return wn<3?pn.formatDistance("aboutXYears",Sn,fn):wn<9?pn.formatDistance("overXYears",Sn,fn):pn.formatDistance("almostXYears",Sn+1,fn)}}function formatDistanceToNow(tn,sn){return formatDistance(tn,constructNow(tn),sn)}function subDays(tn,sn){return addDays(tn,-sn)}function subMonths(tn,sn){return addMonths(tn,-sn)}const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(tn=>{PACKET_TYPES_REVERSE[PACKET_TYPES[tn]]=tn});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=tn=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(tn):tn&&tn.buffer instanceof ArrayBuffer,encodePacket=({type:tn,data:sn},un,dn)=>withNativeBlob$1&&sn instanceof Blob?un?dn(sn):encodeBlobAsBase64(sn,dn):withNativeArrayBuffer$2&&(sn instanceof ArrayBuffer||isView$1(sn))?un?dn(sn):encodeBlobAsBase64(new Blob([sn]),dn):dn(PACKET_TYPES[tn]+(sn||"")),encodeBlobAsBase64=(tn,sn)=>{const un=new FileReader;return un.onload=function(){const dn=un.result.split(",")[1];sn("b"+(dn||""))},un.readAsDataURL(tn)};function toArray$2(tn){return tn instanceof Uint8Array?tn:tn instanceof ArrayBuffer?new Uint8Array(tn):new Uint8Array(tn.buffer,tn.byteOffset,tn.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(tn,sn){if(withNativeBlob$1&&tn.data instanceof Blob)return tn.data.arrayBuffer().then(toArray$2).then(sn);if(withNativeArrayBuffer$2&&(tn.data instanceof ArrayBuffer||isView$1(tn.data)))return sn(toArray$2(tn.data));encodePacket(tn,!1,un=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),sn(TEXT_ENCODER.encode(un))})}const chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let tn=0;tn<chars$1.length;tn++)lookup$1[chars$1.charCodeAt(tn)]=tn;const decode$2=tn=>{let sn=tn.length*.75,un=tn.length,dn,pn=0,mn,hn,fn,gn;tn[tn.length-1]==="="&&(sn--,tn[tn.length-2]==="="&&sn--);const xn=new ArrayBuffer(sn),yn=new Uint8Array(xn);for(dn=0;dn<un;dn+=4)mn=lookup$1[tn.charCodeAt(dn)],hn=lookup$1[tn.charCodeAt(dn+1)],fn=lookup$1[tn.charCodeAt(dn+2)],gn=lookup$1[tn.charCodeAt(dn+3)],yn[pn++]=mn<<2|hn>>4,yn[pn++]=(hn&15)<<4|fn>>2,yn[pn++]=(fn&3)<<6|gn&63;return xn},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(tn,sn)=>{if(typeof tn!="string")return{type:"message",data:mapBinary(tn,sn)};const un=tn.charAt(0);return un==="b"?{type:"message",data:decodeBase64Packet(tn.substring(1),sn)}:PACKET_TYPES_REVERSE[un]?tn.length>1?{type:PACKET_TYPES_REVERSE[un],data:tn.substring(1)}:{type:PACKET_TYPES_REVERSE[un]}:ERROR_PACKET},decodeBase64Packet=(tn,sn)=>{if(withNativeArrayBuffer$1){const un=decode$2(tn);return mapBinary(un,sn)}else return{base64:!0,data:tn}},mapBinary=(tn,sn)=>{switch(sn){case"blob":return tn instanceof Blob?tn:new Blob([tn]);case"arraybuffer":default:return tn instanceof ArrayBuffer?tn:tn.buffer}},SEPARATOR="",encodePayload=(tn,sn)=>{const un=tn.length,dn=new Array(un);let pn=0;tn.forEach((mn,hn)=>{encodePacket(mn,!1,fn=>{dn[hn]=fn,++pn===un&&sn(dn.join(SEPARATOR))})})},decodePayload=(tn,sn)=>{const un=tn.split(SEPARATOR),dn=[];for(let pn=0;pn<un.length;pn++){const mn=decodePacket(un[pn],sn);if(dn.push(mn),mn.type==="error")break}return dn};function createPacketEncoderStream(){return new TransformStream({transform(tn,sn){encodePacketToBinary(tn,un=>{const dn=un.length;let pn;if(dn<126)pn=new Uint8Array(1),new DataView(pn.buffer).setUint8(0,dn);else if(dn<65536){pn=new Uint8Array(3);const mn=new DataView(pn.buffer);mn.setUint8(0,126),mn.setUint16(1,dn)}else{pn=new Uint8Array(9);const mn=new DataView(pn.buffer);mn.setUint8(0,127),mn.setBigUint64(1,BigInt(dn))}tn.data&&typeof tn.data!="string"&&(pn[0]|=128),sn.enqueue(pn),sn.enqueue(un)})}})}let TEXT_DECODER;function totalLength(tn){return tn.reduce((sn,un)=>sn+un.length,0)}function concatChunks(tn,sn){if(tn[0].length===sn)return tn.shift();const un=new Uint8Array(sn);let dn=0;for(let pn=0;pn<sn;pn++)un[pn]=tn[0][dn++],dn===tn[0].length&&(tn.shift(),dn=0);return tn.length&&dn<tn[0].length&&(tn[0]=tn[0].slice(dn)),un}function createPacketDecoderStream(tn,sn){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const un=[];let dn=0,pn=-1,mn=!1;return new TransformStream({transform(hn,fn){for(un.push(hn);;){if(dn===0){if(totalLength(un)<1)break;const gn=concatChunks(un,1);mn=(gn[0]&128)===128,pn=gn[0]&127,pn<126?dn=3:pn===126?dn=1:dn=2}else if(dn===1){if(totalLength(un)<2)break;const gn=concatChunks(un,2);pn=new DataView(gn.buffer,gn.byteOffset,gn.length).getUint16(0),dn=3}else if(dn===2){if(totalLength(un)<8)break;const gn=concatChunks(un,8),xn=new DataView(gn.buffer,gn.byteOffset,gn.length),yn=xn.getUint32(0);if(yn>Math.pow(2,21)-1){fn.enqueue(ERROR_PACKET);break}pn=yn*Math.pow(2,32)+xn.getUint32(4),dn=3}else{if(totalLength(un)<pn)break;const gn=concatChunks(un,pn);fn.enqueue(decodePacket(mn?gn:TEXT_DECODER.decode(gn),sn)),dn=0}if(pn===0||pn>tn){fn.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(tn){if(tn)return mixin(tn)}function mixin(tn){for(var sn in Emitter.prototype)tn[sn]=Emitter.prototype[sn];return tn}Emitter.prototype.on=Emitter.prototype.addEventListener=function(tn,sn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+tn]=this._callbacks["$"+tn]||[]).push(sn),this};Emitter.prototype.once=function(tn,sn){function un(){this.off(tn,un),sn.apply(this,arguments)}return un.fn=sn,this.on(tn,un),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(tn,sn){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var un=this._callbacks["$"+tn];if(!un)return this;if(arguments.length==1)return delete this._callbacks["$"+tn],this;for(var dn,pn=0;pn<un.length;pn++)if(dn=un[pn],dn===sn||dn.fn===sn){un.splice(pn,1);break}return un.length===0&&delete this._callbacks["$"+tn],this};Emitter.prototype.emit=function(tn){this._callbacks=this._callbacks||{};for(var sn=new Array(arguments.length-1),un=this._callbacks["$"+tn],dn=1;dn<arguments.length;dn++)sn[dn-1]=arguments[dn];if(un){un=un.slice(0);for(var dn=0,pn=un.length;dn<pn;++dn)un[dn].apply(this,sn)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(tn){return this._callbacks=this._callbacks||{},this._callbacks["$"+tn]||[]};Emitter.prototype.hasListeners=function(tn){return!!this.listeners(tn).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?sn=>Promise.resolve().then(sn):(sn,un)=>un(sn,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick$1(tn,...sn){return sn.reduce((un,dn)=>(tn.hasOwnProperty(dn)&&(un[dn]=tn[dn]),un),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(tn,sn){sn.useNativeTimers?(tn.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),tn.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(tn.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),tn.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(tn){return typeof tn=="string"?utf8Length(tn):Math.ceil((tn.byteLength||tn.size)*BASE64_OVERHEAD)}function utf8Length(tn){let sn=0,un=0;for(let dn=0,pn=tn.length;dn<pn;dn++)sn=tn.charCodeAt(dn),sn<128?un+=1:sn<2048?un+=2:sn<55296||sn>=57344?un+=3:(dn++,un+=4);return un}function randomString$1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode$1(tn){let sn="";for(let un in tn)tn.hasOwnProperty(un)&&(sn.length&&(sn+="&"),sn+=encodeURIComponent(un)+"="+encodeURIComponent(tn[un]));return sn}function decode$1(tn){let sn={},un=tn.split("&");for(let dn=0,pn=un.length;dn<pn;dn++){let mn=un[dn].split("=");sn[decodeURIComponent(mn[0])]=decodeURIComponent(mn[1])}return sn}class TransportError extends Error{constructor(sn,un,dn){super(sn),this.description=un,this.context=dn,this.type="TransportError"}}class Transport extends Emitter{constructor(sn){super(),this.writable=!1,installTimerFunctions(this,sn),this.opts=sn,this.query=sn.query,this.socket=sn.socket,this.supportsBinary=!sn.forceBase64}onError(sn,un,dn){return super.emitReserved("error",new TransportError(sn,un,dn)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(sn){this.readyState==="open"&&this.write(sn)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(sn){const un=decodePacket(sn,this.socket.binaryType);this.onPacket(un)}onPacket(sn){super.emitReserved("packet",sn)}onClose(sn){this.readyState="closed",super.emitReserved("close",sn)}pause(sn){}createUri(sn,un={}){return sn+"://"+this._hostname()+this._port()+this.opts.path+this._query(un)}_hostname(){const sn=this.opts.hostname;return sn.indexOf(":")===-1?sn:"["+sn+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(sn){const un=encode$1(sn);return un.length?"?"+un:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(sn){this.readyState="pausing";const un=()=>{this.readyState="paused",sn()};if(this._polling||!this.writable){let dn=0;this._polling&&(dn++,this.once("pollComplete",function(){--dn||un()})),this.writable||(dn++,this.once("drain",function(){--dn||un()}))}else un()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(sn){const un=dn=>{if(this.readyState==="opening"&&dn.type==="open"&&this.onOpen(),dn.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(dn)};decodePayload(sn,this.socket.binaryType).forEach(un),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const sn=()=>{this.write([{type:"close"}])};this.readyState==="open"?sn():this.once("open",sn)}write(sn){this.writable=!1,encodePayload(sn,un=>{this.doWrite(un,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const sn=this.opts.secure?"https":"http",un=this.query||{};return this.opts.timestampRequests!==!1&&(un[this.opts.timestampParam]=randomString$1()),!this.supportsBinary&&!un.sid&&(un.b64=1),this.createUri(sn,un)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function empty$2(){}class BaseXHR extends Polling{constructor(sn){if(super(sn),typeof location<"u"){const un=location.protocol==="https:";let dn=location.port;dn||(dn=un?"443":"80"),this.xd=typeof location<"u"&&sn.hostname!==location.hostname||dn!==sn.port}}doWrite(sn,un){const dn=this.request({method:"POST",data:sn});dn.on("success",un),dn.on("error",(pn,mn)=>{this.onError("xhr post error",pn,mn)})}doPoll(){const sn=this.request();sn.on("data",this.onData.bind(this)),sn.on("error",(un,dn)=>{this.onError("xhr poll error",un,dn)}),this.pollXhr=sn}}class Request extends Emitter{constructor(sn,un,dn){super(),this.createRequest=sn,installTimerFunctions(this,dn),this._opts=dn,this._method=dn.method||"GET",this._uri=un,this._data=dn.data!==void 0?dn.data:null,this._create()}_create(){var sn;const un=pick$1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");un.xdomain=!!this._opts.xd;const dn=this._xhr=this.createRequest(un);try{dn.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){dn.setDisableHeaderCheck&&dn.setDisableHeaderCheck(!0);for(let pn in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(pn)&&dn.setRequestHeader(pn,this._opts.extraHeaders[pn])}}catch{}if(this._method==="POST")try{dn.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{dn.setRequestHeader("Accept","*/*")}catch{}(sn=this._opts.cookieJar)===null||sn===void 0||sn.addCookies(dn),"withCredentials"in dn&&(dn.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(dn.timeout=this._opts.requestTimeout),dn.onreadystatechange=()=>{var pn;dn.readyState===3&&((pn=this._opts.cookieJar)===null||pn===void 0||pn.parseCookies(dn.getResponseHeader("set-cookie"))),dn.readyState===4&&(dn.status===200||dn.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof dn.status=="number"?dn.status:0)},0))},dn.send(this._data)}catch(pn){this.setTimeoutFn(()=>{this._onError(pn)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(sn){this.emitReserved("error",sn,this._xhr),this._cleanup(!0)}_cleanup(sn){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty$2,sn)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const sn=this._xhr.responseText;sn!==null&&(this.emitReserved("data",sn),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const tn="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(tn,unloadHandler,!1)}}function unloadHandler(){for(let tn in Request.requests)Request.requests.hasOwnProperty(tn)&&Request.requests[tn].abort()}const hasXHR2=function(){const tn=newRequest({xdomain:!1});return tn&&tn.responseType!==null}();class XHR extends BaseXHR{constructor(sn){super(sn);const un=sn&&sn.forceBase64;this.supportsBinary=hasXHR2&&!un}request(sn={}){return Object.assign(sn,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),sn)}}function newRequest(tn){const sn=tn.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!sn||hasCORS))return new XMLHttpRequest}catch{}if(!sn)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const sn=this.uri(),un=this.opts.protocols,dn=isReactNative?{}:pick$1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(dn.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(sn,un,dn)}catch(pn){return this.emitReserved("error",pn)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=sn=>this.onClose({description:"websocket connection closed",context:sn}),this.ws.onmessage=sn=>this.onData(sn.data),this.ws.onerror=sn=>this.onError("websocket error",sn)}write(sn){this.writable=!1;for(let un=0;un<sn.length;un++){const dn=sn[un],pn=un===sn.length-1;encodePacket(dn,this.supportsBinary,mn=>{try{this.doWrite(dn,mn)}catch{}pn&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const sn=this.opts.secure?"wss":"ws",un=this.query||{};return this.opts.timestampRequests&&(un[this.opts.timestampParam]=randomString$1()),this.supportsBinary||(un.b64=1),this.createUri(sn,un)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;let WS$2=class extends BaseWS{createSocket(sn,un,dn){return isReactNative?new WebSocketCtor(sn,un,dn):un?new WebSocketCtor(sn,un):new WebSocketCtor(sn)}doWrite(sn,un){this.ws.send(un)}};class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(sn){return this.emitReserved("error",sn)}this._transport.closed.then(()=>{this.onClose()}).catch(sn=>{this.onError("webtransport error",sn)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(sn=>{const un=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),dn=sn.readable.pipeThrough(un).getReader(),pn=createPacketEncoderStream();pn.readable.pipeTo(sn.writable),this._writer=pn.writable.getWriter();const mn=()=>{dn.read().then(({done:fn,value:gn})=>{fn||(this.onPacket(gn),mn())}).catch(fn=>{})};mn();const hn={type:"open"};this.query.sid&&(hn.data=`{"sid":"${this.query.sid}"}`),this._writer.write(hn).then(()=>this.onOpen())})})}write(sn){this.writable=!1;for(let un=0;un<sn.length;un++){const dn=sn[un],pn=un===sn.length-1;this._writer.write(dn).then(()=>{pn&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var sn;(sn=this._transport)===null||sn===void 0||sn.close()}}const transports={websocket:WS$2,webtransport:WT,polling:XHR},re$3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(tn){if(tn.length>8e3)throw"URI too long";const sn=tn,un=tn.indexOf("["),dn=tn.indexOf("]");un!=-1&&dn!=-1&&(tn=tn.substring(0,un)+tn.substring(un,dn).replace(/:/g,";")+tn.substring(dn,tn.length));let pn=re$3.exec(tn||""),mn={},hn=14;for(;hn--;)mn[parts[hn]]=pn[hn]||"";return un!=-1&&dn!=-1&&(mn.source=sn,mn.host=mn.host.substring(1,mn.host.length-1).replace(/;/g,":"),mn.authority=mn.authority.replace("[","").replace("]","").replace(/;/g,":"),mn.ipv6uri=!0),mn.pathNames=pathNames(mn,mn.path),mn.queryKey=queryKey(mn,mn.query),mn}function pathNames(tn,sn){const un=/\/{2,9}/g,dn=sn.replace(un,"/").split("/");return(sn.slice(0,1)=="/"||sn.length===0)&&dn.splice(0,1),sn.slice(-1)=="/"&&dn.splice(dn.length-1,1),dn}function queryKey(tn,sn){const un={};return sn.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(dn,pn,mn){pn&&(un[pn]=mn)}),un}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(tn=>tn())},!1);class SocketWithoutUpgrade extends Emitter{constructor(sn,un){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,sn&&typeof sn=="object"&&(un=sn,sn=null),sn){const dn=parse$2(sn);un.hostname=dn.host,un.secure=dn.protocol==="https"||dn.protocol==="wss",un.port=dn.port,dn.query&&(un.query=dn.query)}else un.host&&(un.hostname=parse$2(un.host).host);installTimerFunctions(this,un),this.secure=un.secure!=null?un.secure:typeof location<"u"&&location.protocol==="https:",un.hostname&&!un.port&&(un.port=this.secure?"443":"80"),this.hostname=un.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=un.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},un.transports.forEach(dn=>{const pn=dn.prototype.name;this.transports.push(pn),this._transportsByName[pn]=dn}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},un),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$1(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(sn){const un=Object.assign({},this.opts.query);un.EIO=protocol$1,un.transport=sn,this.id&&(un.sid=this.id);const dn=Object.assign({},this.opts,{query:un,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[sn]);return new this._transportsByName[sn](dn)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const sn=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const un=this.createTransport(sn);un.open(),this.setTransport(un)}setTransport(sn){this.transport&&this.transport.removeAllListeners(),this.transport=sn,sn.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",un=>this._onClose("transport close",un))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(sn){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",sn),this.emitReserved("heartbeat"),sn.type){case"open":this.onHandshake(JSON.parse(sn.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const un=new Error("server error");un.code=sn.data,this._onError(un);break;case"message":this.emitReserved("data",sn.data),this.emitReserved("message",sn.data);break}}onHandshake(sn){this.emitReserved("handshake",sn),this.id=sn.sid,this.transport.query.sid=sn.sid,this._pingInterval=sn.pingInterval,this._pingTimeout=sn.pingTimeout,this._maxPayload=sn.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const sn=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+sn,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},sn),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const sn=this._getWritablePackets();this.transport.send(sn),this._prevBufferLen=sn.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let un=1;for(let dn=0;dn<this.writeBuffer.length;dn++){const pn=this.writeBuffer[dn].data;if(pn&&(un+=byteLength(pn)),dn>0&&un>this._maxPayload)return this.writeBuffer.slice(0,dn);un+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const sn=Date.now()>this._pingTimeoutTime;return sn&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),sn}write(sn,un,dn){return this._sendPacket("message",sn,un,dn),this}send(sn,un,dn){return this._sendPacket("message",sn,un,dn),this}_sendPacket(sn,un,dn,pn){if(typeof un=="function"&&(pn=un,un=void 0),typeof dn=="function"&&(pn=dn,dn=null),this.readyState==="closing"||this.readyState==="closed")return;dn=dn||{},dn.compress=dn.compress!==!1;const mn={type:sn,data:un,options:dn};this.emitReserved("packetCreate",mn),this.writeBuffer.push(mn),pn&&this.once("flush",pn),this.flush()}close(){const sn=()=>{this._onClose("forced close"),this.transport.close()},un=()=>{this.off("upgrade",un),this.off("upgradeError",un),sn()},dn=()=>{this.once("upgrade",un),this.once("upgradeError",un)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?dn():sn()}):this.upgrading?dn():sn()),this}_onError(sn){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",sn),this._onClose("transport error",sn)}_onClose(sn,un){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const dn=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);dn!==-1&&OFFLINE_EVENT_LISTENERS.splice(dn,1)}this.readyState="closed",this.id=null,this.emitReserved("close",sn,un),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let sn=0;sn<this._upgrades.length;sn++)this._probe(this._upgrades[sn])}_probe(sn){let un=this.createTransport(sn),dn=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const pn=()=>{dn||(un.send([{type:"ping",data:"probe"}]),un.once("packet",vn=>{if(!dn)if(vn.type==="pong"&&vn.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",un),!un)return;SocketWithoutUpgrade.priorWebsocketSuccess=un.name==="websocket",this.transport.pause(()=>{dn||this.readyState!=="closed"&&(yn(),this.setTransport(un),un.send([{type:"upgrade"}]),this.emitReserved("upgrade",un),un=null,this.upgrading=!1,this.flush())})}else{const En=new Error("probe error");En.transport=un.name,this.emitReserved("upgradeError",En)}}))};function mn(){dn||(dn=!0,yn(),un.close(),un=null)}const hn=vn=>{const En=new Error("probe error: "+vn);En.transport=un.name,mn(),this.emitReserved("upgradeError",En)};function fn(){hn("transport closed")}function gn(){hn("socket closed")}function xn(vn){un&&vn.name!==un.name&&mn()}const yn=()=>{un.removeListener("open",pn),un.removeListener("error",hn),un.removeListener("close",fn),this.off("close",gn),this.off("upgrading",xn)};un.once("open",pn),un.once("error",hn),un.once("close",fn),this.once("close",gn),this.once("upgrading",xn),this._upgrades.indexOf("webtransport")!==-1&&sn!=="webtransport"?this.setTimeoutFn(()=>{dn||un.open()},200):un.open()}onHandshake(sn){this._upgrades=this._filterUpgrades(sn.upgrades),super.onHandshake(sn)}_filterUpgrades(sn){const un=[];for(let dn=0;dn<sn.length;dn++)~this.transports.indexOf(sn[dn])&&un.push(sn[dn]);return un}}let Socket$1=class extends SocketWithUpgrade{constructor(sn,un={}){const dn=typeof sn=="object"?sn:un;(!dn.transports||dn.transports&&typeof dn.transports[0]=="string")&&(dn.transports=(dn.transports||["polling","websocket","webtransport"]).map(pn=>transports[pn]).filter(pn=>!!pn)),super(sn,dn)}};function url(tn,sn="",un){let dn=tn;un=un||typeof location<"u"&&location,tn==null&&(tn=un.protocol+"//"+un.host),typeof tn=="string"&&(tn.charAt(0)==="/"&&(tn.charAt(1)==="/"?tn=un.protocol+tn:tn=un.host+tn),/^(https?|wss?):\/\//.test(tn)||(typeof un<"u"?tn=un.protocol+"//"+tn:tn="https://"+tn),dn=parse$2(tn)),dn.port||(/^(http|ws)$/.test(dn.protocol)?dn.port="80":/^(http|ws)s$/.test(dn.protocol)&&(dn.port="443")),dn.path=dn.path||"/";const mn=dn.host.indexOf(":")!==-1?"["+dn.host+"]":dn.host;return dn.id=dn.protocol+"://"+mn+":"+dn.port+sn,dn.href=dn.protocol+"://"+mn+(un&&un.port===dn.port?"":":"+dn.port),dn}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=tn=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(tn):tn.buffer instanceof ArrayBuffer,toString$7=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$7.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$7.call(File)==="[object FileConstructor]";function isBinary(tn){return withNativeArrayBuffer&&(tn instanceof ArrayBuffer||isView(tn))||withNativeBlob&&tn instanceof Blob||withNativeFile&&tn instanceof File}function hasBinary(tn,sn){if(!tn||typeof tn!="object")return!1;if(Array.isArray(tn)){for(let un=0,dn=tn.length;un<dn;un++)if(hasBinary(tn[un]))return!0;return!1}if(isBinary(tn))return!0;if(tn.toJSON&&typeof tn.toJSON=="function"&&arguments.length===1)return hasBinary(tn.toJSON(),!0);for(const un in tn)if(Object.prototype.hasOwnProperty.call(tn,un)&&hasBinary(tn[un]))return!0;return!1}function deconstructPacket(tn){const sn=[],un=tn.data,dn=tn;return dn.data=_deconstructPacket(un,sn),dn.attachments=sn.length,{packet:dn,buffers:sn}}function _deconstructPacket(tn,sn){if(!tn)return tn;if(isBinary(tn)){const un={_placeholder:!0,num:sn.length};return sn.push(tn),un}else if(Array.isArray(tn)){const un=new Array(tn.length);for(let dn=0;dn<tn.length;dn++)un[dn]=_deconstructPacket(tn[dn],sn);return un}else if(typeof tn=="object"&&!(tn instanceof Date)){const un={};for(const dn in tn)Object.prototype.hasOwnProperty.call(tn,dn)&&(un[dn]=_deconstructPacket(tn[dn],sn));return un}return tn}function reconstructPacket(tn,sn){return tn.data=_reconstructPacket(tn.data,sn),delete tn.attachments,tn}function _reconstructPacket(tn,sn){if(!tn)return tn;if(tn&&tn._placeholder===!0){if(typeof tn.num=="number"&&tn.num>=0&&tn.num<sn.length)return sn[tn.num];throw new Error("illegal attachments")}else if(Array.isArray(tn))for(let un=0;un<tn.length;un++)tn[un]=_reconstructPacket(tn[un],sn);else if(typeof tn=="object")for(const un in tn)Object.prototype.hasOwnProperty.call(tn,un)&&(tn[un]=_reconstructPacket(tn[un],sn));return tn}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(tn){tn[tn.CONNECT=0]="CONNECT",tn[tn.DISCONNECT=1]="DISCONNECT",tn[tn.EVENT=2]="EVENT",tn[tn.ACK=3]="ACK",tn[tn.CONNECT_ERROR=4]="CONNECT_ERROR",tn[tn.BINARY_EVENT=5]="BINARY_EVENT",tn[tn.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(sn){this.replacer=sn}encode(sn){return(sn.type===PacketType.EVENT||sn.type===PacketType.ACK)&&hasBinary(sn)?this.encodeAsBinary({type:sn.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:sn.nsp,data:sn.data,id:sn.id}):[this.encodeAsString(sn)]}encodeAsString(sn){let un=""+sn.type;return(sn.type===PacketType.BINARY_EVENT||sn.type===PacketType.BINARY_ACK)&&(un+=sn.attachments+"-"),sn.nsp&&sn.nsp!=="/"&&(un+=sn.nsp+","),sn.id!=null&&(un+=sn.id),sn.data!=null&&(un+=JSON.stringify(sn.data,this.replacer)),un}encodeAsBinary(sn){const un=deconstructPacket(sn),dn=this.encodeAsString(un.packet),pn=un.buffers;return pn.unshift(dn),pn}}function isObject$e(tn){return Object.prototype.toString.call(tn)==="[object Object]"}class Decoder extends Emitter{constructor(sn){super(),this.reviver=sn}add(sn){let un;if(typeof sn=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");un=this.decodeString(sn);const dn=un.type===PacketType.BINARY_EVENT;dn||un.type===PacketType.BINARY_ACK?(un.type=dn?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(un),un.attachments===0&&super.emitReserved("decoded",un)):super.emitReserved("decoded",un)}else if(isBinary(sn)||sn.base64)if(this.reconstructor)un=this.reconstructor.takeBinaryData(sn),un&&(this.reconstructor=null,super.emitReserved("decoded",un));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+sn)}decodeString(sn){let un=0;const dn={type:Number(sn.charAt(0))};if(PacketType[dn.type]===void 0)throw new Error("unknown packet type "+dn.type);if(dn.type===PacketType.BINARY_EVENT||dn.type===PacketType.BINARY_ACK){const mn=un+1;for(;sn.charAt(++un)!=="-"&&un!=sn.length;);const hn=sn.substring(mn,un);if(hn!=Number(hn)||sn.charAt(un)!=="-")throw new Error("Illegal attachments");dn.attachments=Number(hn)}if(sn.charAt(un+1)==="/"){const mn=un+1;for(;++un&&!(sn.charAt(un)===","||un===sn.length););dn.nsp=sn.substring(mn,un)}else dn.nsp="/";const pn=sn.charAt(un+1);if(pn!==""&&Number(pn)==pn){const mn=un+1;for(;++un;){const hn=sn.charAt(un);if(hn==null||Number(hn)!=hn){--un;break}if(un===sn.length)break}dn.id=Number(sn.substring(mn,un+1))}if(sn.charAt(++un)){const mn=this.tryParse(sn.substr(un));if(Decoder.isPayloadValid(dn.type,mn))dn.data=mn;else throw new Error("invalid payload")}return dn}tryParse(sn){try{return JSON.parse(sn,this.reviver)}catch{return!1}}static isPayloadValid(sn,un){switch(sn){case PacketType.CONNECT:return isObject$e(un);case PacketType.DISCONNECT:return un===void 0;case PacketType.CONNECT_ERROR:return typeof un=="string"||isObject$e(un);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(un)&&(typeof un[0]=="number"||typeof un[0]=="string"&&RESERVED_EVENTS$1.indexOf(un[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(un)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(sn){this.packet=sn,this.buffers=[],this.reconPack=sn}takeBinaryData(sn){if(this.buffers.push(sn),this.buffers.length===this.reconPack.attachments){const un=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),un}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on$1(tn,sn,un){return tn.on(sn,un),function(){tn.off(sn,un)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(sn,un,dn){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=sn,this.nsp=un,dn&&dn.auth&&(this.auth=dn.auth),this._opts=Object.assign({},dn),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const sn=this.io;this.subs=[on$1(sn,"open",this.onopen.bind(this)),on$1(sn,"packet",this.onpacket.bind(this)),on$1(sn,"error",this.onerror.bind(this)),on$1(sn,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...sn){return sn.unshift("message"),this.emit.apply(this,sn),this}emit(sn,...un){var dn,pn,mn;if(RESERVED_EVENTS.hasOwnProperty(sn))throw new Error('"'+sn.toString()+'" is a reserved event name');if(un.unshift(sn),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(un),this;const hn={type:PacketType.EVENT,data:un};if(hn.options={},hn.options.compress=this.flags.compress!==!1,typeof un[un.length-1]=="function"){const yn=this.ids++,vn=un.pop();this._registerAckCallback(yn,vn),hn.id=yn}const fn=(pn=(dn=this.io.engine)===null||dn===void 0?void 0:dn.transport)===null||pn===void 0?void 0:pn.writable,gn=this.connected&&!(!((mn=this.io.engine)===null||mn===void 0)&&mn._hasPingExpired());return this.flags.volatile&&!fn||(gn?(this.notifyOutgoingListeners(hn),this.packet(hn)):this.sendBuffer.push(hn)),this.flags={},this}_registerAckCallback(sn,un){var dn;const pn=(dn=this.flags.timeout)!==null&&dn!==void 0?dn:this._opts.ackTimeout;if(pn===void 0){this.acks[sn]=un;return}const mn=this.io.setTimeoutFn(()=>{delete this.acks[sn];for(let fn=0;fn<this.sendBuffer.length;fn++)this.sendBuffer[fn].id===sn&&this.sendBuffer.splice(fn,1);un.call(this,new Error("operation has timed out"))},pn),hn=(...fn)=>{this.io.clearTimeoutFn(mn),un.apply(this,fn)};hn.withError=!0,this.acks[sn]=hn}emitWithAck(sn,...un){return new Promise((dn,pn)=>{const mn=(hn,fn)=>hn?pn(hn):dn(fn);mn.withError=!0,un.push(mn),this.emit(sn,...un)})}_addToQueue(sn){let un;typeof sn[sn.length-1]=="function"&&(un=sn.pop());const dn={id:this._queueSeq++,tryCount:0,pending:!1,args:sn,flags:Object.assign({fromQueue:!0},this.flags)};sn.push((pn,...mn)=>dn!==this._queue[0]?void 0:(pn!==null?dn.tryCount>this._opts.retries&&(this._queue.shift(),un&&un(pn)):(this._queue.shift(),un&&un(null,...mn)),dn.pending=!1,this._drainQueue())),this._queue.push(dn),this._drainQueue()}_drainQueue(sn=!1){if(!this.connected||this._queue.length===0)return;const un=this._queue[0];un.pending&&!sn||(un.pending=!0,un.tryCount++,this.flags=un.flags,this.emit.apply(this,un.args))}packet(sn){sn.nsp=this.nsp,this.io._packet(sn)}onopen(){typeof this.auth=="function"?this.auth(sn=>{this._sendConnectPacket(sn)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(sn){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},sn):sn})}onerror(sn){this.connected||this.emitReserved("connect_error",sn)}onclose(sn,un){this.connected=!1,delete this.id,this.emitReserved("disconnect",sn,un),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(sn=>{if(!this.sendBuffer.some(dn=>String(dn.id)===sn)){const dn=this.acks[sn];delete this.acks[sn],dn.withError&&dn.call(this,new Error("socket has been disconnected"))}})}onpacket(sn){if(sn.nsp===this.nsp)switch(sn.type){case PacketType.CONNECT:sn.data&&sn.data.sid?this.onconnect(sn.data.sid,sn.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(sn);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(sn);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const dn=new Error(sn.data.message);dn.data=sn.data.data,this.emitReserved("connect_error",dn);break}}onevent(sn){const un=sn.data||[];sn.id!=null&&un.push(this.ack(sn.id)),this.connected?this.emitEvent(un):this.receiveBuffer.push(Object.freeze(un))}emitEvent(sn){if(this._anyListeners&&this._anyListeners.length){const un=this._anyListeners.slice();for(const dn of un)dn.apply(this,sn)}super.emit.apply(this,sn),this._pid&&sn.length&&typeof sn[sn.length-1]=="string"&&(this._lastOffset=sn[sn.length-1])}ack(sn){const un=this;let dn=!1;return function(...pn){dn||(dn=!0,un.packet({type:PacketType.ACK,id:sn,data:pn}))}}onack(sn){const un=this.acks[sn.id];typeof un=="function"&&(delete this.acks[sn.id],un.withError&&sn.data.unshift(null),un.apply(this,sn.data))}onconnect(sn,un){this.id=sn,this.recovered=un&&this._pid===un,this._pid=un,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(sn=>this.emitEvent(sn)),this.receiveBuffer=[],this.sendBuffer.forEach(sn=>{this.notifyOutgoingListeners(sn),this.packet(sn)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(sn=>sn()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(sn){return this.flags.compress=sn,this}get volatile(){return this.flags.volatile=!0,this}timeout(sn){return this.flags.timeout=sn,this}onAny(sn){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(sn),this}prependAny(sn){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(sn),this}offAny(sn){if(!this._anyListeners)return this;if(sn){const un=this._anyListeners;for(let dn=0;dn<un.length;dn++)if(sn===un[dn])return un.splice(dn,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(sn){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(sn),this}prependAnyOutgoing(sn){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(sn),this}offAnyOutgoing(sn){if(!this._anyOutgoingListeners)return this;if(sn){const un=this._anyOutgoingListeners;for(let dn=0;dn<un.length;dn++)if(sn===un[dn])return un.splice(dn,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(sn){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const un=this._anyOutgoingListeners.slice();for(const dn of un)dn.apply(this,sn.data)}}}function Backoff(tn){tn=tn||{},this.ms=tn.min||100,this.max=tn.max||1e4,this.factor=tn.factor||2,this.jitter=tn.jitter>0&&tn.jitter<=1?tn.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var tn=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var sn=Math.random(),un=Math.floor(sn*this.jitter*tn);tn=Math.floor(sn*10)&1?tn+un:tn-un}return Math.min(tn,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(tn){this.ms=tn};Backoff.prototype.setMax=function(tn){this.max=tn};Backoff.prototype.setJitter=function(tn){this.jitter=tn};class Manager extends Emitter{constructor(sn,un){var dn;super(),this.nsps={},this.subs=[],sn&&typeof sn=="object"&&(un=sn,sn=void 0),un=un||{},un.path=un.path||"/socket.io",this.opts=un,installTimerFunctions(this,un),this.reconnection(un.reconnection!==!1),this.reconnectionAttempts(un.reconnectionAttempts||1/0),this.reconnectionDelay(un.reconnectionDelay||1e3),this.reconnectionDelayMax(un.reconnectionDelayMax||5e3),this.randomizationFactor((dn=un.randomizationFactor)!==null&&dn!==void 0?dn:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(un.timeout==null?2e4:un.timeout),this._readyState="closed",this.uri=sn;const pn=un.parser||parser;this.encoder=new pn.Encoder,this.decoder=new pn.Decoder,this._autoConnect=un.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(sn){return arguments.length?(this._reconnection=!!sn,sn||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(sn){return sn===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=sn,this)}reconnectionDelay(sn){var un;return sn===void 0?this._reconnectionDelay:(this._reconnectionDelay=sn,(un=this.backoff)===null||un===void 0||un.setMin(sn),this)}randomizationFactor(sn){var un;return sn===void 0?this._randomizationFactor:(this._randomizationFactor=sn,(un=this.backoff)===null||un===void 0||un.setJitter(sn),this)}reconnectionDelayMax(sn){var un;return sn===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=sn,(un=this.backoff)===null||un===void 0||un.setMax(sn),this)}timeout(sn){return arguments.length?(this._timeout=sn,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(sn){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const un=this.engine,dn=this;this._readyState="opening",this.skipReconnect=!1;const pn=on$1(un,"open",function(){dn.onopen(),sn&&sn()}),mn=fn=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",fn),sn?sn(fn):this.maybeReconnectOnOpen()},hn=on$1(un,"error",mn);if(this._timeout!==!1){const fn=this._timeout,gn=this.setTimeoutFn(()=>{pn(),mn(new Error("timeout")),un.close()},fn);this.opts.autoUnref&&gn.unref(),this.subs.push(()=>{this.clearTimeoutFn(gn)})}return this.subs.push(pn),this.subs.push(hn),this}connect(sn){return this.open(sn)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const sn=this.engine;this.subs.push(on$1(sn,"ping",this.onping.bind(this)),on$1(sn,"data",this.ondata.bind(this)),on$1(sn,"error",this.onerror.bind(this)),on$1(sn,"close",this.onclose.bind(this)),on$1(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(sn){try{this.decoder.add(sn)}catch(un){this.onclose("parse error",un)}}ondecoded(sn){nextTick(()=>{this.emitReserved("packet",sn)},this.setTimeoutFn)}onerror(sn){this.emitReserved("error",sn)}socket(sn,un){let dn=this.nsps[sn];return dn?this._autoConnect&&!dn.active&&dn.connect():(dn=new Socket(this,sn,un),this.nsps[sn]=dn),dn}_destroy(sn){const un=Object.keys(this.nsps);for(const dn of un)if(this.nsps[dn].active)return;this._close()}_packet(sn){const un=this.encoder.encode(sn);for(let dn=0;dn<un.length;dn++)this.engine.write(un[dn],sn.options)}cleanup(){this.subs.forEach(sn=>sn()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(sn,un){var dn;this.cleanup(),(dn=this.engine)===null||dn===void 0||dn.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",sn,un),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const sn=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const un=this.backoff.duration();this._reconnecting=!0;const dn=this.setTimeoutFn(()=>{sn.skipReconnect||(this.emitReserved("reconnect_attempt",sn.backoff.attempts),!sn.skipReconnect&&sn.open(pn=>{pn?(sn._reconnecting=!1,sn.reconnect(),this.emitReserved("reconnect_error",pn)):sn.onreconnect()}))},un);this.opts.autoUnref&&dn.unref(),this.subs.push(()=>{this.clearTimeoutFn(dn)})}}onreconnect(){const sn=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",sn)}}const cache={};function lookup(tn,sn){typeof tn=="object"&&(sn=tn,tn=void 0),sn=sn||{};const un=url(tn,sn.path||"/socket.io"),dn=un.source,pn=un.id,mn=un.path,hn=cache[pn]&&mn in cache[pn].nsps,fn=sn.forceNew||sn["force new connection"]||sn.multiplex===!1||hn;let gn;return fn?gn=new Manager(dn,sn):(cache[pn]||(cache[pn]=new Manager(dn,sn)),gn=cache[pn]),un.query&&!sn.query&&(sn.query=un.queryKey),gn.socket(un.path,sn)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const CHAT_CHANNELS=[{id:"general",name:"General",description:"Open discussion for all team members",icon:jsxRuntimeExports.jsx(Hash$2,{className:"h-4 w-4"})},{id:"core-team",name:"Core Team",description:"Private discussions for core team members",icon:jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),permission:"core_team_chat"},{id:"committee",name:"Committee",description:"Committee member discussions",icon:jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),permission:"committee_chat"},{id:"host",name:"Host Chat",description:"Communication for sandwich collection hosts",icon:jsxRuntimeExports.jsx(Heart,{className:"h-4 w-4"}),permission:"host_chat"},{id:"driver",name:"Driver Chat",description:"Coordination for delivery drivers",icon:jsxRuntimeExports.jsx(Car,{className:"h-4 w-4"}),permission:"driver_chat"},{id:"recipient",name:"Recipient Chat",description:"Communication for recipient organizations",icon:jsxRuntimeExports.jsx(MessageCircle,{className:"h-4 w-4"}),permission:"recipient_chat"}];function LiveChatHub({onChannelSelect:tn,selectedChannel:sn}){const[un,dn]=reactExports.useState([]),[pn,mn]=reactExports.useState(null),{user:hn}=useAuth();reactExports.useEffect(()=>{if(!hn)return;const xn=`${window.location.protocol}//${window.location.host}`,yn=lookup(xn,{transports:["polling","websocket"],upgrade:!0,rememberUpgrade:!1});mn(yn);const vn=CHAT_CHANNELS.filter(En=>En.permission?hn!=null&&hn.permissions?hn.permissions.includes(En.permission):!1:!0).map(En=>({...En,unreadCount:0,lastMessage:void 0,activeUsers:[],messages:[]}));return dn(vn),vn.forEach(En=>{yn.emit("join-channel",{channel:En.id,userId:hn.id,userName:hn.firstName||hn.email||"User"})}),yn.on("message-history",En=>{if(En.length>0){const bn=En[0].channel;dn(wn=>wn.map(Sn=>{if(Sn.id===bn){const Rn=En.map(_n=>({..._n,timestamp:new Date(_n.timestamp||_n.createdAt)}));return{...Sn,messages:Rn,lastMessage:Rn[Rn.length-1]}}return Sn}))}}),yn.on("new-message",En=>{const bn={...En,timestamp:new Date(En.timestamp)};dn(wn=>wn.map(Sn=>{if(Sn.id===En.channel){const Rn=[...Sn.messages,bn];return{...Sn,messages:Rn,lastMessage:bn,unreadCount:sn===Sn.id?0:Sn.unreadCount+1}}return Sn}))}),()=>{yn.disconnect()}},[hn,sn]),reactExports.useEffect(()=>{!sn&&un.length>0&&un.find(yn=>yn.id==="general")&&tn("general")},[un,sn,tn]);const fn=async xn=>{dn(yn=>yn.map(vn=>vn.id===xn?{...vn,unreadCount:0}:vn)),tn(xn);try{const yn=await fetch("/api/message-notifications/mark-chat-read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel:xn}),credentials:"include"});if(yn.ok){console.log(`Successfully marked ${xn} chat messages as read`);const vn=new CustomEvent("refreshNotifications");window.dispatchEvent(vn)}else console.error("Failed to mark chat messages as read:",yn.status)}catch(yn){console.error("Error marking chat messages as read:",yn)}},gn=xn=>{if(!xn)return"No messages yet";try{return formatDistanceToNow(xn.timestamp,{addSuffix:!0})}catch{return"Recently"}};return jsxRuntimeExports.jsxs("div",{className:"w-80 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Chat Channels"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time team communication"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:un.map(xn=>{const yn=sn===xn.id,vn=xn.id==="core-team";return jsxRuntimeExports.jsx(Card$1,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${yn?vn?"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-amber-200 dark:border-amber-700":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750"}`,onClick:()=>fn(xn.id),children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:`${yn?vn?"text-amber-600 dark:text-amber-400":"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:xn.icon}),jsxRuntimeExports.jsx("span",{className:`font-medium ${yn?vn?"text-amber-900 dark:text-amber-100":"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100"}`,children:xn.name})]}),xn.unreadCount>0&&jsxRuntimeExports.jsx(Badge,{variant:"destructive",className:"text-xs px-1.5 py-0.5",children:xn.unreadCount})]}),xn.lastMessage?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-300 truncate",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[xn.lastMessage.userName,":"]})," ",xn.lastMessage.content]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:gn(xn.lastMessage)})]}):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:"No messages yet • Click to start the conversation"}),xn.activeUsers.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx(Users,{className:"h-3 w-3 mr-1"}),xn.activeUsers.length," active"]})]})},xn.id)})}),jsxRuntimeExports.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 text-xs text-gray-500 dark:text-gray-400",children:["Connected as ",(hn==null?void 0:hn.firstName)||(hn==null?void 0:hn.email)||"User"]})]})}const Textarea=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-base text-gray-900 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",tn),ref:un,...sn}));Textarea.displayName="Textarea";var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const tn=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",tn[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",tn[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(sn=>sn.remove()),count--}},[])}function createFocusGuard(){const tn=document.createElement("span");return tn.setAttribute("data-radix-focus-guard",""),tn.tabIndex=0,tn.style.outline="none",tn.style.opacity="0",tn.style.position="fixed",tn.style.pointerEvents="none",tn}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((tn,sn)=>{const{loop:un=!1,trapped:dn=!1,onMountAutoFocus:pn,onUnmountAutoFocus:mn,...hn}=tn,[fn,gn]=reactExports.useState(null),xn=useCallbackRef$1(pn),yn=useCallbackRef$1(mn),vn=reactExports.useRef(null),En=useComposedRefs(sn,Sn=>gn(Sn)),bn=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(dn){let Sn=function(Cn){if(bn.paused||!fn)return;const An=Cn.target;fn.contains(An)?vn.current=An:focus(vn.current,{select:!0})},Rn=function(Cn){if(bn.paused||!fn)return;const An=Cn.relatedTarget;An!==null&&(fn.contains(An)||focus(vn.current,{select:!0}))},_n=function(Cn){if(document.activeElement===document.body)for(const Tn of Cn)Tn.removedNodes.length>0&&focus(fn)};document.addEventListener("focusin",Sn),document.addEventListener("focusout",Rn);const jn=new MutationObserver(_n);return fn&&jn.observe(fn,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",Sn),document.removeEventListener("focusout",Rn),jn.disconnect()}}},[dn,fn,bn.paused]),reactExports.useEffect(()=>{if(fn){focusScopesStack.add(bn);const Sn=document.activeElement;if(!fn.contains(Sn)){const _n=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);fn.addEventListener(AUTOFOCUS_ON_MOUNT,xn),fn.dispatchEvent(_n),_n.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(fn)),{select:!0}),document.activeElement===Sn&&focus(fn))}return()=>{fn.removeEventListener(AUTOFOCUS_ON_MOUNT,xn),setTimeout(()=>{const _n=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);fn.addEventListener(AUTOFOCUS_ON_UNMOUNT,yn),fn.dispatchEvent(_n),_n.defaultPrevented||focus(Sn??document.body,{select:!0}),fn.removeEventListener(AUTOFOCUS_ON_UNMOUNT,yn),focusScopesStack.remove(bn)},0)}}},[fn,xn,yn,bn]);const wn=reactExports.useCallback(Sn=>{if(!un&&!dn||bn.paused)return;const Rn=Sn.key==="Tab"&&!Sn.altKey&&!Sn.ctrlKey&&!Sn.metaKey,_n=document.activeElement;if(Rn&&_n){const jn=Sn.currentTarget,[Cn,An]=getTabbableEdges(jn);Cn&&An?!Sn.shiftKey&&_n===An?(Sn.preventDefault(),un&&focus(Cn,{select:!0})):Sn.shiftKey&&_n===Cn&&(Sn.preventDefault(),un&&focus(An,{select:!0})):_n===jn&&Sn.preventDefault()}},[un,dn,bn.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...hn,ref:En,onKeyDown:wn})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(tn,{select:sn=!1}={}){const un=document.activeElement;for(const dn of tn)if(focus(dn,{select:sn}),document.activeElement!==un)return}function getTabbableEdges(tn){const sn=getTabbableCandidates(tn),un=findVisible(sn,tn),dn=findVisible(sn.reverse(),tn);return[un,dn]}function getTabbableCandidates(tn){const sn=[],un=document.createTreeWalker(tn,NodeFilter.SHOW_ELEMENT,{acceptNode:dn=>{const pn=dn.tagName==="INPUT"&&dn.type==="hidden";return dn.disabled||dn.hidden||pn?NodeFilter.FILTER_SKIP:dn.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;un.nextNode();)sn.push(un.currentNode);return sn}function findVisible(tn,sn){for(const un of tn)if(!isHidden(un,{upTo:sn}))return un}function isHidden(tn,{upTo:sn}){if(getComputedStyle(tn).visibility==="hidden")return!0;for(;tn;){if(sn!==void 0&&tn===sn)return!1;if(getComputedStyle(tn).display==="none")return!0;tn=tn.parentElement}return!1}function isSelectableInput(tn){return tn instanceof HTMLInputElement&&"select"in tn}function focus(tn,{select:sn=!1}={}){if(tn&&tn.focus){const un=document.activeElement;tn.focus({preventScroll:!0}),tn!==un&&isSelectableInput(tn)&&sn&&tn.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let tn=[];return{add(sn){const un=tn[0];sn!==un&&(un==null||un.pause()),tn=arrayRemove(tn,sn),tn.unshift(sn)},remove(sn){var un;tn=arrayRemove(tn,sn),(un=tn[0])==null||un.resume()}}}function arrayRemove(tn,sn){const un=[...tn],dn=un.indexOf(sn);return dn!==-1&&un.splice(dn,1),un}function removeLinks(tn){return tn.filter(sn=>sn.tagName!=="A")}var getDefaultParent=function(tn){if(typeof document>"u")return null;var sn=Array.isArray(tn)?tn[0]:tn;return sn.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(tn){return tn&&(tn.host||unwrapHost(tn.parentNode))},correctTargets=function(tn,sn){return sn.map(function(un){if(tn.contains(un))return un;var dn=unwrapHost(un);return dn&&tn.contains(dn)?dn:(console.error("aria-hidden",un,"in not contained inside",tn,". Doing nothing"),null)}).filter(function(un){return!!un})},applyAttributeToOthers=function(tn,sn,un,dn){var pn=correctTargets(sn,Array.isArray(tn)?tn:[tn]);markerMap[un]||(markerMap[un]=new WeakMap);var mn=markerMap[un],hn=[],fn=new Set,gn=new Set(pn),xn=function(vn){!vn||fn.has(vn)||(fn.add(vn),xn(vn.parentNode))};pn.forEach(xn);var yn=function(vn){!vn||gn.has(vn)||Array.prototype.forEach.call(vn.children,function(En){if(fn.has(En))yn(En);else try{var bn=En.getAttribute(dn),wn=bn!==null&&bn!=="false",Sn=(counterMap.get(En)||0)+1,Rn=(mn.get(En)||0)+1;counterMap.set(En,Sn),mn.set(En,Rn),hn.push(En),Sn===1&&wn&&uncontrolledNodes.set(En,!0),Rn===1&&En.setAttribute(un,"true"),wn||En.setAttribute(dn,"true")}catch(_n){console.error("aria-hidden: cannot operate on ",En,_n)}})};return yn(sn),fn.clear(),lockCount++,function(){hn.forEach(function(vn){var En=counterMap.get(vn)-1,bn=mn.get(vn)-1;counterMap.set(vn,En),mn.set(vn,bn),En||(uncontrolledNodes.has(vn)||vn.removeAttribute(dn),uncontrolledNodes.delete(vn)),bn||vn.removeAttribute(un)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(tn,sn,un){un===void 0&&(un="data-aria-hidden");var dn=Array.from(Array.isArray(tn)?tn:[tn]),pn=getDefaultParent(tn);return pn?(dn.push.apply(dn,Array.from(pn.querySelectorAll("[aria-live]"))),applyAttributeToOthers(dn,pn,un,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(sn){for(var un,dn=1,pn=arguments.length;dn<pn;dn++){un=arguments[dn];for(var mn in un)Object.prototype.hasOwnProperty.call(un,mn)&&(sn[mn]=un[mn])}return sn},__assign.apply(this,arguments)};function __rest(tn,sn){var un={};for(var dn in tn)Object.prototype.hasOwnProperty.call(tn,dn)&&sn.indexOf(dn)<0&&(un[dn]=tn[dn]);if(tn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pn=0,dn=Object.getOwnPropertySymbols(tn);pn<dn.length;pn++)sn.indexOf(dn[pn])<0&&Object.prototype.propertyIsEnumerable.call(tn,dn[pn])&&(un[dn[pn]]=tn[dn[pn]]);return un}function __awaiter(tn,sn,un,dn){function pn(mn){return mn instanceof un?mn:new un(function(hn){hn(mn)})}return new(un||(un=Promise))(function(mn,hn){function fn(yn){try{xn(dn.next(yn))}catch(vn){hn(vn)}}function gn(yn){try{xn(dn.throw(yn))}catch(vn){hn(vn)}}function xn(yn){yn.done?mn(yn.value):pn(yn.value).then(fn,gn)}xn((dn=dn.apply(tn,sn||[])).next())})}function __spreadArray(tn,sn,un){if(un||arguments.length===2)for(var dn=0,pn=sn.length,mn;dn<pn;dn++)(mn||!(dn in sn))&&(mn||(mn=Array.prototype.slice.call(sn,0,dn)),mn[dn]=sn[dn]);return tn.concat(mn||Array.prototype.slice.call(sn))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(tn,sn){return typeof tn=="function"?tn(sn):tn&&(tn.current=sn),tn}function useCallbackRef(tn,sn){var un=reactExports.useState(function(){return{value:tn,callback:sn,facade:{get current(){return un.value},set current(dn){var pn=un.value;pn!==dn&&(un.value=dn,un.callback(dn,pn))}}}})[0];return un.callback=sn,un.facade}var useIsomorphicLayoutEffect$3=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(tn,sn){var un=useCallbackRef(null,function(dn){return tn.forEach(function(pn){return assignRef(pn,dn)})});return useIsomorphicLayoutEffect$3(function(){var dn=currentValues.get(un);if(dn){var pn=new Set(dn),mn=new Set(tn),hn=un.current;pn.forEach(function(fn){mn.has(fn)||assignRef(fn,null)}),mn.forEach(function(fn){pn.has(fn)||assignRef(fn,hn)})}currentValues.set(un,tn)},[tn]),un}function ItoI(tn){return tn}function innerCreateMedium(tn,sn){sn===void 0&&(sn=ItoI);var un=[],dn=!1,pn={read:function(){if(dn)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return un.length?un[un.length-1]:tn},useMedium:function(mn){var hn=sn(mn,dn);return un.push(hn),function(){un=un.filter(function(fn){return fn!==hn})}},assignSyncMedium:function(mn){for(dn=!0;un.length;){var hn=un;un=[],hn.forEach(mn)}un={push:function(fn){return mn(fn)},filter:function(){return un}}},assignMedium:function(mn){dn=!0;var hn=[];if(un.length){var fn=un;un=[],fn.forEach(mn),hn=un}var gn=function(){var yn=hn;hn=[],yn.forEach(mn)},xn=function(){return Promise.resolve().then(gn)};xn(),un={push:function(yn){hn.push(yn),xn()},filter:function(yn){return hn=hn.filter(yn),un}}}};return pn}function createSidecarMedium(tn){tn===void 0&&(tn={});var sn=innerCreateMedium(null);return sn.options=__assign({async:!0,ssr:!1},tn),sn}var SideCar$1=function(tn){var sn=tn.sideCar,un=__rest(tn,["sideCar"]);if(!sn)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var dn=sn.read();if(!dn)throw new Error("Sidecar medium not found");return reactExports.createElement(dn,__assign({},un))};SideCar$1.isSideCarExport=!0;function exportSidecar(tn,sn){return tn.useMedium(sn),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(tn,sn){var un=reactExports.useRef(null),dn=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),pn=dn[0],mn=dn[1],hn=tn.forwardProps,fn=tn.children,gn=tn.className,xn=tn.removeScrollBar,yn=tn.enabled,vn=tn.shards,En=tn.sideCar,bn=tn.noIsolation,wn=tn.inert,Sn=tn.allowPinchZoom,Rn=tn.as,_n=Rn===void 0?"div":Rn,jn=tn.gapMode,Cn=__rest(tn,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),An=En,Tn=useMergeRefs([un,sn]),$n=__assign(__assign({},Cn),pn);return reactExports.createElement(reactExports.Fragment,null,yn&&reactExports.createElement(An,{sideCar:effectCar,removeScrollBar:xn,shards:vn,noIsolation:bn,inert:wn,setCallbacks:mn,allowPinchZoom:!!Sn,lockRef:un,gapMode:jn}),hn?reactExports.cloneElement(reactExports.Children.only(fn),__assign(__assign({},$n),{ref:Tn})):reactExports.createElement(_n,__assign({},$n,{className:gn,ref:Tn}),fn))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var tn=document.createElement("style");tn.type="text/css";var sn=getNonce();return sn&&tn.setAttribute("nonce",sn),tn}function injectStyles(tn,sn){tn.styleSheet?tn.styleSheet.cssText=sn:tn.appendChild(document.createTextNode(sn))}function insertStyleTag(tn){var sn=document.head||document.getElementsByTagName("head")[0];sn.appendChild(tn)}var stylesheetSingleton=function(){var tn=0,sn=null;return{add:function(un){tn==0&&(sn=makeStyleTag())&&(injectStyles(sn,un),insertStyleTag(sn)),tn++},remove:function(){tn--,!tn&&sn&&(sn.parentNode&&sn.parentNode.removeChild(sn),sn=null)}}},styleHookSingleton=function(){var tn=stylesheetSingleton();return function(sn,un){reactExports.useEffect(function(){return tn.add(sn),function(){tn.remove()}},[sn&&un])}},styleSingleton=function(){var tn=styleHookSingleton(),sn=function(un){var dn=un.styles,pn=un.dynamic;return tn(dn,pn),null};return sn},zeroGap={left:0,top:0,right:0,gap:0},parse$1=function(tn){return parseInt(tn||"",10)||0},getOffset$1=function(tn){var sn=window.getComputedStyle(document.body),un=sn[tn==="padding"?"paddingLeft":"marginLeft"],dn=sn[tn==="padding"?"paddingTop":"marginTop"],pn=sn[tn==="padding"?"paddingRight":"marginRight"];return[parse$1(un),parse$1(dn),parse$1(pn)]},getGapWidth=function(tn){if(tn===void 0&&(tn="margin"),typeof window>"u")return zeroGap;var sn=getOffset$1(tn),un=document.documentElement.clientWidth,dn=window.innerWidth;return{left:sn[0],top:sn[1],right:sn[2],gap:Math.max(0,dn-un+sn[2]-sn[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(tn,sn,un,dn){var pn=tn.left,mn=tn.top,hn=tn.right,fn=tn.gap;return un===void 0&&(un="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(dn,`;
   padding-right: `).concat(fn,"px ").concat(dn,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(dn,`;
    overscroll-behavior: contain;
    `).concat([sn&&"position: relative ".concat(dn,";"),un==="margin"&&`
    padding-left: `.concat(pn,`px;
    padding-top: `).concat(mn,`px;
    padding-right: `).concat(hn,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(fn,"px ").concat(dn,`;
    `),un==="padding"&&"padding-right: ".concat(fn,"px ").concat(dn,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(fn,"px ").concat(dn,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(fn,"px ").concat(dn,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(dn,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(dn,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(fn,`px;
  }
`)},getCurrentUseCounter=function(){var tn=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(tn)?tn:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var tn=getCurrentUseCounter()-1;tn<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,tn.toString())}},[])},RemoveScrollBar=function(tn){var sn=tn.noRelative,un=tn.noImportant,dn=tn.gapMode,pn=dn===void 0?"margin":dn;useLockAttribute();var mn=reactExports.useMemo(function(){return getGapWidth(pn)},[pn]);return reactExports.createElement(Style,{styles:getStyles(mn,!sn,pn,un?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options$1=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options$1,options$1),window.removeEventListener("test",options$1,options$1)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(tn){return tn.tagName==="TEXTAREA"},elementCanBeScrolled=function(tn,sn){if(!(tn instanceof Element))return!1;var un=window.getComputedStyle(tn);return un[sn]!=="hidden"&&!(un.overflowY===un.overflowX&&!alwaysContainsScroll(tn)&&un[sn]==="visible")},elementCouldBeVScrolled=function(tn){return elementCanBeScrolled(tn,"overflowY")},elementCouldBeHScrolled=function(tn){return elementCanBeScrolled(tn,"overflowX")},locationCouldBeScrolled=function(tn,sn){var un=sn.ownerDocument,dn=sn;do{typeof ShadowRoot<"u"&&dn instanceof ShadowRoot&&(dn=dn.host);var pn=elementCouldBeScrolled(tn,dn);if(pn){var mn=getScrollVariables(tn,dn),hn=mn[1],fn=mn[2];if(hn>fn)return!0}dn=dn.parentNode}while(dn&&dn!==un.body);return!1},getVScrollVariables=function(tn){var sn=tn.scrollTop,un=tn.scrollHeight,dn=tn.clientHeight;return[sn,un,dn]},getHScrollVariables=function(tn){var sn=tn.scrollLeft,un=tn.scrollWidth,dn=tn.clientWidth;return[sn,un,dn]},elementCouldBeScrolled=function(tn,sn){return tn==="v"?elementCouldBeVScrolled(sn):elementCouldBeHScrolled(sn)},getScrollVariables=function(tn,sn){return tn==="v"?getVScrollVariables(sn):getHScrollVariables(sn)},getDirectionFactor=function(tn,sn){return tn==="h"&&sn==="rtl"?-1:1},handleScroll=function(tn,sn,un,dn,pn){var mn=getDirectionFactor(tn,window.getComputedStyle(sn).direction),hn=mn*dn,fn=un.target,gn=sn.contains(fn),xn=!1,yn=hn>0,vn=0,En=0;do{var bn=getScrollVariables(tn,fn),wn=bn[0],Sn=bn[1],Rn=bn[2],_n=Sn-Rn-mn*wn;(wn||_n)&&elementCouldBeScrolled(tn,fn)&&(vn+=_n,En+=wn),fn instanceof ShadowRoot?fn=fn.host:fn=fn.parentNode}while(!gn&&fn!==document.body||gn&&(sn.contains(fn)||sn===fn));return(yn&&Math.abs(vn)<1||!yn&&Math.abs(En)<1)&&(xn=!0),xn},getTouchXY=function(tn){return"changedTouches"in tn?[tn.changedTouches[0].clientX,tn.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(tn){return[tn.deltaX,tn.deltaY]},extractRef=function(tn){return tn&&"current"in tn?tn.current:tn},deltaCompare=function(tn,sn){return tn[0]===sn[0]&&tn[1]===sn[1]},generateStyle=function(tn){return`
  .block-interactivity-`.concat(tn,` {pointer-events: none;}
  .allow-interactivity-`).concat(tn,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(tn){var sn=reactExports.useRef([]),un=reactExports.useRef([0,0]),dn=reactExports.useRef(),pn=reactExports.useState(idCounter$1++)[0],mn=reactExports.useState(styleSingleton)[0],hn=reactExports.useRef(tn);reactExports.useEffect(function(){hn.current=tn},[tn]),reactExports.useEffect(function(){if(tn.inert){document.body.classList.add("block-interactivity-".concat(pn));var Sn=__spreadArray([tn.lockRef.current],(tn.shards||[]).map(extractRef),!0).filter(Boolean);return Sn.forEach(function(Rn){return Rn.classList.add("allow-interactivity-".concat(pn))}),function(){document.body.classList.remove("block-interactivity-".concat(pn)),Sn.forEach(function(Rn){return Rn.classList.remove("allow-interactivity-".concat(pn))})}}},[tn.inert,tn.lockRef.current,tn.shards]);var fn=reactExports.useCallback(function(Sn,Rn){if("touches"in Sn&&Sn.touches.length===2||Sn.type==="wheel"&&Sn.ctrlKey)return!hn.current.allowPinchZoom;var _n=getTouchXY(Sn),jn=un.current,Cn="deltaX"in Sn?Sn.deltaX:jn[0]-_n[0],An="deltaY"in Sn?Sn.deltaY:jn[1]-_n[1],Tn,$n=Sn.target,Dn=Math.abs(Cn)>Math.abs(An)?"h":"v";if("touches"in Sn&&Dn==="h"&&$n.type==="range")return!1;var Nn=locationCouldBeScrolled(Dn,$n);if(!Nn)return!0;if(Nn?Tn=Dn:(Tn=Dn==="v"?"h":"v",Nn=locationCouldBeScrolled(Dn,$n)),!Nn)return!1;if(!dn.current&&"changedTouches"in Sn&&(Cn||An)&&(dn.current=Tn),!Tn)return!0;var kn=dn.current||Tn;return handleScroll(kn,Rn,Sn,kn==="h"?Cn:An)},[]),gn=reactExports.useCallback(function(Sn){var Rn=Sn;if(!(!lockStack.length||lockStack[lockStack.length-1]!==mn)){var _n="deltaY"in Rn?getDeltaXY(Rn):getTouchXY(Rn),jn=sn.current.filter(function(Tn){return Tn.name===Rn.type&&(Tn.target===Rn.target||Rn.target===Tn.shadowParent)&&deltaCompare(Tn.delta,_n)})[0];if(jn&&jn.should){Rn.cancelable&&Rn.preventDefault();return}if(!jn){var Cn=(hn.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Tn){return Tn.contains(Rn.target)}),An=Cn.length>0?fn(Rn,Cn[0]):!hn.current.noIsolation;An&&Rn.cancelable&&Rn.preventDefault()}}},[]),xn=reactExports.useCallback(function(Sn,Rn,_n,jn){var Cn={name:Sn,delta:Rn,target:_n,should:jn,shadowParent:getOutermostShadowParent(_n)};sn.current.push(Cn),setTimeout(function(){sn.current=sn.current.filter(function(An){return An!==Cn})},1)},[]),yn=reactExports.useCallback(function(Sn){un.current=getTouchXY(Sn),dn.current=void 0},[]),vn=reactExports.useCallback(function(Sn){xn(Sn.type,getDeltaXY(Sn),Sn.target,fn(Sn,tn.lockRef.current))},[]),En=reactExports.useCallback(function(Sn){xn(Sn.type,getTouchXY(Sn),Sn.target,fn(Sn,tn.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(mn),tn.setCallbacks({onScrollCapture:vn,onWheelCapture:vn,onTouchMoveCapture:En}),document.addEventListener("wheel",gn,nonPassive),document.addEventListener("touchmove",gn,nonPassive),document.addEventListener("touchstart",yn,nonPassive),function(){lockStack=lockStack.filter(function(Sn){return Sn!==mn}),document.removeEventListener("wheel",gn,nonPassive),document.removeEventListener("touchmove",gn,nonPassive),document.removeEventListener("touchstart",yn,nonPassive)}},[]);var bn=tn.removeScrollBar,wn=tn.inert;return reactExports.createElement(reactExports.Fragment,null,wn?reactExports.createElement(mn,{styles:generateStyle(pn)}):null,bn?reactExports.createElement(RemoveScrollBar,{gapMode:tn.gapMode}):null)}function getOutermostShadowParent(tn){for(var sn=null;tn!==null;)tn instanceof ShadowRoot&&(sn=tn.host,tn=tn.host),tn=tn.parentNode;return sn}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(tn,sn){return reactExports.createElement(RemoveScroll,__assign({},tn,{ref:sn,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var SELECTION_KEYS$1=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS$1,"ArrowRight"],rtl:[...SELECTION_KEYS$1,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope$1,createPopperScope,createRovingFocusGroupScope]),usePopperScope$1=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu$c=tn=>{const{__scopeMenu:sn,open:un=!1,children:dn,dir:pn,onOpenChange:mn,modal:hn=!0}=tn,fn=usePopperScope$1(sn),[gn,xn]=reactExports.useState(null),yn=reactExports.useRef(!1),vn=useCallbackRef$1(mn),En=useDirection(pn);return reactExports.useEffect(()=>{const bn=()=>{yn.current=!0,document.addEventListener("pointerdown",wn,{capture:!0,once:!0}),document.addEventListener("pointermove",wn,{capture:!0,once:!0})},wn=()=>yn.current=!1;return document.addEventListener("keydown",bn,{capture:!0}),()=>{document.removeEventListener("keydown",bn,{capture:!0}),document.removeEventListener("pointerdown",wn,{capture:!0}),document.removeEventListener("pointermove",wn,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$3,{...fn,children:jsxRuntimeExports.jsx(MenuProvider,{scope:sn,open:un,onOpenChange:vn,content:gn,onContentChange:xn,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:sn,onClose:reactExports.useCallback(()=>vn(!1),[vn]),isUsingKeyboardRef:yn,dir:En,modal:hn,children:dn})})})};Menu$c.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,...dn}=tn,pn=usePopperScope$1(un);return jsxRuntimeExports.jsx(Anchor$1,{...pn,...dn,ref:sn})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$3="MenuPortal",[PortalProvider$1,usePortalContext$1]=createMenuContext(PORTAL_NAME$3,{forceMount:void 0}),MenuPortal=tn=>{const{__scopeMenu:sn,forceMount:un,children:dn,container:pn}=tn,mn=useMenuContext(PORTAL_NAME$3,sn);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:sn,forceMount:un,children:jsxRuntimeExports.jsx(Presence,{present:un||mn.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:pn,children:dn})})})};MenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$3),MenuContent=reactExports.forwardRef((tn,sn)=>{const un=usePortalContext$1(CONTENT_NAME$3,tn.__scopeMenu),{forceMount:dn=un.forceMount,...pn}=tn,mn=useMenuContext(CONTENT_NAME$3,tn.__scopeMenu),hn=useMenuRootContext(CONTENT_NAME$3,tn.__scopeMenu);return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:tn.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:dn||mn.open,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:tn.__scopeMenu,children:hn.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...pn,ref:sn}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...pn,ref:sn})})})})}),MenuRootContentModal=reactExports.forwardRef((tn,sn)=>{const un=useMenuContext(CONTENT_NAME$3,tn.__scopeMenu),dn=reactExports.useRef(null),pn=useComposedRefs(sn,dn);return reactExports.useEffect(()=>{const mn=dn.current;if(mn)return hideOthers(mn)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...tn,ref:pn,trapFocus:un.open,disableOutsidePointerEvents:un.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers$1(tn.onFocusOutside,mn=>mn.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>un.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((tn,sn)=>{const un=useMenuContext(CONTENT_NAME$3,tn.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...tn,ref:sn,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>un.onOpenChange(!1)})}),Slot$2=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,loop:dn=!1,trapFocus:pn,onOpenAutoFocus:mn,onCloseAutoFocus:hn,disableOutsidePointerEvents:fn,onEntryFocus:gn,onEscapeKeyDown:xn,onPointerDownOutside:yn,onFocusOutside:vn,onInteractOutside:En,onDismiss:bn,disableOutsideScroll:wn,...Sn}=tn,Rn=useMenuContext(CONTENT_NAME$3,un),_n=useMenuRootContext(CONTENT_NAME$3,un),jn=usePopperScope$1(un),Cn=useRovingFocusGroupScope(un),An=useCollection$1(un),[Tn,$n]=reactExports.useState(null),Dn=reactExports.useRef(null),Nn=useComposedRefs(sn,Dn,Rn.onContentChange),kn=reactExports.useRef(0),Pn=reactExports.useRef(""),Mn=reactExports.useRef(0),On=reactExports.useRef(null),Wn=reactExports.useRef("right"),In=reactExports.useRef(0),Un=wn?ReactRemoveScroll:reactExports.Fragment,Vn=wn?{as:Slot$2,allowPinchZoom:!0}:void 0,Hn=zn=>{var Er,yr;const Bn=Pn.current+zn,Fn=An().filter(xr=>!xr.disabled),Gn=document.activeElement,qn=(Er=Fn.find(xr=>xr.ref.current===Gn))==null?void 0:Er.textValue,Jn=Fn.map(xr=>xr.textValue),dr=getNextMatch(Jn,Bn,qn),br=(yr=Fn.find(xr=>xr.textValue===dr))==null?void 0:yr.ref.current;(function xr(vr){Pn.current=vr,window.clearTimeout(kn.current),vr!==""&&(kn.current=window.setTimeout(()=>xr(""),1e3))})(Bn),br&&setTimeout(()=>br.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(kn.current),[]),useFocusGuards();const Ln=reactExports.useCallback(zn=>{var Fn,Gn;return Wn.current===((Fn=On.current)==null?void 0:Fn.side)&&isPointerInGraceArea(zn,(Gn=On.current)==null?void 0:Gn.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:un,searchRef:Pn,onItemEnter:reactExports.useCallback(zn=>{Ln(zn)&&zn.preventDefault()},[Ln]),onItemLeave:reactExports.useCallback(zn=>{var Bn;Ln(zn)||((Bn=Dn.current)==null||Bn.focus(),$n(null))},[Ln]),onTriggerLeave:reactExports.useCallback(zn=>{Ln(zn)&&zn.preventDefault()},[Ln]),pointerGraceTimerRef:Mn,onPointerGraceIntentChange:reactExports.useCallback(zn=>{On.current=zn},[]),children:jsxRuntimeExports.jsx(Un,{...Vn,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:pn,onMountAutoFocus:composeEventHandlers$1(mn,zn=>{var Bn;zn.preventDefault(),(Bn=Dn.current)==null||Bn.focus({preventScroll:!0})}),onUnmountAutoFocus:hn,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:fn,onEscapeKeyDown:xn,onPointerDownOutside:yn,onFocusOutside:vn,onInteractOutside:En,onDismiss:bn,children:jsxRuntimeExports.jsx(Root$7,{asChild:!0,...Cn,dir:_n.dir,orientation:"vertical",loop:dn,currentTabStopId:Tn,onCurrentTabStopIdChange:$n,onEntryFocus:composeEventHandlers$1(gn,zn=>{_n.isUsingKeyboardRef.current||zn.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$2,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(Rn.open),"data-radix-menu-content":"",dir:_n.dir,...jn,...Sn,ref:Nn,style:{outline:"none",...Sn.style},onKeyDown:composeEventHandlers$1(Sn.onKeyDown,zn=>{const Fn=zn.target.closest("[data-radix-menu-content]")===zn.currentTarget,Gn=zn.ctrlKey||zn.altKey||zn.metaKey,qn=zn.key.length===1;Fn&&(zn.key==="Tab"&&zn.preventDefault(),!Gn&&qn&&Hn(zn.key));const Jn=Dn.current;if(zn.target!==Jn||!FIRST_LAST_KEYS.includes(zn.key))return;zn.preventDefault();const br=An().filter(Er=>!Er.disabled).map(Er=>Er.ref.current);LAST_KEYS.includes(zn.key)&&br.reverse(),focusFirst(br)}),onBlur:composeEventHandlers$1(tn.onBlur,zn=>{zn.currentTarget.contains(zn.target)||(window.clearTimeout(kn.current),Pn.current="")}),onPointerMove:composeEventHandlers$1(tn.onPointerMove,whenMouse(zn=>{const Bn=zn.target,Fn=In.current!==zn.clientX;if(zn.currentTarget.contains(Bn)&&Fn){const Gn=zn.clientX>In.current?"right":"left";Wn.current=Gn,In.current=zn.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$2="MenuGroup",MenuGroup=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,...dn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...dn,ref:sn})});MenuGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="MenuLabel",MenuLabel=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,...dn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{...dn,ref:sn})});MenuLabel.displayName=LABEL_NAME$2;var ITEM_NAME$2="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((tn,sn)=>{const{disabled:un=!1,onSelect:dn,...pn}=tn,mn=reactExports.useRef(null),hn=useMenuRootContext(ITEM_NAME$2,tn.__scopeMenu),fn=useMenuContentContext(ITEM_NAME$2,tn.__scopeMenu),gn=useComposedRefs(sn,mn),xn=reactExports.useRef(!1),yn=()=>{const vn=mn.current;if(!un&&vn){const En=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});vn.addEventListener(ITEM_SELECT,bn=>dn==null?void 0:dn(bn),{once:!0}),dispatchDiscreteCustomEvent(vn,En),En.defaultPrevented?xn.current=!1:hn.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...pn,ref:gn,disabled:un,onClick:composeEventHandlers$1(tn.onClick,yn),onPointerDown:vn=>{var En;(En=tn.onPointerDown)==null||En.call(tn,vn),xn.current=!0},onPointerUp:composeEventHandlers$1(tn.onPointerUp,vn=>{var En;xn.current||(En=vn.currentTarget)==null||En.click()}),onKeyDown:composeEventHandlers$1(tn.onKeyDown,vn=>{const En=fn.searchRef.current!=="";un||En&&vn.key===" "||SELECTION_KEYS$1.includes(vn.key)&&(vn.currentTarget.click(),vn.preventDefault())})})});MenuItem.displayName=ITEM_NAME$2;var MenuItemImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,disabled:dn=!1,textValue:pn,...mn}=tn,hn=useMenuContentContext(ITEM_NAME$2,un),fn=useRovingFocusGroupScope(un),gn=reactExports.useRef(null),xn=useComposedRefs(sn,gn),[yn,vn]=reactExports.useState(!1),[En,bn]=reactExports.useState("");return reactExports.useEffect(()=>{const wn=gn.current;wn&&bn((wn.textContent??"").trim())},[mn.children]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:un,disabled:dn,textValue:pn??En,children:jsxRuntimeExports.jsx(Item$2,{asChild:!0,...fn,focusable:!dn,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":yn?"":void 0,"aria-disabled":dn||void 0,"data-disabled":dn?"":void 0,...mn,ref:xn,onPointerMove:composeEventHandlers$1(tn.onPointerMove,whenMouse(wn=>{dn?hn.onItemLeave(wn):(hn.onItemEnter(wn),wn.defaultPrevented||wn.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers$1(tn.onPointerLeave,whenMouse(wn=>hn.onItemLeave(wn))),onFocus:composeEventHandlers$1(tn.onFocus,()=>vn(!0)),onBlur:composeEventHandlers$1(tn.onBlur,()=>vn(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((tn,sn)=>{const{checked:un=!1,onCheckedChange:dn,...pn}=tn;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:tn.__scopeMenu,checked:un,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate$1(un)?"mixed":un,...pn,ref:sn,"data-state":getCheckedState(un),onSelect:composeEventHandlers$1(pn.onSelect,()=>dn==null?void 0:dn(isIndeterminate$1(un)?!0:!un),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((tn,sn)=>{const{value:un,onValueChange:dn,...pn}=tn,mn=useCallbackRef$1(dn);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:tn.__scopeMenu,value:un,onValueChange:mn,children:jsxRuntimeExports.jsx(MenuGroup,{...pn,ref:sn})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((tn,sn)=>{const{value:un,...dn}=tn,pn=useRadioGroupContext(RADIO_ITEM_NAME$1,tn.__scopeMenu),mn=un===pn.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:tn.__scopeMenu,checked:mn,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":mn,...dn,ref:sn,"data-state":getCheckedState(mn),onSelect:composeEventHandlers$1(dn.onSelect,()=>{var hn;return(hn=pn.onValueChange)==null?void 0:hn.call(pn,un)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME$1="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME$1,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,forceMount:dn,...pn}=tn,mn=useItemIndicatorContext(ITEM_INDICATOR_NAME$1,un);return jsxRuntimeExports.jsx(Presence,{present:dn||isIndeterminate$1(mn.checked)||mn.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...pn,ref:sn,"data-state":getCheckedState(mn.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SEPARATOR_NAME$2="MenuSeparator",MenuSeparator=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,...dn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...dn,ref:sn})});MenuSeparator.displayName=SEPARATOR_NAME$2;var ARROW_NAME$2="MenuArrow",MenuArrow=reactExports.forwardRef((tn,sn)=>{const{__scopeMenu:un,...dn}=tn,pn=usePopperScope$1(un);return jsxRuntimeExports.jsx(Arrow,{...pn,...dn,ref:sn})});MenuArrow.displayName=ARROW_NAME$2;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((tn,sn)=>{const un=useMenuContext(SUB_TRIGGER_NAME$1,tn.__scopeMenu),dn=useMenuRootContext(SUB_TRIGGER_NAME$1,tn.__scopeMenu),pn=useMenuSubContext(SUB_TRIGGER_NAME$1,tn.__scopeMenu),mn=useMenuContentContext(SUB_TRIGGER_NAME$1,tn.__scopeMenu),hn=reactExports.useRef(null),{pointerGraceTimerRef:fn,onPointerGraceIntentChange:gn}=mn,xn={__scopeMenu:tn.__scopeMenu},yn=reactExports.useCallback(()=>{hn.current&&window.clearTimeout(hn.current),hn.current=null},[]);return reactExports.useEffect(()=>yn,[yn]),reactExports.useEffect(()=>{const vn=fn.current;return()=>{window.clearTimeout(vn),gn(null)}},[fn,gn]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...xn,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:pn.triggerId,"aria-haspopup":"menu","aria-expanded":un.open,"aria-controls":pn.contentId,"data-state":getOpenState(un.open),...tn,ref:composeRefs(sn,pn.onTriggerChange),onClick:vn=>{var En;(En=tn.onClick)==null||En.call(tn,vn),!(tn.disabled||vn.defaultPrevented)&&(vn.currentTarget.focus(),un.open||un.onOpenChange(!0))},onPointerMove:composeEventHandlers$1(tn.onPointerMove,whenMouse(vn=>{mn.onItemEnter(vn),!vn.defaultPrevented&&!tn.disabled&&!un.open&&!hn.current&&(mn.onPointerGraceIntentChange(null),hn.current=window.setTimeout(()=>{un.onOpenChange(!0),yn()},100))})),onPointerLeave:composeEventHandlers$1(tn.onPointerLeave,whenMouse(vn=>{var bn,wn;yn();const En=(bn=un.content)==null?void 0:bn.getBoundingClientRect();if(En){const Sn=(wn=un.content)==null?void 0:wn.dataset.side,Rn=Sn==="right",_n=Rn?-5:5,jn=En[Rn?"left":"right"],Cn=En[Rn?"right":"left"];mn.onPointerGraceIntentChange({area:[{x:vn.clientX+_n,y:vn.clientY},{x:jn,y:En.top},{x:Cn,y:En.top},{x:Cn,y:En.bottom},{x:jn,y:En.bottom}],side:Sn}),window.clearTimeout(fn.current),fn.current=window.setTimeout(()=>mn.onPointerGraceIntentChange(null),300)}else{if(mn.onTriggerLeave(vn),vn.defaultPrevented)return;mn.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers$1(tn.onKeyDown,vn=>{var bn;const En=mn.searchRef.current!=="";tn.disabled||En&&vn.key===" "||SUB_OPEN_KEYS[dn.dir].includes(vn.key)&&(un.onOpenChange(!0),(bn=un.content)==null||bn.focus(),vn.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((tn,sn)=>{const un=usePortalContext$1(CONTENT_NAME$3,tn.__scopeMenu),{forceMount:dn=un.forceMount,...pn}=tn,mn=useMenuContext(CONTENT_NAME$3,tn.__scopeMenu),hn=useMenuRootContext(CONTENT_NAME$3,tn.__scopeMenu),fn=useMenuSubContext(SUB_CONTENT_NAME$1,tn.__scopeMenu),gn=reactExports.useRef(null),xn=useComposedRefs(sn,gn);return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:tn.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:dn||mn.open,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:tn.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:fn.contentId,"aria-labelledby":fn.triggerId,...pn,ref:xn,align:"start",side:hn.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:yn=>{var vn;hn.isUsingKeyboardRef.current&&((vn=gn.current)==null||vn.focus()),yn.preventDefault()},onCloseAutoFocus:yn=>yn.preventDefault(),onFocusOutside:composeEventHandlers$1(tn.onFocusOutside,yn=>{yn.target!==fn.trigger&&mn.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers$1(tn.onEscapeKeyDown,yn=>{hn.onClose(),yn.preventDefault()}),onKeyDown:composeEventHandlers$1(tn.onKeyDown,yn=>{var bn;const vn=yn.currentTarget.contains(yn.target),En=SUB_CLOSE_KEYS[hn.dir].includes(yn.key);vn&&En&&(mn.onOpenChange(!1),(bn=fn.trigger)==null||bn.focus(),yn.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(tn){return tn?"open":"closed"}function isIndeterminate$1(tn){return tn==="indeterminate"}function getCheckedState(tn){return isIndeterminate$1(tn)?"indeterminate":tn?"checked":"unchecked"}function focusFirst(tn){const sn=document.activeElement;for(const un of tn)if(un===sn||(un.focus(),document.activeElement!==sn))return}function wrapArray$1(tn,sn){return tn.map((un,dn)=>tn[(sn+dn)%tn.length])}function getNextMatch(tn,sn,un){const pn=sn.length>1&&Array.from(sn).every(xn=>xn===sn[0])?sn[0]:sn,mn=un?tn.indexOf(un):-1;let hn=wrapArray$1(tn,Math.max(mn,0));pn.length===1&&(hn=hn.filter(xn=>xn!==un));const gn=hn.find(xn=>xn.toLowerCase().startsWith(pn.toLowerCase()));return gn!==un?gn:void 0}function isPointInPolygon(tn,sn){const{x:un,y:dn}=tn;let pn=!1;for(let mn=0,hn=sn.length-1;mn<sn.length;hn=mn++){const fn=sn[mn],gn=sn[hn],xn=fn.x,yn=fn.y,vn=gn.x,En=gn.y;yn>dn!=En>dn&&un<(vn-xn)*(dn-yn)/(En-yn)+xn&&(pn=!pn)}return pn}function isPointerInGraceArea(tn,sn){if(!sn)return!1;const un={x:tn.clientX,y:tn.clientY};return isPointInPolygon(un,sn)}function whenMouse(tn){return sn=>sn.pointerType==="mouse"?tn(sn):void 0}var Root3=Menu$c,Anchor2=MenuAnchor,Portal$3=MenuPortal,Content2$2=MenuContent,Group=MenuGroup,Label$4=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator$1=MenuItemIndicator,Separator$3=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=tn=>{const{__scopeDropdownMenu:sn,children:un,dir:dn,open:pn,defaultOpen:mn,onOpenChange:hn,modal:fn=!0}=tn,gn=useMenuScope(sn),xn=reactExports.useRef(null),[yn,vn]=useControllableState({prop:pn,defaultProp:mn??!1,onChange:hn,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:sn,triggerId:useId(),triggerRef:xn,contentId:useId(),open:yn,onOpenChange:vn,onOpenToggle:reactExports.useCallback(()=>vn(En=>!En),[vn]),modal:fn,children:jsxRuntimeExports.jsx(Root3,{...gn,open:yn,onOpenChange:vn,dir:dn,modal:fn,children:un})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$3="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,disabled:dn=!1,...pn}=tn,mn=useDropdownMenuContext(TRIGGER_NAME$3,un),hn=useMenuScope(un);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...hn,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:mn.triggerId,"aria-haspopup":"menu","aria-expanded":mn.open,"aria-controls":mn.open?mn.contentId:void 0,"data-state":mn.open?"open":"closed","data-disabled":dn?"":void 0,disabled:dn,...pn,ref:composeRefs(sn,mn.triggerRef),onPointerDown:composeEventHandlers$1(tn.onPointerDown,fn=>{!dn&&fn.button===0&&fn.ctrlKey===!1&&(mn.onOpenToggle(),mn.open||fn.preventDefault())}),onKeyDown:composeEventHandlers$1(tn.onKeyDown,fn=>{dn||(["Enter"," "].includes(fn.key)&&mn.onOpenToggle(),fn.key==="ArrowDown"&&mn.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(fn.key)&&fn.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$3;var PORTAL_NAME$2="DropdownMenuPortal",DropdownMenuPortal=tn=>{const{__scopeDropdownMenu:sn,...un}=tn,dn=useMenuScope(sn);return jsxRuntimeExports.jsx(Portal$3,{...dn,...un})};DropdownMenuPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useDropdownMenuContext(CONTENT_NAME$2,un),mn=useMenuScope(un),hn=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$2,{id:pn.contentId,"aria-labelledby":pn.triggerId,...mn,...dn,ref:sn,onCloseAutoFocus:composeEventHandlers$1(tn.onCloseAutoFocus,fn=>{var gn;hn.current||(gn=pn.triggerRef.current)==null||gn.focus(),hn.current=!1,fn.preventDefault()}),onInteractOutside:composeEventHandlers$1(tn.onInteractOutside,fn=>{const gn=fn.detail.originalEvent,xn=gn.button===0&&gn.ctrlKey===!0,yn=gn.button===2||xn;(!pn.modal||yn)&&(hn.current=!0)}),style:{...tn.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME$2;var GROUP_NAME$1="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(Group,{...pn,...dn,ref:sn})});DropdownMenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(Label$4,{...pn,...dn,ref:sn})});DropdownMenuLabel$1.displayName=LABEL_NAME$1;var ITEM_NAME$1="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(Item2$1,{...pn,...dn,ref:sn})});DropdownMenuItem$1.displayName=ITEM_NAME$1;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(CheckboxItem,{...pn,...dn,ref:sn})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(RadioGroup,{...pn,...dn,ref:sn})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(RadioItem,{...pn,...dn,ref:sn})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME$2="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(ItemIndicator$1,{...pn,...dn,ref:sn})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME$2;var SEPARATOR_NAME$1="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(Separator$3,{...pn,...dn,ref:sn})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(Arrow2,{...pn,...dn,ref:sn})});DropdownMenuArrow.displayName=ARROW_NAME$1;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(SubTrigger,{...pn,...dn,ref:sn})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDropdownMenu:un,...dn}=tn,pn=useMenuScope(un);return jsxRuntimeExports.jsx(SubContent,{...pn,...dn,ref:sn,style:{...tn.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2$1=DropdownMenu$1,Trigger$2=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2$1=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2$1,DropdownMenuTrigger=Trigger$2,DropdownMenuSubTrigger=reactExports.forwardRef(({className:tn,inset:sn,children:un,...dn},pn)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:pn,className:cn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",sn&&"pl-8",tn),...dn,children:[un,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(SubContent2,{ref:un,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",tn),...sn}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:tn,sideOffset:sn=4,...un},dn)=>jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2$1,{ref:dn,sideOffset:sn,className:cn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",tn),...un})}));DropdownMenuContent.displayName=Content2$1.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:tn,inset:sn,...un},dn)=>jsxRuntimeExports.jsx(Item2,{ref:dn,className:cn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",sn&&"pl-8",tn),...un}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:tn,children:sn,checked:un,...dn},pn)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:pn,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",tn),checked:un,...dn,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),sn]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:tn,children:sn,...un},dn)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:dn,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",tn),...un,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),sn]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:tn,inset:sn,...un},dn)=>jsxRuntimeExports.jsx(Label2,{ref:dn,className:cn("px-2 py-1.5 text-sm font-semibold",sn&&"pl-8",tn),...un}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Separator2,{ref:un,className:cn("-mx-1 my-1 h-px bg-muted",tn),...sn}));DropdownMenuSeparator.displayName=Separator2.displayName;function ChatMessageComponent({message:tn,onEdit:sn,onDelete:un}){var Rn;const{user:dn}=useAuth(),[pn,mn]=reactExports.useState(!1),[hn,fn]=reactExports.useState(tn.content),gn=(dn==null?void 0:dn.id)===tn.userId,xn=((Rn=dn==null?void 0:dn.permissions)==null?void 0:Rn.includes("MANAGE_USERS"))||(dn==null?void 0:dn.role)==="admin"||(dn==null?void 0:dn.role)==="super_admin",yn=gn,vn=gn||xn,En=()=>{hn.trim()&&hn!==tn.content&&sn(tn.id,hn.trim()),mn(!1)},bn=()=>{fn(tn.content),mn(!1)},wn=_n=>_n.split(" ").map(jn=>jn[0]).join("").toUpperCase().slice(0,2),Sn=_n=>{const jn=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"],Cn=_n.split("").reduce((An,Tn)=>(An=(An<<5)-An+Tn.charCodeAt(0),An&An),0);return jn[Math.abs(Cn)%jn.length]};return jsxRuntimeExports.jsxs("div",{className:"flex gap-3 py-2 px-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 group",children:[jsxRuntimeExports.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold ${Sn(tn.userId)}`,children:wn(tn.userName)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:tn.userName}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[formatDistanceToNow(tn.timestamp,{addSuffix:!0}),tn.edited&&jsxRuntimeExports.jsx("span",{className:"ml-1 text-gray-400",children:"(edited)"})]})]}),pn?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Textarea,{value:hn,onChange:_n=>fn(_n.target.value),className:"min-h-[60px] text-sm",onKeyDown:_n=>{_n.key==="Enter"&&_n.ctrlKey?En():_n.key==="Escape"&&bn()}}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:En,disabled:!hn.trim(),children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 mr-1"}),"Save"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:bn,children:[jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3 mr-1"}),"Cancel"]})]})]}):jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words",children:tn.content})]}),(yn||vn)&&!pn&&jsxRuntimeExports.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:jsxRuntimeExports.jsx(Ellipsis,{className:"w-3 h-3"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[yn&&jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>mn(!0),children:[jsxRuntimeExports.jsx(Pen,{className:"w-3 h-3 mr-2"}),"Edit message"]}),vn&&jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>un(tn.id),className:"text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3 mr-2"}),"Delete message"]})]})]})})]})}const CHANNEL_INFO={general:{id:"general",name:"General",description:"Open discussion for all team members",icon:jsxRuntimeExports.jsx(Hash$2,{className:"h-5 w-5"}),isPrivate:!1},"core-team":{id:"core-team",name:"Core Team",description:"Private discussions for core team members",icon:jsxRuntimeExports.jsx(Crown,{className:"h-5 w-5"}),isPrivate:!0},committee:{id:"committee",name:"Committee",description:"Committee member discussions",icon:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),isPrivate:!0},host:{id:"host",name:"Host Chat",description:"Communication for sandwich collection hosts",icon:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),isPrivate:!1},driver:{id:"driver",name:"Driver Chat",description:"Coordination for delivery drivers",icon:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),isPrivate:!1},recipient:{id:"recipient",name:"Recipient Chat",description:"Communication for recipient organizations",icon:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),isPrivate:!1}};function EnhancedChat(){const[tn,sn]=reactExports.useState("general"),[un,dn]=reactExports.useState([]),[pn,mn]=reactExports.useState(""),[hn,fn]=reactExports.useState(null),[gn,xn]=reactExports.useState(!1),[yn,vn]=reactExports.useState(!1),En=reactExports.useRef(null),{user:bn}=useAuth(),{toast:wn}=useToast(),Sn=CHANNEL_INFO[tn];reactExports.useEffect(()=>{if(!bn)return;const $n=`${window.location.protocol}//${window.location.host}`,Dn=lookup($n,{transports:["polling","websocket"],upgrade:!0,rememberUpgrade:!1});return fn(Dn),Dn.on("connect",()=>{xn(!0),console.log("Chat connected to Socket.IO")}),Dn.on("disconnect",()=>{xn(!1),vn(!1),console.log("Chat disconnected from Socket.IO")}),Dn.on("joined-channel",({channel:Nn})=>{Nn===tn&&(vn(!0),console.log(`Successfully joined channel: ${Nn}`))}),Dn.on("new-message",Nn=>{Nn.channel===tn&&dn(kn=>[...kn,{...Nn,timestamp:new Date(Nn.timestamp)}])}),Dn.on("message-history",Nn=>{const kn=Nn.map(Pn=>({...Pn,timestamp:new Date(Pn.timestamp||Pn.createdAt)}));dn(kn)}),Dn.on("message-edited",Nn=>{Nn.channel===tn&&(dn(kn=>kn.map(Pn=>Pn.id===Nn.id?{...Nn,timestamp:new Date(Nn.timestamp)}:Pn)),wn({title:"Message edited",description:"The message has been updated."}))}),Dn.on("message-deleted",({messageId:Nn,deletedBy:kn})=>{dn(Pn=>Pn.filter(Mn=>Mn.id!==Nn)),wn({title:"Message deleted",description:`Message was deleted by ${kn}`})}),Dn.on("error",({message:Nn})=>{wn({title:"Error",description:Nn,variant:"destructive"})}),()=>{Dn.disconnect()}},[bn,tn]),reactExports.useEffect(()=>{if(hn&&gn&&bn&&tn){vn(!1),dn([]);const $n=bn.displayName||bn.firstName||bn.email||"User";console.log("Chat sending user data:",{displayName:bn.displayName,firstName:bn.firstName,email:bn.email,finalName:$n}),hn.emit("join-channel",{channel:tn,userId:bn.id,userName:$n}),Rn(tn)}},[hn,gn,bn,tn]);const Rn=async $n=>{try{const Dn=await fetch("/api/message-notifications/mark-chat-read",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({channel:$n})});Dn.ok?(console.log(`Marked all messages in ${$n} as read`),window.dispatchEvent(new CustomEvent("refreshNotifications"))):console.warn(`Failed to mark ${$n} messages as read:`,Dn.statusText)}catch(Dn){console.error(`Error marking ${$n} messages as read:`,Dn)}};reactExports.useEffect(()=>{var $n;($n=En.current)==null||$n.scrollIntoView({behavior:"smooth"})},[un]);const _n=()=>{!hn||!pn.trim()||!tn||(hn.emit("send-message",{channel:tn,content:pn.trim()}),mn(""))},jn=$n=>{$n.key==="Enter"&&!$n.shiftKey&&($n.preventDefault(),_n())},Cn=($n,Dn)=>{hn&&hn.emit("edit-message",{messageId:parseInt($n),newContent:Dn})},An=$n=>{hn&&window.confirm("Are you sure you want to delete this message?")&&hn.emit("delete-message",{messageId:parseInt($n)})},Tn=()=>tn==="core-team"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white":"bg-[#236383] text-white";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-200px)] bg-white dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"md:block",children:jsxRuntimeExports.jsx(LiveChatHub,{onChannelSelect:sn,selectedChannel:tn})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[jsxRuntimeExports.jsx("div",{className:`px-3 sm:px-4 md:px-6 py-3 sm:py-4 ${Tn()}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:Sn==null?void 0:Sn.icon}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-base sm:text-lg font-semibold truncate",children:Sn==null?void 0:Sn.name}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm opacity-90 truncate hidden sm:block",children:Sn==null?void 0:Sn.description})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-shrink-0",children:[(Sn==null?void 0:Sn.isPrivate)&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-white/20 text-white text-xs hidden sm:inline-flex",children:"Private"}),jsxRuntimeExports.jsxs(Badge,{variant:gn?"default":"destructive",className:`text-xs ${gn?"bg-green-500":""}`,children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:gn?"Connected":"Disconnected"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:gn?"●":"○"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-2 sm:p-3 md:p-4 space-y-2 sm:space-y-4 bg-gray-50 dark:bg-gray-800 min-h-0",children:yn?un.length===0?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full px-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl sm:text-4xl mb-3 sm:mb-4",children:Sn==null?void 0:Sn.icon}),jsxRuntimeExports.jsxs("h4",{className:"text-base sm:text-lg font-medium mb-2",children:["Welcome to ",Sn==null?void 0:Sn.name,"!"]}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base",children:"This is the beginning of your conversation."}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm mt-2",children:"Send a message to get started."})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[un.map($n=>jsxRuntimeExports.jsx(ChatMessageComponent,{message:$n,onEdit:Cn,onDelete:An},$n.id)),jsxRuntimeExports.jsx("div",{ref:En})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-[#236383] mx-auto mb-3 sm:mb-4"}),jsxRuntimeExports.jsxs("p",{className:"text-sm sm:text-base",children:["Joining ",Sn==null?void 0:Sn.name,"..."]})]})})}),jsxRuntimeExports.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:pn,onChange:$n=>mn($n.target.value),onKeyPress:jn,placeholder:`Message ${(Sn==null?void 0:Sn.name)||"chat"}...`,disabled:!gn||!yn,className:"flex-1 text-sm sm:text-base h-10 sm:h-11"}),jsxRuntimeExports.jsx(Button,{onClick:_n,disabled:!gn||!yn||!pn.trim(),className:"bg-[#236383] hover:bg-[#1a4d66] text-white h-10 sm:h-11 w-10 sm:w-11 p-0",children:jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4"})})]}),!gn&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Disconnected - trying to reconnect..."})]})]})]})}function useIsHydrated(){return shimExports.useSyncExternalStore(subscribe$1,()=>!0,()=>!1)}function subscribe$1(){return()=>{}}var AVATAR_NAME="Avatar",[createAvatarContext,createAvatarScope]=createContextScope(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$2=reactExports.forwardRef((tn,sn)=>{const{__scopeAvatar:un,...dn}=tn,[pn,mn]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:un,imageLoadingStatus:pn,onImageLoadingStatusChange:mn,children:jsxRuntimeExports.jsx(Primitive.span,{...dn,ref:sn})})});Avatar$2.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((tn,sn)=>{const{__scopeAvatar:un,src:dn,onLoadingStatusChange:pn=()=>{},...mn}=tn,hn=useAvatarContext(IMAGE_NAME,un),fn=useImageLoadingStatus(dn,mn),gn=useCallbackRef$1(xn=>{pn(xn),hn.onImageLoadingStatusChange(xn)});return useLayoutEffect2(()=>{fn!=="idle"&&gn(fn)},[fn,gn]),fn==="loaded"?jsxRuntimeExports.jsx(Primitive.img,{...mn,ref:sn,src:dn}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((tn,sn)=>{const{__scopeAvatar:un,delayMs:dn,...pn}=tn,mn=useAvatarContext(FALLBACK_NAME,un),[hn,fn]=reactExports.useState(dn===void 0);return reactExports.useEffect(()=>{if(dn!==void 0){const gn=window.setTimeout(()=>fn(!0),dn);return()=>window.clearTimeout(gn)}},[dn]),hn&&mn.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive.span,{...pn,ref:sn}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function resolveLoadingStatus(tn,sn){return tn?sn?(tn.src!==sn&&(tn.src=sn),tn.complete&&tn.naturalWidth>0?"loaded":"loading"):"error":"idle"}function useImageLoadingStatus(tn,{referrerPolicy:sn,crossOrigin:un}){const dn=useIsHydrated(),pn=reactExports.useRef(null),mn=dn?(pn.current||(pn.current=new window.Image),pn.current):null,[hn,fn]=reactExports.useState(()=>resolveLoadingStatus(mn,tn));return useLayoutEffect2(()=>{fn(resolveLoadingStatus(mn,tn))},[mn,tn]),useLayoutEffect2(()=>{const gn=vn=>()=>{fn(vn)};if(!mn)return;const xn=gn("loaded"),yn=gn("error");return mn.addEventListener("load",xn),mn.addEventListener("error",yn),sn&&(mn.referrerPolicy=sn),typeof un=="string"&&(mn.crossOrigin=un),()=>{mn.removeEventListener("load",xn),mn.removeEventListener("error",yn)}},[mn,un,sn]),hn}var Root$6=Avatar$2,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;const Avatar$1=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Root$6,{ref:un,className:cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",tn),...sn}));Avatar$1.displayName=Root$6.displayName;const AvatarImage=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Image$1,{ref:un,className:cn("aspect-square h-full w-full",tn),...sn}));AvatarImage.displayName=Image$1.displayName;const AvatarFallback=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Fallback,{ref:un,className:cn("flex h-full w-full items-center justify-center rounded-full bg-muted",tn),...sn}));AvatarFallback.displayName=Fallback.displayName;function useMessageReads(){const{user:tn}=useAuth(),sn=useMutation({mutationFn:async({committee:mn,messageIds:hn})=>apiRequest("POST","/api/message-notifications/mark-chat-read",{channel:mn,messageIds:hn}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/message-notifications/unread-counts"]})},onError:mn=>{console.error("Failed to mark messages as read:",mn)}}),un=mn=>{tn&&sn.mutate({committee:mn})};return{markCommitteeAsRead:un,markSpecificMessagesAsRead:(mn,hn)=>{!tn||hn.length===0||sn.mutate({committee:mn,messageIds:hn})},useAutoMarkAsRead:(mn,hn,fn=!0)=>{reactExports.useEffect(()=>{if(!fn||!tn||!hn||hn.length===0||hn.filter(En=>En.userId!==tn.id).length===0)return;const xn=()=>!document.hidden,yn=setTimeout(()=>{xn()&&un(mn)},1500),vn=()=>{xn()&&un(mn)};return document.addEventListener("visibilitychange",vn),()=>{clearTimeout(yn),document.removeEventListener("visibilitychange",vn)}},[mn,hn,fn,tn])},isMarkingAsRead:sn.isPending}}function MessageLikeButton({messageId:tn,className:sn=""}){const{user:un}=useAuth(),dn=useQueryClient(),pn=Number(tn);console.log("MessageLikeButton rendered:",{messageId:tn,numericMessageId:pn,user:un==null?void 0:un.id});const{data:mn=[],isLoading:hn}=useQuery({queryKey:["message-likes",pn],queryFn:()=>apiRequest("GET",`/api/messages/${pn}/likes`),staleTime:3e4}),fn=mn.some(En=>En.userId===(un==null?void 0:un.id)),gn=mn.length,xn=useMutation({mutationFn:async()=>fn?apiRequest("DELETE",`/api/messages/${pn}/like`):apiRequest("POST",`/api/messages/${pn}/like`),onSuccess:()=>{dn.invalidateQueries({queryKey:["message-likes",pn]})},onError:En=>{console.error("Error toggling message like:",En)}}),yn=()=>{un&&xn.mutate()},vn=()=>{if(gn===0)return"Be the first to like this message";if(gn===1)return`Liked by ${mn[0].userName}`;if(gn===2)return`Liked by ${mn[0].userName} and ${mn[1].userName}`;{const En=mn.slice(0,2).map(wn=>wn.userName).join(", "),bn=gn-2;return`Liked by ${En} and ${bn} other${bn>1?"s":""}`}};return hn?jsxRuntimeExports.jsx("div",{className:`flex items-center space-x-1 ${sn}`,children:jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4 text-gray-300"})}):jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:yn,disabled:xn.isPending||!un,className:`h-6 px-2 py-1 transition-colors ${sn}`,children:[jsxRuntimeExports.jsx(Heart,{className:`w-4 h-4 mr-1 transition-colors ${fn?"text-red-500 fill-red-500":"text-gray-400 hover:text-red-400"}`}),gn>0&&jsxRuntimeExports.jsx("span",{className:`text-xs ${fn?"text-red-500":"text-gray-500"}`,children:gn})]})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:vn()})})]})})}const committees=[{id:"marketing_committee",name:"Marketing Committee",description:"Marketing campaigns and promotions"},{id:"grant_committee",name:"Grant Committee",description:"Grant applications and funding"},{id:"group_events",name:"Group Events",description:"Team events and activities"},{id:"finance_committee",name:"Finance Committee",description:"Budget and financial planning"},{id:"operations",name:"Operations",description:"Daily operations and logistics"}];function CommitteeChat(){const{toast:tn}=useToast(),{user:sn}=useAuth(),[un,dn]=reactExports.useState(null),[pn,mn]=reactExports.useState(""),hn=reactExports.useRef(null),{useAutoMarkAsRead:fn}=useMessageReads(),{data:gn}=useQuery({queryKey:["/api/auth/profile"],enabled:!!sn}),xn=()=>{if(gn&&typeof gn=="object"){const jn=gn;if(jn.displayName)return jn.displayName;if(jn.firstName)return jn.firstName}return sn&&typeof sn=="object"&&"email"in sn&&sn.email?String(sn.email).split("@")[0]:"Team Member"},{data:yn}=useQuery({queryKey:["/api/conversations/committee",un==null?void 0:un.id],queryFn:async()=>un?await apiRequest("POST","/api/conversations",{type:"channel",name:`${un.name}`}):null,enabled:!!un}),{data:vn=[]}=useQuery({queryKey:["/api/conversations",yn==null?void 0:yn.id,"messages"],enabled:!!yn,refetchInterval:12e4}),[En,bn]=reactExports.useState(null),wn=En||vn;fn((un==null?void 0:un.id)||"",vn,!!un),reactExports.useEffect(()=>{bn(null),yn!=null&&yn.id&&queryClient.invalidateQueries({queryKey:["/api/conversations",yn.id,"messages"]})},[yn==null?void 0:yn.id]),reactExports.useEffect(()=>{vn.length>0&&un&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("refreshNotifications"))},500)},[vn.length,un]);const Sn=useMutation({mutationFn:async jn=>{if(!yn)throw new Error("No conversation available");return await apiRequest("POST",`/api/conversations/${yn.id}/messages`,{content:jn.content})},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/conversations",yn==null?void 0:yn.id,"messages"]}),mn("")},onError:()=>{tn({title:"Error",description:"Failed to send message",variant:"destructive"})}}),Rn=useMutation({mutationFn:async jn=>await apiRequest("DELETE",`/api/messages/${jn}`),onMutate:async jn=>{bn(Cn=>(Cn||vn).filter(Tn=>Tn.id!==jn))},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/conversations",yn==null?void 0:yn.id,"messages"]}),bn(null),tn({title:"Message deleted",description:"The message has been removed"})},onError:()=>{bn(null),queryClient.invalidateQueries({queryKey:["/api/conversations",yn==null?void 0:yn.id,"messages"]}),tn({title:"Error",description:"Failed to delete message",variant:"destructive"})}}),_n=()=>{pn.trim()&&Sn.mutate({content:pn.trim()})};return reactExports.useEffect(()=>{var jn;(jn=hn.current)==null||jn.scrollIntoView({behavior:"smooth"})},[vn]),un?jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-[600px] bg-white dark:bg-gray-900 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4 flex items-center",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>dn(null),className:"mr-3",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-blue-500 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:un.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600",children:"Committee Chat"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[wn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 py-8",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),jsxRuntimeExports.jsx("p",{children:"No messages yet. Start the conversation!"})]}):wn.map(jn=>{var Cn;return jsxRuntimeExports.jsxs("div",{className:"flex space-x-3 group",children:[jsxRuntimeExports.jsx(Avatar$1,{className:"w-8 h-8",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gray-500 text-white text-xs",children:((Cn=jn.sender)==null?void 0:Cn.split(" ").map(An=>An[0]).join("").slice(0,2))||"TM"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:jn.sender}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:jn.timestamp&&!isNaN(new Date(jn.timestamp).getTime())?new Date(jn.timestamp).toLocaleTimeString():"Just now"})]}),jn.sender===xn()&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Rn.mutate(jn.id),className:"opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",disabled:Rn.isPending,children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:jn.content})}),jsxRuntimeExports.jsx("div",{className:"flex items-center mt-1 space-x-2",children:jsxRuntimeExports.jsx(MessageLikeButton,{messageId:jn.id})})]})]},jn.id)}),jsxRuntimeExports.jsx("div",{ref:hn})]})}),jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Posting as:"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-800",children:xn()})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:pn,onChange:jn=>mn(jn.target.value),placeholder:`Message ${un.name}...`,onKeyPress:jn=>jn.key==="Enter"&&_n(),disabled:Sn.isPending}),jsxRuntimeExports.jsx(Button,{onClick:_n,disabled:!pn.trim()||Sn.isPending,children:jsxRuntimeExports.jsx(Send$c,{className:"w-4 h-4"})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-6 h-6 mr-2"}),"Committee Chat"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:committees.map(jn=>jsxRuntimeExports.jsx("div",{onClick:()=>dn(jn),className:"p-6 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-3",children:[jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-blue-500 mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:jn.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:jn.description})]})]})},jn.id))})]})}const USER_ROLES={SUPER_ADMIN:"super_admin",ADMIN:"admin",COMMITTEE_MEMBER:"committee_member",HOST:"host",DRIVER:"driver",VOLUNTEER:"volunteer",RECIPIENT:"recipient",VIEWER:"viewer",WORK_LOGGER:"work_logger"},PERMISSIONS={ADMIN_ACCESS:"admin_access",MANAGE_USERS:"manage_users",MANAGE_ANNOUNCEMENTS:"manage_announcements",ACCESS_DIRECTORY:"access_directory",ACCESS_HOSTS:"access_hosts",ACCESS_RECIPIENTS:"access_recipients",ACCESS_DRIVERS:"access_drivers",ACCESS_COLLECTIONS:"access_collections",ACCESS_CHAT:"access_chat",ACCESS_MESSAGES:"access_messages",ACCESS_TOOLKIT:"access_toolkit",ACCESS_MEETINGS:"access_meetings",ACCESS_ANALYTICS:"access_analytics",ACCESS_REPORTS:"access_reports",ACCESS_PROJECTS:"access_projects",ACCESS_ROLE_DEMO:"access_role_demo",ACCESS_SUGGESTIONS:"access_suggestions",ACCESS_SANDWICH_DATA:"access_sandwich_data",ACCESS_GOVERNANCE:"access_governance",ACCESS_WORK_LOGS:"access_work_logs",MANAGE_HOSTS:"manage_hosts",MANAGE_RECIPIENTS:"manage_recipients",MANAGE_DRIVERS:"manage_drivers",MANAGE_MEETINGS:"manage_meetings",MANAGE_SUGGESTIONS:"manage_suggestions",SUBMIT_SUGGESTIONS:"submit_suggestions",CREATE_SUGGESTIONS:"create_suggestions",EDIT_ALL_SUGGESTIONS:"edit_all_suggestions",DELETE_ALL_SUGGESTIONS:"delete_all_suggestions",MANAGE_COLLECTIONS:"manage_collections",CREATE_PROJECTS:"create_projects",EDIT_ALL_PROJECTS:"edit_all_projects",DELETE_ALL_PROJECTS:"delete_all_projects",CREATE_COLLECTIONS:"create_collections",EDIT_ALL_COLLECTIONS:"edit_all_collections",DELETE_ALL_COLLECTIONS:"delete_all_collections",CREATE_WORK_LOGS:"create_work_logs",VIEW_ALL_WORK_LOGS:"view_all_work_logs",EDIT_ALL_WORK_LOGS:"edit_all_work_logs",DELETE_ALL_WORK_LOGS:"delete_all_work_logs",EXPORT_DATA:"export_data",IMPORT_DATA:"import_data",SCHEDULE_REPORTS:"schedule_reports",SEND_MESSAGES:"send_messages",MODERATE_MESSAGES:"moderate_messages",DIRECT_MESSAGES:"direct_messages",GROUP_MESSAGES:"group_messages",GENERAL_CHAT:"general_chat",COMMITTEE_CHAT:"committee_chat",HOST_CHAT:"host_chat",DRIVER_CHAT:"driver_chat",RECIPIENT_CHAT:"recipient_chat",CORE_TEAM_CHAT:"core_team_chat",VIEW_PHONE_DIRECTORY:"access_directory",VIEW_HOSTS:"access_hosts",VIEW_RECIPIENTS:"access_recipients",VIEW_DRIVERS:"access_drivers",VIEW_COLLECTIONS:"access_collections",VIEW_REPORTS:"access_reports",VIEW_MEETINGS:"access_meetings",VIEW_ANALYTICS:"access_analytics",VIEW_PROJECTS:"access_projects",VIEW_ROLE_DEMO:"access_role_demo",VIEW_SUGGESTIONS:"access_suggestions",VIEW_SANDWICH_DATA:"access_sandwich_data",VIEW_GOVERNANCE:"access_governance",VIEW_USERS:"manage_users",VIEW_COMMITTEE:"committee_chat",TOOLKIT_ACCESS:"access_toolkit",EDIT_MEETINGS:"manage_meetings",RESPOND_TO_SUGGESTIONS:"manage_suggestions",MANAGE_PROJECTS:"create_projects"};function getDefaultPermissionsForRole(tn){switch(tn){case USER_ROLES.SUPER_ADMIN:return Object.values(PERMISSIONS);case USER_ROLES.ADMIN:return Object.values(PERMISSIONS).filter(sn=>sn!==PERMISSIONS.MODERATE_MESSAGES);case USER_ROLES.COMMITTEE_MEMBER:return[PERMISSIONS.ACCESS_DIRECTORY,PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_CHAT,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_MEETINGS,PERMISSIONS.ACCESS_ANALYTICS,PERMISSIONS.ACCESS_REPORTS,PERMISSIONS.ACCESS_ROLE_DEMO,PERMISSIONS.ACCESS_SUGGESTIONS,PERMISSIONS.ACCESS_SANDWICH_DATA,PERMISSIONS.ACCESS_GOVERNANCE,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.GENERAL_CHAT,PERMISSIONS.COMMITTEE_CHAT,PERMISSIONS.EXPORT_DATA,PERMISSIONS.CREATE_SUGGESTIONS];case USER_ROLES.HOST:return[PERMISSIONS.ACCESS_DIRECTORY,PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_CHAT,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_REPORTS,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.ACCESS_SUGGESTIONS,PERMISSIONS.ACCESS_SANDWICH_DATA,PERMISSIONS.GENERAL_CHAT,PERMISSIONS.HOST_CHAT,PERMISSIONS.CREATE_COLLECTIONS,PERMISSIONS.CREATE_PROJECTS,PERMISSIONS.CREATE_SUGGESTIONS];case USER_ROLES.DRIVER:return[PERMISSIONS.ACCESS_DIRECTORY,PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_CHAT,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_REPORTS,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.ACCESS_SUGGESTIONS,PERMISSIONS.ACCESS_SANDWICH_DATA,PERMISSIONS.GENERAL_CHAT,PERMISSIONS.DRIVER_CHAT,PERMISSIONS.CREATE_SUGGESTIONS];case USER_ROLES.VOLUNTEER:return[PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_CHAT,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_REPORTS,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.ACCESS_SUGGESTIONS,PERMISSIONS.GENERAL_CHAT,PERMISSIONS.CREATE_COLLECTIONS,PERMISSIONS.CREATE_PROJECTS,PERMISSIONS.CREATE_SUGGESTIONS];case USER_ROLES.RECIPIENT:return[PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_CHAT,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_SUGGESTIONS,PERMISSIONS.GENERAL_CHAT,PERMISSIONS.RECIPIENT_CHAT,PERMISSIONS.CREATE_SUGGESTIONS];case USER_ROLES.VIEWER:return[PERMISSIONS.ACCESS_DIRECTORY,PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_REPORTS,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.ACCESS_SUGGESTIONS,PERMISSIONS.ACCESS_SANDWICH_DATA,PERMISSIONS.CREATE_SUGGESTIONS];case USER_ROLES.WORK_LOGGER:return[PERMISSIONS.ACCESS_DIRECTORY,PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_CHAT,PERMISSIONS.ACCESS_MESSAGES,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_REPORTS,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.GENERAL_CHAT,"log_work"];default:return[]}}function hasPermission(tn,sn){return!tn||!tn.permissions?!1:tn.permissions.includes(sn)}function canEditCollection(tn,sn){return!tn||!tn.permissions?!1:!!(tn.role==="super_admin"||tn.permissions.includes(PERMISSIONS.EDIT_ALL_COLLECTIONS)||tn.permissions.includes(PERMISSIONS.CREATE_COLLECTIONS)&&((sn==null?void 0:sn.createdBy)===tn.id||(sn==null?void 0:sn.created_by)===tn.id))}function canDeleteCollection(tn,sn){return!tn||!tn.permissions?!1:!!(tn.role==="super_admin"||tn.permissions.includes(PERMISSIONS.DELETE_ALL_COLLECTIONS)||tn.permissions.includes(PERMISSIONS.CREATE_COLLECTIONS)&&((sn==null?void 0:sn.createdBy)===tn.id||(sn==null?void 0:sn.created_by)===tn.id))}function canEditProject(tn,sn){if(!tn||!tn.permissions)return!1;if(tn.role==="super_admin"||tn.permissions.includes(PERMISSIONS.EDIT_ALL_PROJECTS)||tn.permissions.includes(PERMISSIONS.CREATE_PROJECTS)&&((sn==null?void 0:sn.createdBy)===tn.id||(sn==null?void 0:sn.created_by)===tn.id))return!0;if(tn.permissions.includes(PERMISSIONS.CREATE_PROJECTS)){if(sn!=null&&sn.assigneeIds&&Array.isArray(sn.assigneeIds)&&sn.assigneeIds.includes(tn.id)||(sn==null?void 0:sn.assigneeId)===tn.id)return!0;if(sn!=null&&sn.assigneeName){const un=tn.firstName&&tn.lastName?`${tn.firstName} ${tn.lastName}`:tn.email;if(sn.assigneeName===un||sn.assigneeName===tn.email)return!0}}return!1}function getRoleDisplayName(tn){switch(tn){case USER_ROLES.SUPER_ADMIN:return"Super Administrator";case USER_ROLES.ADMIN:return"Administrator";case USER_ROLES.COMMITTEE_MEMBER:return"Committee Member";case USER_ROLES.HOST:return"Host Location";case USER_ROLES.DRIVER:return"Delivery Driver";case USER_ROLES.VOLUNTEER:return"Volunteer";case USER_ROLES.RECIPIENT:return"Recipient Organization";case USER_ROLES.VIEWER:return"Viewer";case USER_ROLES.WORK_LOGGER:return"Work Logger";default:return tn.charAt(0).toUpperCase()+tn.slice(1).replace("_"," ")}}const characters={sandy:{name:"Sandy",avatar:"🥪",personality:"warm and encouraging",color:"bg-yellow-50 border-yellow-200 text-yellow-800"},helper:{name:"Helper",avatar:"🤝",personality:"supportive and practical",color:"bg-blue-50 border-blue-200 text-blue-800"},guide:{name:"Guide",avatar:"🧭",personality:"patient and informative",color:"bg-green-50 border-green-200 text-green-800"},coordinator:{name:"Coordinator",avatar:"📋",personality:"organized and efficient",color:"bg-purple-50 border-purple-200 text-purple-800"}},HelpBubble$1=({title:tn,content:sn,character:un="sandy",position:dn="top",trigger:pn="hover",className:mn="",children:hn})=>{const[fn,gn]=reactExports.useState(!1),xn=characters[un]||characters.sandy,yn={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"},vn={top:"top-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-b-transparent border-t-yellow-200",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-t-transparent border-b-yellow-200",left:"left-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-r-transparent border-l-yellow-200",right:"right-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-l-transparent border-r-yellow-200"},En=()=>{pn==="click"&&gn(!fn)},bn=()=>{pn==="hover"&&gn(!0)},wn=()=>{pn==="hover"&&gn(!1)};return jsxRuntimeExports.jsxs("div",{className:`relative inline-block ${mn}`,children:[jsxRuntimeExports.jsx("div",{onClick:En,onMouseEnter:bn,onMouseLeave:wn,className:"cursor-help",children:hn}),fn&&jsxRuntimeExports.jsxs("div",{className:`absolute z-50 ${yn[dn]}`,children:[jsxRuntimeExports.jsxs(Card$1,{className:`p-4 shadow-lg border-2 max-w-xs ${xn.color}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:xn.avatar}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:xn.name}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-75",children:xn.personality})]}),pn==="click"&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>gn(!1),className:"ml-auto p-1 h-6 w-6",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm",children:tn}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:sn})]})]}),jsxRuntimeExports.jsx("div",{className:`absolute w-0 h-0 border-4 ${vn[dn]}`})]})]})},QuickHelp=({section:tn})=>{const[sn,un]=reactExports.useState(!1),pn=(()=>{switch(tn){case"collections":return{title:"Collections Help",tips:["Click 'Enter New Collection Data' to record sandwiches","Use filters to find specific collections quickly","Export data for reports using the Data button","Edit collections by clicking the edit icon"]};case"dashboard":return{title:"Dashboard Help",tips:["View quick stats at the top of each section","Use the navigation menu to jump between sections","Check notifications for important updates","Your recent activity shows your latest contributions"]};case"meetings":return{title:"Meeting Management Help",tips:["Access meeting minutes, agendas, and calendar all in one place","Use the tabs to switch between different meeting functions","Upload documents for meeting minutes","Schedule new meetings using the calendar view"]};default:return{title:"General Help",tips:["Use the navigation menu to move between sections","Look for the help icons for specific guidance","Contact your coordinator if you need assistance","Your work makes a real difference in our community!"]}}})();return jsxRuntimeExports.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[sn&&jsxRuntimeExports.jsxs(Card$1,{className:"mb-4 p-4 w-80 bg-white shadow-lg border-2 border-yellow-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:"🥪"}),jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:"Sandy's Quick Tips"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>un(!1),className:"p-1 h-6 w-6",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})})]}),jsxRuntimeExports.jsx("h5",{className:"font-medium text-sm mb-2",children:pn.title}),jsxRuntimeExports.jsx("ul",{className:"text-sm space-y-1",children:pn.tips.map((mn,hn)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-3 h-3 text-yellow-600 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{children:mn})]},hn))})]}),jsxRuntimeExports.jsx(Button,{onClick:()=>un(!sn),className:"rounded-full w-12 h-12 bg-yellow-500 hover:bg-yellow-600 text-white shadow-lg",children:jsxRuntimeExports.jsx(CircleHelp,{className:"w-5 h-5"})})]})};var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=tn=>{const{__scopeDialog:sn,children:un,open:dn,defaultOpen:pn,onOpenChange:mn,modal:hn=!0}=tn,fn=reactExports.useRef(null),gn=reactExports.useRef(null),[xn,yn]=useControllableState({prop:dn,defaultProp:pn??!1,onChange:mn,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:sn,triggerRef:fn,contentRef:gn,contentId:useId(),titleId:useId(),descriptionId:useId(),open:xn,onOpenChange:yn,onOpenToggle:reactExports.useCallback(()=>yn(vn=>!vn),[yn]),modal:hn,children:un})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$2="DialogTrigger",DialogTrigger$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDialog:un,...dn}=tn,pn=useDialogContext(TRIGGER_NAME$2,un),mn=useComposedRefs(sn,pn.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":pn.open,"aria-controls":pn.contentId,"data-state":getState$2(pn.open),...dn,ref:mn,onClick:composeEventHandlers$1(tn.onClick,pn.onOpenToggle)})});DialogTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME$1,{forceMount:void 0}),DialogPortal$1=tn=>{const{__scopeDialog:sn,forceMount:un,children:dn,container:pn}=tn,mn=useDialogContext(PORTAL_NAME$1,sn);return jsxRuntimeExports.jsx(PortalProvider,{scope:sn,forceMount:un,children:reactExports.Children.map(dn,hn=>jsxRuntimeExports.jsx(Presence,{present:un||mn.open,children:jsxRuntimeExports.jsx(Portal$4,{asChild:!0,container:pn,children:hn})}))})};DialogPortal$1.displayName=PORTAL_NAME$1;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((tn,sn)=>{const un=usePortalContext(OVERLAY_NAME,tn.__scopeDialog),{forceMount:dn=un.forceMount,...pn}=tn,mn=useDialogContext(OVERLAY_NAME,tn.__scopeDialog);return mn.modal?jsxRuntimeExports.jsx(Presence,{present:dn||mn.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...pn,ref:sn})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot$1=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeDialog:un,...dn}=tn,pn=useDialogContext(OVERLAY_NAME,un);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,shards:[pn.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$2(pn.open),...dn,ref:sn,style:{pointerEvents:"auto",...dn.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent$1=reactExports.forwardRef((tn,sn)=>{const un=usePortalContext(CONTENT_NAME$1,tn.__scopeDialog),{forceMount:dn=un.forceMount,...pn}=tn,mn=useDialogContext(CONTENT_NAME$1,tn.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:dn||mn.open,children:mn.modal?jsxRuntimeExports.jsx(DialogContentModal,{...pn,ref:sn}):jsxRuntimeExports.jsx(DialogContentNonModal,{...pn,ref:sn})})});DialogContent$1.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((tn,sn)=>{const un=useDialogContext(CONTENT_NAME$1,tn.__scopeDialog),dn=reactExports.useRef(null),pn=useComposedRefs(sn,un.contentRef,dn);return reactExports.useEffect(()=>{const mn=dn.current;if(mn)return hideOthers(mn)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...tn,ref:pn,trapFocus:un.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers$1(tn.onCloseAutoFocus,mn=>{var hn;mn.preventDefault(),(hn=un.triggerRef.current)==null||hn.focus()}),onPointerDownOutside:composeEventHandlers$1(tn.onPointerDownOutside,mn=>{const hn=mn.detail.originalEvent,fn=hn.button===0&&hn.ctrlKey===!0;(hn.button===2||fn)&&mn.preventDefault()}),onFocusOutside:composeEventHandlers$1(tn.onFocusOutside,mn=>mn.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((tn,sn)=>{const un=useDialogContext(CONTENT_NAME$1,tn.__scopeDialog),dn=reactExports.useRef(!1),pn=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...tn,ref:sn,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:mn=>{var hn,fn;(hn=tn.onCloseAutoFocus)==null||hn.call(tn,mn),mn.defaultPrevented||(dn.current||(fn=un.triggerRef.current)==null||fn.focus(),mn.preventDefault()),dn.current=!1,pn.current=!1},onInteractOutside:mn=>{var gn,xn;(gn=tn.onInteractOutside)==null||gn.call(tn,mn),mn.defaultPrevented||(dn.current=!0,mn.detail.originalEvent.type==="pointerdown"&&(pn.current=!0));const hn=mn.target;((xn=un.triggerRef.current)==null?void 0:xn.contains(hn))&&mn.preventDefault(),mn.detail.originalEvent.type==="focusin"&&pn.current&&mn.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeDialog:un,trapFocus:dn,onOpenAutoFocus:pn,onCloseAutoFocus:mn,...hn}=tn,fn=useDialogContext(CONTENT_NAME$1,un),gn=reactExports.useRef(null),xn=useComposedRefs(sn,gn);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:dn,onMountAutoFocus:pn,onUnmountAutoFocus:mn,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:fn.contentId,"aria-describedby":fn.descriptionId,"aria-labelledby":fn.titleId,"data-state":getState$2(fn.open),...hn,ref:xn,onDismiss:()=>fn.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:fn.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:gn,descriptionId:fn.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDialog:un,...dn}=tn,pn=useDialogContext(TITLE_NAME,un);return jsxRuntimeExports.jsx(Primitive.h2,{id:pn.titleId,...dn,ref:sn})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((tn,sn)=>{const{__scopeDialog:un,...dn}=tn,pn=useDialogContext(DESCRIPTION_NAME,un);return jsxRuntimeExports.jsx(Primitive.p,{id:pn.descriptionId,...dn,ref:sn})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((tn,sn)=>{const{__scopeDialog:un,...dn}=tn,pn=useDialogContext(CLOSE_NAME,un);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...dn,ref:sn,onClick:composeEventHandlers$1(tn.onClick,()=>pn.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState$2(tn){return tn?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:tn})=>{const sn=useWarningContext(TITLE_WARNING_NAME),un=`\`${sn.contentName}\` requires a \`${sn.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${sn.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${sn.docsSlug}`;return reactExports.useEffect(()=>{tn&&(document.getElementById(tn)||console.error(un))},[un,tn]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:tn,descriptionId:sn})=>{const dn=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var mn;const pn=(mn=tn.current)==null?void 0:mn.getAttribute("aria-describedby");sn&&pn&&(document.getElementById(sn)||console.warn(dn))},[dn,tn,sn]),null},Root$5=Dialog$1,Trigger$1=DialogTrigger$1,Portal$2=DialogPortal$1,Overlay=DialogOverlay$1,Content=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close$c=DialogClose;const Dialog=Root$5,DialogTrigger=Trigger$1,DialogPortal=Portal$2,DialogOverlay=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Overlay,{ref:un,className:cn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",tn),...sn}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:tn,children:sn,...un},dn)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content,{ref:dn,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",tn),...un,children:[sn,jsxRuntimeExports.jsxs(Close$c,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content.displayName;const DialogHeader=({className:tn,...sn})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",tn),...sn});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:tn,...sn})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",tn),...sn});DialogFooter.displayName="DialogFooter";const DialogTitle=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Title,{ref:un,className:cn("text-lg font-semibold leading-none tracking-tight",tn),...sn}));DialogTitle.displayName=Title.displayName;const DialogDescription=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Description,{ref:un,className:cn("text-sm text-muted-foreground",tn),...sn}));DialogDescription.displayName=Description.displayName;function DocumentPreviewModal({isOpen:tn,onClose:sn,documentPath:un,documentName:dn,documentType:pn}){const[mn,hn]=reactExports.useState(!0),fn=()=>{const yn=document.createElement("a");yn.href=un,yn.download=dn,document.body.appendChild(yn),yn.click(),document.body.removeChild(yn)},gn=()=>{window.open(un,"_blank")},xn=()=>{switch(pn==null?void 0:pn.toLowerCase()){case"pdf":return jsxRuntimeExports.jsx("iframe",{src:un,className:"w-full h-full border-0 rounded-lg",onLoad:()=>hn(!1),title:dn,style:{minHeight:"600px"}});case"docx":return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-96 p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:dn}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Word documents require download to view. Click the download button to save the file to your device."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:fn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download Document"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:gn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Open in New Tab"]})]})]});case"xlsx":return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-96 p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:dn}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Excel files require download to view. Click the download button to save the file to your device."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:fn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download Document"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:gn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Open in New Tab"]})]})]});default:return jsxRuntimeExports.jsx("iframe",{src:un,className:"w-full h-full border-0 rounded-lg",onLoad:()=>hn(!1),title:dn,style:{minHeight:"600px"}})}};return jsxRuntimeExports.jsx(Dialog,{open:tn,onOpenChange:sn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] p-0",children:[jsxRuntimeExports.jsx(DialogHeader,{className:"px-6 py-4 border-b border-gray-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-600"}),jsxRuntimeExports.jsx(DialogTitle,{className:"text-lg font-semibold text-gray-900",children:dn})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:fn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Download"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:gn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"New Tab"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:sn,className:"p-2",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 overflow-auto",style:{maxHeight:"calc(90vh - 100px)"},children:[mn&&(pn==null?void 0:pn.toLowerCase())==="pdf"&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-96",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-pulse"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Loading document..."})]})}),xn()]})]})})}function clamp$1(tn,[sn,un]){return Math.min(un,Math.max(sn,tn))}function usePrevious(tn){const sn=reactExports.useRef({value:tn,previous:tn});return reactExports.useMemo(()=>(sn.current.value!==tn&&(sn.current.previous=sn.current.value,sn.current.value=tn),sn.current.previous),[tn])}var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],SELECT_NAME="Select",[Collection,useCollection,createCollectionScope]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=tn=>{const{__scopeSelect:sn,children:un,open:dn,defaultOpen:pn,onOpenChange:mn,value:hn,defaultValue:fn,onValueChange:gn,dir:xn,name:yn,autoComplete:vn,disabled:En,required:bn,form:wn}=tn,Sn=usePopperScope(sn),[Rn,_n]=reactExports.useState(null),[jn,Cn]=reactExports.useState(null),[An,Tn]=reactExports.useState(!1),$n=useDirection(xn),[Dn,Nn]=useControllableState({prop:dn,defaultProp:pn??!1,onChange:mn,caller:SELECT_NAME}),[kn,Pn]=useControllableState({prop:hn,defaultProp:fn,onChange:gn,caller:SELECT_NAME}),Mn=reactExports.useRef(null),On=Rn?wn||!!Rn.closest("form"):!0,[Wn,In]=reactExports.useState(new Set),Un=Array.from(Wn).map(Vn=>Vn.props.value).join(";");return jsxRuntimeExports.jsx(Root2$3,{...Sn,children:jsxRuntimeExports.jsxs(SelectProvider,{required:bn,scope:sn,trigger:Rn,onTriggerChange:_n,valueNode:jn,onValueNodeChange:Cn,valueNodeHasChildren:An,onValueNodeHasChildrenChange:Tn,contentId:useId(),value:kn,onValueChange:Pn,open:Dn,onOpenChange:Nn,dir:$n,triggerPointerDownPosRef:Mn,disabled:En,children:[jsxRuntimeExports.jsx(Collection.Provider,{scope:sn,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:tn.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Vn=>{In(Hn=>new Set(Hn).add(Vn))},[]),onNativeOptionRemove:reactExports.useCallback(Vn=>{In(Hn=>{const Ln=new Set(Hn);return Ln.delete(Vn),Ln})},[]),children:un})}),On?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:bn,tabIndex:-1,name:yn,autoComplete:vn,value:kn,onChange:Vn=>Pn(Vn.target.value),disabled:En,form:wn,children:[kn===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(Wn)]},Un):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$1="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,disabled:dn=!1,...pn}=tn,mn=usePopperScope(un),hn=useSelectContext(TRIGGER_NAME$1,un),fn=hn.disabled||dn,gn=useComposedRefs(sn,hn.onTriggerChange),xn=useCollection(un),yn=reactExports.useRef("touch"),[vn,En,bn]=useTypeaheadSearch(Sn=>{const Rn=xn().filter(Cn=>!Cn.disabled),_n=Rn.find(Cn=>Cn.value===hn.value),jn=findNextItem(Rn,Sn,_n);jn!==void 0&&hn.onValueChange(jn.value)}),wn=Sn=>{fn||(hn.onOpenChange(!0),bn()),Sn&&(hn.triggerPointerDownPosRef.current={x:Math.round(Sn.pageX),y:Math.round(Sn.pageY)})};return jsxRuntimeExports.jsx(Anchor$1,{asChild:!0,...mn,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":hn.contentId,"aria-expanded":hn.open,"aria-required":hn.required,"aria-autocomplete":"none",dir:hn.dir,"data-state":hn.open?"open":"closed",disabled:fn,"data-disabled":fn?"":void 0,"data-placeholder":shouldShowPlaceholder(hn.value)?"":void 0,...pn,ref:gn,onClick:composeEventHandlers$1(pn.onClick,Sn=>{Sn.currentTarget.focus(),yn.current!=="mouse"&&wn(Sn)}),onPointerDown:composeEventHandlers$1(pn.onPointerDown,Sn=>{yn.current=Sn.pointerType;const Rn=Sn.target;Rn.hasPointerCapture(Sn.pointerId)&&Rn.releasePointerCapture(Sn.pointerId),Sn.button===0&&Sn.ctrlKey===!1&&Sn.pointerType==="mouse"&&(wn(Sn),Sn.preventDefault())}),onKeyDown:composeEventHandlers$1(pn.onKeyDown,Sn=>{const Rn=vn.current!=="";!(Sn.ctrlKey||Sn.altKey||Sn.metaKey)&&Sn.key.length===1&&En(Sn.key),!(Rn&&Sn.key===" ")&&OPEN_KEYS.includes(Sn.key)&&(wn(),Sn.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$1;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,className:dn,style:pn,children:mn,placeholder:hn="",...fn}=tn,gn=useSelectContext(VALUE_NAME,un),{onValueNodeHasChildrenChange:xn}=gn,yn=mn!==void 0,vn=useComposedRefs(sn,gn.onValueNodeChange);return useLayoutEffect2(()=>{xn(yn)},[xn,yn]),jsxRuntimeExports.jsx(Primitive.span,{...fn,ref:vn,style:{pointerEvents:"none"},children:shouldShowPlaceholder(gn.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:hn}):mn})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,children:dn,...pn}=tn;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...pn,ref:sn,children:dn||"▼"})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME="SelectPortal",SelectPortal=tn=>jsxRuntimeExports.jsx(Portal$4,{asChild:!0,...tn});SelectPortal.displayName=PORTAL_NAME;var CONTENT_NAME="SelectContent",SelectContent$1=reactExports.forwardRef((tn,sn)=>{const un=useSelectContext(CONTENT_NAME,tn.__scopeSelect),[dn,pn]=reactExports.useState();if(useLayoutEffect2(()=>{pn(new DocumentFragment)},[]),!un.open){const mn=dn;return mn?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:tn.__scopeSelect,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:tn.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:tn.children})})}),mn):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...tn,ref:sn})});SelectContent$1.displayName=CONTENT_NAME;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME),CONTENT_IMPL_NAME="SelectContentImpl",Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,position:dn="item-aligned",onCloseAutoFocus:pn,onEscapeKeyDown:mn,onPointerDownOutside:hn,side:fn,sideOffset:gn,align:xn,alignOffset:yn,arrowPadding:vn,collisionBoundary:En,collisionPadding:bn,sticky:wn,hideWhenDetached:Sn,avoidCollisions:Rn,..._n}=tn,jn=useSelectContext(CONTENT_NAME,un),[Cn,An]=reactExports.useState(null),[Tn,$n]=reactExports.useState(null),Dn=useComposedRefs(sn,Er=>An(Er)),[Nn,kn]=reactExports.useState(null),[Pn,Mn]=reactExports.useState(null),On=useCollection(un),[Wn,In]=reactExports.useState(!1),Un=reactExports.useRef(!1);reactExports.useEffect(()=>{if(Cn)return hideOthers(Cn)},[Cn]),useFocusGuards();const Vn=reactExports.useCallback(Er=>{const[yr,...xr]=On().map(sr=>sr.ref.current),[vr]=xr.slice(-1),nr=document.activeElement;for(const sr of Er)if(sr===nr||(sr==null||sr.scrollIntoView({block:"nearest"}),sr===yr&&Tn&&(Tn.scrollTop=0),sr===vr&&Tn&&(Tn.scrollTop=Tn.scrollHeight),sr==null||sr.focus(),document.activeElement!==nr))return},[On,Tn]),Hn=reactExports.useCallback(()=>Vn([Nn,Cn]),[Vn,Nn,Cn]);reactExports.useEffect(()=>{Wn&&Hn()},[Wn,Hn]);const{onOpenChange:Ln,triggerPointerDownPosRef:zn}=jn;reactExports.useEffect(()=>{if(Cn){let Er={x:0,y:0};const yr=vr=>{var nr,sr;Er={x:Math.abs(Math.round(vr.pageX)-(((nr=zn.current)==null?void 0:nr.x)??0)),y:Math.abs(Math.round(vr.pageY)-(((sr=zn.current)==null?void 0:sr.y)??0))}},xr=vr=>{Er.x<=10&&Er.y<=10?vr.preventDefault():Cn.contains(vr.target)||Ln(!1),document.removeEventListener("pointermove",yr),zn.current=null};return zn.current!==null&&(document.addEventListener("pointermove",yr),document.addEventListener("pointerup",xr,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",yr),document.removeEventListener("pointerup",xr,{capture:!0})}}},[Cn,Ln,zn]),reactExports.useEffect(()=>{const Er=()=>Ln(!1);return window.addEventListener("blur",Er),window.addEventListener("resize",Er),()=>{window.removeEventListener("blur",Er),window.removeEventListener("resize",Er)}},[Ln]);const[Bn,Fn]=useTypeaheadSearch(Er=>{const yr=On().filter(nr=>!nr.disabled),xr=yr.find(nr=>nr.ref.current===document.activeElement),vr=findNextItem(yr,Er,xr);vr&&setTimeout(()=>vr.ref.current.focus())}),Gn=reactExports.useCallback((Er,yr,xr)=>{const vr=!Un.current&&!xr;(jn.value!==void 0&&jn.value===yr||vr)&&(kn(Er),vr&&(Un.current=!0))},[jn.value]),qn=reactExports.useCallback(()=>Cn==null?void 0:Cn.focus(),[Cn]),Jn=reactExports.useCallback((Er,yr,xr)=>{const vr=!Un.current&&!xr;(jn.value!==void 0&&jn.value===yr||vr)&&Mn(Er)},[jn.value]),dr=dn==="popper"?SelectPopperPosition:SelectItemAlignedPosition,br=dr===SelectPopperPosition?{side:fn,sideOffset:gn,align:xn,alignOffset:yn,arrowPadding:vn,collisionBoundary:En,collisionPadding:bn,sticky:wn,hideWhenDetached:Sn,avoidCollisions:Rn}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:un,content:Cn,viewport:Tn,onViewportChange:$n,itemRefCallback:Gn,selectedItem:Nn,onItemLeave:qn,itemTextRefCallback:Jn,focusSelectedItem:Hn,selectedItemText:Pn,position:dn,isPositioned:Wn,searchRef:Bn,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:jn.open,onMountAutoFocus:Er=>{Er.preventDefault()},onUnmountAutoFocus:composeEventHandlers$1(pn,Er=>{var yr;(yr=jn.trigger)==null||yr.focus({preventScroll:!0}),Er.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:mn,onPointerDownOutside:hn,onFocusOutside:Er=>Er.preventDefault(),onDismiss:()=>jn.onOpenChange(!1),children:jsxRuntimeExports.jsx(dr,{role:"listbox",id:jn.contentId,"data-state":jn.open?"open":"closed",dir:jn.dir,onContextMenu:Er=>Er.preventDefault(),..._n,...br,onPlaced:()=>In(!0),ref:Dn,style:{display:"flex",flexDirection:"column",outline:"none",..._n.style},onKeyDown:composeEventHandlers$1(_n.onKeyDown,Er=>{const yr=Er.ctrlKey||Er.altKey||Er.metaKey;if(Er.key==="Tab"&&Er.preventDefault(),!yr&&Er.key.length===1&&Fn(Er.key),["ArrowUp","ArrowDown","Home","End"].includes(Er.key)){let vr=On().filter(nr=>!nr.disabled).map(nr=>nr.ref.current);if(["ArrowUp","End"].includes(Er.key)&&(vr=vr.slice().reverse()),["ArrowUp","ArrowDown"].includes(Er.key)){const nr=Er.target,sr=vr.indexOf(nr);vr=vr.slice(sr+1)}setTimeout(()=>Vn(vr)),Er.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,onPlaced:dn,...pn}=tn,mn=useSelectContext(CONTENT_NAME,un),hn=useSelectContentContext(CONTENT_NAME,un),[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(null),vn=useComposedRefs(sn,Dn=>yn(Dn)),En=useCollection(un),bn=reactExports.useRef(!1),wn=reactExports.useRef(!0),{viewport:Sn,selectedItem:Rn,selectedItemText:_n,focusSelectedItem:jn}=hn,Cn=reactExports.useCallback(()=>{if(mn.trigger&&mn.valueNode&&fn&&xn&&Sn&&Rn&&_n){const Dn=mn.trigger.getBoundingClientRect(),Nn=xn.getBoundingClientRect(),kn=mn.valueNode.getBoundingClientRect(),Pn=_n.getBoundingClientRect();if(mn.dir!=="rtl"){const nr=Pn.left-Nn.left,sr=kn.left-nr,Rr=Dn.left-sr,Ar=Dn.width+Rr,Lr=Math.max(Ar,Nn.width),Or=window.innerWidth-CONTENT_MARGIN,Zn=clamp$1(sr,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Or-Lr)]);fn.style.minWidth=Ar+"px",fn.style.left=Zn+"px"}else{const nr=Nn.right-Pn.right,sr=window.innerWidth-kn.right-nr,Rr=window.innerWidth-Dn.right-sr,Ar=Dn.width+Rr,Lr=Math.max(Ar,Nn.width),Or=window.innerWidth-CONTENT_MARGIN,Zn=clamp$1(sr,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,Or-Lr)]);fn.style.minWidth=Ar+"px",fn.style.right=Zn+"px"}const Mn=En(),On=window.innerHeight-CONTENT_MARGIN*2,Wn=Sn.scrollHeight,In=window.getComputedStyle(xn),Un=parseInt(In.borderTopWidth,10),Vn=parseInt(In.paddingTop,10),Hn=parseInt(In.borderBottomWidth,10),Ln=parseInt(In.paddingBottom,10),zn=Un+Vn+Wn+Ln+Hn,Bn=Math.min(Rn.offsetHeight*5,zn),Fn=window.getComputedStyle(Sn),Gn=parseInt(Fn.paddingTop,10),qn=parseInt(Fn.paddingBottom,10),Jn=Dn.top+Dn.height/2-CONTENT_MARGIN,dr=On-Jn,br=Rn.offsetHeight/2,Er=Rn.offsetTop+br,yr=Un+Vn+Er,xr=zn-yr;if(yr<=Jn){const nr=Mn.length>0&&Rn===Mn[Mn.length-1].ref.current;fn.style.bottom="0px";const sr=xn.clientHeight-Sn.offsetTop-Sn.offsetHeight,Rr=Math.max(dr,br+(nr?qn:0)+sr+Hn),Ar=yr+Rr;fn.style.height=Ar+"px"}else{const nr=Mn.length>0&&Rn===Mn[0].ref.current;fn.style.top="0px";const Rr=Math.max(Jn,Un+Sn.offsetTop+(nr?Gn:0)+br)+xr;fn.style.height=Rr+"px",Sn.scrollTop=yr-Jn+Sn.offsetTop}fn.style.margin=`${CONTENT_MARGIN}px 0`,fn.style.minHeight=Bn+"px",fn.style.maxHeight=On+"px",dn==null||dn(),requestAnimationFrame(()=>bn.current=!0)}},[En,mn.trigger,mn.valueNode,fn,xn,Sn,Rn,_n,mn.dir,dn]);useLayoutEffect2(()=>Cn(),[Cn]);const[An,Tn]=reactExports.useState();useLayoutEffect2(()=>{xn&&Tn(window.getComputedStyle(xn).zIndex)},[xn]);const $n=reactExports.useCallback(Dn=>{Dn&&wn.current===!0&&(Cn(),jn==null||jn(),wn.current=!1)},[Cn,jn]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:un,contentWrapper:fn,shouldExpandOnScrollRef:bn,onScrollButtonChange:$n,children:jsxRuntimeExports.jsx("div",{ref:gn,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:An},children:jsxRuntimeExports.jsx(Primitive.div,{...pn,ref:vn,style:{boxSizing:"border-box",maxHeight:"100%",...pn.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,align:dn="start",collisionPadding:pn=CONTENT_MARGIN,...mn}=tn,hn=usePopperScope(un);return jsxRuntimeExports.jsx(Content$2,{...hn,...mn,ref:sn,align:dn,collisionPadding:pn,style:{boxSizing:"border-box",...mn.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,nonce:dn,...pn}=tn,mn=useSelectContentContext(VIEWPORT_NAME$1,un),hn=useSelectViewportContext(VIEWPORT_NAME$1,un),fn=useComposedRefs(sn,mn.onViewportChange),gn=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:dn}),jsxRuntimeExports.jsx(Collection.Slot,{scope:un,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...pn,ref:fn,style:{position:"relative",flex:1,overflow:"hidden auto",...pn.style},onScroll:composeEventHandlers$1(pn.onScroll,xn=>{const yn=xn.currentTarget,{contentWrapper:vn,shouldExpandOnScrollRef:En}=hn;if(En!=null&&En.current&&vn){const bn=Math.abs(gn.current-yn.scrollTop);if(bn>0){const wn=window.innerHeight-CONTENT_MARGIN*2,Sn=parseFloat(vn.style.minHeight),Rn=parseFloat(vn.style.height),_n=Math.max(Sn,Rn);if(_n<wn){const jn=_n+bn,Cn=Math.min(wn,jn),An=jn-Cn;vn.style.height=Cn+"px",vn.style.bottom==="0px"&&(yn.scrollTop=An>0?An:0,vn.style.justifyContent="flex-end")}}}gn.current=yn.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME),SelectGroup=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,...dn}=tn,pn=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:un,id:pn,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":pn,...dn,ref:sn})})});SelectGroup.displayName=GROUP_NAME;var LABEL_NAME="SelectLabel",SelectLabel$1=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,...dn}=tn,pn=useSelectGroupContext(LABEL_NAME,un);return jsxRuntimeExports.jsx(Primitive.div,{id:pn.id,...dn,ref:sn})});SelectLabel$1.displayName=LABEL_NAME;var ITEM_NAME="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME),SelectItem$1=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,value:dn,disabled:pn=!1,textValue:mn,...hn}=tn,fn=useSelectContext(ITEM_NAME,un),gn=useSelectContentContext(ITEM_NAME,un),xn=fn.value===dn,[yn,vn]=reactExports.useState(mn??""),[En,bn]=reactExports.useState(!1),wn=useComposedRefs(sn,jn=>{var Cn;return(Cn=gn.itemRefCallback)==null?void 0:Cn.call(gn,jn,dn,pn)}),Sn=useId(),Rn=reactExports.useRef("touch"),_n=()=>{pn||(fn.onValueChange(dn),fn.onOpenChange(!1))};if(dn==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:un,value:dn,disabled:pn,textId:Sn,isSelected:xn,onItemTextChange:reactExports.useCallback(jn=>{vn(Cn=>Cn||((jn==null?void 0:jn.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:un,value:dn,disabled:pn,textValue:yn,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":Sn,"data-highlighted":En?"":void 0,"aria-selected":xn&&En,"data-state":xn?"checked":"unchecked","aria-disabled":pn||void 0,"data-disabled":pn?"":void 0,tabIndex:pn?void 0:-1,...hn,ref:wn,onFocus:composeEventHandlers$1(hn.onFocus,()=>bn(!0)),onBlur:composeEventHandlers$1(hn.onBlur,()=>bn(!1)),onClick:composeEventHandlers$1(hn.onClick,()=>{Rn.current!=="mouse"&&_n()}),onPointerUp:composeEventHandlers$1(hn.onPointerUp,()=>{Rn.current==="mouse"&&_n()}),onPointerDown:composeEventHandlers$1(hn.onPointerDown,jn=>{Rn.current=jn.pointerType}),onPointerMove:composeEventHandlers$1(hn.onPointerMove,jn=>{var Cn;Rn.current=jn.pointerType,pn?(Cn=gn.onItemLeave)==null||Cn.call(gn):Rn.current==="mouse"&&jn.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers$1(hn.onPointerLeave,jn=>{var Cn;jn.currentTarget===document.activeElement&&((Cn=gn.onItemLeave)==null||Cn.call(gn))}),onKeyDown:composeEventHandlers$1(hn.onKeyDown,jn=>{var An;((An=gn.searchRef)==null?void 0:An.current)!==""&&jn.key===" "||(SELECTION_KEYS.includes(jn.key)&&_n(),jn.key===" "&&jn.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,className:dn,style:pn,...mn}=tn,hn=useSelectContext(ITEM_TEXT_NAME,un),fn=useSelectContentContext(ITEM_TEXT_NAME,un),gn=useSelectItemContext(ITEM_TEXT_NAME,un),xn=useSelectNativeOptionsContext(ITEM_TEXT_NAME,un),[yn,vn]=reactExports.useState(null),En=useComposedRefs(sn,_n=>vn(_n),gn.onItemTextChange,_n=>{var jn;return(jn=fn.itemTextRefCallback)==null?void 0:jn.call(fn,_n,gn.value,gn.disabled)}),bn=yn==null?void 0:yn.textContent,wn=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:gn.value,disabled:gn.disabled,children:bn},gn.value),[gn.disabled,gn.value,bn]),{onNativeOptionAdd:Sn,onNativeOptionRemove:Rn}=xn;return useLayoutEffect2(()=>(Sn(wn),()=>Rn(wn)),[Sn,Rn,wn]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:gn.textId,...mn,ref:En}),gn.isSelected&&hn.valueNode&&!hn.valueNodeHasChildren?reactDomExports.createPortal(mn.children,hn.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,...dn}=tn;return useSelectItemContext(ITEM_INDICATOR_NAME,un).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...dn,ref:sn}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((tn,sn)=>{const un=useSelectContentContext(SCROLL_UP_BUTTON_NAME,tn.__scopeSelect),dn=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,tn.__scopeSelect),[pn,mn]=reactExports.useState(!1),hn=useComposedRefs(sn,dn.onScrollButtonChange);return useLayoutEffect2(()=>{if(un.viewport&&un.isPositioned){let fn=function(){const xn=gn.scrollTop>0;mn(xn)};const gn=un.viewport;return fn(),gn.addEventListener("scroll",fn),()=>gn.removeEventListener("scroll",fn)}},[un.viewport,un.isPositioned]),pn?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...tn,ref:hn,onAutoScroll:()=>{const{viewport:fn,selectedItem:gn}=un;fn&&gn&&(fn.scrollTop=fn.scrollTop-gn.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((tn,sn)=>{const un=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,tn.__scopeSelect),dn=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,tn.__scopeSelect),[pn,mn]=reactExports.useState(!1),hn=useComposedRefs(sn,dn.onScrollButtonChange);return useLayoutEffect2(()=>{if(un.viewport&&un.isPositioned){let fn=function(){const xn=gn.scrollHeight-gn.clientHeight,yn=Math.ceil(gn.scrollTop)<xn;mn(yn)};const gn=un.viewport;return fn(),gn.addEventListener("scroll",fn),()=>gn.removeEventListener("scroll",fn)}},[un.viewport,un.isPositioned]),pn?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...tn,ref:hn,onAutoScroll:()=>{const{viewport:fn,selectedItem:gn}=un;fn&&gn&&(fn.scrollTop=fn.scrollTop+gn.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,onAutoScroll:dn,...pn}=tn,mn=useSelectContentContext("SelectScrollButton",un),hn=reactExports.useRef(null),fn=useCollection(un),gn=reactExports.useCallback(()=>{hn.current!==null&&(window.clearInterval(hn.current),hn.current=null)},[]);return reactExports.useEffect(()=>()=>gn(),[gn]),useLayoutEffect2(()=>{var yn;const xn=fn().find(vn=>vn.ref.current===document.activeElement);(yn=xn==null?void 0:xn.ref.current)==null||yn.scrollIntoView({block:"nearest"})},[fn]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...pn,ref:sn,style:{flexShrink:0,...pn.style},onPointerDown:composeEventHandlers$1(pn.onPointerDown,()=>{hn.current===null&&(hn.current=window.setInterval(dn,50))}),onPointerMove:composeEventHandlers$1(pn.onPointerMove,()=>{var xn;(xn=mn.onItemLeave)==null||xn.call(mn),hn.current===null&&(hn.current=window.setInterval(dn,50))}),onPointerLeave:composeEventHandlers$1(pn.onPointerLeave,()=>{gn()})})}),SEPARATOR_NAME="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,...dn}=tn;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...dn,ref:sn})});SelectSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="SelectArrow",SelectArrow=reactExports.forwardRef((tn,sn)=>{const{__scopeSelect:un,...dn}=tn,pn=usePopperScope(un),mn=useSelectContext(ARROW_NAME,un),hn=useSelectContentContext(ARROW_NAME,un);return mn.open&&hn.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...pn,...dn,ref:sn}):null});SelectArrow.displayName=ARROW_NAME;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:tn,value:sn,...un},dn)=>{const pn=reactExports.useRef(null),mn=useComposedRefs(dn,pn),hn=usePrevious(sn);return reactExports.useEffect(()=>{const fn=pn.current;if(!fn)return;const gn=window.HTMLSelectElement.prototype,yn=Object.getOwnPropertyDescriptor(gn,"value").set;if(hn!==sn&&yn){const vn=new Event("change",{bubbles:!0});yn.call(fn,sn),fn.dispatchEvent(vn)}},[hn,sn]),jsxRuntimeExports.jsx(Primitive.select,{...un,style:{...VISUALLY_HIDDEN_STYLES,...un.style},ref:mn,defaultValue:sn})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(tn){return tn===""||tn===void 0}function useTypeaheadSearch(tn){const sn=useCallbackRef$1(tn),un=reactExports.useRef(""),dn=reactExports.useRef(0),pn=reactExports.useCallback(hn=>{const fn=un.current+hn;sn(fn),function gn(xn){un.current=xn,window.clearTimeout(dn.current),xn!==""&&(dn.current=window.setTimeout(()=>gn(""),1e3))}(fn)},[sn]),mn=reactExports.useCallback(()=>{un.current="",window.clearTimeout(dn.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(dn.current),[]),[un,pn,mn]}function findNextItem(tn,sn,un){const pn=sn.length>1&&Array.from(sn).every(xn=>xn===sn[0])?sn[0]:sn,mn=un?tn.indexOf(un):-1;let hn=wrapArray(tn,Math.max(mn,0));pn.length===1&&(hn=hn.filter(xn=>xn!==un));const gn=hn.find(xn=>xn.textValue.toLowerCase().startsWith(pn.toLowerCase()));return gn!==un?gn:void 0}function wrapArray(tn,sn){return tn.map((un,dn)=>tn[(sn+dn)%tn.length])}var Root2=Select$1,Trigger=SelectTrigger$1,Value=SelectValue$1,Icon$2=SelectIcon,Portal$1=SelectPortal,Content2=SelectContent$1,Viewport$1=SelectViewport,Label$3=SelectLabel$1,Item$1=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Root2,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:tn,children:sn,...un},dn)=>jsxRuntimeExports.jsxs(Trigger,{ref:dn,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",tn),...un,children:[sn,jsxRuntimeExports.jsx(Icon$2,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:un,className:cn("flex cursor-default items-center justify-center py-1",tn),...sn,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:un,className:cn("flex cursor-default items-center justify-center py-1",tn),...sn,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:tn,children:sn,position:un="popper",...dn},pn)=>jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsxs(Content2,{ref:pn,className:cn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border border-gray-200 bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",un==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",tn),position:un,...dn,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",un==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:sn}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2.displayName;const SelectLabel=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Label$3,{ref:un,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",tn),...sn}));SelectLabel.displayName=Label$3.displayName;const SelectItem=reactExports.forwardRef(({className:tn,children:sn,...un},dn)=>jsxRuntimeExports.jsxs(Item$1,{ref:dn,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm text-gray-900 outline-none focus:bg-gray-100 focus:text-gray-900 hover:bg-gray-50 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",tn),...un,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:sn})]}));SelectItem.displayName=Item$1.displayName;const SelectSeparator=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Separator$2,{ref:un,className:cn("-mx-1 my-1 h-px bg-muted",tn),...sn}));SelectSeparator.displayName=Separator$2.displayName;function CompactCollectionForm({onSuccess:tn}){const sn=new Date,un=new Date(sn.getTime()-sn.getTimezoneOffset()*6e4),[dn,pn]=reactExports.useState(un.toISOString().split("T")[0]),[mn,hn]=reactExports.useState(""),[fn,gn]=reactExports.useState(0),[xn,yn]=reactExports.useState([]),[vn,En]=reactExports.useState(""),[bn,wn]=reactExports.useState(0),{toast:Sn}=useToast(),Rn=useQueryClient(),{data:_n=[]}=useQuery({queryKey:["/api/hosts"]}),jn=_n.filter(Dn=>Dn.status==="active"),Cn=useMutation({mutationFn:async Dn=>{const Nn=await fetch("/api/sandwich-collections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Dn)});if(!Nn.ok)throw new Error("Failed to submit");return Nn.json()},onSuccess:()=>{Sn({title:"Collection submitted successfully!"}),Rn.invalidateQueries({queryKey:["/api/sandwich-collections"]}),tn==null||tn(),gn(0),yn([]),hn("")},onError:()=>{Sn({title:"Failed to submit collection",variant:"destructive"})}}),An=fn+xn.reduce((Dn,Nn)=>Dn+Nn.count,0);console.log("Calculation Debug:",{individualCount:fn,groupCollections:xn,groupTotal:xn.reduce((Dn,Nn)=>Dn+Nn.count,0),totalSandwiches:An});const Tn=()=>{vn&&bn>0&&(yn([...xn,{name:vn,count:Number(bn)}]),En(""),wn(0))},$n=()=>{if(!mn){Sn({title:"Please select a location",variant:"destructive"});return}jn.find(Nn=>Nn.name===mn);const Dn={collectionDate:dn,hostName:mn,individualSandwiches:fn};xn.length>0&&(Dn.group1Name=xn[0].name,Dn.group1Count=xn[0].count,xn.length>1&&(Dn.group2Name=xn[1].name,Dn.group2Count=xn[1].count)),Cn.mutate(Dn)};return jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsxs("div",{className:"max-w-sm mx-auto bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-[#236383] to-[#007E8C] text-white text-center py-4 px-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl md:text-lg font-semibold mb-1",children:"Submit Collection"}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-base opacity-90",children:"Record a sandwich collection log"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[jsxRuntimeExports.jsx("label",{className:"text-base md:text-sm font-medium text-[#236383]",children:"Date"}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{children:jsxRuntimeExports.jsx(CircleHelp,{className:"h-5 w-5 md:h-4 md:w-4 text-gray-400"})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Enter the Wednesday on which you collected the sandwiches"})})]})]}),jsxRuntimeExports.jsx(Input,{type:"date",value:dn,onChange:Dn=>pn(Dn.target.value),className:"h-12 md:h-10 text-lg md:text-base"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[jsxRuntimeExports.jsx("label",{className:"text-base md:text-sm font-medium text-[#236383]",children:"Location"}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{children:jsxRuntimeExports.jsx(CircleHelp,{className:"h-5 w-5 md:h-4 md:w-4 text-gray-400"})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Select the location where you collected the sandwiches"})})]})]}),jsxRuntimeExports.jsxs(Select,{value:mn,onValueChange:hn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 md:h-10 text-lg md:text-base",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Choose location..."})}),jsxRuntimeExports.jsx(SelectContent,{children:jn.map(Dn=>jsxRuntimeExports.jsx(SelectItem,{value:Dn.name,children:Dn.name},Dn.id))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded p-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[jsxRuntimeExports.jsx("label",{className:"text-base md:text-sm font-medium text-[#236383]",children:"Individual Sandwiches"}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{children:jsxRuntimeExports.jsx(CircleHelp,{className:"h-5 w-5 md:h-4 md:w-4 text-gray-400"})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Please subtract sandwiches made by a group from your total count and report those along with the name of each group in the section below."})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsx(Input,{type:"number",value:fn,onChange:Dn=>{const Nn=parseInt(Dn.target.value)||0;gn(Nn)},className:"h-12 md:h-10 text-lg md:text-base flex-1",placeholder:"0"}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"h-10 md:h-8 px-3 md:px-2",children:jsxRuntimeExports.jsx(Calculator,{className:"h-4 w-4 md:h-3 md:w-3"})})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Need help counting? Use this calculator"})})]})]}),jsxRuntimeExports.jsx("p",{className:"text-base md:text-sm text-gray-600 mt-1",children:"Don't include group totals"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("label",{className:"text-base md:text-sm font-medium text-[#236383]",children:"Group Collections"}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{children:jsxRuntimeExports.jsx(CircleHelp,{className:"h-5 w-5 md:h-4 md:w-4 text-gray-400"})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"If any groups brought sandwiches to your location this week, do not include their # in your individual sandwiches count. Instead log them here, enter the name of each group and the # of sandwiches they brought."})})]})]}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{onClick:Tn,size:"sm",className:"h-5 w-5 p-0 bg-[#47B3CB] hover:bg-[#236383] rounded-md shadow-sm",children:jsxRuntimeExports.jsx(Plus,{className:"h-2 w-2"})})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Click to add the group you entered above"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 mb-3",children:[jsxRuntimeExports.jsx(Input,{placeholder:"e.g. 'Smith Family'",value:vn,onChange:Dn=>En(Dn.target.value),className:"h-12 md:h-10 text-lg md:text-base"}),jsxRuntimeExports.jsx(Input,{type:"number",placeholder:"Enter count (e.g. 25)",value:bn||"",onChange:Dn=>{const Nn=parseInt(Dn.target.value)||0;wn(Nn)},className:"h-12 md:h-10 text-lg md:text-base"})]}),xn.length===0?jsxRuntimeExports.jsx("p",{className:"text-lg md:text-base text-gray-500 italic text-center py-2",children:"No groups added"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:xn.map((Dn,Nn)=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"text-lg md:text-base font-medium text-[#236383] mb-1",children:Dn.name}),jsxRuntimeExports.jsx("div",{className:"text-3xl md:text-2xl font-bold text-gray-800",children:Dn.count})]},Nn))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:$n,disabled:Cn.isPending,className:"flex-1 h-14 md:h-12 bg-gradient-to-r from-[#FBAD3F] to-[#e89b2e] hover:from-[#e89b2e] hover:to-[#FBAD3F] text-white font-semibold text-xl md:text-lg",children:Cn.isPending?"Saving...":"Save My Collection"}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{children:jsxRuntimeExports.jsx(CircleHelp,{className:"h-6 w-6 md:h-4 md:w-4 text-gray-400"})}),jsxRuntimeExports.jsx(TooltipContent,{children:jsxRuntimeExports.jsx("p",{children:"Click to save your sandwich count. You can always edit or delete it after saving or add another entry for more sandwiches/more groups."})})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-lg md:text-base font-medium text-[#236383]",children:"Total Sandwiches:"}),jsxRuntimeExports.jsx("span",{className:"text-3xl md:text-2xl font-bold text-[#FBAD3F]",children:An})]})})]})]})})}function AnimatedCounter({value:tn,duration:sn=2e3,className:un="",prefix:dn="",suffix:pn=""}){const[mn,hn]=reactExports.useState(0),[fn,gn]=reactExports.useState(!1),xn=typeof tn=="string"?parseFloat(tn.replace(/,/g,""))||0:tn;reactExports.useEffect(()=>{if(gn(!0),xn===0){hn(0);return}const vn=Date.now(),En=0,bn=xn,wn=()=>{const _n=Date.now()-vn,jn=Math.min(_n/sn,1),Cn=1-Math.pow(1-jn,4),An=En+(bn-En)*Cn;hn(Math.floor(An)),jn<1?requestAnimationFrame(wn):hn(bn)},Sn=setTimeout(()=>{requestAnimationFrame(wn)},100);return()=>clearTimeout(Sn)},[xn,sn]);const yn=mn.toLocaleString();return jsxRuntimeExports.jsxs("span",{className:`${un} ${fn?"animate-count-up":"opacity-0"}`,children:[dn,yn,pn]})}function DarkModeToggle(){const[tn,sn]=reactExports.useState(!1);reactExports.useEffect(()=>{const dn=localStorage.getItem("theme"),pn=window.matchMedia("(prefers-color-scheme: dark)").matches;dn==="dark"||!dn&&pn?(sn(!0),document.documentElement.classList.add("dark")):(sn(!1),document.documentElement.classList.remove("dark"))},[]);const un=()=>{const dn=!tn;sn(dn),dn?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:un,className:"rounded-full w-10 h-10 p-0 bg-white/80 backdrop-blur-sm border-white/20 hover:bg-white/90 dark:bg-gray-800/80 dark:border-gray-700/50 dark:hover:bg-gray-800/90 transition-all duration-300",children:tn?jsxRuntimeExports.jsx(Sun,{className:"h-4 w-4 text-yellow-500"}):jsxRuntimeExports.jsx(Moon,{className:"h-4 w-4 text-gray-600"})})}const tspLogo="/assets/sandwich_project_transparent_1753668698851-BPsuuXUi.png";function DashboardOverview({onSectionChange:tn}){var En,bn,wn;const{user:sn}=useAuth(),un=useQueryClient(),[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState({isOpen:!1,documentPath:"",documentName:"",documentType:""}),fn=(Sn,Rn,_n)=>{hn({isOpen:!0,documentPath:Sn,documentName:Rn,documentType:_n})},gn=()=>{hn({isOpen:!1,documentPath:"",documentName:"",documentType:""})},{data:xn}=useQuery({queryKey:["/api/sandwich-collections/stats"],queryFn:async()=>{const Sn=await fetch("/api/sandwich-collections/stats");if(!Sn.ok)throw new Error("Failed to fetch stats");return Sn.json()},staleTime:0,refetchOnWindowFocus:!0}),yn=[{title:"Key Findings: Peak Collection Weeks",description:"Comprehensive analysis of peak performance and organizational growth",category:"Strategy",path:"/attached_assets/Key Findings_ Peak Sandwich Collection Weeks_1753498455636.pdf"},{title:"Food Safety Guidelines",description:"Essential safety protocols for volunteers",category:"Operations",path:"/attached_assets/20230525-TSP-Food Safety Volunteers_1749341933308.pdf"},{title:"Volunteer Driver Agreement",description:"Required agreement form for volunteer drivers",category:"Forms",path:"/attached_assets/TSP Volunteer Driver Agreement (1).pdf"},{title:"Community Service Hours Form",description:"Form for tracking and documenting community service hours",category:"Forms",path:"/attached_assets/TSP COMMUNITY SERVICE HOURS (1) (1) (1).pdf"}],vn={totalLifetimeSandwiches:xn?(En=xn.completeTotalSandwiches)==null?void 0:En.toLocaleString():"Loading...",peakWeekRecord:"38,828",currentAnnualCapacity:"~450,000",weeklyBaseline:"6,000-12,000",surgingCapacity:"25,000-40,000",individualSandwiches:((bn=xn==null?void 0:xn.individualSandwiches)==null?void 0:bn.toLocaleString())||"Loading...",groupSandwiches:xn?((xn.completeTotalSandwiches||0)-(xn.individualSandwiches||0)).toLocaleString():"Loading...",totalEntries:((wn=xn==null?void 0:xn.totalEntries)==null?void 0:wn.toLocaleString())||"Loading..."};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 z-50",children:jsxRuntimeExports.jsx(DarkModeToggle,{})}),jsxRuntimeExports.jsxs("div",{className:"space-y-8 pb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl mx-4 mt-8 p-8 text-center shadow-[0_2px_4px_rgba(0,0,0,0.05)]",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("img",{src:tspLogo,alt:"The Sandwich Project",className:"w-[250px] md:w-[400px] mb-6 mx-auto"})}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-[#236383] font-medium",children:"Community Impact Through Coordinated Action"})]}),(hasPermission(sn,PERMISSIONS.CREATE_COLLECTIONS)||hasPermission(sn,PERMISSIONS.MANAGE_COLLECTIONS))&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl mx-4 p-6 shadow-[0_2px_4px_rgba(0,0,0,0.05)]",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-[#236383] mb-2",children:"Record Collection Data"}),dn&&jsxRuntimeExports.jsx("p",{className:"text-gray-700",children:"Submit your sandwich contributions to help our community"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[jsxRuntimeExports.jsx(Button,{className:"bg-[#FBAD3F] hover:bg-[#e09a36] text-white font-medium py-4 px-8 rounded-lg transition-colors !text-lg sm:!text-sm min-h-[56px] sm:min-h-[40px]",onClick:()=>pn(!dn),children:dn?"Hide Form":"Enter New Collection Data"}),jsxRuntimeExports.jsx(Button,{className:"bg-white border border-[#47B3CB] text-[#47B3CB] hover:bg-[#47B3CB] hover:text-white font-medium py-4 px-8 rounded-lg transition-colors shadow-sm !text-lg sm:!text-sm min-h-[56px] sm:min-h-[40px]",onClick:()=>tn==null?void 0:tn("collections"),children:"View Collection History"})]})]}),dn&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(CompactCollectionForm,{onSuccess:()=>{pn(!1),un.invalidateQueries({queryKey:["/api/sandwich-collections"]}),un.invalidateQueries({queryKey:["/api/sandwich-collections/stats"]})}})})]}),jsxRuntimeExports.jsx("div",{className:"mx-4 mb-12",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-[0_2px_4px_rgba(0,0,0,0.05)]",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-7xl md:text-8xl font-black text-[#FBAD3F] tracking-tight",children:jsxRuntimeExports.jsx(AnimatedCounter,{value:(xn==null?void 0:xn.completeTotalSandwiches)||0})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-[#47B3CB] rounded-full"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-[#236383] font-medium",children:"Total sandwiches distributed since 2020"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-[#47B3CB] rounded-full"})]})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 border-t border-gray-200 pt-6 mt-6",children:"Real data from verified collection records"})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mx-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-[#236383] uppercase tracking-wide",children:"Individual Collections"}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-[#FBAD3F] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-[#FBAD3F] mb-2",children:jsxRuntimeExports.jsx(AnimatedCounter,{value:(xn==null?void 0:xn.individualSandwiches)||0})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Personal contributions"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-[#236383] uppercase tracking-wide",children:"Group Collections"}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-[#47B3CB] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-[#47B3CB] mb-2",children:jsxRuntimeExports.jsx(AnimatedCounter,{value:xn?(xn.completeTotalSandwiches||0)-(xn.individualSandwiches||0):0})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Organization donations"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-[#236383] uppercase tracking-wide",children:"Collection Records"}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-[#236383] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-[#236383] mb-2",children:jsxRuntimeExports.jsx(AnimatedCounter,{value:(xn==null?void 0:xn.totalEntries)||0})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Data submissions"})]})]}),jsxRuntimeExports.jsx("div",{className:"mx-4 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-[0_2px_4px_rgba(0,0,0,0.05)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-[#236383] mb-6",children:"Operational Capacity"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-[#A31C41] mb-1",children:vn.peakWeekRecord}),jsxRuntimeExports.jsx("div",{className:"text-sm text-[#236383] font-medium",children:"Peak Week"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Nov 15, 2023"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-[#FBAD3F] mb-1",children:vn.currentAnnualCapacity}),jsxRuntimeExports.jsx("div",{className:"text-sm text-[#236383] font-medium",children:"Annual Target"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Current year"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-[#47B3CB] mb-1",children:vn.weeklyBaseline}),jsxRuntimeExports.jsx("div",{className:"text-sm text-[#236383] font-medium",children:"Weekly Baseline"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Regular ops"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-[#007E8C] mb-1",children:vn.surgingCapacity}),jsxRuntimeExports.jsx("div",{className:"text-sm text-[#236383] font-medium",children:"Surge Capacity"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Peak mobilization"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mx-4 mt-8",children:[jsxRuntimeExports.jsxs("button",{className:"bg-white rounded-xl p-4 text-left group cursor-pointer shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",onClick:()=>tn==null?void 0:tn("collections"),children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-[#47B3CB] rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#236383]",children:"Collections"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"View all data"})]}),jsxRuntimeExports.jsxs("button",{className:"bg-white rounded-xl p-4 text-left group cursor-pointer shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",onClick:()=>tn==null?void 0:tn("analytics"),children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-[#FBAD3F] rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#236383]",children:"Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Deep insights"})]}),jsxRuntimeExports.jsxs("button",{className:"bg-white rounded-xl p-4 text-left group cursor-pointer shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",onClick:()=>tn==null?void 0:tn("phone-directory"),children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-[#007E8C] rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#236383]",children:"Directory"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Contact info"})]}),jsxRuntimeExports.jsxs("button",{className:"bg-white rounded-xl p-4 text-left group cursor-pointer shadow-[0_2px_4px_rgba(0,0,0,0.05)] hover:shadow-[0_4px_8px_rgba(0,0,0,0.1)] transition-all",onClick:()=>tn==null?void 0:tn("messages"),children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-[#A31C41] rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-[#236383]",children:"Messages"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Communication"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl mx-4 mt-8 p-6 shadow-[0_2px_4px_rgba(0,0,0,0.05)]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-[#FBAD3F] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-[#236383]",children:"Important Documents"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Key organizational resources"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:yn.map((Sn,Rn)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 group hover:bg-gray-100 transition-colors cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-[#47B3CB] rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-600 bg-white px-2 py-0.5 rounded",children:Sn.category})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm text-[#236383] mb-1 group-hover:text-[#FBAD3F] transition-colors line-clamp-2",children:Sn.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-1",children:Sn.description}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",className:"bg-[#47B3CB] hover:bg-[#3a9bb4] text-white text-xs px-2 py-1 h-7 flex-1",onClick:()=>fn(Sn.path,Sn.title,"pdf"),children:[jsxRuntimeExports.jsx(Eye,{className:"w-3 h-3 mr-1"}),"View"]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"border-gray-300 text-gray-600 hover:bg-gray-50 text-xs px-2 py-1 h-7",onClick:()=>window.open(Sn.path,"_blank"),children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})})]})]},Rn))})]}),jsxRuntimeExports.jsx("div",{className:"mx-4 mt-8",children:jsxRuntimeExports.jsx(HelpBubble$1,{title:"Dashboard Overview",content:"This dashboard shows your impact at a glance! These numbers represent real meals provided to community members in your area. Use the forms above to submit new collection data or browse documents for guidance.",character:"sandy",position:"top",trigger:"hover",children:jsxRuntimeExports.jsx("div",{className:"text-center text-sm text-gray-500 cursor-help",children:"Need help? Hover here for guidance"})})})]}),jsxRuntimeExports.jsx(DocumentPreviewModal,{isOpen:mn.isOpen,onClose:gn,documentPath:mn.documentPath,documentName:mn.documentName,documentType:mn.documentType})]})}var NAME$1="Label",Label$2=reactExports.forwardRef((tn,sn)=>jsxRuntimeExports.jsx(Primitive.label,{...tn,ref:sn,onMouseDown:un=>{var pn;un.target.closest("button, input, select, textarea")||((pn=tn.onMouseDown)==null||pn.call(tn,un),!un.defaultPrevented&&un.detail>1&&un.preventDefault())}}));Label$2.displayName=NAME$1;var Root$4=Label$2;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Root$4,{ref:un,className:cn(labelVariants(),tn),...sn}));Label$1.displayName=Root$4.displayName;var CHECKBOX_NAME="Checkbox",[createCheckboxContext,createCheckboxScope]=createContextScope(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(tn){const{__scopeCheckbox:sn,checked:un,children:dn,defaultChecked:pn,disabled:mn,form:hn,name:fn,onCheckedChange:gn,required:xn,value:yn="on",internal_do_not_use_render:vn}=tn,[En,bn]=useControllableState({prop:un,defaultProp:pn??!1,onChange:gn,caller:CHECKBOX_NAME}),[wn,Sn]=reactExports.useState(null),[Rn,_n]=reactExports.useState(null),jn=reactExports.useRef(!1),Cn=wn?!!hn||!!wn.closest("form"):!0,An={checked:En,disabled:mn,setChecked:bn,control:wn,setControl:Sn,name:fn,form:hn,value:yn,hasConsumerStoppedPropagationRef:jn,required:xn,defaultChecked:isIndeterminate(pn)?!1:pn,isFormControl:Cn,bubbleInput:Rn,setBubbleInput:_n};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:sn,...An,children:isFunction$6(vn)?vn(An):dn})}var TRIGGER_NAME="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:tn,onKeyDown:sn,onClick:un,...dn},pn)=>{const{control:mn,value:hn,disabled:fn,checked:gn,required:xn,setControl:yn,setChecked:vn,hasConsumerStoppedPropagationRef:En,isFormControl:bn,bubbleInput:wn}=useCheckboxContext(TRIGGER_NAME,tn),Sn=useComposedRefs(pn,yn),Rn=reactExports.useRef(gn);return reactExports.useEffect(()=>{const _n=mn==null?void 0:mn.form;if(_n){const jn=()=>vn(Rn.current);return _n.addEventListener("reset",jn),()=>_n.removeEventListener("reset",jn)}},[mn,vn]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(gn)?"mixed":gn,"aria-required":xn,"data-state":getState$1(gn),"data-disabled":fn?"":void 0,disabled:fn,value:hn,...dn,ref:Sn,onKeyDown:composeEventHandlers$1(sn,_n=>{_n.key==="Enter"&&_n.preventDefault()}),onClick:composeEventHandlers$1(un,_n=>{vn(jn=>isIndeterminate(jn)?!0:!jn),wn&&bn&&(En.current=_n.isPropagationStopped(),En.current||_n.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME;var Checkbox$1=reactExports.forwardRef((tn,sn)=>{const{__scopeCheckbox:un,name:dn,checked:pn,defaultChecked:mn,required:hn,disabled:fn,value:gn,onCheckedChange:xn,form:yn,...vn}=tn;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:un,checked:pn,defaultChecked:mn,disabled:fn,required:hn,onCheckedChange:xn,name:dn,form:yn,value:gn,internal_do_not_use_render:({isFormControl:En})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...vn,ref:sn,__scopeCheckbox:un}),En&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:un})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME$1="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((tn,sn)=>{const{__scopeCheckbox:un,forceMount:dn,...pn}=tn,mn=useCheckboxContext(INDICATOR_NAME$1,un);return jsxRuntimeExports.jsx(Presence,{present:dn||isIndeterminate(mn.checked)||mn.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(mn.checked),"data-disabled":mn.disabled?"":void 0,...pn,ref:sn,style:{pointerEvents:"none",...tn.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME$1;var BUBBLE_INPUT_NAME$1="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:tn,...sn},un)=>{const{control:dn,hasConsumerStoppedPropagationRef:pn,checked:mn,defaultChecked:hn,required:fn,disabled:gn,name:xn,value:yn,form:vn,bubbleInput:En,setBubbleInput:bn}=useCheckboxContext(BUBBLE_INPUT_NAME$1,tn),wn=useComposedRefs(un,bn),Sn=usePrevious(mn),Rn=useSize(dn);reactExports.useEffect(()=>{const jn=En;if(!jn)return;const Cn=window.HTMLInputElement.prototype,Tn=Object.getOwnPropertyDescriptor(Cn,"checked").set,$n=!pn.current;if(Sn!==mn&&Tn){const Dn=new Event("click",{bubbles:$n});jn.indeterminate=isIndeterminate(mn),Tn.call(jn,isIndeterminate(mn)?!1:mn),jn.dispatchEvent(Dn)}},[En,Sn,mn,pn]);const _n=reactExports.useRef(isIndeterminate(mn)?!1:mn);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:hn??_n.current,required:fn,disabled:gn,name:xn,value:yn,form:vn,...sn,tabIndex:-1,ref:wn,style:{...sn.style,...Rn,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function isFunction$6(tn){return typeof tn=="function"}function isIndeterminate(tn){return tn==="indeterminate"}function getState$1(tn){return isIndeterminate(tn)?"indeterminate":tn?"checked":"unchecked"}const Checkbox=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:un,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue-600 data-[state=checked]:text-white data-[state=checked]:border-blue-600",tn),...sn,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((tn,sn)=>{const{__scopeProgress:un,value:dn=null,max:pn,getValueLabel:mn=defaultGetValueLabel,...hn}=tn;(pn||pn===0)&&!isValidMaxNumber(pn)&&console.error(getInvalidMaxError(`${pn}`,"Progress"));const fn=isValidMaxNumber(pn)?pn:DEFAULT_MAX;dn!==null&&!isValidValueNumber(dn,fn)&&console.error(getInvalidValueError(`${dn}`,"Progress"));const gn=isValidValueNumber(dn,fn)?dn:null,xn=isNumber$5(gn)?mn(gn,fn):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:un,value:gn,max:fn,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":fn,"aria-valuemin":0,"aria-valuenow":isNumber$5(gn)?gn:void 0,"aria-valuetext":xn,role:"progressbar","data-state":getProgressState(gn,fn),"data-value":gn??void 0,"data-max":fn,...hn,ref:sn})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((tn,sn)=>{const{__scopeProgress:un,...dn}=tn,pn=useProgressContext(INDICATOR_NAME,un);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(pn.value,pn.max),"data-value":pn.value??void 0,"data-max":pn.max,...dn,ref:sn})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(tn,sn){return`${Math.round(tn/sn*100)}%`}function getProgressState(tn,sn){return tn==null?"indeterminate":tn===sn?"complete":"loading"}function isNumber$5(tn){return typeof tn=="number"}function isValidMaxNumber(tn){return isNumber$5(tn)&&!isNaN(tn)&&tn>0}function isValidValueNumber(tn,sn){return isNumber$5(tn)&&!isNaN(tn)&&tn<=sn&&tn>=0}function getInvalidMaxError(tn,sn){return`Invalid prop \`max\` of value \`${tn}\` supplied to \`${sn}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(tn,sn){return`Invalid prop \`value\` of value \`${tn}\` supplied to \`${sn}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$3=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:tn,value:sn,...un},dn)=>jsxRuntimeExports.jsx(Root$3,{ref:dn,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",tn),...un,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(sn||0)}%)`}})}));Progress.displayName=Root$3.displayName;function BulkDataManager({onImportCSV:tn,onExportCSV:sn,onCheckDuplicates:un,onCleanOGDuplicates:dn}={}){var kn,Pn,Mn;const{toast:pn}=useToast(),mn=useQueryClient(),{user:hn}=useAuth(),[fn,gn]=reactExports.useState("overview"),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState(!1),bn=hasPermission(hn,PERMISSIONS.IMPORT_DATA),wn=hasPermission(hn,PERMISSIONS.EXPORT_DATA),{data:Sn,isLoading:Rn}=useQuery({queryKey:["/api/collection-stats"],refetchInterval:12e4}),{data:_n,isLoading:jn}=useQuery({queryKey:["/api/host-mapping-stats"],refetchInterval:12e4}),{data:Cn,isLoading:An}=useQuery({queryKey:["/api/collections-by-host",xn],queryFn:async()=>{if(!xn)return[];const On=await fetch(`/api/collections-by-host/${encodeURIComponent(xn)}`);if(!On.ok)throw new Error("Failed to fetch host collections");return On.json()},enabled:!!xn}),Tn=useMutation({mutationFn:async()=>(await apiRequest("POST","/api/bulk-map-hosts",{})).json(),onSuccess:On=>{mn.invalidateQueries({queryKey:["/api/collection-stats"]}),mn.invalidateQueries({queryKey:["/api/host-mapping-stats"]}),mn.invalidateQueries({queryKey:["/api/sandwich-collections"]}),pn({title:"Bulk mapping completed",description:`Updated ${On.updatedRecords} collection records`})},onError:On=>{pn({title:"Mapping failed",description:On instanceof Error?On.message:"Unknown error occurred",variant:"destructive"})}}),$n=useMutation({mutationFn:async()=>await apiRequest("PATCH","/api/sandwich-collections/fix-data-corruption",{}),onSuccess:On=>{pn({title:"Data Issues Fixed",description:`Successfully fixed ${On.fixedCount} data corruption issues out of ${On.totalChecked} records checked.`}),mn.invalidateQueries({queryKey:["/api/collection-stats"]}),mn.invalidateQueries({queryKey:["/api/sandwich-collections"]})},onError:On=>{console.error("Data fix failed:",On),pn({title:"Fix Failed",description:"There was an error fixing data issues. Please try again.",variant:"destructive"})}}),Dn=Sn?Math.round(Sn.mappedRecords/Sn.totalRecords*100):0,Nn=On=>{yn(On),En(!0)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Data Management Center"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"Monitor and manage your collection data import and mapping"})]}),jsxRuntimeExports.jsxs(Tabs,{value:fn,onValueChange:gn,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"mapping",children:"Host Mapping"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"actions",children:"Bulk Actions"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Collections"}),jsxRuntimeExports.jsx(Database,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:Rn?"...":((kn=Sn==null?void 0:Sn.totalRecords)==null?void 0:kn.toLocaleString())||"0"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical sandwich collection records"})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Mapped Records"}),jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:Rn?"...":((Pn=Sn==null?void 0:Sn.mappedRecords)==null?void 0:Pn.toLocaleString())||"0"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected to host locations"})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Unmapped Records"}),jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-amber-600",children:Rn?"...":((Mn=Sn==null?void 0:Sn.unmappedRecords)==null?void 0:Mn.toLocaleString())||"0"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending host assignment"})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Completion"}),jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[Dn,"%"]}),jsxRuntimeExports.jsx(Progress,{value:Dn,className:"mt-2"})]})]})]}),Sn&&Sn.totalRecords>0&&jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Import Progress"})}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Data Import & Mapping Progress"}),jsxRuntimeExports.jsxs("span",{children:[Sn.mappedRecords," of ",Sn.totalRecords," records"]})]}),jsxRuntimeExports.jsx(Progress,{value:Dn,className:"h-2"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{children:"Started"}),jsxRuntimeExports.jsxs("span",{children:[Dn,"% Complete"]}),jsxRuntimeExports.jsx("span",{children:"Target: 100%"})]})]})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"mapping",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Host Distribution"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Collection records grouped by host location"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jn?jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:"Loading mapping statistics..."}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:_n==null?void 0:_n.map((On,Wn)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Nn(On.hostName),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"var(--tsp-teal)"}}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:On.hostName}),On.mapped&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-green-600",children:"Mapped"})]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[On.count.toLocaleString()," records"]})]},Wn))})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"actions",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Data Operations"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Import, export, and manage your collection data"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Import Data"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload CSV files to add collection records"})]})}),jsxRuntimeExports.jsxs(Button,{onClick:tn,disabled:!bn,className:"w-full flex items-center space-x-2",variant:"outline",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Import CSV"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Export Data"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Download all collection records as CSV"})]})}),jsxRuntimeExports.jsxs(Button,{onClick:sn,disabled:!wn,className:"w-full flex items-center space-x-2",variant:"outline",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Export CSV"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Check Duplicates"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyze and identify duplicate entries"})]})}),jsxRuntimeExports.jsxs(Button,{onClick:un,className:"w-full flex items-center space-x-2",variant:"outline",children:[jsxRuntimeExports.jsx(Scan,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Check Duplicates"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Clean OG Duplicates"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Remove original sandwich project duplicates"})]})}),jsxRuntimeExports.jsxs(Button,{onClick:dn,className:"w-full flex items-center space-x-2 bg-amber-50 border-amber-300 text-amber-800 hover:bg-amber-100",variant:"outline",children:[jsxRuntimeExports.jsx("span",{className:"mr-2",children:"👑"}),jsxRuntimeExports.jsx("span",{children:"Clean OG Duplicates"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Fix Data Issues"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Fix duplicated totals and misplaced group data"})]})}),jsxRuntimeExports.jsx(Button,{onClick:()=>$n.mutate(),disabled:$n.isPending,className:"w-full flex items-center space-x-2 bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100",variant:"outline",children:$n.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Fixing..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Database,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Fix Data Issues"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Run Host Mapping"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Map collection records to their appropriate host locations"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Tn.mutate(),disabled:Tn.isPending,className:"flex items-center space-x-2",children:[Tn.isPending&&jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:Tn.isPending?"Mapping...":"Run Mapping"})]})]})}),jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4 bg-blue-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx(Database,{className:"w-5 h-5 text-blue-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-900",children:"Data Import Status"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your CSV data import is running in the background. The system automatically maps new records as they're imported. You can manually trigger mapping above if needed."})]})]})})]})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:vn,onOpenChange:En,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>En(!1),className:"p-1",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs(DialogTitle,{children:["Records for ",xn]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:An?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading records..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[Cn==null?void 0:Cn.map((On,Wn)=>jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Date:"}),jsxRuntimeExports.jsx("div",{children:On.collectionDate})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Host:"}),jsxRuntimeExports.jsx("div",{children:On.hostName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Individual:"}),jsxRuntimeExports.jsx("div",{children:On.individualSandwiches||0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Groups:"}),jsxRuntimeExports.jsx("div",{children:(On.group1Count||0)+(On.group2Count||0)})]}),On.notes&&jsxRuntimeExports.jsxs("div",{className:"col-span-2 md:col-span-4",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Notes:"}),jsxRuntimeExports.jsx("div",{className:"text-gray-700",children:On.notes})]})]})},On.id||Wn)),Cn&&Cn.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500",children:"No records found for this host"})]})})]})})]})}function SandwichCollectionForm({onSuccess}){const[date,setDate]=reactExports.useState(new Date().toISOString().split("T")[0]),[location,setLocation]=reactExports.useState(""),[customLocation,setCustomLocation]=reactExports.useState(""),[showCustomLocation,setShowCustomLocation]=reactExports.useState(!1),[individualCount,setIndividualCount]=reactExports.useState(""),[groups,setGroups]=reactExports.useState([]),[showCalculator,setShowCalculator]=reactExports.useState(!1),[calcDisplay,setCalcDisplay]=reactExports.useState(""),queryClient=useQueryClient(),{toast}=useToast(),{data:hosts=[]}=useQuery({queryKey:["/api/hosts"],select:tn=>tn.filter(sn=>sn.status==="active")}),createHostMutation=useMutation({mutationFn:async tn=>{const sn=await fetch("/api/hosts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:tn,status:"active",email:"",phone:"",address:"",notes:`Created from collection form on ${new Date().toLocaleDateString()}`})});if(!sn.ok)throw new Error("Failed to create host");return sn.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts"]})}}),submitMutation=useMutation({mutationFn:async tn=>{const sn=await fetch("/api/sandwich-collections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tn)});if(!sn.ok)throw new Error("Failed to submit collection");return sn.json()},onSuccess:tn=>{const sn=(parseInt(individualCount)||0)+groups.reduce((un,dn)=>un+(dn.count||0),0);toast({title:"Collection Submitted Successfully! 🥪",description:`Recorded ${sn} sandwiches from ${location||customLocation} on ${new Date(date).toLocaleDateString()}. Thank you for your contribution!`,duration:5e3}),setDate(new Date().toISOString().split("T")[0]),setLocation(""),setCustomLocation(""),setShowCustomLocation(!1),setIndividualCount(""),setGroups([]),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections/stats"]}),onSuccess&&onSuccess()},onError:tn=>{toast({title:"Submission Failed",description:"There was a problem submitting your collection. Please try again or contact support if the issue persists.",variant:"destructive",duration:7e3})}}),handleLocationChange=tn=>{setLocation(tn),setShowCustomLocation(tn==="other"),tn!=="other"&&setCustomLocation("")},calculateTotal=()=>{const tn=parseInt(individualCount)||0,sn=groups.reduce((un,dn)=>un+(parseInt(dn.count)||0),0);return tn+sn},addGroup=()=>{groups.length<2&&setGroups([...groups,{id:Date.now().toString(),name:"",count:0}])},removeGroup=tn=>{setGroups(groups.filter(sn=>sn.id!==tn))},handleCalcInput=value=>{if(value==="=")try{const result=eval(calcDisplay);setCalcDisplay(result.toString())}catch{setCalcDisplay("Error")}else setCalcDisplay(value==="C"?"":value==="←"?calcDisplay.slice(0,-1):calcDisplay+value)},useCalcResult=()=>{calcDisplay&&!isNaN(Number(calcDisplay))&&(setIndividualCount(calcDisplay),setShowCalculator(!1),setCalcDisplay(""))},handleSubmit=async()=>{var dn,pn,mn,hn;let tn=location;if(location==="other"&&customLocation.trim())try{await createHostMutation.mutateAsync(customLocation.trim()),tn=customLocation.trim()}catch(fn){console.error("Failed to create new host:",fn);return}const sn=groups.filter(fn=>fn.name.trim()&&fn.count>0),un={collectionDate:date,hostName:tn,individualSandwiches:parseInt(individualCount)||0,group1Name:((dn=sn[0])==null?void 0:dn.name)||null,group1Count:((pn=sn[0])==null?void 0:pn.count)||null,group2Name:((mn=sn[1])==null?void 0:mn.name)||null,group2Count:((hn=sn[1])==null?void 0:hn.count)||null,submissionMethod:"web_form",createdBy:"web_user",createdByName:"Web Form User"};submitMutation.mutate(un)},containerStyle={background:"white",borderRadius:"8px",border:"1px solid #e2e8f0",overflow:"hidden"},accentBarStyle={width:"3px",height:"16px",background:"#FBAD3F",borderRadius:"2px",position:"absolute",left:0},headerStyle={background:"linear-gradient(135deg, #236383 0%, #007E8C 100%)",borderBottom:"1px solid #e2e8f0",padding:"8px 0",display:"flex",flexDirection:"column",gap:"4px",alignItems:"center",textAlign:"center"},headerLeftStyle={flex:1},h1Style={fontSize:"18px",fontWeight:"600",margin:0,marginBottom:"2px",color:"white",fontFamily:"Roboto, sans-serif"},headerPStyle={fontSize:"12px",fontWeight:"400",opacity:.9,margin:0,color:"white",fontFamily:"Roboto, sans-serif"},totalBadgeStyle={background:"linear-gradient(135deg, #FBAD3F 0%, #F7931E 100%)",borderRadius:"6px",padding:"6px 12px",textAlign:"center",minWidth:"70px",color:"white",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 1px 4px rgba(0,0,0,0.1)"},totalLabelStyle={fontSize:"11px",opacity:.9,marginBottom:"1px",fontWeight:"500"},totalNumberStyle={fontSize:"16px",fontWeight:"700"},formContainerStyle={padding:"0",background:"white"},formSectionStyle={background:"#f8fafc",borderRadius:"8px",padding:"8px",marginBottom:"8px",marginLeft:"8px",marginRight:"8px",border:"1px solid #e2e8f0"},sectionTitleStyle={fontSize:"16px",fontWeight:"600",color:"#1e293b",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px",position:"relative",paddingLeft:"13px",fontFamily:"Roboto, sans-serif"},formRowStyle={display:"flex",flexDirection:"column",gap:"16px","@media (min-width: 768px)":{display:"grid",gridTemplateColumns:"160px 1fr",flexDirection:"row"}},formGroupStyle={display:"flex",flexDirection:"column",gap:"5px"},labelStyle={fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",fontFamily:"Roboto, sans-serif"},inputStyle={height:"48px",padding:"0 16px",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"18px",fontFamily:"Roboto, sans-serif",transition:"all 0.2s ease",background:"white",color:"#1f2937",width:"100%",boxSizing:"border-box"},individualInputStyle={...inputStyle,width:"120px",fontWeight:"600",color:"#236383",fontSize:"22px",textAlign:"center",minWidth:"120px"},selectStyle={...inputStyle,appearance:"none",backgroundImage:`url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L6 6L11 1' stroke='%23989393' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 16px center",paddingRight:"48px",cursor:"pointer"},groupsContainerStyle={background:"#ffffff",borderRadius:"8px",padding:"16px",border:"1px solid #e2e8f0",marginTop:"12px"},groupsHeaderStyle={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},groupItemStyle={display:"flex",flexDirection:"column",gap:"8px",marginBottom:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},groupInputStyle={...inputStyle,height:"48px",padding:"0 16px",fontSize:"16px"},removeBtnStyle={width:"40px",height:"40px",background:"#FFE5E5",border:"none",borderRadius:"8px",color:"#E74C3C",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",transition:"all 0.2s ease",alignSelf:"flex-end"},addGroupBtnStyle={padding:"12px 20px",background:"transparent",border:"2px dashed #236383",borderRadius:"8px",color:"#236383",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Roboto, sans-serif",minHeight:"48px"},submitSectionStyle={padding:"12px 0",borderTop:"1px solid #e2e8f0",display:"flex",justifyContent:"center",background:"linear-gradient(135deg, #e1f3f7 0%, #cfe9f0 100%)"},submitBtnStyle={background:"linear-gradient(135deg, #FBAD3F 0%, #e89b2e 100%)",color:"white",border:"none",padding:"12px 32px",borderRadius:"8px",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Roboto, sans-serif",boxShadow:"0 2px 4px rgba(251, 173, 63, 0.25)",minHeight:"44px",width:"100%",maxWidth:"280px"},helperTextStyle={fontSize:"14px",color:"#6b7280",marginTop:"4px",fontFamily:"Roboto, sans-serif"},customLocationInputStyle={...inputStyle,marginTop:"6px"},calculatorOverlayStyle={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},calculatorStyle={background:"white",borderRadius:"8px",padding:"20px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)",width:"240px",fontFamily:"Roboto, sans-serif"},calcDisplayStyle={width:"100%",height:"40px",padding:"0 12px",border:"1px solid #E9E6E6",borderRadius:"4px",fontSize:"16px",textAlign:"right",marginBottom:"12px",background:"#f8f9fa"},calcButtonGridStyle={display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px",marginBottom:"12px"},calcButtonStyle={height:"36px",border:"1px solid #E9E6E6",borderRadius:"4px",background:"white",fontSize:"14px",cursor:"pointer",fontFamily:"Roboto, sans-serif"},calcActionButtonStyle={...calcButtonStyle,background:"#236383",color:"white",border:"1px solid #236383"},collapsedGroupSectionStyle={background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"6px",padding:"12px",textAlign:"center"},instructionTextStyle={fontSize:"16px",color:"#64748b",marginBottom:"8px",lineHeight:"1.4"},addGroupButtonStyle={...addGroupBtnStyle,marginRight:"8px"},calcButtonSmallStyle={padding:"4px 8px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"4px",color:"#475569",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",fontFamily:"Roboto, sans-serif",display:"inline-flex",alignItems:"center",gap:"4px"},handleInputFocus=tn=>{tn.currentTarget.style.outline="none",tn.currentTarget.style.borderColor="#236383"},handleInputBlur=tn=>{tn.currentTarget.style.borderColor="#E9E6E6"};return jsxRuntimeExports.jsxs("div",{style:containerStyle,children:[jsxRuntimeExports.jsxs("div",{style:headerStyle,children:[jsxRuntimeExports.jsxs("div",{style:headerLeftStyle,children:[jsxRuntimeExports.jsx("h1",{style:h1Style,children:"Submit Collection"}),jsxRuntimeExports.jsx("p",{style:headerPStyle,children:"Record today's sandwich distribution"})]}),jsxRuntimeExports.jsxs("div",{style:totalBadgeStyle,children:[jsxRuntimeExports.jsx("div",{style:totalLabelStyle,children:"Total"}),jsxRuntimeExports.jsx("div",{style:totalNumberStyle,children:calculateTotal()})]})]}),jsxRuntimeExports.jsxs("div",{style:formContainerStyle,children:[jsxRuntimeExports.jsxs("div",{style:formSectionStyle,children:[jsxRuntimeExports.jsxs("h3",{style:sectionTitleStyle,children:[jsxRuntimeExports.jsx("span",{style:accentBarStyle}),"Collection Details"]}),jsxRuntimeExports.jsxs("div",{style:formRowStyle,children:[jsxRuntimeExports.jsxs("div",{style:formGroupStyle,children:[jsxRuntimeExports.jsx("label",{htmlFor:"date",style:labelStyle,children:"Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"date",value:date,onChange:tn=>setDate(tn.target.value),style:inputStyle,onFocus:handleInputFocus,onBlur:handleInputBlur,required:!0})]}),jsxRuntimeExports.jsxs("div",{style:formGroupStyle,children:[jsxRuntimeExports.jsx("label",{htmlFor:"location",style:labelStyle,children:"Location"}),jsxRuntimeExports.jsxs("select",{id:"location",value:location,onChange:tn=>handleLocationChange(tn.target.value),style:selectStyle,onFocus:handleInputFocus,onBlur:handleInputBlur,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select location"}),hosts.map(tn=>jsxRuntimeExports.jsx("option",{value:tn.name,children:tn.name},tn.id)),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]})]}),showCustomLocation&&jsxRuntimeExports.jsxs("div",{style:formGroupStyle,children:[jsxRuntimeExports.jsx("label",{htmlFor:"custom-location",style:labelStyle,children:"New Location Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"custom-location",value:customLocation,onChange:tn=>setCustomLocation(tn.target.value),placeholder:"Enter new location name",style:customLocationInputStyle,onFocus:handleInputFocus,onBlur:handleInputBlur,required:showCustomLocation})]})]}),jsxRuntimeExports.jsxs("div",{style:formSectionStyle,children:[jsxRuntimeExports.jsxs("h3",{style:sectionTitleStyle,children:[jsxRuntimeExports.jsx("span",{style:accentBarStyle}),"Individual Sandwiches"]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"center"},children:[jsxRuntimeExports.jsx("input",{type:"number",id:"individual-count",min:"0",placeholder:"0",value:individualCount,onChange:tn=>setIndividualCount(tn.target.value),style:individualInputStyle,onFocus:handleInputFocus,onBlur:handleInputBlur}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>setShowCalculator(!0),style:calcButtonSmallStyle,onMouseEnter:tn=>{tn.currentTarget.style.background="#e2e8f0"},onMouseLeave:tn=>{tn.currentTarget.style.background="#f1f5f9"},children:[jsxRuntimeExports.jsx(Calculator,{style:{width:"14px",height:"14px"}}),"Calculator"]})]}),jsxRuntimeExports.jsx("p",{style:helperTextStyle,children:"Count only individual sandwiches here (don't include group totals)"})]})]}),jsxRuntimeExports.jsx("div",{style:{...formSectionStyle,marginBottom:0},children:groups.length===0?jsxRuntimeExports.jsxs("div",{style:collapsedGroupSectionStyle,children:[jsxRuntimeExports.jsxs("p",{style:instructionTextStyle,children:[jsxRuntimeExports.jsx("strong",{children:"Group Collections:"})," If you collected sandwiches from groups/organizations, record their totals separately with their group name. Don't add these to your individual count above."]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:addGroup,disabled:groups.length>=2,style:{...addGroupButtonStyle,opacity:groups.length>=2?.5:1,cursor:groups.length>=2?"not-allowed":"pointer"},onMouseEnter:tn=>{groups.length<2&&(tn.currentTarget.style.borderColor="#236383",tn.currentTarget.style.background="rgba(35, 99, 131, 0.05)")},onMouseLeave:tn=>{groups.length<2&&(tn.currentTarget.style.borderColor="#236383",tn.currentTarget.style.background="transparent")},children:["+ Add Group ",groups.length>=2?"(Max 2)":""]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:groupsHeaderStyle,children:[jsxRuntimeExports.jsxs("h3",{style:{...sectionTitleStyle,marginBottom:0,paddingBottom:0,borderBottom:"none"},children:[jsxRuntimeExports.jsx("span",{style:accentBarStyle}),"Group Collections"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:addGroup,disabled:groups.length>=2,style:{...addGroupBtnStyle,opacity:groups.length>=2?.5:1,cursor:groups.length>=2?"not-allowed":"pointer"},onMouseEnter:tn=>{groups.length<2&&(tn.currentTarget.style.borderColor="#236383",tn.currentTarget.style.background="rgba(35, 99, 131, 0.05)")},onMouseLeave:tn=>{groups.length<2&&(tn.currentTarget.style.borderColor="#236383",tn.currentTarget.style.background="transparent")},children:["+ Add Group ",groups.length>=2?"(Max 2)":""]})]}),jsxRuntimeExports.jsx("div",{style:groupsContainerStyle,children:jsxRuntimeExports.jsx("div",{children:groups.map((tn,sn)=>jsxRuntimeExports.jsxs("div",{style:groupItemStyle,children:[jsxRuntimeExports.jsx("label",{style:{...labelStyle,marginBottom:"4px"},children:"Group Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter group or organization name",value:tn.name,onChange:un=>{const dn=[...groups];dn[sn].name=un.target.value,setGroups(dn)},style:groupInputStyle,onFocus:handleInputFocus,onBlur:handleInputBlur}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[jsxRuntimeExports.jsxs("div",{style:{flex:1},children:[jsxRuntimeExports.jsx("label",{style:{...labelStyle,marginBottom:"4px"},children:"Sandwich Count"}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"0",min:"0",value:tn.count===0?"":tn.count,onChange:un=>{const dn=[...groups],pn=un.target.value;pn===""||pn==="0"?dn[sn].count=0:dn[sn].count=parseInt(pn)||0,setGroups(dn)},onFocus:un=>{un.target.value==="0"&&(un.target.value=""),handleInputFocus(un)},style:{...groupInputStyle,textAlign:"center",fontWeight:"600",color:"#236383",fontSize:"20px"},onBlur:handleInputBlur})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>removeGroup(tn.id),style:{...removeBtnStyle,marginTop:"24px"},onMouseEnter:un=>{un.currentTarget.style.background="#E74C3C",un.currentTarget.style.color="white"},onMouseLeave:un=>{un.currentTarget.style.background="#FFE5E5",un.currentTarget.style.color="#E74C3C"},title:"Remove this group",children:"×"})]})]},tn.id))})})]})})]}),jsxRuntimeExports.jsx("div",{style:submitSectionStyle,children:jsxRuntimeExports.jsx("button",{style:{...submitBtnStyle,opacity:submitMutation.isPending||createHostMutation.isPending?.6:1,cursor:submitMutation.isPending||createHostMutation.isPending?"not-allowed":"pointer"},onClick:handleSubmit,disabled:submitMutation.isPending||createHostMutation.isPending,onMouseEnter:tn=>{!submitMutation.isPending&&!createHostMutation.isPending&&(tn.currentTarget.style.background="#F39C12",tn.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:tn=>{!submitMutation.isPending&&!createHostMutation.isPending&&(tn.currentTarget.style.background="#FBAD3F",tn.currentTarget.style.transform="translateY(0)")},children:submitMutation.isPending||createHostMutation.isPending?"Submitting...":"Submit Collection"})}),showCalculator&&jsxRuntimeExports.jsx("div",{style:calculatorOverlayStyle,onClick:()=>setShowCalculator(!1),children:jsxRuntimeExports.jsxs("div",{style:calculatorStyle,onClick:tn=>tn.stopPropagation(),children:[jsxRuntimeExports.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#236383"},children:"Calculator Helper"}),jsxRuntimeExports.jsx("p",{style:{fontSize:"13px",color:"#64748b",margin:"0 0 12px 0"},children:"Calculate your individual count (e.g., 150 - 25 - 30 = 95)"}),jsxRuntimeExports.jsx("input",{type:"text",value:calcDisplay,readOnly:!0,style:calcDisplayStyle,placeholder:"Enter calculation..."}),jsxRuntimeExports.jsxs("div",{style:calcButtonGridStyle,children:[jsxRuntimeExports.jsx("button",{style:calcActionButtonStyle,onClick:()=>handleCalcInput("C"),children:"C"}),jsxRuntimeExports.jsx("button",{style:calcActionButtonStyle,onClick:()=>handleCalcInput("←"),children:"←"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("/"),children:"/"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("*"),children:"×"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("7"),children:"7"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("8"),children:"8"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("9"),children:"9"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("-"),children:"-"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("4"),children:"4"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("5"),children:"5"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("6"),children:"6"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("+"),children:"+"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("1"),children:"1"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("2"),children:"2"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("3"),children:"3"}),jsxRuntimeExports.jsx("button",{style:{...calcActionButtonStyle,gridRow:"span 2"},onClick:()=>handleCalcInput("="),children:"="}),jsxRuntimeExports.jsx("button",{style:{...calcButtonStyle,gridColumn:"span 2"},onClick:()=>handleCalcInput("0"),children:"0"}),jsxRuntimeExports.jsx("button",{style:calcButtonStyle,onClick:()=>handleCalcInput("."),children:"."})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"8px",background:"#FBAD3F",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},onClick:useCalcResult,children:"Use Result"}),jsxRuntimeExports.jsx("button",{style:{flex:1,padding:"8px",background:"#f8f9fa",color:"#6c757d",border:"1px solid #dee2e6",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},onClick:()=>setShowCalculator(!1),children:"Cancel"})]})]})})]})}function SandwichCollectionLog(){const{toast:tn}=useToast(),{user:sn}=useAuth(),un=reactExports.useRef(null),dn=hasPermission(sn,PERMISSIONS.CREATE_COLLECTIONS)||hasPermission(sn,PERMISSIONS.MANAGE_COLLECTIONS),pn=hasPermission(sn,PERMISSIONS.EDIT_ALL_COLLECTIONS);hasPermission(sn,PERMISSIONS.DELETE_ALL_COLLECTIONS);const mn=hasPermission(sn,PERMISSIONS.CREATE_COLLECTIONS)||hasPermission(sn,PERMISSIONS.EDIT_ALL_COLLECTIONS),hn=hasPermission(sn,PERMISSIONS.CREATE_COLLECTIONS)||hasPermission(sn,PERMISSIONS.DELETE_ALL_COLLECTIONS),[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(!1),[vn,En]=reactExports.useState(null),[bn,wn]=reactExports.useState(new Set),[Sn,Rn]=reactExports.useState(new Set),[_n,jn]=reactExports.useState(!1),[Cn,An]=reactExports.useState(!1),[Tn,$n]=reactExports.useState({hostName:"",collectionDate:""}),[Dn,Nn]=reactExports.useState({hostName:"",collectionDateFrom:"",collectionDateTo:"",createdAtFrom:"",createdAtTo:""}),[kn,Pn]=reactExports.useState({hostName:"",collectionDateFrom:"",collectionDateTo:"",createdAtFrom:"",createdAtTo:""}),[Mn,On]=reactExports.useState({field:"collectionDate",direction:"desc"}),[Wn,In]=reactExports.useState(!1),[Un,Vn]=reactExports.useState(1),[Hn,Ln]=reactExports.useState(50),[zn,Bn]=reactExports.useState({collectionDate:"",hostName:"",individualSandwiches:"",groupCollections:""}),[Fn,Gn]=reactExports.useState([]),[qn,Jn]=reactExports.useState(!1),[dr,br]=reactExports.useState(!1),[Er,yr]=reactExports.useState({collectionDate:"",hostName:"",individualSandwiches:"",groupCollections:""}),[xr,vr]=reactExports.useState([{id:Math.random().toString(36),groupName:"",sandwichCount:0}]),[nr,sr]=reactExports.useState(!1),Rr=Kn=>{const ur=Kn.group1Count||0,jr=Kn.group2Count||0;return ur+jr},Ar=Kn=>{const ur=Number(Kn.individualSandwiches||0),jr=Rr(Kn);return ur+jr};reactExports.useEffect(()=>{const Kn=()=>{An(!0)};return window.addEventListener("openCollectionForm",Kn),()=>window.removeEventListener("openCollectionForm",Kn)},[]),reactExports.useEffect(()=>{const Kn=setTimeout(()=>{console.log("Setting debounced filters:",Dn),Pn(Dn)},500);return()=>clearTimeout(Kn)},[Dn]);const Lr=reactExports.useMemo(()=>Wn||Object.values(kn).some(Kn=>Kn),[Wn,kn]),Or=reactExports.useMemo(()=>["/api/sandwich-collections",Lr?"all":Un,Lr?"all":Hn,Un,kn,Mn],[Lr,Un,Hn,kn,Mn]),{data:Zn,isLoading:Cr}=useQuery({queryKey:Or,queryFn:reactExports.useCallback(async()=>{if(Lr){console.log("Fetching all data for filtering with filters:",kn);const{data:{session:Kn}}=await supabase.auth.getSession(),ur={"Content-Type":"application/json"};Kn!=null&&Kn.access_token&&(ur.Authorization=`Bearer ${Kn.access_token}`);const jr=await fetch("/api/sandwich-collections?limit=10000",{headers:ur,credentials:"include"});if(!jr.ok)throw new Error("Failed to fetch collections");let qr=(await jr.json()).collections||[];if(console.log("Initial collections count:",qr.length),kn.hostName){const Tr=kn.hostName.toLowerCase();qr=qr.filter(Ir=>{var zr;return(zr=Ir.hostName)==null?void 0:zr.toLowerCase().includes(Tr)}),console.log(`Host name filter '${Tr}' applied: ${qr.length} results`)}if(kn.collectionDateFrom){const Tr=new Date(kn.collectionDateFrom);qr=qr.filter(Ir=>new Date(Ir.collectionDate)>=Tr),console.log(`Date from filter '${kn.collectionDateFrom}' applied: ${qr.length} results`)}if(kn.collectionDateTo){const Tr=new Date(kn.collectionDateTo);Tr.setHours(23,59,59,999),qr=qr.filter(Ir=>new Date(Ir.collectionDate)<=Tr)}if(kn.createdAtFrom){const Tr=new Date(kn.createdAtFrom);qr=qr.filter(Ir=>Ir.submittedAt&&new Date(Ir.submittedAt)>=Tr)}if(kn.createdAtTo){const Tr=new Date(kn.createdAtTo);Tr.setHours(23,59,59,999),qr=qr.filter(Ir=>Ir.submittedAt&&new Date(Ir.submittedAt)<=Tr)}qr.sort((Tr,Ir)=>{const zr=Tr[Mn.field],Wr=Ir[Mn.field];if(zr===Wr)return 0;if(zr==null)return 1;if(Wr==null)return-1;const ls=zr<Wr?-1:1;return Mn.direction==="asc"?ls:-ls});const Kr=(Un-1)*Hn,er=Kr+Hn,or=qr.slice(Kr,er);return console.log("Pagination debug:",{currentPage:Un,itemsPerPage:Hn,startIndex:Kr,endIndex:er,totalFiltered:qr.length,resultCount:or.length}),{collections:or,pagination:{currentPage:Un,totalPages:Math.ceil(qr.length/Hn),totalItems:qr.length,itemsPerPage:Hn}}}else{const{data:{session:Kn}}=await supabase.auth.getSession(),ur={"Content-Type":"application/json"};Kn!=null&&Kn.access_token&&(ur.Authorization=`Bearer ${Kn.access_token}`);const jr=`&sort=${Mn.field}&order=${Mn.direction}`,Mr=await fetch(`/api/sandwich-collections?page=${Un}&limit=${Hn}${jr}`,{headers:ur,credentials:"include"});if(!Mr.ok)throw new Error("Failed to fetch collections");return Mr.json()}},[Lr,Un,Hn,kn,Mn])}),Fr=(Zn==null?void 0:Zn.collections)||[],Pr=Zn==null?void 0:Zn.pagination,Br=(Pr==null?void 0:Pr.totalItems)||(Pr==null?void 0:Pr.total)||0,ar=(Pr==null?void 0:Pr.totalPages)||Math.ceil(Br/Hn)||1;Pr!=null&&Pr.currentPage||Pr!=null&&Pr.page,Pr!=null&&Pr.hasNext||Un<ar,Pr!=null&&Pr.hasPrev||Un>1;const{data:pr=[]}=useQuery({queryKey:["/api/hosts"]}),{data:Xn}=useQuery({queryKey:["/api/sandwich-collections/stats"],queryFn:async()=>{const{data:{session:Kn}}=await supabase.auth.getSession(),ur={"Content-Type":"application/json"};Kn!=null&&Kn.access_token&&(ur.Authorization=`Bearer ${Kn.access_token}`);const jr=await fetch("/api/sandwich-collections/stats",{headers:ur,credentials:"include"});if(!jr.ok)throw new Error("Failed to fetch stats");return jr.json()}}),$r=Fr,lr=ar,gr=$r;React$1.useEffect(()=>{Vn(1)},[Dn,Mn]);const _r=({position:Kn})=>{const jr=(()=>{const Mr=lr,qr=Un,Kr=2;let er=[];Mr>0&&er.push(1);let or=Math.max(2,qr-Kr),Tr=Math.min(Mr-1,qr+Kr);or>2&&er.push("...");for(let Ir=or;Ir<=Tr;Ir++)Ir!==1&&Ir!==Mr&&er.push(Ir);return Tr<Mr-1&&er.push("..."),Mr>1&&er.push(Mr),er})();return jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 bg-white border-t border-slate-200 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600",children:"Per page:"}),jsxRuntimeExports.jsxs(Select,{value:Hn.toString(),onValueChange:Mr=>{Ln(parseInt(Mr)),Vn(1)},children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-20 h-8",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"25",children:"25"}),jsxRuntimeExports.jsx(SelectItem,{value:"50",children:"50"}),jsxRuntimeExports.jsx(SelectItem,{value:"100",children:"100"}),jsxRuntimeExports.jsx(SelectItem,{value:"200",children:"200"})]})]})]}),lr>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Vn(Un-1),disabled:Un===1,className:"px-3 py-2 bg-white border-gray-300 hover:bg-gray-50 text-gray-700 disabled:opacity-50",children:"Previous"}),jr.map((Mr,qr)=>{if(Mr==="...")return jsxRuntimeExports.jsx("span",{className:"px-2 py-2 text-slate-400",children:"..."},`ellipsis-${qr}`);const Kr=Mr;return jsxRuntimeExports.jsx(Button,{variant:Kr===Un?"default":"outline",size:"sm",onClick:()=>Vn(Kr),className:`w-10 h-10 ${Kr===Un?"bg-blue-600 text-white":"bg-white border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:Kr},Kr)}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Vn(Un+1),disabled:Un===lr,className:"px-3 py-2 bg-white border-gray-300 hover:bg-gray-50 text-gray-700 disabled:opacity-50",children:"Next"}),Un<lr-2&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Vn(lr),disabled:Un===lr,className:"px-3 py-2 bg-white border-gray-300 hover:bg-gray-50 text-gray-700 disabled:opacity-50",children:"Last"})]})]})};Array.from(new Set(Fr.map(Kn=>Kn.hostName))).sort();const Hr=[...pr.filter(Kn=>Kn.name!=="Groups").map(Kn=>Kn.name),"Other"],Vr=Kn=>{const[ur,jr,Mr]=Kn.split("-").map(Number);return new Date(ur,jr-1,Mr).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})},ss=Kn=>new Date(Kn).toLocaleDateString("en-US",{month:"short",day:"numeric"})+" at "+new Date(Kn).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Rs=Kn=>{const ur=[],jr=Kn.group1Name,Mr=Kn.group1Count,qr=Kn.group2Name,Kr=Kn.group2Count;return jr&&Mr>0&&ur.push({groupName:jr,sandwichCount:Mr}),qr&&Kr>0&&ur.push({groupName:qr,sandwichCount:Kr}),ur},Cs=useMutation({mutationFn:async Kn=>await apiRequest("PATCH",`/api/sandwich-collections/${Kn.id}`,Kn.updates),onSuccess:(Kn,ur)=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections/stats"]}),gn(null),tn({title:"Collection Updated Successfully! ✏️",description:"Your changes have been saved and the collection data has been updated.",duration:4e3})},onError:()=>{tn({title:"Error",description:"Failed to update collection. Please try again.",variant:"destructive"})}}),Ps=useMutation({mutationFn:async Kn=>await apiRequest("DELETE",`/api/sandwich-collections/${Kn}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections/stats"]}),tn({title:"Collection Deleted Successfully 🗑️",description:"The sandwich collection record has been permanently removed from the system.",duration:4e3})},onError:Kn=>{console.error("Delete collection error:",Kn),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]});const ur=(Kn==null?void 0:Kn.message)||"Unknown error occurred";ur.includes("401")||ur.includes("Unauthorized")?tn({title:"Authentication Error",description:"Your session may have expired. Please refresh the page and try again.",variant:"destructive"}):tn({title:"Delete Error",description:"Failed to delete collection. Please refresh the page to check if it was actually deleted.",variant:"destructive"})}});useMutation({mutationFn:async Kn=>await apiRequest("POST","/api/sandwich-collections",Kn),onSuccess:(Kn,ur)=>{const jr=(ur.individualSandwiches||0)+(ur.groupSandwiches||0);queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections/stats"]}),Jn(!1),yr({collectionDate:"",hostName:"",individualSandwiches:"",groupCollections:""}),vr([{id:Math.random().toString(36),groupName:"",sandwichCount:0}]),sr(!1),tn({title:"Collection Successfully Added! 🥪",description:`Recorded ${jr} sandwiches from ${ur.hostName} on ${new Date(ur.collectionDate).toLocaleDateString()}. Thank you for your contribution!`,duration:5e3})},onError:()=>{tn({title:"Submission Failed",description:"Failed to add the collection. Please check your permissions and try again.",variant:"destructive",duration:7e3})}}),useMutation({mutationFn:async Kn=>{const ur=new FormData;ur.append("csvFile",Kn);const jr=await fetch("/api/import-collections",{method:"POST",body:ur});if(!jr.ok)throw new Error("Upload failed");return jr.json()},onSuccess:Kn=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),tn({title:"Import completed",description:`Successfully imported ${Kn.successCount} of ${Kn.totalRecords} records.`}),Kn.errorCount>0&&console.log("Import errors:",Kn.errors),un.current&&(un.current.value="")},onError:Kn=>{tn({title:"Import failed",description:Kn instanceof Error?Kn.message:"Failed to import CSV file",variant:"destructive"})}});const js=useMutation({mutationFn:async()=>apiRequest("GET","/api/sandwich-collections/analyze-duplicates"),onSuccess:Kn=>{En(Kn),yn(!0),tn({title:"Analysis complete",description:`Found ${Kn.totalDuplicateEntries} duplicate entries and ${Kn.suspiciousPatterns} suspicious patterns.`})},onError:()=>{tn({title:"Analysis failed",description:"Failed to analyze duplicates. Please try again.",variant:"destructive"})}}),ms=useMutation({mutationFn:async Kn=>apiRequest("DELETE","/api/sandwich-collections/clean-duplicates",{mode:Kn}),onSuccess:Kn=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),yn(!1),En(null),Rn(new Set),tn({title:"Cleanup completed",description:`Successfully cleaned ${Kn.deletedCount} duplicate entries.`})},onError:()=>{tn({title:"Cleanup failed",description:"Failed to clean duplicates. Please try again.",variant:"destructive"})}}),ks=useMutation({mutationFn:async Kn=>apiRequest("DELETE","/api/sandwich-collections/clean-selected",{ids:Kn}),onSuccess:Kn=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),yn(!1),En(null),Rn(new Set),tn({title:"Selected entries deleted",description:`Successfully deleted ${Kn.deletedCount} selected entries.`})},onError:()=>{tn({title:"Deletion failed",description:"Failed to delete selected entries. Please try again.",variant:"destructive"})}}),Nr=useMutation({mutationFn:async Kn=>{console.log("Batch edit request:",Kn);const{data:{session:ur}}=await supabase.auth.getSession(),jr={"Content-Type":"application/json"};ur!=null&&ur.access_token&&(jr.Authorization=`Bearer ${ur.access_token}`);const Mr=await fetch("/api/sandwich-collections/batch-edit",{headers:jr,credentials:"include",method:"PATCH",body:JSON.stringify(Kn)});if(!Mr.ok){const Kr=await Mr.json();throw console.error("Batch edit error response:",Kr),new Error(Kr.message||"Failed to update collections")}const qr=await Mr.json();return console.log("Batch edit success response:",qr),qr},onSuccess:Kn=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),wn(new Set),jn(!1),$n({hostName:"",collectionDate:""}),tn({title:"Batch edit completed",description:`Successfully updated ${Kn.updatedCount} of ${Kn.totalRequested} collections.`})},onError:Kn=>{console.error("Batch edit mutation error:",Kn),tn({title:"Batch edit failed",description:Kn.message||"Failed to update collections. Please try again.",variant:"destructive"})}}),Yr=async()=>{try{const{data:{session:Kn}}=await supabase.auth.getSession(),ur={"Content-Type":"application/json"};Kn!=null&&Kn.access_token&&(ur.Authorization=`Bearer ${Kn.access_token}`);const jr=await fetch("/api/sandwich-collections?limit=10000",{headers:ur,credentials:"include"});if(!jr.ok)throw new Error("Failed to fetch all collections");const qr=(await jr.json()).collections||[];if(qr.length===0){tn({title:"No data to export",description:"There are no collections to export.",variant:"destructive"});return}const Kr=Xr=>{const cs=Rs(Xr);return cs.length===0?"":cs.map(ys=>`${ys.groupName}: ${ys.sandwichCount}`).join("; ")},er=Xr=>Rr(Xr),or=Xr=>Ar(Xr),Ir=[["ID","Host Name","Collection Date","Individual Sandwiches","Group Sandwiches","Group Collections Detail","Total Sandwiches","Submitted At","Created By"].join(","),...qr.map(Xr=>[Xr.id,`"${Xr.hostName}"`,`"${Xr.collectionDate}"`,Xr.individualSandwiches||0,er(Xr),`"${Kr(Xr)}"`,or(Xr),`"${Xr.submittedAt?new Date(Xr.submittedAt).toLocaleString():""}"`,'"Unknown"'].join(","))].join(`
`),zr=new Blob([Ir],{type:"text/csv;charset=utf-8;"}),Wr=document.createElement("a"),ls=URL.createObjectURL(zr);Wr.setAttribute("href",ls),Wr.setAttribute("download",`sandwich-collections-complete-${new Date().toISOString().split("T")[0]}.csv`),Wr.style.visibility="hidden",document.body.appendChild(Wr),Wr.click(),document.body.removeChild(Wr),tn({title:"Export successful",description:`All ${qr.length} collections exported to CSV with complete data including group totals.`})}catch(Kn){console.error("CSV Export Error:",Kn),tn({title:"Export failed",description:"Failed to export collections data. Please try again.",variant:"destructive"})}},ps=useMutation({mutationFn:async Kn=>{const{data:{session:ur}}=await supabase.auth.getSession(),jr={"Content-Type":"application/json"};return ur!=null&&ur.access_token&&(jr.Authorization=`Bearer ${ur.access_token}`),(await fetch("/api/sandwich-collections/batch-delete",{headers:jr,credentials:"include",method:"DELETE",body:JSON.stringify({ids:Kn})})).json()},onSuccess:Kn=>{queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]}),wn(new Set),tn({title:"Batch delete completed",description:`Successfully deleted ${Kn.deletedCount} collections.`})},onError:()=>{tn({title:"Batch delete failed",description:"Failed to delete collections. Please try again.",variant:"destructive"})}}),os=Kn=>{wn(Kn?new Set($r.map(ur=>ur.id)):new Set)},$s=(Kn,ur)=>{const jr=new Set(bn);ur?jr.add(Kn):jr.delete(Kn),wn(jr)},as=()=>{if(bn.size===0){tn({title:"No collections selected",description:"Please select collections to edit.",variant:"destructive"});return}jn(!0)},_s=()=>{console.log("submitBatchEdit called with batchEditData:",Tn),console.log("selectedCollections:",Array.from(bn));const Kn={};if(Tn.hostName&&(Kn.hostName=Tn.hostName),Tn.collectionDate&&(Kn.collectionDate=Tn.collectionDate),console.log("Prepared updates:",Kn),Object.keys(Kn).length===0){console.log("No updates to apply"),tn({title:"No changes specified",description:"Please specify at least one field to update.",variant:"destructive"});return}console.log("Submitting batch edit with:",{ids:Array.from(bn),updates:Kn}),Nr.mutate({ids:Array.from(bn),updates:Kn})},Os=()=>{if(bn.size===0){tn({title:"No collections selected",description:"Please select collections to delete.",variant:"destructive"});return}confirm(`Are you sure you want to delete ${bn.size} selected collections? This action cannot be undone.`)&&ps.mutate(Array.from(bn))},Bs=Kn=>{gn(Kn),Bn({collectionDate:Kn.collectionDate,hostName:Kn.hostName,individualSandwiches:Kn.individualSandwiches.toString(),groupCollections:""});const ur=[];Kn.group1_name&&Kn.group1_count&&ur.push({id:"edit-1",groupName:Kn.group1_name,sandwichCount:Kn.group1_count}),Kn.group2Name&&Kn.group2Count&&ur.push({id:"edit-2",groupName:Kn.group2Name,sandwichCount:Kn.group2Count}),ur.length>0?Gn(ur):Gn([{id:"edit-1",groupName:"",sandwichCount:0}])},Ts=()=>{var jr,Mr,qr,Kr;if(!fn)return;const Kn=Fn.filter(er=>er.groupName.trim()&&er.sandwichCount>0),ur={collectionDate:zn.collectionDate,hostName:zn.hostName,individualSandwiches:parseInt(zn.individualSandwiches)||0,group1Name:((jr=Kn[0])==null?void 0:jr.groupName)||null,group1Count:((Mr=Kn[0])==null?void 0:Mr.sandwichCount)||null,group2Name:((qr=Kn[1])==null?void 0:qr.groupName)||null,group2Count:((Kr=Kn[1])==null?void 0:Kr.sandwichCount)||null};Cs.mutate({id:fn.id,updates:ur})},fs=()=>{if(Fn.length<2){const Kn=`edit-${Date.now()}`;Gn([...Fn,{id:Kn,groupName:"",sandwichCount:0}])}},Qr=Kn=>{Fn.length>1&&Gn(Fn.filter(ur=>ur.id!==Kn))},Ls=(Kn,ur,jr)=>{Gn(Fn.map(Mr=>Mr.id===Kn?{...Mr,[ur]:jr}:Mr))},Vs=Kn=>{confirm("Are you sure you want to delete this collection? This action cannot be undone.")&&Ps.mutate(Kn)},ba=Kn=>{On(ur=>({...ur,field:Kn})),Vn(1)},_i=()=>{On(Kn=>({...Kn,direction:Kn.direction==="asc"?"desc":"asc"})),Vn(1)},eo=Kn=>{console.log("Filter change:",Kn),Nn(ur=>{const jr={...ur,...Kn};return console.log("New search filters:",jr),jr}),Vn(1)},hr=()=>{const Kn={hostName:"",collectionDateFrom:"",collectionDateTo:"",createdAtFrom:"",createdAtTo:""};Nn(Kn),Pn(Kn),On({field:"collectionDate",direction:"desc"}),Vn(1),In(!1)};return Cr?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:jsxRuntimeExports.jsx("div",{className:"h-6 bg-slate-200 rounded animate-pulse"})}),jsxRuntimeExports.jsx("div",{className:"p-6 space-y-4",children:[1,2,3].map(Kn=>jsxRuntimeExports.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-slate-100 rounded animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-slate-100 rounded animate-pulse w-2/3"})]},Kn))})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-3 sm:px-6 py-4 border-b border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-slate-900 flex items-center",children:[jsxRuntimeExports.jsx("img",{src:squareSandwichLogo,alt:"Sandwich Logo",className:"mr-2 w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:"Collections"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"Manage collection data and bulk operations"})]}),mn&&jsxRuntimeExports.jsxs(Button,{onClick:()=>br(!0),variant:"outline",size:"sm",className:"flex items-center space-x-2 w-full sm:w-auto btn-outline-tsp h-10 text-sm",style:{borderColor:"var(--tsp-teal)",color:"var(--tsp-teal)"},children:[jsxRuntimeExports.jsx(Database,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Data Management"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Data"})]})]})}),jsxRuntimeExports.jsx("div",{className:"px-3 sm:px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[Br," entries"]}),Xn&&jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-xl sm:text-2xl font-black text-transparent bg-gradient-to-r from-amber-500 to-orange-600 bg-clip-text drop-shadow-sm",children:Xn.completeTotalSandwiches.toLocaleString()}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-amber-700 uppercase tracking-wide",children:"Total Sandwiches"})]})]}),Xn&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-8 bg-gradient-to-r from-teal-50 to-amber-50 rounded-xl py-4 px-6 border border-amber-200 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-lg sm:text-xl font-bold text-teal-700 drop-shadow-sm",children:Xn.individualSandwiches.toLocaleString()}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-teal-600 uppercase tracking-wide mt-1",children:"Individual"})]}),jsxRuntimeExports.jsx("div",{className:"w-px bg-gradient-to-b from-teal-300 to-amber-300"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-lg sm:text-xl font-bold text-orange-600 drop-shadow-sm",children:(Xn.completeTotalSandwiches-Xn.individualSandwiches).toLocaleString()}),jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-orange-600 uppercase tracking-wide mt-1",children:"Groups"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[dn&&jsxRuntimeExports.jsx(HelpBubble$1,{title:"Recording Collections",content:"Click here to submit new sandwich collection data. Fill in the host location, date, and sandwich counts to track your impact!",character:"sandy",position:"bottom",trigger:"hover",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>An(!Cn),variant:"default",size:"sm",className:"flex items-center justify-center space-x-2 w-full sm:w-auto bg-[#236383] hover:bg-[#1d5470] py-4 px-6 !text-lg sm:!text-sm min-h-[56px] sm:min-h-[40px]",children:[jsxRuntimeExports.jsx(Sandwich,{className:"w-5 h-5 sm:w-4 sm:h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Cn?"Hide Form":"Enter New Collection Data"})]})}),jsxRuntimeExports.jsx(HelpBubble$1,{title:"Filter Collections",content:"Use these filters to search and sort your collection data by date, host, or other criteria. Perfect for finding specific entries!",character:"guide",position:"bottom",trigger:"hover",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>In(!Wn),className:"flex items-center space-x-1 w-full sm:w-auto justify-center py-2.5 bg-white border-gray-300 hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Filter"})]})}),mn&&jsxRuntimeExports.jsxs(Button,{onClick:()=>br(!0),variant:"outline",size:"sm",className:"flex items-center space-x-2 w-full sm:w-auto justify-center py-2.5 bg-white border-teal-400 text-teal-600 hover:bg-teal-50",children:[jsxRuntimeExports.jsx(Database,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Data Management"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Data"})]}),bn.size>0&&mn&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 w-full mt-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:as,className:"flex items-center flex-1 justify-center py-2.5 bg-white border-gray-300 hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsxs("span",{children:["Edit (",bn.size,")"]})]}),hn&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Os,className:"flex items-center flex-1 justify-center py-2.5 text-red-600 hover:text-red-700 hover:bg-red-50 bg-white border-gray-300",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsxs("span",{children:["Delete (",bn.size,")"]})]})]})]})]})}),Cn&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(SandwichCollectionForm,{onSuccess:()=>{An(!1),queryClient.invalidateQueries({queryKey:["/api/sandwich-collections"]})}})}),Wn&&jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"hostFilter",className:"text-sm font-medium text-slate-700",children:"Host/Location Name"}),jsxRuntimeExports.jsx(Input,{id:"hostFilter",placeholder:"Search by host name...",value:Dn.hostName,onChange:Kn=>eo({hostName:Kn.target.value}),className:"mt-1"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>eo({hostName:"OG Sandwich Project"}),className:"px-3 py-1 text-xs bg-amber-100 text-amber-800 border border-amber-300 rounded-full hover:bg-amber-200 transition-colors",children:"👑 Historical OG Project"}),jsxRuntimeExports.jsx("button",{onClick:()=>eo({hostName:""}),className:"px-3 py-1 text-xs bg-slate-100 text-slate-700 border border-slate-300 rounded-full hover:bg-slate-200 transition-colors",children:"All Locations"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"collectionFromDate",className:"text-sm font-medium text-slate-700",children:"Collection Date From"}),jsxRuntimeExports.jsx(Input,{id:"collectionFromDate",type:"date",value:Dn.collectionDateFrom,onChange:Kn=>eo({collectionDateFrom:Kn.target.value}),className:"mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"collectionToDate",className:"text-sm font-medium text-slate-700",children:"Collection Date To"}),jsxRuntimeExports.jsx(Input,{id:"collectionToDate",type:"date",value:Dn.collectionDateTo,onChange:Kn=>eo({collectionDateTo:Kn.target.value}),className:"mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"createdFromDate",className:"text-sm font-medium text-slate-700",children:"Created Date From"}),jsxRuntimeExports.jsx(Input,{id:"createdFromDate",type:"date",value:Dn.createdAtFrom,onChange:Kn=>eo({createdAtFrom:Kn.target.value}),className:"mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"createdToDate",className:"text-sm font-medium text-slate-700",children:"Created Date To"}),jsxRuntimeExports.jsx(Input,{id:"createdToDate",type:"date",value:Dn.createdAtTo,onChange:Kn=>eo({createdAtTo:Kn.target.value}),className:"mt-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",(Un-1)*Hn+1,"-",Math.min(Un*Hn,Br)," of ",Br," entries"]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-slate-700",children:"Sort by:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Select,{value:Mn.field,onValueChange:Kn=>ba(Kn),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full sm:w-40",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"collectionDate",children:"Collection Date"}),jsxRuntimeExports.jsx(SelectItem,{value:"hostName",children:"Host Name"}),jsxRuntimeExports.jsx(SelectItem,{value:"individualSandwiches",children:"Sandwich Count"}),jsxRuntimeExports.jsx(SelectItem,{value:"submittedAt",children:"Created Date"})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:_i,className:"flex items-center space-x-1",children:[Mn.direction==="asc"?"↑":"↓",jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:Mn.direction==="asc"?"Asc":"Desc"})]})]})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:hr,className:"flex items-center space-x-1 w-full sm:w-auto bg-white border-gray-300 hover:bg-gray-50 text-gray-700",children:[jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Clear Filters"})]})]})]}),Br>0&&jsxRuntimeExports.jsx(_r,{position:"top"}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[gr.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4 pb-3 border-b border-slate-200",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>os(!bn.size||bn.size<$r.length),className:"flex items-center space-x-2 text-sm text-slate-600 hover:text-slate-900",children:[bn.size===$r.length?jsxRuntimeExports.jsx(SquareCheckBig,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Square,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Select All"})]}),bn.size>0&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-500",children:[bn.size," of ",$r.length," selected"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[gr.map(Kn=>{const ur=Rs(Kn),jr=Ar(Kn),Mr=bn.has(Kn.id),qr=pr.find(er=>er.name===Kn.hostName),Kr=(qr==null?void 0:qr.status)==="inactive";return jsxRuntimeExports.jsxs("div",{className:`border rounded-lg p-3 sm:p-4 ${Mr?"bg-blue-50 border-blue-200":Kr?"bg-gray-100 border-gray-400 opacity-70":"border-slate-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(pn||canEditCollection(sn,Kn))&&jsxRuntimeExports.jsx("button",{onClick:()=>$s(Kn.id,!Mr),className:"flex items-center w-4 h-4 shrink-0",children:Mr?jsxRuntimeExports.jsx(SquareCheckBig,{className:"w-4 h-4 text-blue-600"}):jsxRuntimeExports.jsx(Square,{className:"w-4 h-4 text-slate-400 hover:text-slate-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 flex-1",children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center ${Kr?"text-gray-600":"text-slate-700"}`,children:[jsxRuntimeExports.jsx(Calendar,{className:`w-4 h-4 mr-1 ${Kr?"text-gray-500":""}`}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm sm:text-base",children:Vr(Kn.collectionDate)})]}),jsxRuntimeExports.jsxs("div",{className:`flex items-center ${Kr?"text-gray-500":"text-slate-600"}`,children:[jsxRuntimeExports.jsx(User,{className:`w-4 h-4 mr-1 ${Kr?"text-gray-400":""}`}),jsxRuntimeExports.jsx("span",{className:"text-sm sm:text-base truncate max-w-[200px] sm:max-w-none",children:Kn.hostName}),Kn.hostName==="OG Sandwich Project"&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 px-2 py-0.5 rounded-full font-medium border border-amber-300 hidden sm:inline",children:"👑 HISTORICAL"}),Kr&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-gray-300 text-gray-800 px-2 py-0.5 rounded-full font-medium hidden sm:inline",children:"INACTIVE HOST"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mt-1 sm:hidden",children:[Kn.hostName==="OG Sandwich Project"&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-gradient-to-r from-amber-100 to-orange-100 text-amber-800 px-2 py-0.5 rounded-full font-medium border border-amber-300",children:"👑 HISTORICAL"}),Kr&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-gray-300 text-gray-800 px-2 py-0.5 rounded-full font-medium",children:"INACTIVE HOST"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2 ml-3 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:`text-xl sm:text-2xl font-bold ${Kr?"text-gray-700":"text-slate-900"}`,children:jr}),jsxRuntimeExports.jsx("div",{className:`text-xs ${Kr?"text-gray-500":"text-slate-500"}`,children:"total"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[canEditCollection(sn,Kn)&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Bs(Kn),className:"h-7 w-7 p-0 sm:h-8 sm:w-8 bg-white border-gray-300 hover:bg-gray-50 text-gray-700",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),canDeleteCollection(sn,Kn)&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Vs(Kn.id),className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 sm:h-8 sm:w-8 bg-white border-gray-300",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-slate-50 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 mr-2 text-slate-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Individual"})]}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-slate-900",children:Kn.individualSandwiches})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 mr-2 text-slate-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Groups"})]}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-slate-900",children:Rr(Kn)})]}),Array.isArray(ur)&&ur.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:ur.map((er,or)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs bg-white rounded px-2 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-slate-600 truncate max-w-[120px] sm:max-w-none",children:er.groupName}),jsxRuntimeExports.jsx("span",{className:"text-slate-700 font-medium ml-2",children:er.sandwichCount})]},or))}),(!Array.isArray(ur)||ur.length===0)&&jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500 italic",children:"No group collections"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-500 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1",children:jsxRuntimeExports.jsxs("span",{children:["Submitted ",ss(Kn.submittedAt),Kn.createdByName&&jsxRuntimeExports.jsxs("span",{className:"text-slate-600 font-medium ml-1",children:["by ",Kn.createdByName]})]})})})]},Kn.id)}),Fr.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-slate-500",children:"No collection entries found. Use the form above to record sandwich collections."}),Fr.length>0&&$r.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-slate-500",children:"No entries match the current filters. Try adjusting your search criteria."})]})]}),Br>0&&jsxRuntimeExports.jsx(_r,{position:"bottom"}),jsxRuntimeExports.jsx(Dialog,{open:xn,onOpenChange:yn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 mr-2 text-amber-500"}),"Duplicate Analysis Results"]})}),vn&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-slate-900",children:vn.totalCollections}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-600",children:"Total Collections"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-600",children:vn.totalDuplicateEntries}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-600",children:"Duplicate Entries"})]})]}),vn.totalDuplicateEntries>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-slate-900",children:"Exact Duplicates"}),vn.duplicates.map((Kn,ur)=>jsxRuntimeExports.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[Kn.entries[0].hostName," - ",Kn.entries[0].collectionDate]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-slate-600",children:[Kn.count," entries"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-slate-600",children:["Will keep newest entry (ID: ",Kn.keepNewest.id,") and remove ",Kn.toDelete.length," duplicates"]})]},ur))]}),vn.suspiciousPatterns>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium text-slate-900",children:["Suspicious Patterns (",vn.suspiciousPatterns,")"]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>{const Kn=new Set(vn.suspiciousEntries.map(ur=>ur.id));Rn(Sn.size===Kn.size?new Set:Kn)},className:"text-xs",children:Sn.size===vn.suspiciousEntries.length?"Deselect All":"Select All"})})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Review and select specific entries to delete. These entries have problematic host names or data entry errors."}),jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto border border-slate-200 rounded-lg",children:jsxRuntimeExports.jsx("div",{className:"space-y-1 p-2",children:vn.suspiciousEntries.map(Kn=>{const ur=Rs(Kn),jr=Ar(Kn);return jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 p-2 border border-slate-100 rounded hover:bg-slate-50",children:[jsxRuntimeExports.jsx(Checkbox,{id:`suspicious-${Kn.id}`,checked:Sn.has(Kn.id),onCheckedChange:Mr=>{const qr=new Set(Sn);Mr?qr.add(Kn.id):qr.delete(Kn.id),Rn(qr)}}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium text-sm",children:['"',Kn.hostName||"No Host",'"']}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-slate-500",children:["ID: ",Kn.id]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-slate-900",children:[jr," sandwiches"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mt-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3 inline mr-1"}),Kn.collectionDate||"No Date"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("span",{children:[Kn.individualSandwiches," individual"]}),ur.length>0&&jsxRuntimeExports.jsxs("span",{children:[ur.reduce((Mr,qr)=>Mr+(Number(qr.sandwichCount)||0),0)," group"]})]})]}),ur.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Groups: ",ur.map(Mr=>`${Mr.groupName||Mr.name}: ${Mr.sandwichCount||Mr.count}`).join(", ")]})]})]},Kn.id)})})}),Sn.size>0&&jsxRuntimeExports.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-amber-800",children:[Sn.size," entr",Sn.size===1?"y":"ies"," selected for deletion"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2 pt-4 border-t",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{yn(!1),Rn(new Set)},className:"w-full sm:w-auto",children:"Cancel"}),Sn.size>0&&jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ks.mutate(Array.from(Sn)),disabled:ks.isPending,className:"text-red-600 hover:text-red-700 border-red-300 w-full sm:w-auto",children:ks.isPending?"Deleting...":`Delete Selected (${Sn.size})`}),vn.suspiciousPatterns>0&&jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>ms.mutate("suspicious"),disabled:ms.isPending,className:"text-amber-600 hover:text-amber-700 border-amber-300 w-full sm:w-auto",children:ms.isPending?"Cleaning...":`Delete All Suspicious (${vn.suspiciousPatterns})`}),vn.totalDuplicateEntries>0&&jsxRuntimeExports.jsx(Button,{onClick:()=>ms.mutate("exact"),disabled:ms.isPending,className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",children:ms.isPending?"Cleaning...":`Clean Duplicates (${vn.totalDuplicateEntries})`})]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:!!fn,onOpenChange:Kn=>!Kn&&gn(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Collection"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-date",children:"Collection Date"}),jsxRuntimeExports.jsx(Input,{id:"edit-date",type:"date",value:zn.collectionDate,onChange:Kn=>Bn({...zn,collectionDate:Kn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-host",children:"Host Name"}),jsxRuntimeExports.jsxs(Select,{value:zn.hostName,onValueChange:Kn=>Bn({...zn,hostName:Kn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select host"})}),jsxRuntimeExports.jsx(SelectContent,{children:Hr.map(Kn=>jsxRuntimeExports.jsx(SelectItem,{value:Kn,children:Kn},Kn))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-individual",children:"Individual Sandwiches"}),jsxRuntimeExports.jsx(Input,{id:"edit-individual",type:"number",min:"0",value:zn.individualSandwiches,onChange:Kn=>Bn({...zn,individualSandwiches:Kn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Group Collections"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mt-2",children:[Fn.map(Kn=>{var ur;return jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-center",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Group name",value:Kn.groupName||"",onChange:jr=>Ls(Kn.id,"groupName",jr.target.value),className:"flex-1",required:!0}),jsxRuntimeExports.jsx(Input,{type:"number",min:"0",placeholder:"Count",value:Kn.sandwichCount===0?"":((ur=Kn.sandwichCount)==null?void 0:ur.toString())||"",onChange:jr=>{const Mr=jr.target.value;Mr===""||Mr==="0"?Ls(Kn.id,"sandwichCount",0):Ls(Kn.id,"sandwichCount",parseInt(Mr)||0)},onFocus:jr=>{jr.target.value==="0"&&(jr.target.value="")},className:"w-24"}),Fn.length>1&&jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",size:"sm",onClick:()=>Qr(Kn.id),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]},Kn.id)}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",size:"sm",onClick:fs,children:"➕ Add Another Group"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>gn(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Ts,disabled:Cs.isPending,children:Cs.isPending?"Updating...":"Update Collection"})]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:_n,onOpenChange:jn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Batch Edit Collections"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-600",children:["Editing ",bn.size," selected collections. Leave fields empty to keep existing values."]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"batch-date",children:"Collection Date"}),jsxRuntimeExports.jsx(Input,{id:"batch-date",type:"date",value:Tn.collectionDate,onChange:Kn=>$n({...Tn,collectionDate:Kn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"batch-host",children:"Host Name"}),jsxRuntimeExports.jsxs(Select,{value:Tn.hostName,onValueChange:Kn=>$n({...Tn,hostName:Kn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select host (optional)"})}),jsxRuntimeExports.jsx(SelectContent,{children:Hr.map(Kn=>jsxRuntimeExports.jsx(SelectItem,{value:Kn,children:Kn},Kn))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>jn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:_s,disabled:Nr.isPending,children:Nr.isPending?"Updating...":"Update Collections"})]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:dr,onOpenChange:br,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Data Management Center"})}),jsxRuntimeExports.jsx(BulkDataManager,{onExportCSV:Yr,onImportCSV:()=>{var Kn;return(Kn=un.current)==null?void 0:Kn.click()},onCheckDuplicates:()=>js.mutate(),onCleanOGDuplicates:()=>ms.mutate("og-duplicates")})]})})]})}function RecipientsManagement(){const{toast:tn}=useToast(),{user:sn}=useAuth(),un=hasPermission(sn,PERMISSIONS.MANAGE_RECIPIENTS),[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState(null),[bn,wn]=reactExports.useState({name:"",phone:"",email:"",address:"",preferences:"",status:"active"}),{data:Sn=[],isLoading:Rn}=useQuery({queryKey:["/api/recipients"],staleTime:5*60*1e3}),_n=useMutation({mutationFn:Mn=>apiRequest("POST","/api/recipients",Mn),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/recipients"]}),pn(!1),wn({name:"",phone:"",email:"",address:"",preferences:"",status:"active"}),tn({title:"Success",description:"Recipient added successfully"})},onError:()=>{tn({title:"Error",description:"Failed to add recipient",variant:"destructive"})}}),jn=useMutation({mutationFn:({id:Mn,...On})=>apiRequest("PUT",`/api/recipients/${Mn}`,On),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/recipients"]}),gn(null),tn({title:"Success",description:"Recipient updated successfully"})},onError:()=>{tn({title:"Error",description:"Failed to update recipient",variant:"destructive"})}}),Cn=useMutation({mutationFn:Mn=>apiRequest("DELETE",`/api/recipients/${Mn}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/recipients"]}),tn({title:"Success",description:"Recipient deleted successfully"})},onError:()=>{tn({title:"Error",description:"Failed to delete recipient",variant:"destructive"})}}),An=useMutation({mutationFn:Mn=>{const On=new FormData;return On.append("file",Mn),fetch("/api/recipients/import",{method:"POST",body:On}).then(Wn=>Wn.json())},onSuccess:Mn=>{queryClient.invalidateQueries({queryKey:["/api/recipients"]}),En(Mn),yn(null),tn({title:"Import Complete",description:`Successfully imported ${Mn.imported} recipients`})},onError:()=>{tn({title:"Import Error",description:"Failed to import recipients",variant:"destructive"})}}),Tn=Mn=>{if(Mn.preventDefault(),!bn.name||!bn.phone){tn({title:"Validation Error",description:"Name and phone are required",variant:"destructive"});return}_n.mutate(bn)},$n=Mn=>{gn(Mn)},Dn=()=>{fn&&jn.mutate(fn)},Nn=Mn=>{confirm("Are you sure you want to delete this recipient?")&&Cn.mutate(Mn)},kn=Mn=>{var Wn;const On=(Wn=Mn.target.files)==null?void 0:Wn[0];On&&(yn(On),En(null))},Pn=()=>{xn&&An.mutate(xn)};return Rn?jsxRuntimeExports.jsx("div",{className:"p-6",children:"Loading recipients..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"text-blue-500 mr-3 w-6 h-6"}),"Recipients Management"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Dialog,{open:mn,onOpenChange:hn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Import CSV/XLSX"]})}),jsxRuntimeExports.jsxs(DialogContent,{"aria-describedby":"import-recipients-description",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Import Recipients from CSV/XLSX"})}),jsxRuntimeExports.jsx("p",{id:"import-recipients-description",className:"text-sm text-slate-600 mb-4",children:"Upload a CSV or Excel file with recipient data. Required columns: name, phone. Optional: email, address, preferences, status."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"file-upload",children:"Select File"}),jsxRuntimeExports.jsx(Input,{id:"file-upload",type:"file",accept:".csv,.xlsx,.xls",onChange:kn,className:"mt-1"}),xn&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600 mt-2",children:["Selected: ",xn.name]})]}),vn&&jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-green-800",children:"Import Results"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Successfully imported ",vn.imported," recipients",vn.skipped>0&&`, skipped ${vn.skipped} duplicates`]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{hn(!1),yn(null),En(null)},children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Pn,disabled:!xn||An.isPending,children:An.isPending?"Importing...":"Import"})]})]})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:dn,onOpenChange:pn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{disabled:!un,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add Recipient"]})}),jsxRuntimeExports.jsxs(DialogContent,{"aria-describedby":"add-recipient-description",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Recipient"})}),jsxRuntimeExports.jsx("p",{id:"add-recipient-description",className:"text-sm text-slate-600 mb-4",children:"Add a new recipient to the system for sandwich deliveries."}),jsxRuntimeExports.jsxs("form",{onSubmit:Tn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:bn.name,onChange:Mn=>wn({...bn,name:Mn.target.value}),placeholder:"Enter recipient name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"phone",children:"Phone Number *"}),jsxRuntimeExports.jsx(Input,{id:"phone",value:bn.phone,onChange:Mn=>wn({...bn,phone:Mn.target.value}),placeholder:"(555) 123-4567"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:bn.email,onChange:Mn=>wn({...bn,email:Mn.target.value}),placeholder:"email@example.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"address",children:"Address"}),jsxRuntimeExports.jsx(Input,{id:"address",value:bn.address,onChange:Mn=>wn({...bn,address:Mn.target.value}),placeholder:"123 Main St, City, State 12345"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"preferences",children:"Preferences"}),jsxRuntimeExports.jsx(Input,{id:"preferences",value:bn.preferences,onChange:Mn=>wn({...bn,preferences:Mn.target.value}),placeholder:"Dietary restrictions or preferences"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>pn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:_n.isPending,children:_n.isPending?"Adding...":"Add Recipient"})]})]})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4",children:[Sn.map(Mn=>jsxRuntimeExports.jsxs(Card$1,{className:"border border-slate-200",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:Mn.name}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-1",children:jsxRuntimeExports.jsx(Badge,{variant:Mn.status==="active"?"default":"secondary",children:Mn.status})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",disabled:!un,onClick:()=>$n(Mn),children:jsxRuntimeExports.jsx(SquarePen,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",disabled:!un,onClick:()=>Nn(Mn.id),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]})]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:Mn.phone})]}),Mn.email&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:Mn.email})]}),Mn.address&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:Mn.address})]}),Mn.preferences&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-slate-600",children:[jsxRuntimeExports.jsx("strong",{children:"Preferences:"})," ",Mn.preferences]})]})]},Mn.id)),Sn.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-slate-500",children:"No recipients found. Add a new recipient to get started."})]}),fn&&jsxRuntimeExports.jsx(Dialog,{open:!!fn,onOpenChange:()=>gn(null),children:jsxRuntimeExports.jsxs(DialogContent,{"aria-describedby":"edit-recipient-description",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Recipient"})}),jsxRuntimeExports.jsx("p",{id:"edit-recipient-description",className:"text-sm text-slate-600 mb-4",children:"Update recipient information."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-name",children:"Name"}),jsxRuntimeExports.jsx(Input,{id:"edit-name",value:fn.name,onChange:Mn=>gn({...fn,name:Mn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-phone",children:"Phone"}),jsxRuntimeExports.jsx(Input,{id:"edit-phone",value:fn.phone,onChange:Mn=>gn({...fn,phone:Mn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"edit-email",type:"email",value:fn.email,onChange:Mn=>gn({...fn,email:Mn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-address",children:"Address"}),jsxRuntimeExports.jsx(Input,{id:"edit-address",value:fn.address,onChange:Mn=>gn({...fn,address:Mn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-preferences",children:"Preferences"}),jsxRuntimeExports.jsx(Input,{id:"edit-preferences",value:fn.preferences,onChange:Mn=>gn({...fn,preferences:Mn.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>gn(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Dn,disabled:jn.isPending,children:jn.isPending?"Updating...":"Update Recipient"})]})]})]})})]})}function DriversManagement(){const{toast:tn}=useToast(),{user:sn}=useAuth(),un=hasPermission(sn,PERMISSIONS.EDIT_COLLECTIONS),dn=hasPermission(sn,PERMISSIONS.EXPORT_DATA),pn=useQueryClient(),[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(!1),[xn,yn]=reactExports.useState(!1),[vn,En]=reactExports.useState(null),[bn,wn]=reactExports.useState(null),[Sn,Rn]=reactExports.useState({vanDriversOnly:!1,missingAgreementsOnly:!1,selectedZone:"all"}),[_n,jn]=reactExports.useState({name:"",phone:"",email:"",vehicleType:"",licenseNumber:"",availability:"available",zone:"",routeDescription:"",hostId:void 0}),[Cn,An]=reactExports.useState({submittedBy:"",phone:"",email:"",licenseNumber:"",vehicleInfo:"",emergencyContact:"",emergencyPhone:"",agreementAccepted:!1}),[Tn,$n]=reactExports.useState(null),{data:Dn=[],isLoading:Nn}=useQuery({queryKey:["/api/drivers"]}),{data:kn=[]}=useQuery({queryKey:["/api/hosts"]}),Pn=useMutation({mutationFn:Zn=>apiRequest("POST","/api/drivers",Zn),onSuccess:()=>{pn.invalidateQueries({queryKey:["/api/drivers"]}),jn({name:"",phone:"",email:"",vehicleType:"",licenseNumber:"",availability:"available",zone:"",routeDescription:"",hostId:void 0}),hn(!1),tn({title:"Driver added successfully"})},onError:()=>{tn({title:"Failed to add driver",variant:"destructive"})}}),Mn=useMutation({mutationFn:({id:Zn,updates:Cr})=>apiRequest("PATCH",`/api/drivers/${Zn}`,Cr),onSuccess:()=>{pn.invalidateQueries({queryKey:["/api/drivers"]}),En(null),tn({title:"Driver updated successfully"})},onError:()=>{tn({title:"Failed to update driver",variant:"destructive"})}}),On=(Zn,Cr)=>{const Fr=Cr==="signed"?`${Zn.notes||""} AGREEMENT RECEIVED`:`${Zn.notes||""} AGREEMENT MISSING`;Mn.mutate({id:Zn.id,updates:{notes:Fr}})},Wn=useMutation({mutationFn:Zn=>apiRequest("DELETE",`/api/drivers/${Zn}`),onSuccess:()=>{pn.invalidateQueries({queryKey:["/api/drivers"]}),wn(null),tn({title:"Driver deleted successfully"})},onError:()=>{tn({title:"Failed to delete driver",variant:"destructive"})}}),In=useMutation({mutationFn:async Zn=>{const Cr=new FormData;return Cr.append("agreement",Zn),apiRequest("POST","/api/driver-agreement/upload",Cr)},onSuccess:()=>{$n(null),gn(!1),tn({title:"Agreement template uploaded successfully"})},onError:()=>{tn({title:"Failed to upload agreement",variant:"destructive"})}}),Un=useMutation({mutationFn:Zn=>apiRequest("POST","/api/driver-agreement/submit",Zn),onSuccess:()=>{An({submittedBy:"",phone:"",email:"",licenseNumber:"",vehicleInfo:"",emergencyContact:"",emergencyPhone:"",agreementAccepted:!1}),yn(!1),tn({title:"Volunteer agreement submitted successfully"})},onError:()=>{tn({title:"Failed to submit volunteer agreement",variant:"destructive"})}}),Vn=useMutation({mutationFn:({driverId:Zn,status:Cr})=>{const Fr=Dn==null?void 0:Dn.find(Br=>Br.id===Zn);if(!Fr)throw new Error("Driver not found");const Pr=br(Fr.notes,Cr);return apiRequest("PATCH",`/api/drivers/${Zn}`,{notes:Pr})},onMutate:async({driverId:Zn,status:Cr})=>{await pn.cancelQueries({queryKey:["/api/drivers"]});const Fr=pn.getQueryData(["/api/drivers"]);return pn.setQueryData(["/api/drivers"],Pr=>Pr&&Pr.map(Br=>{if(Br.id===Zn){const ar=br(Br.notes,Cr);return{...Br,notes:ar}}return Br})),{previousDrivers:Fr}},onSuccess:(Zn,{status:Cr})=>{pn.invalidateQueries({queryKey:["/api/drivers"]}),tn({title:`Agreement marked as ${Cr}`,description:"Driver agreement status updated successfully"})},onError:(Zn,Cr,Fr)=>{Fr!=null&&Fr.previousDrivers&&pn.setQueryData(["/api/drivers"],Fr.previousDrivers),tn({title:"Failed to update agreement status",variant:"destructive"})},onSettled:()=>{pn.invalidateQueries({queryKey:["/api/drivers"]})}}),Hn=()=>{if(!_n.name||!_n.phone||!_n.vehicleType){tn({title:"Please fill in required fields",variant:"destructive"});return}Pn.mutate(_n)},Ln=()=>{vn&&Mn.mutate({id:vn.id,updates:vn})},zn=Zn=>{En({...Zn})},Bn=Zn=>{wn(Zn)},Fn=()=>{bn&&Wn.mutate(bn.id)},Gn=()=>{if(!Tn){tn({title:"Please select a file",variant:"destructive"});return}In.mutate(Tn)},qn=()=>{if(!Cn.submittedBy||!Cn.phone||!Cn.email||!Cn.agreementAccepted){tn({title:"Please fill in all required fields and accept the agreement",variant:"destructive"});return}Un.mutate(Cn)},Jn=Zn=>{if(!Zn)return!1;const Cr=Zn.toLowerCase();return Cr.includes("agreement: yes")||Cr.includes("agreement: signed")||Cr.includes("agreement: true")||Cr.includes("agreement received")},dr=(Zn,Cr)=>{if(!Zn)return null;const Fr=Zn.split(";").map(Pr=>Pr.trim()).filter(Pr=>{if(!Pr||Pr.toLowerCase().startsWith("area:"))return!1;const Br=Pr.toLowerCase();return!(Br.includes("agreement: yes")||Br.includes("agreement: no")||Br.includes("agreement: signed")||Br.includes("agreement received")||Br.includes("van approved"))}).map(Pr=>Pr.replace(/^notes:\s*/i,""));return Fr.length>0?Fr.join("; "):null},br=(Zn="",Cr)=>{let Fr=Zn.replace(/Agreement:\s*(yes|signed|true|no|missing|false)/gi,"").trim();Fr=Fr.replace(/[;,]\s*$/,"").trim();const Pr=`Agreement: ${Cr}`;return Fr?`${Fr}; ${Pr}`:Pr},Er=()=>{if(!Dn||Dn.length===0)return;const Cr=[["Name","Phone","Email","Zone","Active","Agreement","Van Approved","Home Address","Availability","Email Sent","Voicemail Left","Inactive Reason","Notes"].join(","),...Dn.map(Br=>{const ar=Jn(Br.notes);return[`"${Br.name}"`,`"${Br.phone||""}"`,`"${Br.email||""}"`,`"${Br.zone||""}"`,Br.isActive?"Yes":"No",ar?"Yes":"No",Br.vanApproved?"Yes":"No",`"${Br.homeAddress||""}"`,`"${Br.availabilityNotes||""}"`,Br.emailAgreementSent?"Yes":"No",Br.voicemailLeft?"Yes":"No",`"${Br.inactiveReason||""}"`,`"${Br.notes||""}"`].join(",")})].join(`
`),Fr=new Blob([Cr],{type:"text/csv;charset=utf-8;"}),Pr=document.createElement("a");if(Pr.download!==void 0){const Br=URL.createObjectURL(Fr);Pr.setAttribute("href",Br),Pr.setAttribute("download",`drivers_export_${new Date().toISOString().split("T")[0]}.csv`),Pr.style.visibility="hidden",document.body.appendChild(Pr),Pr.click(),document.body.removeChild(Pr)}tn({title:"Export Complete",description:`Exported ${Dn.length} drivers to CSV file`})},yr=Zn=>Zn.filter(Cr=>!(Sn.vanDriversOnly&&!Cr.vanApproved||Sn.missingAgreementsOnly&&Jn(Cr.notes)||Sn.selectedZone!=="all"&&Cr.zone!==Sn.selectedZone)),xr=[];Dn.forEach(Zn=>{Zn.zone&&!xr.includes(Zn.zone)&&xr.push(Zn.zone)});const vr=xr.sort(),nr=Dn.filter(Zn=>Zn.isActive).sort((Zn,Cr)=>Zn.name.localeCompare(Cr.name)),sr=Dn.filter(Zn=>!Zn.isActive).sort((Zn,Cr)=>Zn.name.localeCompare(Cr.name)),Rr=yr(nr),Ar=yr(sr),Lr=()=>{Rn({vanDriversOnly:!1,missingAgreementsOnly:!1,selectedZone:"all"})},Or=Sn.vanDriversOnly||Sn.missingAgreementsOnly||Sn.selectedZone!=="all";return Nn?jsxRuntimeExports.jsx("div",{className:"p-6",children:"Loading drivers..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 flex items-center",children:[jsxRuntimeExports.jsx(Car,{className:"text-blue-500 mr-2 sm:mr-3 w-5 h-5 sm:w-6 sm:h-6"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Drivers Management"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Drivers"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:Er,disabled:!dn||!Dn||Dn.length===0,className:"text-xs sm:text-sm",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Export"})]}),jsxRuntimeExports.jsxs(Dialog,{open:fn,onOpenChange:gn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{disabled:!un,variant:"outline",className:"flex items-center gap-2 text-xs sm:text-sm",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Upload Agreement"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Upload"})]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Upload Driver Agreement Template"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"agreement-file",children:"Agreement PDF"}),jsxRuntimeExports.jsx(Input,{id:"agreement-file",type:"file",accept:".pdf",onChange:Zn=>{var Cr;return $n(((Cr=Zn.target.files)==null?void 0:Cr[0])||null)}})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>gn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Gn,disabled:In.isPending,children:In.isPending?"Uploading...":"Upload"})]})]})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:xn,onOpenChange:yn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{disabled:!un,variant:"outline",className:"flex items-center gap-2 text-xs sm:text-sm",children:[jsxRuntimeExports.jsx(Send$c,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden lg:inline",children:"Submit Volunteer Agreement"}),jsxRuntimeExports.jsx("span",{className:"lg:hidden hidden sm:inline",children:"Submit Agreement"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Submit"})]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Submit Volunteer Driver Agreement"})}),jsxRuntimeExports.jsxs("form",{className:"space-y-4",onSubmit:Zn=>{Zn.preventDefault(),qn()},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"volunteer-name",children:"Full Name *"}),jsxRuntimeExports.jsx(Input,{id:"volunteer-name",value:Cn.submittedBy,onChange:Zn=>An({...Cn,submittedBy:Zn.target.value}),placeholder:"Enter your full name",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"volunteer-phone",children:"Phone Number *"}),jsxRuntimeExports.jsx(Input,{id:"volunteer-phone",value:Cn.phone,onChange:Zn=>An({...Cn,phone:Zn.target.value}),placeholder:"(555) 123-4567",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"volunteer-email",children:"Email Address *"}),jsxRuntimeExports.jsx(Input,{id:"volunteer-email",type:"email",value:Cn.email,onChange:Zn=>An({...Cn,email:Zn.target.value}),placeholder:"email@example.com",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"volunteer-license",children:"Driver's License Number"}),jsxRuntimeExports.jsx(Input,{id:"volunteer-license",value:Cn.licenseNumber,onChange:Zn=>An({...Cn,licenseNumber:Zn.target.value}),placeholder:"License number"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"volunteer-vehicle",children:"Vehicle Information"}),jsxRuntimeExports.jsx(Input,{id:"volunteer-vehicle",value:Cn.vehicleInfo,onChange:Zn=>An({...Cn,vehicleInfo:Zn.target.value}),placeholder:"Year, Make, Model, Color"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"emergency-contact",children:"Emergency Contact Name"}),jsxRuntimeExports.jsx(Input,{id:"emergency-contact",value:Cn.emergencyContact,onChange:Zn=>An({...Cn,emergencyContact:Zn.target.value}),placeholder:"Emergency contact name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"emergency-phone",children:"Emergency Contact Phone"}),jsxRuntimeExports.jsx(Input,{id:"emergency-phone",value:Cn.emergencyPhone,onChange:Zn=>An({...Cn,emergencyPhone:Zn.target.value}),placeholder:"Emergency contact phone"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"agreement-accepted",checked:Cn.agreementAccepted,onChange:Zn=>An({...Cn,agreementAccepted:Zn.target.checked}),required:!0}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"agreement-accepted",className:"text-sm",children:"I have read and agree to the volunteer driver agreement terms *"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>yn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:Un.isPending,children:Un.isPending?"Submitting...":"Submit Agreement"})]})]})]})]}),jsxRuntimeExports.jsxs(Dialog,{open:mn,onOpenChange:hn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{disabled:!un,className:"flex items-center gap-2 text-xs sm:text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Add Driver"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Add"})]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Driver"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Driver Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:_n.name,onChange:Zn=>jn({..._n,name:Zn.target.value}),placeholder:"Enter driver name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"phone",children:"Phone Number *"}),jsxRuntimeExports.jsx(Input,{id:"phone",value:_n.phone,onChange:Zn=>jn({..._n,phone:Zn.target.value}),placeholder:"(555) 123-4567"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:_n.email,onChange:Zn=>jn({..._n,email:Zn.target.value}),placeholder:"email@example.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"vehicle-type",children:"Vehicle Type *"}),jsxRuntimeExports.jsxs(Select,{value:_n.vehicleType,onValueChange:Zn=>jn({..._n,vehicleType:Zn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select vehicle type"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Car",children:"Car"}),jsxRuntimeExports.jsx(SelectItem,{value:"Van",children:"Van"}),jsxRuntimeExports.jsx(SelectItem,{value:"Truck",children:"Truck"}),jsxRuntimeExports.jsx(SelectItem,{value:"Motorcycle",children:"Motorcycle"}),jsxRuntimeExports.jsx(SelectItem,{value:"Bicycle",children:"Bicycle"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"license",children:"License Number"}),jsxRuntimeExports.jsx(Input,{id:"license",value:_n.licenseNumber,onChange:Zn=>jn({..._n,licenseNumber:Zn.target.value}),placeholder:"License number"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"host",children:"Host Location"}),jsxRuntimeExports.jsxs(Select,{value:_n.hostId?_n.hostId.toString():"none",onValueChange:Zn=>jn({..._n,hostId:Zn==="none"?void 0:parseInt(Zn)}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a host location"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"No host assigned"}),kn.filter(Zn=>Zn.status==="active").map(Zn=>jsxRuntimeExports.jsx(SelectItem,{value:Zn.id.toString(),children:Zn.name},Zn.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"route-description",children:"Route Description"}),jsxRuntimeExports.jsx(Input,{id:"route-description",value:_n.routeDescription||"",onChange:Zn=>jn({..._n,routeDescription:Zn.target.value}),placeholder:"e.g., SS to Dunwoody, East Cobb to anywhere"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>hn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Hn,disabled:Pn.isPending,children:Pn.isPending?"Adding...":"Add Driver"})]})]})]})]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4 text-slate-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Filters:"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"van-drivers",checked:Sn.vanDriversOnly,onChange:Zn=>Rn(Cr=>({...Cr,vanDriversOnly:Zn.target.checked})),className:"rounded border-slate-300"}),jsxRuntimeExports.jsx("label",{htmlFor:"van-drivers",className:"text-sm text-slate-600 cursor-pointer",children:"Van Drivers Only"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"missing-agreements",checked:Sn.missingAgreementsOnly,onChange:Zn=>Rn(Cr=>({...Cr,missingAgreementsOnly:Zn.target.checked})),className:"rounded border-slate-300"}),jsxRuntimeExports.jsx("label",{htmlFor:"missing-agreements",className:"text-sm text-slate-600 cursor-pointer",children:"Missing Agreements Only"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"zone-filter",className:"text-sm text-slate-600",children:"Zone:"}),jsxRuntimeExports.jsxs(Select,{value:Sn.selectedZone,onValueChange:Zn=>Rn(Cr=>({...Cr,selectedZone:Zn})),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-40",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Zones"}),vr.map(Zn=>jsxRuntimeExports.jsx(SelectItem,{value:Zn,children:Zn},Zn))]})]})]}),Or&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Lr,className:"flex items-center gap-1 text-slate-600",children:[jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"}),"Clear Filters"]})]}),Or&&jsxRuntimeExports.jsxs("div",{className:"mt-3 text-sm text-slate-500",children:["Showing ",Rr.length," active and ",Ar.length," ","inactive drivers",Sn.vanDriversOnly&&" (van drivers only)",Sn.missingAgreementsOnly&&" (missing agreements only)",Sn.selectedZone!=="all"&&` (${Sn.selectedZone} zone)`]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"active",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"active",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),"Active Drivers (",Rr.length,")"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"inactive",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-4 h-4"}),"Inactive Drivers (",Ar.length,")"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"active",className:"mt-6",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:Rr.map(Zn=>{var Cr;return jsxRuntimeExports.jsxs(Card$1,{className:"border border-slate-200",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:Zn.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[jsxRuntimeExports.jsxs(Badge,{variant:"default",className:"bg-green-100 text-green-800 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"}),"Active"]}),Zn.vanApproved&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Truck,{className:"w-3 h-3"}),"Van Driver"]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs("button",{disabled:!un||Vn.isPending,className:`cursor-pointer transition-all duration-200 hover:shadow-sm flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-semibold
                                ${Jn(Zn.notes)?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100"}
                                ${un?"":"cursor-not-allowed opacity-50"}
                                ${Vn.isPending?"animate-pulse":""}`,children:[Vn.isPending?jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 animate-spin"}):Jn(Zn.notes)?jsxRuntimeExports.jsx(FileCheck,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(TriangleAlert,{className:"w-3 h-3"}),Jn(Zn.notes)?"Signed Agreement":"Missing Agreement"]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{children:[jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>On(Zn,"signed"),children:"Mark as Signed"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>On(Zn,"missing"),children:"Mark as Missing"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 shrink-0 self-start",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>zn(Zn),className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden xs:inline",children:"Edit"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>Bn(Zn),className:"flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden xs:inline",children:"Delete"})]})]})]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"pt-0",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600",children:[Zn.phone&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),Zn.phone]}),Zn.email&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),Zn.email]})]}),Zn.availabilityNotes&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Availability:"})," ",Zn.availabilityNotes]})]})}),Zn.homeAddress&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Zn.homeAddress]})]})}),Zn.routeDescription&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Route:"})," ",Zn.routeDescription]})]})}),Zn.hostId&&kn.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Host:"})," ",((Cr=kn.find(Fr=>Fr.id===Zn.hostId))==null?void 0:Cr.name)||"Unknown"]})]})}),dr(Zn.notes,Zn.zone)&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(FileCheck,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Notes:"})," ",dr(Zn.notes,Zn.zone)]})]})})]})]},Zn.id)})})}),jsxRuntimeExports.jsx(TabsContent,{value:"inactive",className:"mt-6",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:Ar.map(Zn=>{var Cr;return jsxRuntimeExports.jsxs(Card$1,{className:"border border-slate-200",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:Zn.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"bg-gray-100 text-gray-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-3 h-3"}),"Inactive"]}),Zn.vanApproved&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Truck,{className:"w-3 h-3"}),"Van Driver"]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs("button",{disabled:!un||Vn.isPending,className:`cursor-pointer transition-all duration-200 hover:shadow-sm flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-semibold
                                ${Jn(Zn.notes)?"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100":"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100"}
                                ${un?"":"cursor-not-allowed opacity-50"}
                                ${Vn.isPending?"animate-pulse":""}`,children:[Vn.isPending?jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 animate-spin"}):Jn(Zn.notes)?jsxRuntimeExports.jsx(FileCheck,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(TriangleAlert,{className:"w-3 h-3"}),Jn(Zn.notes)?"Signed Agreement":"Missing Agreement"]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>Vn.mutate({driverId:Zn.id,status:"signed"}),disabled:Vn.isPending,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileCheck,{className:"w-4 h-4 text-blue-600"}),"✅ Mark as Signed"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>Vn.mutate({driverId:Zn.id,status:"missing"}),disabled:Vn.isPending,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 text-orange-600"}),"❌ Mark as Missing"]})]})]}),Zn.inactiveReason&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-gray-50 text-gray-600 border-gray-200 flex items-center gap-1",children:Zn.inactiveReason})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 shrink-0 self-start",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>zn(Zn),className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden xs:inline",children:"Edit"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>Bn(Zn),className:"flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden xs:inline",children:"Delete"})]})]})]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"pt-0",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-slate-600",children:[Zn.phone&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),Zn.phone]}),Zn.email&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),Zn.email]})]}),Zn.availabilityNotes&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Availability:"})," ",Zn.availabilityNotes]})]})}),Zn.homeAddress&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Zn.homeAddress]})]})}),Zn.routeDescription&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Route:"})," ",Zn.routeDescription]})]})}),Zn.hostId&&kn.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Truck,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Host:"})," ",((Cr=kn.find(Fr=>Fr.id===Zn.hostId))==null?void 0:Cr.name)||"Unknown"]})]})}),dr(Zn.notes,Zn.zone)&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[jsxRuntimeExports.jsx(FileCheck,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"Notes:"})," ",dr(Zn.notes,Zn.zone)]})]})})]})]},Zn.id)})})})]}),vn&&jsxRuntimeExports.jsx(Dialog,{open:!!vn,onOpenChange:()=>En(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Driver"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-name",children:"Driver Name *"}),jsxRuntimeExports.jsx(Input,{id:"edit-name",value:vn.name??"",onChange:Zn=>En({...vn,name:Zn.target.value}),placeholder:"Full name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-phone",children:"Phone Number *"}),jsxRuntimeExports.jsx(Input,{id:"edit-phone",value:vn.phone??"",onChange:Zn=>En({...vn,phone:Zn.target.value}),placeholder:"(555) 123-4567"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-email",children:"Email Address"}),jsxRuntimeExports.jsx(Input,{id:"edit-email",type:"email",value:vn.email??"",onChange:Zn=>En({...vn,email:Zn.target.value}),placeholder:"email@example.com"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-status",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:vn.isActive?"active":"inactive",onValueChange:Zn=>En({...vn,isActive:Zn==="active"}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(SelectItem,{value:"inactive",children:"Inactive"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-van-approved",children:"Van Driver Status"}),jsxRuntimeExports.jsxs(Select,{value:vn.vanApproved?"approved":"not_approved",onValueChange:Zn=>En({...vn,vanApproved:Zn==="approved"}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"approved",children:"Van Driver Approved"}),jsxRuntimeExports.jsx(SelectItem,{value:"not_approved",children:"Not Van Approved"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-agreement",children:"Agreement Status"}),jsxRuntimeExports.jsxs(Select,{value:Jn(vn.notes)?"signed":"missing",onValueChange:Zn=>{let Cr=vn.notes||"";Cr=Cr.replace(/agreement:\s*(yes|no|signed|missing|true|false)/gi,"").replace(/\s+/g," ").trim(),Zn==="signed"?Cr=Cr?`${Cr} Agreement: signed`:"Agreement: signed":Cr=Cr?`${Cr} Agreement: missing`:"Agreement: missing",En({...vn,notes:Cr.trim(),emailAgreementSent:Zn==="signed"})},children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"signed",children:"Signed Agreement"}),jsxRuntimeExports.jsx(SelectItem,{value:"missing",children:"Missing Agreement"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-availability-notes",children:"Availability Notes"}),jsxRuntimeExports.jsx(Input,{id:"edit-availability-notes",value:vn.availabilityNotes??"",onChange:Zn=>En({...vn,availabilityNotes:Zn.target.value}),placeholder:"e.g., M-F after 3; weekends; unavailable until June"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-route-description",children:"Route Description"}),jsxRuntimeExports.jsx(Input,{id:"edit-route-description",value:vn.routeDescription??vn.zone??"",onChange:Zn=>En({...vn,routeDescription:Zn.target.value}),placeholder:"e.g., SS to Dunwoody, East Cobb to anywhere"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-host",children:"Associated Host/Organization"}),jsxRuntimeExports.jsxs(Select,{value:vn.hostId?vn.hostId.toString():"none",onValueChange:Zn=>En({...vn,hostId:Zn==="none"?void 0:parseInt(Zn)}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select host for directory connection"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"No host assigned"}),kn==null?void 0:kn.filter(Zn=>Zn.status==="active").map(Zn=>jsxRuntimeExports.jsx(SelectItem,{value:Zn.id.toString(),children:Zn.name},Zn.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-home-address",children:"Home Address"}),jsxRuntimeExports.jsx(Input,{id:"edit-home-address",value:vn.homeAddress??"",onChange:Zn=>En({...vn,homeAddress:Zn.target.value}),placeholder:"Full home address"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-notes",children:"Additional Notes"}),jsxRuntimeExports.jsx("textarea",{id:"edit-notes",className:"w-full p-2 border border-gray-300 rounded-md",rows:3,value:vn.notes??"",onChange:Zn=>En({...vn,notes:Zn.target.value}),placeholder:"Additional information, special instructions, etc."})]}),!vn.isActive&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-inactive-reason",children:"Inactive Reason"}),jsxRuntimeExports.jsx(Input,{id:"edit-inactive-reason",value:vn.inactiveReason??"",onChange:Zn=>En({...vn,inactiveReason:Zn.target.value}),placeholder:"Reason for inactive status"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>En(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Ln,disabled:Mn.isPending,children:Mn.isPending?"Updating...":"Update Driver"})]})]})]})}),bn&&jsxRuntimeExports.jsx(Dialog,{open:!!bn,onOpenChange:()=>wn(null),children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Delete Driver"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to permanently delete"," ",jsxRuntimeExports.jsx("strong",{children:bn.name}),"? This action cannot be undone."]}),jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:jsxRuntimeExports.jsxs("p",{className:"text-red-800 text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Warning:"})," This will permanently remove all driver information including contact details, route assignments, and availability data."]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>wn(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{variant:"destructive",onClick:Fn,disabled:Wn.isPending,children:Wn.isPending?"Deleting...":"Delete Driver"})]})]})]})})]})}var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((tn,sn)=>{const{__scopeSwitch:un,name:dn,checked:pn,defaultChecked:mn,required:hn,disabled:fn,value:gn="on",onCheckedChange:xn,form:yn,...vn}=tn,[En,bn]=reactExports.useState(null),wn=useComposedRefs(sn,Cn=>bn(Cn)),Sn=reactExports.useRef(!1),Rn=En?yn||!!En.closest("form"):!0,[_n,jn]=useControllableState({prop:pn,defaultProp:mn??!1,onChange:xn,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:un,checked:_n,disabled:fn,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":_n,"aria-required":hn,"data-state":getState(_n),"data-disabled":fn?"":void 0,disabled:fn,value:gn,...vn,ref:wn,onClick:composeEventHandlers$1(tn.onClick,Cn=>{jn(An=>!An),Rn&&(Sn.current=Cn.isPropagationStopped(),Sn.current||Cn.stopPropagation())})}),Rn&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:En,bubbles:!Sn.current,name:dn,value:gn,checked:_n,required:hn,disabled:fn,form:yn,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME$1="SwitchThumb",SwitchThumb=reactExports.forwardRef((tn,sn)=>{const{__scopeSwitch:un,...dn}=tn,pn=useSwitchContext(THUMB_NAME$1,un);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(pn.checked),"data-disabled":pn.disabled?"":void 0,...dn,ref:sn})});SwitchThumb.displayName=THUMB_NAME$1;var BUBBLE_INPUT_NAME="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:tn,control:sn,checked:un,bubbles:dn=!0,...pn},mn)=>{const hn=reactExports.useRef(null),fn=useComposedRefs(hn,mn),gn=usePrevious(un),xn=useSize(sn);return reactExports.useEffect(()=>{const yn=hn.current;if(!yn)return;const vn=window.HTMLInputElement.prototype,bn=Object.getOwnPropertyDescriptor(vn,"checked").set;if(gn!==un&&bn){const wn=new Event("click",{bubbles:dn});bn.call(yn,un),yn.dispatchEvent(wn)}},[gn,un,dn]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:un,...pn,tabIndex:-1,ref:fn,style:{...pn.style,...xn,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState(tn){return tn?"checked":"unchecked"}var Root$2=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx(Root$2,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",tn),...sn,ref:un,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=Root$2.displayName;function HostsManagementConsolidated(){const{toast:tn}=useToast(),{user:sn}=useAuth(),un=hasPermission(sn,PERMISSIONS.EDIT_ALL_COLLECTIONS),[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState(null),[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(!1),[vn,En]=reactExports.useState(null),[bn,wn]=reactExports.useState(new Set),Sn=qn=>[...qn].sort((Jn,dr)=>Jn.role==="lead"&&dr.role!=="lead"?-1:dr.role==="lead"&&Jn.role!=="lead"?1:Jn.isPrimary&&!dr.isPrimary?-1:dr.isPrimary&&!Jn.isPrimary?1:Jn.role==="primary"&&dr.role!=="primary"?-1:dr.role==="primary"&&Jn.role!=="primary"?1:Jn.name.localeCompare(dr.name)),Rn=qn=>{wn(Jn=>{const dr=new Set(Jn);return dr.has(qn)?dr.delete(qn):dr.add(qn),dr})},[_n,jn]=reactExports.useState({name:"",address:"",status:"active",notes:""}),[Cn,An]=reactExports.useState({name:"",role:"",phone:"",email:"",isPrimary:!1,notes:""}),{data:Tn=[],isLoading:$n}=useQuery({queryKey:["/api/hosts-with-contacts"]}),Dn=useMutation({mutationFn:async qn=>await apiRequest("POST","/api/hosts",qn),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts-with-contacts"]}),jn({name:"",address:"",status:"active",notes:""}),pn(!1),tn({title:"Host added",description:"New host has been added successfully."})},onError:qn=>{tn({title:"Error",description:`Failed to add host: ${qn.message}`,variant:"destructive"})}}),Nn=useMutation({mutationFn:async qn=>await apiRequest("PATCH",`/api/hosts/${qn.id}`,qn.updates),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts-with-contacts"]}),hn(null),tn({title:"Host updated",description:"Host has been updated successfully."})},onError:qn=>{tn({title:"Error",description:`Failed to update host: ${qn.message}`,variant:"destructive"})}}),kn=useMutation({mutationFn:async qn=>await apiRequest("DELETE",`/api/hosts/${qn}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts-with-contacts"]}),queryClient.invalidateQueries({queryKey:["/api/hosts"]}),tn({title:"Host deleted",description:"Host has been deleted successfully."})},onError:qn=>{const Jn=(qn==null?void 0:qn.message)||"Failed to delete host";tn({title:"Cannot delete host",description:Jn,variant:"destructive"})}}),Pn=useMutation({mutationFn:async qn=>await apiRequest("POST","/api/host-contacts",qn),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts-with-contacts"]}),An({name:"",role:"",phone:"",email:"",isPrimary:!1,notes:""}),yn(!1),tn({title:"Contact added",description:"New contact has been added successfully."})},onError:qn=>{tn({title:"Error",description:`Failed to add contact: ${qn.message}`,variant:"destructive"})}}),Mn=useMutation({mutationFn:async qn=>await apiRequest("PATCH",`/api/host-contacts/${qn.id}`,qn.updates),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts-with-contacts"]}),En(null),tn({title:"Contact updated",description:"Contact has been updated successfully."})},onError:qn=>{tn({title:"Error",description:`Failed to update contact: ${qn.message}`,variant:"destructive"})}}),On=useMutation({mutationFn:async qn=>await apiRequest("DELETE",`/api/host-contacts/${qn}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/hosts-with-contacts"]}),tn({title:"Contact deleted",description:"Contact has been deleted successfully."})},onError:qn=>{tn({title:"Error",description:`Failed to delete contact: ${qn.message}`,variant:"destructive"})}}),Wn=()=>{_n.name.trim()&&Dn.mutate(_n)},In=()=>{mn&&Nn.mutate({id:mn.id,updates:{name:mn.name,address:mn.address,status:mn.status,notes:mn.notes}})},Un=qn=>{confirm("Are you sure you want to delete this host? This will also delete all associated contacts.")&&kn.mutate(qn)},Vn=()=>{!fn||!Cn.name.trim()||!Cn.phone.trim()||Pn.mutate({...Cn,hostId:fn.id})},Hn=()=>{vn&&Mn.mutate({id:vn.id,updates:vn})},Ln=qn=>{confirm("Are you sure you want to delete this contact?")&&On.mutate(qn)},zn=({role:qn})=>qn.toLowerCase()==="lead"?jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:jsxRuntimeExports.jsxs(Badge,{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white font-semibold shadow-md border-0 flex items-center gap-1 px-2 py-1",children:[jsxRuntimeExports.jsx(Crown,{className:"w-3 h-3"}),"LEAD"]})}):jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:qn});if($n)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"text-slate-600",children:"Loading hosts..."})});const Bn=Tn.filter(qn=>qn.status==="active"),Fn=Tn.filter(qn=>qn.status==="inactive"),Gn=({hostList:qn})=>jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:qn.map(Jn=>jsxRuntimeExports.jsxs(Card$1,{className:`hover:shadow-md transition-shadow ${Jn.status==="inactive"?"bg-gray-100 border-gray-400 opacity-70":""}`,children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Building2,{className:`w-5 h-5 ${Jn.status==="inactive"?"text-gray-400":"text-slate-600"}`}),jsxRuntimeExports.jsx(CardTitle,{className:`text-base ${Jn.status==="inactive"?"text-gray-600":""}`,children:Jn.name})]}),jsxRuntimeExports.jsx(Badge,{variant:Jn.status==="active"?"default":"secondary",className:Jn.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:Jn.status})]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-3",children:[Jn.address&&jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Jn.address})]}),Jn.contacts&&Jn.contacts.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-slate-700",children:"Contacts:"}),(()=>{const dr=Sn(Jn.contacts),br=bn.has(Jn.id),Er=br?dr:dr.slice(0,2);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Er.map(yr=>jsxRuntimeExports.jsxs("div",{className:"space-y-1 border-l-2 border-blue-200 pl-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-700",children:yr.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[yr.role==="lead"&&jsxRuntimeExports.jsx(Crown,{className:"w-3 h-3 text-purple-600 fill-current"}),yr.isPrimary&&jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 text-yellow-500 fill-current"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx(zn,{role:yr.role})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[jsxRuntimeExports.jsx(Phone,{className:"w-3 h-3 mr-1"}),yr.phone]}),yr.email&&jsxRuntimeExports.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[jsxRuntimeExports.jsx(Mail,{className:"w-3 h-3 mr-1"}),yr.email]})]},yr.id)),dr.length>2&&jsxRuntimeExports.jsx("button",{onClick:()=>Rn(Jn.id),className:"text-xs text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",children:br?"Show less":`+${dr.length-2} more contacts`})]})})()]}),Jn.notes&&jsxRuntimeExports.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 mr-2 mt-0.5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:Jn.notes})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>gn(Jn),className:"w-full",children:[jsxRuntimeExports.jsx(Users,{className:"w-3 h-3 mr-1"}),"View Details"]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Dialog,{open:(mn==null?void 0:mn.id)===Jn.id,onOpenChange:dr=>!dr&&hn(null),children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>hn(Jn),className:"flex-1",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-3 h-3 mr-1"}),"Edit"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-md sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{className:"text-lg sm:text-xl",children:"Edit Host"})}),mn&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-name",children:"Name *"}),jsxRuntimeExports.jsx(Input,{id:"edit-name",value:mn.name,onChange:dr=>hn({...mn,name:dr.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-address",children:"Host Location"}),jsxRuntimeExports.jsx(Input,{id:"edit-address",value:mn.address||"",onChange:dr=>hn({...mn,address:dr.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-status",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:mn.status,onValueChange:dr=>hn({...mn,status:dr}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(SelectItem,{value:"inactive",children:"Inactive"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-notes",children:"Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"edit-notes",value:mn.notes||"",onChange:dr=>hn({...mn,notes:dr.target.value}),rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>hn(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:In,disabled:!mn.name.trim()||Nn.isPending,children:Nn.isPending?"Updating...":"Update Host"})]})]})]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>Un(Jn.id),className:"flex-1 text-red-600 hover:text-red-700",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})]})]},Jn.id))});return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center",children:[jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 mr-2"}),"Host Management"]}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 mt-1",children:"Manage collection hosts and their contact information"})]}),jsxRuntimeExports.jsxs(Dialog,{open:dn,onOpenChange:pn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{disabled:!un,children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Host"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-md sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{className:"text-lg sm:text-xl",children:"Add New Host"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Host Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:_n.name,onChange:qn=>jn({..._n,name:qn.target.value}),placeholder:"Enter host location name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"address",children:"Host Location"}),jsxRuntimeExports.jsx(Input,{id:"address",value:_n.address||"",onChange:qn=>jn({..._n,address:qn.target.value}),placeholder:"Enter host location"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"status",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:_n.status,onValueChange:qn=>jn({..._n,status:qn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(SelectItem,{value:"inactive",children:"Inactive"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"notes",children:"Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"notes",value:_n.notes||"",onChange:qn=>jn({..._n,notes:qn.target.value}),placeholder:"Enter any additional notes",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>pn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Wn,disabled:!_n.name.trim()||Dn.isPending,children:Dn.isPending?"Adding...":"Add Host"})]})]})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"active",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"active",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4"}),"Active Locations (",Bn.length,")"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"inactive",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4"}),"Inactive Locations (",Fn.length,")"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"active",className:"mt-6",children:Bn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Building2,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No active hosts found"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Add a new host to get started."})]}):jsxRuntimeExports.jsx(Gn,{hostList:Bn})}),jsxRuntimeExports.jsx(TabsContent,{value:"inactive",className:"mt-6",children:Fn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No inactive hosts"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"All host locations are currently active."})]}):jsxRuntimeExports.jsx(Gn,{hostList:Fn})})]}),jsxRuntimeExports.jsx(Dialog,{open:!!fn,onOpenChange:qn=>!qn&&gn(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 mr-2"}),fn==null?void 0:fn.name]})}),fn&&jsxRuntimeExports.jsxs(Tabs,{defaultValue:"contacts",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"contacts",children:"Contacts"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"details",children:"Details"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"contacts",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold",children:["Contacts for ",fn.name]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600",children:"Manage contact information for this host"})]}),jsxRuntimeExports.jsxs(Dialog,{open:xn,onOpenChange:yn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"sm",disabled:!un,children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"Add Contact"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Add New Contact"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"contact-name",children:"Name *"}),jsxRuntimeExports.jsx(Input,{id:"contact-name",value:Cn.name,onChange:qn=>An({...Cn,name:qn.target.value}),placeholder:"Enter contact name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"contact-role",children:"Role"}),jsxRuntimeExports.jsx(Input,{id:"contact-role",value:Cn.role,onChange:qn=>An({...Cn,role:qn.target.value}),placeholder:"e.g., Manager, Coordinator, Volunteer"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"contact-phone",children:"Phone *"}),jsxRuntimeExports.jsx(Input,{id:"contact-phone",value:Cn.phone,onChange:qn=>An({...Cn,phone:qn.target.value}),placeholder:"Enter phone number"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"contact-email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"contact-email",type:"email",value:Cn.email,onChange:qn=>An({...Cn,email:qn.target.value}),placeholder:"Enter email address"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"contact-primary",checked:Cn.isPrimary,onCheckedChange:qn=>An({...Cn,isPrimary:qn})}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"contact-primary",children:"Primary Contact"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"contact-notes",children:"Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"contact-notes",value:Cn.notes,onChange:qn=>An({...Cn,notes:qn.target.value}),placeholder:"Additional notes",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>yn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Vn,disabled:!Cn.name.trim()||!Cn.phone.trim()||Pn.isPending,children:Pn.isPending?"Adding...":"Add Contact"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Sn(fn.contacts).map(qn=>jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:qn.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1",children:[qn.role==="lead"&&jsxRuntimeExports.jsx(Crown,{className:"w-3 h-3 text-purple-600 fill-current"}),qn.isPrimary&&jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 text-yellow-500 fill-current"})]})]}),jsxRuntimeExports.jsx(zn,{role:qn.role}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 mr-2"}),qn.phone]}),qn.email&&jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 mr-2"}),qn.email]}),qn.notes&&jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 mt-2",children:qn.notes})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsxs(Dialog,{open:(vn==null?void 0:vn.id)===qn.id,onOpenChange:Jn=>!Jn&&En(null),children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>En(qn),children:jsxRuntimeExports.jsx(SquarePen,{className:"w-3 h-3"})})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Contact"})}),vn&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-contact-name",children:"Name *"}),jsxRuntimeExports.jsx(Input,{id:"edit-contact-name",value:vn.name,onChange:Jn=>En({...vn,name:Jn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-contact-role",children:"Role"}),jsxRuntimeExports.jsx(Input,{id:"edit-contact-role",value:vn.role,onChange:Jn=>En({...vn,role:Jn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-contact-phone",children:"Phone *"}),jsxRuntimeExports.jsx(Input,{id:"edit-contact-phone",value:vn.phone,onChange:Jn=>En({...vn,phone:Jn.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-contact-email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"edit-contact-email",type:"email",value:vn.email||"",onChange:Jn=>En({...vn,email:Jn.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"edit-contact-primary",checked:vn.isPrimary,onCheckedChange:Jn=>En({...vn,isPrimary:Jn})}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-contact-primary",children:"Primary Contact"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-contact-notes",children:"Notes"}),jsxRuntimeExports.jsx(Textarea,{id:"edit-contact-notes",value:vn.notes||"",onChange:Jn=>En({...vn,notes:Jn.target.value}),rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>En(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Hn,disabled:!vn.name.trim()||!vn.phone.trim()||Mn.isPending,children:Mn.isPending?"Updating...":"Update Contact"})]})]})]})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:!un,onClick:()=>Ln(qn.id),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]})]})})},qn.id)),fn.contacts.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600",children:"No contacts found for this host."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-500",children:"Add a contact to get started."})]})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"details",className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-slate-700",children:"Host Name"}),jsxRuntimeExports.jsx("p",{className:"text-slate-900",children:fn.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-slate-700",children:"Status"}),jsxRuntimeExports.jsx(Badge,{variant:fn.status==="active"?"default":"secondary",className:fn.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:fn.status})]}),fn.address&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-slate-700",children:"Host Location"}),jsxRuntimeExports.jsx("p",{className:"text-slate-900",children:fn.address})]}),fn.notes&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-slate-700",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-slate-900",children:fn.notes})]})]})})]})]})})]})}function PhoneDirectoryFixed(){const[tn,sn]=reactExports.useState(""),{user:un}=useAuth(),dn=hasPermission(un,PERMISSIONS.ACCESS_HOSTS),pn=hasPermission(un,PERMISSIONS.ACCESS_RECIPIENTS),mn=hasPermission(un,PERMISSIONS.ACCESS_DRIVERS),hn=React$1.useCallback(()=>dn?"hosts":pn?"recipients":mn?"drivers":"contacts",[dn,pn,mn]),[fn,gn]=reactExports.useState(()=>hn()),{data:xn=[]}=useQuery({queryKey:["/api/hosts-with-contacts"]}),{data:yn=[]}=useQuery({queryKey:["/api/recipients"]}),{data:vn=[]}=useQuery({queryKey:["/api/contacts"]}),{data:En=[]}=useQuery({queryKey:["/api/drivers"]}),bn=[{id:"contacts",label:"Contacts",icon:Phone,enabled:!0},{id:"hosts",label:"Hosts",icon:Users,enabled:dn},{id:"recipients",label:"Recipients",icon:User,enabled:pn},{id:"drivers",label:"Drivers",icon:User,enabled:mn}].filter(jn=>jn.enabled);React$1.useEffect(()=>{const jn=hn();bn.find(Cn=>Cn.id===fn)||gn(jn)},[bn,fn,hn]);const wn=xn.filter(jn=>{if(!tn)return!0;const Cn=tn.toLowerCase();return jn.name.toLowerCase().includes(Cn)||jn.address&&jn.address.toLowerCase().includes(Cn)}),Sn=yn.filter(jn=>{if(!tn)return!0;const Cn=tn.toLowerCase();return jn.name.toLowerCase().includes(Cn)||jn.phone.includes(tn)}),Rn=vn.filter(jn=>{if(!tn)return!0;const Cn=tn.toLowerCase();return jn.name.toLowerCase().includes(Cn)||jn.phone.includes(tn)}),_n=En.filter(jn=>{if(!tn)return!0;const Cn=tn.toLowerCase();return jn.name.toLowerCase().includes(Cn)||jn.phone.includes(tn)||jn.zone.toLowerCase().includes(Cn)});return jsxRuntimeExports.jsxs("div",{className:"space-y-8 p-6 font-['Roboto',sans-serif]",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:"Phone Directory"}),jsxRuntimeExports.jsx("p",{className:"text-lg mt-2",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:"Contact information for team members and organizations"})]}),jsxRuntimeExports.jsx(Card$1,{className:"border-2",style:{borderColor:"#e6f3f7"},children:jsxRuntimeExports.jsx(CardContent$1,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search$c,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:"#646464"}}),jsxRuntimeExports.jsx(Input,{placeholder:"Search contacts...",value:tn,onChange:jn=>sn(jn.target.value),className:"pl-12 h-12 text-base border-2 focus:ring-2",style:{borderColor:"#236383",fontFamily:"Roboto, sans-serif"}})]})})})]}),jsxRuntimeExports.jsxs(Tabs,{value:fn,onValueChange:gn,children:[jsxRuntimeExports.jsx(TabsList,{className:`grid w-full h-14 p-1 rounded-lg ${bn.length===1?"grid-cols-1":bn.length===2?"grid-cols-2":bn.length===3?"grid-cols-3":"grid-cols-4"}`,style:{backgroundColor:"#e6f3f7"},children:bn.map(jn=>{const Cn=jn.icon;let An=0;return jn.id==="contacts"?An=Rn.length:jn.id==="hosts"?An=wn.length:jn.id==="recipients"?An=Sn.length:jn.id==="drivers"&&(An=_n.length),jsxRuntimeExports.jsxs(TabsTrigger,{value:jn.id,className:"flex items-center gap-2 h-12 text-base font-medium rounded-md transition-all duration-200 data-[state=active]:shadow-sm",style:{fontFamily:"Roboto, sans-serif",color:"#646464"},"data-active-style":{backgroundColor:"#236383",color:"white"},children:[jsxRuntimeExports.jsx(Cn,{className:"w-5 h-5"}),jn.label," (",An,")"]},jn.id)})}),jsxRuntimeExports.jsx(TabsContent,{value:"contacts",className:"space-y-6 mt-6",children:jsxRuntimeExports.jsxs(Card$1,{className:"border-2 shadow-sm",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-4",style:{backgroundColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-3 text-xl font-bold",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx(Phone,{className:"w-6 h-6",style:{color:"#236383"}}),"General Contacts"]}),jsxRuntimeExports.jsx(CardDescription,{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:"Contact information for general contacts and volunteers"})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"pt-6",children:Rn.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:tn?"No contacts found matching your search.":"No contacts found."}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Rn.map(jn=>jsxRuntimeExports.jsxs("div",{className:"p-5 border-2 rounded-lg hover:shadow-md transition-shadow duration-200",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg mb-2",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:jn.name}),jsxRuntimeExports.jsx("p",{className:"text-base mb-1",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:jn.phone}),jn.email&&jsxRuntimeExports.jsx("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:jn.email})]},jn.id))})})]})}),dn&&jsxRuntimeExports.jsx(TabsContent,{value:"hosts",className:"space-y-6 mt-6",children:jsxRuntimeExports.jsxs(Card$1,{className:"border-2 shadow-sm",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-4",style:{backgroundColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-3 text-xl font-bold",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx(Users,{className:"w-6 h-6",style:{color:"#236383"}}),"Host Directory"]}),jsxRuntimeExports.jsx(CardDescription,{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:"Contact information for sandwich collection hosts"})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"pt-6",children:wn.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:tn?"No hosts found matching your search.":"No hosts found."}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:wn.map(jn=>jsxRuntimeExports.jsxs("div",{className:"p-5 border-2 rounded-lg hover:shadow-md transition-shadow duration-200",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg mb-3",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:jn.name}),jn.address&&jsxRuntimeExports.jsxs("p",{className:"text-base mb-4",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Address:"})," ",jn.address]}),jn.contacts&&jn.contacts.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-base",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:"Contacts:"}),jn.contacts.map((Cn,An)=>jsxRuntimeExports.jsxs("div",{className:"ml-4 p-3 rounded-md",style:{backgroundColor:"#f8fbfc"},children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-base mb-1",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:Cn.name}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Phone:"})," ",Cn.phone]}),Cn.email&&jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Email:"})," ",Cn.email]}),Cn.role&&jsxRuntimeExports.jsxs("p",{className:"text-base italic",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Role:"})," ",Cn.role]})]})]},An))]}),(!jn.contacts||jn.contacts.length===0)&&jsxRuntimeExports.jsx("p",{className:"text-base italic",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:"No contact information available"})]},jn.id))})})]})}),pn&&jsxRuntimeExports.jsx(TabsContent,{value:"recipients",className:"space-y-6 mt-6",children:jsxRuntimeExports.jsxs(Card$1,{className:"border-2 shadow-sm",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-4",style:{backgroundColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-3 text-xl font-bold",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx(User,{className:"w-6 h-6",style:{color:"#236383"}}),"Recipient Directory"]}),jsxRuntimeExports.jsx(CardDescription,{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:"Contact information for sandwich delivery recipients"})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"pt-6",children:Sn.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:tn?"No recipients found matching your search.":"No recipients found."}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Sn.map(jn=>jsxRuntimeExports.jsxs("div",{className:"p-5 border-2 rounded-lg hover:shadow-md transition-shadow duration-200",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg mb-2",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:jn.name}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Phone:"})," ",jn.phone]}),jn.email&&jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Email:"})," ",jn.email]}),jn.address&&jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Address:"})," ",jn.address]}),jn.contactName&&jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Contact:"})," ",jn.contactName]})]})]},jn.id))})})]})}),mn&&jsxRuntimeExports.jsx(TabsContent,{value:"drivers",className:"space-y-6 mt-6",children:jsxRuntimeExports.jsxs(Card$1,{className:"border-2 shadow-sm",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-4",style:{backgroundColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-3 text-xl font-bold",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx(User,{className:"w-6 h-6",style:{color:"#236383"}}),"Driver Directory"]}),jsxRuntimeExports.jsx(CardDescription,{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:"Contact information for delivery drivers"})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"pt-6",children:_n.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12 text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:tn?"No drivers found matching your search.":"No drivers found."}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:_n.map(jn=>jsxRuntimeExports.jsxs("div",{className:"p-5 border-2 rounded-lg hover:shadow-md transition-shadow duration-200",style:{borderColor:"#e6f3f7"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",style:{color:"#236383",fontFamily:"Roboto, sans-serif"},children:jn.name}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jn.isActive&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-sm font-medium rounded-full text-white",style:{backgroundColor:"#236383",fontFamily:"Roboto, sans-serif"},children:"Active"}),jn.vanApproved&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-sm font-medium rounded-full text-white",style:{backgroundColor:"#FBAD3F",fontFamily:"Roboto, sans-serif"},children:"Van Driver"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Phone:"})," ",jn.phone]}),jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Email:"})," ",jn.email]}),jsxRuntimeExports.jsxs("p",{className:"text-base",style:{color:"#646464",fontFamily:"Roboto, sans-serif"},children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Zone:"})," ",jn.zone]})]})]},jn.id))})})]})})]})]})}var isArray$h=Array.isArray,isArray_1=isArray$h,freeGlobal$3=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$3,freeGlobal$2=_freeGlobal,freeSelf$2=typeof self=="object"&&self&&self.Object===Object&&self,root$e=freeGlobal$2||freeSelf$2||Function("return this")(),_root=root$e,root$d=_root,Symbol$7=root$d.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(tn){var sn=hasOwnProperty$c.call(tn,symToStringTag$1),un=tn[symToStringTag$1];try{tn[symToStringTag$1]=void 0;var dn=!0}catch{}var pn=nativeObjectToString$1.call(tn);return dn&&(sn?tn[symToStringTag$1]=un:delete tn[symToStringTag$1]),pn}var _getRawTag=getRawTag$1,objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString$3(tn){return nativeObjectToString.call(tn)}var _objectToString=objectToString$3,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString$2=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(tn){return tn==null?tn===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(tn)?getRawTag(tn):objectToString$2(tn)}var _baseGetTag=baseGetTag$9;function isObjectLike$b(tn){return tn!=null&&typeof tn=="object"}var isObjectLike_1=isObjectLike$b,baseGetTag$8=_baseGetTag,isObjectLike$a=isObjectLike_1,symbolTag$3="[object Symbol]";function isSymbol$8(tn){return typeof tn=="symbol"||isObjectLike$a(tn)&&baseGetTag$8(tn)==symbolTag$3}var isSymbol_1=isSymbol$8,isArray$g=isArray_1,isSymbol$7=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$4(tn,sn){if(isArray$g(tn))return!1;var un=typeof tn;return un=="number"||un=="symbol"||un=="boolean"||tn==null||isSymbol$7(tn)?!0:reIsPlainProp.test(tn)||!reIsDeepProp.test(tn)||sn!=null&&tn in Object(sn)}var _isKey=isKey$4;function isObject$c(tn){var sn=typeof tn;return tn!=null&&(sn=="object"||sn=="function")}var isObject_1=isObject$c;const isObject$d=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$b=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(tn){if(!isObject$b(tn))return!1;var sn=baseGetTag$7(tn);return sn==funcTag$1||sn==genTag||sn==asyncTag||sn==proxyTag}var isFunction_1=isFunction$4;const isFunction$5=getDefaultExportFromCjs(isFunction_1);var root$c=_root,coreJsData$1=root$c["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var tn=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return tn?"Symbol(src)_1."+tn:""}();function isMasked$1(tn){return!!maskSrcKey&&maskSrcKey in tn}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(tn){if(tn!=null){try{return funcToString$2.call(tn)}catch{}try{return tn+""}catch{}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1,isMasked=_isMasked,isObject$a=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$c=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(tn){if(!isObject$a(tn)||isMasked(tn))return!1;var sn=isFunction$3(tn)?reIsNative:reIsHostCtor;return sn.test(toSource$1(tn))}var _baseIsNative=baseIsNative$1;function getValue$2(tn,sn){return tn==null?void 0:tn[sn]}var _getValue=getValue$2,baseIsNative=_baseIsNative,getValue$1=_getValue;function getNative$7(tn,sn){var un=getValue$1(tn,sn);return baseIsNative(un)?un:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(tn){var sn=this.has(tn)&&delete this.__data__[tn];return this.size-=sn?1:0,sn}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty;function hashGet$1(tn){var sn=this.__data__;if(nativeCreate$2){var un=sn[tn];return un===HASH_UNDEFINED$2?void 0:un}return hasOwnProperty$a.call(sn,tn)?sn[tn]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function hashHas$1(tn){var sn=this.__data__;return nativeCreate$1?sn[tn]!==void 0:hasOwnProperty$9.call(sn,tn)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(tn,sn){var un=this.__data__;return this.size+=this.has(tn)?0:1,un[tn]=nativeCreate&&sn===void 0?HASH_UNDEFINED$1:sn,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(tn){var sn=-1,un=tn==null?0:tn.length;for(this.clear();++sn<un;){var dn=tn[sn];this.set(dn[0],dn[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(tn,sn){return tn===sn||tn!==tn&&sn!==sn}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(tn,sn){for(var un=tn.length;un--;)if(eq$2(tn[un][0],sn))return un;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice$1=arrayProto.splice;function listCacheDelete$1(tn){var sn=this.__data__,un=assocIndexOf$3(sn,tn);if(un<0)return!1;var dn=sn.length-1;return un==dn?sn.pop():splice$1.call(sn,un,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(tn){var sn=this.__data__,un=assocIndexOf$2(sn,tn);return un<0?void 0:sn[un][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(tn){return assocIndexOf$1(this.__data__,tn)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(tn,sn){var un=this.__data__,dn=assocIndexOf(un,tn);return dn<0?(++this.size,un.push([tn,sn])):un[dn][1]=sn,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(tn){var sn=-1,un=tn==null?0:tn.length;for(this.clear();++sn<un;){var dn=tn[sn];this.set(dn[0],dn[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$b=_root,Map$4=getNative$5(root$b,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(tn){var sn=typeof tn;return sn=="string"||sn=="number"||sn=="symbol"||sn=="boolean"?tn!=="__proto__":tn===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(tn,sn){var un=tn.__data__;return isKeyable(sn)?un[typeof sn=="string"?"string":"hash"]:un.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(tn){var sn=getMapData$3(this,tn).delete(tn);return this.size-=sn?1:0,sn}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(tn){return getMapData$2(this,tn).get(tn)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(tn){return getMapData$1(this,tn).has(tn)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(tn,sn){var un=getMapData(this,tn),dn=un.size;return un.set(tn,sn),this.size+=un.size==dn?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(tn){var sn=-1,un=tn==null?0:tn.length;for(this.clear();++sn<un;){var dn=tn[sn];this.set(dn[0],dn[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$4="Expected a function";function memoize$2(tn,sn){if(typeof tn!="function"||sn!=null&&typeof sn!="function")throw new TypeError(FUNC_ERROR_TEXT$4);var un=function(){var dn=arguments,pn=sn?sn.apply(this,dn):dn[0],mn=un.cache;if(mn.has(pn))return mn.get(pn);var hn=tn.apply(this,dn);return un.cache=mn.set(pn,hn)||mn,hn};return un.cache=new(memoize$2.Cache||MapCache$2),un}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(tn){var sn=memoize$1(tn,function(dn){return un.size===MAX_MEMOIZE_SIZE&&un.clear(),dn}),un=sn.cache;return sn}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(tn){var sn=[];return tn.charCodeAt(0)===46&&sn.push(""),tn.replace(rePropName,function(un,dn,pn,mn){sn.push(pn?mn.replace(reEscapeChar,"$1"):dn||un)}),sn}),_stringToPath=stringToPath$2;function arrayMap$3(tn,sn){for(var un=-1,dn=tn==null?0:tn.length,pn=Array(dn);++un<dn;)pn[un]=sn(tn[un],un,tn);return pn}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$f=isArray_1,isSymbol$6=isSymbol_1,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(tn){if(typeof tn=="string")return tn;if(isArray$f(tn))return arrayMap$2(tn,baseToString$1)+"";if(isSymbol$6(tn))return symbolToString?symbolToString.call(tn):"";var sn=tn+"";return sn=="0"&&1/tn==-1/0?"-0":sn}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$6(tn){return tn==null?"":baseToString(tn)}var toString_1=toString$6,isArray$e=isArray_1,isKey$3=_isKey,stringToPath$1=_stringToPath,toString$5=toString_1;function castPath$2(tn,sn){return isArray$e(tn)?tn:isKey$3(tn,sn)?[tn]:stringToPath$1(toString$5(tn))}var _castPath=castPath$2,isSymbol$5=isSymbol_1;function toKey$4(tn){if(typeof tn=="string"||isSymbol$5(tn))return tn;var sn=tn+"";return sn=="0"&&1/tn==-1/0?"-0":sn}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$4(tn,sn){sn=castPath$1(sn,tn);for(var un=0,dn=sn.length;tn!=null&&un<dn;)tn=tn[toKey$3(sn[un++])];return un&&un==dn?tn:void 0}var _baseGet=baseGet$4,baseGet$3=_baseGet;function get$4(tn,sn,un){var dn=tn==null?void 0:baseGet$3(tn,sn);return dn===void 0?un:dn}var get_1=get$4;const get$5=getDefaultExportFromCjs(get_1);function isNil(tn){return tn==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$d=isArray_1,isObjectLike$9=isObjectLike_1,stringTag$2="[object String]";function isString$3(tn){return typeof tn=="string"||!isArray$d(tn)&&isObjectLike$9(tn)&&baseGetTag$6(tn)==stringTag$2}var isString_1=isString$3;const isString$4=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$2=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$1(tn){if(typeof tn=="object"&&tn!==null){var sn=tn.$$typeof;switch(sn){case b$1:switch(tn=tn.type,tn){case d$1:case f$1:case e:case m$1:case n$1:return tn;default:switch(tn=tn&&tn.$$typeof,tn){case k$2:case h$1:case l:case q$1:case p$1:case g$1:return tn;default:return sn}}case c$2:return sn}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$1;reactIs_production_min.Memo=p$1;reactIs_production_min.Portal=c$2;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n$1;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(tn){return v$1(tn)===h$1};reactIs_production_min.isContextProvider=function(tn){return v$1(tn)===g$1};reactIs_production_min.isElement=function(tn){return typeof tn=="object"&&tn!==null&&tn.$$typeof===b$1};reactIs_production_min.isForwardRef=function(tn){return v$1(tn)===l};reactIs_production_min.isFragment=function(tn){return v$1(tn)===d$1};reactIs_production_min.isLazy=function(tn){return v$1(tn)===q$1};reactIs_production_min.isMemo=function(tn){return v$1(tn)===p$1};reactIs_production_min.isPortal=function(tn){return v$1(tn)===c$2};reactIs_production_min.isProfiler=function(tn){return v$1(tn)===f$1};reactIs_production_min.isStrictMode=function(tn){return v$1(tn)===e};reactIs_production_min.isSuspense=function(tn){return v$1(tn)===m$1};reactIs_production_min.isSuspenseList=function(tn){return v$1(tn)===n$1};reactIs_production_min.isValidElementType=function(tn){return typeof tn=="string"||typeof tn=="function"||tn===d$1||tn===f$1||tn===e||tn===m$1||tn===n$1||tn===t$1||typeof tn=="object"&&tn!==null&&(tn.$$typeof===q$1||tn.$$typeof===p$1||tn.$$typeof===g$1||tn.$$typeof===h$1||tn.$$typeof===l||tn.$$typeof===u$1||tn.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$8=isObjectLike_1,numberTag$2="[object Number]";function isNumber$3(tn){return typeof tn=="number"||isObjectLike$8(tn)&&baseGetTag$5(tn)==numberTag$2}var isNumber_1=isNumber$3;const isNumber$4=getDefaultExportFromCjs(isNumber_1);var isNumber$2=isNumber_1;function isNaN$1(tn){return isNumber$2(tn)&&tn!=+tn}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function tn(sn){return sn===0?0:sn>0?1:-1},isPercent=function tn(sn){return isString$4(sn)&&sn.indexOf("%")===sn.length-1},isNumber$1=function tn(sn){return isNumber$4(sn)&&!isNan(sn)},isNullish$1=function tn(sn){return isNil$1(sn)},isNumOrStr=function tn(sn){return isNumber$1(sn)||isString$4(sn)},idCounter=0,uniqueId=function tn(sn){var un=++idCounter;return"".concat(sn||"").concat(un)},getPercentValue=function tn(sn,un){var dn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,pn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber$1(sn)&&!isString$4(sn))return dn;var mn;if(isPercent(sn)){var hn=sn.indexOf("%");mn=un*parseFloat(sn.slice(0,hn))/100}else mn=+sn;return isNan(mn)&&(mn=dn),pn&&mn>un&&(mn=un),mn},getAnyElementOfObject=function tn(sn){if(!sn)return null;var un=Object.keys(sn);return un&&un.length?sn[un[0]]:null},hasDuplicate=function tn(sn){if(!Array.isArray(sn))return!1;for(var un=sn.length,dn={},pn=0;pn<un;pn++)if(!dn[sn[pn]])dn[sn[pn]]=!0;else return!0;return!1},interpolateNumber$2=function tn(sn,un){return isNumber$1(sn)&&isNumber$1(un)?function(dn){return sn+dn*(un-sn)}:function(){return un}};function findEntryInArray(tn,sn,un){return!tn||!tn.length?null:tn.find(function(dn){return dn&&(typeof sn=="function"?sn(dn):get$5(dn,sn))===un})}var compareValues=function tn(sn,un){return isNumber$1(sn)&&isNumber$1(un)?sn-un:isString$4(sn)&&isString$4(un)?sn.localeCompare(un):sn instanceof Date&&un instanceof Date?sn.getTime()-un.getTime():String(sn).localeCompare(String(un))};function shallowEqual(tn,sn){for(var un in tn)if({}.hasOwnProperty.call(tn,un)&&(!{}.hasOwnProperty.call(sn,un)||tn[un]!==sn[un]))return!1;for(var dn in sn)if({}.hasOwnProperty.call(sn,dn)&&!{}.hasOwnProperty.call(tn,dn))return!1;return!0}function _typeof$K(tn){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$K(tn)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function tn(sn,un){if(!sn||typeof sn=="function"||typeof sn=="boolean")return null;var dn=sn;if(reactExports.isValidElement(sn)&&(dn=sn.props),!isObject$d(dn))return null;var pn={};return Object.keys(dn).forEach(function(mn){EventKeys.includes(mn)&&(pn[mn]=un||function(hn){return dn[mn](dn,hn)})}),pn},getEventHandlerOfChild=function tn(sn,un,dn){return function(pn){return sn(un,dn,pn),null}},adaptEventsOfChild=function tn(sn,un,dn){if(!isObject$d(sn)||_typeof$K(sn)!=="object")return null;var pn=null;return Object.keys(sn).forEach(function(mn){var hn=sn[mn];EventKeys.includes(mn)&&typeof hn=="function"&&(pn||(pn={}),pn[mn]=getEventHandlerOfChild(hn,un,dn))}),pn},_excluded$l=["children"],_excluded2$8=["children"];function _objectWithoutProperties$j(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$l(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$l(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _typeof$J(tn){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$J(tn)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function tn(sn){return typeof sn=="string"?sn:sn?sn.displayName||sn.name||"Component":""},lastChildren=null,lastResult=null,toArray$1=function tn(sn){if(sn===lastChildren&&Array.isArray(lastResult))return lastResult;var un=[];return reactExports.Children.forEach(sn,function(dn){isNil$1(dn)||(reactIsExports.isFragment(dn)?un=un.concat(tn(dn.props.children)):un.push(dn))}),lastResult=un,lastChildren=sn,un};function findAllByType(tn,sn){var un=[],dn=[];return Array.isArray(sn)?dn=sn.map(function(pn){return getDisplayName(pn)}):dn=[getDisplayName(sn)],toArray$1(tn).forEach(function(pn){var mn=get$5(pn,"type.displayName")||get$5(pn,"type.name");dn.indexOf(mn)!==-1&&un.push(pn)}),un}function findChildByType(tn,sn){var un=findAllByType(tn,sn);return un&&un[0]}var validateWidthHeight=function tn(sn){if(!sn||!sn.props)return!1;var un=sn.props,dn=un.width,pn=un.height;return!(!isNumber$1(dn)||dn<=0||!isNumber$1(pn)||pn<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function tn(sn){return sn&&sn.type&&isString$4(sn.type)&&SVG_TAGS.indexOf(sn.type)>=0},hasClipDot=function tn(sn){return sn&&_typeof$J(sn)==="object"&&"clipDot"in sn},isValidSpreadableProp=function tn(sn,un,dn,pn){var mn,hn=(mn=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[pn])!==null&&mn!==void 0?mn:[];return un.startsWith("data-")||!isFunction$5(sn)&&(pn&&hn.includes(un)||SVGElementPropKeys.includes(un))||dn&&EventKeys.includes(un)},filterProps$1=function tn(sn,un,dn){if(!sn||typeof sn=="function"||typeof sn=="boolean")return null;var pn=sn;if(reactExports.isValidElement(sn)&&(pn=sn.props),!isObject$d(pn))return null;var mn={};return Object.keys(pn).forEach(function(hn){var fn;isValidSpreadableProp((fn=pn)===null||fn===void 0?void 0:fn[hn],hn,un,dn)&&(mn[hn]=pn[hn])}),mn},isChildrenEqual=function tn(sn,un){if(sn===un)return!0;var dn=reactExports.Children.count(sn);if(dn!==reactExports.Children.count(un))return!1;if(dn===0)return!0;if(dn===1)return isSingleChildEqual(Array.isArray(sn)?sn[0]:sn,Array.isArray(un)?un[0]:un);for(var pn=0;pn<dn;pn++){var mn=sn[pn],hn=un[pn];if(Array.isArray(mn)||Array.isArray(hn)){if(!tn(mn,hn))return!1}else if(!isSingleChildEqual(mn,hn))return!1}return!0},isSingleChildEqual=function tn(sn,un){if(isNil$1(sn)&&isNil$1(un))return!0;if(!isNil$1(sn)&&!isNil$1(un)){var dn=sn.props||{},pn=dn.children,mn=_objectWithoutProperties$j(dn,_excluded$l),hn=un.props||{},fn=hn.children,gn=_objectWithoutProperties$j(hn,_excluded2$8);return pn&&fn?shallowEqual(mn,gn)&&isChildrenEqual(pn,fn):!pn&&!fn?shallowEqual(mn,gn):!1}return!1},renderByOrder=function tn(sn,un){var dn=[],pn={};return toArray$1(sn).forEach(function(mn,hn){if(isSvgElement(mn))dn.push(mn);else if(mn){var fn=getDisplayName(mn.type),gn=un[fn]||{},xn=gn.handler,yn=gn.once;if(xn&&(!yn||!pn[fn])){var vn=xn(mn,fn,hn);dn.push(vn),pn[fn]=!0}}}),dn},getReactEventByType=function tn(sn){var un=sn&&sn.type;return un&&REACT_BROWSER_EVENT_MAP[un]?REACT_BROWSER_EVENT_MAP[un]:null},parseChildIndex=function tn(sn,un){return toArray$1(un).indexOf(sn)},_excluded$k=["children","width","height","viewBox","className","style","title","desc"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$t.apply(this,arguments)}function _objectWithoutProperties$i(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$k(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$k(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function Surface(tn){var sn=tn.children,un=tn.width,dn=tn.height,pn=tn.viewBox,mn=tn.className,hn=tn.style,fn=tn.title,gn=tn.desc,xn=_objectWithoutProperties$i(tn,_excluded$k),yn=pn||{width:un,height:dn,x:0,y:0},vn=clsx("recharts-surface",mn);return React$1.createElement("svg",_extends$t({},filterProps$1(xn,!0,"svg"),{className:vn,width:un,height:dn,style:hn,viewBox:"".concat(yn.x," ").concat(yn.y," ").concat(yn.width," ").concat(yn.height)}),React$1.createElement("title",null,fn),React$1.createElement("desc",null,gn),sn)}var _excluded$j=["children","className"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$s.apply(this,arguments)}function _objectWithoutProperties$h(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$j(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$j(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}var Layer=React$1.forwardRef(function(tn,sn){var un=tn.children,dn=tn.className,pn=_objectWithoutProperties$h(tn,_excluded$j),mn=clsx("recharts-layer",dn);return React$1.createElement("g",_extends$s({className:mn},filterProps$1(pn,!0),{ref:sn}),un)}),warn=function tn(sn,un){for(var dn=arguments.length,pn=new Array(dn>2?dn-2:0),mn=2;mn<dn;mn++)pn[mn-2]=arguments[mn]};function baseSlice$1(tn,sn,un){var dn=-1,pn=tn.length;sn<0&&(sn=-sn>pn?0:pn+sn),un=un>pn?pn:un,un<0&&(un+=pn),pn=sn>un?0:un-sn>>>0,sn>>>=0;for(var mn=Array(pn);++dn<pn;)mn[dn]=tn[dn+sn];return mn}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(tn,sn,un){var dn=tn.length;return un=un===void 0?dn:un,!sn&&un>=dn?tn:baseSlice(tn,sn,un)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(tn){return reHasUnicode.test(tn)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(tn){return tn.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(tn){return tn.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$3(tn){return hasUnicode$1(tn)?unicodeToArray(tn):asciiToArray(tn)}var _stringToArray=stringToArray$3,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray$2=_stringToArray,toString$4=toString_1;function createCaseFirst$1(tn){return function(sn){sn=toString$4(sn);var un=hasUnicode(sn)?stringToArray$2(sn):void 0,dn=un?un[0]:sn.charAt(0),pn=un?castSlice(un,1).join(""):sn.slice(1);return dn[tn]()+pn}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(tn){return function(){return tn}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(tn){this._+=tn[0];for(let sn=1,un=tn.length;sn<un;++sn)this._+=arguments[sn]+tn[sn]}function appendRound(tn){let sn=Math.floor(tn);if(!(sn>=0))throw new Error(`invalid digits: ${tn}`);if(sn>15)return append;const un=10**sn;return function(dn){this._+=dn[0];for(let pn=1,mn=dn.length;pn<mn;++pn)this._+=Math.round(arguments[pn]*un)/un+dn[pn]}}class Path{constructor(sn){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=sn==null?append:appendRound(sn)}moveTo(sn,un){this._append`M${this._x0=this._x1=+sn},${this._y0=this._y1=+un}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(sn,un){this._append`L${this._x1=+sn},${this._y1=+un}`}quadraticCurveTo(sn,un,dn,pn){this._append`Q${+sn},${+un},${this._x1=+dn},${this._y1=+pn}`}bezierCurveTo(sn,un,dn,pn,mn,hn){this._append`C${+sn},${+un},${+dn},${+pn},${this._x1=+mn},${this._y1=+hn}`}arcTo(sn,un,dn,pn,mn){if(sn=+sn,un=+un,dn=+dn,pn=+pn,mn=+mn,mn<0)throw new Error(`negative radius: ${mn}`);let hn=this._x1,fn=this._y1,gn=dn-sn,xn=pn-un,yn=hn-sn,vn=fn-un,En=yn*yn+vn*vn;if(this._x1===null)this._append`M${this._x1=sn},${this._y1=un}`;else if(En>epsilon)if(!(Math.abs(vn*gn-xn*yn)>epsilon)||!mn)this._append`L${this._x1=sn},${this._y1=un}`;else{let bn=dn-hn,wn=pn-fn,Sn=gn*gn+xn*xn,Rn=bn*bn+wn*wn,_n=Math.sqrt(Sn),jn=Math.sqrt(En),Cn=mn*Math.tan((pi-Math.acos((Sn+En-Rn)/(2*_n*jn)))/2),An=Cn/jn,Tn=Cn/_n;Math.abs(An-1)>epsilon&&this._append`L${sn+An*yn},${un+An*vn}`,this._append`A${mn},${mn},0,0,${+(vn*bn>yn*wn)},${this._x1=sn+Tn*gn},${this._y1=un+Tn*xn}`}}arc(sn,un,dn,pn,mn,hn){if(sn=+sn,un=+un,dn=+dn,hn=!!hn,dn<0)throw new Error(`negative radius: ${dn}`);let fn=dn*Math.cos(pn),gn=dn*Math.sin(pn),xn=sn+fn,yn=un+gn,vn=1^hn,En=hn?pn-mn:mn-pn;this._x1===null?this._append`M${xn},${yn}`:(Math.abs(this._x1-xn)>epsilon||Math.abs(this._y1-yn)>epsilon)&&this._append`L${xn},${yn}`,dn&&(En<0&&(En=En%tau+tau),En>tauEpsilon?this._append`A${dn},${dn},0,1,${vn},${sn-fn},${un-gn}A${dn},${dn},0,1,${vn},${this._x1=xn},${this._y1=yn}`:En>epsilon&&this._append`A${dn},${dn},0,${+(En>=pi)},${vn},${this._x1=sn+dn*Math.cos(mn)},${this._y1=un+dn*Math.sin(mn)}`)}rect(sn,un,dn,pn){this._append`M${this._x0=this._x1=+sn},${this._y0=this._y1=+un}h${dn=+dn}v${+pn}h${-dn}Z`}toString(){return this._}}function withPath(tn){let sn=3;return tn.digits=function(un){if(!arguments.length)return sn;if(un==null)sn=null;else{const dn=Math.floor(un);if(!(dn>=0))throw new RangeError(`invalid digits: ${un}`);sn=dn}return tn},()=>new Path(sn)}function array$1(tn){return typeof tn=="object"&&"length"in tn?tn:Array.from(tn)}function Linear(tn){this._context=tn}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tn,sn){switch(tn=+tn,sn=+sn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tn,sn):this._context.moveTo(tn,sn);break;case 1:this._point=2;default:this._context.lineTo(tn,sn);break}}};function curveLinear(tn){return new Linear(tn)}function x$1(tn){return tn[0]}function y$1(tn){return tn[1]}function shapeLine(tn,sn){var un=constant$3(!0),dn=null,pn=curveLinear,mn=null,hn=withPath(fn);tn=typeof tn=="function"?tn:tn===void 0?x$1:constant$3(tn),sn=typeof sn=="function"?sn:sn===void 0?y$1:constant$3(sn);function fn(gn){var xn,yn=(gn=array$1(gn)).length,vn,En=!1,bn;for(dn==null&&(mn=pn(bn=hn())),xn=0;xn<=yn;++xn)!(xn<yn&&un(vn=gn[xn],xn,gn))===En&&((En=!En)?mn.lineStart():mn.lineEnd()),En&&mn.point(+tn(vn,xn,gn),+sn(vn,xn,gn));if(bn)return mn=null,bn+""||null}return fn.x=function(gn){return arguments.length?(tn=typeof gn=="function"?gn:constant$3(+gn),fn):tn},fn.y=function(gn){return arguments.length?(sn=typeof gn=="function"?gn:constant$3(+gn),fn):sn},fn.defined=function(gn){return arguments.length?(un=typeof gn=="function"?gn:constant$3(!!gn),fn):un},fn.curve=function(gn){return arguments.length?(pn=gn,dn!=null&&(mn=pn(dn)),fn):pn},fn.context=function(gn){return arguments.length?(gn==null?dn=mn=null:mn=pn(dn=gn),fn):dn},fn}function shapeArea(tn,sn,un){var dn=null,pn=constant$3(!0),mn=null,hn=curveLinear,fn=null,gn=withPath(xn);tn=typeof tn=="function"?tn:tn===void 0?x$1:constant$3(+tn),sn=typeof sn=="function"?sn:constant$3(sn===void 0?0:+sn),un=typeof un=="function"?un:un===void 0?y$1:constant$3(+un);function xn(vn){var En,bn,wn,Sn=(vn=array$1(vn)).length,Rn,_n=!1,jn,Cn=new Array(Sn),An=new Array(Sn);for(mn==null&&(fn=hn(jn=gn())),En=0;En<=Sn;++En){if(!(En<Sn&&pn(Rn=vn[En],En,vn))===_n)if(_n=!_n)bn=En,fn.areaStart(),fn.lineStart();else{for(fn.lineEnd(),fn.lineStart(),wn=En-1;wn>=bn;--wn)fn.point(Cn[wn],An[wn]);fn.lineEnd(),fn.areaEnd()}_n&&(Cn[En]=+tn(Rn,En,vn),An[En]=+sn(Rn,En,vn),fn.point(dn?+dn(Rn,En,vn):Cn[En],un?+un(Rn,En,vn):An[En]))}if(jn)return fn=null,jn+""||null}function yn(){return shapeLine().defined(pn).curve(hn).context(mn)}return xn.x=function(vn){return arguments.length?(tn=typeof vn=="function"?vn:constant$3(+vn),dn=null,xn):tn},xn.x0=function(vn){return arguments.length?(tn=typeof vn=="function"?vn:constant$3(+vn),xn):tn},xn.x1=function(vn){return arguments.length?(dn=vn==null?null:typeof vn=="function"?vn:constant$3(+vn),xn):dn},xn.y=function(vn){return arguments.length?(sn=typeof vn=="function"?vn:constant$3(+vn),un=null,xn):sn},xn.y0=function(vn){return arguments.length?(sn=typeof vn=="function"?vn:constant$3(+vn),xn):sn},xn.y1=function(vn){return arguments.length?(un=vn==null?null:typeof vn=="function"?vn:constant$3(+vn),xn):un},xn.lineX0=xn.lineY0=function(){return yn().x(tn).y(sn)},xn.lineY1=function(){return yn().x(tn).y(un)},xn.lineX1=function(){return yn().x(dn).y(sn)},xn.defined=function(vn){return arguments.length?(pn=typeof vn=="function"?vn:constant$3(!!vn),xn):pn},xn.curve=function(vn){return arguments.length?(hn=vn,mn!=null&&(fn=hn(mn)),xn):hn},xn.context=function(vn){return arguments.length?(vn==null?mn=fn=null:fn=hn(mn=vn),xn):mn},xn}class Bump{constructor(sn,un){this._context=sn,this._x=un}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(sn,un){switch(sn=+sn,un=+un,this._point){case 0:{this._point=1,this._line?this._context.lineTo(sn,un):this._context.moveTo(sn,un);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+sn)/2,this._y0,this._x0,un,sn,un):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+un)/2,sn,this._y0,sn,un);break}}this._x0=sn,this._y0=un}}function bumpX(tn){return new Bump(tn,!0)}function bumpY(tn){return new Bump(tn,!1)}const symbolCircle={draw(tn,sn){const un=sqrt$1(sn/pi$1);tn.moveTo(un,0),tn.arc(0,0,un,0,tau$1)}},symbolCross={draw(tn,sn){const un=sqrt$1(sn/5)/2;tn.moveTo(-3*un,-un),tn.lineTo(-un,-un),tn.lineTo(-un,-3*un),tn.lineTo(un,-3*un),tn.lineTo(un,-un),tn.lineTo(3*un,-un),tn.lineTo(3*un,un),tn.lineTo(un,un),tn.lineTo(un,3*un),tn.lineTo(-un,3*un),tn.lineTo(-un,un),tn.lineTo(-3*un,un),tn.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(tn,sn){const un=sqrt$1(sn/tan30_2),dn=un*tan30;tn.moveTo(0,-un),tn.lineTo(dn,0),tn.lineTo(0,un),tn.lineTo(-dn,0),tn.closePath()}},symbolSquare={draw(tn,sn){const un=sqrt$1(sn),dn=-un/2;tn.rect(dn,dn,un,un)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(tn,sn){const un=sqrt$1(sn*ka),dn=kx*un,pn=ky*un;tn.moveTo(0,-un),tn.lineTo(dn,pn);for(let mn=1;mn<5;++mn){const hn=tau$1*mn/5,fn=cos(hn),gn=sin(hn);tn.lineTo(gn*un,-fn*un),tn.lineTo(fn*dn-gn*pn,gn*dn+fn*pn)}tn.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(tn,sn){const un=-sqrt$1(sn/(sqrt3*3));tn.moveTo(0,un*2),tn.lineTo(-sqrt3*un,-un),tn.lineTo(sqrt3*un,-un),tn.closePath()}},c$1=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a=(k$1/2+1)*3,symbolWye={draw(tn,sn){const un=sqrt$1(sn/a),dn=un/2,pn=un*k$1,mn=dn,hn=un*k$1+un,fn=-mn,gn=hn;tn.moveTo(dn,pn),tn.lineTo(mn,hn),tn.lineTo(fn,gn),tn.lineTo(c$1*dn-s$1*pn,s$1*dn+c$1*pn),tn.lineTo(c$1*mn-s$1*hn,s$1*mn+c$1*hn),tn.lineTo(c$1*fn-s$1*gn,s$1*fn+c$1*gn),tn.lineTo(c$1*dn+s$1*pn,c$1*pn-s$1*dn),tn.lineTo(c$1*mn+s$1*hn,c$1*hn-s$1*mn),tn.lineTo(c$1*fn+s$1*gn,c$1*gn-s$1*fn),tn.closePath()}};function Symbol$3(tn,sn){let un=null,dn=withPath(pn);tn=typeof tn=="function"?tn:constant$3(tn||symbolCircle),sn=typeof sn=="function"?sn:constant$3(sn===void 0?64:+sn);function pn(){let mn;if(un||(un=mn=dn()),tn.apply(this,arguments).draw(un,+sn.apply(this,arguments)),mn)return un=null,mn+""||null}return pn.type=function(mn){return arguments.length?(tn=typeof mn=="function"?mn:constant$3(mn),pn):tn},pn.size=function(mn){return arguments.length?(sn=typeof mn=="function"?mn:constant$3(+mn),pn):sn},pn.context=function(mn){return arguments.length?(un=mn??null,pn):un},pn}function noop$c(){}function point$5(tn,sn,un){tn._context.bezierCurveTo((2*tn._x0+tn._x1)/3,(2*tn._y0+tn._y1)/3,(tn._x0+2*tn._x1)/3,(tn._y0+2*tn._y1)/3,(tn._x0+4*tn._x1+sn)/6,(tn._y0+4*tn._y1+un)/6)}function Basis(tn){this._context=tn}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tn,sn){switch(tn=+tn,sn=+sn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tn,sn):this._context.moveTo(tn,sn);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$5(this,tn,sn);break}this._x0=this._x1,this._x1=tn,this._y0=this._y1,this._y1=sn}};function curveBasis(tn){return new Basis(tn)}function BasisClosed(tn){this._context=tn}BasisClosed.prototype={areaStart:noop$c,areaEnd:noop$c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(tn,sn){switch(tn=+tn,sn=+sn,this._point){case 0:this._point=1,this._x2=tn,this._y2=sn;break;case 1:this._point=2,this._x3=tn,this._y3=sn;break;case 2:this._point=3,this._x4=tn,this._y4=sn,this._context.moveTo((this._x0+4*this._x1+tn)/6,(this._y0+4*this._y1+sn)/6);break;default:point$5(this,tn,sn);break}this._x0=this._x1,this._x1=tn,this._y0=this._y1,this._y1=sn}};function curveBasisClosed(tn){return new BasisClosed(tn)}function BasisOpen(tn){this._context=tn}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(tn,sn){switch(tn=+tn,sn=+sn,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var un=(this._x0+4*this._x1+tn)/6,dn=(this._y0+4*this._y1+sn)/6;this._line?this._context.lineTo(un,dn):this._context.moveTo(un,dn);break;case 3:this._point=4;default:point$5(this,tn,sn);break}this._x0=this._x1,this._x1=tn,this._y0=this._y1,this._y1=sn}};function curveBasisOpen(tn){return new BasisOpen(tn)}function LinearClosed(tn){this._context=tn}LinearClosed.prototype={areaStart:noop$c,areaEnd:noop$c,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(tn,sn){tn=+tn,sn=+sn,this._point?this._context.lineTo(tn,sn):(this._point=1,this._context.moveTo(tn,sn))}};function curveLinearClosed(tn){return new LinearClosed(tn)}function sign(tn){return tn<0?-1:1}function slope3(tn,sn,un){var dn=tn._x1-tn._x0,pn=sn-tn._x1,mn=(tn._y1-tn._y0)/(dn||pn<0&&-0),hn=(un-tn._y1)/(pn||dn<0&&-0),fn=(mn*pn+hn*dn)/(dn+pn);return(sign(mn)+sign(hn))*Math.min(Math.abs(mn),Math.abs(hn),.5*Math.abs(fn))||0}function slope2(tn,sn){var un=tn._x1-tn._x0;return un?(3*(tn._y1-tn._y0)/un-sn)/2:sn}function point$4(tn,sn,un){var dn=tn._x0,pn=tn._y0,mn=tn._x1,hn=tn._y1,fn=(mn-dn)/3;tn._context.bezierCurveTo(dn+fn,pn+fn*sn,mn-fn,hn-fn*un,mn,hn)}function MonotoneX(tn){this._context=tn}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$4(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tn,sn){var un=NaN;if(tn=+tn,sn=+sn,!(tn===this._x1&&sn===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(tn,sn):this._context.moveTo(tn,sn);break;case 1:this._point=2;break;case 2:this._point=3,point$4(this,slope2(this,un=slope3(this,tn,sn)),un);break;default:point$4(this,this._t0,un=slope3(this,tn,sn));break}this._x0=this._x1,this._x1=tn,this._y0=this._y1,this._y1=sn,this._t0=un}}};function MonotoneY(tn){this._context=new ReflectContext(tn)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(tn,sn){MonotoneX.prototype.point.call(this,sn,tn)};function ReflectContext(tn){this._context=tn}ReflectContext.prototype={moveTo:function(tn,sn){this._context.moveTo(sn,tn)},closePath:function(){this._context.closePath()},lineTo:function(tn,sn){this._context.lineTo(sn,tn)},bezierCurveTo:function(tn,sn,un,dn,pn,mn){this._context.bezierCurveTo(sn,tn,dn,un,mn,pn)}};function monotoneX(tn){return new MonotoneX(tn)}function monotoneY(tn){return new MonotoneY(tn)}function Natural(tn){this._context=tn}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var tn=this._x,sn=this._y,un=tn.length;if(un)if(this._line?this._context.lineTo(tn[0],sn[0]):this._context.moveTo(tn[0],sn[0]),un===2)this._context.lineTo(tn[1],sn[1]);else for(var dn=controlPoints(tn),pn=controlPoints(sn),mn=0,hn=1;hn<un;++mn,++hn)this._context.bezierCurveTo(dn[0][mn],pn[0][mn],dn[1][mn],pn[1][mn],tn[hn],sn[hn]);(this._line||this._line!==0&&un===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(tn,sn){this._x.push(+tn),this._y.push(+sn)}};function controlPoints(tn){var sn,un=tn.length-1,dn,pn=new Array(un),mn=new Array(un),hn=new Array(un);for(pn[0]=0,mn[0]=2,hn[0]=tn[0]+2*tn[1],sn=1;sn<un-1;++sn)pn[sn]=1,mn[sn]=4,hn[sn]=4*tn[sn]+2*tn[sn+1];for(pn[un-1]=2,mn[un-1]=7,hn[un-1]=8*tn[un-1]+tn[un],sn=1;sn<un;++sn)dn=pn[sn]/mn[sn-1],mn[sn]-=dn,hn[sn]-=dn*hn[sn-1];for(pn[un-1]=hn[un-1]/mn[un-1],sn=un-2;sn>=0;--sn)pn[sn]=(hn[sn]-pn[sn+1])/mn[sn];for(mn[un-1]=(tn[un]+pn[un-1])/2,sn=0;sn<un-1;++sn)mn[sn]=2*tn[sn+1]-pn[sn+1];return[pn,mn]}function curveNatural(tn){return new Natural(tn)}function Step(tn,sn){this._context=tn,this._t=sn}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(tn,sn){switch(tn=+tn,sn=+sn,this._point){case 0:this._point=1,this._line?this._context.lineTo(tn,sn):this._context.moveTo(tn,sn);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,sn),this._context.lineTo(tn,sn);else{var un=this._x*(1-this._t)+tn*this._t;this._context.lineTo(un,this._y),this._context.lineTo(un,sn)}break}}this._x=tn,this._y=sn}};function curveStep(tn){return new Step(tn,.5)}function stepBefore(tn){return new Step(tn,0)}function stepAfter(tn){return new Step(tn,1)}function stackOffsetNone(tn,sn){if((hn=tn.length)>1)for(var un=1,dn,pn,mn=tn[sn[0]],hn,fn=mn.length;un<hn;++un)for(pn=mn,mn=tn[sn[un]],dn=0;dn<fn;++dn)mn[dn][1]+=mn[dn][0]=isNaN(pn[dn][1])?pn[dn][0]:pn[dn][1]}function stackOrderNone(tn){for(var sn=tn.length,un=new Array(sn);--sn>=0;)un[sn]=sn;return un}function stackValue(tn,sn){return tn[sn]}function stackSeries(tn){const sn=[];return sn.key=tn,sn}function shapeStack(){var tn=constant$3([]),sn=stackOrderNone,un=stackOffsetNone,dn=stackValue;function pn(mn){var hn=Array.from(tn.apply(this,arguments),stackSeries),fn,gn=hn.length,xn=-1,yn;for(const vn of mn)for(fn=0,++xn;fn<gn;++fn)(hn[fn][xn]=[0,+dn(vn,hn[fn].key,xn,mn)]).data=vn;for(fn=0,yn=array$1(sn(hn));fn<gn;++fn)hn[yn[fn]].index=fn;return un(hn,yn),hn}return pn.keys=function(mn){return arguments.length?(tn=typeof mn=="function"?mn:constant$3(Array.from(mn)),pn):tn},pn.value=function(mn){return arguments.length?(dn=typeof mn=="function"?mn:constant$3(+mn),pn):dn},pn.order=function(mn){return arguments.length?(sn=mn==null?stackOrderNone:typeof mn=="function"?mn:constant$3(Array.from(mn)),pn):sn},pn.offset=function(mn){return arguments.length?(un=mn??stackOffsetNone,pn):un},pn}function stackOffsetExpand(tn,sn){if((dn=tn.length)>0){for(var un,dn,pn=0,mn=tn[0].length,hn;pn<mn;++pn){for(hn=un=0;un<dn;++un)hn+=tn[un][pn][1]||0;if(hn)for(un=0;un<dn;++un)tn[un][pn][1]/=hn}stackOffsetNone(tn,sn)}}function stackOffsetSilhouette(tn,sn){if((pn=tn.length)>0){for(var un=0,dn=tn[sn[0]],pn,mn=dn.length;un<mn;++un){for(var hn=0,fn=0;hn<pn;++hn)fn+=tn[hn][un][1]||0;dn[un][1]+=dn[un][0]=-fn/2}stackOffsetNone(tn,sn)}}function stackOffsetWiggle(tn,sn){if(!(!((hn=tn.length)>0)||!((mn=(pn=tn[sn[0]]).length)>0))){for(var un=0,dn=1,pn,mn,hn;dn<mn;++dn){for(var fn=0,gn=0,xn=0;fn<hn;++fn){for(var yn=tn[sn[fn]],vn=yn[dn][1]||0,En=yn[dn-1][1]||0,bn=(vn-En)/2,wn=0;wn<fn;++wn){var Sn=tn[sn[wn]],Rn=Sn[dn][1]||0,_n=Sn[dn-1][1]||0;bn+=Rn-_n}gn+=vn,xn+=bn*vn}pn[dn-1][1]+=pn[dn-1][0]=un,gn&&(un-=xn/gn)}pn[dn-1][1]+=pn[dn-1][0]=un,stackOffsetNone(tn,sn)}}function _typeof$I(tn){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$I(tn)}var _excluded$i=["type","size","sizeType"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$r.apply(this,arguments)}function ownKeys$D(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$D(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$D(Object(un),!0).forEach(function(dn){_defineProperty$J(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$D(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$J(tn,sn,un){return sn=_toPropertyKey$G(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$G(tn){var sn=_toPrimitive$G(tn,"string");return _typeof$I(sn)=="symbol"?sn:sn+""}function _toPrimitive$G(tn,sn){if(_typeof$I(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$I(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _objectWithoutProperties$g(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$i(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$i(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function tn(sn){var un="symbol".concat(upperFirst$1(sn));return symbolFactories[un]||symbolCircle},calculateAreaSize=function tn(sn,un,dn){if(un==="area")return sn;switch(dn){case"cross":return 5*sn*sn/9;case"diamond":return .5*sn*sn/Math.sqrt(3);case"square":return sn*sn;case"star":{var pn=18*RADIAN$1;return 1.25*sn*sn*(Math.tan(pn)-Math.tan(pn*2)*Math.pow(Math.tan(pn),2))}case"triangle":return Math.sqrt(3)*sn*sn/4;case"wye":return(21-10*Math.sqrt(3))*sn*sn/8;default:return Math.PI*sn*sn/4}},registerSymbol=function tn(sn,un){symbolFactories["symbol".concat(upperFirst$1(sn))]=un},Symbols=function tn(sn){var un=sn.type,dn=un===void 0?"circle":un,pn=sn.size,mn=pn===void 0?64:pn,hn=sn.sizeType,fn=hn===void 0?"area":hn,gn=_objectWithoutProperties$g(sn,_excluded$i),xn=_objectSpread$D(_objectSpread$D({},gn),{},{type:dn,size:mn,sizeType:fn}),yn=function(){var Rn=getSymbolFactory(dn),_n=Symbol$3().type(Rn).size(calculateAreaSize(mn,fn,dn));return _n()},vn=xn.className,En=xn.cx,bn=xn.cy,wn=filterProps$1(xn,!0);return En===+En&&bn===+bn&&mn===+mn?React$1.createElement("path",_extends$r({},wn,{className:clsx("recharts-symbols",vn),transform:"translate(".concat(En,", ").concat(bn,")"),d:yn()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$H(tn){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$H(tn)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$q.apply(this,arguments)}function ownKeys$C(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$C(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$C(Object(un),!0).forEach(function(dn){_defineProperty$I(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$C(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$k(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$F(dn.key),dn)}}function _createClass$k(tn,sn,un){return sn&&_defineProperties$k(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$f(tn,sn,un){return sn=_getPrototypeOf$h(sn),_possibleConstructorReturn$h(tn,_isNativeReflectConstruct$h()?Reflect.construct(sn,un||[],_getPrototypeOf$h(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$h(tn,sn){if(sn&&(_typeof$H(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(tn)}function _assertThisInitialized$h(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$h(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!tn})()}function _getPrototypeOf$h(tn){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$h(tn)}function _inherits$h(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$h(tn,sn)}function _setPrototypeOf$h(tn,sn){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$h(tn,sn)}function _defineProperty$I(tn,sn,un){return sn=_toPropertyKey$F(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$F(tn){var sn=_toPrimitive$F(tn,"string");return _typeof$H(sn)=="symbol"?sn:sn+""}function _toPrimitive$F(tn,sn){if(_typeof$H(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$H(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var SIZE=32,DefaultLegendContent=function(tn){function sn(){return _classCallCheck$k(this,sn),_callSuper$f(this,sn,arguments)}return _inherits$h(sn,tn),_createClass$k(sn,[{key:"renderIcon",value:function(dn){var pn=this.props.inactiveColor,mn=SIZE/2,hn=SIZE/6,fn=SIZE/3,gn=dn.inactive?pn:dn.color;if(dn.type==="plainline")return React$1.createElement("line",{strokeWidth:4,fill:"none",stroke:gn,strokeDasharray:dn.payload.strokeDasharray,x1:0,y1:mn,x2:SIZE,y2:mn,className:"recharts-legend-icon"});if(dn.type==="line")return React$1.createElement("path",{strokeWidth:4,fill:"none",stroke:gn,d:"M0,".concat(mn,"h").concat(fn,`
            A`).concat(hn,",").concat(hn,",0,1,1,").concat(2*fn,",").concat(mn,`
            H`).concat(SIZE,"M").concat(2*fn,",").concat(mn,`
            A`).concat(hn,",").concat(hn,",0,1,1,").concat(fn,",").concat(mn),className:"recharts-legend-icon"});if(dn.type==="rect")return React$1.createElement("path",{stroke:"none",fill:gn,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React$1.isValidElement(dn.legendIcon)){var xn=_objectSpread$C({},dn);return delete xn.legendIcon,React$1.cloneElement(dn.legendIcon,xn)}return React$1.createElement(Symbols,{fill:gn,cx:mn,cy:mn,size:SIZE,sizeType:"diameter",type:dn.type})}},{key:"renderItems",value:function(){var dn=this,pn=this.props,mn=pn.payload,hn=pn.iconSize,fn=pn.layout,gn=pn.formatter,xn=pn.inactiveColor,yn={x:0,y:0,width:SIZE,height:SIZE},vn={display:fn==="horizontal"?"inline-block":"block",marginRight:10},En={display:"inline-block",verticalAlign:"middle",marginRight:4};return mn.map(function(bn,wn){var Sn=bn.formatter||gn,Rn=clsx(_defineProperty$I(_defineProperty$I({"recharts-legend-item":!0},"legend-item-".concat(wn),!0),"inactive",bn.inactive));if(bn.type==="none")return null;var _n=isFunction$5(bn.value)?null:bn.value;warn(!isFunction$5(bn.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var jn=bn.inactive?xn:bn.color;return React$1.createElement("li",_extends$q({className:Rn,style:vn,key:"legend-item-".concat(wn)},adaptEventsOfChild(dn.props,bn,wn)),React$1.createElement(Surface,{width:hn,height:hn,viewBox:yn,style:En},dn.renderIcon(bn)),React$1.createElement("span",{className:"recharts-legend-item-text",style:{color:jn}},Sn?Sn(_n,bn,wn):_n))})}},{key:"render",value:function(){var dn=this.props,pn=dn.payload,mn=dn.layout,hn=dn.align;if(!pn||!pn.length)return null;var fn={padding:0,margin:0,textAlign:mn==="horizontal"?hn:"left"};return React$1.createElement("ul",{className:"recharts-default-legend",style:fn},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$I(DefaultLegendContent,"displayName","Legend");_defineProperty$I(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(tn){var sn=this.__data__,un=sn.delete(tn);return this.size=sn.size,un}var _stackDelete=stackDelete$1;function stackGet$1(tn){return this.__data__.get(tn)}var _stackGet=stackGet$1;function stackHas$1(tn){return this.__data__.has(tn)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(tn,sn){var un=this.__data__;if(un instanceof ListCache$1){var dn=un.__data__;if(!Map$2||dn.length<LARGE_ARRAY_SIZE$1-1)return dn.push([tn,sn]),this.size=++un.size,this;un=this.__data__=new MapCache$1(dn)}return un.set(tn,sn),this.size=un.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(tn){var sn=this.__data__=new ListCache(tn);this.size=sn.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(tn){return this.__data__.set(tn,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(tn){return this.__data__.has(tn)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(tn){var sn=-1,un=tn==null?0:tn.length;for(this.__data__=new MapCache;++sn<un;)this.add(tn[sn])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(tn,sn){for(var un=-1,dn=tn==null?0:tn.length;++un<dn;)if(sn(tn[un],un,tn))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(tn,sn){return tn.has(sn)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(tn,sn,un,dn,pn,mn){var hn=un&COMPARE_PARTIAL_FLAG$5,fn=tn.length,gn=sn.length;if(fn!=gn&&!(hn&&gn>fn))return!1;var xn=mn.get(tn),yn=mn.get(sn);if(xn&&yn)return xn==sn&&yn==tn;var vn=-1,En=!0,bn=un&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(mn.set(tn,sn),mn.set(sn,tn);++vn<fn;){var wn=tn[vn],Sn=sn[vn];if(dn)var Rn=hn?dn(Sn,wn,vn,sn,tn,mn):dn(wn,Sn,vn,tn,sn,mn);if(Rn!==void 0){if(Rn)continue;En=!1;break}if(bn){if(!arraySome$1(sn,function(_n,jn){if(!cacheHas$1(bn,jn)&&(wn===_n||pn(wn,_n,un,dn,mn)))return bn.push(jn)})){En=!1;break}}else if(!(wn===Sn||pn(wn,Sn,un,dn,mn))){En=!1;break}}return mn.delete(tn),mn.delete(sn),En}var _equalArrays=equalArrays$2,root$a=_root,Uint8Array$2=root$a.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(tn){var sn=-1,un=Array(tn.size);return tn.forEach(function(dn,pn){un[++sn]=[pn,dn]}),un}var _mapToArray=mapToArray$1;function setToArray$3(tn){var sn=-1,un=Array(tn.size);return tn.forEach(function(dn){un[++sn]=dn}),un}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(tn,sn,un,dn,pn,mn,hn){switch(un){case dataViewTag$2:if(tn.byteLength!=sn.byteLength||tn.byteOffset!=sn.byteOffset)return!1;tn=tn.buffer,sn=sn.buffer;case arrayBufferTag$1:return!(tn.byteLength!=sn.byteLength||!mn(new Uint8Array$1(tn),new Uint8Array$1(sn)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$1(+tn,+sn);case errorTag$1:return tn.name==sn.name&&tn.message==sn.message;case regexpTag$1:case stringTag$1:return tn==sn+"";case mapTag$2:var fn=mapToArray;case setTag$2:var gn=dn&COMPARE_PARTIAL_FLAG$4;if(fn||(fn=setToArray$2),tn.size!=sn.size&&!gn)return!1;var xn=hn.get(tn);if(xn)return xn==sn;dn|=COMPARE_UNORDERED_FLAG$2,hn.set(tn,sn);var yn=equalArrays$1(fn(tn),fn(sn),dn,pn,mn,hn);return hn.delete(tn),yn;case symbolTag$2:if(symbolValueOf)return symbolValueOf.call(tn)==symbolValueOf.call(sn)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(tn,sn){for(var un=-1,dn=sn.length,pn=tn.length;++un<dn;)tn[pn+un]=sn[un];return tn}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$c=isArray_1;function baseGetAllKeys$1(tn,sn,un){var dn=sn(tn);return isArray$c(tn)?dn:arrayPush$1(dn,un(tn))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(tn,sn){for(var un=-1,dn=tn==null?0:tn.length,pn=0,mn=[];++un<dn;){var hn=tn[un];sn(hn,un,tn)&&(mn[pn++]=hn)}return mn}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$9=Object.prototype,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(tn){return tn==null?[]:(tn=Object(tn),arrayFilter(nativeGetSymbols(tn),function(sn){return propertyIsEnumerable$1.call(tn,sn)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(tn,sn){for(var un=-1,dn=Array(tn);++un<tn;)dn[un]=sn(un);return dn}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$7=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(tn){return isObjectLike$7(tn)&&baseGetTag$4(tn)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$6=isObjectLike_1,objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty,propertyIsEnumerable=objectProto$8.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(tn){return isObjectLike$6(tn)&&hasOwnProperty$8.call(tn,"callee")&&!propertyIsEnumerable.call(tn,"callee")},isArguments_1=isArguments$3,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$3.exports;(function(tn,sn){var un=_root,dn=stubFalse_1,pn=sn&&!sn.nodeType&&sn,mn=pn&&!0&&tn&&!tn.nodeType&&tn,hn=mn&&mn.exports===pn,fn=hn?un.Buffer:void 0,gn=fn?fn.isBuffer:void 0,xn=gn||dn;tn.exports=xn})(isBuffer$3,isBuffer$3.exports);var isBufferExports=isBuffer$3.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(tn,sn){var un=typeof tn;return sn=sn??MAX_SAFE_INTEGER$2,!!sn&&(un=="number"||un!="symbol"&&reIsUint.test(tn))&&tn>-1&&tn%1==0&&tn<sn}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(tn){return typeof tn=="number"&&tn>-1&&tn%1==0&&tn<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$5=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(tn){return isObjectLike$5(tn)&&isLength$2(tn.length)&&!!typedArrayTags[baseGetTag$3(tn)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(tn){return function(sn){return tn(sn)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(tn,sn){var un=_freeGlobal,dn=sn&&!sn.nodeType&&sn,pn=dn&&!0&&tn&&!tn.nodeType&&tn,mn=pn&&pn.exports===dn,hn=mn&&un.process,fn=function(){try{var gn=pn&&pn.require&&pn.require("util").types;return gn||hn&&hn.binding&&hn.binding("util")}catch{}}();tn.exports=fn})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$b=isArray_1,isBuffer$2=isBufferExports,isIndex$2=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function arrayLikeKeys$1(tn,sn){var un=isArray$b(tn),dn=!un&&isArguments$2(tn),pn=!un&&!dn&&isBuffer$2(tn),mn=!un&&!dn&&!pn&&isTypedArray$3(tn),hn=un||dn||pn||mn,fn=hn?baseTimes(tn.length,String):[],gn=fn.length;for(var xn in tn)(sn||hasOwnProperty$7.call(tn,xn))&&!(hn&&(xn=="length"||pn&&(xn=="offset"||xn=="parent")||mn&&(xn=="buffer"||xn=="byteLength"||xn=="byteOffset")||isIndex$2(xn,gn)))&&fn.push(xn);return fn}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$6=Object.prototype;function isPrototype$1(tn){var sn=tn&&tn.constructor,un=typeof sn=="function"&&sn.prototype||objectProto$6;return tn===un}var _isPrototype=isPrototype$1;function overArg$2(tn,sn){return function(un){return tn(sn(un))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty;function baseKeys$1(tn){if(!isPrototype(tn))return nativeKeys(tn);var sn=[];for(var un in Object(tn))hasOwnProperty$6.call(tn,un)&&un!="constructor"&&sn.push(un);return sn}var _baseKeys=baseKeys$1,isFunction$2=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(tn){return tn!=null&&isLength$1(tn.length)&&!isFunction$2(tn)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$7(tn){return isArrayLike$4(tn)?arrayLikeKeys(tn):baseKeys(tn)}var keys_1=keys$7,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$6=keys_1;function getAllKeys$1(tn){return baseGetAllKeys(tn,keys$6,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function equalObjects$1(tn,sn,un,dn,pn,mn){var hn=un&COMPARE_PARTIAL_FLAG$3,fn=getAllKeys(tn),gn=fn.length,xn=getAllKeys(sn),yn=xn.length;if(gn!=yn&&!hn)return!1;for(var vn=gn;vn--;){var En=fn[vn];if(!(hn?En in sn:hasOwnProperty$5.call(sn,En)))return!1}var bn=mn.get(tn),wn=mn.get(sn);if(bn&&wn)return bn==sn&&wn==tn;var Sn=!0;mn.set(tn,sn),mn.set(sn,tn);for(var Rn=hn;++vn<gn;){En=fn[vn];var _n=tn[En],jn=sn[En];if(dn)var Cn=hn?dn(jn,_n,En,sn,tn,mn):dn(_n,jn,En,tn,sn,mn);if(!(Cn===void 0?_n===jn||pn(_n,jn,un,dn,mn):Cn)){Sn=!1;break}Rn||(Rn=En=="constructor")}if(Sn&&!Rn){var An=tn.constructor,Tn=sn.constructor;An!=Tn&&"constructor"in tn&&"constructor"in sn&&!(typeof An=="function"&&An instanceof An&&typeof Tn=="function"&&Tn instanceof Tn)&&(Sn=!1)}return mn.delete(tn),mn.delete(sn),Sn}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$9=_root,DataView$2=getNative$4(root$9,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$8=_root,Promise$2=getNative$3(root$8,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$7=_root,Set$3=getNative$2(root$7,"Set"),_Set=Set$3,getNative$1=_getNative,root$6=_root,WeakMap$2=getNative$1(root$6,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$1&&getTag$2(Promise$1.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(tn){var sn=baseGetTag$2(tn),un=sn==objectTag$2?tn.constructor:void 0,dn=un?toSource(un):"";if(dn)switch(dn){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return sn});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$a=isArray_1,isBuffer$1=isBufferExports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseIsEqualDeep$1(tn,sn,un,dn,pn,mn){var hn=isArray$a(tn),fn=isArray$a(sn),gn=hn?arrayTag:getTag$1(tn),xn=fn?arrayTag:getTag$1(sn);gn=gn==argsTag?objectTag$1:gn,xn=xn==argsTag?objectTag$1:xn;var yn=gn==objectTag$1,vn=xn==objectTag$1,En=gn==xn;if(En&&isBuffer$1(tn)){if(!isBuffer$1(sn))return!1;hn=!0,yn=!1}if(En&&!yn)return mn||(mn=new Stack$1),hn||isTypedArray$2(tn)?equalArrays(tn,sn,un,dn,pn,mn):equalByTag(tn,sn,gn,un,dn,pn,mn);if(!(un&COMPARE_PARTIAL_FLAG$2)){var bn=yn&&hasOwnProperty$4.call(tn,"__wrapped__"),wn=vn&&hasOwnProperty$4.call(sn,"__wrapped__");if(bn||wn){var Sn=bn?tn.value():tn,Rn=wn?sn.value():sn;return mn||(mn=new Stack$1),pn(Sn,Rn,un,dn,mn)}}return En?(mn||(mn=new Stack$1),equalObjects(tn,sn,un,dn,pn,mn)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$4=isObjectLike_1;function baseIsEqual$3(tn,sn,un,dn,pn){return tn===sn?!0:tn==null||sn==null||!isObjectLike$4(tn)&&!isObjectLike$4(sn)?tn!==tn&&sn!==sn:baseIsEqualDeep(tn,sn,un,dn,baseIsEqual$3,pn)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(tn,sn,un,dn){var pn=un.length,mn=pn,hn=!dn;if(tn==null)return!mn;for(tn=Object(tn);pn--;){var fn=un[pn];if(hn&&fn[2]?fn[1]!==tn[fn[0]]:!(fn[0]in tn))return!1}for(;++pn<mn;){fn=un[pn];var gn=fn[0],xn=tn[gn],yn=fn[1];if(hn&&fn[2]){if(xn===void 0&&!(gn in tn))return!1}else{var vn=new Stack;if(dn)var En=dn(xn,yn,gn,tn,sn,vn);if(!(En===void 0?baseIsEqual$2(yn,xn,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,dn,vn):En))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$9=isObject_1;function isStrictComparable$2(tn){return tn===tn&&!isObject$9(tn)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$5=keys_1;function getMatchData$1(tn){for(var sn=keys$5(tn),un=sn.length;un--;){var dn=sn[un],pn=tn[dn];sn[un]=[dn,pn,isStrictComparable$1(pn)]}return sn}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(tn,sn){return function(un){return un==null?!1:un[tn]===sn&&(sn!==void 0||tn in Object(un))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(tn){var sn=getMatchData(tn);return sn.length==1&&sn[0][2]?matchesStrictComparable$1(sn[0][0],sn[0][1]):function(un){return un===tn||baseIsMatch(un,tn,sn)}}var _baseMatches=baseMatches$1;function baseHasIn$1(tn,sn){return tn!=null&&sn in Object(tn)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$9=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(tn,sn,un){sn=castPath(sn,tn);for(var dn=-1,pn=sn.length,mn=!1;++dn<pn;){var hn=toKey$2(sn[dn]);if(!(mn=tn!=null&&un(tn,hn)))break;tn=tn[hn]}return mn||++dn!=pn?mn:(pn=tn==null?0:tn.length,!!pn&&isLength(pn)&&isIndex$1(hn,pn)&&(isArray$9(tn)||isArguments$1(tn)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(tn,sn){return tn!=null&&hasPath(tn,sn,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get$3=get_1,hasIn=hasIn_1,isKey$2=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(tn,sn){return isKey$2(tn)&&isStrictComparable(sn)?matchesStrictComparable(toKey$1(tn),sn):function(un){var dn=get$3(un,tn);return dn===void 0&&dn===sn?hasIn(un,tn):baseIsEqual$1(sn,dn,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(tn){return tn}var identity_1=identity$b;function baseProperty$1(tn){return function(sn){return sn==null?void 0:sn[tn]}}var _baseProperty=baseProperty$1,baseGet$2=_baseGet;function basePropertyDeep$1(tn){return function(sn){return baseGet$2(sn,tn)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey$1=_isKey,toKey=_toKey;function property$1(tn){return isKey$1(tn)?baseProperty(toKey(tn)):basePropertyDeep(tn)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$8=isArray_1,property=property_1;function baseIteratee$8(tn){return typeof tn=="function"?tn:tn==null?identity$a:typeof tn=="object"?isArray$8(tn)?baseMatchesProperty(tn[0],tn[1]):baseMatches(tn):property(tn)}var _baseIteratee=baseIteratee$8;function baseFindIndex$2(tn,sn,un,dn){for(var pn=tn.length,mn=un+(dn?1:-1);dn?mn--:++mn<pn;)if(sn(tn[mn],mn,tn))return mn;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(tn){return tn!==tn}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(tn,sn,un){for(var dn=un-1,pn=tn.length;++dn<pn;)if(tn[dn]===sn)return dn;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(tn,sn,un){return sn===sn?strictIndexOf(tn,sn,un):baseFindIndex$1(tn,baseIsNaN,un)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(tn,sn){var un=tn==null?0:tn.length;return!!un&&baseIndexOf(tn,sn,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(tn,sn,un){for(var dn=-1,pn=tn==null?0:tn.length;++dn<pn;)if(un(sn,tn[dn]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$b(){}var noop_1=noop$b,Set$1=_Set,noop$a=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(tn){return new Set$1(tn)}:noop$a,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(tn,sn,un){var dn=-1,pn=arrayIncludes,mn=tn.length,hn=!0,fn=[],gn=fn;if(un)hn=!1,pn=arrayIncludesWith;else if(mn>=LARGE_ARRAY_SIZE){var xn=sn?null:createSet(tn);if(xn)return setToArray(xn);hn=!1,pn=cacheHas,gn=new SetCache}else gn=sn?[]:fn;e:for(;++dn<mn;){var yn=tn[dn],vn=sn?sn(yn):yn;if(yn=un||yn!==0?yn:0,hn&&vn===vn){for(var En=gn.length;En--;)if(gn[En]===vn)continue e;sn&&gn.push(vn),fn.push(yn)}else pn(gn,vn,un)||(gn!==fn&&gn.push(vn),fn.push(yn))}return fn}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy$2(tn,sn){return tn&&tn.length?baseUniq(tn,baseIteratee$7(sn)):[]}var uniqBy_1=uniqBy$2;const uniqBy$3=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(tn,sn,un){return sn===!0?uniqBy$3(tn,un):isFunction$5(sn)?uniqBy$3(tn,sn):tn}function _typeof$G(tn){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$G(tn)}var _excluded$h=["ref"];function ownKeys$B(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$B(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$B(Object(un),!0).forEach(function(dn){_defineProperty$H(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$B(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$j(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$E(dn.key),dn)}}function _createClass$j(tn,sn,un){return sn&&_defineProperties$j(tn.prototype,sn),un&&_defineProperties$j(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$e(tn,sn,un){return sn=_getPrototypeOf$g(sn),_possibleConstructorReturn$g(tn,_isNativeReflectConstruct$g()?Reflect.construct(sn,un||[],_getPrototypeOf$g(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$g(tn,sn){if(sn&&(_typeof$G(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(tn)}function _assertThisInitialized$g(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$g(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!tn})()}function _getPrototypeOf$g(tn){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$g(tn)}function _inherits$g(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$g(tn,sn)}function _setPrototypeOf$g(tn,sn){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$g(tn,sn)}function _defineProperty$H(tn,sn,un){return sn=_toPropertyKey$E(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$E(tn){var sn=_toPrimitive$E(tn,"string");return _typeof$G(sn)=="symbol"?sn:sn+""}function _toPrimitive$E(tn,sn){if(_typeof$G(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$G(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}function _objectWithoutProperties$f(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$h(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$h(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function defaultUniqBy$1(tn){return tn.value}function renderContent$1(tn,sn){if(React$1.isValidElement(tn))return React$1.cloneElement(tn,sn);if(typeof tn=="function")return React$1.createElement(tn,sn);sn.ref;var un=_objectWithoutProperties$f(sn,_excluded$h);return React$1.createElement(DefaultLegendContent,un)}var EPS$1=1,Legend=function(tn){function sn(){var un;_classCallCheck$j(this,sn);for(var dn=arguments.length,pn=new Array(dn),mn=0;mn<dn;mn++)pn[mn]=arguments[mn];return un=_callSuper$e(this,sn,[].concat(pn)),_defineProperty$H(un,"lastBoundingBox",{width:-1,height:-1}),un}return _inherits$g(sn,tn),_createClass$j(sn,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var dn=this.wrapperNode.getBoundingClientRect();return dn.height=this.wrapperNode.offsetHeight,dn.width=this.wrapperNode.offsetWidth,dn}return null}},{key:"updateBBox",value:function(){var dn=this.props.onBBoxUpdate,pn=this.getBBox();pn?(Math.abs(pn.width-this.lastBoundingBox.width)>EPS$1||Math.abs(pn.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=pn.width,this.lastBoundingBox.height=pn.height,dn&&dn(pn)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,dn&&dn(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$B({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(dn){var pn=this.props,mn=pn.layout,hn=pn.align,fn=pn.verticalAlign,gn=pn.margin,xn=pn.chartWidth,yn=pn.chartHeight,vn,En;if(!dn||(dn.left===void 0||dn.left===null)&&(dn.right===void 0||dn.right===null))if(hn==="center"&&mn==="vertical"){var bn=this.getBBoxSnapshot();vn={left:((xn||0)-bn.width)/2}}else vn=hn==="right"?{right:gn&&gn.right||0}:{left:gn&&gn.left||0};if(!dn||(dn.top===void 0||dn.top===null)&&(dn.bottom===void 0||dn.bottom===null))if(fn==="middle"){var wn=this.getBBoxSnapshot();En={top:((yn||0)-wn.height)/2}}else En=fn==="bottom"?{bottom:gn&&gn.bottom||0}:{top:gn&&gn.top||0};return _objectSpread$B(_objectSpread$B({},vn),En)}},{key:"render",value:function(){var dn=this,pn=this.props,mn=pn.content,hn=pn.width,fn=pn.height,gn=pn.wrapperStyle,xn=pn.payloadUniqBy,yn=pn.payload,vn=_objectSpread$B(_objectSpread$B({position:"absolute",width:hn||"auto",height:fn||"auto"},this.getDefaultPosition(gn)),gn);return React$1.createElement("div",{className:"recharts-legend-wrapper",style:vn,ref:function(bn){dn.wrapperNode=bn}},renderContent$1(mn,_objectSpread$B(_objectSpread$B({},this.props),{},{payload:getUniqPayload(yn,xn,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(dn,pn){var mn=_objectSpread$B(_objectSpread$B({},this.defaultProps),dn.props),hn=mn.layout;return hn==="vertical"&&isNumber$1(dn.props.height)?{height:dn.props.height}:hn==="horizontal"?{width:dn.props.width||pn}:null}}])}(reactExports.PureComponent);_defineProperty$H(Legend,"displayName","Legend");_defineProperty$H(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$7=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(tn){return isArray$7(tn)||isArguments(tn)||!!(spreadableSymbol&&tn&&tn[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(tn,sn,un,dn,pn){var mn=-1,hn=tn.length;for(un||(un=isFlattenable),pn||(pn=[]);++mn<hn;){var fn=tn[mn];sn>0&&un(fn)?sn>1?baseFlatten$2(fn,sn-1,un,dn,pn):arrayPush(pn,fn):dn||(pn[pn.length]=fn)}return pn}var _baseFlatten=baseFlatten$2;function createBaseFor$1(tn){return function(sn,un,dn){for(var pn=-1,mn=Object(sn),hn=dn(sn),fn=hn.length;fn--;){var gn=hn[tn?fn:++pn];if(un(mn[gn],gn,mn)===!1)break}return sn}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$4=keys_1;function baseForOwn$2(tn,sn){return tn&&baseFor(tn,sn,keys$4)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(tn,sn){return function(un,dn){if(un==null)return un;if(!isArrayLike$3(un))return tn(un,dn);for(var pn=un.length,mn=sn?pn:-1,hn=Object(un);(sn?mn--:++mn<pn)&&dn(hn[mn],mn,hn)!==!1;);return un}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(tn,sn){var un=-1,dn=isArrayLike$2(tn)?Array(tn.length):[];return baseEach$2(tn,function(pn,mn,hn){dn[++un]=sn(pn,mn,hn)}),dn}var _baseMap=baseMap$2;function baseSortBy$1(tn,sn){var un=tn.length;for(tn.sort(sn);un--;)tn[un]=tn[un].value;return tn}var _baseSortBy=baseSortBy$1,isSymbol$4=isSymbol_1;function compareAscending$1(tn,sn){if(tn!==sn){var un=tn!==void 0,dn=tn===null,pn=tn===tn,mn=isSymbol$4(tn),hn=sn!==void 0,fn=sn===null,gn=sn===sn,xn=isSymbol$4(sn);if(!fn&&!xn&&!mn&&tn>sn||mn&&hn&&gn&&!fn&&!xn||dn&&hn&&gn||!un&&gn||!pn)return 1;if(!dn&&!mn&&!xn&&tn<sn||xn&&un&&pn&&!dn&&!mn||fn&&un&&pn||!hn&&pn||!gn)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(tn,sn,un){for(var dn=-1,pn=tn.criteria,mn=sn.criteria,hn=pn.length,fn=un.length;++dn<hn;){var gn=compareAscending(pn[dn],mn[dn]);if(gn){if(dn>=fn)return gn;var xn=un[dn];return gn*(xn=="desc"?-1:1)}}return tn.index-sn.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet$1=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$6=isArray_1;function baseOrderBy$1(tn,sn,un){sn.length?sn=arrayMap$1(sn,function(mn){return isArray$6(mn)?function(hn){return baseGet$1(hn,mn.length===1?mn[0]:mn)}:mn}):sn=[identity$9];var dn=-1;sn=arrayMap$1(sn,baseUnary(baseIteratee$6));var pn=baseMap$1(tn,function(mn,hn,fn){var gn=arrayMap$1(sn,function(xn){return xn(mn)});return{criteria:gn,index:++dn,value:mn}});return baseSortBy(pn,function(mn,hn){return compareMultiple(mn,hn,un)})}var _baseOrderBy=baseOrderBy$1;function apply$1(tn,sn,un){switch(un.length){case 0:return tn.call(sn);case 1:return tn.call(sn,un[0]);case 2:return tn.call(sn,un[0],un[1]);case 3:return tn.call(sn,un[0],un[1],un[2])}return tn.apply(sn,un)}var _apply=apply$1,apply=_apply,nativeMax$5=Math.max;function overRest$1(tn,sn,un){return sn=nativeMax$5(sn===void 0?tn.length-1:sn,0),function(){for(var dn=arguments,pn=-1,mn=nativeMax$5(dn.length-sn,0),hn=Array(mn);++pn<mn;)hn[pn]=dn[sn+pn];pn=-1;for(var fn=Array(sn+1);++pn<sn;)fn[pn]=dn[pn];return fn[sn]=un(hn),apply(tn,this,fn)}}var _overRest=overRest$1;function constant$2(tn){return function(){return tn}}var constant_1=constant$2,getNative=_getNative,defineProperty$3=function(){try{var tn=getNative(Object,"defineProperty");return tn({},"",{}),tn}catch{}}(),_defineProperty$G=defineProperty$3,constant$1=constant_1,defineProperty$2=_defineProperty$G,identity$8=identity_1,baseSetToString$1=defineProperty$2?function(tn,sn){return defineProperty$2(tn,"toString",{configurable:!0,enumerable:!1,value:constant$1(sn),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(tn){var sn=0,un=0;return function(){var dn=nativeNow(),pn=HOT_SPAN-(dn-un);if(un=dn,pn>0){if(++sn>=HOT_COUNT)return arguments[0]}else sn=0;return tn.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(tn,sn){return setToString(overRest(tn,sn,identity$7),tn+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$8=isObject_1;function isIterateeCall$4(tn,sn,un){if(!isObject$8(un))return!1;var dn=typeof sn;return(dn=="number"?isArrayLike$1(un)&&isIndex(sn,un.length):dn=="string"&&sn in un)?eq(un[sn],tn):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(tn,sn){if(tn==null)return[];var un=sn.length;return un>1&&isIterateeCall$3(tn,sn[0],sn[1])?sn=[]:un>2&&isIterateeCall$3(sn[0],sn[1],sn[2])&&(sn=[sn[0]]),baseOrderBy(tn,baseFlatten$1(sn,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$F(tn){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$F(tn)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$p.apply(this,arguments)}function _slicedToArray$e(tn,sn){return _arrayWithHoles$f(tn)||_iterableToArrayLimit$e(tn,sn)||_unsupportedIterableToArray$p(tn,sn)||_nonIterableRest$f()}function _nonIterableRest$f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$p(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$p(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$p(tn,sn)}}function _arrayLikeToArray$p(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$e(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$f(tn){if(Array.isArray(tn))return tn}function ownKeys$A(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$A(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$A(Object(un),!0).forEach(function(dn){_defineProperty$F(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$A(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$F(tn,sn,un){return sn=_toPropertyKey$D(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$D(tn){var sn=_toPrimitive$D(tn,"string");return _typeof$F(sn)=="symbol"?sn:sn+""}function _toPrimitive$D(tn,sn){if(_typeof$F(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$F(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function defaultFormatter(tn){return Array.isArray(tn)&&isNumOrStr(tn[0])&&isNumOrStr(tn[1])?tn.join(" ~ "):tn}var DefaultTooltipContent=function tn(sn){var un=sn.separator,dn=un===void 0?" : ":un,pn=sn.contentStyle,mn=pn===void 0?{}:pn,hn=sn.itemStyle,fn=hn===void 0?{}:hn,gn=sn.labelStyle,xn=gn===void 0?{}:gn,yn=sn.payload,vn=sn.formatter,En=sn.itemSorter,bn=sn.wrapperClassName,wn=sn.labelClassName,Sn=sn.label,Rn=sn.labelFormatter,_n=sn.accessibilityLayer,jn=_n===void 0?!1:_n,Cn=function(){if(yn&&yn.length){var On={padding:0,margin:0},Wn=(En?sortBy$1(yn,En):yn).map(function(In,Un){if(In.type==="none")return null;var Vn=_objectSpread$A({display:"block",paddingTop:4,paddingBottom:4,color:In.color||"#000"},fn),Hn=In.formatter||vn||defaultFormatter,Ln=In.value,zn=In.name,Bn=Ln,Fn=zn;if(Hn&&Bn!=null&&Fn!=null){var Gn=Hn(Ln,zn,In,Un,yn);if(Array.isArray(Gn)){var qn=_slicedToArray$e(Gn,2);Bn=qn[0],Fn=qn[1]}else Bn=Gn}return React$1.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Un),style:Vn},isNumOrStr(Fn)?React$1.createElement("span",{className:"recharts-tooltip-item-name"},Fn):null,isNumOrStr(Fn)?React$1.createElement("span",{className:"recharts-tooltip-item-separator"},dn):null,React$1.createElement("span",{className:"recharts-tooltip-item-value"},Bn),React$1.createElement("span",{className:"recharts-tooltip-item-unit"},In.unit||""))});return React$1.createElement("ul",{className:"recharts-tooltip-item-list",style:On},Wn)}return null},An=_objectSpread$A({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},mn),Tn=_objectSpread$A({margin:0},xn),$n=!isNil$1(Sn),Dn=$n?Sn:"",Nn=clsx("recharts-default-tooltip",bn),kn=clsx("recharts-tooltip-label",wn);$n&&Rn&&yn!==void 0&&yn!==null&&(Dn=Rn(Sn,yn));var Pn=jn?{role:"status","aria-live":"assertive"}:{};return React$1.createElement("div",_extends$p({className:Nn,style:An},Pn),React$1.createElement("p",{className:kn,style:Tn},React$1.isValidElement(Dn)?Dn:"".concat(Dn)),Cn())};function _typeof$E(tn){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$E(tn)}function _defineProperty$E(tn,sn,un){return sn=_toPropertyKey$C(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$C(tn){var sn=_toPrimitive$C(tn,"string");return _typeof$E(sn)=="symbol"?sn:sn+""}function _toPrimitive$C(tn,sn){if(_typeof$E(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$E(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(tn){var sn=tn.coordinate,un=tn.translateX,dn=tn.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$E(_defineProperty$E(_defineProperty$E(_defineProperty$E({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber$1(un)&&sn&&isNumber$1(sn.x)&&un>=sn.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber$1(un)&&sn&&isNumber$1(sn.x)&&un<sn.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber$1(dn)&&sn&&isNumber$1(sn.y)&&dn>=sn.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber$1(dn)&&sn&&isNumber$1(sn.y)&&dn<sn.y))}function getTooltipTranslateXY(tn){var sn=tn.allowEscapeViewBox,un=tn.coordinate,dn=tn.key,pn=tn.offsetTopLeft,mn=tn.position,hn=tn.reverseDirection,fn=tn.tooltipDimension,gn=tn.viewBox,xn=tn.viewBoxDimension;if(mn&&isNumber$1(mn[dn]))return mn[dn];var yn=un[dn]-fn-pn,vn=un[dn]+pn;if(sn[dn])return hn[dn]?yn:vn;if(hn[dn]){var En=yn,bn=gn[dn];return En<bn?Math.max(vn,gn[dn]):Math.max(yn,gn[dn])}var wn=vn+fn,Sn=gn[dn]+xn;return wn>Sn?Math.max(yn,gn[dn]):Math.max(vn,gn[dn])}function getTransformStyle(tn){var sn=tn.translateX,un=tn.translateY,dn=tn.useTranslate3d;return{transform:dn?"translate3d(".concat(sn,"px, ").concat(un,"px, 0)"):"translate(".concat(sn,"px, ").concat(un,"px)")}}function getTooltipTranslate(tn){var sn=tn.allowEscapeViewBox,un=tn.coordinate,dn=tn.offsetTopLeft,pn=tn.position,mn=tn.reverseDirection,hn=tn.tooltipBox,fn=tn.useTranslate3d,gn=tn.viewBox,xn,yn,vn;return hn.height>0&&hn.width>0&&un?(yn=getTooltipTranslateXY({allowEscapeViewBox:sn,coordinate:un,key:"x",offsetTopLeft:dn,position:pn,reverseDirection:mn,tooltipDimension:hn.width,viewBox:gn,viewBoxDimension:gn.width}),vn=getTooltipTranslateXY({allowEscapeViewBox:sn,coordinate:un,key:"y",offsetTopLeft:dn,position:pn,reverseDirection:mn,tooltipDimension:hn.height,viewBox:gn,viewBoxDimension:gn.height}),xn=getTransformStyle({translateX:yn,translateY:vn,useTranslate3d:fn})):xn=TOOLTIP_HIDDEN,{cssProperties:xn,cssClasses:getTooltipCSSClassName({translateX:yn,translateY:vn,coordinate:un})}}function _typeof$D(tn){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$D(tn)}function ownKeys$z(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$z(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$z(Object(un),!0).forEach(function(dn){_defineProperty$D(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$z(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$i(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$B(dn.key),dn)}}function _createClass$i(tn,sn,un){return sn&&_defineProperties$i(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$d(tn,sn,un){return sn=_getPrototypeOf$f(sn),_possibleConstructorReturn$f(tn,_isNativeReflectConstruct$f()?Reflect.construct(sn,un||[],_getPrototypeOf$f(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$f(tn,sn){if(sn&&(_typeof$D(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(tn)}function _assertThisInitialized$f(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$f(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!tn})()}function _getPrototypeOf$f(tn){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$f(tn)}function _inherits$f(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$f(tn,sn)}function _setPrototypeOf$f(tn,sn){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$f(tn,sn)}function _defineProperty$D(tn,sn,un){return sn=_toPropertyKey$B(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$B(tn){var sn=_toPrimitive$B(tn,"string");return _typeof$D(sn)=="symbol"?sn:sn+""}function _toPrimitive$B(tn,sn){if(_typeof$D(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$D(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var EPSILON=1,TooltipBoundingBox=function(tn){function sn(){var un;_classCallCheck$i(this,sn);for(var dn=arguments.length,pn=new Array(dn),mn=0;mn<dn;mn++)pn[mn]=arguments[mn];return un=_callSuper$d(this,sn,[].concat(pn)),_defineProperty$D(un,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$D(un,"handleKeyDown",function(hn){if(hn.key==="Escape"){var fn,gn,xn,yn;un.setState({dismissed:!0,dismissedAtCoordinate:{x:(fn=(gn=un.props.coordinate)===null||gn===void 0?void 0:gn.x)!==null&&fn!==void 0?fn:0,y:(xn=(yn=un.props.coordinate)===null||yn===void 0?void 0:yn.y)!==null&&xn!==void 0?xn:0}})}}),un}return _inherits$f(sn,tn),_createClass$i(sn,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var dn=this.wrapperNode.getBoundingClientRect();(Math.abs(dn.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(dn.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:dn.width,height:dn.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var dn,pn;this.props.active&&this.updateBBox(),this.state.dismissed&&(((dn=this.props.coordinate)===null||dn===void 0?void 0:dn.x)!==this.state.dismissedAtCoordinate.x||((pn=this.props.coordinate)===null||pn===void 0?void 0:pn.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var dn=this,pn=this.props,mn=pn.active,hn=pn.allowEscapeViewBox,fn=pn.animationDuration,gn=pn.animationEasing,xn=pn.children,yn=pn.coordinate,vn=pn.hasPayload,En=pn.isAnimationActive,bn=pn.offset,wn=pn.position,Sn=pn.reverseDirection,Rn=pn.useTranslate3d,_n=pn.viewBox,jn=pn.wrapperStyle,Cn=getTooltipTranslate({allowEscapeViewBox:hn,coordinate:yn,offsetTopLeft:bn,position:wn,reverseDirection:Sn,tooltipBox:this.state.lastBoundingBox,useTranslate3d:Rn,viewBox:_n}),An=Cn.cssClasses,Tn=Cn.cssProperties,$n=_objectSpread$z(_objectSpread$z({transition:En&&mn?"transform ".concat(fn,"ms ").concat(gn):void 0},Tn),{},{pointerEvents:"none",visibility:!this.state.dismissed&&mn&&vn?"visible":"hidden",position:"absolute",top:0,left:0},jn);return React$1.createElement("div",{tabIndex:-1,className:An,style:$n,ref:function(Nn){dn.wrapperNode=Nn}},xn)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function tn(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$C(tn){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$C(tn)}function ownKeys$y(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$y(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$y(Object(un),!0).forEach(function(dn){_defineProperty$C(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$y(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$h(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$A(dn.key),dn)}}function _createClass$h(tn,sn,un){return sn&&_defineProperties$h(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$c(tn,sn,un){return sn=_getPrototypeOf$e(sn),_possibleConstructorReturn$e(tn,_isNativeReflectConstruct$e()?Reflect.construct(sn,un||[],_getPrototypeOf$e(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$e(tn,sn){if(sn&&(_typeof$C(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(tn)}function _assertThisInitialized$e(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$e(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$e=function(){return!!tn})()}function _getPrototypeOf$e(tn){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$e(tn)}function _inherits$e(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$e(tn,sn)}function _setPrototypeOf$e(tn,sn){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$e(tn,sn)}function _defineProperty$C(tn,sn,un){return sn=_toPropertyKey$A(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$A(tn){var sn=_toPrimitive$A(tn,"string");return _typeof$C(sn)=="symbol"?sn:sn+""}function _toPrimitive$A(tn,sn){if(_typeof$C(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$C(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}function defaultUniqBy(tn){return tn.dataKey}function renderContent(tn,sn){return React$1.isValidElement(tn)?React$1.cloneElement(tn,sn):typeof tn=="function"?React$1.createElement(tn,sn):React$1.createElement(DefaultTooltipContent,sn)}var Tooltip=function(tn){function sn(){return _classCallCheck$h(this,sn),_callSuper$c(this,sn,arguments)}return _inherits$e(sn,tn),_createClass$h(sn,[{key:"render",value:function(){var dn=this,pn=this.props,mn=pn.active,hn=pn.allowEscapeViewBox,fn=pn.animationDuration,gn=pn.animationEasing,xn=pn.content,yn=pn.coordinate,vn=pn.filterNull,En=pn.isAnimationActive,bn=pn.offset,wn=pn.payload,Sn=pn.payloadUniqBy,Rn=pn.position,_n=pn.reverseDirection,jn=pn.useTranslate3d,Cn=pn.viewBox,An=pn.wrapperStyle,Tn=wn??[];vn&&Tn.length&&(Tn=getUniqPayload(wn.filter(function(Dn){return Dn.value!=null&&(Dn.hide!==!0||dn.props.includeHidden)}),Sn,defaultUniqBy));var $n=Tn.length>0;return React$1.createElement(TooltipBoundingBox,{allowEscapeViewBox:hn,animationDuration:fn,animationEasing:gn,isAnimationActive:En,active:mn,coordinate:yn,hasPayload:$n,offset:bn,position:Rn,reverseDirection:_n,useTranslate3d:jn,viewBox:Cn,wrapperStyle:An},renderContent(xn,_objectSpread$y(_objectSpread$y({},this.props),{},{payload:Tn})))}}])}(reactExports.PureComponent);_defineProperty$C(Tooltip,"displayName","Tooltip");_defineProperty$C(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root$5=_root,now$4=function(){return root$5.Date.now()},now_1=now$4,reWhitespace=/\s/;function trimmedEndIndex$1(tn){for(var sn=tn.length;sn--&&reWhitespace.test(tn.charAt(sn)););return sn}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(tn){return tn&&tn.slice(0,trimmedEndIndex(tn)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$7=isObject_1,isSymbol$3=isSymbol_1,NAN$2=NaN,reIsBadHex$2=/^[-+]0x[0-9a-f]+$/i,reIsBinary$2=/^0b[01]+$/i,reIsOctal$2=/^0o[0-7]+$/i,freeParseInt$2=parseInt;function toNumber$4(tn){if(typeof tn=="number")return tn;if(isSymbol$3(tn))return NAN$2;if(isObject$7(tn)){var sn=typeof tn.valueOf=="function"?tn.valueOf():tn;tn=isObject$7(sn)?sn+"":sn}if(typeof tn!="string")return tn===0?tn:+tn;tn=baseTrim(tn);var un=reIsBinary$2.test(tn);return un||reIsOctal$2.test(tn)?freeParseInt$2(tn.slice(2),un?2:8):reIsBadHex$2.test(tn)?NAN$2:+tn}var toNumber_1=toNumber$4,isObject$6=isObject_1,now$3=now_1,toNumber$3=toNumber_1,FUNC_ERROR_TEXT$3="Expected a function",nativeMax$4=Math.max,nativeMin$2=Math.min;function debounce$6(tn,sn,un){var dn,pn,mn,hn,fn,gn,xn=0,yn=!1,vn=!1,En=!0;if(typeof tn!="function")throw new TypeError(FUNC_ERROR_TEXT$3);sn=toNumber$3(sn)||0,isObject$6(un)&&(yn=!!un.leading,vn="maxWait"in un,mn=vn?nativeMax$4(toNumber$3(un.maxWait)||0,sn):mn,En="trailing"in un?!!un.trailing:En);function bn($n){var Dn=dn,Nn=pn;return dn=pn=void 0,xn=$n,hn=tn.apply(Nn,Dn),hn}function wn($n){return xn=$n,fn=setTimeout(_n,sn),yn?bn($n):hn}function Sn($n){var Dn=$n-gn,Nn=$n-xn,kn=sn-Dn;return vn?nativeMin$2(kn,mn-Nn):kn}function Rn($n){var Dn=$n-gn,Nn=$n-xn;return gn===void 0||Dn>=sn||Dn<0||vn&&Nn>=mn}function _n(){var $n=now$3();if(Rn($n))return jn($n);fn=setTimeout(_n,Sn($n))}function jn($n){return fn=void 0,En&&dn?bn($n):(dn=pn=void 0,hn)}function Cn(){fn!==void 0&&clearTimeout(fn),xn=0,dn=gn=pn=fn=void 0}function An(){return fn===void 0?hn:jn(now$3())}function Tn(){var $n=now$3(),Dn=Rn($n);if(dn=arguments,pn=this,gn=$n,Dn){if(fn===void 0)return wn(gn);if(vn)return clearTimeout(fn),fn=setTimeout(_n,sn),bn(gn)}return fn===void 0&&(fn=setTimeout(_n,sn)),hn}return Tn.cancel=Cn,Tn.flush=An,Tn}var debounce_1=debounce$6,debounce$5=debounce_1,isObject$5=isObject_1,FUNC_ERROR_TEXT$2="Expected a function";function throttle$3(tn,sn,un){var dn=!0,pn=!0;if(typeof tn!="function")throw new TypeError(FUNC_ERROR_TEXT$2);return isObject$5(un)&&(dn="leading"in un?!!un.leading:dn,pn="trailing"in un?!!un.trailing:pn),debounce$5(tn,sn,{leading:dn,maxWait:sn,trailing:pn})}var throttle_1=throttle$3;const throttle$4=getDefaultExportFromCjs(throttle_1);function _typeof$B(tn){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$B(tn)}function ownKeys$x(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$x(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$x(Object(un),!0).forEach(function(dn){_defineProperty$B(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$x(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$B(tn,sn,un){return sn=_toPropertyKey$z(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$z(tn){var sn=_toPrimitive$z(tn,"string");return _typeof$B(sn)=="symbol"?sn:sn+""}function _toPrimitive$z(tn,sn){if(_typeof$B(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$B(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _slicedToArray$d(tn,sn){return _arrayWithHoles$e(tn)||_iterableToArrayLimit$d(tn,sn)||_unsupportedIterableToArray$o(tn,sn)||_nonIterableRest$e()}function _nonIterableRest$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$o(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$o(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$o(tn,sn)}}function _arrayLikeToArray$o(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$d(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$e(tn){if(Array.isArray(tn))return tn}var ResponsiveContainer=reactExports.forwardRef(function(tn,sn){var un=tn.aspect,dn=tn.initialDimension,pn=dn===void 0?{width:-1,height:-1}:dn,mn=tn.width,hn=mn===void 0?"100%":mn,fn=tn.height,gn=fn===void 0?"100%":fn,xn=tn.minWidth,yn=xn===void 0?0:xn,vn=tn.minHeight,En=tn.maxHeight,bn=tn.children,wn=tn.debounce,Sn=wn===void 0?0:wn,Rn=tn.id,_n=tn.className,jn=tn.onResize,Cn=tn.style,An=Cn===void 0?{}:Cn,Tn=reactExports.useRef(null),$n=reactExports.useRef();$n.current=jn,reactExports.useImperativeHandle(sn,function(){return Object.defineProperty(Tn.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Tn.current},configurable:!0})});var Dn=reactExports.useState({containerWidth:pn.width,containerHeight:pn.height}),Nn=_slicedToArray$d(Dn,2),kn=Nn[0],Pn=Nn[1],Mn=reactExports.useCallback(function(Wn,In){Pn(function(Un){var Vn=Math.round(Wn),Hn=Math.round(In);return Un.containerWidth===Vn&&Un.containerHeight===Hn?Un:{containerWidth:Vn,containerHeight:Hn}})},[]);reactExports.useEffect(function(){var Wn=function(zn){var Bn,Fn=zn[0].contentRect,Gn=Fn.width,qn=Fn.height;Mn(Gn,qn),(Bn=$n.current)===null||Bn===void 0||Bn.call($n,Gn,qn)};Sn>0&&(Wn=throttle$4(Wn,Sn,{trailing:!0,leading:!1}));var In=new ResizeObserver(Wn),Un=Tn.current.getBoundingClientRect(),Vn=Un.width,Hn=Un.height;return Mn(Vn,Hn),In.observe(Tn.current),function(){In.disconnect()}},[Mn,Sn]);var On=reactExports.useMemo(function(){var Wn=kn.containerWidth,In=kn.containerHeight;if(Wn<0||In<0)return null;warn(isPercent(hn)||isPercent(gn),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,hn,gn),warn(!un||un>0,"The aspect(%s) must be greater than zero.",un);var Un=isPercent(hn)?Wn:hn,Vn=isPercent(gn)?In:gn;un&&un>0&&(Un?Vn=Un/un:Vn&&(Un=Vn*un),En&&Vn>En&&(Vn=En)),warn(Un>0||Vn>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Un,Vn,hn,gn,yn,vn,un);var Hn=!Array.isArray(bn)&&getDisplayName(bn.type).endsWith("Chart");return React$1.Children.map(bn,function(Ln){return React$1.isValidElement(Ln)?reactExports.cloneElement(Ln,_objectSpread$x({width:Un,height:Vn},Hn?{style:_objectSpread$x({height:"100%",width:"100%",maxHeight:Vn,maxWidth:Un},Ln.props.style)}:{})):Ln})},[un,bn,gn,En,vn,yn,kn,hn]);return React$1.createElement("div",{id:Rn?"".concat(Rn):void 0,className:clsx("recharts-responsive-container",_n),style:_objectSpread$x(_objectSpread$x({},An),{},{width:hn,height:gn,minWidth:yn,minHeight:vn,maxHeight:En}),ref:Tn},On)}),Cell=function tn(sn){return null};Cell.displayName="Cell";function _typeof$A(tn){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$A(tn)}function ownKeys$w(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$w(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$w(Object(un),!0).forEach(function(dn){_defineProperty$A(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$w(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$A(tn,sn,un){return sn=_toPropertyKey$y(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$y(tn){var sn=_toPrimitive$y(tn,"string");return _typeof$A(sn)=="symbol"?sn:sn+""}function _toPrimitive$y(tn,sn){if(_typeof$A(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$A(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(tn){var sn=_objectSpread$w({},tn);return Object.keys(sn).forEach(function(un){sn[un]||delete sn[un]}),sn}var getStringSize=function tn(sn){var un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(sn==null||Global.isSsr)return{width:0,height:0};var dn=removeInvalidKeys(un),pn=JSON.stringify({text:sn,copyStyle:dn});if(stringCache.widthCache[pn])return stringCache.widthCache[pn];try{var mn=document.getElementById(MEASUREMENT_SPAN_ID);mn||(mn=document.createElement("span"),mn.setAttribute("id",MEASUREMENT_SPAN_ID),mn.setAttribute("aria-hidden","true"),document.body.appendChild(mn));var hn=_objectSpread$w(_objectSpread$w({},SPAN_STYLE),dn);Object.assign(mn.style,hn),mn.textContent="".concat(sn);var fn=mn.getBoundingClientRect(),gn={width:fn.width,height:fn.height};return stringCache.widthCache[pn]=gn,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),gn}catch{return{width:0,height:0}}},getOffset=function tn(sn){return{top:sn.top+window.scrollY-document.documentElement.clientTop,left:sn.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$z(tn){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$z(tn)}function _slicedToArray$c(tn,sn){return _arrayWithHoles$d(tn)||_iterableToArrayLimit$c(tn,sn)||_unsupportedIterableToArray$n(tn,sn)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$n(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$n(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$n(tn,sn)}}function _arrayLikeToArray$n(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$c(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn===0){if(Object(un)!==un)return;gn=!1}else for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$d(tn){if(Array.isArray(tn))return tn}function _classCallCheck$g(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$x(dn.key),dn)}}function _createClass$g(tn,sn,un){return sn&&_defineProperties$g(tn.prototype,sn),un&&_defineProperties$g(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _toPropertyKey$x(tn){var sn=_toPrimitive$x(tn,"string");return _typeof$z(sn)=="symbol"?sn:sn+""}function _toPrimitive$x(tn,sn){if(_typeof$z(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$z(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(tn,sn){return tn*CONVERSION_RATES[sn]}var DecimalCSS=function(){function tn(sn,un){_classCallCheck$g(this,tn),this.num=sn,this.unit=un,this.num=sn,this.unit=un,Number.isNaN(sn)&&(this.unit=""),un!==""&&!CSS_LENGTH_UNIT_REGEX.test(un)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(un)&&(this.num=convertToPx(sn,un),this.unit="px")}return _createClass$g(tn,[{key:"add",value:function(un){return this.unit!==un.unit?new tn(NaN,""):new tn(this.num+un.num,this.unit)}},{key:"subtract",value:function(un){return this.unit!==un.unit?new tn(NaN,""):new tn(this.num-un.num,this.unit)}},{key:"multiply",value:function(un){return this.unit!==""&&un.unit!==""&&this.unit!==un.unit?new tn(NaN,""):new tn(this.num*un.num,this.unit||un.unit)}},{key:"divide",value:function(un){return this.unit!==""&&un.unit!==""&&this.unit!==un.unit?new tn(NaN,""):new tn(this.num/un.num,this.unit||un.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(un){var dn,pn=(dn=NUM_SPLIT_REGEX.exec(un))!==null&&dn!==void 0?dn:[],mn=_slicedToArray$c(pn,3),hn=mn[1],fn=mn[2];return new tn(parseFloat(hn),fn??"")}}])}();function calculateArithmetic(tn){if(tn.includes(STR_NAN))return STR_NAN;for(var sn=tn;sn.includes("*")||sn.includes("/");){var un,dn=(un=MULTIPLY_OR_DIVIDE_REGEX.exec(sn))!==null&&un!==void 0?un:[],pn=_slicedToArray$c(dn,4),mn=pn[1],hn=pn[2],fn=pn[3],gn=DecimalCSS.parse(mn??""),xn=DecimalCSS.parse(fn??""),yn=hn==="*"?gn.multiply(xn):gn.divide(xn);if(yn.isNaN())return STR_NAN;sn=sn.replace(MULTIPLY_OR_DIVIDE_REGEX,yn.toString())}for(;sn.includes("+")||/.-\d+(?:\.\d+)?/.test(sn);){var vn,En=(vn=ADD_OR_SUBTRACT_REGEX.exec(sn))!==null&&vn!==void 0?vn:[],bn=_slicedToArray$c(En,4),wn=bn[1],Sn=bn[2],Rn=bn[3],_n=DecimalCSS.parse(wn??""),jn=DecimalCSS.parse(Rn??""),Cn=Sn==="+"?_n.add(jn):_n.subtract(jn);if(Cn.isNaN())return STR_NAN;sn=sn.replace(ADD_OR_SUBTRACT_REGEX,Cn.toString())}return sn}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(tn){for(var sn=tn;sn.includes("(");){var un=PARENTHESES_REGEX.exec(sn),dn=_slicedToArray$c(un,2),pn=dn[1];sn=sn.replace(PARENTHESES_REGEX,calculateArithmetic(pn))}return sn}function evaluateExpression(tn){var sn=tn.replace(/\s+/g,"");return sn=calculateParentheses(sn),sn=calculateArithmetic(sn),sn}function safeEvaluateExpression(tn){try{return evaluateExpression(tn)}catch{return STR_NAN}}function reduceCSSCalc(tn){var sn=safeEvaluateExpression(tn.slice(5,-1));return sn===STR_NAN?"":sn}var _excluded$g=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$7=["dx","dy","angle","className","breakAll"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$o.apply(this,arguments)}function _objectWithoutProperties$e(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$g(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$g(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _slicedToArray$b(tn,sn){return _arrayWithHoles$c(tn)||_iterableToArrayLimit$b(tn,sn)||_unsupportedIterableToArray$m(tn,sn)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$m(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$m(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$m(tn,sn)}}function _arrayLikeToArray$m(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$b(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn===0){if(Object(un)!==un)return;gn=!1}else for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$c(tn){if(Array.isArray(tn))return tn}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function tn(sn){var un=sn.children,dn=sn.breakAll,pn=sn.style;try{var mn=[];isNil$1(un)||(dn?mn=un.toString().split(""):mn=un.toString().split(BREAKING_SPACES));var hn=mn.map(function(gn){return{word:gn,width:getStringSize(gn,pn).width}}),fn=dn?0:getStringSize(" ",pn).width;return{wordsWithComputedWidth:hn,spaceWidth:fn}}catch{return null}},calculateWordsByLines=function tn(sn,un,dn,pn,mn){var hn=sn.maxLines,fn=sn.children,gn=sn.style,xn=sn.breakAll,yn=isNumber$1(hn),vn=fn,En=function(){var Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Un.reduce(function(Vn,Hn){var Ln=Hn.word,zn=Hn.width,Bn=Vn[Vn.length-1];if(Bn&&(pn==null||mn||Bn.width+zn+dn<Number(pn)))Bn.words.push(Ln),Bn.width+=zn+dn;else{var Fn={words:[Ln],width:zn};Vn.push(Fn)}return Vn},[])},bn=En(un),wn=function(Un){return Un.reduce(function(Vn,Hn){return Vn.width>Hn.width?Vn:Hn})};if(!yn)return bn;for(var Sn="…",Rn=function(Un){var Vn=vn.slice(0,Un),Hn=calculateWordWidths({breakAll:xn,style:gn,children:Vn+Sn}).wordsWithComputedWidth,Ln=En(Hn),zn=Ln.length>hn||wn(Ln).width>Number(pn);return[zn,Ln]},_n=0,jn=vn.length-1,Cn=0,An;_n<=jn&&Cn<=vn.length-1;){var Tn=Math.floor((_n+jn)/2),$n=Tn-1,Dn=Rn($n),Nn=_slicedToArray$b(Dn,2),kn=Nn[0],Pn=Nn[1],Mn=Rn(Tn),On=_slicedToArray$b(Mn,1),Wn=On[0];if(!kn&&!Wn&&(_n=Tn+1),kn&&Wn&&(jn=Tn-1),!kn&&Wn){An=Pn;break}Cn++}return An||bn},getWordsWithoutCalculate=function tn(sn){var un=isNil$1(sn)?[]:sn.toString().split(BREAKING_SPACES);return[{words:un}]},getWordsByLines=function tn(sn){var un=sn.width,dn=sn.scaleToFit,pn=sn.children,mn=sn.style,hn=sn.breakAll,fn=sn.maxLines;if((un||dn)&&!Global.isSsr){var gn,xn,yn=calculateWordWidths({breakAll:hn,children:pn,style:mn});if(yn){var vn=yn.wordsWithComputedWidth,En=yn.spaceWidth;gn=vn,xn=En}else return getWordsWithoutCalculate(pn);return calculateWordsByLines({breakAll:hn,children:pn,maxLines:fn,style:mn},gn,xn,un,dn)}return getWordsWithoutCalculate(pn)},DEFAULT_FILL="#808080",Text$2=function tn(sn){var un=sn.x,dn=un===void 0?0:un,pn=sn.y,mn=pn===void 0?0:pn,hn=sn.lineHeight,fn=hn===void 0?"1em":hn,gn=sn.capHeight,xn=gn===void 0?"0.71em":gn,yn=sn.scaleToFit,vn=yn===void 0?!1:yn,En=sn.textAnchor,bn=En===void 0?"start":En,wn=sn.verticalAnchor,Sn=wn===void 0?"end":wn,Rn=sn.fill,_n=Rn===void 0?DEFAULT_FILL:Rn,jn=_objectWithoutProperties$e(sn,_excluded$g),Cn=reactExports.useMemo(function(){return getWordsByLines({breakAll:jn.breakAll,children:jn.children,maxLines:jn.maxLines,scaleToFit:vn,style:jn.style,width:jn.width})},[jn.breakAll,jn.children,jn.maxLines,vn,jn.style,jn.width]),An=jn.dx,Tn=jn.dy,$n=jn.angle,Dn=jn.className,Nn=jn.breakAll,kn=_objectWithoutProperties$e(jn,_excluded2$7);if(!isNumOrStr(dn)||!isNumOrStr(mn))return null;var Pn=dn+(isNumber$1(An)?An:0),Mn=mn+(isNumber$1(Tn)?Tn:0),On;switch(Sn){case"start":On=reduceCSSCalc("calc(".concat(xn,")"));break;case"middle":On=reduceCSSCalc("calc(".concat((Cn.length-1)/2," * -").concat(fn," + (").concat(xn," / 2))"));break;default:On=reduceCSSCalc("calc(".concat(Cn.length-1," * -").concat(fn,")"));break}var Wn=[];if(vn){var In=Cn[0].width,Un=jn.width;Wn.push("scale(".concat((isNumber$1(Un)?Un/In:1)/In,")"))}return $n&&Wn.push("rotate(".concat($n,", ").concat(Pn,", ").concat(Mn,")")),Wn.length&&(kn.transform=Wn.join(" ")),React$1.createElement("text",_extends$o({},filterProps$1(kn,!0),{x:Pn,y:Mn,className:clsx("recharts-text",Dn),textAnchor:bn,fill:_n.includes("url")?DEFAULT_FILL:_n}),Cn.map(function(Vn,Hn){var Ln=Vn.words.join(Nn?"":" ");return React$1.createElement("tspan",{x:Pn,dy:Hn===0?On:fn,key:"".concat(Ln,"-").concat(Hn)},Ln)}))};function ascending(tn,sn){return tn==null||sn==null?NaN:tn<sn?-1:tn>sn?1:tn>=sn?0:NaN}function descending(tn,sn){return tn==null||sn==null?NaN:sn<tn?-1:sn>tn?1:sn>=tn?0:NaN}function bisector(tn){let sn,un,dn;tn.length!==2?(sn=ascending,un=(fn,gn)=>ascending(tn(fn),gn),dn=(fn,gn)=>tn(fn)-gn):(sn=tn===ascending||tn===descending?tn:zero$1,un=tn,dn=tn);function pn(fn,gn,xn=0,yn=fn.length){if(xn<yn){if(sn(gn,gn)!==0)return yn;do{const vn=xn+yn>>>1;un(fn[vn],gn)<0?xn=vn+1:yn=vn}while(xn<yn)}return xn}function mn(fn,gn,xn=0,yn=fn.length){if(xn<yn){if(sn(gn,gn)!==0)return yn;do{const vn=xn+yn>>>1;un(fn[vn],gn)<=0?xn=vn+1:yn=vn}while(xn<yn)}return xn}function hn(fn,gn,xn=0,yn=fn.length){const vn=pn(fn,gn,xn,yn-1);return vn>xn&&dn(fn[vn-1],gn)>-dn(fn[vn],gn)?vn-1:vn}return{left:pn,center:hn,right:mn}}function zero$1(){return 0}function number$5(tn){return tn===null?NaN:+tn}function*numbers(tn,sn){for(let un of tn)un!=null&&(un=+un)>=un&&(yield un)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$5).center;class InternMap extends Map{constructor(sn,un=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:un}}),sn!=null)for(const[dn,pn]of sn)this.set(dn,pn)}get(sn){return super.get(intern_get(this,sn))}has(sn){return super.has(intern_get(this,sn))}set(sn,un){return super.set(intern_set(this,sn),un)}delete(sn){return super.delete(intern_delete(this,sn))}}function intern_get({_intern:tn,_key:sn},un){const dn=sn(un);return tn.has(dn)?tn.get(dn):un}function intern_set({_intern:tn,_key:sn},un){const dn=sn(un);return tn.has(dn)?tn.get(dn):(tn.set(dn,un),un)}function intern_delete({_intern:tn,_key:sn},un){const dn=sn(un);return tn.has(dn)&&(un=tn.get(dn),tn.delete(dn)),un}function keyof(tn){return tn!==null&&typeof tn=="object"?tn.valueOf():tn}function compareDefined(tn=ascending){if(tn===ascending)return ascendingDefined;if(typeof tn!="function")throw new TypeError("compare is not a function");return(sn,un)=>{const dn=tn(sn,un);return dn||dn===0?dn:(tn(un,un)===0)-(tn(sn,sn)===0)}}function ascendingDefined(tn,sn){return(tn==null||!(tn>=tn))-(sn==null||!(sn>=sn))||(tn<sn?-1:tn>sn?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(tn,sn,un){const dn=(sn-tn)/Math.max(0,un),pn=Math.floor(Math.log10(dn)),mn=dn/Math.pow(10,pn),hn=mn>=e10?10:mn>=e5?5:mn>=e2?2:1;let fn,gn,xn;return pn<0?(xn=Math.pow(10,-pn)/hn,fn=Math.round(tn*xn),gn=Math.round(sn*xn),fn/xn<tn&&++fn,gn/xn>sn&&--gn,xn=-xn):(xn=Math.pow(10,pn)*hn,fn=Math.round(tn/xn),gn=Math.round(sn/xn),fn*xn<tn&&++fn,gn*xn>sn&&--gn),gn<fn&&.5<=un&&un<2?tickSpec(tn,sn,un*2):[fn,gn,xn]}function ticks(tn,sn,un){if(sn=+sn,tn=+tn,un=+un,!(un>0))return[];if(tn===sn)return[tn];const dn=sn<tn,[pn,mn,hn]=dn?tickSpec(sn,tn,un):tickSpec(tn,sn,un);if(!(mn>=pn))return[];const fn=mn-pn+1,gn=new Array(fn);if(dn)if(hn<0)for(let xn=0;xn<fn;++xn)gn[xn]=(mn-xn)/-hn;else for(let xn=0;xn<fn;++xn)gn[xn]=(mn-xn)*hn;else if(hn<0)for(let xn=0;xn<fn;++xn)gn[xn]=(pn+xn)/-hn;else for(let xn=0;xn<fn;++xn)gn[xn]=(pn+xn)*hn;return gn}function tickIncrement(tn,sn,un){return sn=+sn,tn=+tn,un=+un,tickSpec(tn,sn,un)[2]}function tickStep(tn,sn,un){sn=+sn,tn=+tn,un=+un;const dn=sn<tn,pn=dn?tickIncrement(sn,tn,un):tickIncrement(tn,sn,un);return(dn?-1:1)*(pn<0?1/-pn:pn)}function max$3(tn,sn){let un;for(const dn of tn)dn!=null&&(un<dn||un===void 0&&dn>=dn)&&(un=dn);return un}function min$3(tn,sn){let un;for(const dn of tn)dn!=null&&(un>dn||un===void 0&&dn>=dn)&&(un=dn);return un}function quickselect(tn,sn,un=0,dn=1/0,pn){if(sn=Math.floor(sn),un=Math.floor(Math.max(0,un)),dn=Math.floor(Math.min(tn.length-1,dn)),!(un<=sn&&sn<=dn))return tn;for(pn=pn===void 0?ascendingDefined:compareDefined(pn);dn>un;){if(dn-un>600){const gn=dn-un+1,xn=sn-un+1,yn=Math.log(gn),vn=.5*Math.exp(2*yn/3),En=.5*Math.sqrt(yn*vn*(gn-vn)/gn)*(xn-gn/2<0?-1:1),bn=Math.max(un,Math.floor(sn-xn*vn/gn+En)),wn=Math.min(dn,Math.floor(sn+(gn-xn)*vn/gn+En));quickselect(tn,sn,bn,wn,pn)}const mn=tn[sn];let hn=un,fn=dn;for(swap(tn,un,sn),pn(tn[dn],mn)>0&&swap(tn,un,dn);hn<fn;){for(swap(tn,hn,fn),++hn,--fn;pn(tn[hn],mn)<0;)++hn;for(;pn(tn[fn],mn)>0;)--fn}pn(tn[un],mn)===0?swap(tn,un,fn):(++fn,swap(tn,fn,dn)),fn<=sn&&(un=fn+1),sn<=fn&&(dn=fn-1)}return tn}function swap(tn,sn,un){const dn=tn[sn];tn[sn]=tn[un],tn[un]=dn}function quantile$1(tn,sn,un){if(tn=Float64Array.from(numbers(tn)),!(!(dn=tn.length)||isNaN(sn=+sn))){if(sn<=0||dn<2)return min$3(tn);if(sn>=1)return max$3(tn);var dn,pn=(dn-1)*sn,mn=Math.floor(pn),hn=max$3(quickselect(tn,mn).subarray(0,mn+1)),fn=min$3(tn.subarray(mn+1));return hn+(fn-hn)*(pn-mn)}}function quantileSorted(tn,sn,un=number$5){if(!(!(dn=tn.length)||isNaN(sn=+sn))){if(sn<=0||dn<2)return+un(tn[0],0,tn);if(sn>=1)return+un(tn[dn-1],dn-1,tn);var dn,pn=(dn-1)*sn,mn=Math.floor(pn),hn=+un(tn[mn],mn,tn),fn=+un(tn[mn+1],mn+1,tn);return hn+(fn-hn)*(pn-mn)}}function range$3(tn,sn,un){tn=+tn,sn=+sn,un=(pn=arguments.length)<2?(sn=tn,tn=0,1):pn<3?1:+un;for(var dn=-1,pn=Math.max(0,Math.ceil((sn-tn)/un))|0,mn=new Array(pn);++dn<pn;)mn[dn]=tn+dn*un;return mn}function initRange(tn,sn){switch(arguments.length){case 0:break;case 1:this.range(tn);break;default:this.range(sn).domain(tn);break}return this}function initInterpolator(tn,sn){switch(arguments.length){case 0:break;case 1:{typeof tn=="function"?this.interpolator(tn):this.range(tn);break}default:{this.domain(tn),typeof sn=="function"?this.interpolator(sn):this.range(sn);break}}return this}const implicit=Symbol("implicit");function ordinal(){var tn=new InternMap,sn=[],un=[],dn=implicit;function pn(mn){let hn=tn.get(mn);if(hn===void 0){if(dn!==implicit)return dn;tn.set(mn,hn=sn.push(mn)-1)}return un[hn%un.length]}return pn.domain=function(mn){if(!arguments.length)return sn.slice();sn=[],tn=new InternMap;for(const hn of mn)tn.has(hn)||tn.set(hn,sn.push(hn)-1);return pn},pn.range=function(mn){return arguments.length?(un=Array.from(mn),pn):un.slice()},pn.unknown=function(mn){return arguments.length?(dn=mn,pn):dn},pn.copy=function(){return ordinal(sn,un).unknown(dn)},initRange.apply(pn,arguments),pn}function band(){var tn=ordinal().unknown(void 0),sn=tn.domain,un=tn.range,dn=0,pn=1,mn,hn,fn=!1,gn=0,xn=0,yn=.5;delete tn.unknown;function vn(){var En=sn().length,bn=pn<dn,wn=bn?pn:dn,Sn=bn?dn:pn;mn=(Sn-wn)/Math.max(1,En-gn+xn*2),fn&&(mn=Math.floor(mn)),wn+=(Sn-wn-mn*(En-gn))*yn,hn=mn*(1-gn),fn&&(wn=Math.round(wn),hn=Math.round(hn));var Rn=range$3(En).map(function(_n){return wn+mn*_n});return un(bn?Rn.reverse():Rn)}return tn.domain=function(En){return arguments.length?(sn(En),vn()):sn()},tn.range=function(En){return arguments.length?([dn,pn]=En,dn=+dn,pn=+pn,vn()):[dn,pn]},tn.rangeRound=function(En){return[dn,pn]=En,dn=+dn,pn=+pn,fn=!0,vn()},tn.bandwidth=function(){return hn},tn.step=function(){return mn},tn.round=function(En){return arguments.length?(fn=!!En,vn()):fn},tn.padding=function(En){return arguments.length?(gn=Math.min(1,xn=+En),vn()):gn},tn.paddingInner=function(En){return arguments.length?(gn=Math.min(1,En),vn()):gn},tn.paddingOuter=function(En){return arguments.length?(xn=+En,vn()):xn},tn.align=function(En){return arguments.length?(yn=Math.max(0,Math.min(1,En)),vn()):yn},tn.copy=function(){return band(sn(),[dn,pn]).round(fn).paddingInner(gn).paddingOuter(xn).align(yn)},initRange.apply(vn(),arguments)}function pointish(tn){var sn=tn.copy;return tn.padding=tn.paddingOuter,delete tn.paddingInner,delete tn.paddingOuter,tn.copy=function(){return pointish(sn())},tn}function point$3(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(tn,sn,un){tn.prototype=sn.prototype=un,un.constructor=tn}function extend$3(tn,sn){var un=Object.create(tn.prototype);for(var dn in sn)un[dn]=sn[dn];return un}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$2,{copy(tn){return Object.assign(new this.constructor,this,tn)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$2(tn){var sn,un;return tn=(tn+"").trim().toLowerCase(),(sn=reHex.exec(tn))?(un=sn[1].length,sn=parseInt(sn[1],16),un===6?rgbn(sn):un===3?new Rgb(sn>>8&15|sn>>4&240,sn>>4&15|sn&240,(sn&15)<<4|sn&15,1):un===8?rgba$1(sn>>24&255,sn>>16&255,sn>>8&255,(sn&255)/255):un===4?rgba$1(sn>>12&15|sn>>8&240,sn>>8&15|sn>>4&240,sn>>4&15|sn&240,((sn&15)<<4|sn&15)/255):null):(sn=reRgbInteger.exec(tn))?new Rgb(sn[1],sn[2],sn[3],1):(sn=reRgbPercent.exec(tn))?new Rgb(sn[1]*255/100,sn[2]*255/100,sn[3]*255/100,1):(sn=reRgbaInteger.exec(tn))?rgba$1(sn[1],sn[2],sn[3],sn[4]):(sn=reRgbaPercent.exec(tn))?rgba$1(sn[1]*255/100,sn[2]*255/100,sn[3]*255/100,sn[4]):(sn=reHslPercent.exec(tn))?hsla$1(sn[1],sn[2]/100,sn[3]/100,1):(sn=reHslaPercent.exec(tn))?hsla$1(sn[1],sn[2]/100,sn[3]/100,sn[4]):named.hasOwnProperty(tn)?rgbn(named[tn]):tn==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(tn){return new Rgb(tn>>16&255,tn>>8&255,tn&255,1)}function rgba$1(tn,sn,un,dn){return dn<=0&&(tn=sn=un=NaN),new Rgb(tn,sn,un,dn)}function rgbConvert(tn){return tn instanceof Color||(tn=color$2(tn)),tn?(tn=tn.rgb(),new Rgb(tn.r,tn.g,tn.b,tn.opacity)):new Rgb}function rgb$1(tn,sn,un,dn){return arguments.length===1?rgbConvert(tn):new Rgb(tn,sn,un,dn??1)}function Rgb(tn,sn,un,dn){this.r=+tn,this.g=+sn,this.b=+un,this.opacity=+dn}define(Rgb,rgb$1,extend$3(Color,{brighter(tn){return tn=tn==null?brighter:Math.pow(brighter,tn),new Rgb(this.r*tn,this.g*tn,this.b*tn,this.opacity)},darker(tn){return tn=tn==null?darker:Math.pow(darker,tn),new Rgb(this.r*tn,this.g*tn,this.b*tn,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex$2(this.r)}${hex$2(this.g)}${hex$2(this.b)}`}function rgb_formatHex8(){return`#${hex$2(this.r)}${hex$2(this.g)}${hex$2(this.b)}${hex$2((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const tn=clampa(this.opacity);return`${tn===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${tn===1?")":`, ${tn})`}`}function clampa(tn){return isNaN(tn)?1:Math.max(0,Math.min(1,tn))}function clampi(tn){return Math.max(0,Math.min(255,Math.round(tn)||0))}function hex$2(tn){return tn=clampi(tn),(tn<16?"0":"")+tn.toString(16)}function hsla$1(tn,sn,un,dn){return dn<=0?tn=sn=un=NaN:un<=0||un>=1?tn=sn=NaN:sn<=0&&(tn=NaN),new Hsl(tn,sn,un,dn)}function hslConvert(tn){if(tn instanceof Hsl)return new Hsl(tn.h,tn.s,tn.l,tn.opacity);if(tn instanceof Color||(tn=color$2(tn)),!tn)return new Hsl;if(tn instanceof Hsl)return tn;tn=tn.rgb();var sn=tn.r/255,un=tn.g/255,dn=tn.b/255,pn=Math.min(sn,un,dn),mn=Math.max(sn,un,dn),hn=NaN,fn=mn-pn,gn=(mn+pn)/2;return fn?(sn===mn?hn=(un-dn)/fn+(un<dn)*6:un===mn?hn=(dn-sn)/fn+2:hn=(sn-un)/fn+4,fn/=gn<.5?mn+pn:2-mn-pn,hn*=60):fn=gn>0&&gn<1?0:hn,new Hsl(hn,fn,gn,tn.opacity)}function hsl(tn,sn,un,dn){return arguments.length===1?hslConvert(tn):new Hsl(tn,sn,un,dn??1)}function Hsl(tn,sn,un,dn){this.h=+tn,this.s=+sn,this.l=+un,this.opacity=+dn}define(Hsl,hsl,extend$3(Color,{brighter(tn){return tn=tn==null?brighter:Math.pow(brighter,tn),new Hsl(this.h,this.s,this.l*tn,this.opacity)},darker(tn){return tn=tn==null?darker:Math.pow(darker,tn),new Hsl(this.h,this.s,this.l*tn,this.opacity)},rgb(){var tn=this.h%360+(this.h<0)*360,sn=isNaN(tn)||isNaN(this.s)?0:this.s,un=this.l,dn=un+(un<.5?un:1-un)*sn,pn=2*un-dn;return new Rgb(hsl2rgb(tn>=240?tn-240:tn+120,pn,dn),hsl2rgb(tn,pn,dn),hsl2rgb(tn<120?tn+240:tn-120,pn,dn),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const tn=clampa(this.opacity);return`${tn===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${tn===1?")":`, ${tn})`}`}}));function clamph(tn){return tn=(tn||0)%360,tn<0?tn+360:tn}function clampt(tn){return Math.max(0,Math.min(1,tn||0))}function hsl2rgb(tn,sn,un){return(tn<60?sn+(un-sn)*tn/60:tn<180?un:tn<240?sn+(un-sn)*(240-tn)/60:sn)*255}const constant=tn=>()=>tn;function linear$1(tn,sn){return function(un){return tn+un*sn}}function exponential(tn,sn,un){return tn=Math.pow(tn,un),sn=Math.pow(sn,un)-tn,un=1/un,function(dn){return Math.pow(tn+dn*sn,un)}}function gamma(tn){return(tn=+tn)==1?nogamma:function(sn,un){return un-sn?exponential(sn,un,tn):constant(isNaN(sn)?un:sn)}}function nogamma(tn,sn){var un=sn-tn;return un?linear$1(tn,un):constant(isNaN(tn)?sn:tn)}const rgb=function tn(sn){var un=gamma(sn);function dn(pn,mn){var hn=un((pn=rgb$1(pn)).r,(mn=rgb$1(mn)).r),fn=un(pn.g,mn.g),gn=un(pn.b,mn.b),xn=nogamma(pn.opacity,mn.opacity);return function(yn){return pn.r=hn(yn),pn.g=fn(yn),pn.b=gn(yn),pn.opacity=xn(yn),pn+""}}return dn.gamma=tn,dn}(1);function numberArray(tn,sn){sn||(sn=[]);var un=tn?Math.min(sn.length,tn.length):0,dn=sn.slice(),pn;return function(mn){for(pn=0;pn<un;++pn)dn[pn]=tn[pn]*(1-mn)+sn[pn]*mn;return dn}}function isNumberArray(tn){return ArrayBuffer.isView(tn)&&!(tn instanceof DataView)}function genericArray(tn,sn){var un=sn?sn.length:0,dn=tn?Math.min(un,tn.length):0,pn=new Array(dn),mn=new Array(un),hn;for(hn=0;hn<dn;++hn)pn[hn]=interpolate$1(tn[hn],sn[hn]);for(;hn<un;++hn)mn[hn]=sn[hn];return function(fn){for(hn=0;hn<dn;++hn)mn[hn]=pn[hn](fn);return mn}}function date$1(tn,sn){var un=new Date;return tn=+tn,sn=+sn,function(dn){return un.setTime(tn*(1-dn)+sn*dn),un}}function interpolateNumber$1(tn,sn){return tn=+tn,sn=+sn,function(un){return tn*(1-un)+sn*un}}function object$1(tn,sn){var un={},dn={},pn;(tn===null||typeof tn!="object")&&(tn={}),(sn===null||typeof sn!="object")&&(sn={});for(pn in sn)pn in tn?un[pn]=interpolate$1(tn[pn],sn[pn]):dn[pn]=sn[pn];return function(mn){for(pn in un)dn[pn]=un[pn](mn);return dn}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(tn){return function(){return tn}}function one$2(tn){return function(sn){return tn(sn)+""}}function string$3(tn,sn){var un=reA.lastIndex=reB.lastIndex=0,dn,pn,mn,hn=-1,fn=[],gn=[];for(tn=tn+"",sn=sn+"";(dn=reA.exec(tn))&&(pn=reB.exec(sn));)(mn=pn.index)>un&&(mn=sn.slice(un,mn),fn[hn]?fn[hn]+=mn:fn[++hn]=mn),(dn=dn[0])===(pn=pn[0])?fn[hn]?fn[hn]+=pn:fn[++hn]=pn:(fn[++hn]=null,gn.push({i:hn,x:interpolateNumber$1(dn,pn)})),un=reB.lastIndex;return un<sn.length&&(mn=sn.slice(un),fn[hn]?fn[hn]+=mn:fn[++hn]=mn),fn.length<2?gn[0]?one$2(gn[0].x):zero(sn):(sn=gn.length,function(xn){for(var yn=0,vn;yn<sn;++yn)fn[(vn=gn[yn]).i]=vn.x(xn);return fn.join("")})}function interpolate$1(tn,sn){var un=typeof sn,dn;return sn==null||un==="boolean"?constant(sn):(un==="number"?interpolateNumber$1:un==="string"?(dn=color$2(sn))?(sn=dn,rgb):string$3:sn instanceof color$2?rgb:sn instanceof Date?date$1:isNumberArray(sn)?numberArray:Array.isArray(sn)?genericArray:typeof sn.valueOf!="function"&&typeof sn.toString!="function"||isNaN(sn)?object$1:interpolateNumber$1)(tn,sn)}function interpolateRound(tn,sn){return tn=+tn,sn=+sn,function(un){return Math.round(tn*(1-un)+sn*un)}}function piecewise(tn,sn){sn===void 0&&(sn=tn,tn=interpolate$1);for(var un=0,dn=sn.length-1,pn=sn[0],mn=new Array(dn<0?0:dn);un<dn;)mn[un]=tn(pn,pn=sn[++un]);return function(hn){var fn=Math.max(0,Math.min(dn-1,Math.floor(hn*=dn)));return mn[fn](hn-fn)}}function constants(tn){return function(){return tn}}function number$4(tn){return+tn}var unit=[0,1];function identity$6(tn){return tn}function normalize$2(tn,sn){return(sn-=tn=+tn)?function(un){return(un-tn)/sn}:constants(isNaN(sn)?NaN:.5)}function clamper(tn,sn){var un;return tn>sn&&(un=tn,tn=sn,sn=un),function(dn){return Math.max(tn,Math.min(sn,dn))}}function bimap(tn,sn,un){var dn=tn[0],pn=tn[1],mn=sn[0],hn=sn[1];return pn<dn?(dn=normalize$2(pn,dn),mn=un(hn,mn)):(dn=normalize$2(dn,pn),mn=un(mn,hn)),function(fn){return mn(dn(fn))}}function polymap(tn,sn,un){var dn=Math.min(tn.length,sn.length)-1,pn=new Array(dn),mn=new Array(dn),hn=-1;for(tn[dn]<tn[0]&&(tn=tn.slice().reverse(),sn=sn.slice().reverse());++hn<dn;)pn[hn]=normalize$2(tn[hn],tn[hn+1]),mn[hn]=un(sn[hn],sn[hn+1]);return function(fn){var gn=bisectRight(tn,fn,1,dn)-1;return mn[gn](pn[gn](fn))}}function copy$2(tn,sn){return sn.domain(tn.domain()).range(tn.range()).interpolate(tn.interpolate()).clamp(tn.clamp()).unknown(tn.unknown())}function transformer$2(){var tn=unit,sn=unit,un=interpolate$1,dn,pn,mn,hn=identity$6,fn,gn,xn;function yn(){var En=Math.min(tn.length,sn.length);return hn!==identity$6&&(hn=clamper(tn[0],tn[En-1])),fn=En>2?polymap:bimap,gn=xn=null,vn}function vn(En){return En==null||isNaN(En=+En)?mn:(gn||(gn=fn(tn.map(dn),sn,un)))(dn(hn(En)))}return vn.invert=function(En){return hn(pn((xn||(xn=fn(sn,tn.map(dn),interpolateNumber$1)))(En)))},vn.domain=function(En){return arguments.length?(tn=Array.from(En,number$4),yn()):tn.slice()},vn.range=function(En){return arguments.length?(sn=Array.from(En),yn()):sn.slice()},vn.rangeRound=function(En){return sn=Array.from(En),un=interpolateRound,yn()},vn.clamp=function(En){return arguments.length?(hn=En?!0:identity$6,yn()):hn!==identity$6},vn.interpolate=function(En){return arguments.length?(un=En,yn()):un},vn.unknown=function(En){return arguments.length?(mn=En,vn):mn},function(En,bn){return dn=En,pn=bn,yn()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(tn){return Math.abs(tn=Math.round(tn))>=1e21?tn.toLocaleString("en").replace(/,/g,""):tn.toString(10)}function formatDecimalParts(tn,sn){if((un=(tn=sn?tn.toExponential(sn-1):tn.toExponential()).indexOf("e"))<0)return null;var un,dn=tn.slice(0,un);return[dn.length>1?dn[0]+dn.slice(2):dn,+tn.slice(un+1)]}function exponent(tn){return tn=formatDecimalParts(Math.abs(tn)),tn?tn[1]:NaN}function formatGroup(tn,sn){return function(un,dn){for(var pn=un.length,mn=[],hn=0,fn=tn[0],gn=0;pn>0&&fn>0&&(gn+fn+1>dn&&(fn=Math.max(1,dn-gn)),mn.push(un.substring(pn-=fn,pn+fn)),!((gn+=fn+1)>dn));)fn=tn[hn=(hn+1)%tn.length];return mn.reverse().join(sn)}}function formatNumerals(tn){return function(sn){return sn.replace(/[0-9]/g,function(un){return tn[+un]})}}var re$2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(tn){if(!(sn=re$2.exec(tn)))throw new Error("invalid format: "+tn);var sn;return new FormatSpecifier({fill:sn[1],align:sn[2],sign:sn[3],symbol:sn[4],zero:sn[5],width:sn[6],comma:sn[7],precision:sn[8]&&sn[8].slice(1),trim:sn[9],type:sn[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(tn){this.fill=tn.fill===void 0?" ":tn.fill+"",this.align=tn.align===void 0?">":tn.align+"",this.sign=tn.sign===void 0?"-":tn.sign+"",this.symbol=tn.symbol===void 0?"":tn.symbol+"",this.zero=!!tn.zero,this.width=tn.width===void 0?void 0:+tn.width,this.comma=!!tn.comma,this.precision=tn.precision===void 0?void 0:+tn.precision,this.trim=!!tn.trim,this.type=tn.type===void 0?"":tn.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(tn){e:for(var sn=tn.length,un=1,dn=-1,pn;un<sn;++un)switch(tn[un]){case".":dn=pn=un;break;case"0":dn===0&&(dn=un),pn=un;break;default:if(!+tn[un])break e;dn>0&&(dn=0);break}return dn>0?tn.slice(0,dn)+tn.slice(pn+1):tn}var prefixExponent;function formatPrefixAuto(tn,sn){var un=formatDecimalParts(tn,sn);if(!un)return tn+"";var dn=un[0],pn=un[1],mn=pn-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(pn/3)))*3)+1,hn=dn.length;return mn===hn?dn:mn>hn?dn+new Array(mn-hn+1).join("0"):mn>0?dn.slice(0,mn)+"."+dn.slice(mn):"0."+new Array(1-mn).join("0")+formatDecimalParts(tn,Math.max(0,sn+mn-1))[0]}function formatRounded(tn,sn){var un=formatDecimalParts(tn,sn);if(!un)return tn+"";var dn=un[0],pn=un[1];return pn<0?"0."+new Array(-pn).join("0")+dn:dn.length>pn+1?dn.slice(0,pn+1)+"."+dn.slice(pn+1):dn+new Array(pn-dn.length+2).join("0")}const formatTypes={"%":(tn,sn)=>(tn*100).toFixed(sn),b:tn=>Math.round(tn).toString(2),c:tn=>tn+"",d:formatDecimal,e:(tn,sn)=>tn.toExponential(sn),f:(tn,sn)=>tn.toFixed(sn),g:(tn,sn)=>tn.toPrecision(sn),o:tn=>Math.round(tn).toString(8),p:(tn,sn)=>formatRounded(tn*100,sn),r:formatRounded,s:formatPrefixAuto,X:tn=>Math.round(tn).toString(16).toUpperCase(),x:tn=>Math.round(tn).toString(16)};function identity$5(tn){return tn}var map$7=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(tn){var sn=tn.grouping===void 0||tn.thousands===void 0?identity$5:formatGroup(map$7.call(tn.grouping,Number),tn.thousands+""),un=tn.currency===void 0?"":tn.currency[0]+"",dn=tn.currency===void 0?"":tn.currency[1]+"",pn=tn.decimal===void 0?".":tn.decimal+"",mn=tn.numerals===void 0?identity$5:formatNumerals(map$7.call(tn.numerals,String)),hn=tn.percent===void 0?"%":tn.percent+"",fn=tn.minus===void 0?"−":tn.minus+"",gn=tn.nan===void 0?"NaN":tn.nan+"";function xn(vn){vn=formatSpecifier(vn);var En=vn.fill,bn=vn.align,wn=vn.sign,Sn=vn.symbol,Rn=vn.zero,_n=vn.width,jn=vn.comma,Cn=vn.precision,An=vn.trim,Tn=vn.type;Tn==="n"?(jn=!0,Tn="g"):formatTypes[Tn]||(Cn===void 0&&(Cn=12),An=!0,Tn="g"),(Rn||En==="0"&&bn==="=")&&(Rn=!0,En="0",bn="=");var $n=Sn==="$"?un:Sn==="#"&&/[boxX]/.test(Tn)?"0"+Tn.toLowerCase():"",Dn=Sn==="$"?dn:/[%p]/.test(Tn)?hn:"",Nn=formatTypes[Tn],kn=/[defgprs%]/.test(Tn);Cn=Cn===void 0?6:/[gprs]/.test(Tn)?Math.max(1,Math.min(21,Cn)):Math.max(0,Math.min(20,Cn));function Pn(Mn){var On=$n,Wn=Dn,In,Un,Vn;if(Tn==="c")Wn=Nn(Mn)+Wn,Mn="";else{Mn=+Mn;var Hn=Mn<0||1/Mn<0;if(Mn=isNaN(Mn)?gn:Nn(Math.abs(Mn),Cn),An&&(Mn=formatTrim(Mn)),Hn&&+Mn==0&&wn!=="+"&&(Hn=!1),On=(Hn?wn==="("?wn:fn:wn==="-"||wn==="("?"":wn)+On,Wn=(Tn==="s"?prefixes[8+prefixExponent/3]:"")+Wn+(Hn&&wn==="("?")":""),kn){for(In=-1,Un=Mn.length;++In<Un;)if(Vn=Mn.charCodeAt(In),48>Vn||Vn>57){Wn=(Vn===46?pn+Mn.slice(In+1):Mn.slice(In))+Wn,Mn=Mn.slice(0,In);break}}}jn&&!Rn&&(Mn=sn(Mn,1/0));var Ln=On.length+Mn.length+Wn.length,zn=Ln<_n?new Array(_n-Ln+1).join(En):"";switch(jn&&Rn&&(Mn=sn(zn+Mn,zn.length?_n-Wn.length:1/0),zn=""),bn){case"<":Mn=On+Mn+Wn+zn;break;case"=":Mn=On+zn+Mn+Wn;break;case"^":Mn=zn.slice(0,Ln=zn.length>>1)+On+Mn+Wn+zn.slice(Ln);break;default:Mn=zn+On+Mn+Wn;break}return mn(Mn)}return Pn.toString=function(){return vn+""},Pn}function yn(vn,En){var bn=xn((vn=formatSpecifier(vn),vn.type="f",vn)),wn=Math.max(-8,Math.min(8,Math.floor(exponent(En)/3)))*3,Sn=Math.pow(10,-wn),Rn=prefixes[8+wn/3];return function(_n){return bn(Sn*_n)+Rn}}return{format:xn,formatPrefix:yn}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(tn){return locale$1=formatLocale$1(tn),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(tn){return Math.max(0,-exponent(Math.abs(tn)))}function precisionPrefix(tn,sn){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(sn)/3)))*3-exponent(Math.abs(tn)))}function precisionRound(tn,sn){return tn=Math.abs(tn),sn=Math.abs(sn)-tn,Math.max(0,exponent(sn)-exponent(tn))+1}function tickFormat(tn,sn,un,dn){var pn=tickStep(tn,sn,un),mn;switch(dn=formatSpecifier(dn??",f"),dn.type){case"s":{var hn=Math.max(Math.abs(tn),Math.abs(sn));return dn.precision==null&&!isNaN(mn=precisionPrefix(pn,hn))&&(dn.precision=mn),formatPrefix(dn,hn)}case"":case"e":case"g":case"p":case"r":{dn.precision==null&&!isNaN(mn=precisionRound(pn,Math.max(Math.abs(tn),Math.abs(sn))))&&(dn.precision=mn-(dn.type==="e"));break}case"f":case"%":{dn.precision==null&&!isNaN(mn=precisionFixed(pn))&&(dn.precision=mn-(dn.type==="%")*2);break}}return format(dn)}function linearish(tn){var sn=tn.domain;return tn.ticks=function(un){var dn=sn();return ticks(dn[0],dn[dn.length-1],un??10)},tn.tickFormat=function(un,dn){var pn=sn();return tickFormat(pn[0],pn[pn.length-1],un??10,dn)},tn.nice=function(un){un==null&&(un=10);var dn=sn(),pn=0,mn=dn.length-1,hn=dn[pn],fn=dn[mn],gn,xn,yn=10;for(fn<hn&&(xn=hn,hn=fn,fn=xn,xn=pn,pn=mn,mn=xn);yn-- >0;){if(xn=tickIncrement(hn,fn,un),xn===gn)return dn[pn]=hn,dn[mn]=fn,sn(dn);if(xn>0)hn=Math.floor(hn/xn)*xn,fn=Math.ceil(fn/xn)*xn;else if(xn<0)hn=Math.ceil(hn*xn)/xn,fn=Math.floor(fn*xn)/xn;else break;gn=xn}return tn},tn}function linear(){var tn=continuous();return tn.copy=function(){return copy$2(tn,linear())},initRange.apply(tn,arguments),linearish(tn)}function identity$4(tn){var sn;function un(dn){return dn==null||isNaN(dn=+dn)?sn:dn}return un.invert=un,un.domain=un.range=function(dn){return arguments.length?(tn=Array.from(dn,number$4),un):tn.slice()},un.unknown=function(dn){return arguments.length?(sn=dn,un):sn},un.copy=function(){return identity$4(tn).unknown(sn)},tn=arguments.length?Array.from(tn,number$4):[0,1],linearish(un)}function nice(tn,sn){tn=tn.slice();var un=0,dn=tn.length-1,pn=tn[un],mn=tn[dn],hn;return mn<pn&&(hn=un,un=dn,dn=hn,hn=pn,pn=mn,mn=hn),tn[un]=sn.floor(pn),tn[dn]=sn.ceil(mn),tn}function transformLog(tn){return Math.log(tn)}function transformExp(tn){return Math.exp(tn)}function transformLogn(tn){return-Math.log(-tn)}function transformExpn(tn){return-Math.exp(-tn)}function pow10(tn){return isFinite(tn)?+("1e"+tn):tn<0?0:tn}function powp(tn){return tn===10?pow10:tn===Math.E?Math.exp:sn=>Math.pow(tn,sn)}function logp(tn){return tn===Math.E?Math.log:tn===10&&Math.log10||tn===2&&Math.log2||(tn=Math.log(tn),sn=>Math.log(sn)/tn)}function reflect(tn){return(sn,un)=>-tn(-sn,un)}function loggish(tn){const sn=tn(transformLog,transformExp),un=sn.domain;let dn=10,pn,mn;function hn(){return pn=logp(dn),mn=powp(dn),un()[0]<0?(pn=reflect(pn),mn=reflect(mn),tn(transformLogn,transformExpn)):tn(transformLog,transformExp),sn}return sn.base=function(fn){return arguments.length?(dn=+fn,hn()):dn},sn.domain=function(fn){return arguments.length?(un(fn),hn()):un()},sn.ticks=fn=>{const gn=un();let xn=gn[0],yn=gn[gn.length-1];const vn=yn<xn;vn&&([xn,yn]=[yn,xn]);let En=pn(xn),bn=pn(yn),wn,Sn;const Rn=fn==null?10:+fn;let _n=[];if(!(dn%1)&&bn-En<Rn){if(En=Math.floor(En),bn=Math.ceil(bn),xn>0){for(;En<=bn;++En)for(wn=1;wn<dn;++wn)if(Sn=En<0?wn/mn(-En):wn*mn(En),!(Sn<xn)){if(Sn>yn)break;_n.push(Sn)}}else for(;En<=bn;++En)for(wn=dn-1;wn>=1;--wn)if(Sn=En>0?wn/mn(-En):wn*mn(En),!(Sn<xn)){if(Sn>yn)break;_n.push(Sn)}_n.length*2<Rn&&(_n=ticks(xn,yn,Rn))}else _n=ticks(En,bn,Math.min(bn-En,Rn)).map(mn);return vn?_n.reverse():_n},sn.tickFormat=(fn,gn)=>{if(fn==null&&(fn=10),gn==null&&(gn=dn===10?"s":","),typeof gn!="function"&&(!(dn%1)&&(gn=formatSpecifier(gn)).precision==null&&(gn.trim=!0),gn=format(gn)),fn===1/0)return gn;const xn=Math.max(1,dn*fn/sn.ticks().length);return yn=>{let vn=yn/mn(Math.round(pn(yn)));return vn*dn<dn-.5&&(vn*=dn),vn<=xn?gn(yn):""}},sn.nice=()=>un(nice(un(),{floor:fn=>mn(Math.floor(pn(fn))),ceil:fn=>mn(Math.ceil(pn(fn)))})),sn}function log(){const tn=loggish(transformer$2()).domain([1,10]);return tn.copy=()=>copy$2(tn,log()).base(tn.base()),initRange.apply(tn,arguments),tn}function transformSymlog(tn){return function(sn){return Math.sign(sn)*Math.log1p(Math.abs(sn/tn))}}function transformSymexp(tn){return function(sn){return Math.sign(sn)*Math.expm1(Math.abs(sn))*tn}}function symlogish(tn){var sn=1,un=tn(transformSymlog(sn),transformSymexp(sn));return un.constant=function(dn){return arguments.length?tn(transformSymlog(sn=+dn),transformSymexp(sn)):sn},linearish(un)}function symlog(){var tn=symlogish(transformer$2());return tn.copy=function(){return copy$2(tn,symlog()).constant(tn.constant())},initRange.apply(tn,arguments)}function transformPow(tn){return function(sn){return sn<0?-Math.pow(-sn,tn):Math.pow(sn,tn)}}function transformSqrt(tn){return tn<0?-Math.sqrt(-tn):Math.sqrt(tn)}function transformSquare(tn){return tn<0?-tn*tn:tn*tn}function powish(tn){var sn=tn(identity$6,identity$6),un=1;function dn(){return un===1?tn(identity$6,identity$6):un===.5?tn(transformSqrt,transformSquare):tn(transformPow(un),transformPow(1/un))}return sn.exponent=function(pn){return arguments.length?(un=+pn,dn()):un},linearish(sn)}function pow(){var tn=powish(transformer$2());return tn.copy=function(){return copy$2(tn,pow()).exponent(tn.exponent())},initRange.apply(tn,arguments),tn}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(tn){return Math.sign(tn)*tn*tn}function unsquare(tn){return Math.sign(tn)*Math.sqrt(Math.abs(tn))}function radial(){var tn=continuous(),sn=[0,1],un=!1,dn;function pn(mn){var hn=unsquare(tn(mn));return isNaN(hn)?dn:un?Math.round(hn):hn}return pn.invert=function(mn){return tn.invert(square(mn))},pn.domain=function(mn){return arguments.length?(tn.domain(mn),pn):tn.domain()},pn.range=function(mn){return arguments.length?(tn.range((sn=Array.from(mn,number$4)).map(square)),pn):sn.slice()},pn.rangeRound=function(mn){return pn.range(mn).round(!0)},pn.round=function(mn){return arguments.length?(un=!!mn,pn):un},pn.clamp=function(mn){return arguments.length?(tn.clamp(mn),pn):tn.clamp()},pn.unknown=function(mn){return arguments.length?(dn=mn,pn):dn},pn.copy=function(){return radial(tn.domain(),sn).round(un).clamp(tn.clamp()).unknown(dn)},initRange.apply(pn,arguments),linearish(pn)}function quantile(){var tn=[],sn=[],un=[],dn;function pn(){var hn=0,fn=Math.max(1,sn.length);for(un=new Array(fn-1);++hn<fn;)un[hn-1]=quantileSorted(tn,hn/fn);return mn}function mn(hn){return hn==null||isNaN(hn=+hn)?dn:sn[bisectRight(un,hn)]}return mn.invertExtent=function(hn){var fn=sn.indexOf(hn);return fn<0?[NaN,NaN]:[fn>0?un[fn-1]:tn[0],fn<un.length?un[fn]:tn[tn.length-1]]},mn.domain=function(hn){if(!arguments.length)return tn.slice();tn=[];for(let fn of hn)fn!=null&&!isNaN(fn=+fn)&&tn.push(fn);return tn.sort(ascending),pn()},mn.range=function(hn){return arguments.length?(sn=Array.from(hn),pn()):sn.slice()},mn.unknown=function(hn){return arguments.length?(dn=hn,mn):dn},mn.quantiles=function(){return un.slice()},mn.copy=function(){return quantile().domain(tn).range(sn).unknown(dn)},initRange.apply(mn,arguments)}function quantize(){var tn=0,sn=1,un=1,dn=[.5],pn=[0,1],mn;function hn(gn){return gn!=null&&gn<=gn?pn[bisectRight(dn,gn,0,un)]:mn}function fn(){var gn=-1;for(dn=new Array(un);++gn<un;)dn[gn]=((gn+1)*sn-(gn-un)*tn)/(un+1);return hn}return hn.domain=function(gn){return arguments.length?([tn,sn]=gn,tn=+tn,sn=+sn,fn()):[tn,sn]},hn.range=function(gn){return arguments.length?(un=(pn=Array.from(gn)).length-1,fn()):pn.slice()},hn.invertExtent=function(gn){var xn=pn.indexOf(gn);return xn<0?[NaN,NaN]:xn<1?[tn,dn[0]]:xn>=un?[dn[un-1],sn]:[dn[xn-1],dn[xn]]},hn.unknown=function(gn){return arguments.length&&(mn=gn),hn},hn.thresholds=function(){return dn.slice()},hn.copy=function(){return quantize().domain([tn,sn]).range(pn).unknown(mn)},initRange.apply(linearish(hn),arguments)}function threshold(){var tn=[.5],sn=[0,1],un,dn=1;function pn(mn){return mn!=null&&mn<=mn?sn[bisectRight(tn,mn,0,dn)]:un}return pn.domain=function(mn){return arguments.length?(tn=Array.from(mn),dn=Math.min(tn.length,sn.length-1),pn):tn.slice()},pn.range=function(mn){return arguments.length?(sn=Array.from(mn),dn=Math.min(tn.length,sn.length-1),pn):sn.slice()},pn.invertExtent=function(mn){var hn=sn.indexOf(mn);return[tn[hn-1],tn[hn]]},pn.unknown=function(mn){return arguments.length?(un=mn,pn):un},pn.copy=function(){return threshold().domain(tn).range(sn).unknown(un)},initRange.apply(pn,arguments)}const t0=new Date,t1=new Date;function timeInterval(tn,sn,un,dn){function pn(mn){return tn(mn=arguments.length===0?new Date:new Date(+mn)),mn}return pn.floor=mn=>(tn(mn=new Date(+mn)),mn),pn.ceil=mn=>(tn(mn=new Date(mn-1)),sn(mn,1),tn(mn),mn),pn.round=mn=>{const hn=pn(mn),fn=pn.ceil(mn);return mn-hn<fn-mn?hn:fn},pn.offset=(mn,hn)=>(sn(mn=new Date(+mn),hn==null?1:Math.floor(hn)),mn),pn.range=(mn,hn,fn)=>{const gn=[];if(mn=pn.ceil(mn),fn=fn==null?1:Math.floor(fn),!(mn<hn)||!(fn>0))return gn;let xn;do gn.push(xn=new Date(+mn)),sn(mn,fn),tn(mn);while(xn<mn&&mn<hn);return gn},pn.filter=mn=>timeInterval(hn=>{if(hn>=hn)for(;tn(hn),!mn(hn);)hn.setTime(hn-1)},(hn,fn)=>{if(hn>=hn)if(fn<0)for(;++fn<=0;)for(;sn(hn,-1),!mn(hn););else for(;--fn>=0;)for(;sn(hn,1),!mn(hn););}),un&&(pn.count=(mn,hn)=>(t0.setTime(+mn),t1.setTime(+hn),tn(t0),tn(t1),Math.floor(un(t0,t1))),pn.every=mn=>(mn=Math.floor(mn),!isFinite(mn)||!(mn>0)?null:mn>1?pn.filter(dn?hn=>dn(hn)%mn===0:hn=>pn.count(0,hn)%mn===0):pn)),pn}const millisecond=timeInterval(()=>{},(tn,sn)=>{tn.setTime(+tn+sn)},(tn,sn)=>sn-tn);millisecond.every=tn=>(tn=Math.floor(tn),!isFinite(tn)||!(tn>0)?null:tn>1?timeInterval(sn=>{sn.setTime(Math.floor(sn/tn)*tn)},(sn,un)=>{sn.setTime(+sn+un*tn)},(sn,un)=>(un-sn)/tn):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(tn=>{tn.setTime(tn-tn.getMilliseconds())},(tn,sn)=>{tn.setTime(+tn+sn*durationSecond)},(tn,sn)=>(sn-tn)/durationSecond,tn=>tn.getUTCSeconds());second.range;const timeMinute=timeInterval(tn=>{tn.setTime(tn-tn.getMilliseconds()-tn.getSeconds()*durationSecond)},(tn,sn)=>{tn.setTime(+tn+sn*durationMinute)},(tn,sn)=>(sn-tn)/durationMinute,tn=>tn.getMinutes());timeMinute.range;const utcMinute=timeInterval(tn=>{tn.setUTCSeconds(0,0)},(tn,sn)=>{tn.setTime(+tn+sn*durationMinute)},(tn,sn)=>(sn-tn)/durationMinute,tn=>tn.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(tn=>{tn.setTime(tn-tn.getMilliseconds()-tn.getSeconds()*durationSecond-tn.getMinutes()*durationMinute)},(tn,sn)=>{tn.setTime(+tn+sn*durationHour)},(tn,sn)=>(sn-tn)/durationHour,tn=>tn.getHours());timeHour.range;const utcHour=timeInterval(tn=>{tn.setUTCMinutes(0,0,0)},(tn,sn)=>{tn.setTime(+tn+sn*durationHour)},(tn,sn)=>(sn-tn)/durationHour,tn=>tn.getUTCHours());utcHour.range;const timeDay=timeInterval(tn=>tn.setHours(0,0,0,0),(tn,sn)=>tn.setDate(tn.getDate()+sn),(tn,sn)=>(sn-tn-(sn.getTimezoneOffset()-tn.getTimezoneOffset())*durationMinute)/durationDay,tn=>tn.getDate()-1);timeDay.range;const utcDay=timeInterval(tn=>{tn.setUTCHours(0,0,0,0)},(tn,sn)=>{tn.setUTCDate(tn.getUTCDate()+sn)},(tn,sn)=>(sn-tn)/durationDay,tn=>tn.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(tn=>{tn.setUTCHours(0,0,0,0)},(tn,sn)=>{tn.setUTCDate(tn.getUTCDate()+sn)},(tn,sn)=>(sn-tn)/durationDay,tn=>Math.floor(tn/durationDay));unixDay.range;function timeWeekday(tn){return timeInterval(sn=>{sn.setDate(sn.getDate()-(sn.getDay()+7-tn)%7),sn.setHours(0,0,0,0)},(sn,un)=>{sn.setDate(sn.getDate()+un*7)},(sn,un)=>(un-sn-(un.getTimezoneOffset()-sn.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(tn){return timeInterval(sn=>{sn.setUTCDate(sn.getUTCDate()-(sn.getUTCDay()+7-tn)%7),sn.setUTCHours(0,0,0,0)},(sn,un)=>{sn.setUTCDate(sn.getUTCDate()+un*7)},(sn,un)=>(un-sn)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(tn=>{tn.setDate(1),tn.setHours(0,0,0,0)},(tn,sn)=>{tn.setMonth(tn.getMonth()+sn)},(tn,sn)=>sn.getMonth()-tn.getMonth()+(sn.getFullYear()-tn.getFullYear())*12,tn=>tn.getMonth());timeMonth.range;const utcMonth=timeInterval(tn=>{tn.setUTCDate(1),tn.setUTCHours(0,0,0,0)},(tn,sn)=>{tn.setUTCMonth(tn.getUTCMonth()+sn)},(tn,sn)=>sn.getUTCMonth()-tn.getUTCMonth()+(sn.getUTCFullYear()-tn.getUTCFullYear())*12,tn=>tn.getUTCMonth());utcMonth.range;const timeYear=timeInterval(tn=>{tn.setMonth(0,1),tn.setHours(0,0,0,0)},(tn,sn)=>{tn.setFullYear(tn.getFullYear()+sn)},(tn,sn)=>sn.getFullYear()-tn.getFullYear(),tn=>tn.getFullYear());timeYear.every=tn=>!isFinite(tn=Math.floor(tn))||!(tn>0)?null:timeInterval(sn=>{sn.setFullYear(Math.floor(sn.getFullYear()/tn)*tn),sn.setMonth(0,1),sn.setHours(0,0,0,0)},(sn,un)=>{sn.setFullYear(sn.getFullYear()+un*tn)});timeYear.range;const utcYear=timeInterval(tn=>{tn.setUTCMonth(0,1),tn.setUTCHours(0,0,0,0)},(tn,sn)=>{tn.setUTCFullYear(tn.getUTCFullYear()+sn)},(tn,sn)=>sn.getUTCFullYear()-tn.getUTCFullYear(),tn=>tn.getUTCFullYear());utcYear.every=tn=>!isFinite(tn=Math.floor(tn))||!(tn>0)?null:timeInterval(sn=>{sn.setUTCFullYear(Math.floor(sn.getUTCFullYear()/tn)*tn),sn.setUTCMonth(0,1),sn.setUTCHours(0,0,0,0)},(sn,un)=>{sn.setUTCFullYear(sn.getUTCFullYear()+un*tn)});utcYear.range;function ticker(tn,sn,un,dn,pn,mn){const hn=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[mn,1,durationMinute],[mn,5,5*durationMinute],[mn,15,15*durationMinute],[mn,30,30*durationMinute],[pn,1,durationHour],[pn,3,3*durationHour],[pn,6,6*durationHour],[pn,12,12*durationHour],[dn,1,durationDay],[dn,2,2*durationDay],[un,1,durationWeek],[sn,1,durationMonth],[sn,3,3*durationMonth],[tn,1,durationYear]];function fn(xn,yn,vn){const En=yn<xn;En&&([xn,yn]=[yn,xn]);const bn=vn&&typeof vn.range=="function"?vn:gn(xn,yn,vn),wn=bn?bn.range(xn,+yn+1):[];return En?wn.reverse():wn}function gn(xn,yn,vn){const En=Math.abs(yn-xn)/vn,bn=bisector(([,,Rn])=>Rn).right(hn,En);if(bn===hn.length)return tn.every(tickStep(xn/durationYear,yn/durationYear,vn));if(bn===0)return millisecond.every(Math.max(tickStep(xn,yn,vn),1));const[wn,Sn]=hn[En/hn[bn-1][2]<hn[bn][2]/En?bn-1:bn];return wn.every(Sn)}return[fn,gn]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(tn){if(0<=tn.y&&tn.y<100){var sn=new Date(-1,tn.m,tn.d,tn.H,tn.M,tn.S,tn.L);return sn.setFullYear(tn.y),sn}return new Date(tn.y,tn.m,tn.d,tn.H,tn.M,tn.S,tn.L)}function utcDate(tn){if(0<=tn.y&&tn.y<100){var sn=new Date(Date.UTC(-1,tn.m,tn.d,tn.H,tn.M,tn.S,tn.L));return sn.setUTCFullYear(tn.y),sn}return new Date(Date.UTC(tn.y,tn.m,tn.d,tn.H,tn.M,tn.S,tn.L))}function newDate(tn,sn,un){return{y:tn,m:sn,d:un,H:0,M:0,S:0,L:0}}function formatLocale(tn){var sn=tn.dateTime,un=tn.date,dn=tn.time,pn=tn.periods,mn=tn.days,hn=tn.shortDays,fn=tn.months,gn=tn.shortMonths,xn=formatRe(pn),yn=formatLookup(pn),vn=formatRe(mn),En=formatLookup(mn),bn=formatRe(hn),wn=formatLookup(hn),Sn=formatRe(fn),Rn=formatLookup(fn),_n=formatRe(gn),jn=formatLookup(gn),Cn={a:Hn,A:Ln,b:zn,B:Bn,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Fn,q:Gn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},An={a:qn,A:Jn,b:dr,B:br,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Er,q:yr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Tn={a:Pn,A:Mn,b:On,B:Wn,c:In,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:kn,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Un,X:Vn,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Cn.x=$n(un,Cn),Cn.X=$n(dn,Cn),Cn.c=$n(sn,Cn),An.x=$n(un,An),An.X=$n(dn,An),An.c=$n(sn,An);function $n(xr,vr){return function(nr){var sr=[],Rr=-1,Ar=0,Lr=xr.length,Or,Zn,Cr;for(nr instanceof Date||(nr=new Date(+nr));++Rr<Lr;)xr.charCodeAt(Rr)===37&&(sr.push(xr.slice(Ar,Rr)),(Zn=pads[Or=xr.charAt(++Rr)])!=null?Or=xr.charAt(++Rr):Zn=Or==="e"?" ":"0",(Cr=vr[Or])&&(Or=Cr(nr,Zn)),sr.push(Or),Ar=Rr+1);return sr.push(xr.slice(Ar,Rr)),sr.join("")}}function Dn(xr,vr){return function(nr){var sr=newDate(1900,void 0,1),Rr=Nn(sr,xr,nr+="",0),Ar,Lr;if(Rr!=nr.length)return null;if("Q"in sr)return new Date(sr.Q);if("s"in sr)return new Date(sr.s*1e3+("L"in sr?sr.L:0));if(vr&&!("Z"in sr)&&(sr.Z=0),"p"in sr&&(sr.H=sr.H%12+sr.p*12),sr.m===void 0&&(sr.m="q"in sr?sr.q:0),"V"in sr){if(sr.V<1||sr.V>53)return null;"w"in sr||(sr.w=1),"Z"in sr?(Ar=utcDate(newDate(sr.y,0,1)),Lr=Ar.getUTCDay(),Ar=Lr>4||Lr===0?utcMonday.ceil(Ar):utcMonday(Ar),Ar=utcDay.offset(Ar,(sr.V-1)*7),sr.y=Ar.getUTCFullYear(),sr.m=Ar.getUTCMonth(),sr.d=Ar.getUTCDate()+(sr.w+6)%7):(Ar=localDate(newDate(sr.y,0,1)),Lr=Ar.getDay(),Ar=Lr>4||Lr===0?timeMonday.ceil(Ar):timeMonday(Ar),Ar=timeDay.offset(Ar,(sr.V-1)*7),sr.y=Ar.getFullYear(),sr.m=Ar.getMonth(),sr.d=Ar.getDate()+(sr.w+6)%7)}else("W"in sr||"U"in sr)&&("w"in sr||(sr.w="u"in sr?sr.u%7:"W"in sr?1:0),Lr="Z"in sr?utcDate(newDate(sr.y,0,1)).getUTCDay():localDate(newDate(sr.y,0,1)).getDay(),sr.m=0,sr.d="W"in sr?(sr.w+6)%7+sr.W*7-(Lr+5)%7:sr.w+sr.U*7-(Lr+6)%7);return"Z"in sr?(sr.H+=sr.Z/100|0,sr.M+=sr.Z%100,utcDate(sr)):localDate(sr)}}function Nn(xr,vr,nr,sr){for(var Rr=0,Ar=vr.length,Lr=nr.length,Or,Zn;Rr<Ar;){if(sr>=Lr)return-1;if(Or=vr.charCodeAt(Rr++),Or===37){if(Or=vr.charAt(Rr++),Zn=Tn[Or in pads?vr.charAt(Rr++):Or],!Zn||(sr=Zn(xr,nr,sr))<0)return-1}else if(Or!=nr.charCodeAt(sr++))return-1}return sr}function kn(xr,vr,nr){var sr=xn.exec(vr.slice(nr));return sr?(xr.p=yn.get(sr[0].toLowerCase()),nr+sr[0].length):-1}function Pn(xr,vr,nr){var sr=bn.exec(vr.slice(nr));return sr?(xr.w=wn.get(sr[0].toLowerCase()),nr+sr[0].length):-1}function Mn(xr,vr,nr){var sr=vn.exec(vr.slice(nr));return sr?(xr.w=En.get(sr[0].toLowerCase()),nr+sr[0].length):-1}function On(xr,vr,nr){var sr=_n.exec(vr.slice(nr));return sr?(xr.m=jn.get(sr[0].toLowerCase()),nr+sr[0].length):-1}function Wn(xr,vr,nr){var sr=Sn.exec(vr.slice(nr));return sr?(xr.m=Rn.get(sr[0].toLowerCase()),nr+sr[0].length):-1}function In(xr,vr,nr){return Nn(xr,sn,vr,nr)}function Un(xr,vr,nr){return Nn(xr,un,vr,nr)}function Vn(xr,vr,nr){return Nn(xr,dn,vr,nr)}function Hn(xr){return hn[xr.getDay()]}function Ln(xr){return mn[xr.getDay()]}function zn(xr){return gn[xr.getMonth()]}function Bn(xr){return fn[xr.getMonth()]}function Fn(xr){return pn[+(xr.getHours()>=12)]}function Gn(xr){return 1+~~(xr.getMonth()/3)}function qn(xr){return hn[xr.getUTCDay()]}function Jn(xr){return mn[xr.getUTCDay()]}function dr(xr){return gn[xr.getUTCMonth()]}function br(xr){return fn[xr.getUTCMonth()]}function Er(xr){return pn[+(xr.getUTCHours()>=12)]}function yr(xr){return 1+~~(xr.getUTCMonth()/3)}return{format:function(xr){var vr=$n(xr+="",Cn);return vr.toString=function(){return xr},vr},parse:function(xr){var vr=Dn(xr+="",!1);return vr.toString=function(){return xr},vr},utcFormat:function(xr){var vr=$n(xr+="",An);return vr.toString=function(){return xr},vr},utcParse:function(xr){var vr=Dn(xr+="",!0);return vr.toString=function(){return xr},vr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(tn,sn,un){var dn=tn<0?"-":"",pn=(dn?-tn:tn)+"",mn=pn.length;return dn+(mn<un?new Array(un-mn+1).join(sn)+pn:pn)}function requote(tn){return tn.replace(requoteRe,"\\$&")}function formatRe(tn){return new RegExp("^(?:"+tn.map(requote).join("|")+")","i")}function formatLookup(tn){return new Map(tn.map((sn,un)=>[sn.toLowerCase(),un]))}function parseWeekdayNumberSunday(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+1));return dn?(tn.w=+dn[0],un+dn[0].length):-1}function parseWeekdayNumberMonday(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+1));return dn?(tn.u=+dn[0],un+dn[0].length):-1}function parseWeekNumberSunday(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.U=+dn[0],un+dn[0].length):-1}function parseWeekNumberISO(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.V=+dn[0],un+dn[0].length):-1}function parseWeekNumberMonday(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.W=+dn[0],un+dn[0].length):-1}function parseFullYear(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+4));return dn?(tn.y=+dn[0],un+dn[0].length):-1}function parseYear(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.y=+dn[0]+(+dn[0]>68?1900:2e3),un+dn[0].length):-1}function parseZone(tn,sn,un){var dn=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(sn.slice(un,un+6));return dn?(tn.Z=dn[1]?0:-(dn[2]+(dn[3]||"00")),un+dn[0].length):-1}function parseQuarter(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+1));return dn?(tn.q=dn[0]*3-3,un+dn[0].length):-1}function parseMonthNumber(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.m=dn[0]-1,un+dn[0].length):-1}function parseDayOfMonth(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.d=+dn[0],un+dn[0].length):-1}function parseDayOfYear(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+3));return dn?(tn.m=0,tn.d=+dn[0],un+dn[0].length):-1}function parseHour24(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.H=+dn[0],un+dn[0].length):-1}function parseMinutes(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.M=+dn[0],un+dn[0].length):-1}function parseSeconds(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+2));return dn?(tn.S=+dn[0],un+dn[0].length):-1}function parseMilliseconds(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+3));return dn?(tn.L=+dn[0],un+dn[0].length):-1}function parseMicroseconds(tn,sn,un){var dn=numberRe.exec(sn.slice(un,un+6));return dn?(tn.L=Math.floor(dn[0]/1e3),un+dn[0].length):-1}function parseLiteralPercent(tn,sn,un){var dn=percentRe.exec(sn.slice(un,un+1));return dn?un+dn[0].length:-1}function parseUnixTimestamp(tn,sn,un){var dn=numberRe.exec(sn.slice(un));return dn?(tn.Q=+dn[0],un+dn[0].length):-1}function parseUnixTimestampSeconds(tn,sn,un){var dn=numberRe.exec(sn.slice(un));return dn?(tn.s=+dn[0],un+dn[0].length):-1}function formatDayOfMonth(tn,sn){return pad(tn.getDate(),sn,2)}function formatHour24(tn,sn){return pad(tn.getHours(),sn,2)}function formatHour12(tn,sn){return pad(tn.getHours()%12||12,sn,2)}function formatDayOfYear(tn,sn){return pad(1+timeDay.count(timeYear(tn),tn),sn,3)}function formatMilliseconds(tn,sn){return pad(tn.getMilliseconds(),sn,3)}function formatMicroseconds(tn,sn){return formatMilliseconds(tn,sn)+"000"}function formatMonthNumber(tn,sn){return pad(tn.getMonth()+1,sn,2)}function formatMinutes(tn,sn){return pad(tn.getMinutes(),sn,2)}function formatSeconds(tn,sn){return pad(tn.getSeconds(),sn,2)}function formatWeekdayNumberMonday(tn){var sn=tn.getDay();return sn===0?7:sn}function formatWeekNumberSunday(tn,sn){return pad(timeSunday.count(timeYear(tn)-1,tn),sn,2)}function dISO(tn){var sn=tn.getDay();return sn>=4||sn===0?timeThursday(tn):timeThursday.ceil(tn)}function formatWeekNumberISO(tn,sn){return tn=dISO(tn),pad(timeThursday.count(timeYear(tn),tn)+(timeYear(tn).getDay()===4),sn,2)}function formatWeekdayNumberSunday(tn){return tn.getDay()}function formatWeekNumberMonday(tn,sn){return pad(timeMonday.count(timeYear(tn)-1,tn),sn,2)}function formatYear(tn,sn){return pad(tn.getFullYear()%100,sn,2)}function formatYearISO(tn,sn){return tn=dISO(tn),pad(tn.getFullYear()%100,sn,2)}function formatFullYear(tn,sn){return pad(tn.getFullYear()%1e4,sn,4)}function formatFullYearISO(tn,sn){var un=tn.getDay();return tn=un>=4||un===0?timeThursday(tn):timeThursday.ceil(tn),pad(tn.getFullYear()%1e4,sn,4)}function formatZone(tn){var sn=tn.getTimezoneOffset();return(sn>0?"-":(sn*=-1,"+"))+pad(sn/60|0,"0",2)+pad(sn%60,"0",2)}function formatUTCDayOfMonth(tn,sn){return pad(tn.getUTCDate(),sn,2)}function formatUTCHour24(tn,sn){return pad(tn.getUTCHours(),sn,2)}function formatUTCHour12(tn,sn){return pad(tn.getUTCHours()%12||12,sn,2)}function formatUTCDayOfYear(tn,sn){return pad(1+utcDay.count(utcYear(tn),tn),sn,3)}function formatUTCMilliseconds(tn,sn){return pad(tn.getUTCMilliseconds(),sn,3)}function formatUTCMicroseconds(tn,sn){return formatUTCMilliseconds(tn,sn)+"000"}function formatUTCMonthNumber(tn,sn){return pad(tn.getUTCMonth()+1,sn,2)}function formatUTCMinutes(tn,sn){return pad(tn.getUTCMinutes(),sn,2)}function formatUTCSeconds(tn,sn){return pad(tn.getUTCSeconds(),sn,2)}function formatUTCWeekdayNumberMonday(tn){var sn=tn.getUTCDay();return sn===0?7:sn}function formatUTCWeekNumberSunday(tn,sn){return pad(utcSunday.count(utcYear(tn)-1,tn),sn,2)}function UTCdISO(tn){var sn=tn.getUTCDay();return sn>=4||sn===0?utcThursday(tn):utcThursday.ceil(tn)}function formatUTCWeekNumberISO(tn,sn){return tn=UTCdISO(tn),pad(utcThursday.count(utcYear(tn),tn)+(utcYear(tn).getUTCDay()===4),sn,2)}function formatUTCWeekdayNumberSunday(tn){return tn.getUTCDay()}function formatUTCWeekNumberMonday(tn,sn){return pad(utcMonday.count(utcYear(tn)-1,tn),sn,2)}function formatUTCYear(tn,sn){return pad(tn.getUTCFullYear()%100,sn,2)}function formatUTCYearISO(tn,sn){return tn=UTCdISO(tn),pad(tn.getUTCFullYear()%100,sn,2)}function formatUTCFullYear(tn,sn){return pad(tn.getUTCFullYear()%1e4,sn,4)}function formatUTCFullYearISO(tn,sn){var un=tn.getUTCDay();return tn=un>=4||un===0?utcThursday(tn):utcThursday.ceil(tn),pad(tn.getUTCFullYear()%1e4,sn,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(tn){return+tn}function formatUnixTimestampSeconds(tn){return Math.floor(+tn/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(tn){return locale=formatLocale(tn),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(tn){return new Date(tn)}function number$3(tn){return tn instanceof Date?+tn:+new Date(+tn)}function calendar$2(tn,sn,un,dn,pn,mn,hn,fn,gn,xn){var yn=continuous(),vn=yn.invert,En=yn.domain,bn=xn(".%L"),wn=xn(":%S"),Sn=xn("%I:%M"),Rn=xn("%I %p"),_n=xn("%a %d"),jn=xn("%b %d"),Cn=xn("%B"),An=xn("%Y");function Tn($n){return(gn($n)<$n?bn:fn($n)<$n?wn:hn($n)<$n?Sn:mn($n)<$n?Rn:dn($n)<$n?pn($n)<$n?_n:jn:un($n)<$n?Cn:An)($n)}return yn.invert=function($n){return new Date(vn($n))},yn.domain=function($n){return arguments.length?En(Array.from($n,number$3)):En().map(date)},yn.ticks=function($n){var Dn=En();return tn(Dn[0],Dn[Dn.length-1],$n??10)},yn.tickFormat=function($n,Dn){return Dn==null?Tn:xn(Dn)},yn.nice=function($n){var Dn=En();return(!$n||typeof $n.range!="function")&&($n=sn(Dn[0],Dn[Dn.length-1],$n??10)),$n?En(nice(Dn,$n)):yn},yn.copy=function(){return copy$2(yn,calendar$2(tn,sn,un,dn,pn,mn,hn,fn,gn,xn))},yn}function time$1(){return initRange.apply(calendar$2(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar$2(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var tn=0,sn=1,un,dn,pn,mn,hn=identity$6,fn=!1,gn;function xn(vn){return vn==null||isNaN(vn=+vn)?gn:hn(pn===0?.5:(vn=(mn(vn)-un)*pn,fn?Math.max(0,Math.min(1,vn)):vn))}xn.domain=function(vn){return arguments.length?([tn,sn]=vn,un=mn(tn=+tn),dn=mn(sn=+sn),pn=un===dn?0:1/(dn-un),xn):[tn,sn]},xn.clamp=function(vn){return arguments.length?(fn=!!vn,xn):fn},xn.interpolator=function(vn){return arguments.length?(hn=vn,xn):hn};function yn(vn){return function(En){var bn,wn;return arguments.length?([bn,wn]=En,hn=vn(bn,wn),xn):[hn(0),hn(1)]}}return xn.range=yn(interpolate$1),xn.rangeRound=yn(interpolateRound),xn.unknown=function(vn){return arguments.length?(gn=vn,xn):gn},function(vn){return mn=vn,un=vn(tn),dn=vn(sn),pn=un===dn?0:1/(dn-un),xn}}function copy$1(tn,sn){return sn.domain(tn.domain()).interpolator(tn.interpolator()).clamp(tn.clamp()).unknown(tn.unknown())}function sequential(){var tn=linearish(transformer$1()(identity$6));return tn.copy=function(){return copy$1(tn,sequential())},initInterpolator.apply(tn,arguments)}function sequentialLog(){var tn=loggish(transformer$1()).domain([1,10]);return tn.copy=function(){return copy$1(tn,sequentialLog()).base(tn.base())},initInterpolator.apply(tn,arguments)}function sequentialSymlog(){var tn=symlogish(transformer$1());return tn.copy=function(){return copy$1(tn,sequentialSymlog()).constant(tn.constant())},initInterpolator.apply(tn,arguments)}function sequentialPow(){var tn=powish(transformer$1());return tn.copy=function(){return copy$1(tn,sequentialPow()).exponent(tn.exponent())},initInterpolator.apply(tn,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var tn=[],sn=identity$6;function un(dn){if(dn!=null&&!isNaN(dn=+dn))return sn((bisectRight(tn,dn,1)-1)/(tn.length-1))}return un.domain=function(dn){if(!arguments.length)return tn.slice();tn=[];for(let pn of dn)pn!=null&&!isNaN(pn=+pn)&&tn.push(pn);return tn.sort(ascending),un},un.interpolator=function(dn){return arguments.length?(sn=dn,un):sn},un.range=function(){return tn.map((dn,pn)=>sn(pn/(tn.length-1)))},un.quantiles=function(dn){return Array.from({length:dn+1},(pn,mn)=>quantile$1(tn,mn/dn))},un.copy=function(){return sequentialQuantile(sn).domain(tn)},initInterpolator.apply(un,arguments)}function transformer(){var tn=0,sn=.5,un=1,dn=1,pn,mn,hn,fn,gn,xn=identity$6,yn,vn=!1,En;function bn(Sn){return isNaN(Sn=+Sn)?En:(Sn=.5+((Sn=+yn(Sn))-mn)*(dn*Sn<dn*mn?fn:gn),xn(vn?Math.max(0,Math.min(1,Sn)):Sn))}bn.domain=function(Sn){return arguments.length?([tn,sn,un]=Sn,pn=yn(tn=+tn),mn=yn(sn=+sn),hn=yn(un=+un),fn=pn===mn?0:.5/(mn-pn),gn=mn===hn?0:.5/(hn-mn),dn=mn<pn?-1:1,bn):[tn,sn,un]},bn.clamp=function(Sn){return arguments.length?(vn=!!Sn,bn):vn},bn.interpolator=function(Sn){return arguments.length?(xn=Sn,bn):xn};function wn(Sn){return function(Rn){var _n,jn,Cn;return arguments.length?([_n,jn,Cn]=Rn,xn=piecewise(Sn,[_n,jn,Cn]),bn):[xn(0),xn(.5),xn(1)]}}return bn.range=wn(interpolate$1),bn.rangeRound=wn(interpolateRound),bn.unknown=function(Sn){return arguments.length?(En=Sn,bn):En},function(Sn){return yn=Sn,pn=Sn(tn),mn=Sn(sn),hn=Sn(un),fn=pn===mn?0:.5/(mn-pn),gn=mn===hn?0:.5/(hn-mn),dn=mn<pn?-1:1,bn}}function diverging(){var tn=linearish(transformer()(identity$6));return tn.copy=function(){return copy$1(tn,diverging())},initInterpolator.apply(tn,arguments)}function divergingLog(){var tn=loggish(transformer()).domain([.1,1,10]);return tn.copy=function(){return copy$1(tn,divergingLog()).base(tn.base())},initInterpolator.apply(tn,arguments)}function divergingSymlog(){var tn=symlogish(transformer());return tn.copy=function(){return copy$1(tn,divergingSymlog()).constant(tn.constant())},initInterpolator.apply(tn,arguments)}function divergingPow(){var tn=powish(transformer());return tn.copy=function(){return copy$1(tn,divergingPow()).exponent(tn.exponent())},initInterpolator.apply(tn,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point$3,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time$1,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol$2=isSymbol_1;function baseExtremum$2(tn,sn,un){for(var dn=-1,pn=tn.length;++dn<pn;){var mn=tn[dn],hn=sn(mn);if(hn!=null&&(fn===void 0?hn===hn&&!isSymbol$2(hn):un(hn,fn)))var fn=hn,gn=mn}return gn}var _baseExtremum=baseExtremum$2;function baseGt$1(tn,sn){return tn>sn}var _baseGt=baseGt$1,baseExtremum$1=_baseExtremum,baseGt=_baseGt,identity$3=identity_1;function max$1(tn){return tn&&tn.length?baseExtremum$1(tn,identity$3,baseGt):void 0}var max_1=max$1;const max$2=getDefaultExportFromCjs(max_1);function baseLt$1(tn,sn){return tn<sn}var _baseLt=baseLt$1,baseExtremum=_baseExtremum,baseLt=_baseLt,identity$2=identity_1;function min$1(tn){return tn&&tn.length?baseExtremum(tn,identity$2,baseLt):void 0}var min_1=min$1;const min$2=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$5=isArray_1;function map$6(tn,sn){var un=isArray$5(tn)?arrayMap:baseMap;return un(tn,baseIteratee$5(sn))}var map_1=map$6,baseFlatten=_baseFlatten,map$5=map_1;function flatMap(tn,sn){return baseFlatten(map$5(tn,sn),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual$3(tn,sn){return baseIsEqual(tn,sn)}var isEqual_1=isEqual$3;const isEqual$4=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults$2={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var tn=new this.constructor(this);return tn.s&&(tn.s=1),tn};P$1.comparedTo=P$1.cmp=function(tn){var sn,un,dn,pn,mn=this;if(tn=new mn.constructor(tn),mn.s!==tn.s)return mn.s||-tn.s;if(mn.e!==tn.e)return mn.e>tn.e^mn.s<0?1:-1;for(dn=mn.d.length,pn=tn.d.length,sn=0,un=dn<pn?dn:pn;sn<un;++sn)if(mn.d[sn]!==tn.d[sn])return mn.d[sn]>tn.d[sn]^mn.s<0?1:-1;return dn===pn?0:dn>pn^mn.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var tn=this,sn=tn.d.length-1,un=(sn-tn.e)*LOG_BASE;if(sn=tn.d[sn],sn)for(;sn%10==0;sn/=10)un--;return un<0?0:un};P$1.dividedBy=P$1.div=function(tn){return divide(this,new this.constructor(tn))};P$1.dividedToIntegerBy=P$1.idiv=function(tn){var sn=this,un=sn.constructor;return round$1(divide(sn,new un(tn),0,1),un.precision)};P$1.equals=P$1.eq=function(tn){return!this.cmp(tn)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(tn){return this.cmp(tn)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(tn){return this.cmp(tn)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(tn){return this.cmp(tn)<0};P$1.lessThanOrEqualTo=P$1.lte=function(tn){return this.cmp(tn)<1};P$1.logarithm=P$1.log=function(tn){var sn,un=this,dn=un.constructor,pn=dn.precision,mn=pn+5;if(tn===void 0)tn=new dn(10);else if(tn=new dn(tn),tn.s<1||tn.eq(ONE))throw Error(decimalError+"NaN");if(un.s<1)throw Error(decimalError+(un.s?"NaN":"-Infinity"));return un.eq(ONE)?new dn(0):(external=!1,sn=divide(ln$1(un,mn),ln$1(tn,mn),mn),external=!0,round$1(sn,pn))};P$1.minus=P$1.sub=function(tn){var sn=this;return tn=new sn.constructor(tn),sn.s==tn.s?subtract(sn,tn):add(sn,(tn.s=-tn.s,tn))};P$1.modulo=P$1.mod=function(tn){var sn,un=this,dn=un.constructor,pn=dn.precision;if(tn=new dn(tn),!tn.s)throw Error(decimalError+"NaN");return un.s?(external=!1,sn=divide(un,tn,0,1).times(tn),external=!0,un.minus(sn)):round$1(new dn(un),pn)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln$1(this)};P$1.negated=P$1.neg=function(){var tn=new this.constructor(this);return tn.s=-tn.s||0,tn};P$1.plus=P$1.add=function(tn){var sn=this;return tn=new sn.constructor(tn),sn.s==tn.s?add(sn,tn):subtract(sn,(tn.s=-tn.s,tn))};P$1.precision=P$1.sd=function(tn){var sn,un,dn,pn=this;if(tn!==void 0&&tn!==!!tn&&tn!==1&&tn!==0)throw Error(invalidArgument+tn);if(sn=getBase10Exponent(pn)+1,dn=pn.d.length-1,un=dn*LOG_BASE+1,dn=pn.d[dn],dn){for(;dn%10==0;dn/=10)un--;for(dn=pn.d[0];dn>=10;dn/=10)un++}return tn&&sn>un?sn:un};P$1.squareRoot=P$1.sqrt=function(){var tn,sn,un,dn,pn,mn,hn,fn=this,gn=fn.constructor;if(fn.s<1){if(!fn.s)return new gn(0);throw Error(decimalError+"NaN")}for(tn=getBase10Exponent(fn),external=!1,pn=Math.sqrt(+fn),pn==0||pn==1/0?(sn=digitsToString(fn.d),(sn.length+tn)%2==0&&(sn+="0"),pn=Math.sqrt(sn),tn=mathfloor((tn+1)/2)-(tn<0||tn%2),pn==1/0?sn="5e"+tn:(sn=pn.toExponential(),sn=sn.slice(0,sn.indexOf("e")+1)+tn),dn=new gn(sn)):dn=new gn(pn.toString()),un=gn.precision,pn=hn=un+3;;)if(mn=dn,dn=mn.plus(divide(fn,mn,hn+2)).times(.5),digitsToString(mn.d).slice(0,hn)===(sn=digitsToString(dn.d)).slice(0,hn)){if(sn=sn.slice(hn-3,hn+1),pn==hn&&sn=="4999"){if(round$1(mn,un+1,0),mn.times(mn).eq(fn)){dn=mn;break}}else if(sn!="9999")break;hn+=4}return external=!0,round$1(dn,un)};P$1.times=P$1.mul=function(tn){var sn,un,dn,pn,mn,hn,fn,gn,xn,yn=this,vn=yn.constructor,En=yn.d,bn=(tn=new vn(tn)).d;if(!yn.s||!tn.s)return new vn(0);for(tn.s*=yn.s,un=yn.e+tn.e,gn=En.length,xn=bn.length,gn<xn&&(mn=En,En=bn,bn=mn,hn=gn,gn=xn,xn=hn),mn=[],hn=gn+xn,dn=hn;dn--;)mn.push(0);for(dn=xn;--dn>=0;){for(sn=0,pn=gn+dn;pn>dn;)fn=mn[pn]+bn[dn]*En[pn-dn-1]+sn,mn[pn--]=fn%BASE|0,sn=fn/BASE|0;mn[pn]=(mn[pn]+sn)%BASE|0}for(;!mn[--hn];)mn.pop();return sn?++un:mn.shift(),tn.d=mn,tn.e=un,external?round$1(tn,vn.precision):tn};P$1.toDecimalPlaces=P$1.todp=function(tn,sn){var un=this,dn=un.constructor;return un=new dn(un),tn===void 0?un:(checkInt32(tn,0,MAX_DIGITS),sn===void 0?sn=dn.rounding:checkInt32(sn,0,8),round$1(un,tn+getBase10Exponent(un)+1,sn))};P$1.toExponential=function(tn,sn){var un,dn=this,pn=dn.constructor;return tn===void 0?un=toString$3(dn,!0):(checkInt32(tn,0,MAX_DIGITS),sn===void 0?sn=pn.rounding:checkInt32(sn,0,8),dn=round$1(new pn(dn),tn+1,sn),un=toString$3(dn,!0,tn+1)),un};P$1.toFixed=function(tn,sn){var un,dn,pn=this,mn=pn.constructor;return tn===void 0?toString$3(pn):(checkInt32(tn,0,MAX_DIGITS),sn===void 0?sn=mn.rounding:checkInt32(sn,0,8),dn=round$1(new mn(pn),tn+getBase10Exponent(pn)+1,sn),un=toString$3(dn.abs(),!1,tn+getBase10Exponent(dn)+1),pn.isneg()&&!pn.isZero()?"-"+un:un)};P$1.toInteger=P$1.toint=function(){var tn=this,sn=tn.constructor;return round$1(new sn(tn),getBase10Exponent(tn)+1,sn.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(tn){var sn,un,dn,pn,mn,hn,fn=this,gn=fn.constructor,xn=12,yn=+(tn=new gn(tn));if(!tn.s)return new gn(ONE);if(fn=new gn(fn),!fn.s){if(tn.s<1)throw Error(decimalError+"Infinity");return fn}if(fn.eq(ONE))return fn;if(dn=gn.precision,tn.eq(ONE))return round$1(fn,dn);if(sn=tn.e,un=tn.d.length-1,hn=sn>=un,mn=fn.s,hn){if((un=yn<0?-yn:yn)<=MAX_SAFE_INTEGER){for(pn=new gn(ONE),sn=Math.ceil(dn/LOG_BASE+4),external=!1;un%2&&(pn=pn.times(fn),truncate(pn.d,sn)),un=mathfloor(un/2),un!==0;)fn=fn.times(fn),truncate(fn.d,sn);return external=!0,tn.s<0?new gn(ONE).div(pn):round$1(pn,dn)}}else if(mn<0)throw Error(decimalError+"NaN");return mn=mn<0&&tn.d[Math.max(sn,un)]&1?-1:1,fn.s=1,external=!1,pn=tn.times(ln$1(fn,dn+xn)),external=!0,pn=exp(pn),pn.s=mn,pn};P$1.toPrecision=function(tn,sn){var un,dn,pn=this,mn=pn.constructor;return tn===void 0?(un=getBase10Exponent(pn),dn=toString$3(pn,un<=mn.toExpNeg||un>=mn.toExpPos)):(checkInt32(tn,1,MAX_DIGITS),sn===void 0?sn=mn.rounding:checkInt32(sn,0,8),pn=round$1(new mn(pn),tn,sn),un=getBase10Exponent(pn),dn=toString$3(pn,tn<=un||un<=mn.toExpNeg,tn)),dn};P$1.toSignificantDigits=P$1.tosd=function(tn,sn){var un=this,dn=un.constructor;return tn===void 0?(tn=dn.precision,sn=dn.rounding):(checkInt32(tn,1,MAX_DIGITS),sn===void 0?sn=dn.rounding:checkInt32(sn,0,8)),round$1(new dn(un),tn,sn)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var tn=this,sn=getBase10Exponent(tn),un=tn.constructor;return toString$3(tn,sn<=un.toExpNeg||sn>=un.toExpPos)};function add(tn,sn){var un,dn,pn,mn,hn,fn,gn,xn,yn=tn.constructor,vn=yn.precision;if(!tn.s||!sn.s)return sn.s||(sn=new yn(tn)),external?round$1(sn,vn):sn;if(gn=tn.d,xn=sn.d,hn=tn.e,pn=sn.e,gn=gn.slice(),mn=hn-pn,mn){for(mn<0?(dn=gn,mn=-mn,fn=xn.length):(dn=xn,pn=hn,fn=gn.length),hn=Math.ceil(vn/LOG_BASE),fn=hn>fn?hn+1:fn+1,mn>fn&&(mn=fn,dn.length=1),dn.reverse();mn--;)dn.push(0);dn.reverse()}for(fn=gn.length,mn=xn.length,fn-mn<0&&(mn=fn,dn=xn,xn=gn,gn=dn),un=0;mn;)un=(gn[--mn]=gn[mn]+xn[mn]+un)/BASE|0,gn[mn]%=BASE;for(un&&(gn.unshift(un),++pn),fn=gn.length;gn[--fn]==0;)gn.pop();return sn.d=gn,sn.e=pn,external?round$1(sn,vn):sn}function checkInt32(tn,sn,un){if(tn!==~~tn||tn<sn||tn>un)throw Error(invalidArgument+tn)}function digitsToString(tn){var sn,un,dn,pn=tn.length-1,mn="",hn=tn[0];if(pn>0){for(mn+=hn,sn=1;sn<pn;sn++)dn=tn[sn]+"",un=LOG_BASE-dn.length,un&&(mn+=getZeroString(un)),mn+=dn;hn=tn[sn],dn=hn+"",un=LOG_BASE-dn.length,un&&(mn+=getZeroString(un))}else if(hn===0)return"0";for(;hn%10===0;)hn/=10;return mn+hn}var divide=function(){function tn(dn,pn){var mn,hn=0,fn=dn.length;for(dn=dn.slice();fn--;)mn=dn[fn]*pn+hn,dn[fn]=mn%BASE|0,hn=mn/BASE|0;return hn&&dn.unshift(hn),dn}function sn(dn,pn,mn,hn){var fn,gn;if(mn!=hn)gn=mn>hn?1:-1;else for(fn=gn=0;fn<mn;fn++)if(dn[fn]!=pn[fn]){gn=dn[fn]>pn[fn]?1:-1;break}return gn}function un(dn,pn,mn){for(var hn=0;mn--;)dn[mn]-=hn,hn=dn[mn]<pn[mn]?1:0,dn[mn]=hn*BASE+dn[mn]-pn[mn];for(;!dn[0]&&dn.length>1;)dn.shift()}return function(dn,pn,mn,hn){var fn,gn,xn,yn,vn,En,bn,wn,Sn,Rn,_n,jn,Cn,An,Tn,$n,Dn,Nn,kn=dn.constructor,Pn=dn.s==pn.s?1:-1,Mn=dn.d,On=pn.d;if(!dn.s)return new kn(dn);if(!pn.s)throw Error(decimalError+"Division by zero");for(gn=dn.e-pn.e,Dn=On.length,Tn=Mn.length,bn=new kn(Pn),wn=bn.d=[],xn=0;On[xn]==(Mn[xn]||0);)++xn;if(On[xn]>(Mn[xn]||0)&&--gn,mn==null?jn=mn=kn.precision:hn?jn=mn+(getBase10Exponent(dn)-getBase10Exponent(pn))+1:jn=mn,jn<0)return new kn(0);if(jn=jn/LOG_BASE+2|0,xn=0,Dn==1)for(yn=0,On=On[0],jn++;(xn<Tn||yn)&&jn--;xn++)Cn=yn*BASE+(Mn[xn]||0),wn[xn]=Cn/On|0,yn=Cn%On|0;else{for(yn=BASE/(On[0]+1)|0,yn>1&&(On=tn(On,yn),Mn=tn(Mn,yn),Dn=On.length,Tn=Mn.length),An=Dn,Sn=Mn.slice(0,Dn),Rn=Sn.length;Rn<Dn;)Sn[Rn++]=0;Nn=On.slice(),Nn.unshift(0),$n=On[0],On[1]>=BASE/2&&++$n;do yn=0,fn=sn(On,Sn,Dn,Rn),fn<0?(_n=Sn[0],Dn!=Rn&&(_n=_n*BASE+(Sn[1]||0)),yn=_n/$n|0,yn>1?(yn>=BASE&&(yn=BASE-1),vn=tn(On,yn),En=vn.length,Rn=Sn.length,fn=sn(vn,Sn,En,Rn),fn==1&&(yn--,un(vn,Dn<En?Nn:On,En))):(yn==0&&(fn=yn=1),vn=On.slice()),En=vn.length,En<Rn&&vn.unshift(0),un(Sn,vn,Rn),fn==-1&&(Rn=Sn.length,fn=sn(On,Sn,Dn,Rn),fn<1&&(yn++,un(Sn,Dn<Rn?Nn:On,Rn))),Rn=Sn.length):fn===0&&(yn++,Sn=[0]),wn[xn++]=yn,fn&&Sn[0]?Sn[Rn++]=Mn[An]||0:(Sn=[Mn[An]],Rn=1);while((An++<Tn||Sn[0]!==void 0)&&jn--)}return wn[0]||wn.shift(),bn.e=gn,round$1(bn,hn?mn+getBase10Exponent(bn)+1:mn)}}();function exp(tn,sn){var un,dn,pn,mn,hn,fn,gn=0,xn=0,yn=tn.constructor,vn=yn.precision;if(getBase10Exponent(tn)>16)throw Error(exponentOutOfRange+getBase10Exponent(tn));if(!tn.s)return new yn(ONE);for(external=!1,fn=vn,hn=new yn(.03125);tn.abs().gte(.1);)tn=tn.times(hn),xn+=5;for(dn=Math.log(mathpow(2,xn))/Math.LN10*2+5|0,fn+=dn,un=pn=mn=new yn(ONE),yn.precision=fn;;){if(pn=round$1(pn.times(tn),fn),un=un.times(++gn),hn=mn.plus(divide(pn,un,fn)),digitsToString(hn.d).slice(0,fn)===digitsToString(mn.d).slice(0,fn)){for(;xn--;)mn=round$1(mn.times(mn),fn);return yn.precision=vn,sn==null?(external=!0,round$1(mn,vn)):mn}mn=hn}}function getBase10Exponent(tn){for(var sn=tn.e*LOG_BASE,un=tn.d[0];un>=10;un/=10)sn++;return sn}function getLn10(tn,sn,un){if(sn>tn.LN10.sd())throw external=!0,un&&(tn.precision=un),Error(decimalError+"LN10 precision limit exceeded");return round$1(new tn(tn.LN10),sn)}function getZeroString(tn){for(var sn="";tn--;)sn+="0";return sn}function ln$1(tn,sn){var un,dn,pn,mn,hn,fn,gn,xn,yn,vn=1,En=10,bn=tn,wn=bn.d,Sn=bn.constructor,Rn=Sn.precision;if(bn.s<1)throw Error(decimalError+(bn.s?"NaN":"-Infinity"));if(bn.eq(ONE))return new Sn(0);if(sn==null?(external=!1,xn=Rn):xn=sn,bn.eq(10))return sn==null&&(external=!0),getLn10(Sn,xn);if(xn+=En,Sn.precision=xn,un=digitsToString(wn),dn=un.charAt(0),mn=getBase10Exponent(bn),Math.abs(mn)<15e14){for(;dn<7&&dn!=1||dn==1&&un.charAt(1)>3;)bn=bn.times(tn),un=digitsToString(bn.d),dn=un.charAt(0),vn++;mn=getBase10Exponent(bn),dn>1?(bn=new Sn("0."+un),mn++):bn=new Sn(dn+"."+un.slice(1))}else return gn=getLn10(Sn,xn+2,Rn).times(mn+""),bn=ln$1(new Sn(dn+"."+un.slice(1)),xn-En).plus(gn),Sn.precision=Rn,sn==null?(external=!0,round$1(bn,Rn)):bn;for(fn=hn=bn=divide(bn.minus(ONE),bn.plus(ONE),xn),yn=round$1(bn.times(bn),xn),pn=3;;){if(hn=round$1(hn.times(yn),xn),gn=fn.plus(divide(hn,new Sn(pn),xn)),digitsToString(gn.d).slice(0,xn)===digitsToString(fn.d).slice(0,xn))return fn=fn.times(2),mn!==0&&(fn=fn.plus(getLn10(Sn,xn+2,Rn).times(mn+""))),fn=divide(fn,new Sn(vn),xn),Sn.precision=Rn,sn==null?(external=!0,round$1(fn,Rn)):fn;fn=gn,pn+=2}}function parseDecimal(tn,sn){var un,dn,pn;for((un=sn.indexOf("."))>-1&&(sn=sn.replace(".","")),(dn=sn.search(/e/i))>0?(un<0&&(un=dn),un+=+sn.slice(dn+1),sn=sn.substring(0,dn)):un<0&&(un=sn.length),dn=0;sn.charCodeAt(dn)===48;)++dn;for(pn=sn.length;sn.charCodeAt(pn-1)===48;)--pn;if(sn=sn.slice(dn,pn),sn){if(pn-=dn,un=un-dn-1,tn.e=mathfloor(un/LOG_BASE),tn.d=[],dn=(un+1)%LOG_BASE,un<0&&(dn+=LOG_BASE),dn<pn){for(dn&&tn.d.push(+sn.slice(0,dn)),pn-=LOG_BASE;dn<pn;)tn.d.push(+sn.slice(dn,dn+=LOG_BASE));sn=sn.slice(dn),dn=LOG_BASE-sn.length}else dn-=pn;for(;dn--;)sn+="0";if(tn.d.push(+sn),external&&(tn.e>MAX_E||tn.e<-MAX_E))throw Error(exponentOutOfRange+un)}else tn.s=0,tn.e=0,tn.d=[0];return tn}function round$1(tn,sn,un){var dn,pn,mn,hn,fn,gn,xn,yn,vn=tn.d;for(hn=1,mn=vn[0];mn>=10;mn/=10)hn++;if(dn=sn-hn,dn<0)dn+=LOG_BASE,pn=sn,xn=vn[yn=0];else{if(yn=Math.ceil((dn+1)/LOG_BASE),mn=vn.length,yn>=mn)return tn;for(xn=mn=vn[yn],hn=1;mn>=10;mn/=10)hn++;dn%=LOG_BASE,pn=dn-LOG_BASE+hn}if(un!==void 0&&(mn=mathpow(10,hn-pn-1),fn=xn/mn%10|0,gn=sn<0||vn[yn+1]!==void 0||xn%mn,gn=un<4?(fn||gn)&&(un==0||un==(tn.s<0?3:2)):fn>5||fn==5&&(un==4||gn||un==6&&(dn>0?pn>0?xn/mathpow(10,hn-pn):0:vn[yn-1])%10&1||un==(tn.s<0?8:7))),sn<1||!vn[0])return gn?(mn=getBase10Exponent(tn),vn.length=1,sn=sn-mn-1,vn[0]=mathpow(10,(LOG_BASE-sn%LOG_BASE)%LOG_BASE),tn.e=mathfloor(-sn/LOG_BASE)||0):(vn.length=1,vn[0]=tn.e=tn.s=0),tn;if(dn==0?(vn.length=yn,mn=1,yn--):(vn.length=yn+1,mn=mathpow(10,LOG_BASE-dn),vn[yn]=pn>0?(xn/mathpow(10,hn-pn)%mathpow(10,pn)|0)*mn:0),gn)for(;;)if(yn==0){(vn[0]+=mn)==BASE&&(vn[0]=1,++tn.e);break}else{if(vn[yn]+=mn,vn[yn]!=BASE)break;vn[yn--]=0,mn=1}for(dn=vn.length;vn[--dn]===0;)vn.pop();if(external&&(tn.e>MAX_E||tn.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(tn));return tn}function subtract(tn,sn){var un,dn,pn,mn,hn,fn,gn,xn,yn,vn,En=tn.constructor,bn=En.precision;if(!tn.s||!sn.s)return sn.s?sn.s=-sn.s:sn=new En(tn),external?round$1(sn,bn):sn;if(gn=tn.d,vn=sn.d,dn=sn.e,xn=tn.e,gn=gn.slice(),hn=xn-dn,hn){for(yn=hn<0,yn?(un=gn,hn=-hn,fn=vn.length):(un=vn,dn=xn,fn=gn.length),pn=Math.max(Math.ceil(bn/LOG_BASE),fn)+2,hn>pn&&(hn=pn,un.length=1),un.reverse(),pn=hn;pn--;)un.push(0);un.reverse()}else{for(pn=gn.length,fn=vn.length,yn=pn<fn,yn&&(fn=pn),pn=0;pn<fn;pn++)if(gn[pn]!=vn[pn]){yn=gn[pn]<vn[pn];break}hn=0}for(yn&&(un=gn,gn=vn,vn=un,sn.s=-sn.s),fn=gn.length,pn=vn.length-fn;pn>0;--pn)gn[fn++]=0;for(pn=vn.length;pn>hn;){if(gn[--pn]<vn[pn]){for(mn=pn;mn&&gn[--mn]===0;)gn[mn]=BASE-1;--gn[mn],gn[pn]+=BASE}gn[pn]-=vn[pn]}for(;gn[--fn]===0;)gn.pop();for(;gn[0]===0;gn.shift())--dn;return gn[0]?(sn.d=gn,sn.e=dn,external?round$1(sn,bn):sn):new En(0)}function toString$3(tn,sn,un){var dn,pn=getBase10Exponent(tn),mn=digitsToString(tn.d),hn=mn.length;return sn?(un&&(dn=un-hn)>0?mn=mn.charAt(0)+"."+mn.slice(1)+getZeroString(dn):hn>1&&(mn=mn.charAt(0)+"."+mn.slice(1)),mn=mn+(pn<0?"e":"e+")+pn):pn<0?(mn="0."+getZeroString(-pn-1)+mn,un&&(dn=un-hn)>0&&(mn+=getZeroString(dn))):pn>=hn?(mn+=getZeroString(pn+1-hn),un&&(dn=un-pn-1)>0&&(mn=mn+"."+getZeroString(dn))):((dn=pn+1)<hn&&(mn=mn.slice(0,dn)+"."+mn.slice(dn)),un&&(dn=un-hn)>0&&(pn+1===hn&&(mn+="."),mn+=getZeroString(dn))),tn.s<0?"-"+mn:mn}function truncate(tn,sn){if(tn.length>sn)return tn.length=sn,!0}function clone(tn){var sn,un,dn;function pn(mn){var hn=this;if(!(hn instanceof pn))return new pn(mn);if(hn.constructor=pn,mn instanceof pn){hn.s=mn.s,hn.e=mn.e,hn.d=(mn=mn.d)?mn.slice():mn;return}if(typeof mn=="number"){if(mn*0!==0)throw Error(invalidArgument+mn);if(mn>0)hn.s=1;else if(mn<0)mn=-mn,hn.s=-1;else{hn.s=0,hn.e=0,hn.d=[0];return}if(mn===~~mn&&mn<1e7){hn.e=0,hn.d=[mn];return}return parseDecimal(hn,mn.toString())}else if(typeof mn!="string")throw Error(invalidArgument+mn);if(mn.charCodeAt(0)===45?(mn=mn.slice(1),hn.s=-1):hn.s=1,isDecimal.test(mn))parseDecimal(hn,mn);else throw Error(invalidArgument+mn)}if(pn.prototype=P$1,pn.ROUND_UP=0,pn.ROUND_DOWN=1,pn.ROUND_CEIL=2,pn.ROUND_FLOOR=3,pn.ROUND_HALF_UP=4,pn.ROUND_HALF_DOWN=5,pn.ROUND_HALF_EVEN=6,pn.ROUND_HALF_CEIL=7,pn.ROUND_HALF_FLOOR=8,pn.clone=clone,pn.config=pn.set=config,tn===void 0&&(tn={}),tn)for(dn=["precision","rounding","toExpNeg","toExpPos","LN10"],sn=0;sn<dn.length;)tn.hasOwnProperty(un=dn[sn++])||(tn[un]=this[un]);return pn.config(tn),pn}function config(tn){if(!tn||typeof tn!="object")throw Error(decimalError+"Object expected");var sn,un,dn,pn=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(sn=0;sn<pn.length;sn+=3)if((dn=tn[un=pn[sn]])!==void 0)if(mathfloor(dn)===dn&&dn>=pn[sn+1]&&dn<=pn[sn+2])this[un]=dn;else throw Error(invalidArgument+un+": "+dn);if((dn=tn[un="LN10"])!==void 0)if(dn==Math.LN10)this[un]=new this(dn);else throw Error(invalidArgument+un+": "+dn);return this}var Decimal=clone(defaults$2);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$d(tn){return _arrayWithoutHoles$d(tn)||_iterableToArray$e(tn)||_unsupportedIterableToArray$l(tn)||_nonIterableSpread$d()}function _nonIterableSpread$d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$l(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$l(tn,sn)}}function _iterableToArray$e(tn){if(typeof Symbol<"u"&&Symbol.iterator in Object(tn))return Array.from(tn)}function _arrayWithoutHoles$d(tn){if(Array.isArray(tn))return _arrayLikeToArray$l(tn)}function _arrayLikeToArray$l(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}var identity$1=function tn(sn){return sn},PLACE_HOLDER={},isPlaceHolder=function tn(sn){return sn===PLACE_HOLDER},curry0=function tn(sn){return function un(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?un:sn.apply(void 0,arguments)}},curryN=function tn(sn,un){return sn===1?un:curry0(function(){for(var dn=arguments.length,pn=new Array(dn),mn=0;mn<dn;mn++)pn[mn]=arguments[mn];var hn=pn.filter(function(fn){return fn!==PLACE_HOLDER}).length;return hn>=sn?un.apply(void 0,pn):tn(sn-hn,curry0(function(){for(var fn=arguments.length,gn=new Array(fn),xn=0;xn<fn;xn++)gn[xn]=arguments[xn];var yn=pn.map(function(vn){return isPlaceHolder(vn)?gn.shift():vn});return un.apply(void 0,_toConsumableArray$d(yn).concat(gn))}))})},curry=function tn(sn){return curryN(sn.length,sn)},range$2=function tn(sn,un){for(var dn=[],pn=sn;pn<un;++pn)dn[pn-sn]=pn;return dn},map$4=curry(function(tn,sn){return Array.isArray(sn)?sn.map(tn):Object.keys(sn).map(function(un){return sn[un]}).map(tn)}),compose$1=function tn(){for(var sn=arguments.length,un=new Array(sn),dn=0;dn<sn;dn++)un[dn]=arguments[dn];if(!un.length)return identity$1;var pn=un.reverse(),mn=pn[0],hn=pn.slice(1);return function(){return hn.reduce(function(fn,gn){return gn(fn)},mn.apply(void 0,arguments))}},reverse=function tn(sn){return Array.isArray(sn)?sn.reverse():sn.split("").reverse.join("")},memoize=function tn(sn){var un=null,dn=null;return function(){for(var pn=arguments.length,mn=new Array(pn),hn=0;hn<pn;hn++)mn[hn]=arguments[hn];return un&&mn.every(function(fn,gn){return fn===un[gn]})||(un=mn,dn=sn.apply(void 0,mn)),dn}};function getDigitCount(tn){var sn;return tn===0?sn=1:sn=Math.floor(new Decimal$1(tn).abs().log(10).toNumber())+1,sn}function rangeStep(tn,sn,un){for(var dn=new Decimal$1(tn),pn=0,mn=[];dn.lt(sn)&&pn<1e5;)mn.push(dn.toNumber()),dn=dn.add(un),pn++;return mn}var interpolateNumber=curry(function(tn,sn,un){var dn=+tn,pn=+sn;return dn+un*(pn-dn)}),uninterpolateNumber=curry(function(tn,sn,un){var dn=sn-+tn;return dn=dn||1/0,(un-tn)/dn}),uninterpolateTruncation=curry(function(tn,sn,un){var dn=sn-+tn;return dn=dn||1/0,Math.max(0,Math.min(1,(un-tn)/dn))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$c(tn){return _arrayWithoutHoles$c(tn)||_iterableToArray$d(tn)||_unsupportedIterableToArray$k(tn)||_nonIterableSpread$c()}function _nonIterableSpread$c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$d(tn){if(typeof Symbol<"u"&&Symbol.iterator in Object(tn))return Array.from(tn)}function _arrayWithoutHoles$c(tn){if(Array.isArray(tn))return _arrayLikeToArray$k(tn)}function _slicedToArray$a(tn,sn){return _arrayWithHoles$b(tn)||_iterableToArrayLimit$a(tn,sn)||_unsupportedIterableToArray$k(tn,sn)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$k(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$k(tn,sn)}}function _arrayLikeToArray$k(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$a(tn,sn){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(tn)))){var un=[],dn=!0,pn=!1,mn=void 0;try{for(var hn=tn[Symbol.iterator](),fn;!(dn=(fn=hn.next()).done)&&(un.push(fn.value),!(sn&&un.length===sn));dn=!0);}catch(gn){pn=!0,mn=gn}finally{try{!dn&&hn.return!=null&&hn.return()}finally{if(pn)throw mn}}return un}}function _arrayWithHoles$b(tn){if(Array.isArray(tn))return tn}function getValidInterval(tn){var sn=_slicedToArray$a(tn,2),un=sn[0],dn=sn[1],pn=un,mn=dn;return un>dn&&(pn=dn,mn=un),[pn,mn]}function getFormatStep(tn,sn,un){if(tn.lte(0))return new Decimal$1(0);var dn=Arithmetic.getDigitCount(tn.toNumber()),pn=new Decimal$1(10).pow(dn),mn=tn.div(pn),hn=dn!==1?.05:.1,fn=new Decimal$1(Math.ceil(mn.div(hn).toNumber())).add(un).mul(hn),gn=fn.mul(pn);return sn?gn:new Decimal$1(Math.ceil(gn))}function getTickOfSingleValue(tn,sn,un){var dn=1,pn=new Decimal$1(tn);if(!pn.isint()&&un){var mn=Math.abs(tn);mn<1?(dn=new Decimal$1(10).pow(Arithmetic.getDigitCount(tn)-1),pn=new Decimal$1(Math.floor(pn.div(dn).toNumber())).mul(dn)):mn>1&&(pn=new Decimal$1(Math.floor(tn)))}else tn===0?pn=new Decimal$1(Math.floor((sn-1)/2)):un||(pn=new Decimal$1(Math.floor(tn)));var hn=Math.floor((sn-1)/2),fn=compose$1(map$4(function(gn){return pn.add(new Decimal$1(gn-hn).mul(dn)).toNumber()}),range$2);return fn(0,sn)}function calculateStep(tn,sn,un,dn){var pn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((sn-tn)/(un-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var mn=getFormatStep(new Decimal$1(sn).sub(tn).div(un-1),dn,pn),hn;tn<=0&&sn>=0?hn=new Decimal$1(0):(hn=new Decimal$1(tn).add(sn).div(2),hn=hn.sub(new Decimal$1(hn).mod(mn)));var fn=Math.ceil(hn.sub(tn).div(mn).toNumber()),gn=Math.ceil(new Decimal$1(sn).sub(hn).div(mn).toNumber()),xn=fn+gn+1;return xn>un?calculateStep(tn,sn,un,dn,pn+1):(xn<un&&(gn=sn>0?gn+(un-xn):gn,fn=sn>0?fn:fn+(un-xn)),{step:mn,tickMin:hn.sub(new Decimal$1(fn).mul(mn)),tickMax:hn.add(new Decimal$1(gn).mul(mn))})}function getNiceTickValuesFn(tn){var sn=_slicedToArray$a(tn,2),un=sn[0],dn=sn[1],pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,hn=Math.max(pn,2),fn=getValidInterval([un,dn]),gn=_slicedToArray$a(fn,2),xn=gn[0],yn=gn[1];if(xn===-1/0||yn===1/0){var vn=yn===1/0?[xn].concat(_toConsumableArray$c(range$2(0,pn-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$c(range$2(0,pn-1).map(function(){return-1/0})),[yn]);return un>dn?reverse(vn):vn}if(xn===yn)return getTickOfSingleValue(xn,pn,mn);var En=calculateStep(xn,yn,hn,mn),bn=En.step,wn=En.tickMin,Sn=En.tickMax,Rn=Arithmetic.rangeStep(wn,Sn.add(new Decimal$1(.1).mul(bn)),bn);return un>dn?reverse(Rn):Rn}function getTickValuesFixedDomainFn(tn,sn){var un=_slicedToArray$a(tn,2),dn=un[0],pn=un[1],mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,hn=getValidInterval([dn,pn]),fn=_slicedToArray$a(hn,2),gn=fn[0],xn=fn[1];if(gn===-1/0||xn===1/0)return[dn,pn];if(gn===xn)return[gn];var yn=Math.max(sn,2),vn=getFormatStep(new Decimal$1(xn).sub(gn).div(yn-1),mn,0),En=[].concat(_toConsumableArray$c(Arithmetic.rangeStep(new Decimal$1(gn),new Decimal$1(xn).sub(new Decimal$1(.99).mul(vn)),vn)),[xn]);return dn>pn?reverse(En):En}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant$1(tn,sn){throw new Error(prefix)}var _excluded$f=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$y(tn){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$y(tn)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$n.apply(this,arguments)}function _slicedToArray$9(tn,sn){return _arrayWithHoles$a(tn)||_iterableToArrayLimit$9(tn,sn)||_unsupportedIterableToArray$j(tn,sn)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$j(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$j(tn,sn)}}function _arrayLikeToArray$j(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$9(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$a(tn){if(Array.isArray(tn))return tn}function _objectWithoutProperties$d(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$f(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$f(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _classCallCheck$f(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$w(dn.key),dn)}}function _createClass$f(tn,sn,un){return sn&&_defineProperties$f(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$b(tn,sn,un){return sn=_getPrototypeOf$d(sn),_possibleConstructorReturn$d(tn,_isNativeReflectConstruct$d()?Reflect.construct(sn,un||[],_getPrototypeOf$d(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$d(tn,sn){if(sn&&(_typeof$y(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(tn)}function _assertThisInitialized$d(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$d(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!tn})()}function _getPrototypeOf$d(tn){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$d(tn)}function _inherits$d(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$d(tn,sn)}function _setPrototypeOf$d(tn,sn){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$d(tn,sn)}function _defineProperty$z(tn,sn,un){return sn=_toPropertyKey$w(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$w(tn){var sn=_toPrimitive$w(tn,"string");return _typeof$y(sn)=="symbol"?sn:sn+""}function _toPrimitive$w(tn,sn){if(_typeof$y(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$y(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var ErrorBar=function(tn){function sn(){return _classCallCheck$f(this,sn),_callSuper$b(this,sn,arguments)}return _inherits$d(sn,tn),_createClass$f(sn,[{key:"render",value:function(){var dn=this.props,pn=dn.offset,mn=dn.layout,hn=dn.width,fn=dn.dataKey,gn=dn.data,xn=dn.dataPointFormatter,yn=dn.xAxis,vn=dn.yAxis,En=_objectWithoutProperties$d(dn,_excluded$f),bn=filterProps$1(En,!1);this.props.direction==="x"&&yn.type!=="number"&&invariant$1();var wn=gn.map(function(Sn){var Rn=xn(Sn,fn),_n=Rn.x,jn=Rn.y,Cn=Rn.value,An=Rn.errorVal;if(!An)return null;var Tn=[],$n,Dn;if(Array.isArray(An)){var Nn=_slicedToArray$9(An,2);$n=Nn[0],Dn=Nn[1]}else $n=Dn=An;if(mn==="vertical"){var kn=yn.scale,Pn=jn+pn,Mn=Pn+hn,On=Pn-hn,Wn=kn(Cn-$n),In=kn(Cn+Dn);Tn.push({x1:In,y1:Mn,x2:In,y2:On}),Tn.push({x1:Wn,y1:Pn,x2:In,y2:Pn}),Tn.push({x1:Wn,y1:Mn,x2:Wn,y2:On})}else if(mn==="horizontal"){var Un=vn.scale,Vn=_n+pn,Hn=Vn-hn,Ln=Vn+hn,zn=Un(Cn-$n),Bn=Un(Cn+Dn);Tn.push({x1:Hn,y1:Bn,x2:Ln,y2:Bn}),Tn.push({x1:Vn,y1:zn,x2:Vn,y2:Bn}),Tn.push({x1:Hn,y1:zn,x2:Ln,y2:zn})}return React$1.createElement(Layer,_extends$n({className:"recharts-errorBar",key:"bar-".concat(Tn.map(function(Fn){return"".concat(Fn.x1,"-").concat(Fn.x2,"-").concat(Fn.y1,"-").concat(Fn.y2)}))},bn),Tn.map(function(Fn){return React$1.createElement("line",_extends$n({},Fn,{key:"line-".concat(Fn.x1,"-").concat(Fn.x2,"-").concat(Fn.y1,"-").concat(Fn.y2)}))}))});return React$1.createElement(Layer,{className:"recharts-errorBars"},wn)}}])}(React$1.Component);_defineProperty$z(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$z(ErrorBar,"displayName","ErrorBar");function _typeof$x(tn){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$x(tn)}function ownKeys$v(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$v(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$v(Object(un),!0).forEach(function(dn){_defineProperty$y(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$v(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$y(tn,sn,un){return sn=_toPropertyKey$v(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$v(tn){var sn=_toPrimitive$v(tn,"string");return _typeof$x(sn)=="symbol"?sn:sn+""}function _toPrimitive$v(tn,sn){if(_typeof$x(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$x(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var getLegendProps=function tn(sn){var un=sn.children,dn=sn.formattedGraphicalItems,pn=sn.legendWidth,mn=sn.legendContent,hn=findChildByType(un,Legend);if(!hn)return null;var fn=Legend.defaultProps,gn=fn!==void 0?_objectSpread$v(_objectSpread$v({},fn),hn.props):{},xn;return hn.props&&hn.props.payload?xn=hn.props&&hn.props.payload:mn==="children"?xn=(dn||[]).reduce(function(yn,vn){var En=vn.item,bn=vn.props,wn=bn.sectors||bn.data||[];return yn.concat(wn.map(function(Sn){return{type:hn.props.iconType||En.props.legendType,value:Sn.name,color:Sn.fill,payload:Sn}}))},[]):xn=(dn||[]).map(function(yn){var vn=yn.item,En=vn.type.defaultProps,bn=En!==void 0?_objectSpread$v(_objectSpread$v({},En),vn.props):{},wn=bn.dataKey,Sn=bn.name,Rn=bn.legendType,_n=bn.hide;return{inactive:_n,dataKey:wn,type:gn.iconType||Rn||"square",color:getMainColorOfGraphicItem(vn),value:Sn||wn,payload:bn}}),_objectSpread$v(_objectSpread$v(_objectSpread$v({},gn),Legend.getWithHeight(hn,pn)),{},{payload:xn,item:hn})};function _typeof$w(tn){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$w(tn)}function _toConsumableArray$b(tn){return _arrayWithoutHoles$b(tn)||_iterableToArray$c(tn)||_unsupportedIterableToArray$i(tn)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$i(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$i(tn,sn)}}function _iterableToArray$c(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$b(tn){if(Array.isArray(tn))return _arrayLikeToArray$i(tn)}function _arrayLikeToArray$i(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function ownKeys$u(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$u(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$u(Object(un),!0).forEach(function(dn){_defineProperty$x(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$u(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$x(tn,sn,un){return sn=_toPropertyKey$u(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$u(tn){var sn=_toPrimitive$u(tn,"string");return _typeof$w(sn)=="symbol"?sn:sn+""}function _toPrimitive$u(tn,sn){if(_typeof$w(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$w(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function getValueByDataKey(tn,sn,un){return isNil$1(tn)||isNil$1(sn)?un:isNumOrStr(sn)?get$5(tn,sn,un):isFunction$5(sn)?sn(tn):un}function getDomainOfDataByKey(tn,sn,un,dn){var pn=flatMap$1(tn,function(fn){return getValueByDataKey(fn,sn)});if(un==="number"){var mn=pn.filter(function(fn){return isNumber$1(fn)||parseFloat(fn)});return mn.length?[min$2(mn),max$2(mn)]:[1/0,-1/0]}var hn=dn?pn.filter(function(fn){return!isNil$1(fn)}):pn;return hn.map(function(fn){return isNumOrStr(fn)||fn instanceof Date?fn:""})}var calculateActiveTickIndex=function tn(sn){var un,dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],pn=arguments.length>2?arguments[2]:void 0,mn=arguments.length>3?arguments[3]:void 0,hn=-1,fn=(un=dn==null?void 0:dn.length)!==null&&un!==void 0?un:0;if(fn<=1)return 0;if(mn&&mn.axisType==="angleAxis"&&Math.abs(Math.abs(mn.range[1]-mn.range[0])-360)<=1e-6)for(var gn=mn.range,xn=0;xn<fn;xn++){var yn=xn>0?pn[xn-1].coordinate:pn[fn-1].coordinate,vn=pn[xn].coordinate,En=xn>=fn-1?pn[0].coordinate:pn[xn+1].coordinate,bn=void 0;if(mathSign(vn-yn)!==mathSign(En-vn)){var wn=[];if(mathSign(En-vn)===mathSign(gn[1]-gn[0])){bn=En;var Sn=vn+gn[1]-gn[0];wn[0]=Math.min(Sn,(Sn+yn)/2),wn[1]=Math.max(Sn,(Sn+yn)/2)}else{bn=yn;var Rn=En+gn[1]-gn[0];wn[0]=Math.min(vn,(Rn+vn)/2),wn[1]=Math.max(vn,(Rn+vn)/2)}var _n=[Math.min(vn,(bn+vn)/2),Math.max(vn,(bn+vn)/2)];if(sn>_n[0]&&sn<=_n[1]||sn>=wn[0]&&sn<=wn[1]){hn=pn[xn].index;break}}else{var jn=Math.min(yn,En),Cn=Math.max(yn,En);if(sn>(jn+vn)/2&&sn<=(Cn+vn)/2){hn=pn[xn].index;break}}}else for(var An=0;An<fn;An++)if(An===0&&sn<=(dn[An].coordinate+dn[An+1].coordinate)/2||An>0&&An<fn-1&&sn>(dn[An].coordinate+dn[An-1].coordinate)/2&&sn<=(dn[An].coordinate+dn[An+1].coordinate)/2||An===fn-1&&sn>(dn[An].coordinate+dn[An-1].coordinate)/2){hn=dn[An].index;break}return hn},getMainColorOfGraphicItem=function tn(sn){var un,dn=sn,pn=dn.type.displayName,mn=(un=sn.type)!==null&&un!==void 0&&un.defaultProps?_objectSpread$u(_objectSpread$u({},sn.type.defaultProps),sn.props):sn.props,hn=mn.stroke,fn=mn.fill,gn;switch(pn){case"Line":gn=hn;break;case"Area":case"Radar":gn=hn&&hn!=="none"?hn:fn;break;default:gn=fn;break}return gn},getBarSizeList=function tn(sn){var un=sn.barSize,dn=sn.totalSize,pn=sn.stackGroups,mn=pn===void 0?{}:pn;if(!mn)return{};for(var hn={},fn=Object.keys(mn),gn=0,xn=fn.length;gn<xn;gn++)for(var yn=mn[fn[gn]].stackGroups,vn=Object.keys(yn),En=0,bn=vn.length;En<bn;En++){var wn=yn[vn[En]],Sn=wn.items,Rn=wn.cateAxisId,_n=Sn.filter(function(Dn){return getDisplayName(Dn.type).indexOf("Bar")>=0});if(_n&&_n.length){var jn=_n[0].type.defaultProps,Cn=jn!==void 0?_objectSpread$u(_objectSpread$u({},jn),_n[0].props):_n[0].props,An=Cn.barSize,Tn=Cn[Rn];hn[Tn]||(hn[Tn]=[]);var $n=isNil$1(An)?un:An;hn[Tn].push({item:_n[0],stackList:_n.slice(1),barSize:isNil$1($n)?void 0:getPercentValue($n,dn,0)})}}return hn},getBarPosition=function tn(sn){var un=sn.barGap,dn=sn.barCategoryGap,pn=sn.bandSize,mn=sn.sizeList,hn=mn===void 0?[]:mn,fn=sn.maxBarSize,gn=hn.length;if(gn<1)return null;var xn=getPercentValue(un,pn,0,!0),yn,vn=[];if(hn[0].barSize===+hn[0].barSize){var En=!1,bn=pn/gn,wn=hn.reduce(function(An,Tn){return An+Tn.barSize||0},0);wn+=(gn-1)*xn,wn>=pn&&(wn-=(gn-1)*xn,xn=0),wn>=pn&&bn>0&&(En=!0,bn*=.9,wn=gn*bn);var Sn=(pn-wn)/2>>0,Rn={offset:Sn-xn,size:0};yn=hn.reduce(function(An,Tn){var $n={item:Tn.item,position:{offset:Rn.offset+Rn.size+xn,size:En?bn:Tn.barSize}},Dn=[].concat(_toConsumableArray$b(An),[$n]);return Rn=Dn[Dn.length-1].position,Tn.stackList&&Tn.stackList.length&&Tn.stackList.forEach(function(Nn){Dn.push({item:Nn,position:Rn})}),Dn},vn)}else{var _n=getPercentValue(dn,pn,0,!0);pn-2*_n-(gn-1)*xn<=0&&(xn=0);var jn=(pn-2*_n-(gn-1)*xn)/gn;jn>1&&(jn>>=0);var Cn=fn===+fn?Math.min(jn,fn):jn;yn=hn.reduce(function(An,Tn,$n){var Dn=[].concat(_toConsumableArray$b(An),[{item:Tn.item,position:{offset:_n+(jn+xn)*$n+(jn-Cn)/2,size:Cn}}]);return Tn.stackList&&Tn.stackList.length&&Tn.stackList.forEach(function(Nn){Dn.push({item:Nn,position:Dn[Dn.length-1].position})}),Dn},vn)}return yn},appendOffsetOfLegend=function tn(sn,un,dn,pn){var mn=dn.children,hn=dn.width,fn=dn.margin,gn=hn-(fn.left||0)-(fn.right||0),xn=getLegendProps({children:mn,legendWidth:gn});if(xn){var yn=pn||{},vn=yn.width,En=yn.height,bn=xn.align,wn=xn.verticalAlign,Sn=xn.layout;if((Sn==="vertical"||Sn==="horizontal"&&wn==="middle")&&bn!=="center"&&isNumber$1(sn[bn]))return _objectSpread$u(_objectSpread$u({},sn),{},_defineProperty$x({},bn,sn[bn]+(vn||0)));if((Sn==="horizontal"||Sn==="vertical"&&bn==="center")&&wn!=="middle"&&isNumber$1(sn[wn]))return _objectSpread$u(_objectSpread$u({},sn),{},_defineProperty$x({},wn,sn[wn]+(En||0)))}return sn},isErrorBarRelevantForAxis=function tn(sn,un,dn){return isNil$1(un)?!0:sn==="horizontal"?un==="yAxis":sn==="vertical"||dn==="x"?un==="xAxis":dn==="y"?un==="yAxis":!0},getDomainOfErrorBars=function tn(sn,un,dn,pn,mn){var hn=un.props.children,fn=findAllByType(hn,ErrorBar).filter(function(xn){return isErrorBarRelevantForAxis(pn,mn,xn.props.direction)});if(fn&&fn.length){var gn=fn.map(function(xn){return xn.props.dataKey});return sn.reduce(function(xn,yn){var vn=getValueByDataKey(yn,dn);if(isNil$1(vn))return xn;var En=Array.isArray(vn)?[min$2(vn),max$2(vn)]:[vn,vn],bn=gn.reduce(function(wn,Sn){var Rn=getValueByDataKey(yn,Sn,0),_n=En[0]-Math.abs(Array.isArray(Rn)?Rn[0]:Rn),jn=En[1]+Math.abs(Array.isArray(Rn)?Rn[1]:Rn);return[Math.min(_n,wn[0]),Math.max(jn,wn[1])]},[1/0,-1/0]);return[Math.min(bn[0],xn[0]),Math.max(bn[1],xn[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function tn(sn,un,dn,pn,mn){var hn=un.map(function(fn){return getDomainOfErrorBars(sn,fn,dn,mn,pn)}).filter(function(fn){return!isNil$1(fn)});return hn&&hn.length?hn.reduce(function(fn,gn){return[Math.min(fn[0],gn[0]),Math.max(fn[1],gn[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function tn(sn,un,dn,pn,mn){var hn=un.map(function(gn){var xn=gn.props.dataKey;return dn==="number"&&xn&&getDomainOfErrorBars(sn,gn,xn,pn)||getDomainOfDataByKey(sn,xn,dn,mn)});if(dn==="number")return hn.reduce(function(gn,xn){return[Math.min(gn[0],xn[0]),Math.max(gn[1],xn[1])]},[1/0,-1/0]);var fn={};return hn.reduce(function(gn,xn){for(var yn=0,vn=xn.length;yn<vn;yn++)fn[xn[yn]]||(fn[xn[yn]]=!0,gn.push(xn[yn]));return gn},[])},isCategoricalAxis=function tn(sn,un){return sn==="horizontal"&&un==="xAxis"||sn==="vertical"&&un==="yAxis"||sn==="centric"&&un==="angleAxis"||sn==="radial"&&un==="radiusAxis"},getCoordinatesOfGrid=function tn(sn,un,dn,pn){if(pn)return sn.map(function(gn){return gn.coordinate});var mn,hn,fn=sn.map(function(gn){return gn.coordinate===un&&(mn=!0),gn.coordinate===dn&&(hn=!0),gn.coordinate});return mn||fn.push(un),hn||fn.push(dn),fn},getTicksOfAxis=function tn(sn,un,dn){if(!sn)return null;var pn=sn.scale,mn=sn.duplicateDomain,hn=sn.type,fn=sn.range,gn=sn.realScaleType==="scaleBand"?pn.bandwidth()/2:2,xn=(un||dn)&&hn==="category"&&pn.bandwidth?pn.bandwidth()/gn:0;if(xn=sn.axisType==="angleAxis"&&(fn==null?void 0:fn.length)>=2?mathSign(fn[0]-fn[1])*2*xn:xn,un&&(sn.ticks||sn.niceTicks)){var yn=(sn.ticks||sn.niceTicks).map(function(vn){var En=mn?mn.indexOf(vn):vn;return{coordinate:pn(En)+xn,value:vn,offset:xn}});return yn.filter(function(vn){return!isNan(vn.coordinate)})}return sn.isCategorical&&sn.categoricalDomain?sn.categoricalDomain.map(function(vn,En){return{coordinate:pn(vn)+xn,value:vn,index:En,offset:xn}}):pn.ticks&&!dn?pn.ticks(sn.tickCount).map(function(vn){return{coordinate:pn(vn)+xn,value:vn,offset:xn}}):pn.domain().map(function(vn,En){return{coordinate:pn(vn)+xn,value:mn?mn[vn]:vn,index:En,offset:xn}})},handlerWeakMap=new WeakMap,combineEventHandlers=function tn(sn,un){if(typeof un!="function")return sn;handlerWeakMap.has(sn)||handlerWeakMap.set(sn,new WeakMap);var dn=handlerWeakMap.get(sn);if(dn.has(un))return dn.get(un);var pn=function(){sn.apply(void 0,arguments),un.apply(void 0,arguments)};return dn.set(un,pn),pn},parseScale=function tn(sn,un,dn){var pn=sn.scale,mn=sn.type,hn=sn.layout,fn=sn.axisType;if(pn==="auto")return hn==="radial"&&fn==="radiusAxis"?{scale:band(),realScaleType:"band"}:hn==="radial"&&fn==="angleAxis"?{scale:linear(),realScaleType:"linear"}:mn==="category"&&un&&(un.indexOf("LineChart")>=0||un.indexOf("AreaChart")>=0||un.indexOf("ComposedChart")>=0&&!dn)?{scale:point$3(),realScaleType:"point"}:mn==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$4(pn)){var gn="scale".concat(upperFirst$1(pn));return{scale:(d3Scales[gn]||point$3)(),realScaleType:d3Scales[gn]?gn:"point"}}return isFunction$5(pn)?{scale:pn}:{scale:point$3(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function tn(sn){var un=sn.domain();if(!(!un||un.length<=2)){var dn=un.length,pn=sn.range(),mn=Math.min(pn[0],pn[1])-EPS,hn=Math.max(pn[0],pn[1])+EPS,fn=sn(un[0]),gn=sn(un[dn-1]);(fn<mn||fn>hn||gn<mn||gn>hn)&&sn.domain([un[0],un[dn-1]])}},findPositionOfBar=function tn(sn,un){if(!sn)return null;for(var dn=0,pn=sn.length;dn<pn;dn++)if(sn[dn].item===un)return sn[dn].position;return null},truncateByDomain=function tn(sn,un){if(!un||un.length!==2||!isNumber$1(un[0])||!isNumber$1(un[1]))return sn;var dn=Math.min(un[0],un[1]),pn=Math.max(un[0],un[1]),mn=[sn[0],sn[1]];return(!isNumber$1(sn[0])||sn[0]<dn)&&(mn[0]=dn),(!isNumber$1(sn[1])||sn[1]>pn)&&(mn[1]=pn),mn[0]>pn&&(mn[0]=pn),mn[1]<dn&&(mn[1]=dn),mn},offsetSign=function tn(sn){var un=sn.length;if(!(un<=0))for(var dn=0,pn=sn[0].length;dn<pn;++dn)for(var mn=0,hn=0,fn=0;fn<un;++fn){var gn=isNan(sn[fn][dn][1])?sn[fn][dn][0]:sn[fn][dn][1];gn>=0?(sn[fn][dn][0]=mn,sn[fn][dn][1]=mn+gn,mn=sn[fn][dn][1]):(sn[fn][dn][0]=hn,sn[fn][dn][1]=hn+gn,hn=sn[fn][dn][1])}},offsetPositive=function tn(sn){var un=sn.length;if(!(un<=0))for(var dn=0,pn=sn[0].length;dn<pn;++dn)for(var mn=0,hn=0;hn<un;++hn){var fn=isNan(sn[hn][dn][1])?sn[hn][dn][0]:sn[hn][dn][1];fn>=0?(sn[hn][dn][0]=mn,sn[hn][dn][1]=mn+fn,mn=sn[hn][dn][1]):(sn[hn][dn][0]=0,sn[hn][dn][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function tn(sn,un,dn){var pn=un.map(function(fn){return fn.props.dataKey}),mn=STACK_OFFSET_MAP[dn],hn=shapeStack().keys(pn).value(function(fn,gn){return+getValueByDataKey(fn,gn,0)}).order(stackOrderNone).offset(mn);return hn(sn)},getStackGroupsByAxisId=function tn(sn,un,dn,pn,mn,hn){if(!sn)return null;var fn=hn?un.reverse():un,gn={},xn=fn.reduce(function(vn,En){var bn,wn=(bn=En.type)!==null&&bn!==void 0&&bn.defaultProps?_objectSpread$u(_objectSpread$u({},En.type.defaultProps),En.props):En.props,Sn=wn.stackId,Rn=wn.hide;if(Rn)return vn;var _n=wn[dn],jn=vn[_n]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(Sn)){var Cn=jn.stackGroups[Sn]||{numericAxisId:dn,cateAxisId:pn,items:[]};Cn.items.push(En),jn.hasStack=!0,jn.stackGroups[Sn]=Cn}else jn.stackGroups[uniqueId("_stackId_")]={numericAxisId:dn,cateAxisId:pn,items:[En]};return _objectSpread$u(_objectSpread$u({},vn),{},_defineProperty$x({},_n,jn))},gn),yn={};return Object.keys(xn).reduce(function(vn,En){var bn=xn[En];if(bn.hasStack){var wn={};bn.stackGroups=Object.keys(bn.stackGroups).reduce(function(Sn,Rn){var _n=bn.stackGroups[Rn];return _objectSpread$u(_objectSpread$u({},Sn),{},_defineProperty$x({},Rn,{numericAxisId:dn,cateAxisId:pn,items:_n.items,stackedData:getStackedData(sn,_n.items,mn)}))},wn)}return _objectSpread$u(_objectSpread$u({},vn),{},_defineProperty$x({},En,bn))},yn)},getTicksOfScale=function tn(sn,un){var dn=un.realScaleType,pn=un.type,mn=un.tickCount,hn=un.originalDomain,fn=un.allowDecimals,gn=dn||un.scale;if(gn!=="auto"&&gn!=="linear")return null;if(mn&&pn==="number"&&hn&&(hn[0]==="auto"||hn[1]==="auto")){var xn=sn.domain();if(!xn.length)return null;var yn=getNiceTickValues(xn,mn,fn);return sn.domain([min$2(yn),max$2(yn)]),{niceTicks:yn}}if(mn&&pn==="number"){var vn=sn.domain(),En=getTickValuesFixedDomain(vn,mn,fn);return{niceTicks:En}}return null};function getCateCoordinateOfLine(tn){var sn=tn.axis,un=tn.ticks,dn=tn.bandSize,pn=tn.entry,mn=tn.index,hn=tn.dataKey;if(sn.type==="category"){if(!sn.allowDuplicatedCategory&&sn.dataKey&&!isNil$1(pn[sn.dataKey])){var fn=findEntryInArray(un,"value",pn[sn.dataKey]);if(fn)return fn.coordinate+dn/2}return un[mn]?un[mn].coordinate+dn/2:null}var gn=getValueByDataKey(pn,isNil$1(hn)?sn.dataKey:hn);return isNil$1(gn)?null:sn.scale(gn)}var getCateCoordinateOfBar=function tn(sn){var un=sn.axis,dn=sn.ticks,pn=sn.offset,mn=sn.bandSize,hn=sn.entry,fn=sn.index;if(un.type==="category")return dn[fn]?dn[fn].coordinate+pn:null;var gn=getValueByDataKey(hn,un.dataKey,un.domain[fn]);return isNil$1(gn)?null:un.scale(gn)-mn/2+pn},getBaseValueOfBar=function tn(sn){var un=sn.numericAxis,dn=un.scale.domain();if(un.type==="number"){var pn=Math.min(dn[0],dn[1]),mn=Math.max(dn[0],dn[1]);return pn<=0&&mn>=0?0:mn<0?mn:pn}return dn[0]},getStackedDataOfItem=function tn(sn,un){var dn,pn=(dn=sn.type)!==null&&dn!==void 0&&dn.defaultProps?_objectSpread$u(_objectSpread$u({},sn.type.defaultProps),sn.props):sn.props,mn=pn.stackId;if(isNumOrStr(mn)){var hn=un[mn];if(hn){var fn=hn.items.indexOf(sn);return fn>=0?hn.stackedData[fn]:null}}return null},getDomainOfSingle=function tn(sn){return sn.reduce(function(un,dn){return[min$2(dn.concat([un[0]]).filter(isNumber$1)),max$2(dn.concat([un[1]]).filter(isNumber$1))]},[1/0,-1/0])},getDomainOfStackGroups=function tn(sn,un,dn){return Object.keys(sn).reduce(function(pn,mn){var hn=sn[mn],fn=hn.stackedData,gn=fn.reduce(function(xn,yn){var vn=getDomainOfSingle(yn.slice(un,dn+1));return[Math.min(xn[0],vn[0]),Math.max(xn[1],vn[1])]},[1/0,-1/0]);return[Math.min(gn[0],pn[0]),Math.max(gn[1],pn[1])]},[1/0,-1/0]).map(function(pn){return pn===1/0||pn===-1/0?0:pn})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function tn(sn,un,dn){if(isFunction$5(sn))return sn(un,dn);if(!Array.isArray(sn))return un;var pn=[];if(isNumber$1(sn[0]))pn[0]=dn?sn[0]:Math.min(sn[0],un[0]);else if(MIN_VALUE_REG.test(sn[0])){var mn=+MIN_VALUE_REG.exec(sn[0])[1];pn[0]=un[0]-mn}else isFunction$5(sn[0])?pn[0]=sn[0](un[0]):pn[0]=un[0];if(isNumber$1(sn[1]))pn[1]=dn?sn[1]:Math.max(sn[1],un[1]);else if(MAX_VALUE_REG.test(sn[1])){var hn=+MAX_VALUE_REG.exec(sn[1])[1];pn[1]=un[1]+hn}else isFunction$5(sn[1])?pn[1]=sn[1](un[1]):pn[1]=un[1];return pn},getBandSizeOfAxis=function tn(sn,un,dn){if(sn&&sn.scale&&sn.scale.bandwidth){var pn=sn.scale.bandwidth();if(!dn||pn>0)return pn}if(sn&&un&&un.length>=2){for(var mn=sortBy$1(un,function(vn){return vn.coordinate}),hn=1/0,fn=1,gn=mn.length;fn<gn;fn++){var xn=mn[fn],yn=mn[fn-1];hn=Math.min((xn.coordinate||0)-(yn.coordinate||0),hn)}return hn===1/0?0:hn}return dn?void 0:0},parseDomainOfCategoryAxis=function tn(sn,un,dn){return!sn||!sn.length||isEqual$4(sn,get$5(dn,"type.defaultProps.domain"))?un:sn},getTooltipItem=function tn(sn,un){var dn=sn.type.defaultProps?_objectSpread$u(_objectSpread$u({},sn.type.defaultProps),sn.props):sn.props,pn=dn.dataKey,mn=dn.name,hn=dn.unit,fn=dn.formatter,gn=dn.tooltipType,xn=dn.chartType,yn=dn.hide;return _objectSpread$u(_objectSpread$u({},filterProps$1(sn,!1)),{},{dataKey:pn,unit:hn,formatter:fn,name:mn||pn,color:getMainColorOfGraphicItem(sn),value:getValueByDataKey(un,pn),type:gn,payload:un,chartType:xn,hide:yn})};function _typeof$v(tn){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$v(tn)}function ownKeys$t(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$t(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$t(Object(un),!0).forEach(function(dn){_defineProperty$w(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$t(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$w(tn,sn,un){return sn=_toPropertyKey$t(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$t(tn){var sn=_toPrimitive$t(tn,"string");return _typeof$v(sn)=="symbol"?sn:sn+""}function _toPrimitive$t(tn,sn){if(_typeof$v(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$v(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var RADIAN=Math.PI/180,radianToDegree=function tn(sn){return sn*180/Math.PI},polarToCartesian=function tn(sn,un,dn,pn){return{x:sn+Math.cos(-RADIAN*pn)*dn,y:un+Math.sin(-RADIAN*pn)*dn}},distanceBetweenPoints=function tn(sn,un){var dn=sn.x,pn=sn.y,mn=un.x,hn=un.y;return Math.sqrt(Math.pow(dn-mn,2)+Math.pow(pn-hn,2))},getAngleOfPoint=function tn(sn,un){var dn=sn.x,pn=sn.y,mn=un.cx,hn=un.cy,fn=distanceBetweenPoints({x:dn,y:pn},{x:mn,y:hn});if(fn<=0)return{radius:fn};var gn=(dn-mn)/fn,xn=Math.acos(gn);return pn>hn&&(xn=2*Math.PI-xn),{radius:fn,angle:radianToDegree(xn),angleInRadian:xn}},formatAngleOfSector=function tn(sn){var un=sn.startAngle,dn=sn.endAngle,pn=Math.floor(un/360),mn=Math.floor(dn/360),hn=Math.min(pn,mn);return{startAngle:un-hn*360,endAngle:dn-hn*360}},reverseFormatAngleOfSetor=function tn(sn,un){var dn=un.startAngle,pn=un.endAngle,mn=Math.floor(dn/360),hn=Math.floor(pn/360),fn=Math.min(mn,hn);return sn+fn*360},inRangeOfSector=function tn(sn,un){var dn=sn.x,pn=sn.y,mn=getAngleOfPoint({x:dn,y:pn},un),hn=mn.radius,fn=mn.angle,gn=un.innerRadius,xn=un.outerRadius;if(hn<gn||hn>xn)return!1;if(hn===0)return!0;var yn=formatAngleOfSector(un),vn=yn.startAngle,En=yn.endAngle,bn=fn,wn;if(vn<=En){for(;bn>En;)bn-=360;for(;bn<vn;)bn+=360;wn=bn>=vn&&bn<=En}else{for(;bn>vn;)bn-=360;for(;bn<En;)bn+=360;wn=bn>=En&&bn<=vn}return wn?_objectSpread$t(_objectSpread$t({},un),{},{radius:hn,angle:reverseFormatAngleOfSetor(bn,un)}):null};function _typeof$u(tn){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$u(tn)}var _excluded$e=["offset"];function _toConsumableArray$a(tn){return _arrayWithoutHoles$a(tn)||_iterableToArray$b(tn)||_unsupportedIterableToArray$h(tn)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$h(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$h(tn,sn)}}function _iterableToArray$b(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$a(tn){if(Array.isArray(tn))return _arrayLikeToArray$h(tn)}function _arrayLikeToArray$h(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _objectWithoutProperties$c(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$e(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$e(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function ownKeys$s(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$s(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$s(Object(un),!0).forEach(function(dn){_defineProperty$v(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$s(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$v(tn,sn,un){return sn=_toPropertyKey$s(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$s(tn){var sn=_toPrimitive$s(tn,"string");return _typeof$u(sn)=="symbol"?sn:sn+""}function _toPrimitive$s(tn,sn){if(_typeof$u(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$u(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$m.apply(this,arguments)}var getLabel=function tn(sn){var un=sn.value,dn=sn.formatter,pn=isNil$1(sn.children)?un:sn.children;return isFunction$5(dn)?dn(pn):pn},getDeltaAngle$1=function tn(sn,un){var dn=mathSign(un-sn),pn=Math.min(Math.abs(un-sn),360);return dn*pn},renderRadialLabel=function tn(sn,un,dn){var pn=sn.position,mn=sn.viewBox,hn=sn.offset,fn=sn.className,gn=mn,xn=gn.cx,yn=gn.cy,vn=gn.innerRadius,En=gn.outerRadius,bn=gn.startAngle,wn=gn.endAngle,Sn=gn.clockWise,Rn=(vn+En)/2,_n=getDeltaAngle$1(bn,wn),jn=_n>=0?1:-1,Cn,An;pn==="insideStart"?(Cn=bn+jn*hn,An=Sn):pn==="insideEnd"?(Cn=wn-jn*hn,An=!Sn):pn==="end"&&(Cn=wn+jn*hn,An=Sn),An=_n<=0?An:!An;var Tn=polarToCartesian(xn,yn,Rn,Cn),$n=polarToCartesian(xn,yn,Rn,Cn+(An?1:-1)*359),Dn="M".concat(Tn.x,",").concat(Tn.y,`
    A`).concat(Rn,",").concat(Rn,",0,1,").concat(An?0:1,`,
    `).concat($n.x,",").concat($n.y),Nn=isNil$1(sn.id)?uniqueId("recharts-radial-line-"):sn.id;return React$1.createElement("text",_extends$m({},dn,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",fn)}),React$1.createElement("defs",null,React$1.createElement("path",{id:Nn,d:Dn})),React$1.createElement("textPath",{xlinkHref:"#".concat(Nn)},un))},getAttrsOfPolarLabel=function tn(sn){var un=sn.viewBox,dn=sn.offset,pn=sn.position,mn=un,hn=mn.cx,fn=mn.cy,gn=mn.innerRadius,xn=mn.outerRadius,yn=mn.startAngle,vn=mn.endAngle,En=(yn+vn)/2;if(pn==="outside"){var bn=polarToCartesian(hn,fn,xn+dn,En),wn=bn.x,Sn=bn.y;return{x:wn,y:Sn,textAnchor:wn>=hn?"start":"end",verticalAnchor:"middle"}}if(pn==="center")return{x:hn,y:fn,textAnchor:"middle",verticalAnchor:"middle"};if(pn==="centerTop")return{x:hn,y:fn,textAnchor:"middle",verticalAnchor:"start"};if(pn==="centerBottom")return{x:hn,y:fn,textAnchor:"middle",verticalAnchor:"end"};var Rn=(gn+xn)/2,_n=polarToCartesian(hn,fn,Rn,En),jn=_n.x,Cn=_n.y;return{x:jn,y:Cn,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function tn(sn){var un=sn.viewBox,dn=sn.parentViewBox,pn=sn.offset,mn=sn.position,hn=un,fn=hn.x,gn=hn.y,xn=hn.width,yn=hn.height,vn=yn>=0?1:-1,En=vn*pn,bn=vn>0?"end":"start",wn=vn>0?"start":"end",Sn=xn>=0?1:-1,Rn=Sn*pn,_n=Sn>0?"end":"start",jn=Sn>0?"start":"end";if(mn==="top"){var Cn={x:fn+xn/2,y:gn-vn*pn,textAnchor:"middle",verticalAnchor:bn};return _objectSpread$s(_objectSpread$s({},Cn),dn?{height:Math.max(gn-dn.y,0),width:xn}:{})}if(mn==="bottom"){var An={x:fn+xn/2,y:gn+yn+En,textAnchor:"middle",verticalAnchor:wn};return _objectSpread$s(_objectSpread$s({},An),dn?{height:Math.max(dn.y+dn.height-(gn+yn),0),width:xn}:{})}if(mn==="left"){var Tn={x:fn-Rn,y:gn+yn/2,textAnchor:_n,verticalAnchor:"middle"};return _objectSpread$s(_objectSpread$s({},Tn),dn?{width:Math.max(Tn.x-dn.x,0),height:yn}:{})}if(mn==="right"){var $n={x:fn+xn+Rn,y:gn+yn/2,textAnchor:jn,verticalAnchor:"middle"};return _objectSpread$s(_objectSpread$s({},$n),dn?{width:Math.max(dn.x+dn.width-$n.x,0),height:yn}:{})}var Dn=dn?{width:xn,height:yn}:{};return mn==="insideLeft"?_objectSpread$s({x:fn+Rn,y:gn+yn/2,textAnchor:jn,verticalAnchor:"middle"},Dn):mn==="insideRight"?_objectSpread$s({x:fn+xn-Rn,y:gn+yn/2,textAnchor:_n,verticalAnchor:"middle"},Dn):mn==="insideTop"?_objectSpread$s({x:fn+xn/2,y:gn+En,textAnchor:"middle",verticalAnchor:wn},Dn):mn==="insideBottom"?_objectSpread$s({x:fn+xn/2,y:gn+yn-En,textAnchor:"middle",verticalAnchor:bn},Dn):mn==="insideTopLeft"?_objectSpread$s({x:fn+Rn,y:gn+En,textAnchor:jn,verticalAnchor:wn},Dn):mn==="insideTopRight"?_objectSpread$s({x:fn+xn-Rn,y:gn+En,textAnchor:_n,verticalAnchor:wn},Dn):mn==="insideBottomLeft"?_objectSpread$s({x:fn+Rn,y:gn+yn-En,textAnchor:jn,verticalAnchor:bn},Dn):mn==="insideBottomRight"?_objectSpread$s({x:fn+xn-Rn,y:gn+yn-En,textAnchor:_n,verticalAnchor:bn},Dn):isObject$d(mn)&&(isNumber$1(mn.x)||isPercent(mn.x))&&(isNumber$1(mn.y)||isPercent(mn.y))?_objectSpread$s({x:fn+getPercentValue(mn.x,xn),y:gn+getPercentValue(mn.y,yn),textAnchor:"end",verticalAnchor:"end"},Dn):_objectSpread$s({x:fn+xn/2,y:gn+yn/2,textAnchor:"middle",verticalAnchor:"middle"},Dn)},isPolar=function tn(sn){return"cx"in sn&&isNumber$1(sn.cx)};function Label(tn){var sn=tn.offset,un=sn===void 0?5:sn,dn=_objectWithoutProperties$c(tn,_excluded$e),pn=_objectSpread$s({offset:un},dn),mn=pn.viewBox,hn=pn.position,fn=pn.value,gn=pn.children,xn=pn.content,yn=pn.className,vn=yn===void 0?"":yn,En=pn.textBreakAll;if(!mn||isNil$1(fn)&&isNil$1(gn)&&!reactExports.isValidElement(xn)&&!isFunction$5(xn))return null;if(reactExports.isValidElement(xn))return reactExports.cloneElement(xn,pn);var bn;if(isFunction$5(xn)){if(bn=reactExports.createElement(xn,pn),reactExports.isValidElement(bn))return bn}else bn=getLabel(pn);var wn=isPolar(mn),Sn=filterProps$1(pn,!0);if(wn&&(hn==="insideStart"||hn==="insideEnd"||hn==="end"))return renderRadialLabel(pn,bn,Sn);var Rn=wn?getAttrsOfPolarLabel(pn):getAttrsOfCartesianLabel(pn);return React$1.createElement(Text$2,_extends$m({className:clsx("recharts-label",vn)},Sn,Rn,{breakAll:En}),bn)}Label.displayName="Label";var parseViewBox=function tn(sn){var un=sn.cx,dn=sn.cy,pn=sn.angle,mn=sn.startAngle,hn=sn.endAngle,fn=sn.r,gn=sn.radius,xn=sn.innerRadius,yn=sn.outerRadius,vn=sn.x,En=sn.y,bn=sn.top,wn=sn.left,Sn=sn.width,Rn=sn.height,_n=sn.clockWise,jn=sn.labelViewBox;if(jn)return jn;if(isNumber$1(Sn)&&isNumber$1(Rn)){if(isNumber$1(vn)&&isNumber$1(En))return{x:vn,y:En,width:Sn,height:Rn};if(isNumber$1(bn)&&isNumber$1(wn))return{x:bn,y:wn,width:Sn,height:Rn}}return isNumber$1(vn)&&isNumber$1(En)?{x:vn,y:En,width:0,height:0}:isNumber$1(un)&&isNumber$1(dn)?{cx:un,cy:dn,startAngle:mn||pn||0,endAngle:hn||pn||0,innerRadius:xn||0,outerRadius:yn||gn||fn||0,clockWise:_n}:sn.viewBox?sn.viewBox:{}},parseLabel=function tn(sn,un){return sn?sn===!0?React$1.createElement(Label,{key:"label-implicit",viewBox:un}):isNumOrStr(sn)?React$1.createElement(Label,{key:"label-implicit",viewBox:un,value:sn}):reactExports.isValidElement(sn)?sn.type===Label?reactExports.cloneElement(sn,{key:"label-implicit",viewBox:un}):React$1.createElement(Label,{key:"label-implicit",content:sn,viewBox:un}):isFunction$5(sn)?React$1.createElement(Label,{key:"label-implicit",content:sn,viewBox:un}):isObject$d(sn)?React$1.createElement(Label,_extends$m({viewBox:un},sn,{key:"label-implicit"})):null:null},renderCallByParent$1=function tn(sn,un){var dn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!sn||!sn.children&&dn&&!sn.label)return null;var pn=sn.children,mn=parseViewBox(sn),hn=findAllByType(pn,Label).map(function(gn,xn){return reactExports.cloneElement(gn,{viewBox:un||mn,key:"label-".concat(xn)})});if(!dn)return hn;var fn=parseLabel(sn.label,un||mn);return[fn].concat(_toConsumableArray$a(hn))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(tn){var sn=tn==null?0:tn.length;return sn?tn[sn-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$t(tn){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$t(tn)}var _excluded$d=["valueAccessor"],_excluded2$6=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$9(tn){return _arrayWithoutHoles$9(tn)||_iterableToArray$a(tn)||_unsupportedIterableToArray$g(tn)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$g(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$g(tn,sn)}}function _iterableToArray$a(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$9(tn){if(Array.isArray(tn))return _arrayLikeToArray$g(tn)}function _arrayLikeToArray$g(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$l.apply(this,arguments)}function ownKeys$r(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$r(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$r(Object(un),!0).forEach(function(dn){_defineProperty$u(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$r(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$u(tn,sn,un){return sn=_toPropertyKey$r(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$r(tn){var sn=_toPrimitive$r(tn,"string");return _typeof$t(sn)=="symbol"?sn:sn+""}function _toPrimitive$r(tn,sn){if(_typeof$t(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$t(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _objectWithoutProperties$b(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$d(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$d(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}var defaultAccessor=function tn(sn){return Array.isArray(sn.value)?last$1(sn.value):sn.value};function LabelList(tn){var sn=tn.valueAccessor,un=sn===void 0?defaultAccessor:sn,dn=_objectWithoutProperties$b(tn,_excluded$d),pn=dn.data,mn=dn.dataKey,hn=dn.clockWise,fn=dn.id,gn=dn.textBreakAll,xn=_objectWithoutProperties$b(dn,_excluded2$6);return!pn||!pn.length?null:React$1.createElement(Layer,{className:"recharts-label-list"},pn.map(function(yn,vn){var En=isNil$1(mn)?un(yn,vn):getValueByDataKey(yn&&yn.payload,mn),bn=isNil$1(fn)?{}:{id:"".concat(fn,"-").concat(vn)};return React$1.createElement(Label,_extends$l({},filterProps$1(yn,!0),xn,bn,{parentViewBox:yn.parentViewBox,value:En,textBreakAll:gn,viewBox:Label.parseViewBox(isNil$1(hn)?yn:_objectSpread$r(_objectSpread$r({},yn),{},{clockWise:hn})),key:"label-".concat(vn),index:vn}))}))}LabelList.displayName="LabelList";function parseLabelList(tn,sn){return tn?tn===!0?React$1.createElement(LabelList,{key:"labelList-implicit",data:sn}):React$1.isValidElement(tn)||isFunction$5(tn)?React$1.createElement(LabelList,{key:"labelList-implicit",data:sn,content:tn}):isObject$d(tn)?React$1.createElement(LabelList,_extends$l({data:sn},tn,{key:"labelList-implicit"})):null:null}function renderCallByParent(tn,sn){var un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!tn||!tn.children&&un&&!tn.label)return null;var dn=tn.children,pn=findAllByType(dn,LabelList).map(function(hn,fn){return reactExports.cloneElement(hn,{data:sn,key:"labelList-".concat(fn)})});if(!un)return pn;var mn=parseLabelList(tn.label,sn);return[mn].concat(_toConsumableArray$9(pn))}LabelList.renderCallByParent=renderCallByParent;function _typeof$s(tn){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$s(tn)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$k.apply(this,arguments)}function ownKeys$q(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$q(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$q(Object(un),!0).forEach(function(dn){_defineProperty$t(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$q(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$t(tn,sn,un){return sn=_toPropertyKey$q(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$q(tn){var sn=_toPrimitive$q(tn,"string");return _typeof$s(sn)=="symbol"?sn:sn+""}function _toPrimitive$q(tn,sn){if(_typeof$s(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$s(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var getDeltaAngle=function tn(sn,un){var dn=mathSign(un-sn),pn=Math.min(Math.abs(un-sn),359.999);return dn*pn},getTangentCircle=function tn(sn){var un=sn.cx,dn=sn.cy,pn=sn.radius,mn=sn.angle,hn=sn.sign,fn=sn.isExternal,gn=sn.cornerRadius,xn=sn.cornerIsExternal,yn=gn*(fn?1:-1)+pn,vn=Math.asin(gn/yn)/RADIAN,En=xn?mn:mn+hn*vn,bn=polarToCartesian(un,dn,yn,En),wn=polarToCartesian(un,dn,pn,En),Sn=xn?mn-hn*vn:mn,Rn=polarToCartesian(un,dn,yn*Math.cos(vn*RADIAN),Sn);return{center:bn,circleTangency:wn,lineTangency:Rn,theta:vn}},getSectorPath=function tn(sn){var un=sn.cx,dn=sn.cy,pn=sn.innerRadius,mn=sn.outerRadius,hn=sn.startAngle,fn=sn.endAngle,gn=getDeltaAngle(hn,fn),xn=hn+gn,yn=polarToCartesian(un,dn,mn,hn),vn=polarToCartesian(un,dn,mn,xn),En="M ".concat(yn.x,",").concat(yn.y,`
    A `).concat(mn,",").concat(mn,`,0,
    `).concat(+(Math.abs(gn)>180),",").concat(+(hn>xn),`,
    `).concat(vn.x,",").concat(vn.y,`
  `);if(pn>0){var bn=polarToCartesian(un,dn,pn,hn),wn=polarToCartesian(un,dn,pn,xn);En+="L ".concat(wn.x,",").concat(wn.y,`
            A `).concat(pn,",").concat(pn,`,0,
            `).concat(+(Math.abs(gn)>180),",").concat(+(hn<=xn),`,
            `).concat(bn.x,",").concat(bn.y," Z")}else En+="L ".concat(un,",").concat(dn," Z");return En},getSectorWithCorner=function tn(sn){var un=sn.cx,dn=sn.cy,pn=sn.innerRadius,mn=sn.outerRadius,hn=sn.cornerRadius,fn=sn.forceCornerRadius,gn=sn.cornerIsExternal,xn=sn.startAngle,yn=sn.endAngle,vn=mathSign(yn-xn),En=getTangentCircle({cx:un,cy:dn,radius:mn,angle:xn,sign:vn,cornerRadius:hn,cornerIsExternal:gn}),bn=En.circleTangency,wn=En.lineTangency,Sn=En.theta,Rn=getTangentCircle({cx:un,cy:dn,radius:mn,angle:yn,sign:-vn,cornerRadius:hn,cornerIsExternal:gn}),_n=Rn.circleTangency,jn=Rn.lineTangency,Cn=Rn.theta,An=gn?Math.abs(xn-yn):Math.abs(xn-yn)-Sn-Cn;if(An<0)return fn?"M ".concat(wn.x,",").concat(wn.y,`
        a`).concat(hn,",").concat(hn,",0,0,1,").concat(hn*2,`,0
        a`).concat(hn,",").concat(hn,",0,0,1,").concat(-hn*2,`,0
      `):getSectorPath({cx:un,cy:dn,innerRadius:pn,outerRadius:mn,startAngle:xn,endAngle:yn});var Tn="M ".concat(wn.x,",").concat(wn.y,`
    A`).concat(hn,",").concat(hn,",0,0,").concat(+(vn<0),",").concat(bn.x,",").concat(bn.y,`
    A`).concat(mn,",").concat(mn,",0,").concat(+(An>180),",").concat(+(vn<0),",").concat(_n.x,",").concat(_n.y,`
    A`).concat(hn,",").concat(hn,",0,0,").concat(+(vn<0),",").concat(jn.x,",").concat(jn.y,`
  `);if(pn>0){var $n=getTangentCircle({cx:un,cy:dn,radius:pn,angle:xn,sign:vn,isExternal:!0,cornerRadius:hn,cornerIsExternal:gn}),Dn=$n.circleTangency,Nn=$n.lineTangency,kn=$n.theta,Pn=getTangentCircle({cx:un,cy:dn,radius:pn,angle:yn,sign:-vn,isExternal:!0,cornerRadius:hn,cornerIsExternal:gn}),Mn=Pn.circleTangency,On=Pn.lineTangency,Wn=Pn.theta,In=gn?Math.abs(xn-yn):Math.abs(xn-yn)-kn-Wn;if(In<0&&hn===0)return"".concat(Tn,"L").concat(un,",").concat(dn,"Z");Tn+="L".concat(On.x,",").concat(On.y,`
      A`).concat(hn,",").concat(hn,",0,0,").concat(+(vn<0),",").concat(Mn.x,",").concat(Mn.y,`
      A`).concat(pn,",").concat(pn,",0,").concat(+(In>180),",").concat(+(vn>0),",").concat(Dn.x,",").concat(Dn.y,`
      A`).concat(hn,",").concat(hn,",0,0,").concat(+(vn<0),",").concat(Nn.x,",").concat(Nn.y,"Z")}else Tn+="L".concat(un,",").concat(dn,"Z");return Tn},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function tn(sn){var un=_objectSpread$q(_objectSpread$q({},defaultProps$5),sn),dn=un.cx,pn=un.cy,mn=un.innerRadius,hn=un.outerRadius,fn=un.cornerRadius,gn=un.forceCornerRadius,xn=un.cornerIsExternal,yn=un.startAngle,vn=un.endAngle,En=un.className;if(hn<mn||yn===vn)return null;var bn=clsx("recharts-sector",En),wn=hn-mn,Sn=getPercentValue(fn,wn,0,!0),Rn;return Sn>0&&Math.abs(yn-vn)<360?Rn=getSectorWithCorner({cx:dn,cy:pn,innerRadius:mn,outerRadius:hn,cornerRadius:Math.min(Sn,wn/2),forceCornerRadius:gn,cornerIsExternal:xn,startAngle:yn,endAngle:vn}):Rn=getSectorPath({cx:dn,cy:pn,innerRadius:mn,outerRadius:hn,startAngle:yn,endAngle:vn}),React$1.createElement("path",_extends$k({},filterProps$1(un,!0),{className:bn,d:Rn,role:"img"}))};function _typeof$r(tn){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$r(tn)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$j.apply(this,arguments)}function ownKeys$p(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$p(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$p(Object(un),!0).forEach(function(dn){_defineProperty$s(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$p(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$s(tn,sn,un){return sn=_toPropertyKey$p(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$p(tn){var sn=_toPrimitive$p(tn,"string");return _typeof$r(sn)=="symbol"?sn:sn+""}function _toPrimitive$p(tn,sn){if(_typeof$r(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$r(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function tn(sn){return sn.x===+sn.x&&sn.y===+sn.y},getX=function tn(sn){return sn.x},getY=function tn(sn){return sn.y},getCurveFactory=function tn(sn,un){if(isFunction$5(sn))return sn;var dn="curve".concat(upperFirst$1(sn));return(dn==="curveMonotone"||dn==="curveBump")&&un?CURVE_FACTORIES["".concat(dn).concat(un==="vertical"?"Y":"X")]:CURVE_FACTORIES[dn]||curveLinear},getPath$2=function tn(sn){var un=sn.type,dn=un===void 0?"linear":un,pn=sn.points,mn=pn===void 0?[]:pn,hn=sn.baseLine,fn=sn.layout,gn=sn.connectNulls,xn=gn===void 0?!1:gn,yn=getCurveFactory(dn,fn),vn=xn?mn.filter(function(Sn){return defined(Sn)}):mn,En;if(Array.isArray(hn)){var bn=xn?hn.filter(function(Sn){return defined(Sn)}):hn,wn=vn.map(function(Sn,Rn){return _objectSpread$p(_objectSpread$p({},Sn),{},{base:bn[Rn]})});return fn==="vertical"?En=shapeArea().y(getY).x1(getX).x0(function(Sn){return Sn.base.x}):En=shapeArea().x(getX).y1(getY).y0(function(Sn){return Sn.base.y}),En.defined(defined).curve(yn),En(wn)}return fn==="vertical"&&isNumber$1(hn)?En=shapeArea().y(getY).x1(getX).x0(hn):isNumber$1(hn)?En=shapeArea().x(getX).y1(getY).y0(hn):En=shapeLine().x(getX).y(getY),En.defined(defined).curve(yn),En(vn)},Curve=function tn(sn){var un=sn.className,dn=sn.points,pn=sn.path,mn=sn.pathRef;if((!dn||!dn.length)&&!pn)return null;var hn=dn&&dn.length?getPath$2(sn):pn;return reactExports.createElement("path",_extends$j({},filterProps$1(sn,!1),adaptEventHandlers(sn),{className:clsx("recharts-curve",un),d:hn,ref:mn}))},propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function tn(dn,pn,mn,hn,fn,gn){if(gn!==ReactPropTypesSecret){var xn=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw xn.name="Invariant Violation",xn}}tn.isRequired=tn;function sn(){return tn}var un={array:tn,bigint:tn,bool:tn,func:tn,number:tn,object:tn,string:tn,symbol:tn,any:tn,arrayOf:sn,element:tn,elementType:tn,instanceOf:sn,node:tn,objectOf:sn,oneOf:sn,oneOfType:sn,shape:sn,exact:sn,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return un.PropTypes=un,un};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$3=Object.prototype.hasOwnProperty;function combineComparators(tn,sn){return function(dn,pn,mn){return tn(dn,pn,mn)&&sn(dn,pn,mn)}}function createIsCircular(tn){return function(un,dn,pn){if(!un||!dn||typeof un!="object"||typeof dn!="object")return tn(un,dn,pn);var mn=pn.cache,hn=mn.get(un),fn=mn.get(dn);if(hn&&fn)return hn===dn&&fn===un;mn.set(un,dn),mn.set(dn,un);var gn=tn(un,dn,pn);return mn.delete(un),mn.delete(dn),gn}}function getStrictProperties(tn){return getOwnPropertyNames(tn).concat(getOwnPropertySymbols(tn))}var hasOwn$1=Object.hasOwn||function(tn,sn){return hasOwnProperty$3.call(tn,sn)};function sameValueZeroEqual(tn,sn){return tn===sn||!tn&&!sn&&tn!==tn&&sn!==sn}var PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$3=Object.keys;function areArraysEqual(tn,sn,un){var dn=tn.length;if(sn.length!==dn)return!1;for(;dn-- >0;)if(!un.equals(tn[dn],sn[dn],dn,dn,tn,sn,un))return!1;return!0}function areDatesEqual(tn,sn){return sameValueZeroEqual(tn.getTime(),sn.getTime())}function areErrorsEqual(tn,sn){return tn.name===sn.name&&tn.message===sn.message&&tn.cause===sn.cause&&tn.stack===sn.stack}function areFunctionsEqual(tn,sn){return tn===sn}function areMapsEqual(tn,sn,un){var dn=tn.size;if(dn!==sn.size)return!1;if(!dn)return!0;for(var pn=new Array(dn),mn=tn.entries(),hn,fn,gn=0;(hn=mn.next())&&!hn.done;){for(var xn=sn.entries(),yn=!1,vn=0;(fn=xn.next())&&!fn.done;){if(pn[vn]){vn++;continue}var En=hn.value,bn=fn.value;if(un.equals(En[0],bn[0],gn,vn,tn,sn,un)&&un.equals(En[1],bn[1],En[0],bn[0],tn,sn,un)){yn=pn[vn]=!0;break}vn++}if(!yn)return!1;gn++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(tn,sn,un){var dn=keys$3(tn),pn=dn.length;if(keys$3(sn).length!==pn)return!1;for(;pn-- >0;)if(!isPropertyEqual(tn,sn,un,dn[pn]))return!1;return!0}function areObjectsEqualStrict(tn,sn,un){var dn=getStrictProperties(tn),pn=dn.length;if(getStrictProperties(sn).length!==pn)return!1;for(var mn,hn,fn;pn-- >0;)if(mn=dn[pn],!isPropertyEqual(tn,sn,un,mn)||(hn=getOwnPropertyDescriptor(tn,mn),fn=getOwnPropertyDescriptor(sn,mn),(hn||fn)&&(!hn||!fn||hn.configurable!==fn.configurable||hn.enumerable!==fn.enumerable||hn.writable!==fn.writable)))return!1;return!0}function arePrimitiveWrappersEqual(tn,sn){return sameValueZeroEqual(tn.valueOf(),sn.valueOf())}function areRegExpsEqual(tn,sn){return tn.source===sn.source&&tn.flags===sn.flags}function areSetsEqual(tn,sn,un){var dn=tn.size;if(dn!==sn.size)return!1;if(!dn)return!0;for(var pn=new Array(dn),mn=tn.values(),hn,fn;(hn=mn.next())&&!hn.done;){for(var gn=sn.values(),xn=!1,yn=0;(fn=gn.next())&&!fn.done;){if(!pn[yn]&&un.equals(hn.value,fn.value,hn.value,fn.value,tn,sn,un)){xn=pn[yn]=!0;break}yn++}if(!xn)return!1}return!0}function areTypedArraysEqual(tn,sn){var un=tn.length;if(sn.length!==un)return!1;for(;un-- >0;)if(tn[un]!==sn[un])return!1;return!0}function areUrlsEqual(tn,sn){return tn.hostname===sn.hostname&&tn.pathname===sn.pathname&&tn.protocol===sn.protocol&&tn.port===sn.port&&tn.hash===sn.hash&&tn.username===sn.username&&tn.password===sn.password}function isPropertyEqual(tn,sn,un,dn){return(dn===REACT_OWNER||dn===PREACT_OWNER||dn===PREACT_VNODE)&&(tn.$$typeof||sn.$$typeof)?!0:hasOwn$1(sn,dn)&&un.equals(tn[dn],sn[dn],dn,dn,tn,sn,un)}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",URL_TAG="[object URL]",isArray$4=Array.isArray,isTypedArray$1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign$2=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(tn){var sn=tn.areArraysEqual,un=tn.areDatesEqual,dn=tn.areErrorsEqual,pn=tn.areFunctionsEqual,mn=tn.areMapsEqual,hn=tn.areNumbersEqual,fn=tn.areObjectsEqual,gn=tn.arePrimitiveWrappersEqual,xn=tn.areRegExpsEqual,yn=tn.areSetsEqual,vn=tn.areTypedArraysEqual,En=tn.areUrlsEqual;return function(wn,Sn,Rn){if(wn===Sn)return!0;if(wn==null||Sn==null)return!1;var _n=typeof wn;if(_n!==typeof Sn)return!1;if(_n!=="object")return _n==="number"?hn(wn,Sn,Rn):_n==="function"?pn(wn,Sn,Rn):!1;var jn=wn.constructor;if(jn!==Sn.constructor)return!1;if(jn===Object)return fn(wn,Sn,Rn);if(isArray$4(wn))return sn(wn,Sn,Rn);if(isTypedArray$1!=null&&isTypedArray$1(wn))return vn(wn,Sn,Rn);if(jn===Date)return un(wn,Sn,Rn);if(jn===RegExp)return xn(wn,Sn,Rn);if(jn===Map)return mn(wn,Sn,Rn);if(jn===Set)return yn(wn,Sn,Rn);var Cn=getTag(wn);return Cn===DATE_TAG?un(wn,Sn,Rn):Cn===REG_EXP_TAG?xn(wn,Sn,Rn):Cn===MAP_TAG?mn(wn,Sn,Rn):Cn===SET_TAG?yn(wn,Sn,Rn):Cn===OBJECT_TAG?typeof wn.then!="function"&&typeof Sn.then!="function"&&fn(wn,Sn,Rn):Cn===URL_TAG?En(wn,Sn,Rn):Cn===ERROR_TAG?dn(wn,Sn,Rn):Cn===ARGUMENTS_TAG?fn(wn,Sn,Rn):Cn===BOOLEAN_TAG||Cn===NUMBER_TAG||Cn===STRING_TAG?gn(wn,Sn,Rn):!1}}function createEqualityComparatorConfig(tn){var sn=tn.circular,un=tn.createCustomConfig,dn=tn.strict,pn={areArraysEqual:dn?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:dn?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:dn?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:dn?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:dn?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual};if(un&&(pn=assign$2({},pn,un(pn))),sn){var mn=createIsCircular(pn.areArraysEqual),hn=createIsCircular(pn.areMapsEqual),fn=createIsCircular(pn.areObjectsEqual),gn=createIsCircular(pn.areSetsEqual);pn=assign$2({},pn,{areArraysEqual:mn,areMapsEqual:hn,areObjectsEqual:fn,areSetsEqual:gn})}return pn}function createInternalEqualityComparator(tn){return function(sn,un,dn,pn,mn,hn,fn){return tn(sn,un,fn)}}function createIsEqual(tn){var sn=tn.circular,un=tn.comparator,dn=tn.createState,pn=tn.equals,mn=tn.strict;if(dn)return function(gn,xn){var yn=dn(),vn=yn.cache,En=vn===void 0?sn?new WeakMap:void 0:vn,bn=yn.meta;return un(gn,xn,{cache:En,equals:pn,meta:bn,strict:mn})};if(sn)return function(gn,xn){return un(gn,xn,{cache:new WeakMap,equals:pn,meta:void 0,strict:mn})};var hn={cache:void 0,equals:pn,meta:void 0,strict:mn};return function(gn,xn){return un(gn,xn,hn)}}var deepEqual$1=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(tn){tn===void 0&&(tn={});var sn=tn.circular,un=sn===void 0?!1:sn,dn=tn.createInternalComparator,pn=tn.createState,mn=tn.strict,hn=mn===void 0?!1:mn,fn=createEqualityComparatorConfig(tn),gn=createEqualityComparator(fn),xn=dn?dn(gn):createInternalEqualityComparator(gn);return createIsEqual({circular:un,comparator:gn,createState:pn,equals:xn,strict:hn})}function safeRequestAnimationFrame(tn){typeof requestAnimationFrame<"u"&&requestAnimationFrame(tn)}function setRafTimeout(tn){var sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,un=-1,dn=function pn(mn){un<0&&(un=mn),mn-un>sn?(tn(mn),un=-1):safeRequestAnimationFrame(pn)};requestAnimationFrame(dn)}function _typeof$q(tn){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$q(tn)}function _toArray(tn){return _arrayWithHoles$9(tn)||_iterableToArray$9(tn)||_unsupportedIterableToArray$f(tn)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$f(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$f(tn,sn)}}function _arrayLikeToArray$f(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArray$9(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithHoles$9(tn){if(Array.isArray(tn))return tn}function createAnimateManager(){var tn={},sn=function(){return null},un=!1,dn=function pn(mn){if(!un){if(Array.isArray(mn)){if(!mn.length)return;var hn=mn,fn=_toArray(hn),gn=fn[0],xn=fn.slice(1);if(typeof gn=="number"){setRafTimeout(pn.bind(null,xn),gn);return}pn(gn),setRafTimeout(pn.bind(null,xn));return}_typeof$q(mn)==="object"&&(tn=mn,sn(tn)),typeof mn=="function"&&mn()}};return{stop:function(){un=!0},start:function(mn){un=!1,dn(mn)},subscribe:function(mn){return sn=mn,function(){sn=function(){return null}}}}}function _typeof$p(tn){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$p(tn)}function ownKeys$o(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$o(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$o(Object(un),!0).forEach(function(dn){_defineProperty$r(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$o(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$r(tn,sn,un){return sn=_toPropertyKey$o(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$o(tn){var sn=_toPrimitive$o(tn,"string");return _typeof$p(sn)==="symbol"?sn:String(sn)}function _toPrimitive$o(tn,sn){if(_typeof$p(tn)!=="object"||tn===null)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$p(dn)!=="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var getIntersectionKeys=function tn(sn,un){return[Object.keys(sn),Object.keys(un)].reduce(function(dn,pn){return dn.filter(function(mn){return pn.includes(mn)})})},identity=function tn(sn){return sn},getDashCase=function tn(sn){return sn.replace(/([A-Z])/g,function(un){return"-".concat(un.toLowerCase())})},mapObject=function tn(sn,un){return Object.keys(un).reduce(function(dn,pn){return _objectSpread$o(_objectSpread$o({},dn),{},_defineProperty$r({},pn,sn(pn,un[pn])))},{})},getTransitionVal=function tn(sn,un,dn){return sn.map(function(pn){return"".concat(getDashCase(pn)," ").concat(un,"ms ").concat(dn)}).join(",")};function _slicedToArray$8(tn,sn){return _arrayWithHoles$8(tn)||_iterableToArrayLimit$8(tn,sn)||_unsupportedIterableToArray$e(tn,sn)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$8(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$8(tn){if(Array.isArray(tn))return tn}function _toConsumableArray$8(tn){return _arrayWithoutHoles$8(tn)||_iterableToArray$8(tn)||_unsupportedIterableToArray$e(tn)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$e(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$e(tn,sn)}}function _iterableToArray$8(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$8(tn){if(Array.isArray(tn))return _arrayLikeToArray$e(tn)}function _arrayLikeToArray$e(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}var ACCURACY=1e-4,cubicBezierFactor=function tn(sn,un){return[0,3*sn,3*un-6*sn,3*sn-3*un+1]},multyTime=function tn(sn,un){return sn.map(function(dn,pn){return dn*Math.pow(un,pn)}).reduce(function(dn,pn){return dn+pn})},cubicBezier$1=function tn(sn,un){return function(dn){var pn=cubicBezierFactor(sn,un);return multyTime(pn,dn)}},derivativeCubicBezier=function tn(sn,un){return function(dn){var pn=cubicBezierFactor(sn,un),mn=[].concat(_toConsumableArray$8(pn.map(function(hn,fn){return hn*fn}).slice(1)),[0]);return multyTime(mn,dn)}},configBezier=function tn(){for(var sn=arguments.length,un=new Array(sn),dn=0;dn<sn;dn++)un[dn]=arguments[dn];var pn=un[0],mn=un[1],hn=un[2],fn=un[3];if(un.length===1)switch(un[0]){case"linear":pn=0,mn=0,hn=1,fn=1;break;case"ease":pn=.25,mn=.1,hn=.25,fn=1;break;case"ease-in":pn=.42,mn=0,hn=1,fn=1;break;case"ease-out":pn=.42,mn=0,hn=.58,fn=1;break;case"ease-in-out":pn=0,mn=0,hn=.58,fn=1;break;default:{var gn=un[0].split("(");if(gn[0]==="cubic-bezier"&&gn[1].split(")")[0].split(",").length===4){var xn=gn[1].split(")")[0].split(",").map(function(Rn){return parseFloat(Rn)}),yn=_slicedToArray$8(xn,4);pn=yn[0],mn=yn[1],hn=yn[2],fn=yn[3]}}}var vn=cubicBezier$1(pn,hn),En=cubicBezier$1(mn,fn),bn=derivativeCubicBezier(pn,hn),wn=function(_n){return _n>1?1:_n<0?0:_n},Sn=function(_n){for(var jn=_n>1?1:_n,Cn=jn,An=0;An<8;++An){var Tn=vn(Cn)-jn,$n=bn(Cn);if(Math.abs(Tn-jn)<ACCURACY||$n<ACCURACY)return En(Cn);Cn=wn(Cn-Tn/$n)}return En(Cn)};return Sn.isStepper=!1,Sn},configSpring=function tn(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},un=sn.stiff,dn=un===void 0?100:un,pn=sn.damping,mn=pn===void 0?8:pn,hn=sn.dt,fn=hn===void 0?17:hn,gn=function(yn,vn,En){var bn=-(yn-vn)*dn,wn=En*mn,Sn=En+(bn-wn)*fn/1e3,Rn=En*fn/1e3+yn;return Math.abs(Rn-vn)<ACCURACY&&Math.abs(Sn)<ACCURACY?[vn,0]:[Rn,Sn]};return gn.isStepper=!0,gn.dt=fn,gn},configEasing=function tn(){for(var sn=arguments.length,un=new Array(sn),dn=0;dn<sn;dn++)un[dn]=arguments[dn];var pn=un[0];if(typeof pn=="string")switch(pn){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(pn);case"spring":return configSpring();default:if(pn.split("(")[0]==="cubic-bezier")return configBezier(pn)}return typeof pn=="function"?pn:null};function _typeof$o(tn){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$o(tn)}function _toConsumableArray$7(tn){return _arrayWithoutHoles$7(tn)||_iterableToArray$7(tn)||_unsupportedIterableToArray$d(tn)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$7(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$7(tn){if(Array.isArray(tn))return _arrayLikeToArray$d(tn)}function ownKeys$n(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$n(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$n(Object(un),!0).forEach(function(dn){_defineProperty$q(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$n(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$q(tn,sn,un){return sn=_toPropertyKey$n(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$n(tn){var sn=_toPrimitive$n(tn,"string");return _typeof$o(sn)==="symbol"?sn:String(sn)}function _toPrimitive$n(tn,sn){if(_typeof$o(tn)!=="object"||tn===null)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$o(dn)!=="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _slicedToArray$7(tn,sn){return _arrayWithHoles$7(tn)||_iterableToArrayLimit$7(tn,sn)||_unsupportedIterableToArray$d(tn,sn)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$d(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$d(tn,sn)}}function _arrayLikeToArray$d(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$7(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$7(tn){if(Array.isArray(tn))return tn}var alpha$3=function tn(sn,un,dn){return sn+(un-sn)*dn},needContinue=function tn(sn){var un=sn.from,dn=sn.to;return un!==dn},calStepperVals=function tn(sn,un,dn){var pn=mapObject(function(mn,hn){if(needContinue(hn)){var fn=sn(hn.from,hn.to,hn.velocity),gn=_slicedToArray$7(fn,2),xn=gn[0],yn=gn[1];return _objectSpread$n(_objectSpread$n({},hn),{},{from:xn,velocity:yn})}return hn},un);return dn<1?mapObject(function(mn,hn){return needContinue(hn)?_objectSpread$n(_objectSpread$n({},hn),{},{velocity:alpha$3(hn.velocity,pn[mn].velocity,dn),from:alpha$3(hn.from,pn[mn].from,dn)}):hn},un):tn(sn,pn,dn-1)};const configUpdate=function(tn,sn,un,dn,pn){var mn=getIntersectionKeys(tn,sn),hn=mn.reduce(function(Rn,_n){return _objectSpread$n(_objectSpread$n({},Rn),{},_defineProperty$q({},_n,[tn[_n],sn[_n]]))},{}),fn=mn.reduce(function(Rn,_n){return _objectSpread$n(_objectSpread$n({},Rn),{},_defineProperty$q({},_n,{from:tn[_n],velocity:0,to:sn[_n]}))},{}),gn=-1,xn,yn,vn=function(){return null},En=function(){return mapObject(function(_n,jn){return jn.from},fn)},bn=function(){return!Object.values(fn).filter(needContinue).length},wn=function(_n){xn||(xn=_n);var jn=_n-xn,Cn=jn/un.dt;fn=calStepperVals(un,fn,Cn),pn(_objectSpread$n(_objectSpread$n(_objectSpread$n({},tn),sn),En())),xn=_n,bn()||(gn=requestAnimationFrame(vn))},Sn=function(_n){yn||(yn=_n);var jn=(_n-yn)/dn,Cn=mapObject(function(Tn,$n){return alpha$3.apply(void 0,_toConsumableArray$7($n).concat([un(jn)]))},hn);if(pn(_objectSpread$n(_objectSpread$n(_objectSpread$n({},tn),sn),Cn)),jn<1)gn=requestAnimationFrame(vn);else{var An=mapObject(function(Tn,$n){return alpha$3.apply(void 0,_toConsumableArray$7($n).concat([un(1)]))},hn);pn(_objectSpread$n(_objectSpread$n(_objectSpread$n({},tn),sn),An))}};return vn=un.isStepper?wn:Sn,function(){return requestAnimationFrame(vn),function(){cancelAnimationFrame(gn)}}};function _typeof$n(tn){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$n(tn)}var _excluded$c=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$a(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$c(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$c(tn,sn){if(tn==null)return{};var un={},dn=Object.keys(tn),pn,mn;for(mn=0;mn<dn.length;mn++)pn=dn[mn],!(sn.indexOf(pn)>=0)&&(un[pn]=tn[pn]);return un}function _toConsumableArray$6(tn){return _arrayWithoutHoles$6(tn)||_iterableToArray$6(tn)||_unsupportedIterableToArray$c(tn)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$c(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$c(tn,sn)}}function _iterableToArray$6(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$6(tn){if(Array.isArray(tn))return _arrayLikeToArray$c(tn)}function _arrayLikeToArray$c(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function ownKeys$m(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$m(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$m(Object(un),!0).forEach(function(dn){_defineProperty$p(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$m(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$p(tn,sn,un){return sn=_toPropertyKey$m(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _classCallCheck$e(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$m(dn.key),dn)}}function _createClass$e(tn,sn,un){return sn&&_defineProperties$e(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _toPropertyKey$m(tn){var sn=_toPrimitive$m(tn,"string");return _typeof$n(sn)==="symbol"?sn:String(sn)}function _toPrimitive$m(tn,sn){if(_typeof$n(tn)!=="object"||tn===null)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$n(dn)!=="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _inherits$c(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$c(tn,sn)}function _setPrototypeOf$c(tn,sn){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$c(tn,sn)}function _createSuper$1(tn){var sn=_isNativeReflectConstruct$c();return function(){var dn=_getPrototypeOf$c(tn),pn;if(sn){var mn=_getPrototypeOf$c(this).constructor;pn=Reflect.construct(dn,arguments,mn)}else pn=dn.apply(this,arguments);return _possibleConstructorReturn$c(this,pn)}}function _possibleConstructorReturn$c(tn,sn){if(sn&&(_typeof$n(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(tn)}function _assertThisInitialized$c(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$c(tn){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$c(tn)}var Animate=function(tn){_inherits$c(un,tn);var sn=_createSuper$1(un);function un(dn,pn){var mn;_classCallCheck$e(this,un),mn=sn.call(this,dn,pn);var hn=mn.props,fn=hn.isActive,gn=hn.attributeName,xn=hn.from,yn=hn.to,vn=hn.steps,En=hn.children,bn=hn.duration;if(mn.handleStyleChange=mn.handleStyleChange.bind(_assertThisInitialized$c(mn)),mn.changeStyle=mn.changeStyle.bind(_assertThisInitialized$c(mn)),!fn||bn<=0)return mn.state={style:{}},typeof En=="function"&&(mn.state={style:yn}),_possibleConstructorReturn$c(mn);if(vn&&vn.length)mn.state={style:vn[0].style};else if(xn){if(typeof En=="function")return mn.state={style:xn},_possibleConstructorReturn$c(mn);mn.state={style:gn?_defineProperty$p({},gn,xn):xn}}else mn.state={style:{}};return mn}return _createClass$e(un,[{key:"componentDidMount",value:function(){var pn=this.props,mn=pn.isActive,hn=pn.canBegin;this.mounted=!0,!(!mn||!hn)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(pn){var mn=this.props,hn=mn.isActive,fn=mn.canBegin,gn=mn.attributeName,xn=mn.shouldReAnimate,yn=mn.to,vn=mn.from,En=this.state.style;if(fn){if(!hn){var bn={style:gn?_defineProperty$p({},gn,yn):yn};this.state&&En&&(gn&&En[gn]!==yn||!gn&&En!==yn)&&this.setState(bn);return}if(!(deepEqual$1(pn.to,yn)&&pn.canBegin&&pn.isActive)){var wn=!pn.canBegin||!pn.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var Sn=wn||xn?vn:pn.to;if(this.state&&En){var Rn={style:gn?_defineProperty$p({},gn,Sn):Sn};(gn&&En[gn]!==Sn||!gn&&En!==Sn)&&this.setState(Rn)}this.runAnimation(_objectSpread$m(_objectSpread$m({},this.props),{},{from:Sn,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var pn=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),pn&&pn()}},{key:"handleStyleChange",value:function(pn){this.changeStyle(pn)}},{key:"changeStyle",value:function(pn){this.mounted&&this.setState({style:pn})}},{key:"runJSAnimation",value:function(pn){var mn=this,hn=pn.from,fn=pn.to,gn=pn.duration,xn=pn.easing,yn=pn.begin,vn=pn.onAnimationEnd,En=pn.onAnimationStart,bn=configUpdate(hn,fn,configEasing(xn),gn,this.changeStyle),wn=function(){mn.stopJSAnimation=bn()};this.manager.start([En,yn,wn,gn,vn])}},{key:"runStepAnimation",value:function(pn){var mn=this,hn=pn.steps,fn=pn.begin,gn=pn.onAnimationStart,xn=hn[0],yn=xn.style,vn=xn.duration,En=vn===void 0?0:vn,bn=function(Sn,Rn,_n){if(_n===0)return Sn;var jn=Rn.duration,Cn=Rn.easing,An=Cn===void 0?"ease":Cn,Tn=Rn.style,$n=Rn.properties,Dn=Rn.onAnimationEnd,Nn=_n>0?hn[_n-1]:Rn,kn=$n||Object.keys(Tn);if(typeof An=="function"||An==="spring")return[].concat(_toConsumableArray$6(Sn),[mn.runJSAnimation.bind(mn,{from:Nn.style,to:Tn,duration:jn,easing:An}),jn]);var Pn=getTransitionVal(kn,jn,An),Mn=_objectSpread$m(_objectSpread$m(_objectSpread$m({},Nn.style),Tn),{},{transition:Pn});return[].concat(_toConsumableArray$6(Sn),[Mn,jn,Dn]).filter(identity)};return this.manager.start([gn].concat(_toConsumableArray$6(hn.reduce(bn,[yn,Math.max(En,fn)])),[pn.onAnimationEnd]))}},{key:"runAnimation",value:function(pn){this.manager||(this.manager=createAnimateManager());var mn=pn.begin,hn=pn.duration,fn=pn.attributeName,gn=pn.to,xn=pn.easing,yn=pn.onAnimationStart,vn=pn.onAnimationEnd,En=pn.steps,bn=pn.children,wn=this.manager;if(this.unSubscribe=wn.subscribe(this.handleStyleChange),typeof xn=="function"||typeof bn=="function"||xn==="spring"){this.runJSAnimation(pn);return}if(En.length>1){this.runStepAnimation(pn);return}var Sn=fn?_defineProperty$p({},fn,gn):gn,Rn=getTransitionVal(Object.keys(Sn),hn,xn);wn.start([yn,mn,_objectSpread$m(_objectSpread$m({},Sn),{},{transition:Rn}),hn,vn])}},{key:"render",value:function(){var pn=this.props,mn=pn.children;pn.begin;var hn=pn.duration;pn.attributeName,pn.easing;var fn=pn.isActive;pn.steps,pn.from,pn.to,pn.canBegin,pn.onAnimationEnd,pn.shouldReAnimate,pn.onAnimationReStart;var gn=_objectWithoutProperties$a(pn,_excluded$c),xn=reactExports.Children.count(mn),yn=this.state.style;if(typeof mn=="function")return mn(yn);if(!fn||xn===0||hn<=0)return mn;var vn=function(bn){var wn=bn.props,Sn=wn.style,Rn=Sn===void 0?{}:Sn,_n=wn.className,jn=reactExports.cloneElement(bn,_objectSpread$m(_objectSpread$m({},gn),{},{style:_objectSpread$m(_objectSpread$m({},Rn),yn),className:_n}));return jn};return xn===1?vn(reactExports.Children.only(mn)):React$1.createElement("div",null,reactExports.Children.map(mn,function(En){return vn(En)}))}}]),un}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function tn(){},onAnimationStart:function tn(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)({}).hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$i.apply(null,arguments)}function _objectWithoutPropertiesLoose$b(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if({}.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)!==-1)continue;un[dn]=tn[dn]}return un}function _typeof$m(tn){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$m(tn)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$h.apply(this,arguments)}function _slicedToArray$6(tn,sn){return _arrayWithHoles$6(tn)||_iterableToArrayLimit$6(tn,sn)||_unsupportedIterableToArray$b(tn,sn)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$b(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$b(tn,sn)}}function _arrayLikeToArray$b(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$6(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$6(tn){if(Array.isArray(tn))return tn}function ownKeys$l(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$l(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$l(Object(un),!0).forEach(function(dn){_defineProperty$o(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$l(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$o(tn,sn,un){return sn=_toPropertyKey$l(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$l(tn){var sn=_toPrimitive$l(tn,"string");return _typeof$m(sn)=="symbol"?sn:sn+""}function _toPrimitive$l(tn,sn){if(_typeof$m(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$m(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var getRectanglePath=function tn(sn,un,dn,pn,mn){var hn=Math.min(Math.abs(dn)/2,Math.abs(pn)/2),fn=pn>=0?1:-1,gn=dn>=0?1:-1,xn=pn>=0&&dn>=0||pn<0&&dn<0?1:0,yn;if(hn>0&&mn instanceof Array){for(var vn=[0,0,0,0],En=0,bn=4;En<bn;En++)vn[En]=mn[En]>hn?hn:mn[En];yn="M".concat(sn,",").concat(un+fn*vn[0]),vn[0]>0&&(yn+="A ".concat(vn[0],",").concat(vn[0],",0,0,").concat(xn,",").concat(sn+gn*vn[0],",").concat(un)),yn+="L ".concat(sn+dn-gn*vn[1],",").concat(un),vn[1]>0&&(yn+="A ".concat(vn[1],",").concat(vn[1],",0,0,").concat(xn,`,
        `).concat(sn+dn,",").concat(un+fn*vn[1])),yn+="L ".concat(sn+dn,",").concat(un+pn-fn*vn[2]),vn[2]>0&&(yn+="A ".concat(vn[2],",").concat(vn[2],",0,0,").concat(xn,`,
        `).concat(sn+dn-gn*vn[2],",").concat(un+pn)),yn+="L ".concat(sn+gn*vn[3],",").concat(un+pn),vn[3]>0&&(yn+="A ".concat(vn[3],",").concat(vn[3],",0,0,").concat(xn,`,
        `).concat(sn,",").concat(un+pn-fn*vn[3])),yn+="Z"}else if(hn>0&&mn===+mn&&mn>0){var wn=Math.min(hn,mn);yn="M ".concat(sn,",").concat(un+fn*wn,`
            A `).concat(wn,",").concat(wn,",0,0,").concat(xn,",").concat(sn+gn*wn,",").concat(un,`
            L `).concat(sn+dn-gn*wn,",").concat(un,`
            A `).concat(wn,",").concat(wn,",0,0,").concat(xn,",").concat(sn+dn,",").concat(un+fn*wn,`
            L `).concat(sn+dn,",").concat(un+pn-fn*wn,`
            A `).concat(wn,",").concat(wn,",0,0,").concat(xn,",").concat(sn+dn-gn*wn,",").concat(un+pn,`
            L `).concat(sn+gn*wn,",").concat(un+pn,`
            A `).concat(wn,",").concat(wn,",0,0,").concat(xn,",").concat(sn,",").concat(un+pn-fn*wn," Z")}else yn="M ".concat(sn,",").concat(un," h ").concat(dn," v ").concat(pn," h ").concat(-dn," Z");return yn},isInRectangle=function tn(sn,un){if(!sn||!un)return!1;var dn=sn.x,pn=sn.y,mn=un.x,hn=un.y,fn=un.width,gn=un.height;if(Math.abs(fn)>0&&Math.abs(gn)>0){var xn=Math.min(mn,mn+fn),yn=Math.max(mn,mn+fn),vn=Math.min(hn,hn+gn),En=Math.max(hn,hn+gn);return dn>=xn&&dn<=yn&&pn>=vn&&pn<=En}return!1},defaultProps$4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function tn(sn){var un=_objectSpread$l(_objectSpread$l({},defaultProps$4),sn),dn=reactExports.useRef(),pn=reactExports.useState(-1),mn=_slicedToArray$6(pn,2),hn=mn[0],fn=mn[1];reactExports.useEffect(function(){if(dn.current&&dn.current.getTotalLength)try{var An=dn.current.getTotalLength();An&&fn(An)}catch{}},[]);var gn=un.x,xn=un.y,yn=un.width,vn=un.height,En=un.radius,bn=un.className,wn=un.animationEasing,Sn=un.animationDuration,Rn=un.animationBegin,_n=un.isAnimationActive,jn=un.isUpdateAnimationActive;if(gn!==+gn||xn!==+xn||yn!==+yn||vn!==+vn||yn===0||vn===0)return null;var Cn=clsx("recharts-rectangle",bn);return jn?React$1.createElement(Animate,{canBegin:hn>0,from:{width:yn,height:vn,x:gn,y:xn},to:{width:yn,height:vn,x:gn,y:xn},duration:Sn,animationEasing:wn,isActive:jn},function(An){var Tn=An.width,$n=An.height,Dn=An.x,Nn=An.y;return React$1.createElement(Animate,{canBegin:hn>0,from:"0px ".concat(hn===-1?1:hn,"px"),to:"".concat(hn,"px 0px"),attributeName:"strokeDasharray",begin:Rn,duration:Sn,isActive:_n,easing:wn},React$1.createElement("path",_extends$h({},filterProps$1(un,!0),{className:Cn,d:getRectanglePath(Dn,Nn,Tn,$n,En),ref:dn})))}):React$1.createElement("path",_extends$h({},filterProps$1(un,!0),{className:Cn,d:getRectanglePath(gn,xn,yn,vn,En)}))};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$g.apply(this,arguments)}var Dot=function tn(sn){var un=sn.cx,dn=sn.cy,pn=sn.r,mn=sn.className,hn=clsx("recharts-dot",mn);return un===+un&&dn===+dn&&pn===+pn?reactExports.createElement("circle",_extends$g({},filterProps$1(sn,!1),adaptEventHandlers(sn),{className:hn,cx:un,cy:dn,r:pn})):null};function _typeof$l(tn){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$l(tn)}var _excluded$b=["x","y","top","left","width","height","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$f.apply(this,arguments)}function ownKeys$k(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$k(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$k(Object(un),!0).forEach(function(dn){_defineProperty$n(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$k(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$n(tn,sn,un){return sn=_toPropertyKey$k(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$k(tn){var sn=_toPrimitive$k(tn,"string");return _typeof$l(sn)=="symbol"?sn:sn+""}function _toPrimitive$k(tn,sn){if(_typeof$l(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$l(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _objectWithoutProperties$9(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$a(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$a(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}var getPath$1=function tn(sn,un,dn,pn,mn,hn){return"M".concat(sn,",").concat(mn,"v").concat(pn,"M").concat(hn,",").concat(un,"h").concat(dn)},Cross=function tn(sn){var un=sn.x,dn=un===void 0?0:un,pn=sn.y,mn=pn===void 0?0:pn,hn=sn.top,fn=hn===void 0?0:hn,gn=sn.left,xn=gn===void 0?0:gn,yn=sn.width,vn=yn===void 0?0:yn,En=sn.height,bn=En===void 0?0:En,wn=sn.className,Sn=_objectWithoutProperties$9(sn,_excluded$b),Rn=_objectSpread$k({x:dn,y:mn,top:fn,left:xn,width:vn,height:bn},Sn);return!isNumber$1(dn)||!isNumber$1(mn)||!isNumber$1(vn)||!isNumber$1(bn)||!isNumber$1(fn)||!isNumber$1(xn)?null:React$1.createElement("path",_extends$f({},filterProps$1(Rn,!0),{className:clsx("recharts-cross",wn),d:getPath$1(dn,mn,vn,bn,fn,xn)}))},overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$3=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$4(tn){if(!isObjectLike$3(tn)||baseGetTag$1(tn)!=objectTag)return!1;var sn=getPrototype(tn);if(sn===null)return!0;var un=hasOwnProperty$2.call(sn,"constructor")&&sn.constructor;return typeof un=="function"&&un instanceof un&&funcToString.call(un)==objectCtorString}var isPlainObject_1=isPlainObject$4;const isPlainObject$5=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike$2=isObjectLike_1,boolTag="[object Boolean]";function isBoolean$2(tn){return tn===!0||tn===!1||isObjectLike$2(tn)&&baseGetTag(tn)==boolTag}var isBoolean_1=isBoolean$2;const isBoolean$3=getDefaultExportFromCjs(isBoolean_1);function _typeof$k(tn){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$k(tn)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$e.apply(this,arguments)}function _slicedToArray$5(tn,sn){return _arrayWithHoles$5(tn)||_iterableToArrayLimit$5(tn,sn)||_unsupportedIterableToArray$a(tn,sn)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$a(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$a(tn,sn)}}function _arrayLikeToArray$a(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$5(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$5(tn){if(Array.isArray(tn))return tn}function ownKeys$j(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$j(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$j(Object(un),!0).forEach(function(dn){_defineProperty$m(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$j(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$m(tn,sn,un){return sn=_toPropertyKey$j(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$j(tn){var sn=_toPrimitive$j(tn,"string");return _typeof$k(sn)=="symbol"?sn:sn+""}function _toPrimitive$j(tn,sn){if(_typeof$k(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$k(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var getTrapezoidPath=function tn(sn,un,dn,pn,mn){var hn=dn-pn,fn;return fn="M ".concat(sn,",").concat(un),fn+="L ".concat(sn+dn,",").concat(un),fn+="L ".concat(sn+dn-hn/2,",").concat(un+mn),fn+="L ".concat(sn+dn-hn/2-pn,",").concat(un+mn),fn+="L ".concat(sn,",").concat(un," Z"),fn},defaultProps$3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function tn(sn){var un=_objectSpread$j(_objectSpread$j({},defaultProps$3),sn),dn=reactExports.useRef(),pn=reactExports.useState(-1),mn=_slicedToArray$5(pn,2),hn=mn[0],fn=mn[1];reactExports.useEffect(function(){if(dn.current&&dn.current.getTotalLength)try{var Cn=dn.current.getTotalLength();Cn&&fn(Cn)}catch{}},[]);var gn=un.x,xn=un.y,yn=un.upperWidth,vn=un.lowerWidth,En=un.height,bn=un.className,wn=un.animationEasing,Sn=un.animationDuration,Rn=un.animationBegin,_n=un.isUpdateAnimationActive;if(gn!==+gn||xn!==+xn||yn!==+yn||vn!==+vn||En!==+En||yn===0&&vn===0||En===0)return null;var jn=clsx("recharts-trapezoid",bn);return _n?React$1.createElement(Animate,{canBegin:hn>0,from:{upperWidth:0,lowerWidth:0,height:En,x:gn,y:xn},to:{upperWidth:yn,lowerWidth:vn,height:En,x:gn,y:xn},duration:Sn,animationEasing:wn,isActive:_n},function(Cn){var An=Cn.upperWidth,Tn=Cn.lowerWidth,$n=Cn.height,Dn=Cn.x,Nn=Cn.y;return React$1.createElement(Animate,{canBegin:hn>0,from:"0px ".concat(hn===-1?1:hn,"px"),to:"".concat(hn,"px 0px"),attributeName:"strokeDasharray",begin:Rn,duration:Sn,easing:wn},React$1.createElement("path",_extends$e({},filterProps$1(un,!0),{className:jn,d:getTrapezoidPath(Dn,Nn,An,Tn,$n),ref:dn})))}):React$1.createElement("g",null,React$1.createElement("path",_extends$e({},filterProps$1(un,!0),{className:jn,d:getTrapezoidPath(gn,xn,yn,vn,En)})))},_excluded$a=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$j(tn){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$j(tn)}function _objectWithoutProperties$8(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$9(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$9(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function ownKeys$i(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$i(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$i(Object(un),!0).forEach(function(dn){_defineProperty$l(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$i(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$l(tn,sn,un){return sn=_toPropertyKey$i(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$i(tn){var sn=_toPrimitive$i(tn,"string");return _typeof$j(sn)=="symbol"?sn:sn+""}function _toPrimitive$i(tn,sn){if(_typeof$j(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$j(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function defaultPropTransformer(tn,sn){return _objectSpread$i(_objectSpread$i({},sn),tn)}function isSymbolsProps(tn,sn){return tn==="symbols"}function ShapeSelector(tn){var sn=tn.shapeType,un=tn.elementProps;switch(sn){case"rectangle":return React$1.createElement(Rectangle,un);case"trapezoid":return React$1.createElement(Trapezoid,un);case"sector":return React$1.createElement(Sector,un);case"symbols":if(isSymbolsProps(sn))return React$1.createElement(Symbols,un);break;default:return null}}function getPropsFromShapeOption(tn){return reactExports.isValidElement(tn)?tn.props:tn}function Shape(tn){var sn=tn.option,un=tn.shapeType,dn=tn.propTransformer,pn=dn===void 0?defaultPropTransformer:dn,mn=tn.activeClassName,hn=mn===void 0?"recharts-active-shape":mn,fn=tn.isActive,gn=_objectWithoutProperties$8(tn,_excluded$a),xn;if(reactExports.isValidElement(sn))xn=reactExports.cloneElement(sn,_objectSpread$i(_objectSpread$i({},gn),getPropsFromShapeOption(sn)));else if(isFunction$5(sn))xn=sn(gn);else if(isPlainObject$5(sn)&&!isBoolean$3(sn)){var yn=pn(sn,gn);xn=React$1.createElement(ShapeSelector,{shapeType:un,elementProps:yn})}else{var vn=gn;xn=React$1.createElement(ShapeSelector,{shapeType:un,elementProps:vn})}return fn?React$1.createElement(Layer,{className:hn},xn):xn}function isFunnel(tn,sn){return sn!=null&&"trapezoids"in tn.props}function isPie(tn,sn){return sn!=null&&"sectors"in tn.props}function isScatter(tn,sn){return sn!=null&&"points"in tn.props}function compareFunnel(tn,sn){var un,dn,pn=tn.x===(sn==null||(un=sn.labelViewBox)===null||un===void 0?void 0:un.x)||tn.x===sn.x,mn=tn.y===(sn==null||(dn=sn.labelViewBox)===null||dn===void 0?void 0:dn.y)||tn.y===sn.y;return pn&&mn}function comparePie(tn,sn){var un=tn.endAngle===sn.endAngle,dn=tn.startAngle===sn.startAngle;return un&&dn}function compareScatter(tn,sn){var un=tn.x===sn.x,dn=tn.y===sn.y,pn=tn.z===sn.z;return un&&dn&&pn}function getComparisonFn(tn,sn){var un;return isFunnel(tn,sn)?un=compareFunnel:isPie(tn,sn)?un=comparePie:isScatter(tn,sn)&&(un=compareScatter),un}function getShapeDataKey(tn,sn){var un;return isFunnel(tn,sn)?un="trapezoids":isPie(tn,sn)?un="sectors":isScatter(tn,sn)&&(un="points"),un}function getActiveShapeTooltipPayload(tn,sn){if(isFunnel(tn,sn)){var un;return(un=sn.tooltipPayload)===null||un===void 0||(un=un[0])===null||un===void 0||(un=un.payload)===null||un===void 0?void 0:un.payload}if(isPie(tn,sn)){var dn;return(dn=sn.tooltipPayload)===null||dn===void 0||(dn=dn[0])===null||dn===void 0||(dn=dn.payload)===null||dn===void 0?void 0:dn.payload}return isScatter(tn,sn)?sn.payload:{}}function getActiveShapeIndexForTooltip(tn){var sn=tn.activeTooltipItem,un=tn.graphicalItem,dn=tn.itemData,pn=getShapeDataKey(un,sn),mn=getActiveShapeTooltipPayload(un,sn),hn=dn.filter(function(gn,xn){var yn=isEqual$4(mn,gn),vn=un.props[pn].filter(function(wn){var Sn=getComparisonFn(un,sn);return Sn(wn,sn)}),En=un.props[pn].indexOf(vn[vn.length-1]),bn=xn===En;return yn&&bn}),fn=dn.indexOf(hn[hn.length-1]);return fn}var nativeCeil=Math.ceil,nativeMax$3=Math.max;function baseRange$1(tn,sn,un,dn){for(var pn=-1,mn=nativeMax$3(nativeCeil((sn-tn)/(un||1)),0),hn=Array(mn);mn--;)hn[dn?mn:++pn]=tn,tn+=un;return hn}var _baseRange=baseRange$1,toNumber$2=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(tn){if(!tn)return tn===0?tn:0;if(tn=toNumber$2(tn),tn===INFINITY||tn===-INFINITY){var sn=tn<0?-1:1;return sn*MAX_INTEGER}return tn===tn?tn:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(tn){return function(sn,un,dn){return dn&&typeof dn!="number"&&isIterateeCall$2(sn,un,dn)&&(un=dn=void 0),sn=toFinite$1(sn),un===void 0?(un=sn,sn=0):un=toFinite$1(un),dn=dn===void 0?sn<un?1:-1:toFinite$1(dn),baseRange(sn,un,dn,tn)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$i(tn){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$i(tn)}function ownKeys$h(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$h(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$h(Object(un),!0).forEach(function(dn){_defineProperty$k(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$h(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$k(tn,sn,un){return sn=_toPropertyKey$h(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$h(tn){var sn=_toPrimitive$h(tn,"string");return _typeof$i(sn)=="symbol"?sn:sn+""}function _toPrimitive$h(tn,sn){if(_typeof$i(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$i(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function tn(sn,un){var dn=sn.replace(/(\w)/,function(mn){return mn.toUpperCase()}),pn=PREFIX_LIST.reduce(function(mn,hn){return _objectSpread$h(_objectSpread$h({},mn),{},_defineProperty$k({},hn+dn,un))},{});return pn[sn]=un,pn};function _typeof$h(tn){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$h(tn)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$d.apply(this,arguments)}function ownKeys$g(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$g(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$g(Object(un),!0).forEach(function(dn){_defineProperty$j(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$g(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$d(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$g(dn.key),dn)}}function _createClass$d(tn,sn,un){return sn&&_defineProperties$d(tn.prototype,sn),un&&_defineProperties$d(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$a(tn,sn,un){return sn=_getPrototypeOf$b(sn),_possibleConstructorReturn$b(tn,_isNativeReflectConstruct$b()?Reflect.construct(sn,un||[],_getPrototypeOf$b(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$b(tn,sn){if(sn&&(_typeof$h(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(tn)}function _assertThisInitialized$b(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$b(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!tn})()}function _getPrototypeOf$b(tn){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$b(tn)}function _inherits$b(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$b(tn,sn)}function _setPrototypeOf$b(tn,sn){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$b(tn,sn)}function _defineProperty$j(tn,sn,un){return sn=_toPropertyKey$g(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$g(tn){var sn=_toPrimitive$g(tn,"string");return _typeof$h(sn)=="symbol"?sn:sn+""}function _toPrimitive$g(tn,sn){if(_typeof$h(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$h(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var createScale=function tn(sn){var un=sn.data,dn=sn.startIndex,pn=sn.endIndex,mn=sn.x,hn=sn.width,fn=sn.travellerWidth;if(!un||!un.length)return{};var gn=un.length,xn=point$3().domain(range$1(0,gn)).range([mn,mn+hn-fn]),yn=xn.domain().map(function(vn){return xn(vn)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:xn(dn),endX:xn(pn),scale:xn,scaleValues:yn}},isTouch=function tn(sn){return sn.changedTouches&&!!sn.changedTouches.length},Brush=function(tn){function sn(un){var dn;return _classCallCheck$d(this,sn),dn=_callSuper$a(this,sn,[un]),_defineProperty$j(dn,"handleDrag",function(pn){dn.leaveTimer&&(clearTimeout(dn.leaveTimer),dn.leaveTimer=null),dn.state.isTravellerMoving?dn.handleTravellerMove(pn):dn.state.isSlideMoving&&dn.handleSlideDrag(pn)}),_defineProperty$j(dn,"handleTouchMove",function(pn){pn.changedTouches!=null&&pn.changedTouches.length>0&&dn.handleDrag(pn.changedTouches[0])}),_defineProperty$j(dn,"handleDragEnd",function(){dn.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var pn=dn.props,mn=pn.endIndex,hn=pn.onDragEnd,fn=pn.startIndex;hn==null||hn({endIndex:mn,startIndex:fn})}),dn.detachDragEndListener()}),_defineProperty$j(dn,"handleLeaveWrapper",function(){(dn.state.isTravellerMoving||dn.state.isSlideMoving)&&(dn.leaveTimer=window.setTimeout(dn.handleDragEnd,dn.props.leaveTimeOut))}),_defineProperty$j(dn,"handleEnterSlideOrTraveller",function(){dn.setState({isTextActive:!0})}),_defineProperty$j(dn,"handleLeaveSlideOrTraveller",function(){dn.setState({isTextActive:!1})}),_defineProperty$j(dn,"handleSlideDragStart",function(pn){var mn=isTouch(pn)?pn.changedTouches[0]:pn;dn.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:mn.pageX}),dn.attachDragEndListener()}),dn.travellerDragStartHandlers={startX:dn.handleTravellerDragStart.bind(dn,"startX"),endX:dn.handleTravellerDragStart.bind(dn,"endX")},dn.state={},dn}return _inherits$b(sn,tn),_createClass$d(sn,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(dn){var pn=dn.startX,mn=dn.endX,hn=this.state.scaleValues,fn=this.props,gn=fn.gap,xn=fn.data,yn=xn.length-1,vn=Math.min(pn,mn),En=Math.max(pn,mn),bn=sn.getIndexInRange(hn,vn),wn=sn.getIndexInRange(hn,En);return{startIndex:bn-bn%gn,endIndex:wn===yn?yn:wn-wn%gn}}},{key:"getTextOfTick",value:function(dn){var pn=this.props,mn=pn.data,hn=pn.tickFormatter,fn=pn.dataKey,gn=getValueByDataKey(mn[dn],fn,dn);return isFunction$5(hn)?hn(gn,dn):gn}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(dn){var pn=this.state,mn=pn.slideMoveStartX,hn=pn.startX,fn=pn.endX,gn=this.props,xn=gn.x,yn=gn.width,vn=gn.travellerWidth,En=gn.startIndex,bn=gn.endIndex,wn=gn.onChange,Sn=dn.pageX-mn;Sn>0?Sn=Math.min(Sn,xn+yn-vn-fn,xn+yn-vn-hn):Sn<0&&(Sn=Math.max(Sn,xn-hn,xn-fn));var Rn=this.getIndex({startX:hn+Sn,endX:fn+Sn});(Rn.startIndex!==En||Rn.endIndex!==bn)&&wn&&wn(Rn),this.setState({startX:hn+Sn,endX:fn+Sn,slideMoveStartX:dn.pageX})}},{key:"handleTravellerDragStart",value:function(dn,pn){var mn=isTouch(pn)?pn.changedTouches[0]:pn;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:dn,brushMoveStartX:mn.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(dn){var pn=this.state,mn=pn.brushMoveStartX,hn=pn.movingTravellerId,fn=pn.endX,gn=pn.startX,xn=this.state[hn],yn=this.props,vn=yn.x,En=yn.width,bn=yn.travellerWidth,wn=yn.onChange,Sn=yn.gap,Rn=yn.data,_n={startX:this.state.startX,endX:this.state.endX},jn=dn.pageX-mn;jn>0?jn=Math.min(jn,vn+En-bn-xn):jn<0&&(jn=Math.max(jn,vn-xn)),_n[hn]=xn+jn;var Cn=this.getIndex(_n),An=Cn.startIndex,Tn=Cn.endIndex,$n=function(){var Nn=Rn.length-1;return hn==="startX"&&(fn>gn?An%Sn===0:Tn%Sn===0)||fn<gn&&Tn===Nn||hn==="endX"&&(fn>gn?Tn%Sn===0:An%Sn===0)||fn>gn&&Tn===Nn};this.setState(_defineProperty$j(_defineProperty$j({},hn,xn+jn),"brushMoveStartX",dn.pageX),function(){wn&&$n()&&wn(Cn)})}},{key:"handleTravellerMoveKeyboard",value:function(dn,pn){var mn=this,hn=this.state,fn=hn.scaleValues,gn=hn.startX,xn=hn.endX,yn=this.state[pn],vn=fn.indexOf(yn);if(vn!==-1){var En=vn+dn;if(!(En===-1||En>=fn.length)){var bn=fn[En];pn==="startX"&&bn>=xn||pn==="endX"&&bn<=gn||this.setState(_defineProperty$j({},pn,bn),function(){mn.props.onChange(mn.getIndex({startX:mn.state.startX,endX:mn.state.endX}))})}}}},{key:"renderBackground",value:function(){var dn=this.props,pn=dn.x,mn=dn.y,hn=dn.width,fn=dn.height,gn=dn.fill,xn=dn.stroke;return React$1.createElement("rect",{stroke:xn,fill:gn,x:pn,y:mn,width:hn,height:fn})}},{key:"renderPanorama",value:function(){var dn=this.props,pn=dn.x,mn=dn.y,hn=dn.width,fn=dn.height,gn=dn.data,xn=dn.children,yn=dn.padding,vn=reactExports.Children.only(xn);return vn?React$1.cloneElement(vn,{x:pn,y:mn,width:hn,height:fn,margin:yn,compact:!0,data:gn}):null}},{key:"renderTravellerLayer",value:function(dn,pn){var mn,hn,fn=this,gn=this.props,xn=gn.y,yn=gn.travellerWidth,vn=gn.height,En=gn.traveller,bn=gn.ariaLabel,wn=gn.data,Sn=gn.startIndex,Rn=gn.endIndex,_n=Math.max(dn,this.props.x),jn=_objectSpread$g(_objectSpread$g({},filterProps$1(this.props,!1)),{},{x:_n,y:xn,width:yn,height:vn}),Cn=bn||"Min value: ".concat((mn=wn[Sn])===null||mn===void 0?void 0:mn.name,", Max value: ").concat((hn=wn[Rn])===null||hn===void 0?void 0:hn.name);return React$1.createElement(Layer,{tabIndex:0,role:"slider","aria-label":Cn,"aria-valuenow":dn,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[pn],onTouchStart:this.travellerDragStartHandlers[pn],onKeyDown:function(Tn){["ArrowLeft","ArrowRight"].includes(Tn.key)&&(Tn.preventDefault(),Tn.stopPropagation(),fn.handleTravellerMoveKeyboard(Tn.key==="ArrowRight"?1:-1,pn))},onFocus:function(){fn.setState({isTravellerFocused:!0})},onBlur:function(){fn.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},sn.renderTraveller(En,jn))}},{key:"renderSlide",value:function(dn,pn){var mn=this.props,hn=mn.y,fn=mn.height,gn=mn.stroke,xn=mn.travellerWidth,yn=Math.min(dn,pn)+xn,vn=Math.max(Math.abs(pn-dn)-xn,0);return React$1.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:gn,fillOpacity:.2,x:yn,y:hn,width:vn,height:fn})}},{key:"renderText",value:function(){var dn=this.props,pn=dn.startIndex,mn=dn.endIndex,hn=dn.y,fn=dn.height,gn=dn.travellerWidth,xn=dn.stroke,yn=this.state,vn=yn.startX,En=yn.endX,bn=5,wn={pointerEvents:"none",fill:xn};return React$1.createElement(Layer,{className:"recharts-brush-texts"},React$1.createElement(Text$2,_extends$d({textAnchor:"end",verticalAnchor:"middle",x:Math.min(vn,En)-bn,y:hn+fn/2},wn),this.getTextOfTick(pn)),React$1.createElement(Text$2,_extends$d({textAnchor:"start",verticalAnchor:"middle",x:Math.max(vn,En)+gn+bn,y:hn+fn/2},wn),this.getTextOfTick(mn)))}},{key:"render",value:function(){var dn=this.props,pn=dn.data,mn=dn.className,hn=dn.children,fn=dn.x,gn=dn.y,xn=dn.width,yn=dn.height,vn=dn.alwaysShowText,En=this.state,bn=En.startX,wn=En.endX,Sn=En.isTextActive,Rn=En.isSlideMoving,_n=En.isTravellerMoving,jn=En.isTravellerFocused;if(!pn||!pn.length||!isNumber$1(fn)||!isNumber$1(gn)||!isNumber$1(xn)||!isNumber$1(yn)||xn<=0||yn<=0)return null;var Cn=clsx("recharts-brush",mn),An=React$1.Children.count(hn)===1,Tn=generatePrefixStyle("userSelect","none");return React$1.createElement(Layer,{className:Cn,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Tn},this.renderBackground(),An&&this.renderPanorama(),this.renderSlide(bn,wn),this.renderTravellerLayer(bn,"startX"),this.renderTravellerLayer(wn,"endX"),(Sn||Rn||_n||jn||vn)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(dn){var pn=dn.x,mn=dn.y,hn=dn.width,fn=dn.height,gn=dn.stroke,xn=Math.floor(mn+fn/2)-1;return React$1.createElement(React$1.Fragment,null,React$1.createElement("rect",{x:pn,y:mn,width:hn,height:fn,fill:gn,stroke:"none"}),React$1.createElement("line",{x1:pn+1,y1:xn,x2:pn+hn-1,y2:xn,fill:"none",stroke:"#fff"}),React$1.createElement("line",{x1:pn+1,y1:xn+2,x2:pn+hn-1,y2:xn+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(dn,pn){var mn;return React$1.isValidElement(dn)?mn=React$1.cloneElement(dn,pn):isFunction$5(dn)?mn=dn(pn):mn=sn.renderDefaultTraveller(pn),mn}},{key:"getDerivedStateFromProps",value:function(dn,pn){var mn=dn.data,hn=dn.width,fn=dn.x,gn=dn.travellerWidth,xn=dn.updateId,yn=dn.startIndex,vn=dn.endIndex;if(mn!==pn.prevData||xn!==pn.prevUpdateId)return _objectSpread$g({prevData:mn,prevTravellerWidth:gn,prevUpdateId:xn,prevX:fn,prevWidth:hn},mn&&mn.length?createScale({data:mn,width:hn,x:fn,travellerWidth:gn,startIndex:yn,endIndex:vn}):{scale:null,scaleValues:null});if(pn.scale&&(hn!==pn.prevWidth||fn!==pn.prevX||gn!==pn.prevTravellerWidth)){pn.scale.range([fn,fn+hn-gn]);var En=pn.scale.domain().map(function(bn){return pn.scale(bn)});return{prevData:mn,prevTravellerWidth:gn,prevUpdateId:xn,prevX:fn,prevWidth:hn,startX:pn.scale(dn.startIndex),endX:pn.scale(dn.endIndex),scaleValues:En}}return null}},{key:"getIndexInRange",value:function(dn,pn){for(var mn=dn.length,hn=0,fn=mn-1;fn-hn>1;){var gn=Math.floor((hn+fn)/2);dn[gn]>pn?fn=gn:hn=gn}return pn>=dn[fn]?fn:hn}}])}(reactExports.PureComponent);_defineProperty$j(Brush,"displayName","Brush");_defineProperty$j(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(tn,sn){var un;return baseEach$1(tn,function(dn,pn,mn){return un=sn(dn,pn,mn),!un}),!!un}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$3=isArray_1,isIterateeCall$1=_isIterateeCall;function some(tn,sn,un){var dn=isArray$3(tn)?arraySome:baseSome;return un&&isIterateeCall$1(tn,sn,un)&&(sn=void 0),dn(tn,baseIteratee$4(sn))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function tn(sn,un){var dn=sn.alwaysShow,pn=sn.ifOverflow;return dn&&(pn="extendDomain"),pn===un},defineProperty$1=_defineProperty$G;function baseAssignValue$1(tn,sn,un){sn=="__proto__"&&defineProperty$1?defineProperty$1(tn,sn,{configurable:!0,enumerable:!0,value:un,writable:!0}):tn[sn]=un}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(tn,sn){var un={};return sn=baseIteratee$3(sn),baseForOwn(tn,function(dn,pn,mn){baseAssignValue(un,pn,sn(dn,pn,mn))}),un}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(tn,sn){for(var un=-1,dn=tn==null?0:tn.length;++un<dn;)if(!sn(tn[un],un,tn))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(tn,sn){var un=!0;return baseEach(tn,function(dn,pn,mn){return un=!!sn(dn,pn,mn),un}),un}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray$2=isArray_1,isIterateeCall=_isIterateeCall;function every(tn,sn,un){var dn=isArray$2(tn)?arrayEvery:baseEvery;return un&&isIterateeCall(tn,sn,un)&&(sn=void 0),dn(tn,baseIteratee$2(sn))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$9=["x","y"];function _typeof$g(tn){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$g(tn)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$c.apply(this,arguments)}function ownKeys$f(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$f(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$f(Object(un),!0).forEach(function(dn){_defineProperty$i(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$f(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$i(tn,sn,un){return sn=_toPropertyKey$f(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$f(tn){var sn=_toPrimitive$f(tn,"string");return _typeof$g(sn)=="symbol"?sn:sn+""}function _toPrimitive$f(tn,sn){if(_typeof$g(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$g(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _objectWithoutProperties$7(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$8(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$8(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function typeguardBarRectangleProps(tn,sn){var un=tn.x,dn=tn.y,pn=_objectWithoutProperties$7(tn,_excluded$9),mn="".concat(un),hn=parseInt(mn,10),fn="".concat(dn),gn=parseInt(fn,10),xn="".concat(sn.height||pn.height),yn=parseInt(xn,10),vn="".concat(sn.width||pn.width),En=parseInt(vn,10);return _objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f(_objectSpread$f({},sn),pn),hn?{x:hn}:{}),gn?{y:gn}:{}),{},{height:yn,width:En,name:sn.name,radius:sn.radius})}function BarRectangle(tn){return React$1.createElement(Shape,_extends$c({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},tn))}var minPointSizeCallback=function tn(sn){var un=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(dn,pn){if(typeof sn=="number")return sn;var mn=isNumber$1(dn)||isNullish$1(dn);return mn?sn(dn,pn):(mn||invariant$1(),un)}},_excluded$8=["value","background"],_Bar;function _typeof$f(tn){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$f(tn)}function _objectWithoutProperties$6(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$7(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$7(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$b.apply(this,arguments)}function ownKeys$e(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$e(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$e(Object(un),!0).forEach(function(dn){_defineProperty$h(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$e(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$c(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$e(dn.key),dn)}}function _createClass$c(tn,sn,un){return sn&&_defineProperties$c(tn.prototype,sn),un&&_defineProperties$c(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$9(tn,sn,un){return sn=_getPrototypeOf$a(sn),_possibleConstructorReturn$a(tn,_isNativeReflectConstruct$a()?Reflect.construct(sn,un||[],_getPrototypeOf$a(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$a(tn,sn){if(sn&&(_typeof$f(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(tn)}function _assertThisInitialized$a(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$a(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!tn})()}function _getPrototypeOf$a(tn){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$a(tn)}function _inherits$a(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$a(tn,sn)}function _setPrototypeOf$a(tn,sn){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$a(tn,sn)}function _defineProperty$h(tn,sn,un){return sn=_toPropertyKey$e(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$e(tn){var sn=_toPrimitive$e(tn,"string");return _typeof$f(sn)=="symbol"?sn:sn+""}function _toPrimitive$e(tn,sn){if(_typeof$f(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$f(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var Bar=function(tn){function sn(){var un;_classCallCheck$c(this,sn);for(var dn=arguments.length,pn=new Array(dn),mn=0;mn<dn;mn++)pn[mn]=arguments[mn];return un=_callSuper$9(this,sn,[].concat(pn)),_defineProperty$h(un,"state",{isAnimationFinished:!1}),_defineProperty$h(un,"id",uniqueId("recharts-bar-")),_defineProperty$h(un,"handleAnimationEnd",function(){var hn=un.props.onAnimationEnd;un.setState({isAnimationFinished:!0}),hn&&hn()}),_defineProperty$h(un,"handleAnimationStart",function(){var hn=un.props.onAnimationStart;un.setState({isAnimationFinished:!1}),hn&&hn()}),un}return _inherits$a(sn,tn),_createClass$c(sn,[{key:"renderRectanglesStatically",value:function(dn){var pn=this,mn=this.props,hn=mn.shape,fn=mn.dataKey,gn=mn.activeIndex,xn=mn.activeBar,yn=filterProps$1(this.props,!1);return dn&&dn.map(function(vn,En){var bn=En===gn,wn=bn?xn:hn,Sn=_objectSpread$e(_objectSpread$e(_objectSpread$e({},yn),vn),{},{isActive:bn,option:wn,index:En,dataKey:fn,onAnimationStart:pn.handleAnimationStart,onAnimationEnd:pn.handleAnimationEnd});return React$1.createElement(Layer,_extends$b({className:"recharts-bar-rectangle"},adaptEventsOfChild(pn.props,vn,En),{key:"rectangle-".concat(vn==null?void 0:vn.x,"-").concat(vn==null?void 0:vn.y,"-").concat(vn==null?void 0:vn.value,"-").concat(En)}),React$1.createElement(BarRectangle,Sn))})}},{key:"renderRectanglesWithAnimation",value:function(){var dn=this,pn=this.props,mn=pn.data,hn=pn.layout,fn=pn.isAnimationActive,gn=pn.animationBegin,xn=pn.animationDuration,yn=pn.animationEasing,vn=pn.animationId,En=this.state.prevData;return React$1.createElement(Animate,{begin:gn,duration:xn,isActive:fn,easing:yn,from:{t:0},to:{t:1},key:"bar-".concat(vn),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(bn){var wn=bn.t,Sn=mn.map(function(Rn,_n){var jn=En&&En[_n];if(jn){var Cn=interpolateNumber$2(jn.x,Rn.x),An=interpolateNumber$2(jn.y,Rn.y),Tn=interpolateNumber$2(jn.width,Rn.width),$n=interpolateNumber$2(jn.height,Rn.height);return _objectSpread$e(_objectSpread$e({},Rn),{},{x:Cn(wn),y:An(wn),width:Tn(wn),height:$n(wn)})}if(hn==="horizontal"){var Dn=interpolateNumber$2(0,Rn.height),Nn=Dn(wn);return _objectSpread$e(_objectSpread$e({},Rn),{},{y:Rn.y+Rn.height-Nn,height:Nn})}var kn=interpolateNumber$2(0,Rn.width),Pn=kn(wn);return _objectSpread$e(_objectSpread$e({},Rn),{},{width:Pn})});return React$1.createElement(Layer,null,dn.renderRectanglesStatically(Sn))})}},{key:"renderRectangles",value:function(){var dn=this.props,pn=dn.data,mn=dn.isAnimationActive,hn=this.state.prevData;return mn&&pn&&pn.length&&(!hn||!isEqual$4(hn,pn))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(pn)}},{key:"renderBackground",value:function(){var dn=this,pn=this.props,mn=pn.data,hn=pn.dataKey,fn=pn.activeIndex,gn=filterProps$1(this.props.background,!1);return mn.map(function(xn,yn){xn.value;var vn=xn.background,En=_objectWithoutProperties$6(xn,_excluded$8);if(!vn)return null;var bn=_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e(_objectSpread$e({},En),{},{fill:"#eee"},vn),gn),adaptEventsOfChild(dn.props,xn,yn)),{},{onAnimationStart:dn.handleAnimationStart,onAnimationEnd:dn.handleAnimationEnd,dataKey:hn,index:yn,className:"recharts-bar-background-rectangle"});return React$1.createElement(BarRectangle,_extends$b({key:"background-bar-".concat(yn),option:dn.props.background,isActive:yn===fn},bn))})}},{key:"renderErrorBar",value:function(dn,pn){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var mn=this.props,hn=mn.data,fn=mn.xAxis,gn=mn.yAxis,xn=mn.layout,yn=mn.children,vn=findAllByType(yn,ErrorBar);if(!vn)return null;var En=xn==="vertical"?hn[0].height/2:hn[0].width/2,bn=function(Rn,_n){var jn=Array.isArray(Rn.value)?Rn.value[1]:Rn.value;return{x:Rn.x,y:Rn.y,value:jn,errorVal:getValueByDataKey(Rn,_n)}},wn={clipPath:dn?"url(#clipPath-".concat(pn,")"):null};return React$1.createElement(Layer,wn,vn.map(function(Sn){return React$1.cloneElement(Sn,{key:"error-bar-".concat(pn,"-").concat(Sn.props.dataKey),data:hn,xAxis:fn,yAxis:gn,layout:xn,offset:En,dataPointFormatter:bn})}))}},{key:"render",value:function(){var dn=this.props,pn=dn.hide,mn=dn.data,hn=dn.className,fn=dn.xAxis,gn=dn.yAxis,xn=dn.left,yn=dn.top,vn=dn.width,En=dn.height,bn=dn.isAnimationActive,wn=dn.background,Sn=dn.id;if(pn||!mn||!mn.length)return null;var Rn=this.state.isAnimationFinished,_n=clsx("recharts-bar",hn),jn=fn&&fn.allowDataOverflow,Cn=gn&&gn.allowDataOverflow,An=jn||Cn,Tn=isNil$1(Sn)?this.id:Sn;return React$1.createElement(Layer,{className:_n},jn||Cn?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat(Tn)},React$1.createElement("rect",{x:jn?xn:xn-vn/2,y:Cn?yn:yn-En/2,width:jn?vn:vn*2,height:Cn?En:En*2}))):null,React$1.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:An?"url(#clipPath-".concat(Tn,")"):null},wn?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(An,Tn),(!bn||Rn)&&LabelList.renderCallByParent(this.props,mn))}}],[{key:"getDerivedStateFromProps",value:function(dn,pn){return dn.animationId!==pn.prevAnimationId?{prevAnimationId:dn.animationId,curData:dn.data,prevData:pn.curData}:dn.data!==pn.curData?{curData:dn.data}:null}}])}(reactExports.PureComponent);_Bar=Bar;_defineProperty$h(Bar,"displayName","Bar");_defineProperty$h(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$h(Bar,"getComposedData",function(tn){var sn=tn.props,un=tn.item,dn=tn.barPosition,pn=tn.bandSize,mn=tn.xAxis,hn=tn.yAxis,fn=tn.xAxisTicks,gn=tn.yAxisTicks,xn=tn.stackedData,yn=tn.dataStartIndex,vn=tn.displayedData,En=tn.offset,bn=findPositionOfBar(dn,un);if(!bn)return null;var wn=sn.layout,Sn=un.type.defaultProps,Rn=Sn!==void 0?_objectSpread$e(_objectSpread$e({},Sn),un.props):un.props,_n=Rn.dataKey,jn=Rn.children,Cn=Rn.minPointSize,An=wn==="horizontal"?hn:mn,Tn=xn?An.scale.domain():null,$n=getBaseValueOfBar({numericAxis:An}),Dn=findAllByType(jn,Cell),Nn=vn.map(function(kn,Pn){var Mn,On,Wn,In,Un,Vn;xn?Mn=truncateByDomain(xn[yn+Pn],Tn):(Mn=getValueByDataKey(kn,_n),Array.isArray(Mn)||(Mn=[$n,Mn]));var Hn=minPointSizeCallback(Cn,_Bar.defaultProps.minPointSize)(Mn[1],Pn);if(wn==="horizontal"){var Ln,zn=[hn.scale(Mn[0]),hn.scale(Mn[1])],Bn=zn[0],Fn=zn[1];On=getCateCoordinateOfBar({axis:mn,ticks:fn,bandSize:pn,offset:bn.offset,entry:kn,index:Pn}),Wn=(Ln=Fn??Bn)!==null&&Ln!==void 0?Ln:void 0,In=bn.size;var Gn=Bn-Fn;if(Un=Number.isNaN(Gn)?0:Gn,Vn={x:On,y:hn.y,width:In,height:hn.height},Math.abs(Hn)>0&&Math.abs(Un)<Math.abs(Hn)){var qn=mathSign(Un||Hn)*(Math.abs(Hn)-Math.abs(Un));Wn-=qn,Un+=qn}}else{var Jn=[mn.scale(Mn[0]),mn.scale(Mn[1])],dr=Jn[0],br=Jn[1];if(On=dr,Wn=getCateCoordinateOfBar({axis:hn,ticks:gn,bandSize:pn,offset:bn.offset,entry:kn,index:Pn}),In=br-dr,Un=bn.size,Vn={x:mn.x,y:Wn,width:mn.width,height:Un},Math.abs(Hn)>0&&Math.abs(In)<Math.abs(Hn)){var Er=mathSign(In||Hn)*(Math.abs(Hn)-Math.abs(In));In+=Er}}return _objectSpread$e(_objectSpread$e(_objectSpread$e({},kn),{},{x:On,y:Wn,width:In,height:Un,value:xn?Mn:Mn[1],payload:kn,background:Vn},Dn&&Dn[Pn]&&Dn[Pn].props),{},{tooltipPayload:[getTooltipItem(un,kn)],tooltipPosition:{x:On+In/2,y:Wn+Un/2}})});return _objectSpread$e({data:Nn,layout:wn},En)});function _typeof$e(tn){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$e(tn)}function _classCallCheck$b(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$d(dn.key),dn)}}function _createClass$b(tn,sn,un){return sn&&_defineProperties$b(tn.prototype,sn),un&&_defineProperties$b(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function ownKeys$d(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$d(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$d(Object(un),!0).forEach(function(dn){_defineProperty$g(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$d(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$g(tn,sn,un){return sn=_toPropertyKey$d(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$d(tn){var sn=_toPrimitive$d(tn,"string");return _typeof$e(sn)=="symbol"?sn:sn+""}function _toPrimitive$d(tn,sn){if(_typeof$e(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$e(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var formatAxisMap=function tn(sn,un,dn,pn,mn){var hn=sn.width,fn=sn.height,gn=sn.layout,xn=sn.children,yn=Object.keys(un),vn={left:dn.left,leftMirror:dn.left,right:hn-dn.right,rightMirror:hn-dn.right,top:dn.top,topMirror:dn.top,bottom:fn-dn.bottom,bottomMirror:fn-dn.bottom},En=!!findChildByType(xn,Bar);return yn.reduce(function(bn,wn){var Sn=un[wn],Rn=Sn.orientation,_n=Sn.domain,jn=Sn.padding,Cn=jn===void 0?{}:jn,An=Sn.mirror,Tn=Sn.reversed,$n="".concat(Rn).concat(An?"Mirror":""),Dn,Nn,kn,Pn,Mn;if(Sn.type==="number"&&(Sn.padding==="gap"||Sn.padding==="no-gap")){var On=_n[1]-_n[0],Wn=1/0,In=Sn.categoricalDomain.sort(compareValues);if(In.forEach(function(Jn,dr){dr>0&&(Wn=Math.min((Jn||0)-(In[dr-1]||0),Wn))}),Number.isFinite(Wn)){var Un=Wn/On,Vn=Sn.layout==="vertical"?dn.height:dn.width;if(Sn.padding==="gap"&&(Dn=Un*Vn/2),Sn.padding==="no-gap"){var Hn=getPercentValue(sn.barCategoryGap,Un*Vn),Ln=Un*Vn/2;Dn=Ln-Hn-(Ln-Hn)/Vn*Hn}}}pn==="xAxis"?Nn=[dn.left+(Cn.left||0)+(Dn||0),dn.left+dn.width-(Cn.right||0)-(Dn||0)]:pn==="yAxis"?Nn=gn==="horizontal"?[dn.top+dn.height-(Cn.bottom||0),dn.top+(Cn.top||0)]:[dn.top+(Cn.top||0)+(Dn||0),dn.top+dn.height-(Cn.bottom||0)-(Dn||0)]:Nn=Sn.range,Tn&&(Nn=[Nn[1],Nn[0]]);var zn=parseScale(Sn,mn,En),Bn=zn.scale,Fn=zn.realScaleType;Bn.domain(_n).range(Nn),checkDomainOfScale(Bn);var Gn=getTicksOfScale(Bn,_objectSpread$d(_objectSpread$d({},Sn),{},{realScaleType:Fn}));pn==="xAxis"?(Mn=Rn==="top"&&!An||Rn==="bottom"&&An,kn=dn.left,Pn=vn[$n]-Mn*Sn.height):pn==="yAxis"&&(Mn=Rn==="left"&&!An||Rn==="right"&&An,kn=vn[$n]-Mn*Sn.width,Pn=dn.top);var qn=_objectSpread$d(_objectSpread$d(_objectSpread$d({},Sn),Gn),{},{realScaleType:Fn,x:kn,y:Pn,scale:Bn,width:pn==="xAxis"?dn.width:Sn.width,height:pn==="yAxis"?dn.height:Sn.height});return qn.bandSize=getBandSizeOfAxis(qn,Gn),!Sn.hide&&pn==="xAxis"?vn[$n]+=(Mn?-1:1)*qn.height:Sn.hide||(vn[$n]+=(Mn?-1:1)*qn.width),_objectSpread$d(_objectSpread$d({},bn),{},_defineProperty$g({},wn,qn))},{})},rectWithPoints=function tn(sn,un){var dn=sn.x,pn=sn.y,mn=un.x,hn=un.y;return{x:Math.min(dn,mn),y:Math.min(pn,hn),width:Math.abs(mn-dn),height:Math.abs(hn-pn)}},rectWithCoords=function tn(sn){var un=sn.x1,dn=sn.y1,pn=sn.x2,mn=sn.y2;return rectWithPoints({x:un,y:dn},{x:pn,y:mn})},ScaleHelper=function(){function tn(sn){_classCallCheck$b(this,tn),this.scale=sn}return _createClass$b(tn,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(un){var dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pn=dn.bandAware,mn=dn.position;if(un!==void 0){if(mn)switch(mn){case"start":return this.scale(un);case"middle":{var hn=this.bandwidth?this.bandwidth()/2:0;return this.scale(un)+hn}case"end":{var fn=this.bandwidth?this.bandwidth():0;return this.scale(un)+fn}default:return this.scale(un)}if(pn){var gn=this.bandwidth?this.bandwidth()/2:0;return this.scale(un)+gn}return this.scale(un)}}},{key:"isInRange",value:function(un){var dn=this.range(),pn=dn[0],mn=dn[dn.length-1];return pn<=mn?un>=pn&&un<=mn:un>=mn&&un<=pn}}],[{key:"create",value:function(un){return new tn(un)}}])}();_defineProperty$g(ScaleHelper,"EPS",1e-4);var createLabeledScales=function tn(sn){var un=Object.keys(sn).reduce(function(dn,pn){return _objectSpread$d(_objectSpread$d({},dn),{},_defineProperty$g({},pn,ScaleHelper.create(sn[pn])))},{});return _objectSpread$d(_objectSpread$d({},un),{},{apply:function(pn){var mn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},hn=mn.bandAware,fn=mn.position;return mapValues$1(pn,function(gn,xn){return un[xn].apply(gn,{bandAware:hn,position:fn})})},isInRange:function(pn){return every$1(pn,function(mn,hn){return un[hn].isInRange(mn)})}})};function normalizeAngle(tn){return(tn%180+180)%180}var getAngledRectangleWidth=function tn(sn){var un=sn.width,dn=sn.height,pn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,mn=normalizeAngle(pn),hn=mn*Math.PI/180,fn=Math.atan(dn/un),gn=hn>fn&&hn<Math.PI-fn?dn/Math.sin(hn):un/Math.cos(hn);return Math.abs(gn)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys$2=keys_1;function createFind$1(tn){return function(sn,un,dn){var pn=Object(sn);if(!isArrayLike(sn)){var mn=baseIteratee$1(un);sn=keys$2(sn),un=function(fn){return mn(pn[fn],fn,pn)}}var hn=tn(sn,un,dn);return hn>-1?pn[mn?sn[hn]:hn]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(tn){var sn=toFinite(tn),un=sn%1;return sn===sn?un?sn-un:sn:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax$2=Math.max;function findIndex$1(tn,sn,un){var dn=tn==null?0:tn.length;if(!dn)return-1;var pn=un==null?0:toInteger(un);return pn<0&&(pn=nativeMax$2(dn+pn,0)),baseFindIndex(tn,baseIteratee(sn),pn)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find$3=createFind(findIndex),find_1=find$3;const find$4=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(tn){return{x:tn.left,y:tn.top,width:tn.width,height:tn.height}},function(tn){return["l",tn.left,"t",tn.top,"w",tn.width,"h",tn.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function tn(sn){var un=sn.state,dn=un.xAxisMap,pn=un.yAxisMap,mn=un.offset,hn=sn.clipPathId,fn=sn.children,gn=sn.width,xn=sn.height,yn=calculateViewBox(mn);return React$1.createElement(XAxisContext.Provider,{value:dn},React$1.createElement(YAxisContext.Provider,{value:pn},React$1.createElement(OffsetContext.Provider,{value:mn},React$1.createElement(ViewBoxContext.Provider,{value:yn},React$1.createElement(ClipPathIdContext.Provider,{value:hn},React$1.createElement(ChartHeightContext.Provider,{value:xn},React$1.createElement(ChartWidthContext.Provider,{value:gn},fn)))))))},useClipPathId=function tn(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function tn(sn){var un=reactExports.useContext(XAxisContext);un==null&&invariant$1();var dn=un[sn];return dn==null&&invariant$1(),dn},useArbitraryXAxis=function tn(){var sn=reactExports.useContext(XAxisContext);return getAnyElementOfObject(sn)},useYAxisWithFiniteDomainOrRandom=function tn(){var sn=reactExports.useContext(YAxisContext),un=find$4(sn,function(dn){return every$1(dn.domain,Number.isFinite)});return un||getAnyElementOfObject(sn)},useYAxisOrThrow=function tn(sn){var un=reactExports.useContext(YAxisContext);un==null&&invariant$1();var dn=un[sn];return dn==null&&invariant$1(),dn},useViewBox=function tn(){var sn=reactExports.useContext(ViewBoxContext);return sn},useOffset=function tn(){return reactExports.useContext(OffsetContext)},useChartWidth=function tn(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function tn(){return reactExports.useContext(ChartHeightContext)};function _typeof$d(tn){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$d(tn)}function _classCallCheck$a(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$c(dn.key),dn)}}function _createClass$a(tn,sn,un){return sn&&_defineProperties$a(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$8(tn,sn,un){return sn=_getPrototypeOf$9(sn),_possibleConstructorReturn$9(tn,_isNativeReflectConstruct$9()?Reflect.construct(sn,un||[],_getPrototypeOf$9(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$9(tn,sn){if(sn&&(_typeof$d(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(tn)}function _assertThisInitialized$9(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$9(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!tn})()}function _getPrototypeOf$9(tn){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$9(tn)}function _inherits$9(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$9(tn,sn)}function _setPrototypeOf$9(tn,sn){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$9(tn,sn)}function ownKeys$c(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$c(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$c(Object(un),!0).forEach(function(dn){_defineProperty$f(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$c(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$f(tn,sn,un){return sn=_toPropertyKey$c(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$c(tn){var sn=_toPrimitive$c(tn,"string");return _typeof$d(sn)=="symbol"?sn:sn+""}function _toPrimitive$c(tn,sn){if(_typeof$d(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$d(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}function _slicedToArray$4(tn,sn){return _arrayWithHoles$4(tn)||_iterableToArrayLimit$4(tn,sn)||_unsupportedIterableToArray$9(tn,sn)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$9(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$9(tn,sn)}}function _arrayLikeToArray$9(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$4(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$4(tn){if(Array.isArray(tn))return tn}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$a.apply(this,arguments)}var renderLine=function tn(sn,un){var dn;return React$1.isValidElement(sn)?dn=React$1.cloneElement(sn,un):isFunction$5(sn)?dn=sn(un):dn=React$1.createElement("line",_extends$a({},un,{className:"recharts-reference-line-line"})),dn},getEndPoints=function tn(sn,un,dn,pn,mn,hn,fn,gn,xn){var yn=mn.x,vn=mn.y,En=mn.width,bn=mn.height;if(dn){var wn=xn.y,Sn=sn.y.apply(wn,{position:hn});if(ifOverflowMatches(xn,"discard")&&!sn.y.isInRange(Sn))return null;var Rn=[{x:yn+En,y:Sn},{x:yn,y:Sn}];return gn==="left"?Rn.reverse():Rn}if(un){var _n=xn.x,jn=sn.x.apply(_n,{position:hn});if(ifOverflowMatches(xn,"discard")&&!sn.x.isInRange(jn))return null;var Cn=[{x:jn,y:vn+bn},{x:jn,y:vn}];return fn==="top"?Cn.reverse():Cn}if(pn){var An=xn.segment,Tn=An.map(function($n){return sn.apply($n,{position:hn})});return ifOverflowMatches(xn,"discard")&&some$1(Tn,function($n){return!sn.isInRange($n)})?null:Tn}return null};function ReferenceLineImpl(tn){var sn=tn.x,un=tn.y,dn=tn.segment,pn=tn.xAxisId,mn=tn.yAxisId,hn=tn.shape,fn=tn.className,gn=tn.alwaysShow,xn=useClipPathId(),yn=useXAxisOrThrow(pn),vn=useYAxisOrThrow(mn),En=useViewBox();if(!xn||!En)return null;warn(gn===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var bn=createLabeledScales({x:yn.scale,y:vn.scale}),wn=isNumOrStr(sn),Sn=isNumOrStr(un),Rn=dn&&dn.length===2,_n=getEndPoints(bn,wn,Sn,Rn,En,tn.position,yn.orientation,vn.orientation,tn);if(!_n)return null;var jn=_slicedToArray$4(_n,2),Cn=jn[0],An=Cn.x,Tn=Cn.y,$n=jn[1],Dn=$n.x,Nn=$n.y,kn=ifOverflowMatches(tn,"hidden")?"url(#".concat(xn,")"):void 0,Pn=_objectSpread$c(_objectSpread$c({clipPath:kn},filterProps$1(tn,!0)),{},{x1:An,y1:Tn,x2:Dn,y2:Nn});return React$1.createElement(Layer,{className:clsx("recharts-reference-line",fn)},renderLine(hn,Pn),Label.renderCallByParent(tn,rectWithCoords({x1:An,y1:Tn,x2:Dn,y2:Nn})))}var ReferenceLine=function(tn){function sn(){return _classCallCheck$a(this,sn),_callSuper$8(this,sn,arguments)}return _inherits$9(sn,tn),_createClass$a(sn,[{key:"render",value:function(){return React$1.createElement(ReferenceLineImpl,this.props)}}])}(React$1.Component);_defineProperty$f(ReferenceLine,"displayName","ReferenceLine");_defineProperty$f(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$9.apply(this,arguments)}function _typeof$c(tn){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$c(tn)}function ownKeys$b(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$b(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$b(Object(un),!0).forEach(function(dn){_defineProperty$e(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$b(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$9(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$b(dn.key),dn)}}function _createClass$9(tn,sn,un){return sn&&_defineProperties$9(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$7(tn,sn,un){return sn=_getPrototypeOf$8(sn),_possibleConstructorReturn$8(tn,_isNativeReflectConstruct$8()?Reflect.construct(sn,un||[],_getPrototypeOf$8(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$8(tn,sn){if(sn&&(_typeof$c(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(tn)}function _assertThisInitialized$8(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$8(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!tn})()}function _getPrototypeOf$8(tn){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$8(tn)}function _inherits$8(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$8(tn,sn)}function _setPrototypeOf$8(tn,sn){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$8(tn,sn)}function _defineProperty$e(tn,sn,un){return sn=_toPropertyKey$b(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$b(tn){var sn=_toPrimitive$b(tn,"string");return _typeof$c(sn)=="symbol"?sn:sn+""}function _toPrimitive$b(tn,sn){if(_typeof$c(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$c(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var getCoordinate=function tn(sn){var un=sn.x,dn=sn.y,pn=sn.xAxis,mn=sn.yAxis,hn=createLabeledScales({x:pn.scale,y:mn.scale}),fn=hn.apply({x:un,y:dn},{bandAware:!0});return ifOverflowMatches(sn,"discard")&&!hn.isInRange(fn)?null:fn},ReferenceDot=function(tn){function sn(){return _classCallCheck$9(this,sn),_callSuper$7(this,sn,arguments)}return _inherits$8(sn,tn),_createClass$9(sn,[{key:"render",value:function(){var dn=this.props,pn=dn.x,mn=dn.y,hn=dn.r,fn=dn.alwaysShow,gn=dn.clipPathId,xn=isNumOrStr(pn),yn=isNumOrStr(mn);if(warn(fn===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!xn||!yn)return null;var vn=getCoordinate(this.props);if(!vn)return null;var En=vn.x,bn=vn.y,wn=this.props,Sn=wn.shape,Rn=wn.className,_n=ifOverflowMatches(this.props,"hidden")?"url(#".concat(gn,")"):void 0,jn=_objectSpread$b(_objectSpread$b({clipPath:_n},filterProps$1(this.props,!0)),{},{cx:En,cy:bn});return React$1.createElement(Layer,{className:clsx("recharts-reference-dot",Rn)},sn.renderDot(Sn,jn),Label.renderCallByParent(this.props,{x:En-hn,y:bn-hn,width:2*hn,height:2*hn}))}}])}(React$1.Component);_defineProperty$e(ReferenceDot,"displayName","ReferenceDot");_defineProperty$e(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$e(ReferenceDot,"renderDot",function(tn,sn){var un;return React$1.isValidElement(tn)?un=React$1.cloneElement(tn,sn):isFunction$5(tn)?un=tn(sn):un=React$1.createElement(Dot,_extends$9({},sn,{cx:sn.cx,cy:sn.cy,className:"recharts-reference-dot-dot"})),un});function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$8.apply(this,arguments)}function _typeof$b(tn){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$b(tn)}function ownKeys$a(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$a(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$a(Object(un),!0).forEach(function(dn){_defineProperty$d(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$a(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$8(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$a(dn.key),dn)}}function _createClass$8(tn,sn,un){return sn&&_defineProperties$8(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$6(tn,sn,un){return sn=_getPrototypeOf$7(sn),_possibleConstructorReturn$7(tn,_isNativeReflectConstruct$7()?Reflect.construct(sn,un||[],_getPrototypeOf$7(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$7(tn,sn){if(sn&&(_typeof$b(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(tn)}function _assertThisInitialized$7(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$7(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!tn})()}function _getPrototypeOf$7(tn){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$7(tn)}function _inherits$7(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$7(tn,sn)}function _setPrototypeOf$7(tn,sn){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$7(tn,sn)}function _defineProperty$d(tn,sn,un){return sn=_toPropertyKey$a(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$a(tn){var sn=_toPrimitive$a(tn,"string");return _typeof$b(sn)=="symbol"?sn:sn+""}function _toPrimitive$a(tn,sn){if(_typeof$b(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$b(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var getRect=function tn(sn,un,dn,pn,mn){var hn=mn.x1,fn=mn.x2,gn=mn.y1,xn=mn.y2,yn=mn.xAxis,vn=mn.yAxis;if(!yn||!vn)return null;var En=createLabeledScales({x:yn.scale,y:vn.scale}),bn={x:sn?En.x.apply(hn,{position:"start"}):En.x.rangeMin,y:dn?En.y.apply(gn,{position:"start"}):En.y.rangeMin},wn={x:un?En.x.apply(fn,{position:"end"}):En.x.rangeMax,y:pn?En.y.apply(xn,{position:"end"}):En.y.rangeMax};return ifOverflowMatches(mn,"discard")&&(!En.isInRange(bn)||!En.isInRange(wn))?null:rectWithPoints(bn,wn)},ReferenceArea=function(tn){function sn(){return _classCallCheck$8(this,sn),_callSuper$6(this,sn,arguments)}return _inherits$7(sn,tn),_createClass$8(sn,[{key:"render",value:function(){var dn=this.props,pn=dn.x1,mn=dn.x2,hn=dn.y1,fn=dn.y2,gn=dn.className,xn=dn.alwaysShow,yn=dn.clipPathId;warn(xn===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var vn=isNumOrStr(pn),En=isNumOrStr(mn),bn=isNumOrStr(hn),wn=isNumOrStr(fn),Sn=this.props.shape;if(!vn&&!En&&!bn&&!wn&&!Sn)return null;var Rn=getRect(vn,En,bn,wn,this.props);if(!Rn&&!Sn)return null;var _n=ifOverflowMatches(this.props,"hidden")?"url(#".concat(yn,")"):void 0;return React$1.createElement(Layer,{className:clsx("recharts-reference-area",gn)},sn.renderRect(Sn,_objectSpread$a(_objectSpread$a({clipPath:_n},filterProps$1(this.props,!0)),Rn)),Label.renderCallByParent(this.props,Rn))}}])}(React$1.Component);_defineProperty$d(ReferenceArea,"displayName","ReferenceArea");_defineProperty$d(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$d(ReferenceArea,"renderRect",function(tn,sn){var un;return React$1.isValidElement(tn)?un=React$1.cloneElement(tn,sn):isFunction$5(tn)?un=tn(sn):un=React$1.createElement(Rectangle,_extends$8({},sn,{className:"recharts-reference-area-rect"})),un});function getEveryNthWithCondition(tn,sn,un){if(sn<1)return[];if(sn===1&&un===void 0)return tn;for(var dn=[],pn=0;pn<tn.length;pn+=sn)dn.push(tn[pn]);return dn}function getAngledTickWidth(tn,sn,un){var dn={width:tn.width+sn.width,height:tn.height+sn.height};return getAngledRectangleWidth(dn,un)}function getTickBoundaries(tn,sn,un){var dn=un==="width",pn=tn.x,mn=tn.y,hn=tn.width,fn=tn.height;return sn===1?{start:dn?pn:mn,end:dn?pn+hn:mn+fn}:{start:dn?pn+hn:mn+fn,end:dn?pn:mn}}function isVisible(tn,sn,un,dn,pn){if(tn*sn<tn*dn||tn*sn>tn*pn)return!1;var mn=un();return tn*(sn-tn*mn/2-dn)>=0&&tn*(sn+tn*mn/2-pn)<=0}function getNumberIntervalTicks(tn,sn){return getEveryNthWithCondition(tn,sn+1)}function getEquidistantTicks(tn,sn,un,dn,pn){for(var mn=(dn||[]).slice(),hn=sn.start,fn=sn.end,gn=0,xn=1,yn=hn,vn=function(){var wn=dn==null?void 0:dn[gn];if(wn===void 0)return{v:getEveryNthWithCondition(dn,xn)};var Sn=gn,Rn,_n=function(){return Rn===void 0&&(Rn=un(wn,Sn)),Rn},jn=wn.coordinate,Cn=gn===0||isVisible(tn,jn,_n,yn,fn);Cn||(gn=0,yn=hn,xn+=1),Cn&&(yn=jn+tn*(_n()/2+pn),gn+=xn)},En;xn<=mn.length;)if(En=vn(),En)return En.v;return[]}function _typeof$a(tn){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$a(tn)}function ownKeys$9(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$9(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$9(Object(un),!0).forEach(function(dn){_defineProperty$c(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$9(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$c(tn,sn,un){return sn=_toPropertyKey$9(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$9(tn){var sn=_toPrimitive$9(tn,"string");return _typeof$a(sn)=="symbol"?sn:sn+""}function _toPrimitive$9(tn,sn){if(_typeof$a(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$a(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function getTicksEnd(tn,sn,un,dn,pn){for(var mn=(dn||[]).slice(),hn=mn.length,fn=sn.start,gn=sn.end,xn=function(En){var bn=mn[En],wn,Sn=function(){return wn===void 0&&(wn=un(bn,En)),wn};if(En===hn-1){var Rn=tn*(bn.coordinate+tn*Sn()/2-gn);mn[En]=bn=_objectSpread$9(_objectSpread$9({},bn),{},{tickCoord:Rn>0?bn.coordinate-Rn*tn:bn.coordinate})}else mn[En]=bn=_objectSpread$9(_objectSpread$9({},bn),{},{tickCoord:bn.coordinate});var _n=isVisible(tn,bn.tickCoord,Sn,fn,gn);_n&&(gn=bn.tickCoord-tn*(Sn()/2+pn),mn[En]=_objectSpread$9(_objectSpread$9({},bn),{},{isShow:!0}))},yn=hn-1;yn>=0;yn--)xn(yn);return mn}function getTicksStart(tn,sn,un,dn,pn,mn){var hn=(dn||[]).slice(),fn=hn.length,gn=sn.start,xn=sn.end;if(mn){var yn=dn[fn-1],vn=un(yn,fn-1),En=tn*(yn.coordinate+tn*vn/2-xn);hn[fn-1]=yn=_objectSpread$9(_objectSpread$9({},yn),{},{tickCoord:En>0?yn.coordinate-En*tn:yn.coordinate});var bn=isVisible(tn,yn.tickCoord,function(){return vn},gn,xn);bn&&(xn=yn.tickCoord-tn*(vn/2+pn),hn[fn-1]=_objectSpread$9(_objectSpread$9({},yn),{},{isShow:!0}))}for(var wn=mn?fn-1:fn,Sn=function(jn){var Cn=hn[jn],An,Tn=function(){return An===void 0&&(An=un(Cn,jn)),An};if(jn===0){var $n=tn*(Cn.coordinate-tn*Tn()/2-gn);hn[jn]=Cn=_objectSpread$9(_objectSpread$9({},Cn),{},{tickCoord:$n<0?Cn.coordinate-$n*tn:Cn.coordinate})}else hn[jn]=Cn=_objectSpread$9(_objectSpread$9({},Cn),{},{tickCoord:Cn.coordinate});var Dn=isVisible(tn,Cn.tickCoord,Tn,gn,xn);Dn&&(gn=Cn.tickCoord+tn*(Tn()/2+pn),hn[jn]=_objectSpread$9(_objectSpread$9({},Cn),{},{isShow:!0}))},Rn=0;Rn<wn;Rn++)Sn(Rn);return hn}function getTicks(tn,sn,un){var dn=tn.tick,pn=tn.ticks,mn=tn.viewBox,hn=tn.minTickGap,fn=tn.orientation,gn=tn.interval,xn=tn.tickFormatter,yn=tn.unit,vn=tn.angle;if(!pn||!pn.length||!dn)return[];if(isNumber$1(gn)||Global.isSsr)return getNumberIntervalTicks(pn,typeof gn=="number"&&isNumber$1(gn)?gn:0);var En=[],bn=fn==="top"||fn==="bottom"?"width":"height",wn=yn&&bn==="width"?getStringSize(yn,{fontSize:sn,letterSpacing:un}):{width:0,height:0},Sn=function(Cn,An){var Tn=isFunction$5(xn)?xn(Cn.value,An):Cn.value;return bn==="width"?getAngledTickWidth(getStringSize(Tn,{fontSize:sn,letterSpacing:un}),wn,vn):getStringSize(Tn,{fontSize:sn,letterSpacing:un})[bn]},Rn=pn.length>=2?mathSign(pn[1].coordinate-pn[0].coordinate):1,_n=getTickBoundaries(mn,Rn,bn);return gn==="equidistantPreserveStart"?getEquidistantTicks(Rn,_n,Sn,pn,hn):(gn==="preserveStart"||gn==="preserveStartEnd"?En=getTicksStart(Rn,_n,Sn,pn,hn,gn==="preserveStartEnd"):En=getTicksEnd(Rn,_n,Sn,pn,hn),En.filter(function(jn){return jn.isShow}))}var _excluded$7=["viewBox"],_excluded2$5=["viewBox"],_excluded3$1=["ticks"];function _typeof$9(tn){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$9(tn)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$7.apply(this,arguments)}function ownKeys$8(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$8(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$8(Object(un),!0).forEach(function(dn){_defineProperty$b(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$8(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _objectWithoutProperties$5(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$6(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$6(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _classCallCheck$7(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$8(dn.key),dn)}}function _createClass$7(tn,sn,un){return sn&&_defineProperties$7(tn.prototype,sn),un&&_defineProperties$7(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$5(tn,sn,un){return sn=_getPrototypeOf$6(sn),_possibleConstructorReturn$6(tn,_isNativeReflectConstruct$6()?Reflect.construct(sn,un||[],_getPrototypeOf$6(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$6(tn,sn){if(sn&&(_typeof$9(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(tn)}function _assertThisInitialized$6(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$6(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!tn})()}function _getPrototypeOf$6(tn){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$6(tn)}function _inherits$6(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$6(tn,sn)}function _setPrototypeOf$6(tn,sn){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$6(tn,sn)}function _defineProperty$b(tn,sn,un){return sn=_toPropertyKey$8(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$8(tn){var sn=_toPrimitive$8(tn,"string");return _typeof$9(sn)=="symbol"?sn:sn+""}function _toPrimitive$8(tn,sn){if(_typeof$9(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$9(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var CartesianAxis=function(tn){function sn(un){var dn;return _classCallCheck$7(this,sn),dn=_callSuper$5(this,sn,[un]),dn.state={fontSize:"",letterSpacing:""},dn}return _inherits$6(sn,tn),_createClass$7(sn,[{key:"shouldComponentUpdate",value:function(dn,pn){var mn=dn.viewBox,hn=_objectWithoutProperties$5(dn,_excluded$7),fn=this.props,gn=fn.viewBox,xn=_objectWithoutProperties$5(fn,_excluded2$5);return!shallowEqual(mn,gn)||!shallowEqual(hn,xn)||!shallowEqual(pn,this.state)}},{key:"componentDidMount",value:function(){var dn=this.layerReference;if(dn){var pn=dn.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];pn&&this.setState({fontSize:window.getComputedStyle(pn).fontSize,letterSpacing:window.getComputedStyle(pn).letterSpacing})}}},{key:"getTickLineCoord",value:function(dn){var pn=this.props,mn=pn.x,hn=pn.y,fn=pn.width,gn=pn.height,xn=pn.orientation,yn=pn.tickSize,vn=pn.mirror,En=pn.tickMargin,bn,wn,Sn,Rn,_n,jn,Cn=vn?-1:1,An=dn.tickSize||yn,Tn=isNumber$1(dn.tickCoord)?dn.tickCoord:dn.coordinate;switch(xn){case"top":bn=wn=dn.coordinate,Rn=hn+ +!vn*gn,Sn=Rn-Cn*An,jn=Sn-Cn*En,_n=Tn;break;case"left":Sn=Rn=dn.coordinate,wn=mn+ +!vn*fn,bn=wn-Cn*An,_n=bn-Cn*En,jn=Tn;break;case"right":Sn=Rn=dn.coordinate,wn=mn+ +vn*fn,bn=wn+Cn*An,_n=bn+Cn*En,jn=Tn;break;default:bn=wn=dn.coordinate,Rn=hn+ +vn*gn,Sn=Rn+Cn*An,jn=Sn+Cn*En,_n=Tn;break}return{line:{x1:bn,y1:Sn,x2:wn,y2:Rn},tick:{x:_n,y:jn}}}},{key:"getTickTextAnchor",value:function(){var dn=this.props,pn=dn.orientation,mn=dn.mirror,hn;switch(pn){case"left":hn=mn?"start":"end";break;case"right":hn=mn?"end":"start";break;default:hn="middle";break}return hn}},{key:"getTickVerticalAnchor",value:function(){var dn=this.props,pn=dn.orientation,mn=dn.mirror,hn="end";switch(pn){case"left":case"right":hn="middle";break;case"top":hn=mn?"start":"end";break;default:hn=mn?"end":"start";break}return hn}},{key:"renderAxisLine",value:function(){var dn=this.props,pn=dn.x,mn=dn.y,hn=dn.width,fn=dn.height,gn=dn.orientation,xn=dn.mirror,yn=dn.axisLine,vn=_objectSpread$8(_objectSpread$8(_objectSpread$8({},filterProps$1(this.props,!1)),filterProps$1(yn,!1)),{},{fill:"none"});if(gn==="top"||gn==="bottom"){var En=+(gn==="top"&&!xn||gn==="bottom"&&xn);vn=_objectSpread$8(_objectSpread$8({},vn),{},{x1:pn,y1:mn+En*fn,x2:pn+hn,y2:mn+En*fn})}else{var bn=+(gn==="left"&&!xn||gn==="right"&&xn);vn=_objectSpread$8(_objectSpread$8({},vn),{},{x1:pn+bn*hn,y1:mn,x2:pn+bn*hn,y2:mn+fn})}return React$1.createElement("line",_extends$7({},vn,{className:clsx("recharts-cartesian-axis-line",get$5(yn,"className"))}))}},{key:"renderTicks",value:function(dn,pn,mn){var hn=this,fn=this.props,gn=fn.tickLine,xn=fn.stroke,yn=fn.tick,vn=fn.tickFormatter,En=fn.unit,bn=getTicks(_objectSpread$8(_objectSpread$8({},this.props),{},{ticks:dn}),pn,mn),wn=this.getTickTextAnchor(),Sn=this.getTickVerticalAnchor(),Rn=filterProps$1(this.props,!1),_n=filterProps$1(yn,!1),jn=_objectSpread$8(_objectSpread$8({},Rn),{},{fill:"none"},filterProps$1(gn,!1)),Cn=bn.map(function(An,Tn){var $n=hn.getTickLineCoord(An),Dn=$n.line,Nn=$n.tick,kn=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({textAnchor:wn,verticalAnchor:Sn},Rn),{},{stroke:"none",fill:xn},_n),Nn),{},{index:Tn,payload:An,visibleTicksCount:bn.length,tickFormatter:vn});return React$1.createElement(Layer,_extends$7({className:"recharts-cartesian-axis-tick",key:"tick-".concat(An.value,"-").concat(An.coordinate,"-").concat(An.tickCoord)},adaptEventsOfChild(hn.props,An,Tn)),gn&&React$1.createElement("line",_extends$7({},jn,Dn,{className:clsx("recharts-cartesian-axis-tick-line",get$5(gn,"className"))})),yn&&sn.renderTickItem(yn,kn,"".concat(isFunction$5(vn)?vn(An.value,Tn):An.value).concat(En||"")))});return React$1.createElement("g",{className:"recharts-cartesian-axis-ticks"},Cn)}},{key:"render",value:function(){var dn=this,pn=this.props,mn=pn.axisLine,hn=pn.width,fn=pn.height,gn=pn.ticksGenerator,xn=pn.className,yn=pn.hide;if(yn)return null;var vn=this.props,En=vn.ticks,bn=_objectWithoutProperties$5(vn,_excluded3$1),wn=En;return isFunction$5(gn)&&(wn=En&&En.length>0?gn(this.props):gn(bn)),hn<=0||fn<=0||!wn||!wn.length?null:React$1.createElement(Layer,{className:clsx("recharts-cartesian-axis",xn),ref:function(Rn){dn.layerReference=Rn}},mn&&this.renderAxisLine(),this.renderTicks(wn,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(dn,pn,mn){var hn,fn=clsx(pn.className,"recharts-cartesian-axis-tick-value");return React$1.isValidElement(dn)?hn=React$1.cloneElement(dn,_objectSpread$8(_objectSpread$8({},pn),{},{className:fn})):isFunction$5(dn)?hn=dn(_objectSpread$8(_objectSpread$8({},pn),{},{className:fn})):hn=React$1.createElement(Text$2,_extends$7({},pn,{className:"recharts-cartesian-axis-tick-value"}),mn),hn}}])}(reactExports.Component);_defineProperty$b(CartesianAxis,"displayName","CartesianAxis");_defineProperty$b(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$6=["x1","y1","x2","y2","key"],_excluded2$4=["offset"];function _typeof$8(tn){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$8(tn)}function ownKeys$7(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$7(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$7(Object(un),!0).forEach(function(dn){_defineProperty$a(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$7(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$a(tn,sn,un){return sn=_toPropertyKey$7(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$7(tn){var sn=_toPrimitive$7(tn,"string");return _typeof$8(sn)=="symbol"?sn:sn+""}function _toPrimitive$7(tn,sn){if(_typeof$8(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$8(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$6.apply(this,arguments)}function _objectWithoutProperties$4(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$5(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$5(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}var Background=function tn(sn){var un=sn.fill;if(!un||un==="none")return null;var dn=sn.fillOpacity,pn=sn.x,mn=sn.y,hn=sn.width,fn=sn.height,gn=sn.ry;return React$1.createElement("rect",{x:pn,y:mn,ry:gn,width:hn,height:fn,stroke:"none",fill:un,fillOpacity:dn,className:"recharts-cartesian-grid-bg"})};function renderLineItem(tn,sn){var un;if(React$1.isValidElement(tn))un=React$1.cloneElement(tn,sn);else if(isFunction$5(tn))un=tn(sn);else{var dn=sn.x1,pn=sn.y1,mn=sn.x2,hn=sn.y2,fn=sn.key,gn=_objectWithoutProperties$4(sn,_excluded$6),xn=filterProps$1(gn,!1);xn.offset;var yn=_objectWithoutProperties$4(xn,_excluded2$4);un=React$1.createElement("line",_extends$6({},yn,{x1:dn,y1:pn,x2:mn,y2:hn,fill:"none",key:fn}))}return un}function HorizontalGridLines(tn){var sn=tn.x,un=tn.width,dn=tn.horizontal,pn=dn===void 0?!0:dn,mn=tn.horizontalPoints;if(!pn||!mn||!mn.length)return null;var hn=mn.map(function(fn,gn){var xn=_objectSpread$7(_objectSpread$7({},tn),{},{x1:sn,y1:fn,x2:sn+un,y2:fn,key:"line-".concat(gn),index:gn});return renderLineItem(pn,xn)});return React$1.createElement("g",{className:"recharts-cartesian-grid-horizontal"},hn)}function VerticalGridLines(tn){var sn=tn.y,un=tn.height,dn=tn.vertical,pn=dn===void 0?!0:dn,mn=tn.verticalPoints;if(!pn||!mn||!mn.length)return null;var hn=mn.map(function(fn,gn){var xn=_objectSpread$7(_objectSpread$7({},tn),{},{x1:fn,y1:sn,x2:fn,y2:sn+un,key:"line-".concat(gn),index:gn});return renderLineItem(pn,xn)});return React$1.createElement("g",{className:"recharts-cartesian-grid-vertical"},hn)}function HorizontalStripes(tn){var sn=tn.horizontalFill,un=tn.fillOpacity,dn=tn.x,pn=tn.y,mn=tn.width,hn=tn.height,fn=tn.horizontalPoints,gn=tn.horizontal,xn=gn===void 0?!0:gn;if(!xn||!sn||!sn.length)return null;var yn=fn.map(function(En){return Math.round(En+pn-pn)}).sort(function(En,bn){return En-bn});pn!==yn[0]&&yn.unshift(0);var vn=yn.map(function(En,bn){var wn=!yn[bn+1],Sn=wn?pn+hn-En:yn[bn+1]-En;if(Sn<=0)return null;var Rn=bn%sn.length;return React$1.createElement("rect",{key:"react-".concat(bn),y:En,x:dn,height:Sn,width:mn,stroke:"none",fill:sn[Rn],fillOpacity:un,className:"recharts-cartesian-grid-bg"})});return React$1.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},vn)}function VerticalStripes(tn){var sn=tn.vertical,un=sn===void 0?!0:sn,dn=tn.verticalFill,pn=tn.fillOpacity,mn=tn.x,hn=tn.y,fn=tn.width,gn=tn.height,xn=tn.verticalPoints;if(!un||!dn||!dn.length)return null;var yn=xn.map(function(En){return Math.round(En+mn-mn)}).sort(function(En,bn){return En-bn});mn!==yn[0]&&yn.unshift(0);var vn=yn.map(function(En,bn){var wn=!yn[bn+1],Sn=wn?mn+fn-En:yn[bn+1]-En;if(Sn<=0)return null;var Rn=bn%dn.length;return React$1.createElement("rect",{key:"react-".concat(bn),x:En,y:hn,width:Sn,height:gn,stroke:"none",fill:dn[Rn],fillOpacity:pn,className:"recharts-cartesian-grid-bg"})});return React$1.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},vn)}var defaultVerticalCoordinatesGenerator=function tn(sn,un){var dn=sn.xAxis,pn=sn.width,mn=sn.height,hn=sn.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$7(_objectSpread$7(_objectSpread$7({},CartesianAxis.defaultProps),dn),{},{ticks:getTicksOfAxis(dn,!0),viewBox:{x:0,y:0,width:pn,height:mn}})),hn.left,hn.left+hn.width,un)},defaultHorizontalCoordinatesGenerator=function tn(sn,un){var dn=sn.yAxis,pn=sn.width,mn=sn.height,hn=sn.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$7(_objectSpread$7(_objectSpread$7({},CartesianAxis.defaultProps),dn),{},{ticks:getTicksOfAxis(dn,!0),viewBox:{x:0,y:0,width:pn,height:mn}})),hn.top,hn.top+hn.height,un)},defaultProps$2={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(tn){var sn,un,dn,pn,mn,hn,fn=useChartWidth(),gn=useChartHeight(),xn=useOffset(),yn=_objectSpread$7(_objectSpread$7({},tn),{},{stroke:(sn=tn.stroke)!==null&&sn!==void 0?sn:defaultProps$2.stroke,fill:(un=tn.fill)!==null&&un!==void 0?un:defaultProps$2.fill,horizontal:(dn=tn.horizontal)!==null&&dn!==void 0?dn:defaultProps$2.horizontal,horizontalFill:(pn=tn.horizontalFill)!==null&&pn!==void 0?pn:defaultProps$2.horizontalFill,vertical:(mn=tn.vertical)!==null&&mn!==void 0?mn:defaultProps$2.vertical,verticalFill:(hn=tn.verticalFill)!==null&&hn!==void 0?hn:defaultProps$2.verticalFill,x:isNumber$1(tn.x)?tn.x:xn.left,y:isNumber$1(tn.y)?tn.y:xn.top,width:isNumber$1(tn.width)?tn.width:xn.width,height:isNumber$1(tn.height)?tn.height:xn.height}),vn=yn.x,En=yn.y,bn=yn.width,wn=yn.height,Sn=yn.syncWithTicks,Rn=yn.horizontalValues,_n=yn.verticalValues,jn=useArbitraryXAxis(),Cn=useYAxisWithFiniteDomainOrRandom();if(!isNumber$1(bn)||bn<=0||!isNumber$1(wn)||wn<=0||!isNumber$1(vn)||vn!==+vn||!isNumber$1(En)||En!==+En)return null;var An=yn.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Tn=yn.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,$n=yn.horizontalPoints,Dn=yn.verticalPoints;if((!$n||!$n.length)&&isFunction$5(Tn)){var Nn=Rn&&Rn.length,kn=Tn({yAxis:Cn?_objectSpread$7(_objectSpread$7({},Cn),{},{ticks:Nn?Rn:Cn.ticks}):void 0,width:fn,height:gn,offset:xn},Nn?!0:Sn);warn(Array.isArray(kn),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$8(kn),"]")),Array.isArray(kn)&&($n=kn)}if((!Dn||!Dn.length)&&isFunction$5(An)){var Pn=_n&&_n.length,Mn=An({xAxis:jn?_objectSpread$7(_objectSpread$7({},jn),{},{ticks:Pn?_n:jn.ticks}):void 0,width:fn,height:gn,offset:xn},Pn?!0:Sn);warn(Array.isArray(Mn),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$8(Mn),"]")),Array.isArray(Mn)&&(Dn=Mn)}return React$1.createElement("g",{className:"recharts-cartesian-grid"},React$1.createElement(Background,{fill:yn.fill,fillOpacity:yn.fillOpacity,x:yn.x,y:yn.y,width:yn.width,height:yn.height,ry:yn.ry}),React$1.createElement(HorizontalGridLines,_extends$6({},yn,{offset:xn,horizontalPoints:$n,xAxis:jn,yAxis:Cn})),React$1.createElement(VerticalGridLines,_extends$6({},yn,{offset:xn,verticalPoints:Dn,xAxis:jn,yAxis:Cn})),React$1.createElement(HorizontalStripes,_extends$6({},yn,{horizontalPoints:$n})),React$1.createElement(VerticalStripes,_extends$6({},yn,{verticalPoints:Dn})))}CartesianGrid.displayName="CartesianGrid";var _excluded$5=["type","layout","connectNulls","ref"],_excluded2$3=["key"];function _typeof$7(tn){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$7(tn)}function _objectWithoutProperties$3(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$4(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$4(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$5.apply(this,arguments)}function ownKeys$6(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$6(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$6(Object(un),!0).forEach(function(dn){_defineProperty$9(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$6(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _toConsumableArray$5(tn){return _arrayWithoutHoles$5(tn)||_iterableToArray$5(tn)||_unsupportedIterableToArray$8(tn)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$8(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$8(tn,sn)}}function _iterableToArray$5(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$5(tn){if(Array.isArray(tn))return _arrayLikeToArray$8(tn)}function _arrayLikeToArray$8(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _classCallCheck$6(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$6(dn.key),dn)}}function _createClass$6(tn,sn,un){return sn&&_defineProperties$6(tn.prototype,sn),un&&_defineProperties$6(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$4(tn,sn,un){return sn=_getPrototypeOf$5(sn),_possibleConstructorReturn$5(tn,_isNativeReflectConstruct$5()?Reflect.construct(sn,un||[],_getPrototypeOf$5(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$5(tn,sn){if(sn&&(_typeof$7(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(tn)}function _assertThisInitialized$5(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$5(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!tn})()}function _getPrototypeOf$5(tn){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$5(tn)}function _inherits$5(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$5(tn,sn)}function _setPrototypeOf$5(tn,sn){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$5(tn,sn)}function _defineProperty$9(tn,sn,un){return sn=_toPropertyKey$6(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$6(tn){var sn=_toPrimitive$6(tn,"string");return _typeof$7(sn)=="symbol"?sn:sn+""}function _toPrimitive$6(tn,sn){if(_typeof$7(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$7(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var Line=function(tn){function sn(){var un;_classCallCheck$6(this,sn);for(var dn=arguments.length,pn=new Array(dn),mn=0;mn<dn;mn++)pn[mn]=arguments[mn];return un=_callSuper$4(this,sn,[].concat(pn)),_defineProperty$9(un,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$9(un,"generateSimpleStrokeDasharray",function(hn,fn){return"".concat(fn,"px ").concat(hn-fn,"px")}),_defineProperty$9(un,"getStrokeDasharray",function(hn,fn,gn){var xn=gn.reduce(function(_n,jn){return _n+jn});if(!xn)return un.generateSimpleStrokeDasharray(fn,hn);for(var yn=Math.floor(hn/xn),vn=hn%xn,En=fn-hn,bn=[],wn=0,Sn=0;wn<gn.length;Sn+=gn[wn],++wn)if(Sn+gn[wn]>vn){bn=[].concat(_toConsumableArray$5(gn.slice(0,wn)),[vn-Sn]);break}var Rn=bn.length%2===0?[0,En]:[En];return[].concat(_toConsumableArray$5(sn.repeat(gn,yn)),_toConsumableArray$5(bn),Rn).map(function(_n){return"".concat(_n,"px")}).join(", ")}),_defineProperty$9(un,"id",uniqueId("recharts-line-")),_defineProperty$9(un,"pathRef",function(hn){un.mainCurve=hn}),_defineProperty$9(un,"handleAnimationEnd",function(){un.setState({isAnimationFinished:!0}),un.props.onAnimationEnd&&un.props.onAnimationEnd()}),_defineProperty$9(un,"handleAnimationStart",function(){un.setState({isAnimationFinished:!1}),un.props.onAnimationStart&&un.props.onAnimationStart()}),un}return _inherits$5(sn,tn),_createClass$6(sn,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var dn=this.getTotalLength();this.setState({totalLength:dn})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var dn=this.getTotalLength();dn!==this.state.totalLength&&this.setState({totalLength:dn})}}},{key:"getTotalLength",value:function(){var dn=this.mainCurve;try{return dn&&dn.getTotalLength&&dn.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(dn,pn){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var mn=this.props,hn=mn.points,fn=mn.xAxis,gn=mn.yAxis,xn=mn.layout,yn=mn.children,vn=findAllByType(yn,ErrorBar);if(!vn)return null;var En=function(Sn,Rn){return{x:Sn.x,y:Sn.y,value:Sn.value,errorVal:getValueByDataKey(Sn.payload,Rn)}},bn={clipPath:dn?"url(#clipPath-".concat(pn,")"):null};return React$1.createElement(Layer,bn,vn.map(function(wn){return React$1.cloneElement(wn,{key:"bar-".concat(wn.props.dataKey),data:hn,xAxis:fn,yAxis:gn,layout:xn,dataPointFormatter:En})}))}},{key:"renderDots",value:function(dn,pn,mn){var hn=this.props.isAnimationActive;if(hn&&!this.state.isAnimationFinished)return null;var fn=this.props,gn=fn.dot,xn=fn.points,yn=fn.dataKey,vn=filterProps$1(this.props,!1),En=filterProps$1(gn,!0),bn=xn.map(function(Sn,Rn){var _n=_objectSpread$6(_objectSpread$6(_objectSpread$6({key:"dot-".concat(Rn),r:3},vn),En),{},{index:Rn,cx:Sn.x,cy:Sn.y,value:Sn.value,dataKey:yn,payload:Sn.payload,points:xn});return sn.renderDotItem(gn,_n)}),wn={clipPath:dn?"url(#clipPath-".concat(pn?"":"dots-").concat(mn,")"):null};return React$1.createElement(Layer,_extends$5({className:"recharts-line-dots",key:"dots"},wn),bn)}},{key:"renderCurveStatically",value:function(dn,pn,mn,hn){var fn=this.props,gn=fn.type,xn=fn.layout,yn=fn.connectNulls;fn.ref;var vn=_objectWithoutProperties$3(fn,_excluded$5),En=_objectSpread$6(_objectSpread$6(_objectSpread$6({},filterProps$1(vn,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:pn?"url(#clipPath-".concat(mn,")"):null,points:dn},hn),{},{type:gn,layout:xn,connectNulls:yn});return React$1.createElement(Curve,_extends$5({},En,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(dn,pn){var mn=this,hn=this.props,fn=hn.points,gn=hn.strokeDasharray,xn=hn.isAnimationActive,yn=hn.animationBegin,vn=hn.animationDuration,En=hn.animationEasing,bn=hn.animationId,wn=hn.animateNewValues,Sn=hn.width,Rn=hn.height,_n=this.state,jn=_n.prevPoints,Cn=_n.totalLength;return React$1.createElement(Animate,{begin:yn,duration:vn,isActive:xn,easing:En,from:{t:0},to:{t:1},key:"line-".concat(bn),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(An){var Tn=An.t;if(jn){var $n=jn.length/fn.length,Dn=fn.map(function(On,Wn){var In=Math.floor(Wn*$n);if(jn[In]){var Un=jn[In],Vn=interpolateNumber$2(Un.x,On.x),Hn=interpolateNumber$2(Un.y,On.y);return _objectSpread$6(_objectSpread$6({},On),{},{x:Vn(Tn),y:Hn(Tn)})}if(wn){var Ln=interpolateNumber$2(Sn*2,On.x),zn=interpolateNumber$2(Rn/2,On.y);return _objectSpread$6(_objectSpread$6({},On),{},{x:Ln(Tn),y:zn(Tn)})}return _objectSpread$6(_objectSpread$6({},On),{},{x:On.x,y:On.y})});return mn.renderCurveStatically(Dn,dn,pn)}var Nn=interpolateNumber$2(0,Cn),kn=Nn(Tn),Pn;if(gn){var Mn="".concat(gn).split(/[,\s]+/gim).map(function(On){return parseFloat(On)});Pn=mn.getStrokeDasharray(kn,Cn,Mn)}else Pn=mn.generateSimpleStrokeDasharray(Cn,kn);return mn.renderCurveStatically(fn,dn,pn,{strokeDasharray:Pn})})}},{key:"renderCurve",value:function(dn,pn){var mn=this.props,hn=mn.points,fn=mn.isAnimationActive,gn=this.state,xn=gn.prevPoints,yn=gn.totalLength;return fn&&hn&&hn.length&&(!xn&&yn>0||!isEqual$4(xn,hn))?this.renderCurveWithAnimation(dn,pn):this.renderCurveStatically(hn,dn,pn)}},{key:"render",value:function(){var dn,pn=this.props,mn=pn.hide,hn=pn.dot,fn=pn.points,gn=pn.className,xn=pn.xAxis,yn=pn.yAxis,vn=pn.top,En=pn.left,bn=pn.width,wn=pn.height,Sn=pn.isAnimationActive,Rn=pn.id;if(mn||!fn||!fn.length)return null;var _n=this.state.isAnimationFinished,jn=fn.length===1,Cn=clsx("recharts-line",gn),An=xn&&xn.allowDataOverflow,Tn=yn&&yn.allowDataOverflow,$n=An||Tn,Dn=isNil$1(Rn)?this.id:Rn,Nn=(dn=filterProps$1(hn,!1))!==null&&dn!==void 0?dn:{r:3,strokeWidth:2},kn=Nn.r,Pn=kn===void 0?3:kn,Mn=Nn.strokeWidth,On=Mn===void 0?2:Mn,Wn=hasClipDot(hn)?hn:{},In=Wn.clipDot,Un=In===void 0?!0:In,Vn=Pn*2+On;return React$1.createElement(Layer,{className:Cn},An||Tn?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat(Dn)},React$1.createElement("rect",{x:An?En:En-bn/2,y:Tn?vn:vn-wn/2,width:An?bn:bn*2,height:Tn?wn:wn*2})),!Un&&React$1.createElement("clipPath",{id:"clipPath-dots-".concat(Dn)},React$1.createElement("rect",{x:En-Vn/2,y:vn-Vn/2,width:bn+Vn,height:wn+Vn}))):null,!jn&&this.renderCurve($n,Dn),this.renderErrorBar($n,Dn),(jn||hn)&&this.renderDots($n,Un,Dn),(!Sn||_n)&&LabelList.renderCallByParent(this.props,fn))}}],[{key:"getDerivedStateFromProps",value:function(dn,pn){return dn.animationId!==pn.prevAnimationId?{prevAnimationId:dn.animationId,curPoints:dn.points,prevPoints:pn.curPoints}:dn.points!==pn.curPoints?{curPoints:dn.points}:null}},{key:"repeat",value:function(dn,pn){for(var mn=dn.length%2!==0?[].concat(_toConsumableArray$5(dn),[0]):dn,hn=[],fn=0;fn<pn;++fn)hn=[].concat(_toConsumableArray$5(hn),_toConsumableArray$5(mn));return hn}},{key:"renderDotItem",value:function(dn,pn){var mn;if(React$1.isValidElement(dn))mn=React$1.cloneElement(dn,pn);else if(isFunction$5(dn))mn=dn(pn);else{var hn=pn.key,fn=_objectWithoutProperties$3(pn,_excluded2$3),gn=clsx("recharts-line-dot",typeof dn!="boolean"?dn.className:"");mn=React$1.createElement(Dot,_extends$5({key:hn},fn,{className:gn}))}return mn}}])}(reactExports.PureComponent);_defineProperty$9(Line,"displayName","Line");_defineProperty$9(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$9(Line,"getComposedData",function(tn){var sn=tn.props,un=tn.xAxis,dn=tn.yAxis,pn=tn.xAxisTicks,mn=tn.yAxisTicks,hn=tn.dataKey,fn=tn.bandSize,gn=tn.displayedData,xn=tn.offset,yn=sn.layout,vn=gn.map(function(En,bn){var wn=getValueByDataKey(En,hn);return yn==="horizontal"?{x:getCateCoordinateOfLine({axis:un,ticks:pn,bandSize:fn,entry:En,index:bn}),y:isNil$1(wn)?null:dn.scale(wn),value:wn,payload:En}:{x:isNil$1(wn)?null:un.scale(wn),y:getCateCoordinateOfLine({axis:dn,ticks:mn,bandSize:fn,entry:En,index:bn}),value:wn,payload:En}});return _objectSpread$6({points:vn,layout:yn},xn)});var _excluded$4=["layout","type","stroke","connectNulls","isRange","ref"],_excluded2$2=["key"],_Area;function _typeof$6(tn){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$6(tn)}function _objectWithoutProperties$2(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$3(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$3(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$4.apply(this,arguments)}function ownKeys$5(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$5(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$5(Object(un),!0).forEach(function(dn){_defineProperty$8(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$5(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _classCallCheck$5(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$5(dn.key),dn)}}function _createClass$5(tn,sn,un){return sn&&_defineProperties$5(tn.prototype,sn),un&&_defineProperties$5(tn,un),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$3(tn,sn,un){return sn=_getPrototypeOf$4(sn),_possibleConstructorReturn$4(tn,_isNativeReflectConstruct$4()?Reflect.construct(sn,un||[],_getPrototypeOf$4(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$4(tn,sn){if(sn&&(_typeof$6(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(tn)}function _assertThisInitialized$4(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$4(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!tn})()}function _getPrototypeOf$4(tn){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$4(tn)}function _inherits$4(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$4(tn,sn)}function _setPrototypeOf$4(tn,sn){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$4(tn,sn)}function _defineProperty$8(tn,sn,un){return sn=_toPropertyKey$5(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$5(tn){var sn=_toPrimitive$5(tn,"string");return _typeof$6(sn)=="symbol"?sn:sn+""}function _toPrimitive$5(tn,sn){if(_typeof$6(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$6(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var Area=function(tn){function sn(){var un;_classCallCheck$5(this,sn);for(var dn=arguments.length,pn=new Array(dn),mn=0;mn<dn;mn++)pn[mn]=arguments[mn];return un=_callSuper$3(this,sn,[].concat(pn)),_defineProperty$8(un,"state",{isAnimationFinished:!0}),_defineProperty$8(un,"id",uniqueId("recharts-area-")),_defineProperty$8(un,"handleAnimationEnd",function(){var hn=un.props.onAnimationEnd;un.setState({isAnimationFinished:!0}),isFunction$5(hn)&&hn()}),_defineProperty$8(un,"handleAnimationStart",function(){var hn=un.props.onAnimationStart;un.setState({isAnimationFinished:!1}),isFunction$5(hn)&&hn()}),un}return _inherits$4(sn,tn),_createClass$5(sn,[{key:"renderDots",value:function(dn,pn,mn){var hn=this.props.isAnimationActive,fn=this.state.isAnimationFinished;if(hn&&!fn)return null;var gn=this.props,xn=gn.dot,yn=gn.points,vn=gn.dataKey,En=filterProps$1(this.props,!1),bn=filterProps$1(xn,!0),wn=yn.map(function(Rn,_n){var jn=_objectSpread$5(_objectSpread$5(_objectSpread$5({key:"dot-".concat(_n),r:3},En),bn),{},{index:_n,cx:Rn.x,cy:Rn.y,dataKey:vn,value:Rn.value,payload:Rn.payload,points:yn});return sn.renderDotItem(xn,jn)}),Sn={clipPath:dn?"url(#clipPath-".concat(pn?"":"dots-").concat(mn,")"):null};return React$1.createElement(Layer,_extends$4({className:"recharts-area-dots"},Sn),wn)}},{key:"renderHorizontalRect",value:function(dn){var pn=this.props,mn=pn.baseLine,hn=pn.points,fn=pn.strokeWidth,gn=hn[0].x,xn=hn[hn.length-1].x,yn=dn*Math.abs(gn-xn),vn=max$2(hn.map(function(En){return En.y||0}));return isNumber$1(mn)&&typeof mn=="number"?vn=Math.max(mn,vn):mn&&Array.isArray(mn)&&mn.length&&(vn=Math.max(max$2(mn.map(function(En){return En.y||0})),vn)),isNumber$1(vn)?React$1.createElement("rect",{x:gn<xn?gn:gn-yn,y:0,width:yn,height:Math.floor(vn+(fn?parseInt("".concat(fn),10):1))}):null}},{key:"renderVerticalRect",value:function(dn){var pn=this.props,mn=pn.baseLine,hn=pn.points,fn=pn.strokeWidth,gn=hn[0].y,xn=hn[hn.length-1].y,yn=dn*Math.abs(gn-xn),vn=max$2(hn.map(function(En){return En.x||0}));return isNumber$1(mn)&&typeof mn=="number"?vn=Math.max(mn,vn):mn&&Array.isArray(mn)&&mn.length&&(vn=Math.max(max$2(mn.map(function(En){return En.x||0})),vn)),isNumber$1(vn)?React$1.createElement("rect",{x:0,y:gn<xn?gn:gn-yn,width:vn+(fn?parseInt("".concat(fn),10):1),height:Math.floor(yn)}):null}},{key:"renderClipRect",value:function(dn){var pn=this.props.layout;return pn==="vertical"?this.renderVerticalRect(dn):this.renderHorizontalRect(dn)}},{key:"renderAreaStatically",value:function(dn,pn,mn,hn){var fn=this.props,gn=fn.layout,xn=fn.type,yn=fn.stroke,vn=fn.connectNulls,En=fn.isRange;fn.ref;var bn=_objectWithoutProperties$2(fn,_excluded$4);return React$1.createElement(Layer,{clipPath:mn?"url(#clipPath-".concat(hn,")"):null},React$1.createElement(Curve,_extends$4({},filterProps$1(bn,!0),{points:dn,connectNulls:vn,type:xn,baseLine:pn,layout:gn,stroke:"none",className:"recharts-area-area"})),yn!=="none"&&React$1.createElement(Curve,_extends$4({},filterProps$1(this.props,!1),{className:"recharts-area-curve",layout:gn,type:xn,connectNulls:vn,fill:"none",points:dn})),yn!=="none"&&En&&React$1.createElement(Curve,_extends$4({},filterProps$1(this.props,!1),{className:"recharts-area-curve",layout:gn,type:xn,connectNulls:vn,fill:"none",points:pn})))}},{key:"renderAreaWithAnimation",value:function(dn,pn){var mn=this,hn=this.props,fn=hn.points,gn=hn.baseLine,xn=hn.isAnimationActive,yn=hn.animationBegin,vn=hn.animationDuration,En=hn.animationEasing,bn=hn.animationId,wn=this.state,Sn=wn.prevPoints,Rn=wn.prevBaseLine;return React$1.createElement(Animate,{begin:yn,duration:vn,isActive:xn,easing:En,from:{t:0},to:{t:1},key:"area-".concat(bn),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_n){var jn=_n.t;if(Sn){var Cn=Sn.length/fn.length,An=fn.map(function(Nn,kn){var Pn=Math.floor(kn*Cn);if(Sn[Pn]){var Mn=Sn[Pn],On=interpolateNumber$2(Mn.x,Nn.x),Wn=interpolateNumber$2(Mn.y,Nn.y);return _objectSpread$5(_objectSpread$5({},Nn),{},{x:On(jn),y:Wn(jn)})}return Nn}),Tn;if(isNumber$1(gn)&&typeof gn=="number"){var $n=interpolateNumber$2(Rn,gn);Tn=$n(jn)}else if(isNil$1(gn)||isNan(gn)){var Dn=interpolateNumber$2(Rn,0);Tn=Dn(jn)}else Tn=gn.map(function(Nn,kn){var Pn=Math.floor(kn*Cn);if(Rn[Pn]){var Mn=Rn[Pn],On=interpolateNumber$2(Mn.x,Nn.x),Wn=interpolateNumber$2(Mn.y,Nn.y);return _objectSpread$5(_objectSpread$5({},Nn),{},{x:On(jn),y:Wn(jn)})}return Nn});return mn.renderAreaStatically(An,Tn,dn,pn)}return React$1.createElement(Layer,null,React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"animationClipPath-".concat(pn)},mn.renderClipRect(jn))),React$1.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(pn,")")},mn.renderAreaStatically(fn,gn,dn,pn)))})}},{key:"renderArea",value:function(dn,pn){var mn=this.props,hn=mn.points,fn=mn.baseLine,gn=mn.isAnimationActive,xn=this.state,yn=xn.prevPoints,vn=xn.prevBaseLine,En=xn.totalLength;return gn&&hn&&hn.length&&(!yn&&En>0||!isEqual$4(yn,hn)||!isEqual$4(vn,fn))?this.renderAreaWithAnimation(dn,pn):this.renderAreaStatically(hn,fn,dn,pn)}},{key:"render",value:function(){var dn,pn=this.props,mn=pn.hide,hn=pn.dot,fn=pn.points,gn=pn.className,xn=pn.top,yn=pn.left,vn=pn.xAxis,En=pn.yAxis,bn=pn.width,wn=pn.height,Sn=pn.isAnimationActive,Rn=pn.id;if(mn||!fn||!fn.length)return null;var _n=this.state.isAnimationFinished,jn=fn.length===1,Cn=clsx("recharts-area",gn),An=vn&&vn.allowDataOverflow,Tn=En&&En.allowDataOverflow,$n=An||Tn,Dn=isNil$1(Rn)?this.id:Rn,Nn=(dn=filterProps$1(hn,!1))!==null&&dn!==void 0?dn:{r:3,strokeWidth:2},kn=Nn.r,Pn=kn===void 0?3:kn,Mn=Nn.strokeWidth,On=Mn===void 0?2:Mn,Wn=hasClipDot(hn)?hn:{},In=Wn.clipDot,Un=In===void 0?!0:In,Vn=Pn*2+On;return React$1.createElement(Layer,{className:Cn},An||Tn?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat(Dn)},React$1.createElement("rect",{x:An?yn:yn-bn/2,y:Tn?xn:xn-wn/2,width:An?bn:bn*2,height:Tn?wn:wn*2})),!Un&&React$1.createElement("clipPath",{id:"clipPath-dots-".concat(Dn)},React$1.createElement("rect",{x:yn-Vn/2,y:xn-Vn/2,width:bn+Vn,height:wn+Vn}))):null,jn?null:this.renderArea($n,Dn),(hn||jn)&&this.renderDots($n,Un,Dn),(!Sn||_n)&&LabelList.renderCallByParent(this.props,fn))}}],[{key:"getDerivedStateFromProps",value:function(dn,pn){return dn.animationId!==pn.prevAnimationId?{prevAnimationId:dn.animationId,curPoints:dn.points,curBaseLine:dn.baseLine,prevPoints:pn.curPoints,prevBaseLine:pn.curBaseLine}:dn.points!==pn.curPoints||dn.baseLine!==pn.curBaseLine?{curPoints:dn.points,curBaseLine:dn.baseLine}:null}}])}(reactExports.PureComponent);_Area=Area;_defineProperty$8(Area,"displayName","Area");_defineProperty$8(Area,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$8(Area,"getBaseValue",function(tn,sn,un,dn){var pn=tn.layout,mn=tn.baseValue,hn=sn.props.baseValue,fn=hn??mn;if(isNumber$1(fn)&&typeof fn=="number")return fn;var gn=pn==="horizontal"?dn:un,xn=gn.scale.domain();if(gn.type==="number"){var yn=Math.max(xn[0],xn[1]),vn=Math.min(xn[0],xn[1]);return fn==="dataMin"?vn:fn==="dataMax"||yn<0?yn:Math.max(Math.min(xn[0],xn[1]),0)}return fn==="dataMin"?xn[0]:fn==="dataMax"?xn[1]:xn[0]});_defineProperty$8(Area,"getComposedData",function(tn){var sn=tn.props,un=tn.item,dn=tn.xAxis,pn=tn.yAxis,mn=tn.xAxisTicks,hn=tn.yAxisTicks,fn=tn.bandSize,gn=tn.dataKey,xn=tn.stackedData,yn=tn.dataStartIndex,vn=tn.displayedData,En=tn.offset,bn=sn.layout,wn=xn&&xn.length,Sn=_Area.getBaseValue(sn,un,dn,pn),Rn=bn==="horizontal",_n=!1,jn=vn.map(function(An,Tn){var $n;wn?$n=xn[yn+Tn]:($n=getValueByDataKey(An,gn),Array.isArray($n)?_n=!0:$n=[Sn,$n]);var Dn=$n[1]==null||wn&&getValueByDataKey(An,gn)==null;return Rn?{x:getCateCoordinateOfLine({axis:dn,ticks:mn,bandSize:fn,entry:An,index:Tn}),y:Dn?null:pn.scale($n[1]),value:$n,payload:An}:{x:Dn?null:dn.scale($n[1]),y:getCateCoordinateOfLine({axis:pn,ticks:hn,bandSize:fn,entry:An,index:Tn}),value:$n,payload:An}}),Cn;return wn||_n?Cn=jn.map(function(An){var Tn=Array.isArray(An.value)?An.value[0]:null;return Rn?{x:An.x,y:Tn!=null&&An.y!=null?pn.scale(Tn):null}:{x:Tn!=null?dn.scale(Tn):null,y:An.y}}):Cn=Rn?pn.scale(Sn):dn.scale(Sn),_objectSpread$5({points:jn,baseLine:Cn,layout:bn,isRange:_n},En)});_defineProperty$8(Area,"renderDotItem",function(tn,sn){var un;if(React$1.isValidElement(tn))un=React$1.cloneElement(tn,sn);else if(isFunction$5(tn))un=tn(sn);else{var dn=clsx("recharts-area-dot",typeof tn!="boolean"?tn.className:""),pn=sn.key,mn=_objectWithoutProperties$2(sn,_excluded2$2);un=React$1.createElement(Dot,_extends$4({},mn,{key:pn,className:dn}))}return un});function _typeof$5(tn){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$5(tn)}function _classCallCheck$4(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$4(dn.key),dn)}}function _createClass$4(tn,sn,un){return sn&&_defineProperties$4(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$2(tn,sn,un){return sn=_getPrototypeOf$3(sn),_possibleConstructorReturn$3(tn,_isNativeReflectConstruct$3()?Reflect.construct(sn,un||[],_getPrototypeOf$3(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$3(tn,sn){if(sn&&(_typeof$5(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(tn)}function _assertThisInitialized$3(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$3(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!tn})()}function _getPrototypeOf$3(tn){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$3(tn)}function _inherits$3(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$3(tn,sn)}function _setPrototypeOf$3(tn,sn){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$3(tn,sn)}function _defineProperty$7(tn,sn,un){return sn=_toPropertyKey$4(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$4(tn){var sn=_toPrimitive$4(tn,"string");return _typeof$5(sn)=="symbol"?sn:sn+""}function _toPrimitive$4(tn,sn){if(_typeof$5(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$5(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$3.apply(this,arguments)}function XAxisImpl(tn){var sn=tn.xAxisId,un=useChartWidth(),dn=useChartHeight(),pn=useXAxisOrThrow(sn);return pn==null?null:reactExports.createElement(CartesianAxis,_extends$3({},pn,{className:clsx("recharts-".concat(pn.axisType," ").concat(pn.axisType),pn.className),viewBox:{x:0,y:0,width:un,height:dn},ticksGenerator:function(hn){return getTicksOfAxis(hn,!0)}}))}var XAxis=function(tn){function sn(){return _classCallCheck$4(this,sn),_callSuper$2(this,sn,arguments)}return _inherits$3(sn,tn),_createClass$4(sn,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$7(XAxis,"displayName","XAxis");_defineProperty$7(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$4(tn){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$4(tn)}function _classCallCheck$3(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$3(dn.key),dn)}}function _createClass$3(tn,sn,un){return sn&&_defineProperties$3(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper$1(tn,sn,un){return sn=_getPrototypeOf$2(sn),_possibleConstructorReturn$2(tn,_isNativeReflectConstruct$2()?Reflect.construct(sn,un||[],_getPrototypeOf$2(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$2(tn,sn){if(sn&&(_typeof$4(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(tn)}function _assertThisInitialized$2(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$2(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!tn})()}function _getPrototypeOf$2(tn){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$2(tn)}function _inherits$2(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$2(tn,sn)}function _setPrototypeOf$2(tn,sn){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$2(tn,sn)}function _defineProperty$6(tn,sn,un){return sn=_toPropertyKey$3(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$3(tn){var sn=_toPrimitive$3(tn,"string");return _typeof$4(sn)=="symbol"?sn:sn+""}function _toPrimitive$3(tn,sn){if(_typeof$4(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$4(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$2.apply(this,arguments)}var YAxisImpl=function tn(sn){var un=sn.yAxisId,dn=useChartWidth(),pn=useChartHeight(),mn=useYAxisOrThrow(un);return mn==null?null:reactExports.createElement(CartesianAxis,_extends$2({},mn,{className:clsx("recharts-".concat(mn.axisType," ").concat(mn.axisType),mn.className),viewBox:{x:0,y:0,width:dn,height:pn},ticksGenerator:function(fn){return getTicksOfAxis(fn,!0)}}))},YAxis=function(tn){function sn(){return _classCallCheck$3(this,sn),_callSuper$1(this,sn,arguments)}return _inherits$2(sn,tn),_createClass$3(sn,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$6(YAxis,"displayName","YAxis");_defineProperty$6(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$4(tn){return _arrayWithoutHoles$4(tn)||_iterableToArray$4(tn)||_unsupportedIterableToArray$7(tn)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$7(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$7(tn,sn)}}function _iterableToArray$4(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$4(tn){if(Array.isArray(tn))return _arrayLikeToArray$7(tn)}function _arrayLikeToArray$7(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}var detectReferenceElementsDomain=function tn(sn,un,dn,pn,mn){var hn=findAllByType(sn,ReferenceLine),fn=findAllByType(sn,ReferenceDot),gn=[].concat(_toConsumableArray$4(hn),_toConsumableArray$4(fn)),xn=findAllByType(sn,ReferenceArea),yn="".concat(pn,"Id"),vn=pn[0],En=un;if(gn.length&&(En=gn.reduce(function(Sn,Rn){if(Rn.props[yn]===dn&&ifOverflowMatches(Rn.props,"extendDomain")&&isNumber$1(Rn.props[vn])){var _n=Rn.props[vn];return[Math.min(Sn[0],_n),Math.max(Sn[1],_n)]}return Sn},En)),xn.length){var bn="".concat(vn,"1"),wn="".concat(vn,"2");En=xn.reduce(function(Sn,Rn){if(Rn.props[yn]===dn&&ifOverflowMatches(Rn.props,"extendDomain")&&isNumber$1(Rn.props[bn])&&isNumber$1(Rn.props[wn])){var _n=Rn.props[bn],jn=Rn.props[wn];return[Math.min(Sn[0],_n,jn),Math.max(Sn[1],_n,jn)]}return Sn},En)}return mn&&mn.length&&(En=mn.reduce(function(Sn,Rn){return isNumber$1(Rn)?[Math.min(Sn[0],Rn),Math.max(Sn[1],Rn)]:Sn},En)),En},eventemitter3={exports:{}};(function(tn){var sn=Object.prototype.hasOwnProperty,un="~";function dn(){}Object.create&&(dn.prototype=Object.create(null),new dn().__proto__||(un=!1));function pn(gn,xn,yn){this.fn=gn,this.context=xn,this.once=yn||!1}function mn(gn,xn,yn,vn,En){if(typeof yn!="function")throw new TypeError("The listener must be a function");var bn=new pn(yn,vn||gn,En),wn=un?un+xn:xn;return gn._events[wn]?gn._events[wn].fn?gn._events[wn]=[gn._events[wn],bn]:gn._events[wn].push(bn):(gn._events[wn]=bn,gn._eventsCount++),gn}function hn(gn,xn){--gn._eventsCount===0?gn._events=new dn:delete gn._events[xn]}function fn(){this._events=new dn,this._eventsCount=0}fn.prototype.eventNames=function(){var xn=[],yn,vn;if(this._eventsCount===0)return xn;for(vn in yn=this._events)sn.call(yn,vn)&&xn.push(un?vn.slice(1):vn);return Object.getOwnPropertySymbols?xn.concat(Object.getOwnPropertySymbols(yn)):xn},fn.prototype.listeners=function(xn){var yn=un?un+xn:xn,vn=this._events[yn];if(!vn)return[];if(vn.fn)return[vn.fn];for(var En=0,bn=vn.length,wn=new Array(bn);En<bn;En++)wn[En]=vn[En].fn;return wn},fn.prototype.listenerCount=function(xn){var yn=un?un+xn:xn,vn=this._events[yn];return vn?vn.fn?1:vn.length:0},fn.prototype.emit=function(xn,yn,vn,En,bn,wn){var Sn=un?un+xn:xn;if(!this._events[Sn])return!1;var Rn=this._events[Sn],_n=arguments.length,jn,Cn;if(Rn.fn){switch(Rn.once&&this.removeListener(xn,Rn.fn,void 0,!0),_n){case 1:return Rn.fn.call(Rn.context),!0;case 2:return Rn.fn.call(Rn.context,yn),!0;case 3:return Rn.fn.call(Rn.context,yn,vn),!0;case 4:return Rn.fn.call(Rn.context,yn,vn,En),!0;case 5:return Rn.fn.call(Rn.context,yn,vn,En,bn),!0;case 6:return Rn.fn.call(Rn.context,yn,vn,En,bn,wn),!0}for(Cn=1,jn=new Array(_n-1);Cn<_n;Cn++)jn[Cn-1]=arguments[Cn];Rn.fn.apply(Rn.context,jn)}else{var An=Rn.length,Tn;for(Cn=0;Cn<An;Cn++)switch(Rn[Cn].once&&this.removeListener(xn,Rn[Cn].fn,void 0,!0),_n){case 1:Rn[Cn].fn.call(Rn[Cn].context);break;case 2:Rn[Cn].fn.call(Rn[Cn].context,yn);break;case 3:Rn[Cn].fn.call(Rn[Cn].context,yn,vn);break;case 4:Rn[Cn].fn.call(Rn[Cn].context,yn,vn,En);break;default:if(!jn)for(Tn=1,jn=new Array(_n-1);Tn<_n;Tn++)jn[Tn-1]=arguments[Tn];Rn[Cn].fn.apply(Rn[Cn].context,jn)}}return!0},fn.prototype.on=function(xn,yn,vn){return mn(this,xn,yn,vn,!1)},fn.prototype.once=function(xn,yn,vn){return mn(this,xn,yn,vn,!0)},fn.prototype.removeListener=function(xn,yn,vn,En){var bn=un?un+xn:xn;if(!this._events[bn])return this;if(!yn)return hn(this,bn),this;var wn=this._events[bn];if(wn.fn)wn.fn===yn&&(!En||wn.once)&&(!vn||wn.context===vn)&&hn(this,bn);else{for(var Sn=0,Rn=[],_n=wn.length;Sn<_n;Sn++)(wn[Sn].fn!==yn||En&&!wn[Sn].once||vn&&wn[Sn].context!==vn)&&Rn.push(wn[Sn]);Rn.length?this._events[bn]=Rn.length===1?Rn[0]:Rn:hn(this,bn)}return this},fn.prototype.removeAllListeners=function(xn){var yn;return xn?(yn=un?un+xn:xn,this._events[yn]&&hn(this,yn)):(this._events=new dn,this._eventsCount=0),this},fn.prototype.off=fn.prototype.removeListener,fn.prototype.addListener=fn.prototype.on,fn.prefixed=un,fn.EventEmitter=fn,tn.exports=fn})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter$1,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$3(tn){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$3(tn)}function _classCallCheck$2(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey$2(dn.key),dn)}}function _createClass$2(tn,sn,un){return sn&&_defineProperties$2(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _defineProperty$5(tn,sn,un){return sn=_toPropertyKey$2(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$2(tn){var sn=_toPrimitive$2(tn,"string");return _typeof$3(sn)=="symbol"?sn:sn+""}function _toPrimitive$2(tn,sn){if(_typeof$3(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$3(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tn)}var AccessibilityManager=function(){function tn(){_classCallCheck$2(this,tn),_defineProperty$5(this,"activeIndex",0),_defineProperty$5(this,"coordinateList",[]),_defineProperty$5(this,"layout","horizontal")}return _createClass$2(tn,[{key:"setDetails",value:function(un){var dn,pn=un.coordinateList,mn=pn===void 0?null:pn,hn=un.container,fn=hn===void 0?null:hn,gn=un.layout,xn=gn===void 0?null:gn,yn=un.offset,vn=yn===void 0?null:yn,En=un.mouseHandlerCallback,bn=En===void 0?null:En;this.coordinateList=(dn=mn??this.coordinateList)!==null&&dn!==void 0?dn:[],this.container=fn??this.container,this.layout=xn??this.layout,this.offset=vn??this.offset,this.mouseHandlerCallback=bn??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(un){if(this.coordinateList.length!==0)switch(un.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(un){this.activeIndex=un}},{key:"spoofMouse",value:function(){var un,dn;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var pn=this.container.getBoundingClientRect(),mn=pn.x,hn=pn.y,fn=pn.height,gn=this.coordinateList[this.activeIndex].coordinate,xn=((un=window)===null||un===void 0?void 0:un.scrollX)||0,yn=((dn=window)===null||dn===void 0?void 0:dn.scrollY)||0,vn=mn+gn+xn,En=hn+this.offset.top+fn/2+yn;this.mouseHandlerCallback({pageX:vn,pageY:En})}}}])}();function isDomainSpecifiedByUser(tn,sn,un){if(un==="number"&&sn===!0&&Array.isArray(tn)){var dn=tn==null?void 0:tn[0],pn=tn==null?void 0:tn[1];if(dn&&pn&&isNumber$1(dn)&&isNumber$1(pn))return!0}return!1}function getCursorRectangle(tn,sn,un,dn){var pn=dn/2;return{stroke:"none",fill:"#ccc",x:tn==="horizontal"?sn.x-pn:un.left+.5,y:tn==="horizontal"?un.top+.5:sn.y-pn,width:tn==="horizontal"?dn:un.width-1,height:tn==="horizontal"?un.height-1:dn}}function getRadialCursorPoints(tn){var sn=tn.cx,un=tn.cy,dn=tn.radius,pn=tn.startAngle,mn=tn.endAngle,hn=polarToCartesian(sn,un,dn,pn),fn=polarToCartesian(sn,un,dn,mn);return{points:[hn,fn],cx:sn,cy:un,radius:dn,startAngle:pn,endAngle:mn}}function getCursorPoints(tn,sn,un){var dn,pn,mn,hn;if(tn==="horizontal")dn=sn.x,mn=dn,pn=un.top,hn=un.top+un.height;else if(tn==="vertical")pn=sn.y,hn=pn,dn=un.left,mn=un.left+un.width;else if(sn.cx!=null&&sn.cy!=null)if(tn==="centric"){var fn=sn.cx,gn=sn.cy,xn=sn.innerRadius,yn=sn.outerRadius,vn=sn.angle,En=polarToCartesian(fn,gn,xn,vn),bn=polarToCartesian(fn,gn,yn,vn);dn=En.x,pn=En.y,mn=bn.x,hn=bn.y}else return getRadialCursorPoints(sn);return[{x:dn,y:pn},{x:mn,y:hn}]}function _typeof$2(tn){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$2(tn)}function ownKeys$4(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$4(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$4(Object(un),!0).forEach(function(dn){_defineProperty$4(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$4(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$4(tn,sn,un){return sn=_toPropertyKey$1(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey$1(tn){var sn=_toPrimitive$1(tn,"string");return _typeof$2(sn)=="symbol"?sn:sn+""}function _toPrimitive$1(tn,sn){if(_typeof$2(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$2(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}function Cursor(tn){var sn,un,dn=tn.element,pn=tn.tooltipEventType,mn=tn.isActive,hn=tn.activeCoordinate,fn=tn.activePayload,gn=tn.offset,xn=tn.activeTooltipIndex,yn=tn.tooltipAxisBandSize,vn=tn.layout,En=tn.chartName,bn=(sn=dn.props.cursor)!==null&&sn!==void 0?sn:(un=dn.type.defaultProps)===null||un===void 0?void 0:un.cursor;if(!dn||!bn||!mn||!hn||En!=="ScatterChart"&&pn!=="axis")return null;var wn,Sn=Curve;if(En==="ScatterChart")wn=hn,Sn=Cross;else if(En==="BarChart")wn=getCursorRectangle(vn,hn,gn,yn),Sn=Rectangle;else if(vn==="radial"){var Rn=getRadialCursorPoints(hn),_n=Rn.cx,jn=Rn.cy,Cn=Rn.radius,An=Rn.startAngle,Tn=Rn.endAngle;wn={cx:_n,cy:jn,startAngle:An,endAngle:Tn,innerRadius:Cn,outerRadius:Cn},Sn=Sector}else wn={points:getCursorPoints(vn,hn,gn)},Sn=Curve;var $n=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({stroke:"#ccc",pointerEvents:"none"},gn),wn),filterProps$1(bn,!1)),{},{payload:fn,payloadIndex:xn,className:clsx("recharts-tooltip-cursor",bn.className)});return reactExports.isValidElement(bn)?reactExports.cloneElement(bn,$n):reactExports.createElement(Sn,$n)}var _excluded$3=["item"],_excluded2$1=["children","className","width","height","style","compact","title","desc"];function _typeof$1(tn){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(sn){return typeof sn}:function(sn){return sn&&typeof Symbol=="function"&&sn.constructor===Symbol&&sn!==Symbol.prototype?"symbol":typeof sn},_typeof$1(tn)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends$1.apply(this,arguments)}function _slicedToArray$3(tn,sn){return _arrayWithHoles$3(tn)||_iterableToArrayLimit$3(tn,sn)||_unsupportedIterableToArray$6(tn,sn)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$3(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn,pn,mn,hn,fn=[],gn=!0,xn=!1;try{if(mn=(un=un.call(tn)).next,sn!==0)for(;!(gn=(dn=mn.call(un)).done)&&(fn.push(dn.value),fn.length!==sn);gn=!0);}catch(yn){xn=!0,pn=yn}finally{try{if(!gn&&un.return!=null&&(hn=un.return(),Object(hn)!==hn))return}finally{if(xn)throw pn}}return fn}}function _arrayWithHoles$3(tn){if(Array.isArray(tn))return tn}function _objectWithoutProperties$1(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose$2(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose$2(tn,sn){if(tn==null)return{};var un={};for(var dn in tn)if(Object.prototype.hasOwnProperty.call(tn,dn)){if(sn.indexOf(dn)>=0)continue;un[dn]=tn[dn]}return un}function _classCallCheck$1(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,_toPropertyKey(dn.key),dn)}}function _createClass$1(tn,sn,un){return sn&&_defineProperties$1(tn.prototype,sn),Object.defineProperty(tn,"prototype",{writable:!1}),tn}function _callSuper(tn,sn,un){return sn=_getPrototypeOf$1(sn),_possibleConstructorReturn$1(tn,_isNativeReflectConstruct$1()?Reflect.construct(sn,un||[],_getPrototypeOf$1(tn).constructor):sn.apply(tn,un))}function _possibleConstructorReturn$1(tn,sn){if(sn&&(_typeof$1(sn)==="object"||typeof sn=="function"))return sn;if(sn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(tn)}function _assertThisInitialized$1(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct$1(){try{var tn=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!tn})()}function _getPrototypeOf$1(tn){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf$1(tn)}function _inherits$1(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),Object.defineProperty(tn,"prototype",{writable:!1}),sn&&_setPrototypeOf$1(tn,sn)}function _setPrototypeOf$1(tn,sn){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf$1(tn,sn)}function _toConsumableArray$3(tn){return _arrayWithoutHoles$3(tn)||_iterableToArray$3(tn)||_unsupportedIterableToArray$6(tn)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$6(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$6(tn,sn)}}function _iterableToArray$3(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$3(tn){if(Array.isArray(tn))return _arrayLikeToArray$6(tn)}function _arrayLikeToArray$6(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function ownKeys$3(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$3(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$3(Object(un),!0).forEach(function(dn){_defineProperty$3(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$3(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$3(tn,sn,un){return sn=_toPropertyKey(sn),sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _toPropertyKey(tn){var sn=_toPrimitive(tn,"string");return _typeof$1(sn)=="symbol"?sn:sn+""}function _toPrimitive(tn,sn){if(_typeof$1(tn)!="object"||!tn)return tn;var un=tn[Symbol.toPrimitive];if(un!==void 0){var dn=un.call(tn,sn);if(_typeof$1(dn)!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sn==="string"?String:Number)(tn)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(tn){return tn}var calculateTooltipPos=function tn(sn,un){return un==="horizontal"?sn.x:un==="vertical"?sn.y:un==="centric"?sn.angle:sn.radius},getActiveCoordinate=function tn(sn,un,dn,pn){var mn=un.find(function(yn){return yn&&yn.index===dn});if(mn){if(sn==="horizontal")return{x:mn.coordinate,y:pn.y};if(sn==="vertical")return{x:pn.x,y:mn.coordinate};if(sn==="centric"){var hn=mn.coordinate,fn=pn.radius;return _objectSpread$3(_objectSpread$3(_objectSpread$3({},pn),polarToCartesian(pn.cx,pn.cy,fn,hn)),{},{angle:hn,radius:fn})}var gn=mn.coordinate,xn=pn.angle;return _objectSpread$3(_objectSpread$3(_objectSpread$3({},pn),polarToCartesian(pn.cx,pn.cy,gn,xn)),{},{angle:xn,radius:gn})}return originCoordinate},getDisplayedData=function tn(sn,un){var dn=un.graphicalItems,pn=un.dataStartIndex,mn=un.dataEndIndex,hn=(dn??[]).reduce(function(fn,gn){var xn=gn.props.data;return xn&&xn.length?[].concat(_toConsumableArray$3(fn),_toConsumableArray$3(xn)):fn},[]);return hn.length>0?hn:sn&&sn.length&&isNumber$1(pn)&&isNumber$1(mn)?sn.slice(pn,mn+1):[]};function getDefaultDomainByAxisType(tn){return tn==="number"?[0,"auto"]:void 0}var getTooltipContent=function tn(sn,un,dn,pn){var mn=sn.graphicalItems,hn=sn.tooltipAxis,fn=getDisplayedData(un,sn);return dn<0||!mn||!mn.length||dn>=fn.length?null:mn.reduce(function(gn,xn){var yn,vn=(yn=xn.props.data)!==null&&yn!==void 0?yn:un;vn&&sn.dataStartIndex+sn.dataEndIndex!==0&&sn.dataEndIndex-sn.dataStartIndex>=dn&&(vn=vn.slice(sn.dataStartIndex,sn.dataEndIndex+1));var En;if(hn.dataKey&&!hn.allowDuplicatedCategory){var bn=vn===void 0?fn:vn;En=findEntryInArray(bn,hn.dataKey,pn)}else En=vn&&vn[dn]||fn[dn];return En?[].concat(_toConsumableArray$3(gn),[getTooltipItem(xn,En)]):gn},[])},getTooltipData=function tn(sn,un,dn,pn){var mn=pn||{x:sn.chartX,y:sn.chartY},hn=calculateTooltipPos(mn,dn),fn=sn.orderedTooltipTicks,gn=sn.tooltipAxis,xn=sn.tooltipTicks,yn=calculateActiveTickIndex(hn,fn,xn,gn);if(yn>=0&&xn){var vn=xn[yn]&&xn[yn].value,En=getTooltipContent(sn,un,yn,vn),bn=getActiveCoordinate(dn,fn,yn,mn);return{activeTooltipIndex:yn,activeLabel:vn,activePayload:En,activeCoordinate:bn}}return null},getAxisMapByAxes=function tn(sn,un){var dn=un.axes,pn=un.graphicalItems,mn=un.axisType,hn=un.axisIdKey,fn=un.stackGroups,gn=un.dataStartIndex,xn=un.dataEndIndex,yn=sn.layout,vn=sn.children,En=sn.stackOffset,bn=isCategoricalAxis(yn,mn);return dn.reduce(function(wn,Sn){var Rn,_n=Sn.type.defaultProps!==void 0?_objectSpread$3(_objectSpread$3({},Sn.type.defaultProps),Sn.props):Sn.props,jn=_n.type,Cn=_n.dataKey,An=_n.allowDataOverflow,Tn=_n.allowDuplicatedCategory,$n=_n.scale,Dn=_n.ticks,Nn=_n.includeHidden,kn=_n[hn];if(wn[kn])return wn;var Pn=getDisplayedData(sn.data,{graphicalItems:pn.filter(function(Gn){var qn,Jn=hn in Gn.props?Gn.props[hn]:(qn=Gn.type.defaultProps)===null||qn===void 0?void 0:qn[hn];return Jn===kn}),dataStartIndex:gn,dataEndIndex:xn}),Mn=Pn.length,On,Wn,In;isDomainSpecifiedByUser(_n.domain,An,jn)&&(On=parseSpecifiedDomain(_n.domain,null,An),bn&&(jn==="number"||$n!=="auto")&&(In=getDomainOfDataByKey(Pn,Cn,"category")));var Un=getDefaultDomainByAxisType(jn);if(!On||On.length===0){var Vn,Hn=(Vn=_n.domain)!==null&&Vn!==void 0?Vn:Un;if(Cn){if(On=getDomainOfDataByKey(Pn,Cn,jn),jn==="category"&&bn){var Ln=hasDuplicate(On);Tn&&Ln?(Wn=On,On=range$1(0,Mn)):Tn||(On=parseDomainOfCategoryAxis(Hn,On,Sn).reduce(function(Gn,qn){return Gn.indexOf(qn)>=0?Gn:[].concat(_toConsumableArray$3(Gn),[qn])},[]))}else if(jn==="category")Tn?On=On.filter(function(Gn){return Gn!==""&&!isNil$1(Gn)}):On=parseDomainOfCategoryAxis(Hn,On,Sn).reduce(function(Gn,qn){return Gn.indexOf(qn)>=0||qn===""||isNil$1(qn)?Gn:[].concat(_toConsumableArray$3(Gn),[qn])},[]);else if(jn==="number"){var zn=parseErrorBarsOfAxis(Pn,pn.filter(function(Gn){var qn,Jn,dr=hn in Gn.props?Gn.props[hn]:(qn=Gn.type.defaultProps)===null||qn===void 0?void 0:qn[hn],br="hide"in Gn.props?Gn.props.hide:(Jn=Gn.type.defaultProps)===null||Jn===void 0?void 0:Jn.hide;return dr===kn&&(Nn||!br)}),Cn,mn,yn);zn&&(On=zn)}bn&&(jn==="number"||$n!=="auto")&&(In=getDomainOfDataByKey(Pn,Cn,"category"))}else bn?On=range$1(0,Mn):fn&&fn[kn]&&fn[kn].hasStack&&jn==="number"?On=En==="expand"?[0,1]:getDomainOfStackGroups(fn[kn].stackGroups,gn,xn):On=getDomainOfItemsWithSameAxis(Pn,pn.filter(function(Gn){var qn=hn in Gn.props?Gn.props[hn]:Gn.type.defaultProps[hn],Jn="hide"in Gn.props?Gn.props.hide:Gn.type.defaultProps.hide;return qn===kn&&(Nn||!Jn)}),jn,yn,!0);if(jn==="number")On=detectReferenceElementsDomain(vn,On,kn,mn,Dn),Hn&&(On=parseSpecifiedDomain(Hn,On,An));else if(jn==="category"&&Hn){var Bn=Hn,Fn=On.every(function(Gn){return Bn.indexOf(Gn)>=0});Fn&&(On=Bn)}}return _objectSpread$3(_objectSpread$3({},wn),{},_defineProperty$3({},kn,_objectSpread$3(_objectSpread$3({},_n),{},{axisType:mn,domain:On,categoricalDomain:In,duplicateDomain:Wn,originalDomain:(Rn=_n.domain)!==null&&Rn!==void 0?Rn:Un,isCategorical:bn,layout:yn})))},{})},getAxisMapByItems=function tn(sn,un){var dn=un.graphicalItems,pn=un.Axis,mn=un.axisType,hn=un.axisIdKey,fn=un.stackGroups,gn=un.dataStartIndex,xn=un.dataEndIndex,yn=sn.layout,vn=sn.children,En=getDisplayedData(sn.data,{graphicalItems:dn,dataStartIndex:gn,dataEndIndex:xn}),bn=En.length,wn=isCategoricalAxis(yn,mn),Sn=-1;return dn.reduce(function(Rn,_n){var jn=_n.type.defaultProps!==void 0?_objectSpread$3(_objectSpread$3({},_n.type.defaultProps),_n.props):_n.props,Cn=jn[hn],An=getDefaultDomainByAxisType("number");if(!Rn[Cn]){Sn++;var Tn;return wn?Tn=range$1(0,bn):fn&&fn[Cn]&&fn[Cn].hasStack?(Tn=getDomainOfStackGroups(fn[Cn].stackGroups,gn,xn),Tn=detectReferenceElementsDomain(vn,Tn,Cn,mn)):(Tn=parseSpecifiedDomain(An,getDomainOfItemsWithSameAxis(En,dn.filter(function($n){var Dn,Nn,kn=hn in $n.props?$n.props[hn]:(Dn=$n.type.defaultProps)===null||Dn===void 0?void 0:Dn[hn],Pn="hide"in $n.props?$n.props.hide:(Nn=$n.type.defaultProps)===null||Nn===void 0?void 0:Nn.hide;return kn===Cn&&!Pn}),"number",yn),pn.defaultProps.allowDataOverflow),Tn=detectReferenceElementsDomain(vn,Tn,Cn,mn)),_objectSpread$3(_objectSpread$3({},Rn),{},_defineProperty$3({},Cn,_objectSpread$3(_objectSpread$3({axisType:mn},pn.defaultProps),{},{hide:!0,orientation:get$5(ORIENT_MAP,"".concat(mn,".").concat(Sn%2),null),domain:Tn,originalDomain:An,isCategorical:wn,layout:yn})))}return Rn},{})},getAxisMap=function tn(sn,un){var dn=un.axisType,pn=dn===void 0?"xAxis":dn,mn=un.AxisComp,hn=un.graphicalItems,fn=un.stackGroups,gn=un.dataStartIndex,xn=un.dataEndIndex,yn=sn.children,vn="".concat(pn,"Id"),En=findAllByType(yn,mn),bn={};return En&&En.length?bn=getAxisMapByAxes(sn,{axes:En,graphicalItems:hn,axisType:pn,axisIdKey:vn,stackGroups:fn,dataStartIndex:gn,dataEndIndex:xn}):hn&&hn.length&&(bn=getAxisMapByItems(sn,{Axis:mn,graphicalItems:hn,axisType:pn,axisIdKey:vn,stackGroups:fn,dataStartIndex:gn,dataEndIndex:xn})),bn},tooltipTicksGenerator=function tn(sn){var un=getAnyElementOfObject(sn),dn=getTicksOfAxis(un,!1,!0);return{tooltipTicks:dn,orderedTooltipTicks:sortBy$1(dn,function(pn){return pn.coordinate}),tooltipAxis:un,tooltipAxisBandSize:getBandSizeOfAxis(un,dn)}},createDefaultState=function tn(sn){var un=sn.children,dn=sn.defaultShowTooltip,pn=findChildByType(un,Brush),mn=0,hn=0;return sn.data&&sn.data.length!==0&&(hn=sn.data.length-1),pn&&pn.props&&(pn.props.startIndex>=0&&(mn=pn.props.startIndex),pn.props.endIndex>=0&&(hn=pn.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:mn,dataEndIndex:hn,activeTooltipIndex:-1,isTooltipActive:!!dn}},hasGraphicalBarItem=function tn(sn){return!sn||!sn.length?!1:sn.some(function(un){var dn=getDisplayName(un&&un.type);return dn&&dn.indexOf("Bar")>=0})},getAxisNameByLayout=function tn(sn){return sn==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:sn==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:sn==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function tn(sn,un){var dn=sn.props,pn=sn.graphicalItems,mn=sn.xAxisMap,hn=mn===void 0?{}:mn,fn=sn.yAxisMap,gn=fn===void 0?{}:fn,xn=dn.width,yn=dn.height,vn=dn.children,En=dn.margin||{},bn=findChildByType(vn,Brush),wn=findChildByType(vn,Legend),Sn=Object.keys(gn).reduce(function(Tn,$n){var Dn=gn[$n],Nn=Dn.orientation;return!Dn.mirror&&!Dn.hide?_objectSpread$3(_objectSpread$3({},Tn),{},_defineProperty$3({},Nn,Tn[Nn]+Dn.width)):Tn},{left:En.left||0,right:En.right||0}),Rn=Object.keys(hn).reduce(function(Tn,$n){var Dn=hn[$n],Nn=Dn.orientation;return!Dn.mirror&&!Dn.hide?_objectSpread$3(_objectSpread$3({},Tn),{},_defineProperty$3({},Nn,get$5(Tn,"".concat(Nn))+Dn.height)):Tn},{top:En.top||0,bottom:En.bottom||0}),_n=_objectSpread$3(_objectSpread$3({},Rn),Sn),jn=_n.bottom;bn&&(_n.bottom+=bn.props.height||Brush.defaultProps.height),wn&&un&&(_n=appendOffsetOfLegend(_n,pn,dn,un));var Cn=xn-_n.left-_n.right,An=yn-_n.top-_n.bottom;return _objectSpread$3(_objectSpread$3({brushBottom:jn},_n),{},{width:Math.max(Cn,0),height:Math.max(An,0)})},getCartesianAxisSize=function tn(sn,un){if(un==="xAxis")return sn[un].width;if(un==="yAxis")return sn[un].height},generateCategoricalChart=function tn(sn){var un=sn.chartName,dn=sn.GraphicalChild,pn=sn.defaultTooltipEventType,mn=pn===void 0?"axis":pn,hn=sn.validateTooltipEventTypes,fn=hn===void 0?["axis"]:hn,gn=sn.axisComponents,xn=sn.legendContent,yn=sn.formatAxisMap,vn=sn.defaultProps,En=function(_n,jn){var Cn=jn.graphicalItems,An=jn.stackGroups,Tn=jn.offset,$n=jn.updateId,Dn=jn.dataStartIndex,Nn=jn.dataEndIndex,kn=_n.barSize,Pn=_n.layout,Mn=_n.barGap,On=_n.barCategoryGap,Wn=_n.maxBarSize,In=getAxisNameByLayout(Pn),Un=In.numericAxisName,Vn=In.cateAxisName,Hn=hasGraphicalBarItem(Cn),Ln=[];return Cn.forEach(function(zn,Bn){var Fn=getDisplayedData(_n.data,{graphicalItems:[zn],dataStartIndex:Dn,dataEndIndex:Nn}),Gn=zn.type.defaultProps!==void 0?_objectSpread$3(_objectSpread$3({},zn.type.defaultProps),zn.props):zn.props,qn=Gn.dataKey,Jn=Gn.maxBarSize,dr=Gn["".concat(Un,"Id")],br=Gn["".concat(Vn,"Id")],Er={},yr=gn.reduce(function(Br,ar){var pr=jn["".concat(ar.axisType,"Map")],Xn=Gn["".concat(ar.axisType,"Id")];pr&&pr[Xn]||ar.axisType==="zAxis"||invariant$1();var $r=pr[Xn];return _objectSpread$3(_objectSpread$3({},Br),{},_defineProperty$3(_defineProperty$3({},ar.axisType,$r),"".concat(ar.axisType,"Ticks"),getTicksOfAxis($r)))},Er),xr=yr[Vn],vr=yr["".concat(Vn,"Ticks")],nr=An&&An[dr]&&An[dr].hasStack&&getStackedDataOfItem(zn,An[dr].stackGroups),sr=getDisplayName(zn.type).indexOf("Bar")>=0,Rr=getBandSizeOfAxis(xr,vr),Ar=[],Lr=Hn&&getBarSizeList({barSize:kn,stackGroups:An,totalSize:getCartesianAxisSize(yr,Vn)});if(sr){var Or,Zn,Cr=isNil$1(Jn)?Wn:Jn,Fr=(Or=(Zn=getBandSizeOfAxis(xr,vr,!0))!==null&&Zn!==void 0?Zn:Cr)!==null&&Or!==void 0?Or:0;Ar=getBarPosition({barGap:Mn,barCategoryGap:On,bandSize:Fr!==Rr?Fr:Rr,sizeList:Lr[br],maxBarSize:Cr}),Fr!==Rr&&(Ar=Ar.map(function(Br){return _objectSpread$3(_objectSpread$3({},Br),{},{position:_objectSpread$3(_objectSpread$3({},Br.position),{},{offset:Br.position.offset-Fr/2})})}))}var Pr=zn&&zn.type&&zn.type.getComposedData;Pr&&Ln.push({props:_objectSpread$3(_objectSpread$3({},Pr(_objectSpread$3(_objectSpread$3({},yr),{},{displayedData:Fn,props:_n,dataKey:qn,item:zn,bandSize:Rr,barPosition:Ar,offset:Tn,stackedData:nr,layout:Pn,dataStartIndex:Dn,dataEndIndex:Nn}))),{},_defineProperty$3(_defineProperty$3(_defineProperty$3({key:zn.key||"item-".concat(Bn)},Un,yr[Un]),Vn,yr[Vn]),"animationId",$n)),childIndex:parseChildIndex(zn,_n.children),item:zn})}),Ln},bn=function(_n,jn){var Cn=_n.props,An=_n.dataStartIndex,Tn=_n.dataEndIndex,$n=_n.updateId;if(!validateWidthHeight({props:Cn}))return null;var Dn=Cn.children,Nn=Cn.layout,kn=Cn.stackOffset,Pn=Cn.data,Mn=Cn.reverseStackOrder,On=getAxisNameByLayout(Nn),Wn=On.numericAxisName,In=On.cateAxisName,Un=findAllByType(Dn,dn),Vn=getStackGroupsByAxisId(Pn,Un,"".concat(Wn,"Id"),"".concat(In,"Id"),kn,Mn),Hn=gn.reduce(function(Gn,qn){var Jn="".concat(qn.axisType,"Map");return _objectSpread$3(_objectSpread$3({},Gn),{},_defineProperty$3({},Jn,getAxisMap(Cn,_objectSpread$3(_objectSpread$3({},qn),{},{graphicalItems:Un,stackGroups:qn.axisType===Wn&&Vn,dataStartIndex:An,dataEndIndex:Tn}))))},{}),Ln=calculateOffset(_objectSpread$3(_objectSpread$3({},Hn),{},{props:Cn,graphicalItems:Un}),jn==null?void 0:jn.legendBBox);Object.keys(Hn).forEach(function(Gn){Hn[Gn]=yn(Cn,Hn[Gn],Ln,Gn.replace("Map",""),un)});var zn=Hn["".concat(In,"Map")],Bn=tooltipTicksGenerator(zn),Fn=En(Cn,_objectSpread$3(_objectSpread$3({},Hn),{},{dataStartIndex:An,dataEndIndex:Tn,updateId:$n,graphicalItems:Un,stackGroups:Vn,offset:Ln}));return _objectSpread$3(_objectSpread$3({formattedGraphicalItems:Fn,graphicalItems:Un,offset:Ln,stackGroups:Vn},Bn),Hn)},wn=function(Rn){function _n(jn){var Cn,An,Tn;return _classCallCheck$1(this,_n),Tn=_callSuper(this,_n,[jn]),_defineProperty$3(Tn,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$3(Tn,"accessibilityManager",new AccessibilityManager),_defineProperty$3(Tn,"handleLegendBBoxUpdate",function($n){if($n){var Dn=Tn.state,Nn=Dn.dataStartIndex,kn=Dn.dataEndIndex,Pn=Dn.updateId;Tn.setState(_objectSpread$3({legendBBox:$n},bn({props:Tn.props,dataStartIndex:Nn,dataEndIndex:kn,updateId:Pn},_objectSpread$3(_objectSpread$3({},Tn.state),{},{legendBBox:$n}))))}}),_defineProperty$3(Tn,"handleReceiveSyncEvent",function($n,Dn,Nn){if(Tn.props.syncId===$n){if(Nn===Tn.eventEmitterSymbol&&typeof Tn.props.syncMethod!="function")return;Tn.applySyncEvent(Dn)}}),_defineProperty$3(Tn,"handleBrushChange",function($n){var Dn=$n.startIndex,Nn=$n.endIndex;if(Dn!==Tn.state.dataStartIndex||Nn!==Tn.state.dataEndIndex){var kn=Tn.state.updateId;Tn.setState(function(){return _objectSpread$3({dataStartIndex:Dn,dataEndIndex:Nn},bn({props:Tn.props,dataStartIndex:Dn,dataEndIndex:Nn,updateId:kn},Tn.state))}),Tn.triggerSyncEvent({dataStartIndex:Dn,dataEndIndex:Nn})}}),_defineProperty$3(Tn,"handleMouseEnter",function($n){var Dn=Tn.getMouseInfo($n);if(Dn){var Nn=_objectSpread$3(_objectSpread$3({},Dn),{},{isTooltipActive:!0});Tn.setState(Nn),Tn.triggerSyncEvent(Nn);var kn=Tn.props.onMouseEnter;isFunction$5(kn)&&kn(Nn,$n)}}),_defineProperty$3(Tn,"triggeredAfterMouseMove",function($n){var Dn=Tn.getMouseInfo($n),Nn=Dn?_objectSpread$3(_objectSpread$3({},Dn),{},{isTooltipActive:!0}):{isTooltipActive:!1};Tn.setState(Nn),Tn.triggerSyncEvent(Nn);var kn=Tn.props.onMouseMove;isFunction$5(kn)&&kn(Nn,$n)}),_defineProperty$3(Tn,"handleItemMouseEnter",function($n){Tn.setState(function(){return{isTooltipActive:!0,activeItem:$n,activePayload:$n.tooltipPayload,activeCoordinate:$n.tooltipPosition||{x:$n.cx,y:$n.cy}}})}),_defineProperty$3(Tn,"handleItemMouseLeave",function(){Tn.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$3(Tn,"handleMouseMove",function($n){$n.persist(),Tn.throttleTriggeredAfterMouseMove($n)}),_defineProperty$3(Tn,"handleMouseLeave",function($n){Tn.throttleTriggeredAfterMouseMove.cancel();var Dn={isTooltipActive:!1};Tn.setState(Dn),Tn.triggerSyncEvent(Dn);var Nn=Tn.props.onMouseLeave;isFunction$5(Nn)&&Nn(Dn,$n)}),_defineProperty$3(Tn,"handleOuterEvent",function($n){var Dn=getReactEventByType($n),Nn=get$5(Tn.props,"".concat(Dn));if(Dn&&isFunction$5(Nn)){var kn,Pn;/.*touch.*/i.test(Dn)?Pn=Tn.getMouseInfo($n.changedTouches[0]):Pn=Tn.getMouseInfo($n),Nn((kn=Pn)!==null&&kn!==void 0?kn:{},$n)}}),_defineProperty$3(Tn,"handleClick",function($n){var Dn=Tn.getMouseInfo($n);if(Dn){var Nn=_objectSpread$3(_objectSpread$3({},Dn),{},{isTooltipActive:!0});Tn.setState(Nn),Tn.triggerSyncEvent(Nn);var kn=Tn.props.onClick;isFunction$5(kn)&&kn(Nn,$n)}}),_defineProperty$3(Tn,"handleMouseDown",function($n){var Dn=Tn.props.onMouseDown;if(isFunction$5(Dn)){var Nn=Tn.getMouseInfo($n);Dn(Nn,$n)}}),_defineProperty$3(Tn,"handleMouseUp",function($n){var Dn=Tn.props.onMouseUp;if(isFunction$5(Dn)){var Nn=Tn.getMouseInfo($n);Dn(Nn,$n)}}),_defineProperty$3(Tn,"handleTouchMove",function($n){$n.changedTouches!=null&&$n.changedTouches.length>0&&Tn.throttleTriggeredAfterMouseMove($n.changedTouches[0])}),_defineProperty$3(Tn,"handleTouchStart",function($n){$n.changedTouches!=null&&$n.changedTouches.length>0&&Tn.handleMouseDown($n.changedTouches[0])}),_defineProperty$3(Tn,"handleTouchEnd",function($n){$n.changedTouches!=null&&$n.changedTouches.length>0&&Tn.handleMouseUp($n.changedTouches[0])}),_defineProperty$3(Tn,"handleDoubleClick",function($n){var Dn=Tn.props.onDoubleClick;if(isFunction$5(Dn)){var Nn=Tn.getMouseInfo($n);Dn(Nn,$n)}}),_defineProperty$3(Tn,"handleContextMenu",function($n){var Dn=Tn.props.onContextMenu;if(isFunction$5(Dn)){var Nn=Tn.getMouseInfo($n);Dn(Nn,$n)}}),_defineProperty$3(Tn,"triggerSyncEvent",function($n){Tn.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,Tn.props.syncId,$n,Tn.eventEmitterSymbol)}),_defineProperty$3(Tn,"applySyncEvent",function($n){var Dn=Tn.props,Nn=Dn.layout,kn=Dn.syncMethod,Pn=Tn.state.updateId,Mn=$n.dataStartIndex,On=$n.dataEndIndex;if($n.dataStartIndex!==void 0||$n.dataEndIndex!==void 0)Tn.setState(_objectSpread$3({dataStartIndex:Mn,dataEndIndex:On},bn({props:Tn.props,dataStartIndex:Mn,dataEndIndex:On,updateId:Pn},Tn.state)));else if($n.activeTooltipIndex!==void 0){var Wn=$n.chartX,In=$n.chartY,Un=$n.activeTooltipIndex,Vn=Tn.state,Hn=Vn.offset,Ln=Vn.tooltipTicks;if(!Hn)return;if(typeof kn=="function")Un=kn(Ln,$n);else if(kn==="value"){Un=-1;for(var zn=0;zn<Ln.length;zn++)if(Ln[zn].value===$n.activeLabel){Un=zn;break}}var Bn=_objectSpread$3(_objectSpread$3({},Hn),{},{x:Hn.left,y:Hn.top}),Fn=Math.min(Wn,Bn.x+Bn.width),Gn=Math.min(In,Bn.y+Bn.height),qn=Ln[Un]&&Ln[Un].value,Jn=getTooltipContent(Tn.state,Tn.props.data,Un),dr=Ln[Un]?{x:Nn==="horizontal"?Ln[Un].coordinate:Fn,y:Nn==="horizontal"?Gn:Ln[Un].coordinate}:originCoordinate;Tn.setState(_objectSpread$3(_objectSpread$3({},$n),{},{activeLabel:qn,activeCoordinate:dr,activePayload:Jn,activeTooltipIndex:Un}))}else Tn.setState($n)}),_defineProperty$3(Tn,"renderCursor",function($n){var Dn,Nn=Tn.state,kn=Nn.isTooltipActive,Pn=Nn.activeCoordinate,Mn=Nn.activePayload,On=Nn.offset,Wn=Nn.activeTooltipIndex,In=Nn.tooltipAxisBandSize,Un=Tn.getTooltipEventType(),Vn=(Dn=$n.props.active)!==null&&Dn!==void 0?Dn:kn,Hn=Tn.props.layout,Ln=$n.key||"_recharts-cursor";return React$1.createElement(Cursor,{key:Ln,activeCoordinate:Pn,activePayload:Mn,activeTooltipIndex:Wn,chartName:un,element:$n,isActive:Vn,layout:Hn,offset:On,tooltipAxisBandSize:In,tooltipEventType:Un})}),_defineProperty$3(Tn,"renderPolarAxis",function($n,Dn,Nn){var kn=get$5($n,"type.axisType"),Pn=get$5(Tn.state,"".concat(kn,"Map")),Mn=$n.type.defaultProps,On=Mn!==void 0?_objectSpread$3(_objectSpread$3({},Mn),$n.props):$n.props,Wn=Pn&&Pn[On["".concat(kn,"Id")]];return reactExports.cloneElement($n,_objectSpread$3(_objectSpread$3({},Wn),{},{className:clsx(kn,Wn.className),key:$n.key||"".concat(Dn,"-").concat(Nn),ticks:getTicksOfAxis(Wn,!0)}))}),_defineProperty$3(Tn,"renderPolarGrid",function($n){var Dn=$n.props,Nn=Dn.radialLines,kn=Dn.polarAngles,Pn=Dn.polarRadius,Mn=Tn.state,On=Mn.radiusAxisMap,Wn=Mn.angleAxisMap,In=getAnyElementOfObject(On),Un=getAnyElementOfObject(Wn),Vn=Un.cx,Hn=Un.cy,Ln=Un.innerRadius,zn=Un.outerRadius;return reactExports.cloneElement($n,{polarAngles:Array.isArray(kn)?kn:getTicksOfAxis(Un,!0).map(function(Bn){return Bn.coordinate}),polarRadius:Array.isArray(Pn)?Pn:getTicksOfAxis(In,!0).map(function(Bn){return Bn.coordinate}),cx:Vn,cy:Hn,innerRadius:Ln,outerRadius:zn,key:$n.key||"polar-grid",radialLines:Nn})}),_defineProperty$3(Tn,"renderLegend",function(){var $n=Tn.state.formattedGraphicalItems,Dn=Tn.props,Nn=Dn.children,kn=Dn.width,Pn=Dn.height,Mn=Tn.props.margin||{},On=kn-(Mn.left||0)-(Mn.right||0),Wn=getLegendProps({children:Nn,formattedGraphicalItems:$n,legendWidth:On,legendContent:xn});if(!Wn)return null;var In=Wn.item,Un=_objectWithoutProperties$1(Wn,_excluded$3);return reactExports.cloneElement(In,_objectSpread$3(_objectSpread$3({},Un),{},{chartWidth:kn,chartHeight:Pn,margin:Mn,onBBoxUpdate:Tn.handleLegendBBoxUpdate}))}),_defineProperty$3(Tn,"renderTooltip",function(){var $n,Dn=Tn.props,Nn=Dn.children,kn=Dn.accessibilityLayer,Pn=findChildByType(Nn,Tooltip);if(!Pn)return null;var Mn=Tn.state,On=Mn.isTooltipActive,Wn=Mn.activeCoordinate,In=Mn.activePayload,Un=Mn.activeLabel,Vn=Mn.offset,Hn=($n=Pn.props.active)!==null&&$n!==void 0?$n:On;return reactExports.cloneElement(Pn,{viewBox:_objectSpread$3(_objectSpread$3({},Vn),{},{x:Vn.left,y:Vn.top}),active:Hn,label:Un,payload:Hn?In:[],coordinate:Wn,accessibilityLayer:kn})}),_defineProperty$3(Tn,"renderBrush",function($n){var Dn=Tn.props,Nn=Dn.margin,kn=Dn.data,Pn=Tn.state,Mn=Pn.offset,On=Pn.dataStartIndex,Wn=Pn.dataEndIndex,In=Pn.updateId;return reactExports.cloneElement($n,{key:$n.key||"_recharts-brush",onChange:combineEventHandlers(Tn.handleBrushChange,$n.props.onChange),data:kn,x:isNumber$1($n.props.x)?$n.props.x:Mn.left,y:isNumber$1($n.props.y)?$n.props.y:Mn.top+Mn.height+Mn.brushBottom-(Nn.bottom||0),width:isNumber$1($n.props.width)?$n.props.width:Mn.width,startIndex:On,endIndex:Wn,updateId:"brush-".concat(In)})}),_defineProperty$3(Tn,"renderReferenceElement",function($n,Dn,Nn){if(!$n)return null;var kn=Tn,Pn=kn.clipPathId,Mn=Tn.state,On=Mn.xAxisMap,Wn=Mn.yAxisMap,In=Mn.offset,Un=$n.type.defaultProps||{},Vn=$n.props,Hn=Vn.xAxisId,Ln=Hn===void 0?Un.xAxisId:Hn,zn=Vn.yAxisId,Bn=zn===void 0?Un.yAxisId:zn;return reactExports.cloneElement($n,{key:$n.key||"".concat(Dn,"-").concat(Nn),xAxis:On[Ln],yAxis:Wn[Bn],viewBox:{x:In.left,y:In.top,width:In.width,height:In.height},clipPathId:Pn})}),_defineProperty$3(Tn,"renderActivePoints",function($n){var Dn=$n.item,Nn=$n.activePoint,kn=$n.basePoint,Pn=$n.childIndex,Mn=$n.isRange,On=[],Wn=Dn.props.key,In=Dn.item.type.defaultProps!==void 0?_objectSpread$3(_objectSpread$3({},Dn.item.type.defaultProps),Dn.item.props):Dn.item.props,Un=In.activeDot,Vn=In.dataKey,Hn=_objectSpread$3(_objectSpread$3({index:Pn,dataKey:Vn,cx:Nn.x,cy:Nn.y,r:4,fill:getMainColorOfGraphicItem(Dn.item),strokeWidth:2,stroke:"#fff",payload:Nn.payload,value:Nn.value},filterProps$1(Un,!1)),adaptEventHandlers(Un));return On.push(_n.renderActiveDot(Un,Hn,"".concat(Wn,"-activePoint-").concat(Pn))),kn?On.push(_n.renderActiveDot(Un,_objectSpread$3(_objectSpread$3({},Hn),{},{cx:kn.x,cy:kn.y}),"".concat(Wn,"-basePoint-").concat(Pn))):Mn&&On.push(null),On}),_defineProperty$3(Tn,"renderGraphicChild",function($n,Dn,Nn){var kn=Tn.filterFormatItem($n,Dn,Nn);if(!kn)return null;var Pn=Tn.getTooltipEventType(),Mn=Tn.state,On=Mn.isTooltipActive,Wn=Mn.tooltipAxis,In=Mn.activeTooltipIndex,Un=Mn.activeLabel,Vn=Tn.props.children,Hn=findChildByType(Vn,Tooltip),Ln=kn.props,zn=Ln.points,Bn=Ln.isRange,Fn=Ln.baseLine,Gn=kn.item.type.defaultProps!==void 0?_objectSpread$3(_objectSpread$3({},kn.item.type.defaultProps),kn.item.props):kn.item.props,qn=Gn.activeDot,Jn=Gn.hide,dr=Gn.activeBar,br=Gn.activeShape,Er=!!(!Jn&&On&&Hn&&(qn||dr||br)),yr={};Pn!=="axis"&&Hn&&Hn.props.trigger==="click"?yr={onClick:combineEventHandlers(Tn.handleItemMouseEnter,$n.props.onClick)}:Pn!=="axis"&&(yr={onMouseLeave:combineEventHandlers(Tn.handleItemMouseLeave,$n.props.onMouseLeave),onMouseEnter:combineEventHandlers(Tn.handleItemMouseEnter,$n.props.onMouseEnter)});var xr=reactExports.cloneElement($n,_objectSpread$3(_objectSpread$3({},kn.props),yr));function vr(ar){return typeof Wn.dataKey=="function"?Wn.dataKey(ar.payload):null}if(Er)if(In>=0){var nr,sr;if(Wn.dataKey&&!Wn.allowDuplicatedCategory){var Rr=typeof Wn.dataKey=="function"?vr:"payload.".concat(Wn.dataKey.toString());nr=findEntryInArray(zn,Rr,Un),sr=Bn&&Fn&&findEntryInArray(Fn,Rr,Un)}else nr=zn==null?void 0:zn[In],sr=Bn&&Fn&&Fn[In];if(br||dr){var Ar=$n.props.activeIndex!==void 0?$n.props.activeIndex:In;return[reactExports.cloneElement($n,_objectSpread$3(_objectSpread$3(_objectSpread$3({},kn.props),yr),{},{activeIndex:Ar})),null,null]}if(!isNil$1(nr))return[xr].concat(_toConsumableArray$3(Tn.renderActivePoints({item:kn,activePoint:nr,basePoint:sr,childIndex:In,isRange:Bn})))}else{var Lr,Or=(Lr=Tn.getItemByXY(Tn.state.activeCoordinate))!==null&&Lr!==void 0?Lr:{graphicalItem:xr},Zn=Or.graphicalItem,Cr=Zn.item,Fr=Cr===void 0?$n:Cr,Pr=Zn.childIndex,Br=_objectSpread$3(_objectSpread$3(_objectSpread$3({},kn.props),yr),{},{activeIndex:Pr});return[reactExports.cloneElement(Fr,Br),null,null]}return Bn?[xr,null,null]:[xr,null]}),_defineProperty$3(Tn,"renderCustomized",function($n,Dn,Nn){return reactExports.cloneElement($n,_objectSpread$3(_objectSpread$3({key:"recharts-customized-".concat(Nn)},Tn.props),Tn.state))}),_defineProperty$3(Tn,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:Tn.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:Tn.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:Tn.renderBrush,once:!0},Bar:{handler:Tn.renderGraphicChild},Line:{handler:Tn.renderGraphicChild},Area:{handler:Tn.renderGraphicChild},Radar:{handler:Tn.renderGraphicChild},RadialBar:{handler:Tn.renderGraphicChild},Scatter:{handler:Tn.renderGraphicChild},Pie:{handler:Tn.renderGraphicChild},Funnel:{handler:Tn.renderGraphicChild},Tooltip:{handler:Tn.renderCursor,once:!0},PolarGrid:{handler:Tn.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Tn.renderPolarAxis},PolarRadiusAxis:{handler:Tn.renderPolarAxis},Customized:{handler:Tn.renderCustomized}}),Tn.clipPathId="".concat((Cn=jn.id)!==null&&Cn!==void 0?Cn:uniqueId("recharts"),"-clip"),Tn.throttleTriggeredAfterMouseMove=throttle$4(Tn.triggeredAfterMouseMove,(An=jn.throttleDelay)!==null&&An!==void 0?An:1e3/60),Tn.state={},Tn}return _inherits$1(_n,Rn),_createClass$1(_n,[{key:"componentDidMount",value:function(){var Cn,An;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(Cn=this.props.margin.left)!==null&&Cn!==void 0?Cn:0,top:(An=this.props.margin.top)!==null&&An!==void 0?An:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var Cn=this.props,An=Cn.children,Tn=Cn.data,$n=Cn.height,Dn=Cn.layout,Nn=findChildByType(An,Tooltip);if(Nn){var kn=Nn.props.defaultIndex;if(!(typeof kn!="number"||kn<0||kn>this.state.tooltipTicks.length-1)){var Pn=this.state.tooltipTicks[kn]&&this.state.tooltipTicks[kn].value,Mn=getTooltipContent(this.state,Tn,kn,Pn),On=this.state.tooltipTicks[kn].coordinate,Wn=(this.state.offset.top+$n)/2,In=Dn==="horizontal",Un=In?{x:On,y:Wn}:{y:On,x:Wn},Vn=this.state.formattedGraphicalItems.find(function(Ln){var zn=Ln.item;return zn.type.name==="Scatter"});Vn&&(Un=_objectSpread$3(_objectSpread$3({},Un),Vn.props.points[kn].tooltipPosition),Mn=Vn.props.points[kn].tooltipPayload);var Hn={activeTooltipIndex:kn,isTooltipActive:!0,activeLabel:Pn,activePayload:Mn,activeCoordinate:Un};this.setState(Hn),this.renderCursor(Nn),this.accessibilityManager.setIndex(kn)}}}},{key:"getSnapshotBeforeUpdate",value:function(Cn,An){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==An.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==Cn.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==Cn.margin){var Tn,$n;this.accessibilityManager.setDetails({offset:{left:(Tn=this.props.margin.left)!==null&&Tn!==void 0?Tn:0,top:($n=this.props.margin.top)!==null&&$n!==void 0?$n:0}})}return null}},{key:"componentDidUpdate",value:function(Cn){isChildrenEqual([findChildByType(Cn.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var Cn=findChildByType(this.props.children,Tooltip);if(Cn&&typeof Cn.props.shared=="boolean"){var An=Cn.props.shared?"axis":"item";return fn.indexOf(An)>=0?An:mn}return mn}},{key:"getMouseInfo",value:function(Cn){if(!this.container)return null;var An=this.container,Tn=An.getBoundingClientRect(),$n=getOffset(Tn),Dn={chartX:Math.round(Cn.pageX-$n.left),chartY:Math.round(Cn.pageY-$n.top)},Nn=Tn.width/An.offsetWidth||1,kn=this.inRange(Dn.chartX,Dn.chartY,Nn);if(!kn)return null;var Pn=this.state,Mn=Pn.xAxisMap,On=Pn.yAxisMap,Wn=this.getTooltipEventType(),In=getTooltipData(this.state,this.props.data,this.props.layout,kn);if(Wn!=="axis"&&Mn&&On){var Un=getAnyElementOfObject(Mn).scale,Vn=getAnyElementOfObject(On).scale,Hn=Un&&Un.invert?Un.invert(Dn.chartX):null,Ln=Vn&&Vn.invert?Vn.invert(Dn.chartY):null;return _objectSpread$3(_objectSpread$3({},Dn),{},{xValue:Hn,yValue:Ln},In)}return In?_objectSpread$3(_objectSpread$3({},Dn),In):null}},{key:"inRange",value:function(Cn,An){var Tn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,$n=this.props.layout,Dn=Cn/Tn,Nn=An/Tn;if($n==="horizontal"||$n==="vertical"){var kn=this.state.offset,Pn=Dn>=kn.left&&Dn<=kn.left+kn.width&&Nn>=kn.top&&Nn<=kn.top+kn.height;return Pn?{x:Dn,y:Nn}:null}var Mn=this.state,On=Mn.angleAxisMap,Wn=Mn.radiusAxisMap;if(On&&Wn){var In=getAnyElementOfObject(On);return inRangeOfSector({x:Dn,y:Nn},In)}return null}},{key:"parseEventsOfWrapper",value:function(){var Cn=this.props.children,An=this.getTooltipEventType(),Tn=findChildByType(Cn,Tooltip),$n={};Tn&&An==="axis"&&(Tn.props.trigger==="click"?$n={onClick:this.handleClick}:$n={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var Dn=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread$3(_objectSpread$3({},Dn),$n)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(Cn,An,Tn){for(var $n=this.state.formattedGraphicalItems,Dn=0,Nn=$n.length;Dn<Nn;Dn++){var kn=$n[Dn];if(kn.item===Cn||kn.props.key===Cn.key||An===getDisplayName(kn.item.type)&&Tn===kn.childIndex)return kn}return null}},{key:"renderClipPath",value:function(){var Cn=this.clipPathId,An=this.state.offset,Tn=An.left,$n=An.top,Dn=An.height,Nn=An.width;return React$1.createElement("defs",null,React$1.createElement("clipPath",{id:Cn},React$1.createElement("rect",{x:Tn,y:$n,height:Dn,width:Nn})))}},{key:"getXScales",value:function(){var Cn=this.state.xAxisMap;return Cn?Object.entries(Cn).reduce(function(An,Tn){var $n=_slicedToArray$3(Tn,2),Dn=$n[0],Nn=$n[1];return _objectSpread$3(_objectSpread$3({},An),{},_defineProperty$3({},Dn,Nn.scale))},{}):null}},{key:"getYScales",value:function(){var Cn=this.state.yAxisMap;return Cn?Object.entries(Cn).reduce(function(An,Tn){var $n=_slicedToArray$3(Tn,2),Dn=$n[0],Nn=$n[1];return _objectSpread$3(_objectSpread$3({},An),{},_defineProperty$3({},Dn,Nn.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(Cn){var An;return(An=this.state.xAxisMap)===null||An===void 0||(An=An[Cn])===null||An===void 0?void 0:An.scale}},{key:"getYScaleByAxisId",value:function(Cn){var An;return(An=this.state.yAxisMap)===null||An===void 0||(An=An[Cn])===null||An===void 0?void 0:An.scale}},{key:"getItemByXY",value:function(Cn){var An=this.state,Tn=An.formattedGraphicalItems,$n=An.activeItem;if(Tn&&Tn.length)for(var Dn=0,Nn=Tn.length;Dn<Nn;Dn++){var kn=Tn[Dn],Pn=kn.props,Mn=kn.item,On=Mn.type.defaultProps!==void 0?_objectSpread$3(_objectSpread$3({},Mn.type.defaultProps),Mn.props):Mn.props,Wn=getDisplayName(Mn.type);if(Wn==="Bar"){var In=(Pn.data||[]).find(function(Ln){return isInRectangle(Cn,Ln)});if(In)return{graphicalItem:kn,payload:In}}else if(Wn==="RadialBar"){var Un=(Pn.data||[]).find(function(Ln){return inRangeOfSector(Cn,Ln)});if(Un)return{graphicalItem:kn,payload:Un}}else if(isFunnel(kn,$n)||isPie(kn,$n)||isScatter(kn,$n)){var Vn=getActiveShapeIndexForTooltip({graphicalItem:kn,activeTooltipItem:$n,itemData:On.data}),Hn=On.activeIndex===void 0?Vn:On.activeIndex;return{graphicalItem:_objectSpread$3(_objectSpread$3({},kn),{},{childIndex:Hn}),payload:isScatter(kn,$n)?On.data[Vn]:kn.props.data[Vn]}}}return null}},{key:"render",value:function(){var Cn=this;if(!validateWidthHeight(this))return null;var An=this.props,Tn=An.children,$n=An.className,Dn=An.width,Nn=An.height,kn=An.style,Pn=An.compact,Mn=An.title,On=An.desc,Wn=_objectWithoutProperties$1(An,_excluded2$1),In=filterProps$1(Wn,!1);if(Pn)return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement(Surface,_extends$1({},In,{width:Dn,height:Nn,title:Mn,desc:On}),this.renderClipPath(),renderByOrder(Tn,this.renderMap)));if(this.props.accessibilityLayer){var Un,Vn;In.tabIndex=(Un=this.props.tabIndex)!==null&&Un!==void 0?Un:0,In.role=(Vn=this.props.role)!==null&&Vn!==void 0?Vn:"application",In.onKeyDown=function(Ln){Cn.accessibilityManager.keyboardEvent(Ln)},In.onFocus=function(){Cn.accessibilityManager.focus()}}var Hn=this.parseEventsOfWrapper();return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement("div",_extends$1({className:clsx("recharts-wrapper",$n),style:_objectSpread$3({position:"relative",cursor:"default",width:Dn,height:Nn},kn)},Hn,{ref:function(zn){Cn.container=zn}}),React$1.createElement(Surface,_extends$1({},In,{width:Dn,height:Nn,title:Mn,desc:On,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(Tn,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty$3(wn,"displayName",un),_defineProperty$3(wn,"defaultProps",_objectSpread$3({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},vn)),_defineProperty$3(wn,"getDerivedStateFromProps",function(Rn,_n){var jn=Rn.dataKey,Cn=Rn.data,An=Rn.children,Tn=Rn.width,$n=Rn.height,Dn=Rn.layout,Nn=Rn.stackOffset,kn=Rn.margin,Pn=_n.dataStartIndex,Mn=_n.dataEndIndex;if(_n.updateId===void 0){var On=createDefaultState(Rn);return _objectSpread$3(_objectSpread$3(_objectSpread$3({},On),{},{updateId:0},bn(_objectSpread$3(_objectSpread$3({props:Rn},On),{},{updateId:0}),_n)),{},{prevDataKey:jn,prevData:Cn,prevWidth:Tn,prevHeight:$n,prevLayout:Dn,prevStackOffset:Nn,prevMargin:kn,prevChildren:An})}if(jn!==_n.prevDataKey||Cn!==_n.prevData||Tn!==_n.prevWidth||$n!==_n.prevHeight||Dn!==_n.prevLayout||Nn!==_n.prevStackOffset||!shallowEqual(kn,_n.prevMargin)){var Wn=createDefaultState(Rn),In={chartX:_n.chartX,chartY:_n.chartY,isTooltipActive:_n.isTooltipActive},Un=_objectSpread$3(_objectSpread$3({},getTooltipData(_n,Cn,Dn)),{},{updateId:_n.updateId+1}),Vn=_objectSpread$3(_objectSpread$3(_objectSpread$3({},Wn),In),Un);return _objectSpread$3(_objectSpread$3(_objectSpread$3({},Vn),bn(_objectSpread$3({props:Rn},Vn),_n)),{},{prevDataKey:jn,prevData:Cn,prevWidth:Tn,prevHeight:$n,prevLayout:Dn,prevStackOffset:Nn,prevMargin:kn,prevChildren:An})}if(!isChildrenEqual(An,_n.prevChildren)){var Hn,Ln,zn,Bn,Fn=findChildByType(An,Brush),Gn=Fn&&(Hn=(Ln=Fn.props)===null||Ln===void 0?void 0:Ln.startIndex)!==null&&Hn!==void 0?Hn:Pn,qn=Fn&&(zn=(Bn=Fn.props)===null||Bn===void 0?void 0:Bn.endIndex)!==null&&zn!==void 0?zn:Mn,Jn=Gn!==Pn||qn!==Mn,dr=!isNil$1(Cn),br=dr&&!Jn?_n.updateId:_n.updateId+1;return _objectSpread$3(_objectSpread$3({updateId:br},bn(_objectSpread$3(_objectSpread$3({props:Rn},_n),{},{updateId:br,dataStartIndex:Gn,dataEndIndex:qn}),_n)),{},{prevChildren:An,dataStartIndex:Gn,dataEndIndex:qn})}return null}),_defineProperty$3(wn,"renderActiveDot",function(Rn,_n,jn){var Cn;return reactExports.isValidElement(Rn)?Cn=reactExports.cloneElement(Rn,_n):isFunction$5(Rn)?Cn=Rn(_n):Cn=React$1.createElement(Dot,_n),React$1.createElement(Layer,{className:"recharts-active-dot",key:jn},Cn)});var Sn=reactExports.forwardRef(function(_n,jn){return React$1.createElement(wn,_extends$1({},_n,{ref:jn}))});return Sn.displayName=wn.displayName,Sn},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),AreaChart=generateCategoricalChart({chartName:"AreaChart",GraphicalChild:Area,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});function AnalyticsDashboard(){const[tn,sn]=reactExports.useState("highlights"),{data:un,isLoading:dn}=useQuery({queryKey:["/api/sandwich-collections/all"],queryFn:async()=>{const gn=await fetch("/api/sandwich-collections?limit=2000");if(!gn.ok)throw new Error("Failed to fetch collections");return(await gn.json()).collections||[]}}),{data:pn,isLoading:mn}=useQuery({queryKey:["/api/sandwich-collections/stats"]}),hn=dn||mn,fn=reactExports.useMemo(()=>{if(!(un!=null&&un.length)||!pn)return null;const gn=pn.completeTotalSandwiches||0,xn=jn=>{const Cn=jn.group1Count||0,An=jn.group2Count||0;return Cn+An},yn=un.reduce((jn,Cn)=>{const An=Cn.hostName||"Unknown",Tn=(Cn.individualSandwiches||0)+xn(Cn);return jn[An]||(jn[An]={total:0,collections:0}),jn[An].total+=Tn,jn[An].collections+=1,jn},{}),vn=Object.entries(yn).sort(([,jn],[,Cn])=>Cn.total-jn.total)[0],En=jn=>{const Cn=new Date(jn);return Cn.setDate(jn.getDate()-jn.getDay()),Cn.toISOString().split("T")[0]},bn=un.reduce((jn,Cn)=>{const An=new Date(Cn.collectionDate||""),Tn=En(An),$n=(Cn.individualSandwiches||0)+xn(Cn);return jn[Tn]||(jn[Tn]={total:0,date:Cn.collectionDate}),jn[Tn].total+=$n,jn},{}),wn=8700;Object.values(bn).map(jn=>jn.total).sort((jn,Cn)=>Cn-jn);const Sn={total:38828,date:"2023-11-15"},Rn=un.reduce((jn,Cn)=>{const An=new Date(Cn.collectionDate||""),Tn=`${An.getFullYear()}-${String(An.getMonth()+1).padStart(2,"0")}`,$n=(Cn.individualSandwiches||0)+xn(Cn);return jn[Tn]||(jn[Tn]={month:Tn,sandwiches:0}),jn[Tn].sandwiches+=$n,jn},{}),_n=Object.values(Rn).sort((jn,Cn)=>jn.month.localeCompare(Cn.month)).map(jn=>({month:new Date(jn.month+"-01").toLocaleDateString("en-US",{month:"short",year:"2-digit"}),sandwiches:jn.sandwiches}));return{totalSandwiches:gn,totalCollections:un.length,activeLocations:Object.keys(yn).length,avgWeekly:Math.round(wn),topPerformer:vn?{name:vn[0],total:vn[1].total}:null,recordWeek:Sn?{total:Sn.total,date:Sn.date}:null,trendData:_n}},[un,pn]);return hn?jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Loading strategic insights..."})]})})}):fn?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-main-heading text-primary mb-2",children:"Strategic Impact Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-body text-muted-foreground",children:"Celebrating achievements and identifying growth opportunities"})]}),jsxRuntimeExports.jsxs(Tabs,{value:tn,onValueChange:sn,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"highlights",children:"Achievements"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"trends",children:"Growth Trends"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"insights",children:"Seasonal Insights"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"opportunities",children:"Strategic Ideas"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"highlights",className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Card$1,{className:"border-primary shadow-md",children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-primary",children:jsxRuntimeExports.jsx(Award,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 mr-1"}),"Highlight"]})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Total Impact"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:fn.totalSandwiches.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Sandwiches collected across all locations"})]})}),jsxRuntimeExports.jsx(Card$1,{className:"border-primary shadow-md",children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-primary",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 mr-1"}),"Highlight"]})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Weekly Average"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:fn.avgWeekly.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Average sandwiches per week"})]})}),jsxRuntimeExports.jsx(Card$1,{className:"border-primary shadow-md",children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-primary",children:jsxRuntimeExports.jsx(Crown,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 mr-1"}),"Highlight"]})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Record Week"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:fn.recordWeek?fn.recordWeek.total.toLocaleString():"0"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:fn.recordWeek?`Outstanding performance on ${new Date(fn.recordWeek.date).toLocaleDateString()}`:"No record data"})]})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-4",children:jsxRuntimeExports.jsx("div",{className:"text-primary",children:jsxRuntimeExports.jsx(Target,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Network Strength"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:fn.activeLocations}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Active collection locations in our network"})]})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-4",children:jsxRuntimeExports.jsx("div",{className:"text-primary",children:jsxRuntimeExports.jsx(Award,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Total Collections"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:fn.totalCollections.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Individual collection events completed"})]})})]})}),jsxRuntimeExports.jsxs(TabsContent,{value:"trends",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5"}),"Monthly Collection Trends"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Tracking our community's growing impact over time"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(LineChart,{data:fn.trendData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{formatter:gn=>[gn==null?void 0:gn.toLocaleString(),"Sandwiches"],labelFormatter:gn=>`Month: ${gn}`}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"sandwiches",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Growth Pattern Analysis"}),jsxRuntimeExports.jsx(CardDescription,{children:"Understanding our momentum cycles"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"h-60",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:fn.trendData,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"sandwiches",fill:"#00C49F"})]})})})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"insights",className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),"Back-to-School Season"]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Historical Pattern"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"September traditionally shows strong community engagement"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Growth Opportunity"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary",children:"Early fall presents excellent momentum-building opportunities"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Strategic Context"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Families returning from summer often seek ways to reconnect with community service"})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),"Holiday Season"]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Historical Pattern"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"November-December historically sees increased generosity"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Growth Opportunity"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary",children:"Holiday spirit creates natural partnership opportunities"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Strategic Context"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Corporate giving programs and family traditions align with our mission"})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),"Spring Awakening"]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Historical Pattern"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"March-April shows renewed community activity"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Growth Opportunity"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary",children:"Spring energy provides natural growth momentum"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Strategic Context"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Warmer weather and longer days boost volunteer engagement"})]})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"opportunities",className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4",children:[jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-primary mt-1",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Network Expansion"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-3",children:"Our proven model could benefit additional communities"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("strong",{children:"Next Step:"})," Identify 2-3 neighboring areas for pilot programs"]})]})]})})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-primary mt-1",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Partnership Development"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-3",children:"Corporate partnerships could amplify our impact"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("strong",{children:"Next Step:"})," Explore partnerships with local businesses for employee engagement"]})]})]})})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-primary mt-1",children:jsxRuntimeExports.jsx(Lightbulb,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Recognition Programs"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-3",children:"Celebrating successes builds momentum"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary",children:[jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("strong",{children:"Next Step:"})," Create quarterly recognition events for top contributors"]})]})]})})})]})})]})]}):jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No data available for analysis"})})})})}function DocumentPreview({documentPath:tn,documentName:sn,documentType:un,onClose:dn}){const[pn,mn]=reactExports.useState(!0),hn=()=>{const xn=document.createElement("a");xn.href=tn,xn.download=sn,document.body.appendChild(xn),xn.click(),document.body.removeChild(xn)},fn=()=>{window.open(tn,"_blank")},gn=()=>{switch(un==null?void 0:un.toLowerCase()){case"pdf":return jsxRuntimeExports.jsx("iframe",{src:tn,className:"w-full h-full border-0",onLoad:()=>mn(!1),title:sn});case"docx":return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:sn}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Word documents require download to view. Click the download button to save the file to your device."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:hn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download Document"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:fn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Open in New Tab"]})]})]});case"xlsx":return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:sn}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Excel files require download to view. Click the download button to save the file to your device."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:hn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download Document"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:fn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Open in New Tab"]})]})]});default:return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:sn}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Preview not available for this file type. Download or open in a new tab to view."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:hn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download Document"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:fn,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),"Open in New Tab"]})]})]})}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-5xl h-5/6 flex flex-col ml-0 lg:ml-64 mr-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:sn}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 rounded-full",children:(un==null?void 0:un.toUpperCase())||"FILE"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{onClick:hn,variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{onClick:fn,variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{onClick:dn,variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[pn&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading preview..."})]})}),gn()]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use the buttons above to download or open in a new tab"}),jsxRuntimeExports.jsx(Button,{onClick:dn,variant:"outline",children:"Close Preview"})]})})]})})}const developmentDocuments=[{name:"Articles of Incorporation",path:"/attached_assets/Articles of Incorporation_1750817584990.pdf",type:"pdf",category:"Legal",description:"Official Articles of Incorporation for The Sandwich Project"},{name:"IRS Tax Exempt Letter",path:"/attached_assets/IRS Tax Exempt Letter (Contains EIN)_1750817584990.pdf",type:"pdf",category:"Legal",description:"IRS Tax Exempt determination letter containing EIN"},{name:"The Sandwich Project Bylaws 2024",path:"/attached_assets/The Sandwich Project Bylaws 2024(1)_1750871081277.pdf",type:"pdf",category:"Legal",description:"Official bylaws document outlining organizational structure, governance, and operational procedures"}],getFileIcon$2=tn=>{switch(tn){case"pdf":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-red-500"});case"xlsx":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-green-500"});case"docx":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-blue-500"});case"txt":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-500"});default:return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-500"})}},getCategoryColor$2=tn=>{switch(tn){case"Legal":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"Governance":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Financial":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};function DevelopmentDocuments(){const[tn,sn]=reactExports.useState("All"),[un,dn]=reactExports.useState(null),pn=["All",...Array.from(new Set(developmentDocuments.map(xn=>xn.category)))],mn=tn==="All"?developmentDocuments:developmentDocuments.filter(xn=>xn.category===tn),hn=(xn,yn)=>{const vn=document.createElement("a");vn.href=xn,vn.download=yn,vn.target="_blank",document.body.appendChild(vn),vn.click(),document.body.removeChild(vn)},fn=xn=>{dn(xn)},gn=xn=>{window.open(xn,"_blank")};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:pn.map(xn=>jsxRuntimeExports.jsx(Button,{variant:tn===xn?"default":"outline",size:"sm",onClick:()=>sn(xn),children:xn},xn))}),jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:mn.map((xn,yn)=>jsxRuntimeExports.jsxs(Card$1,{className:"hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[getFileIcon$2(xn.type),jsxRuntimeExports.jsx(CardTitle,{className:"text-base leading-tight",children:xn.name})]}),jsxRuntimeExports.jsx(Badge,{className:getCategoryColor$2(xn.category),variant:"secondary",children:xn.category})]}),xn.description&&jsxRuntimeExports.jsx(CardDescription,{className:"text-sm",children:xn.description})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"pt-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>fn(xn),className:"flex-1",variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4 mr-2"}),"Preview"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>hn(xn.path,xn.name),className:"flex-1",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Download"]})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>gn(xn.path),className:"w-full mt-2",variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]})]})]},yn))}),mn.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-muted-foreground",children:"No documents found"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try selecting a different category"})]}),un&&jsxRuntimeExports.jsx(DocumentPreview,{documentPath:un.path,documentName:un.name,documentType:un.type,onClose:()=>dn(null)})]})}function Development(){return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 dark:from-gray-900 dark:to-gray-800",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-secondary/20 dark:bg-secondary/20 rounded-xl",children:jsxRuntimeExports.jsx(Building2,{className:"w-6 h-6 text-secondary dark:text-secondary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-main-heading text-primary dark:text-secondary",children:"Development & Resources"}),jsxRuntimeExports.jsx("p",{className:"font-body text-muted-foreground",children:"Organizational documents and development resources"})]})]}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl",children:jsxRuntimeExports.jsx(DevelopmentDocuments,{})})]})})}function MeetingMinutes({isEmbedded:tn=!1}){useLocation();const[sn,un]=reactExports.useState(null),[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState(null),[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState(""),[bn,wn]=reactExports.useState("file"),[Sn,Rn]=reactExports.useState(!1),[_n,jn]=reactExports.useState(!1),[Cn,An]=reactExports.useState(null),[Tn,$n]=reactExports.useState({title:"",date:"",time:"",type:"core_team",location:"",description:""}),[Dn,Nn]=reactExports.useState({title:"",date:"",time:"",type:"core_team",location:"",description:""}),{toast:kn}=useToast(),Pn=nr=>{if(!nr||nr.trim()===""||nr==="TBD")return"Time TBD";try{const[sr,Rr]=nr.split(":");if(!sr||!Rr)return"Time TBD";const Ar=parseInt(sr,10),Lr=parseInt(Rr,10);if(isNaN(Ar)||isNaN(Lr))return"Time TBD";const Or=Ar>=12?"PM":"AM",Zn=Ar===0?12:Ar>12?Ar-12:Ar,Cr=Lr.toString().padStart(2,"0");return`${Zn}:${Cr} ${Or}`}catch{return"Time TBD"}},{data:Mn=[],isLoading:On}=useQuery({queryKey:["/api/meetings"]}),{data:Wn=[],isLoading:In}=useQuery({queryKey:["/api/meeting-minutes"]}),Un=useMutation({mutationFn:async nr=>{const sr=await fetch("/api/meeting-minutes/upload",{method:"POST",body:nr});if(!sr.ok)throw new Error("Failed to upload minutes");return sr.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/meeting-minutes"]}),pn(!1),un(null),yn(null),En(""),kn({title:"Meeting minutes uploaded successfully"})}}),Vn=useMutation({mutationFn:async nr=>{if(!(await fetch(`/api/meetings/${nr}`,{method:"DELETE"})).ok)throw new Error("Failed to delete meeting")},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/meetings"]}),kn({title:"Meeting deleted successfully"})}}),Hn=useMutation({mutationFn:async nr=>{const sr=await fetch(`/api/meeting-minutes/${nr}`,{method:"DELETE"});if(!sr.ok)throw new Error("Failed to delete meeting minutes");return sr.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/meeting-minutes"]}),hn(null),kn({title:"Meeting minutes deleted successfully"})},onError:nr=>{kn({title:"Error deleting meeting minutes",description:nr.message,variant:"destructive"})}}),Ln=useMutation({mutationFn:async nr=>{const sr=await fetch("/api/meetings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nr)});if(!sr.ok)throw new Error("Failed to create meeting");return sr.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/meetings"]}),Rn(!1),$n({title:"",date:"",time:"",type:"core_team",location:"",description:""}),kn({title:"Meeting created successfully"})},onError:nr=>{kn({title:"Error creating meeting",description:nr.message,variant:"destructive"})}}),zn=useMutation({mutationFn:async nr=>{const sr=await fetch(`/api/meetings/${nr.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(nr)});if(!sr.ok)throw new Error("Failed to update meeting");return sr.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/meetings"]}),jn(!1),An(null),Nn({title:"",date:"",time:"",type:"core_team",location:"",description:""}),kn({title:"Meeting updated successfully"})},onError:nr=>{kn({title:"Error updating meeting",description:nr.message,variant:"destructive"})}}),Bn=nr=>{if(nr.preventDefault(),!sn)return;const sr=Mn.find(Ar=>Ar.id===sn);if(!sr)return;const Rr=new FormData;if(Rr.append("meetingId",sn.toString()),Rr.append("title",sr.title),Rr.append("date",sr.date),bn==="file"&&xn)Rr.append("file",xn),Rr.append("summary",`Uploaded file: ${xn.name}`);else if(bn==="google_docs"&&vn)Rr.append("googleDocsUrl",vn),Rr.append("summary",`Google Docs link: ${vn}`);else{kn({title:"Please select a file or provide a Google Docs URL",variant:"destructive"});return}Un.mutate(Rr)},Fn=nr=>{var Rr;const sr=(Rr=nr.target.files)==null?void 0:Rr[0];sr&&(["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(sr.type)?yn(sr):(kn({title:"Invalid file type",description:"Please upload a PDF, DOC, or DOCX file",variant:"destructive"}),nr.target.value=""))},Gn=nr=>{un(nr.id),pn(!0),yn(null),En(""),wn("file")},qn=async(nr,sr)=>{try{const Rr=await fetch(`/api/meeting-minutes/${nr}/file`);if(!Rr.ok)throw new Error("File not found");const Ar=await Rr.blob(),Lr=window.URL.createObjectURL(Ar),Or=document.createElement("a");Or.style.display="none",Or.href=Lr,Or.download=sr||"meeting-minutes-document",document.body.appendChild(Or),Or.click(),window.URL.revokeObjectURL(Lr),document.body.removeChild(Or),kn({title:"File downloaded successfully"})}catch(Rr){console.error("Download error:",Rr),kn({title:"Download failed",description:"Could not download the file. It may have been moved or deleted.",variant:"destructive"})}},Jn=nr=>{An(nr.id),Nn({title:nr.title,date:nr.date,time:nr.time||"",type:nr.type,location:nr.location||"",description:nr.description||""}),jn(!0)},dr=nr=>{confirm("Are you sure you want to delete this meeting? This action cannot be undone.")&&Vn.mutate(nr)},br=nr=>{nr.preventDefault();const sr={title:Tn.title,date:Tn.date,time:Tn.time||"",type:Tn.type,location:Tn.location||void 0,description:Tn.description||void 0,status:"scheduled"};Ln.mutate(sr)},Er=nr=>{if(nr.preventDefault(),!Cn)return;const sr={id:Cn,title:Dn.title,date:Dn.date,time:Dn.time||"",type:Dn.type,location:Dn.location||void 0,description:Dn.description||void 0,status:"scheduled"};zn.mutate(sr)},yr=nr=>{const sr=Mn.find(Rr=>Rr.id===nr);return sr?Wn.find(Rr=>Rr.title===sr.title&&Rr.date===sr.date):null},xr=nr=>{const Rr=new Date(nr.date).toLocaleDateString();if(nr.time&&nr.time!=="TBD"&&nr.time!==""){const Ar=Pn(nr.time);if(Ar!=="Time TBD")return`${Rr} at ${Ar}`}return Rr},vr=nr=>{switch(nr){case"core_team":return jsxRuntimeExports.jsx(Badge,{className:"bg-[#FBAD3F] text-white hover:bg-[#e6991c]",children:"Core Team"});default:return jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:nr.replace("_"," ")})}};if(On||In)return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})});if(Sn)return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>Rn(!1),children:"← Back to Meetings"})}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Create New Meeting"}),jsxRuntimeExports.jsx(CardDescription,{children:"Schedule a new meeting for your team"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:br,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Meeting Title *"}),jsxRuntimeExports.jsx(Input,{type:"text",value:Tn.title,onChange:nr=>$n(sr=>({...sr,title:nr.target.value})),placeholder:"Core Team Meeting - Q3 Planning",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date *"}),jsxRuntimeExports.jsx(Input,{type:"date",value:Tn.date,onChange:nr=>$n(sr=>({...sr,date:nr.target.value})),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Time"}),jsxRuntimeExports.jsx(Input,{type:"time",value:Tn.time,onChange:nr=>$n(sr=>({...sr,time:nr.target.value})),placeholder:"10:00 AM"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Meeting Type"}),jsxRuntimeExports.jsxs(Select,{value:Tn.type,onValueChange:nr=>$n(sr=>({...sr,type:nr})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"core_team",children:"Core Team"}),jsxRuntimeExports.jsx(SelectItem,{value:"board",children:"Board Meeting"}),jsxRuntimeExports.jsx(SelectItem,{value:"committee",children:"Committee"}),jsxRuntimeExports.jsx(SelectItem,{value:"special",children:"Special Meeting"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),jsxRuntimeExports.jsx(Input,{type:"text",value:Tn.location,onChange:nr=>$n(sr=>({...sr,location:nr.target.value})),placeholder:"Conference Room A or Virtual Meeting Link"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{value:Tn.description,onChange:nr=>$n(sr=>({...sr,description:nr.target.value})),placeholder:"Meeting agenda and topics to be discussed...",rows:4})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"submit",disabled:Ln.isPending,children:Ln.isPending?"Creating...":"Create Meeting"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>Rn(!1),children:"Cancel"})]})]})})]})]});if(_n)return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>jn(!1),children:"← Back to Meetings"})}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Edit Meeting"}),jsxRuntimeExports.jsx(CardDescription,{children:"Update meeting details and information"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:Er,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Meeting Title"}),jsxRuntimeExports.jsx(Input,{value:Dn.title,onChange:nr=>Nn({...Dn,title:nr.target.value}),placeholder:"e.g., Core Team Meeting",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),jsxRuntimeExports.jsx(Input,{type:"date",value:Dn.date,onChange:nr=>Nn({...Dn,date:nr.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time"}),jsxRuntimeExports.jsx(Input,{type:"time",value:Dn.time,onChange:nr=>Nn({...Dn,time:nr.target.value}),placeholder:"Optional"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Meeting Type"}),jsxRuntimeExports.jsxs(Select,{value:Dn.type,onValueChange:nr=>Nn({...Dn,type:nr}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"core_team",children:"Core Team"}),jsxRuntimeExports.jsx(SelectItem,{value:"board",children:"Board Meeting"}),jsxRuntimeExports.jsx(SelectItem,{value:"committee",children:"Committee"}),jsxRuntimeExports.jsx(SelectItem,{value:"special",children:"Special Meeting"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),jsxRuntimeExports.jsx(Input,{value:Dn.location,onChange:nr=>Nn({...Dn,location:nr.target.value}),placeholder:"e.g., Conference Room A or Zoom"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{value:Dn.description,onChange:nr=>Nn({...Dn,description:nr.target.value}),placeholder:"Optional meeting agenda or notes",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"submit",disabled:zn.isPending,children:zn.isPending?"Updating...":"Update Meeting"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>jn(!1),children:"Cancel"})]})]})})]})]});if(mn){const nr=mn.summary.startsWith("Google Docs link:");mn.summary.startsWith("Uploaded file:")||mn.summary.startsWith("Document uploaded:");const sr=mn.summary.includes("content extraction failed"),Rr=mn.summary&&mn.summary.includes("PDF content extraction will be available");return mn.summary&&mn.summary.trim(),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>hn(null),children:"← Back to Meetings"}),jsxRuntimeExports.jsxs(Button,{variant:"destructive",onClick:()=>Hn.mutate(mn.id),disabled:Hn.isPending,children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),Hn.isPending?"Deleting...":"Delete Minutes"]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-base font-medium",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),mn.title]}),jsxRuntimeExports.jsxs(CardDescription,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{children:["Meeting Date: ",new Date(mn.date).toLocaleDateString()]}),mn.fileName&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>qn(mn.id,mn.fileName),className:"ml-4",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download File"]})]})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-base mb-4 text-gray-900 dark:text-gray-100",children:"Meeting Minutes Document"}),nr?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Link,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Google Docs Document"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:mn.summary.split("Google Docs link:")[1],target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Link,{className:"w-4 h-4 mr-2"}),"Open in Google Docs"]})})]}),jsxRuntimeExports.jsx("div",{style:{height:"600px"},children:jsxRuntimeExports.jsx("iframe",{src:(()=>{var Ar;try{const Lr=(Ar=mn.summary.split("Google Docs link:")[1])==null?void 0:Ar.trim();if(!Lr)return"about:blank";const Or=Lr.match(/\/d\/([a-zA-Z0-9-_]+)/),Zn=Or==null?void 0:Or[1];return Zn?`https://docs.google.com/document/d/${Zn}/preview`:"about:blank"}catch{return"about:blank"}})(),className:"w-full h-full border-0",title:"Google Docs Preview"})})]}):mn.fileName?jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:mn.fileName}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 uppercase",children:mn.fileName.split(".").pop()})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>qn(mn.id,mn.fileName),children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download File"]})]}),jsxRuntimeExports.jsx("div",{style:{height:"600px"},children:mn.fileName.toLowerCase().endsWith(".pdf")?jsxRuntimeExports.jsx("iframe",{src:`/api/meeting-minutes/${mn.id}/file`,className:"w-full h-full border-0",title:mn.fileName}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-gray-100 mb-2",children:mn.fileName}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Click the download button above to view this document."}),jsxRuntimeExports.jsxs(Button,{onClick:()=>qn(mn.id,mn.fileName),className:"inline-flex items-center",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download Document"]})]})})]}):jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:jsxRuntimeExports.jsx("div",{className:"prose max-w-none dark:prose-invert",children:jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap text-gray-900 dark:text-gray-100 leading-relaxed",children:mn.summary})})})]})})]})]})}if(dn&&sn){const nr=Mn.find(sr=>sr.id===sn);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{pn(!1),un(null)},children:"← Back to Meetings"})}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Upload Meeting Minutes"}),jsxRuntimeExports.jsxs(CardDescription,{children:["Upload minutes for: ",nr==null?void 0:nr.title," - ",nr&&xr(nr)]})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:Bn,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-3",children:"Upload Type"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",value:"file",checked:bn==="file",onChange:sr=>wn(sr.target.value),className:"mr-2"}),"Upload File"]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"radio",value:"google_docs",checked:bn==="google_docs",onChange:sr=>wn(sr.target.value),className:"mr-2"}),"Google Docs Link"]})]})]}),bn==="file"?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Document (.pdf, .doc, .docx)"}),jsxRuntimeExports.jsx(Input,{type:"file",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:Fn,required:!0}),xn&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",xn.name," (",(xn.size/1024/1024).toFixed(2)," MB)"]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Google Docs URL"}),jsxRuntimeExports.jsx(Input,{type:"url",value:vn,onChange:sr=>En(sr.target.value),placeholder:"https://docs.google.com/document/d/...",required:!0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Make sure the document is shared with appropriate permissions"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:Un.isPending,children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),Un.isPending?"Uploading...":"Upload Minutes"]}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>{pn(!1),un(null)},children:"Cancel"})]})]})})]})]})}return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[!tn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{var nr;return(nr=window.dashboardSetActiveSection)==null?void 0:nr.call(window,"meetings")},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Meetings Hub"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Meetings"}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Minutes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meeting Minutes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload and view minutes for scheduled meetings"})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>Rn(!0),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Create Meeting"]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:Mn.map(nr=>{const sr=yr(nr.id);return jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-base font-medium",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"}),nr.title]}),jsxRuntimeExports.jsxs(CardDescription,{className:"flex items-center gap-4 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),xr(nr)]}),vr(nr.type),jsxRuntimeExports.jsx(Badge,{variant:nr.status==="completed"?"default":"outline",children:nr.status})]}),nr.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:nr.description}),nr.location&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:["Location: ",nr.location]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 ml-4",children:[sr?jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>hn(sr),children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-1"}),"View Minutes"]}):jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Gn(nr),children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-1"}),"Upload Minutes"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Jn(nr),children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>dr(nr.id),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})})},nr.id)})}),Mn.length===0&&jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardContent$1,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No meetings scheduled"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for scheduled meetings"})]})})]})}function MeetingAgenda({isEmbedded:tn=!1}){const{user:sn}=useAuth(),un=(sn==null?void 0:sn.role)!=="committee_member";useLocation();const[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState(null),[fn,gn]=reactExports.useState({title:"",description:"",submittedBy:(sn==null?void 0:sn.firstName)||"User"}),{toast:xn}=useToast(),{data:yn=[],isLoading:vn}=useQuery({queryKey:["/api/agenda-items"]}),En=useMutation({mutationFn:async Tn=>{const $n=await fetch("/api/agenda-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Tn,meetingId:1})});if(!$n.ok)throw new Error("Failed to create agenda item");return $n.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/agenda-items"]}),pn(!1),gn({title:"",description:"",submittedBy:"Admin User"}),xn({title:"Agenda item created successfully"})}}),bn=useMutation({mutationFn:async({id:Tn,status:$n})=>{const Dn=await fetch(`/api/agenda-items/${Tn}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:$n})});if(!Dn.ok)throw new Error("Failed to update status");return Dn.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/agenda-items"]}),xn({title:"Status updated successfully"})}}),wn=useMutation({mutationFn:async Tn=>{if(!(await fetch(`/api/agenda-items/${Tn}`,{method:"DELETE"})).ok)throw new Error("Failed to delete agenda item")},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/agenda-items"]}),xn({title:"Agenda item deleted successfully"})}}),Sn=Tn=>{Tn.preventDefault(),En.mutate(fn)},Rn=(Tn,$n)=>{bn.mutate({id:Tn.id,status:$n})},_n=Tn=>{switch(Tn){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"postponed":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},jn=Tn=>{switch(Tn){case"approved":return jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 text-green-600"});case"rejected":return jsxRuntimeExports.jsx(Circle,{className:"w-4 h-4 text-red-600"});case"postponed":return jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-orange-600"});case"pending":return jsxRuntimeExports.jsx(Circle,{className:"w-4 h-4 text-yellow-600"});default:return jsxRuntimeExports.jsx(Circle,{className:"w-4 h-4 text-gray-600"})}};if(vn)return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})});const Cn=yn.filter(Tn=>Tn.status==="approved").length,An=yn.filter(Tn=>Tn.status==="pending").length;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[!tn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{var Tn;return(Tn=window.dashboardSetActiveSection)==null?void 0:Tn.call(window,"meetings")},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Meetings Hub"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Meetings"}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Agenda"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900/20 rounded-xl",children:jsxRuntimeExports.jsx(ListTodo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Meeting Agenda"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Plan and organize meeting topics and discussions"})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>pn(!0),className:"self-start h-10 text-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"New Agenda Item"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"New Item"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(ListTodo,{className:"w-8 h-8 text-blue-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:yn.length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Items"})]})]})})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-8 h-8 text-green-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Cn}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Approved"})]})]})})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Clock,{className:"w-8 h-8 text-yellow-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:An}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Review"})]})]})})})]}),dn&&jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Create Agenda Item"}),jsxRuntimeExports.jsx(CardDescription,{children:"Add a new topic to the meeting agenda"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:Sn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),jsxRuntimeExports.jsx(Input,{value:fn.title,onChange:Tn=>gn({...fn,title:Tn.target.value}),placeholder:"Discussion topic or agenda item",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{value:fn.description,onChange:Tn=>gn({...fn,description:Tn.target.value}),placeholder:"Detailed description of the agenda item",rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Submitted By"}),jsxRuntimeExports.jsx(Input,{value:fn.submittedBy,onChange:Tn=>gn({...fn,submittedBy:Tn.target.value}),placeholder:"Your name",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"submit",disabled:En.isPending,children:En.isPending?"Creating...":"Create Item"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>pn(!1),children:"Cancel"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:yn.map((Tn,$n)=>jsxRuntimeExports.jsx(Card$1,{className:Tn.status==="approved"?"border-green-200 bg-green-50 dark:bg-green-900/10":Tn.status==="rejected"?"border-red-200 bg-red-50 dark:bg-red-900/10":Tn.status==="postponed"?"border-orange-200 bg-orange-50 dark:bg-orange-900/10":"",children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jn(Tn.status)}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",$n+1]}),jsxRuntimeExports.jsx(Badge,{className:_n(Tn.status),children:Tn.status.charAt(0).toUpperCase()+Tn.status.slice(1)})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white mb-2",children:Tn.title}),Tn.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:Tn.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Submitted by: ",Tn.submittedBy]}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{children:new Date(Tn.submittedAt).toLocaleDateString()})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[Tn.status==="pending"&&un&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>Rn(Tn,"approved"),disabled:bn.isPending,children:"Approve"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",onClick:()=>Rn(Tn,"rejected"),disabled:bn.isPending,children:"Reject"}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"border-orange-300 text-orange-600 hover:bg-orange-50",onClick:()=>Rn(Tn,"postponed"),disabled:bn.isPending,children:"Delay"})]}),Tn.status!=="pending"&&un&&jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>Rn(Tn,"pending"),disabled:bn.isPending,children:"Reset to Pending"})}),un&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>wn.mutate(Tn.id),disabled:wn.isPending,children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})})},Tn.id))}),yn.length===0&&!dn&&jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardContent$1,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(ListTodo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No agenda items yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create your first agenda item to start planning your meeting"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>pn(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Create First Item"]})]})})]})}function MeetingCalendar({isEmbedded:tn=!1}){useLocation();const[sn,un]=reactExports.useState(!1),[dn,pn]=reactExports.useState(null),[mn,hn]=reactExports.useState(new Date().toISOString().split("T")[0]),[fn,gn]=reactExports.useState({title:"",description:"",meetingDate:"",startTime:"",agenda:"",meetingLink:""}),{toast:xn}=useToast(),yn=$n=>{if(!$n)return"No date";try{const Dn=new Date($n);return isNaN(Dn.getTime())?"Invalid date":Dn.toLocaleDateString()}catch{return"Invalid date"}},vn=$n=>{if(!$n)return null;try{const[Dn,Nn]=$n.split(":"),kn=parseInt(Dn),Pn=kn>=12?"PM":"AM";return`${kn===0?12:kn>12?kn-12:kn}:${Nn} ${Pn}`}catch{return null}},En=($n,Dn)=>{const Nn=vn($n),kn=vn(Dn);return!Nn&&!kn?null:Nn&&kn?`${Nn} - ${kn}`:Nn||null},{data:bn=[],isLoading:wn}=useQuery({queryKey:["/api/meetings"]}),Sn=useMutation({mutationFn:async $n=>{const Dn=await fetch("/api/meetings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($n)});if(!Dn.ok)throw new Error("Failed to create meeting");return Dn.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/meetings"]}),un(!1),gn({title:"",description:"",meetingDate:"",startTime:"",agenda:"",meetingLink:""}),xn({title:"Meeting scheduled successfully"})}}),Rn=$n=>{$n.preventDefault(),Sn.mutate(fn)},_n=$n=>{switch($n){case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"in_progress":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"completed":return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},jn=$n=>{switch($n){case"virtual":return jsxRuntimeExports.jsx(Video,{className:"w-4 h-4"});case"hybrid":return jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"});default:return jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"})}},Cn=($n,Dn)=>new Date(`${$n}T${Dn}`)>new Date,An=bn.filter($n=>Cn($n.meetingDate,$n.startTime)&&$n.status==="scheduled"),Tn=bn.filter($n=>!Cn($n.meetingDate,$n.startTime)||$n.status==="completed");return wn?jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[!tn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{var $n;return($n=window.dashboardSetActiveSection)==null?void 0:$n.call(window,"meetings")},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Meetings Hub"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Meetings"}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Calendar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-xl",children:jsxRuntimeExports.jsx(Calendar,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Meeting Calendar"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Schedule and manage team meetings and events"})]})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>un(!0),className:"self-start",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Schedule Meeting"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-8 h-8 text-blue-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:An.length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upcoming"})]})]})})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Clock,{className:"w-8 h-8 text-green-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:Tn.length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"})]})]})})}),jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Users,{className:"w-8 h-8 text-purple-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:bn.length}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Meetings"})]})]})})})]}),sn&&jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Schedule New Meeting"}),jsxRuntimeExports.jsx(CardDescription,{children:"Create a new meeting and send invitations"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:Rn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Meeting Title"}),jsxRuntimeExports.jsx(Input,{value:fn.title,onChange:$n=>gn({...fn,title:$n.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{value:fn.description,onChange:$n=>gn({...fn,description:$n.target.value}),rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),jsxRuntimeExports.jsx(Input,{type:"date",value:fn.meetingDate,onChange:$n=>gn({...fn,meetingDate:$n.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Time (optional)"}),jsxRuntimeExports.jsx(Input,{type:"time",value:fn.startTime,onChange:$n=>gn({...fn,startTime:$n.target.value})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Meeting Link (optional)"}),jsxRuntimeExports.jsx(Input,{value:fn.meetingLink,onChange:$n=>gn({...fn,meetingLink:$n.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Agenda (optional)"}),jsxRuntimeExports.jsx(Textarea,{value:fn.agenda,onChange:$n=>gn({...fn,agenda:$n.target.value}),rows:4})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"submit",disabled:Sn.isPending,children:Sn.isPending?"Scheduling...":"Schedule Meeting"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>un(!1),children:"Cancel"})]})]})})]}),An.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold mb-4",children:"Upcoming Meetings"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:An.map($n=>jsxRuntimeExports.jsx(Card$1,{className:"border-l-4 border-l-blue-500",children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-base",children:$n.title}),jsxRuntimeExports.jsx(Badge,{className:_n($n.status),children:$n.status.replace("_"," ")})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),yn($n.meetingDate)]}),En($n.startTime,$n.endTime)&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),En($n.startTime,$n.endTime)]}),$n.location&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jn($n.meetingType),$n.location]})]}),$n.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:$n.description}),$n.meetingLink&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Meeting Link: ",jsxRuntimeExports.jsx("a",{href:$n.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:$n.meetingLink})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})})},$n.id))})]}),Tn.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold mb-4",children:"Past Meetings"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Tn.slice(0,5).map($n=>jsxRuntimeExports.jsx(Card$1,{className:"opacity-75",children:jsxRuntimeExports.jsx(CardContent$1,{className:"p-4",children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-base",children:$n.title}),jsxRuntimeExports.jsx(Badge,{className:_n($n.status),children:$n.status.replace("_"," ")})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),yn($n.meetingDate)]}),En($n.startTime,$n.endTime)&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),En($n.startTime,$n.endTime)]}),$n.location&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jn($n.meetingType),$n.location]})]})]})})})},$n.id))})]}),bn.length===0&&!sn&&jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardContent$1,{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white mb-2",children:"No meetings scheduled"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start by scheduling your first team meeting"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>un(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Schedule First Meeting"]})]})})]})}const MeetingHelpWrapper=({children:tn,type:sn})=>{const dn=(()=>{switch(sn){case"schedule":return{title:"Meeting Scheduling",content:"Creating meetings helps everyone stay organized! Add the date, time, and details so team members can plan ahead. Don't worry if you need to change details later - meetings can always be updated.",character:"coordinator"};case"agenda":return{title:"Meeting Agendas",content:"A good agenda keeps meetings focused and productive! List the topics you want to discuss so everyone comes prepared. This helps make the most of everyone's valuable time.",character:"coordinator"};case"minutes":return{title:"Meeting Minutes",content:"Recording what happened in meetings is so important! These notes help people who couldn't attend stay informed and serve as a record of decisions made and next steps.",character:"helper"};case"attendance":return{title:"Tracking Attendance",content:"Knowing who attended helps with follow-up communication and ensures important information reaches the right people. It's also helpful for understanding engagement patterns.",character:"helper"};default:return{title:"Meeting Management",content:"This section helps you organize all aspects of your meetings efficiently and effectively!",character:"coordinator"}}})();return jsxRuntimeExports.jsx(HelpBubble$1,{title:dn.title,content:dn.content,character:dn.character,position:"top",trigger:"hover",children:tn})};function UnifiedMeetings(){const[tn,sn]=reactExports.useState("minutes");return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-xl",children:jsxRuntimeExports.jsx(ClipboardList,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Meetings"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage meeting minutes, agendas, and calendar"})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:tn,onValueChange:sn,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(MeetingHelpWrapper,{type:"minutes",children:jsxRuntimeExports.jsxs(TabsTrigger,{value:"minutes",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Minutes"]})}),jsxRuntimeExports.jsx(MeetingHelpWrapper,{type:"agenda",children:jsxRuntimeExports.jsxs(TabsTrigger,{value:"agenda",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ClipboardList,{className:"w-4 h-4"}),"Agenda"]})}),jsxRuntimeExports.jsx(MeetingHelpWrapper,{type:"schedule",children:jsxRuntimeExports.jsxs(TabsTrigger,{value:"calendar",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),"Calendar"]})})]}),jsxRuntimeExports.jsx(TabsContent,{value:"minutes",className:"mt-6",children:jsxRuntimeExports.jsx(MeetingMinutes,{isEmbedded:!0})}),jsxRuntimeExports.jsx(TabsContent,{value:"agenda",className:"mt-6",children:jsxRuntimeExports.jsx(MeetingAgenda,{isEmbedded:!0})}),jsxRuntimeExports.jsx(TabsContent,{value:"calendar",className:"mt-6",children:jsxRuntimeExports.jsx(MeetingCalendar,{isEmbedded:!0})})]}),jsxRuntimeExports.jsx(QuickHelp,{section:"meetings"})]})}const sampleUsers={[USER_ROLES.ADMIN]:{id:"admin-1",role:USER_ROLES.ADMIN,firstName:"Sarah",lastName:"Admin",email:"sarah@tsp.org",permissions:getDefaultPermissionsForRole(USER_ROLES.ADMIN)},[USER_ROLES.COMMITTEE_MEMBER]:{id:"committee-1",role:USER_ROLES.COMMITTEE_MEMBER,firstName:"Mike",lastName:"Committee",email:"mike@tsp.org",permissions:getDefaultPermissionsForRole(USER_ROLES.COMMITTEE_MEMBER)},[USER_ROLES.HOST]:{id:"host-1",role:USER_ROLES.HOST,firstName:"Lisa",lastName:"Host",email:"lisa@community.org",permissions:getDefaultPermissionsForRole(USER_ROLES.HOST)},[USER_ROLES.DRIVER]:{id:"driver-1",role:USER_ROLES.DRIVER,firstName:"Carlos",lastName:"Driver",email:"carlos@volunteers.org",permissions:getDefaultPermissionsForRole(USER_ROLES.DRIVER)},[USER_ROLES.VOLUNTEER]:{id:"volunteer-1",role:USER_ROLES.VOLUNTEER,firstName:"Emma",lastName:"Volunteer",email:"emma@helpers.org",permissions:getDefaultPermissionsForRole(USER_ROLES.VOLUNTEER)},[USER_ROLES.RECIPIENT]:{id:"recipient-1",role:USER_ROLES.RECIPIENT,firstName:"David",lastName:"Recipient",email:"david@community.org",permissions:getDefaultPermissionsForRole(USER_ROLES.RECIPIENT)},[USER_ROLES.VIEWER]:{id:"viewer-1",role:USER_ROLES.VIEWER,firstName:"Alex",lastName:"Viewer",email:"alex@public.org",permissions:getDefaultPermissionsForRole(USER_ROLES.VIEWER)}},roleIcons={[USER_ROLES.ADMIN]:Shield,[USER_ROLES.COMMITTEE_MEMBER]:UserCheck,[USER_ROLES.HOST]:House,[USER_ROLES.DRIVER]:Truck,[USER_ROLES.VOLUNTEER]:Heart,[USER_ROLES.RECIPIENT]:Users,[USER_ROLES.VIEWER]:Eye},roleColors={[USER_ROLES.ADMIN]:"bg-red-100 text-red-800",[USER_ROLES.COMMITTEE_MEMBER]:"bg-purple-100 text-purple-800",[USER_ROLES.HOST]:"bg-blue-100 text-blue-800",[USER_ROLES.DRIVER]:"bg-green-100 text-green-800",[USER_ROLES.VOLUNTEER]:"bg-orange-100 text-orange-800",[USER_ROLES.RECIPIENT]:"bg-yellow-100 text-yellow-800",[USER_ROLES.VIEWER]:"bg-gray-100 text-gray-800"},permissionCategories={"Core Access":[PERMISSIONS.VIEW_PHONE_DIRECTORY],"Data Management":[PERMISSIONS.EDIT_COLLECTIONS,PERMISSIONS.DELETE_COLLECTIONS,PERMISSIONS.MANAGE_USERS],Communication:[PERMISSIONS.GENERAL_CHAT,PERMISSIONS.COMMITTEE_CHAT,PERMISSIONS.HOST_CHAT,PERMISSIONS.DRIVER_CHAT,PERMISSIONS.RECIPIENT_CHAT],"Data Viewing":[PERMISSIONS.VIEW_COLLECTIONS,PERMISSIONS.VIEW_REPORTS,PERMISSIONS.VIEW_PROJECTS],Tools:[PERMISSIONS.TOOLKIT_ACCESS]},permissionIcons={[PERMISSIONS.VIEW_PHONE_DIRECTORY]:Phone,[PERMISSIONS.EDIT_COLLECTIONS]:SquarePen,[PERMISSIONS.DELETE_COLLECTIONS]:Trash2,[PERMISSIONS.MANAGE_USERS]:Users,[PERMISSIONS.GENERAL_CHAT]:MessageCircle,[PERMISSIONS.COMMITTEE_CHAT]:MessageCircle,[PERMISSIONS.HOST_CHAT]:MessageCircle,[PERMISSIONS.DRIVER_CHAT]:MessageCircle,[PERMISSIONS.RECIPIENT_CHAT]:MessageCircle,[PERMISSIONS.VIEW_COLLECTIONS]:FileText,[PERMISSIONS.VIEW_REPORTS]:ChartColumn,[PERMISSIONS.VIEW_PROJECTS]:FileText,[PERMISSIONS.TOOLKIT_ACCESS]:Heart};function RoleView({user:tn}){const sn=roleIcons[tn.role],un=roleColors[tn.role];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(sn,{className:"w-8 h-8 text-blue-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl",children:[tn.firstName," ",tn.lastName]}),jsxRuntimeExports.jsx(CardDescription,{children:tn.email})]}),jsxRuntimeExports.jsx(Badge,{className:un,children:tn.role.replace("_"," ").toUpperCase()})]})})}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Dashboard Access"}),jsxRuntimeExports.jsx(CardDescription,{children:"What this user would see in the main dashboard"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${hasPermission(tn,PERMISSIONS.VIEW_PHONE_DIRECTORY)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsx(Phone,{className:"w-6 h-6 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Phone Directory"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:hasPermission(tn,PERMISSIONS.VIEW_PHONE_DIRECTORY)?"Full Access":"No Access"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${hasPermission(tn,PERMISSIONS.EDIT_COLLECTIONS)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-6 h-6 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Edit Data"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:hasPermission(tn,PERMISSIONS.EDIT_COLLECTIONS)?"Can Edit":"Read Only"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${hasPermission(tn,PERMISSIONS.VIEW_REPORTS)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-6 h-6 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Reports"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:hasPermission(tn,PERMISSIONS.VIEW_REPORTS)?"Can View":"No Access"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${hasPermission(tn,PERMISSIONS.VIEW_COLLECTIONS)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Collections"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:hasPermission(tn,PERMISSIONS.VIEW_COLLECTIONS)?"Can View":"No Access"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${hasPermission(tn,PERMISSIONS.MANAGE_USERS)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsx(Users,{className:"w-6 h-6 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"User Management"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:hasPermission(tn,PERMISSIONS.MANAGE_USERS)?"Full Access":"No Access"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-lg border ${hasPermission(tn,PERMISSIONS.TOOLKIT_ACCESS)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6 mb-2"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Volunteer Toolkit"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:hasPermission(tn,PERMISSIONS.TOOLKIT_ACCESS)?"Can Access":"No Access"})]})]})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Communication Access"}),jsxRuntimeExports.jsx(CardDescription,{children:"Available chat channels for this role"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{perm:PERMISSIONS.GENERAL_CHAT,name:"General Chat",desc:"Open discussion for all members"},{perm:PERMISSIONS.COMMITTEE_CHAT,name:"Committee Chat",desc:"Committee members only"},{perm:PERMISSIONS.HOST_CHAT,name:"Host Chat",desc:"Host coordination channel"},{perm:PERMISSIONS.DRIVER_CHAT,name:"Driver Chat",desc:"Driver coordination channel"},{perm:PERMISSIONS.RECIPIENT_CHAT,name:"Recipient Chat",desc:"Support and updates for recipients"}].map(dn=>jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg border ${hasPermission(tn,dn.perm)?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200 opacity-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:dn.name}),hasPermission(tn,dn.perm)&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Access"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mt-1",children:dn.desc})]},dn.perm))})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Detailed Permissions"}),jsxRuntimeExports.jsx(CardDescription,{children:"Complete breakdown of what this role can access"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Object.entries(permissionCategories).map(([dn,pn])=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:dn}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:pn.map(mn=>{const hn=hasPermission(tn,mn),fn=permissionIcons[mn];return jsxRuntimeExports.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded ${hn?"bg-green-50":"bg-gray-50"}`,children:[jsxRuntimeExports.jsx(fn,{className:`w-4 h-4 ${hn?"text-green-600":"text-gray-400"}`}),jsxRuntimeExports.jsx("span",{className:`text-sm ${hn?"text-green-800":"text-gray-500"}`,children:mn.replace(/_/g," ").replace(/\b\w/g,gn=>gn.toUpperCase())}),jsxRuntimeExports.jsx(Badge,{variant:hn?"default":"secondary",className:"text-xs",children:hn?"✓":"✗"})]},mn)})})]},dn))})})]})]})}function RoleDemo(){const[tn,sn]=reactExports.useState(USER_ROLES.ADMIN);return jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Role Access Demonstration"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"View how different user roles experience the application with varying permissions and access levels."})]}),jsxRuntimeExports.jsxs(Tabs,{value:tn,onValueChange:un=>sn(un),className:"space-y-6",children:[jsxRuntimeExports.jsx(TabsList,{className:"grid grid-cols-4 lg:grid-cols-7 w-full",children:Object.values(USER_ROLES).map(un=>{const dn=roleIcons[un];return jsxRuntimeExports.jsxs(TabsTrigger,{value:un,className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(dn,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden md:inline",children:un.replace("_"," ")})]},un)})}),Object.values(USER_ROLES).map(un=>jsxRuntimeExports.jsx(TabsContent,{value:un,children:jsxRuntimeExports.jsx(RoleView,{user:sampleUsers[un]})},un))]}),jsxRuntimeExports.jsxs(Card$1,{className:"mt-8",children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Role Comparison Summary"}),jsxRuntimeExports.jsx(CardDescription,{children:"Quick overview of what each role can do"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("th",{className:"text-left p-2",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"text-center p-2",children:"Phone Directory"}),jsxRuntimeExports.jsx("th",{className:"text-center p-2",children:"Edit Data"}),jsxRuntimeExports.jsx("th",{className:"text-center p-2",children:"Committee Chat"}),jsxRuntimeExports.jsx("th",{className:"text-center p-2",children:"Host/Driver Chat"}),jsxRuntimeExports.jsx("th",{className:"text-center p-2",children:"Manage Users"})]})}),jsxRuntimeExports.jsx("tbody",{children:Object.values(USER_ROLES).map(un=>{const dn=sampleUsers[un],pn=roleIcons[un];return jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(pn,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:un.replace("_"," ")})]})}),jsxRuntimeExports.jsx("td",{className:"text-center p-2",children:hasPermission(dn,PERMISSIONS.VIEW_PHONE_DIRECTORY)?"✅":"❌"}),jsxRuntimeExports.jsx("td",{className:"text-center p-2",children:hasPermission(dn,PERMISSIONS.EDIT_COLLECTIONS)?"✅":"❌"}),jsxRuntimeExports.jsx("td",{className:"text-center p-2",children:hasPermission(dn,PERMISSIONS.COMMITTEE_CHAT)?"✅":"❌"}),jsxRuntimeExports.jsx("td",{className:"text-center p-2",children:hasPermission(dn,PERMISSIONS.HOST_CHAT)||hasPermission(dn,PERMISSIONS.DRIVER_CHAT)?"✅":"❌"}),jsxRuntimeExports.jsx("td",{className:"text-center p-2",children:hasPermission(dn,PERMISSIONS.MANAGE_USERS)?"✅":"❌"})]},un)})})]})})})]})]})}const LayoutGroupContext=reactExports.createContext({});function useConstant(tn){const sn=reactExports.useRef(null);return sn.current===null&&(sn.current=tn()),sn.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:tn=>tn,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(sn){const un=this.props.childRef.current;if(un&&sn.isPresent&&!this.props.isPresent){const dn=this.props.sizeRef.current;dn.height=un.offsetHeight||0,dn.width=un.offsetWidth||0,dn.top=un.offsetTop,dn.left=un.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:tn,isPresent:sn}){const un=reactExports.useId(),dn=reactExports.useRef(null),pn=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:mn}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:hn,height:fn,top:gn,left:xn}=pn.current;if(sn||!dn.current||!hn||!fn)return;dn.current.dataset.motionPopId=un;const yn=document.createElement("style");return mn&&(yn.nonce=mn),document.head.appendChild(yn),yn.sheet&&yn.sheet.insertRule(`
          [data-motion-pop-id="${un}"] {
            position: absolute !important;
            width: ${hn}px !important;
            height: ${fn}px !important;
            top: ${gn}px !important;
            left: ${xn}px !important;
          }
        `),()=>{document.head.removeChild(yn)}},[sn]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:sn,childRef:dn,sizeRef:pn,children:reactExports.cloneElement(tn,{ref:dn})})}const PresenceChild=({children:tn,initial:sn,isPresent:un,onExitComplete:dn,custom:pn,presenceAffectsLayout:mn,mode:hn})=>{const fn=useConstant(newChildrenMap),gn=reactExports.useId(),xn=reactExports.useCallback(vn=>{fn.set(vn,!0);for(const En of fn.values())if(!En)return;dn&&dn()},[fn,dn]),yn=reactExports.useMemo(()=>({id:gn,initial:sn,isPresent:un,custom:pn,onExitComplete:xn,register:vn=>(fn.set(vn,!1),()=>fn.delete(vn))}),mn?[Math.random(),xn]:[un,xn]);return reactExports.useMemo(()=>{fn.forEach((vn,En)=>fn.set(En,!1))},[un]),reactExports.useEffect(()=>{!un&&!fn.size&&dn&&dn()},[un]),hn==="popLayout"&&(tn=jsxRuntimeExports.jsx(PopChild,{isPresent:un,children:tn})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:yn,children:tn})};function newChildrenMap(){return new Map}function usePresence(tn=!0){const sn=reactExports.useContext(PresenceContext);if(sn===null)return[!0,null];const{isPresent:un,onExitComplete:dn,register:pn}=sn,mn=reactExports.useId();reactExports.useEffect(()=>{tn&&pn(mn)},[tn]);const hn=reactExports.useCallback(()=>tn&&dn&&dn(mn),[mn,dn,tn]);return!un&&dn?[!1,hn]:[!0]}const getChildKey=tn=>tn.key||"";function onlyElements(tn){const sn=[];return reactExports.Children.forEach(tn,un=>{reactExports.isValidElement(un)&&sn.push(un)}),sn}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:tn,custom:sn,initial:un=!0,onExitComplete:dn,presenceAffectsLayout:pn=!0,mode:mn="sync",propagate:hn=!1})=>{const[fn,gn]=usePresence(hn),xn=reactExports.useMemo(()=>onlyElements(tn),[tn]),yn=hn&&!fn?[]:xn.map(getChildKey),vn=reactExports.useRef(!0),En=reactExports.useRef(xn),bn=useConstant(()=>new Map),[wn,Sn]=reactExports.useState(xn),[Rn,_n]=reactExports.useState(xn);useIsomorphicLayoutEffect$2(()=>{vn.current=!1,En.current=xn;for(let An=0;An<Rn.length;An++){const Tn=getChildKey(Rn[An]);yn.includes(Tn)?bn.delete(Tn):bn.get(Tn)!==!0&&bn.set(Tn,!1)}},[Rn,yn.length,yn.join("-")]);const jn=[];if(xn!==wn){let An=[...xn];for(let Tn=0;Tn<Rn.length;Tn++){const $n=Rn[Tn],Dn=getChildKey($n);yn.includes(Dn)||(An.splice(Tn,0,$n),jn.push($n))}mn==="wait"&&jn.length&&(An=jn),_n(onlyElements(An)),Sn(xn);return}const{forceRender:Cn}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Rn.map(An=>{const Tn=getChildKey(An),$n=hn&&!fn?!1:xn===Rn||yn.includes(Tn),Dn=()=>{if(bn.has(Tn))bn.set(Tn,!0);else return;let Nn=!0;bn.forEach(kn=>{kn||(Nn=!1)}),Nn&&(Cn==null||Cn(),_n(En.current),hn&&(gn==null||gn()),dn&&dn())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:$n,initial:!vn.current||un?void 0:!1,custom:$n?void 0:sn,presenceAffectsLayout:pn,mode:mn,onExitComplete:$n?void 0:Dn,children:An},Tn)})})},noop$9=tn=>tn;let invariant=noop$9;function memo(tn){let sn;return()=>(sn===void 0&&(sn=tn()),sn)}const progress=(tn,sn,un)=>{const dn=sn-tn;return dn===0?1:(un-tn)/dn},secondsToMilliseconds=tn=>tn*1e3,millisecondsToSeconds=tn=>tn/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(tn){let sn=new Set,un=new Set,dn=!1,pn=!1;const mn=new WeakSet;let hn={delta:0,timestamp:0,isProcessing:!1};function fn(xn){mn.has(xn)&&(gn.schedule(xn),tn()),xn(hn)}const gn={schedule:(xn,yn=!1,vn=!1)=>{const bn=vn&&dn?sn:un;return yn&&mn.add(xn),bn.has(xn)||bn.add(xn),xn},cancel:xn=>{un.delete(xn),mn.delete(xn)},process:xn=>{if(hn=xn,dn){pn=!0;return}dn=!0,[sn,un]=[un,sn],sn.forEach(fn),sn.clear(),dn=!1,pn&&(pn=!1,gn.process(xn))}};return gn}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(tn,sn){let un=!1,dn=!0;const pn={delta:0,timestamp:0,isProcessing:!1},mn=()=>un=!0,hn=stepsOrder.reduce((_n,jn)=>(_n[jn]=createRenderStep(mn),_n),{}),{read:fn,resolveKeyframes:gn,update:xn,preRender:yn,render:vn,postRender:En}=hn,bn=()=>{const _n=performance.now();un=!1,pn.delta=dn?1e3/60:Math.max(Math.min(_n-pn.timestamp,maxElapsed),1),pn.timestamp=_n,pn.isProcessing=!0,fn.process(pn),gn.process(pn),xn.process(pn),yn.process(pn),vn.process(pn),En.process(pn),pn.isProcessing=!1,un&&sn&&(dn=!1,tn(bn))},wn=()=>{un=!0,dn=!0,pn.isProcessing||tn(bn)};return{schedule:stepsOrder.reduce((_n,jn)=>{const Cn=hn[jn];return _n[jn]=(An,Tn=!1,$n=!1)=>(un||wn(),Cn.schedule(An,Tn,$n)),_n},{}),cancel:_n=>{for(let jn=0;jn<stepsOrder.length;jn++)hn[stepsOrder[jn]].cancel(_n)},state:pn,steps:hn}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$9,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const tn in featureProps)featureDefinitions[tn]={isEnabled:sn=>featureProps[tn].some(un=>!!sn[un])};function loadFeatures(tn){for(const sn in tn)featureDefinitions[sn]={...featureDefinitions[sn],...tn[sn]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(tn){return tn.startsWith("while")||tn.startsWith("drag")&&tn!=="draggable"||tn.startsWith("layout")||tn.startsWith("onTap")||tn.startsWith("onPan")||tn.startsWith("onLayout")||validMotionProps.has(tn)}let shouldForward=tn=>!isValidMotionProp(tn);function loadExternalIsValidProp(tn){tn&&(shouldForward=sn=>sn.startsWith("on")?!isValidMotionProp(sn):tn(sn))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(tn){}function filterProps(tn,sn,un){const dn={};for(const pn in tn)pn==="values"&&typeof tn.values=="object"||(shouldForward(pn)||un===!0&&isValidMotionProp(pn)||!sn&&!isValidMotionProp(pn)||tn.draggable&&pn.startsWith("onDrag"))&&(dn[pn]=tn[pn]);return dn}function createDOMMotionComponentProxy(tn){if(typeof Proxy>"u")return tn;const sn=new Map,un=(...dn)=>tn(...dn);return new Proxy(un,{get:(dn,pn)=>pn==="create"?tn:(sn.has(pn)||sn.set(pn,tn(pn)),sn.get(pn))})}const MotionContext=reactExports.createContext({});function isVariantLabel(tn){return typeof tn=="string"||Array.isArray(tn)}function isAnimationControls(tn){return tn!==null&&typeof tn=="object"&&typeof tn.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(tn){return isAnimationControls(tn.animate)||variantProps.some(sn=>isVariantLabel(tn[sn]))}function isVariantNode(tn){return!!(isControllingVariants(tn)||tn.variants)}function getCurrentTreeVariants(tn,sn){if(isControllingVariants(tn)){const{initial:un,animate:dn}=tn;return{initial:un===!1||isVariantLabel(un)?un:void 0,animate:isVariantLabel(dn)?dn:void 0}}return tn.inherit!==!1?sn:{}}function useCreateMotionContext(tn){const{initial:sn,animate:un}=getCurrentTreeVariants(tn,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:sn,animate:un}),[variantLabelsAsDependency(sn),variantLabelsAsDependency(un)])}function variantLabelsAsDependency(tn){return Array.isArray(tn)?tn.join(" "):tn}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(tn){return tn&&typeof tn=="object"&&Object.prototype.hasOwnProperty.call(tn,"current")}function useMotionRef(tn,sn,un){return reactExports.useCallback(dn=>{dn&&tn.onMount&&tn.onMount(dn),sn&&(dn?sn.mount(dn):sn.unmount()),un&&(typeof un=="function"?un(dn):isRefObject(un)&&(un.current=dn))},[sn])}const camelToDash=tn=>tn.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(tn,sn,un,dn,pn){var mn,hn;const{visualElement:fn}=reactExports.useContext(MotionContext),gn=reactExports.useContext(LazyContext),xn=reactExports.useContext(PresenceContext),yn=reactExports.useContext(MotionConfigContext).reducedMotion,vn=reactExports.useRef(null);dn=dn||gn.renderer,!vn.current&&dn&&(vn.current=dn(tn,{visualState:sn,parent:fn,props:un,presenceContext:xn,blockInitialAnimation:xn?xn.initial===!1:!1,reducedMotionConfig:yn}));const En=vn.current,bn=reactExports.useContext(SwitchLayoutGroupContext);En&&!En.projection&&pn&&(En.type==="html"||En.type==="svg")&&createProjectionNode$1(vn.current,un,pn,bn);const wn=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{En&&wn.current&&En.update(un,xn)});const Sn=un[optimizedAppearDataAttribute],Rn=reactExports.useRef(!!Sn&&!(!((mn=window.MotionHandoffIsComplete)===null||mn===void 0)&&mn.call(window,Sn))&&((hn=window.MotionHasOptimisedAnimation)===null||hn===void 0?void 0:hn.call(window,Sn)));return useIsomorphicLayoutEffect$2(()=>{En&&(wn.current=!0,window.MotionIsMounted=!0,En.updateFeatures(),microtask.render(En.render),Rn.current&&En.animationState&&En.animationState.animateChanges())}),reactExports.useEffect(()=>{En&&(!Rn.current&&En.animationState&&En.animationState.animateChanges(),Rn.current&&(queueMicrotask(()=>{var _n;(_n=window.MotionHandoffMarkAsComplete)===null||_n===void 0||_n.call(window,Sn)}),Rn.current=!1))}),En}function createProjectionNode$1(tn,sn,un,dn){const{layoutId:pn,layout:mn,drag:hn,dragConstraints:fn,layoutScroll:gn,layoutRoot:xn}=sn;tn.projection=new un(tn.latestValues,sn["data-framer-portal-id"]?void 0:getClosestProjectingNode(tn.parent)),tn.projection.setOptions({layoutId:pn,layout:mn,alwaysMeasureLayout:!!hn||fn&&isRefObject(fn),visualElement:tn,animationType:typeof mn=="string"?mn:"both",initialPromotionConfig:dn,layoutScroll:gn,layoutRoot:xn})}function getClosestProjectingNode(tn){if(tn)return tn.options.allowProjection!==!1?tn.projection:getClosestProjectingNode(tn.parent)}function createRendererMotionComponent({preloadedFeatures:tn,createVisualElement:sn,useRender:un,useVisualState:dn,Component:pn}){var mn,hn;tn&&loadFeatures(tn);function fn(xn,yn){let vn;const En={...reactExports.useContext(MotionConfigContext),...xn,layoutId:useLayoutId(xn)},{isStatic:bn}=En,wn=useCreateMotionContext(xn),Sn=dn(xn,bn);if(!bn&&isBrowser){useStrictMode();const Rn=getProjectionFunctionality(En);vn=Rn.MeasureLayout,wn.visualElement=useVisualElement(pn,Sn,En,sn,Rn.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:wn,children:[vn&&wn.visualElement?jsxRuntimeExports.jsx(vn,{visualElement:wn.visualElement,...En}):null,un(pn,xn,useMotionRef(Sn,wn.visualElement,yn),Sn,bn,wn.visualElement)]})}fn.displayName=`motion.${typeof pn=="string"?pn:`create(${(hn=(mn=pn.displayName)!==null&&mn!==void 0?mn:pn.name)!==null&&hn!==void 0?hn:""})`}`;const gn=reactExports.forwardRef(fn);return gn[motionComponentSymbol]=pn,gn}function useLayoutId({layoutId:tn}){const sn=reactExports.useContext(LayoutGroupContext).id;return sn&&tn!==void 0?sn+"-"+tn:tn}function useStrictMode(tn,sn){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(tn){const{drag:sn,layout:un}=featureDefinitions;if(!sn&&!un)return{};const dn={...sn,...un};return{MeasureLayout:sn!=null&&sn.isEnabled(tn)||un!=null&&un.isEnabled(tn)?dn.MeasureLayout:void 0,ProjectionNode:dn.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(tn){return typeof tn!="string"||tn.includes("-")?!1:!!(lowercaseSVGElements.indexOf(tn)>-1||/[A-Z]/u.test(tn))}function getValueState(tn){const sn=[{},{}];return tn==null||tn.values.forEach((un,dn)=>{sn[0][dn]=un.get(),sn[1][dn]=un.getVelocity()}),sn}function resolveVariantFromProps(tn,sn,un,dn){if(typeof sn=="function"){const[pn,mn]=getValueState(dn);sn=sn(un!==void 0?un:tn.custom,pn,mn)}if(typeof sn=="string"&&(sn=tn.variants&&tn.variants[sn]),typeof sn=="function"){const[pn,mn]=getValueState(dn);sn=sn(un!==void 0?un:tn.custom,pn,mn)}return sn}const isKeyframesTarget=tn=>Array.isArray(tn),isCustomValue=tn=>!!(tn&&typeof tn=="object"&&tn.mix&&tn.toValue),resolveFinalValueInKeyframes=tn=>isKeyframesTarget(tn)?tn[tn.length-1]||0:tn,isMotionValue=tn=>!!(tn&&tn.getVelocity);function resolveMotionValue(tn){const sn=isMotionValue(tn)?tn.get():tn;return isCustomValue(sn)?sn.toValue():sn}function makeState$2({scrapeMotionValuesFromProps:tn,createRenderState:sn,onUpdate:un},dn,pn,mn){const hn={latestValues:makeLatestValues(dn,pn,mn,tn),renderState:sn()};return un&&(hn.onMount=fn=>un({props:dn,current:fn,...hn}),hn.onUpdate=fn=>un(fn)),hn}const makeUseVisualState=tn=>(sn,un)=>{const dn=reactExports.useContext(MotionContext),pn=reactExports.useContext(PresenceContext),mn=()=>makeState$2(tn,sn,dn,pn);return un?mn():useConstant(mn)};function makeLatestValues(tn,sn,un,dn){const pn={},mn=dn(tn,{});for(const En in mn)pn[En]=resolveMotionValue(mn[En]);let{initial:hn,animate:fn}=tn;const gn=isControllingVariants(tn),xn=isVariantNode(tn);sn&&xn&&!gn&&tn.inherit!==!1&&(hn===void 0&&(hn=sn.initial),fn===void 0&&(fn=sn.animate));let yn=un?un.initial===!1:!1;yn=yn||hn===!1;const vn=yn?fn:hn;if(vn&&typeof vn!="boolean"&&!isAnimationControls(vn)){const En=Array.isArray(vn)?vn:[vn];for(let bn=0;bn<En.length;bn++){const wn=resolveVariantFromProps(tn,En[bn]);if(wn){const{transitionEnd:Sn,transition:Rn,..._n}=wn;for(const jn in _n){let Cn=_n[jn];if(Array.isArray(Cn)){const An=yn?Cn.length-1:0;Cn=Cn[An]}Cn!==null&&(pn[jn]=Cn)}for(const jn in Sn)pn[jn]=Sn[jn]}}}return pn}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=tn=>sn=>typeof sn=="string"&&sn.startsWith(tn),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=tn=>startsAsVariableToken(tn)?singleCssVariableRegex.test(tn.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(tn,sn)=>sn&&typeof tn=="number"?sn.transform(tn):tn,clamp=(tn,sn,un)=>un>sn?sn:un<tn?tn:un,number$2={test:tn=>typeof tn=="number",parse:parseFloat,transform:tn=>tn},alpha$2={...number$2,transform:tn=>clamp(0,1,tn)},scale={...number$2,default:1},createUnitType=tn=>({test:sn=>typeof sn=="string"&&sn.endsWith(tn)&&sn.split(" ").length===1,parse:parseFloat,transform:sn=>`${sn}${tn}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:tn=>percent.parse(tn)/100,transform:tn=>percent.transform(tn*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$2,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number$2,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha$2,strokeOpacity:alpha$2,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(tn,sn,un){let dn="",pn=!0;for(let mn=0;mn<numTransforms;mn++){const hn=transformPropOrder[mn],fn=tn[hn];if(fn===void 0)continue;let gn=!0;if(typeof fn=="number"?gn=fn===(hn.startsWith("scale")?1:0):gn=parseFloat(fn)===0,!gn||un){const xn=getValueAsType(fn,numberValueTypes[hn]);if(!gn){pn=!1;const yn=translateAlias[hn]||hn;dn+=`${yn}(${xn}) `}un&&(sn[hn]=xn)}}return dn=dn.trim(),un?dn=un(sn,pn?"":dn):pn&&(dn="none"),dn}function buildHTMLStyles(tn,sn,un){const{style:dn,vars:pn,transformOrigin:mn}=tn;let hn=!1,fn=!1;for(const gn in sn){const xn=sn[gn];if(transformProps.has(gn)){hn=!0;continue}else if(isCSSVariableName(gn)){pn[gn]=xn;continue}else{const yn=getValueAsType(xn,numberValueTypes[gn]);gn.startsWith("origin")?(fn=!0,mn[gn]=yn):dn[gn]=yn}}if(sn.transform||(hn||un?dn.transform=buildTransform(sn,tn.transform,un):dn.transform&&(dn.transform="none")),fn){const{originX:gn="50%",originY:xn="50%",originZ:yn=0}=mn;dn.transformOrigin=`${gn} ${xn} ${yn}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(tn,sn,un=1,dn=0,pn=!0){tn.pathLength=1;const mn=pn?dashKeys:camelKeys;tn[mn.offset]=px.transform(-dn);const hn=px.transform(sn),fn=px.transform(un);tn[mn.array]=`${hn} ${fn}`}function calcOrigin$1(tn,sn,un){return typeof tn=="string"?tn:px.transform(sn+un*tn)}function calcSVGTransformOrigin(tn,sn,un){const dn=calcOrigin$1(sn,tn.x,tn.width),pn=calcOrigin$1(un,tn.y,tn.height);return`${dn} ${pn}`}function buildSVGAttrs(tn,{attrX:sn,attrY:un,attrScale:dn,originX:pn,originY:mn,pathLength:hn,pathSpacing:fn=1,pathOffset:gn=0,...xn},yn,vn){if(buildHTMLStyles(tn,xn,vn),yn){tn.style.viewBox&&(tn.attrs.viewBox=tn.style.viewBox);return}tn.attrs=tn.style,tn.style={};const{attrs:En,style:bn,dimensions:wn}=tn;En.transform&&(wn&&(bn.transform=En.transform),delete En.transform),wn&&(pn!==void 0||mn!==void 0||bn.transform)&&(bn.transformOrigin=calcSVGTransformOrigin(wn,pn!==void 0?pn:.5,mn!==void 0?mn:.5)),sn!==void 0&&(En.x=sn),un!==void 0&&(En.y=un),dn!==void 0&&(En.scale=dn),hn!==void 0&&buildSVGPath(En,hn,fn,gn,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=tn=>typeof tn=="string"&&tn.toLowerCase()==="svg";function renderHTML(tn,{style:sn,vars:un},dn,pn){Object.assign(tn.style,sn,pn&&pn.getProjectionStyles(dn));for(const mn in un)tn.style.setProperty(mn,un[mn])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(tn,sn,un,dn){renderHTML(tn,sn,void 0,dn);for(const pn in sn.attrs)tn.setAttribute(camelCaseAttributes.has(pn)?pn:camelToDash(pn),sn.attrs[pn])}const scaleCorrectors={};function addScaleCorrector(tn){Object.assign(scaleCorrectors,tn)}function isForcedMotionValue(tn,{layout:sn,layoutId:un}){return transformProps.has(tn)||tn.startsWith("origin")||(sn||un!==void 0)&&(!!scaleCorrectors[tn]||tn==="opacity")}function scrapeMotionValuesFromProps$1(tn,sn,un){var dn;const{style:pn}=tn,mn={};for(const hn in pn)(isMotionValue(pn[hn])||sn.style&&isMotionValue(sn.style[hn])||isForcedMotionValue(hn,tn)||((dn=un==null?void 0:un.getValue(hn))===null||dn===void 0?void 0:dn.liveStyle)!==void 0)&&(mn[hn]=pn[hn]);return mn}function scrapeMotionValuesFromProps(tn,sn,un){const dn=scrapeMotionValuesFromProps$1(tn,sn,un);for(const pn in tn)if(isMotionValue(tn[pn])||isMotionValue(sn[pn])){const mn=transformPropOrder.indexOf(pn)!==-1?"attr"+pn.charAt(0).toUpperCase()+pn.substring(1):pn;dn[mn]=tn[pn]}return dn}function updateSVGDimensions(tn,sn){try{sn.dimensions=typeof tn.getBBox=="function"?tn.getBBox():tn.getBoundingClientRect()}catch{sn.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:tn,prevProps:sn,current:un,renderState:dn,latestValues:pn})=>{if(!un)return;let mn=!!tn.drag;if(!mn){for(const fn in pn)if(transformProps.has(fn)){mn=!0;break}}if(!mn)return;let hn=!sn;if(sn)for(let fn=0;fn<layoutProps.length;fn++){const gn=layoutProps[fn];tn[gn]!==sn[gn]&&(hn=!0)}hn&&frame.read(()=>{updateSVGDimensions(un,dn),frame.render(()=>{buildSVGAttrs(dn,pn,isSVGTag(un.tagName),tn.transformTemplate),renderSVG(un,dn)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(tn,sn,un){for(const dn in sn)!isMotionValue(sn[dn])&&!isForcedMotionValue(dn,un)&&(tn[dn]=sn[dn])}function useInitialMotionValues({transformTemplate:tn},sn){return reactExports.useMemo(()=>{const un=createHtmlRenderState();return buildHTMLStyles(un,sn,tn),Object.assign({},un.vars,un.style)},[sn])}function useStyle(tn,sn){const un=tn.style||{},dn={};return copyRawValuesOnly(dn,un,tn),Object.assign(dn,useInitialMotionValues(tn,sn)),dn}function useHTMLProps(tn,sn){const un={},dn=useStyle(tn,sn);return tn.drag&&tn.dragListener!==!1&&(un.draggable=!1,dn.userSelect=dn.WebkitUserSelect=dn.WebkitTouchCallout="none",dn.touchAction=tn.drag===!0?"none":`pan-${tn.drag==="x"?"y":"x"}`),tn.tabIndex===void 0&&(tn.onTap||tn.onTapStart||tn.whileTap)&&(un.tabIndex=0),un.style=dn,un}function useSVGProps(tn,sn,un,dn){const pn=reactExports.useMemo(()=>{const mn=createSvgRenderState();return buildSVGAttrs(mn,sn,isSVGTag(dn),tn.transformTemplate),{...mn.attrs,style:{...mn.style}}},[sn]);if(tn.style){const mn={};copyRawValuesOnly(mn,tn.style,tn),pn.style={...mn,...pn.style}}return pn}function createUseRender(tn=!1){return(un,dn,pn,{latestValues:mn},hn)=>{const gn=(isSVGComponent(un)?useSVGProps:useHTMLProps)(dn,mn,hn,un),xn=filterProps(dn,typeof un=="string",tn),yn=un!==reactExports.Fragment?{...xn,...gn,ref:pn}:{},{children:vn}=dn,En=reactExports.useMemo(()=>isMotionValue(vn)?vn.get():vn,[vn]);return reactExports.createElement(un,{...yn,children:En})}}function createMotionComponentFactory(tn,sn){return function(dn,{forwardMotionProps:pn}={forwardMotionProps:!1}){const hn={...isSVGComponent(dn)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:tn,useRender:createUseRender(pn),createVisualElement:sn,Component:dn};return createRendererMotionComponent(hn)}}function shallowCompare(tn,sn){if(!Array.isArray(sn))return!1;const un=sn.length;if(un!==tn.length)return!1;for(let dn=0;dn<un;dn++)if(sn[dn]!==tn[dn])return!1;return!0}function resolveVariant(tn,sn,un){const dn=tn.getProps();return resolveVariantFromProps(dn,sn,un!==void 0?un:dn.custom,tn)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(sn){this.stop=()=>this.runAll("stop"),this.animations=sn.filter(Boolean)}get finished(){return Promise.all(this.animations.map(sn=>"finished"in sn?sn.finished:sn))}getAll(sn){return this.animations[0][sn]}setAll(sn,un){for(let dn=0;dn<this.animations.length;dn++)this.animations[dn][sn]=un}attachTimeline(sn,un){const dn=this.animations.map(pn=>{if(supportsScrollTimeline()&&pn.attachTimeline)return pn.attachTimeline(sn);if(typeof un=="function")return un(pn)});return()=>{dn.forEach((pn,mn)=>{pn&&pn(),this.animations[mn].stop()})}}get time(){return this.getAll("time")}set time(sn){this.setAll("time",sn)}get speed(){return this.getAll("speed")}set speed(sn){this.setAll("speed",sn)}get startTime(){return this.getAll("startTime")}get duration(){let sn=0;for(let un=0;un<this.animations.length;un++)sn=Math.max(sn,this.animations[un].duration);return sn}runAll(sn){this.animations.forEach(un=>un[sn]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(sn,un){return Promise.all(this.animations).then(sn).catch(un)}}function getValueTransition(tn,sn){return tn?tn[sn]||tn.default||tn:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(tn){let sn=0;const un=50;let dn=tn.next(sn);for(;!dn.done&&sn<maxGeneratorDuration;)sn+=un,dn=tn.next(sn);return sn>=maxGeneratorDuration?1/0:sn}function isGenerator(tn){return typeof tn=="function"}function attachTimeline(tn,sn){tn.timeline=sn,tn.onfinish=null}const isBezierDefinition=tn=>Array.isArray(tn)&&typeof tn[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(tn,sn){const un=memo(tn);return()=>{var dn;return(dn=supportsFlags[sn])!==null&&dn!==void 0?dn:un()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(tn,sn,un=10)=>{let dn="";const pn=Math.max(Math.round(sn/un),2);for(let mn=0;mn<pn;mn++)dn+=tn(progress(0,pn-1,mn))+", ";return`linear(${dn.substring(0,dn.length-2)})`};function isWaapiSupportedEasing(tn){return!!(typeof tn=="function"&&supportsLinearEasing()||!tn||typeof tn=="string"&&(tn in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(tn)||Array.isArray(tn)&&tn.every(isWaapiSupportedEasing))}const cubicBezierAsString=([tn,sn,un,dn])=>`cubic-bezier(${tn}, ${sn}, ${un}, ${dn})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(tn,sn){if(tn)return typeof tn=="function"&&supportsLinearEasing()?generateLinearEasing(tn,sn):isBezierDefinition(tn)?cubicBezierAsString(tn):Array.isArray(tn)?tn.map(un=>mapEasingToNativeEasing(un,sn)||supportedWaapiEasing.easeOut):supportedWaapiEasing[tn]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(tn,sn,un){var dn;if(tn instanceof Element)return[tn];if(typeof tn=="string"){let pn=document;const mn=(dn=void 0)!==null&&dn!==void 0?dn:pn.querySelectorAll(tn);return mn?Array.from(mn):[]}return Array.from(tn)}function setupGesture(tn,sn){const un=resolveElements(tn),dn=new AbortController,pn={passive:!0,...sn,signal:dn.signal};return[un,pn,()=>dn.abort()]}function filterEvents$1(tn){return sn=>{sn.pointerType==="touch"||isDragActive()||tn(sn)}}function hover(tn,sn,un={}){const[dn,pn,mn]=setupGesture(tn,un),hn=filterEvents$1(fn=>{const{target:gn}=fn,xn=sn(fn);if(typeof xn!="function"||!gn)return;const yn=filterEvents$1(vn=>{xn(vn),gn.removeEventListener("pointerleave",yn)});gn.addEventListener("pointerleave",yn,pn)});return dn.forEach(fn=>{fn.addEventListener("pointerenter",hn,pn)}),mn}const isNodeOrChild=(tn,sn)=>sn?tn===sn?!0:isNodeOrChild(tn,sn.parentElement):!1,isPrimaryPointer=tn=>tn.pointerType==="mouse"?typeof tn.button!="number"||tn.button<=0:tn.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(tn){return focusableElements.has(tn.tagName)||tn.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(tn){return sn=>{sn.key==="Enter"&&tn(sn)}}function firePointerEvent(tn,sn){tn.dispatchEvent(new PointerEvent("pointer"+sn,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(tn,sn)=>{const un=tn.currentTarget;if(!un)return;const dn=filterEvents(()=>{if(isPressing.has(un))return;firePointerEvent(un,"down");const pn=filterEvents(()=>{firePointerEvent(un,"up")}),mn=()=>firePointerEvent(un,"cancel");un.addEventListener("keyup",pn,sn),un.addEventListener("blur",mn,sn)});un.addEventListener("keydown",dn,sn),un.addEventListener("blur",()=>un.removeEventListener("keydown",dn),sn)};function isValidPressEvent(tn){return isPrimaryPointer(tn)&&!isDragActive()}function press(tn,sn,un={}){const[dn,pn,mn]=setupGesture(tn,un),hn=fn=>{const gn=fn.currentTarget;if(!isValidPressEvent(fn)||isPressing.has(gn))return;isPressing.add(gn);const xn=sn(fn),yn=(bn,wn)=>{window.removeEventListener("pointerup",vn),window.removeEventListener("pointercancel",En),!(!isValidPressEvent(bn)||!isPressing.has(gn))&&(isPressing.delete(gn),typeof xn=="function"&&xn(bn,{success:wn}))},vn=bn=>{yn(bn,un.useGlobalTarget||isNodeOrChild(gn,bn.target))},En=bn=>{yn(bn,!1)};window.addEventListener("pointerup",vn,pn),window.addEventListener("pointercancel",En,pn)};return dn.forEach(fn=>{!isElementKeyboardAccessible(fn)&&fn.getAttribute("tabindex")===null&&(fn.tabIndex=0),(un.useGlobalTarget?window:fn).addEventListener("pointerdown",hn,pn),fn.addEventListener("focus",xn=>enableKeyboardPress(xn,pn),pn)}),mn}function setDragLock(tn){return tn==="x"||tn==="y"?isDragging[tn]?null:(isDragging[tn]=!0,()=>{isDragging[tn]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now$2;function clearTime(){now$2=void 0}const time={now:()=>(now$2===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$2),set:tn=>{now$2=tn,queueMicrotask(clearTime)}};function addUniqueItem(tn,sn){tn.indexOf(sn)===-1&&tn.push(sn)}function removeItem(tn,sn){const un=tn.indexOf(sn);un>-1&&tn.splice(un,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(sn){return addUniqueItem(this.subscriptions,sn),()=>removeItem(this.subscriptions,sn)}notify(sn,un,dn){const pn=this.subscriptions.length;if(pn)if(pn===1)this.subscriptions[0](sn,un,dn);else for(let mn=0;mn<pn;mn++){const hn=this.subscriptions[mn];hn&&hn(sn,un,dn)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(tn,sn){return sn?tn*(1e3/sn):0}const MAX_VELOCITY_DELTA=30,isFloat=tn=>!isNaN(parseFloat(tn));class MotionValue{constructor(sn,un={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(dn,pn=!0)=>{const mn=time.now();this.updatedAt!==mn&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(dn),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),pn&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(sn),this.owner=un.owner}setCurrent(sn){this.current=sn,this.updatedAt=time.now(),this.canTrackVelocity===null&&sn!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(sn=this.current){this.prevFrameValue=sn,this.prevUpdatedAt=this.updatedAt}onChange(sn){return this.on("change",sn)}on(sn,un){this.events[sn]||(this.events[sn]=new SubscriptionManager);const dn=this.events[sn].add(un);return sn==="change"?()=>{dn(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:dn}clearListeners(){for(const sn in this.events)this.events[sn].clear()}attach(sn,un){this.passiveEffect=sn,this.stopPassiveEffect=un}set(sn,un=!0){!un||!this.passiveEffect?this.updateAndNotify(sn,un):this.passiveEffect(sn,this.updateAndNotify)}setWithVelocity(sn,un,dn){this.set(un),this.prev=void 0,this.prevFrameValue=sn,this.prevUpdatedAt=this.updatedAt-dn}jump(sn,un=!0){this.updateAndNotify(sn),this.prev=sn,this.prevUpdatedAt=this.prevFrameValue=void 0,un&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const sn=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||sn-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const un=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),un)}start(sn){return this.stop(),new Promise(un=>{this.hasAnimated=!0,this.animation=sn(un),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(tn,sn){return new MotionValue(tn,sn)}function setMotionValue(tn,sn,un){tn.hasValue(sn)?tn.getValue(sn).set(un):tn.addValue(sn,motionValue(un))}function setTarget(tn,sn){const un=resolveVariant(tn,sn);let{transitionEnd:dn={},transition:pn={},...mn}=un||{};mn={...mn,...dn};for(const hn in mn){const fn=resolveFinalValueInKeyframes(mn[hn]);setMotionValue(tn,hn,fn)}}function isWillChangeMotionValue(tn){return!!(isMotionValue(tn)&&tn.add)}function addValueToWillChange(tn,sn){const un=tn.getValue("willChange");if(isWillChangeMotionValue(un))return un.add(sn)}function getOptimisedAppearId(tn){return tn.props[optimizedAppearDataAttribute]}const calcBezier=(tn,sn,un)=>(((1-3*un+3*sn)*tn+(3*un-6*sn))*tn+3*sn)*tn,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(tn,sn,un,dn,pn){let mn,hn,fn=0;do hn=sn+(un-sn)/2,mn=calcBezier(hn,dn,pn)-tn,mn>0?un=hn:sn=hn;while(Math.abs(mn)>subdivisionPrecision&&++fn<subdivisionMaxIterations);return hn}function cubicBezier(tn,sn,un,dn){if(tn===sn&&un===dn)return noop$9;const pn=mn=>binarySubdivide(mn,0,1,tn,un);return mn=>mn===0||mn===1?mn:calcBezier(pn(mn),sn,dn)}const mirrorEasing=tn=>sn=>sn<=.5?tn(2*sn)/2:(2-tn(2*(1-sn)))/2,reverseEasing=tn=>sn=>1-tn(1-sn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=tn=>(tn*=2)<1?.5*backIn(tn):.5*(2-Math.pow(2,-10*(tn-1))),circIn=tn=>1-Math.sin(Math.acos(tn)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=tn=>/^0[^.\s]+$/u.test(tn);function isNone(tn){return typeof tn=="number"?tn===0:tn!==null?tn==="none"||tn==="0"||isZeroValueString(tn):!0}const sanitize=tn=>Math.round(tn*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(tn){return tn==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(tn,sn)=>un=>!!(typeof un=="string"&&singleColorRegex.test(un)&&un.startsWith(tn)||sn&&!isNullish(un)&&Object.prototype.hasOwnProperty.call(un,sn)),splitColor=(tn,sn,un)=>dn=>{if(typeof dn!="string")return dn;const[pn,mn,hn,fn]=dn.match(floatRegex);return{[tn]:parseFloat(pn),[sn]:parseFloat(mn),[un]:parseFloat(hn),alpha:fn!==void 0?parseFloat(fn):1}},clampRgbUnit=tn=>clamp(0,255,tn),rgbUnit={...number$2,transform:tn=>Math.round(clampRgbUnit(tn))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:tn,green:sn,blue:un,alpha:dn=1})=>"rgba("+rgbUnit.transform(tn)+", "+rgbUnit.transform(sn)+", "+rgbUnit.transform(un)+", "+sanitize(alpha$2.transform(dn))+")"};function parseHex(tn){let sn="",un="",dn="",pn="";return tn.length>5?(sn=tn.substring(1,3),un=tn.substring(3,5),dn=tn.substring(5,7),pn=tn.substring(7,9)):(sn=tn.substring(1,2),un=tn.substring(2,3),dn=tn.substring(3,4),pn=tn.substring(4,5),sn+=sn,un+=un,dn+=dn,pn+=pn),{red:parseInt(sn,16),green:parseInt(un,16),blue:parseInt(dn,16),alpha:pn?parseInt(pn,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:tn,saturation:sn,lightness:un,alpha:dn=1})=>"hsla("+Math.round(tn)+", "+percent.transform(sanitize(sn))+", "+percent.transform(sanitize(un))+", "+sanitize(alpha$2.transform(dn))+")"},color$1={test:tn=>rgba.test(tn)||hex$1.test(tn)||hsla.test(tn),parse:tn=>rgba.test(tn)?rgba.parse(tn):hsla.test(tn)?hsla.parse(tn):hex$1.parse(tn),transform:tn=>typeof tn=="string"?tn:tn.hasOwnProperty("red")?rgba.transform(tn):hsla.transform(tn)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(tn){var sn,un;return isNaN(tn)&&typeof tn=="string"&&(((sn=tn.match(floatRegex))===null||sn===void 0?void 0:sn.length)||0)+(((un=tn.match(colorRegex))===null||un===void 0?void 0:un.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(tn){const sn=tn.toString(),un=[],dn={color:[],number:[],var:[]},pn=[];let mn=0;const fn=sn.replace(complexRegex,gn=>(color$1.test(gn)?(dn.color.push(mn),pn.push(COLOR_TOKEN),un.push(color$1.parse(gn))):gn.startsWith(VAR_FUNCTION_TOKEN)?(dn.var.push(mn),pn.push(VAR_TOKEN),un.push(gn)):(dn.number.push(mn),pn.push(NUMBER_TOKEN),un.push(parseFloat(gn))),++mn,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:un,split:fn,indexes:dn,types:pn}}function parseComplexValue(tn){return analyseComplexValue(tn).values}function createTransformer(tn){const{split:sn,types:un}=analyseComplexValue(tn),dn=sn.length;return pn=>{let mn="";for(let hn=0;hn<dn;hn++)if(mn+=sn[hn],pn[hn]!==void 0){const fn=un[hn];fn===NUMBER_TOKEN?mn+=sanitize(pn[hn]):fn===COLOR_TOKEN?mn+=color$1.transform(pn[hn]):mn+=pn[hn]}return mn}}const convertNumbersToZero=tn=>typeof tn=="number"?0:tn;function getAnimatableNone$1(tn){const sn=parseComplexValue(tn);return createTransformer(tn)(sn.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(tn){const[sn,un]=tn.slice(0,-1).split("(");if(sn==="drop-shadow")return tn;const[dn]=un.match(floatRegex)||[];if(!dn)return tn;const pn=un.replace(dn,"");let mn=maxDefaults.has(sn)?1:0;return dn!==un&&(mn*=100),sn+"("+mn+pn+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:tn=>{const sn=tn.match(functionRegex);return sn?sn.map(applyDefaultFilter).join(" "):tn}},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=tn=>defaultValueTypes[tn];function getAnimatableNone(tn,sn){let un=getDefaultValueType(tn);return un!==filter$1&&(un=complex),un.getAnimatableNone?un.getAnimatableNone(sn):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(tn,sn,un){let dn=0,pn;for(;dn<tn.length&&!pn;){const mn=tn[dn];typeof mn=="string"&&!invalidTemplates.has(mn)&&analyseComplexValue(mn).values.length&&(pn=tn[dn]),dn++}if(pn&&un)for(const mn of sn)tn[mn]=getAnimatableNone(un,pn)}const isNumOrPxType=tn=>tn===number$2||tn===px,getPosFromMatrix=(tn,sn)=>parseFloat(tn.split(", ")[sn]),getTranslateFromMatrix=(tn,sn)=>(un,{transform:dn})=>{if(dn==="none"||!dn)return 0;const pn=dn.match(/^matrix3d\((.+)\)$/u);if(pn)return getPosFromMatrix(pn[1],sn);{const mn=dn.match(/^matrix\((.+)\)$/u);return mn?getPosFromMatrix(mn[1],tn):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(tn=>!transformKeys.has(tn));function removeNonTranslationalTransform(tn){const sn=[];return nonTranslationalTransformKeys.forEach(un=>{const dn=tn.getValue(un);dn!==void 0&&(sn.push([un,dn.get()]),dn.set(un.startsWith("scale")?1:0))}),sn}const positionalValues={width:({x:tn},{paddingLeft:sn="0",paddingRight:un="0"})=>tn.max-tn.min-parseFloat(sn)-parseFloat(un),height:({y:tn},{paddingTop:sn="0",paddingBottom:un="0"})=>tn.max-tn.min-parseFloat(sn)-parseFloat(un),top:(tn,{top:sn})=>parseFloat(sn),left:(tn,{left:sn})=>parseFloat(sn),bottom:({y:tn},{top:sn})=>parseFloat(sn)+(tn.max-tn.min),right:({x:tn},{left:sn})=>parseFloat(sn)+(tn.max-tn.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const tn=Array.from(toResolve).filter(dn=>dn.needsMeasurement),sn=new Set(tn.map(dn=>dn.element)),un=new Map;sn.forEach(dn=>{const pn=removeNonTranslationalTransform(dn);pn.length&&(un.set(dn,pn),dn.render())}),tn.forEach(dn=>dn.measureInitialState()),sn.forEach(dn=>{dn.render();const pn=un.get(dn);pn&&pn.forEach(([mn,hn])=>{var fn;(fn=dn.getValue(mn))===null||fn===void 0||fn.set(hn)})}),tn.forEach(dn=>dn.measureEndState()),tn.forEach(dn=>{dn.suspendedScrollY!==void 0&&window.scrollTo(0,dn.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(tn=>tn.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(tn=>{tn.readKeyframes(),tn.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(sn,un,dn,pn,mn,hn=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...sn],this.onComplete=un,this.name=dn,this.motionValue=pn,this.element=mn,this.isAsync=hn}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:sn,name:un,element:dn,motionValue:pn}=this;for(let mn=0;mn<sn.length;mn++)if(sn[mn]===null)if(mn===0){const hn=pn==null?void 0:pn.get(),fn=sn[sn.length-1];if(hn!==void 0)sn[0]=hn;else if(dn&&un){const gn=dn.readValue(un,fn);gn!=null&&(sn[0]=gn)}sn[0]===void 0&&(sn[0]=fn),pn&&hn===void 0&&pn.set(sn[0])}else sn[mn]=sn[mn-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=tn=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(tn),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(tn){const sn=splitCSSVariableRegex.exec(tn);if(!sn)return[,];const[,un,dn,pn]=sn;return[`--${un??dn}`,pn]}function getVariableValue(tn,sn,un=1){const[dn,pn]=parseCSSVariable(tn);if(!dn)return;const mn=window.getComputedStyle(sn).getPropertyValue(dn);if(mn){const hn=mn.trim();return isNumericalString(hn)?parseFloat(hn):hn}return isCSSVariableToken(pn)?getVariableValue(pn,sn,un+1):pn}const testValueType=tn=>sn=>sn.test(tn),auto$1={test:tn=>tn==="auto",parse:tn=>tn},dimensionValueTypes=[number$2,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=tn=>dimensionValueTypes.find(testValueType(tn));class DOMKeyframesResolver extends KeyframeResolver{constructor(sn,un,dn,pn,mn){super(sn,un,dn,pn,mn,!0)}readKeyframes(){const{unresolvedKeyframes:sn,element:un,name:dn}=this;if(!un||!un.current)return;super.readKeyframes();for(let gn=0;gn<sn.length;gn++){let xn=sn[gn];if(typeof xn=="string"&&(xn=xn.trim(),isCSSVariableToken(xn))){const yn=getVariableValue(xn,un.current);yn!==void 0&&(sn[gn]=yn),gn===sn.length-1&&(this.finalKeyframe=xn)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(dn)||sn.length!==2)return;const[pn,mn]=sn,hn=findDimensionValueType(pn),fn=findDimensionValueType(mn);if(hn!==fn)if(isNumOrPxType(hn)&&isNumOrPxType(fn))for(let gn=0;gn<sn.length;gn++){const xn=sn[gn];typeof xn=="string"&&(sn[gn]=parseFloat(xn))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:sn,name:un}=this,dn=[];for(let pn=0;pn<sn.length;pn++)isNone(sn[pn])&&dn.push(pn);dn.length&&makeNoneKeyframesAnimatable(sn,dn,un)}measureInitialState(){const{element:sn,unresolvedKeyframes:un,name:dn}=this;if(!sn||!sn.current)return;dn==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[dn](sn.measureViewportBox(),window.getComputedStyle(sn.current)),un[0]=this.measuredOrigin;const pn=un[un.length-1];pn!==void 0&&sn.getValue(dn,pn).jump(pn,!1)}measureEndState(){var sn;const{element:un,name:dn,unresolvedKeyframes:pn}=this;if(!un||!un.current)return;const mn=un.getValue(dn);mn&&mn.jump(this.measuredOrigin,!1);const hn=pn.length-1,fn=pn[hn];pn[hn]=positionalValues[dn](un.measureViewportBox(),window.getComputedStyle(un.current)),fn!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=fn),!((sn=this.removedTransforms)===null||sn===void 0)&&sn.length&&this.removedTransforms.forEach(([gn,xn])=>{un.getValue(gn).set(xn)}),this.resolveNoneKeyframes()}}const isAnimatable=(tn,sn)=>sn==="zIndex"?!1:!!(typeof tn=="number"||Array.isArray(tn)||typeof tn=="string"&&(complex.test(tn)||tn==="0")&&!tn.startsWith("url("));function hasKeyframesChanged(tn){const sn=tn[0];if(tn.length===1)return!0;for(let un=0;un<tn.length;un++)if(tn[un]!==sn)return!0}function canAnimate(tn,sn,un,dn){const pn=tn[0];if(pn===null)return!1;if(sn==="display"||sn==="visibility")return!0;const mn=tn[tn.length-1],hn=isAnimatable(pn,sn),fn=isAnimatable(mn,sn);return!hn||!fn?!1:hasKeyframesChanged(tn)||(un==="spring"||isGenerator(un))&&dn}const isNotNull=tn=>tn!==null;function getFinalKeyframe(tn,{repeat:sn,repeatType:un="loop"},dn){const pn=tn.filter(isNotNull),mn=sn&&un!=="loop"&&sn%2===1?0:pn.length-1;return!mn||dn===void 0?pn[mn]:dn}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:sn=!0,delay:un=0,type:dn="keyframes",repeat:pn=0,repeatDelay:mn=0,repeatType:hn="loop",...fn}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:sn,delay:un,type:dn,repeat:pn,repeatDelay:mn,repeatType:hn,...fn},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(sn,un){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:dn,type:pn,velocity:mn,delay:hn,onComplete:fn,onUpdate:gn,isGenerator:xn}=this.options;if(!xn&&!canAnimate(sn,dn,pn,mn))if(hn)this.options.duration=0;else{gn&&gn(getFinalKeyframe(sn,this.options,un)),fn&&fn(),this.resolveFinishedPromise();return}const yn=this.initPlayback(sn,un);yn!==!1&&(this._resolved={keyframes:sn,finalKeyframe:un,...yn},this.onPostResolved())}onPostResolved(){}then(sn,un){return this.currentFinishedPromise.then(sn,un)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(sn=>{this.resolveFinishedPromise=sn})}}const mixNumber$1=(tn,sn,un)=>tn+(sn-tn)*un;function hueToRgb(tn,sn,un){return un<0&&(un+=1),un>1&&(un-=1),un<1/6?tn+(sn-tn)*6*un:un<1/2?sn:un<2/3?tn+(sn-tn)*(2/3-un)*6:tn}function hslaToRgba({hue:tn,saturation:sn,lightness:un,alpha:dn}){tn/=360,sn/=100,un/=100;let pn=0,mn=0,hn=0;if(!sn)pn=mn=hn=un;else{const fn=un<.5?un*(1+sn):un+sn-un*sn,gn=2*un-fn;pn=hueToRgb(gn,fn,tn+1/3),mn=hueToRgb(gn,fn,tn),hn=hueToRgb(gn,fn,tn-1/3)}return{red:Math.round(pn*255),green:Math.round(mn*255),blue:Math.round(hn*255),alpha:dn}}function mixImmediate(tn,sn){return un=>un>0?sn:tn}const mixLinearColor=(tn,sn,un)=>{const dn=tn*tn,pn=un*(sn*sn-dn)+dn;return pn<0?0:Math.sqrt(pn)},colorTypes=[hex$1,rgba,hsla],getColorType=tn=>colorTypes.find(sn=>sn.test(tn));function asRGBA(tn){const sn=getColorType(tn);if(!sn)return!1;let un=sn.parse(tn);return sn===hsla&&(un=hslaToRgba(un)),un}const mixColor=(tn,sn)=>{const un=asRGBA(tn),dn=asRGBA(sn);if(!un||!dn)return mixImmediate(tn,sn);const pn={...un};return mn=>(pn.red=mixLinearColor(un.red,dn.red,mn),pn.green=mixLinearColor(un.green,dn.green,mn),pn.blue=mixLinearColor(un.blue,dn.blue,mn),pn.alpha=mixNumber$1(un.alpha,dn.alpha,mn),rgba.transform(pn))},combineFunctions=(tn,sn)=>un=>sn(tn(un)),pipe$1=(...tn)=>tn.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(tn,sn){return invisibleValues.has(tn)?un=>un<=0?tn:sn:un=>un>=1?sn:tn}function mixNumber(tn,sn){return un=>mixNumber$1(tn,sn,un)}function getMixer(tn){return typeof tn=="number"?mixNumber:typeof tn=="string"?isCSSVariableToken(tn)?mixImmediate:color$1.test(tn)?mixColor:mixComplex:Array.isArray(tn)?mixArray:typeof tn=="object"?color$1.test(tn)?mixColor:mixObject:mixImmediate}function mixArray(tn,sn){const un=[...tn],dn=un.length,pn=tn.map((mn,hn)=>getMixer(mn)(mn,sn[hn]));return mn=>{for(let hn=0;hn<dn;hn++)un[hn]=pn[hn](mn);return un}}function mixObject(tn,sn){const un={...tn,...sn},dn={};for(const pn in un)tn[pn]!==void 0&&sn[pn]!==void 0&&(dn[pn]=getMixer(tn[pn])(tn[pn],sn[pn]));return pn=>{for(const mn in dn)un[mn]=dn[mn](pn);return un}}function matchOrder(tn,sn){var un;const dn=[],pn={color:0,var:0,number:0};for(let mn=0;mn<sn.values.length;mn++){const hn=sn.types[mn],fn=tn.indexes[hn][pn[hn]],gn=(un=tn.values[fn])!==null&&un!==void 0?un:0;dn[mn]=gn,pn[hn]++}return dn}const mixComplex=(tn,sn)=>{const un=complex.createTransformer(sn),dn=analyseComplexValue(tn),pn=analyseComplexValue(sn);return dn.indexes.var.length===pn.indexes.var.length&&dn.indexes.color.length===pn.indexes.color.length&&dn.indexes.number.length>=pn.indexes.number.length?invisibleValues.has(tn)&&!pn.values.length||invisibleValues.has(sn)&&!dn.values.length?mixVisibility(tn,sn):pipe$1(mixArray(matchOrder(dn,pn),pn.values),un):mixImmediate(tn,sn)};function mix(tn,sn,un){return typeof tn=="number"&&typeof sn=="number"&&typeof un=="number"?mixNumber$1(tn,sn,un):getMixer(tn)(tn,sn)}const velocitySampleDuration=5;function calcGeneratorVelocity(tn,sn,un){const dn=Math.max(sn-velocitySampleDuration,0);return velocityPerSecond(un-tn(dn),sn-dn)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:tn=springDefaults.duration,bounce:sn=springDefaults.bounce,velocity:un=springDefaults.velocity,mass:dn=springDefaults.mass}){let pn,mn,hn=1-sn;hn=clamp(springDefaults.minDamping,springDefaults.maxDamping,hn),tn=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(tn)),hn<1?(pn=xn=>{const yn=xn*hn,vn=yn*tn,En=yn-un,bn=calcAngularFreq(xn,hn),wn=Math.exp(-vn);return safeMin-En/bn*wn},mn=xn=>{const vn=xn*hn*tn,En=vn*un+un,bn=Math.pow(hn,2)*Math.pow(xn,2)*tn,wn=Math.exp(-vn),Sn=calcAngularFreq(Math.pow(xn,2),hn);return(-pn(xn)+safeMin>0?-1:1)*((En-bn)*wn)/Sn}):(pn=xn=>{const yn=Math.exp(-xn*tn),vn=(xn-un)*tn+1;return-safeMin+yn*vn},mn=xn=>{const yn=Math.exp(-xn*tn),vn=(un-xn)*(tn*tn);return yn*vn});const fn=5/tn,gn=approximateRoot(pn,mn,fn);if(tn=secondsToMilliseconds(tn),isNaN(gn))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:tn};{const xn=Math.pow(gn,2)*dn;return{stiffness:xn,damping:hn*2*Math.sqrt(dn*xn),duration:tn}}}const rootIterations=12;function approximateRoot(tn,sn,un){let dn=un;for(let pn=1;pn<rootIterations;pn++)dn=dn-tn(dn)/sn(dn);return dn}function calcAngularFreq(tn,sn){return tn*Math.sqrt(1-sn*sn)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(tn,sn){return sn.some(un=>tn[un]!==void 0)}function getSpringOptions(tn){let sn={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...tn};if(!isSpringType(tn,physicsKeys)&&isSpringType(tn,durationKeys))if(tn.visualDuration){const un=tn.visualDuration,dn=2*Math.PI/(un*1.2),pn=dn*dn,mn=2*clamp(.05,1,1-(tn.bounce||0))*Math.sqrt(pn);sn={...sn,mass:springDefaults.mass,stiffness:pn,damping:mn}}else{const un=findSpring(tn);sn={...sn,...un,mass:springDefaults.mass},sn.isResolvedFromDuration=!0}return sn}function spring(tn=springDefaults.visualDuration,sn=springDefaults.bounce){const un=typeof tn!="object"?{visualDuration:tn,keyframes:[0,1],bounce:sn}:tn;let{restSpeed:dn,restDelta:pn}=un;const mn=un.keyframes[0],hn=un.keyframes[un.keyframes.length-1],fn={done:!1,value:mn},{stiffness:gn,damping:xn,mass:yn,duration:vn,velocity:En,isResolvedFromDuration:bn}=getSpringOptions({...un,velocity:-millisecondsToSeconds(un.velocity||0)}),wn=En||0,Sn=xn/(2*Math.sqrt(gn*yn)),Rn=hn-mn,_n=millisecondsToSeconds(Math.sqrt(gn/yn)),jn=Math.abs(Rn)<5;dn||(dn=jn?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),pn||(pn=jn?springDefaults.restDelta.granular:springDefaults.restDelta.default);let Cn;if(Sn<1){const Tn=calcAngularFreq(_n,Sn);Cn=$n=>{const Dn=Math.exp(-Sn*_n*$n);return hn-Dn*((wn+Sn*_n*Rn)/Tn*Math.sin(Tn*$n)+Rn*Math.cos(Tn*$n))}}else if(Sn===1)Cn=Tn=>hn-Math.exp(-_n*Tn)*(Rn+(wn+_n*Rn)*Tn);else{const Tn=_n*Math.sqrt(Sn*Sn-1);Cn=$n=>{const Dn=Math.exp(-Sn*_n*$n),Nn=Math.min(Tn*$n,300);return hn-Dn*((wn+Sn*_n*Rn)*Math.sinh(Nn)+Tn*Rn*Math.cosh(Nn))/Tn}}const An={calculatedDuration:bn&&vn||null,next:Tn=>{const $n=Cn(Tn);if(bn)fn.done=Tn>=vn;else{let Dn=0;Sn<1&&(Dn=Tn===0?secondsToMilliseconds(wn):calcGeneratorVelocity(Cn,Tn,$n));const Nn=Math.abs(Dn)<=dn,kn=Math.abs(hn-$n)<=pn;fn.done=Nn&&kn}return fn.value=fn.done?hn:$n,fn},toString:()=>{const Tn=Math.min(calcGeneratorDuration(An),maxGeneratorDuration),$n=generateLinearEasing(Dn=>An.next(Tn*Dn).value,Tn,30);return Tn+"ms "+$n}};return An}function inertia({keyframes:tn,velocity:sn=0,power:un=.8,timeConstant:dn=325,bounceDamping:pn=10,bounceStiffness:mn=500,modifyTarget:hn,min:fn,max:gn,restDelta:xn=.5,restSpeed:yn}){const vn=tn[0],En={done:!1,value:vn},bn=Nn=>fn!==void 0&&Nn<fn||gn!==void 0&&Nn>gn,wn=Nn=>fn===void 0?gn:gn===void 0||Math.abs(fn-Nn)<Math.abs(gn-Nn)?fn:gn;let Sn=un*sn;const Rn=vn+Sn,_n=hn===void 0?Rn:hn(Rn);_n!==Rn&&(Sn=_n-vn);const jn=Nn=>-Sn*Math.exp(-Nn/dn),Cn=Nn=>_n+jn(Nn),An=Nn=>{const kn=jn(Nn),Pn=Cn(Nn);En.done=Math.abs(kn)<=xn,En.value=En.done?_n:Pn};let Tn,$n;const Dn=Nn=>{bn(En.value)&&(Tn=Nn,$n=spring({keyframes:[En.value,wn(En.value)],velocity:calcGeneratorVelocity(Cn,Nn,En.value),damping:pn,stiffness:mn,restDelta:xn,restSpeed:yn}))};return Dn(0),{calculatedDuration:null,next:Nn=>{let kn=!1;return!$n&&Tn===void 0&&(kn=!0,An(Nn),Dn(Nn)),Tn!==void 0&&Nn>=Tn?$n.next(Nn-Tn):(!kn&&An(Nn),En)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=tn=>Array.isArray(tn)&&typeof tn[0]!="number",easingLookup={linear:noop$9,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=tn=>{if(isBezierDefinition(tn)){invariant(tn.length===4);const[sn,un,dn,pn]=tn;return cubicBezier(sn,un,dn,pn)}else if(typeof tn=="string")return easingLookup[tn];return tn};function createMixers(tn,sn,un){const dn=[],pn=un||mix,mn=tn.length-1;for(let hn=0;hn<mn;hn++){let fn=pn(tn[hn],tn[hn+1]);if(sn){const gn=Array.isArray(sn)?sn[hn]||noop$9:sn;fn=pipe$1(gn,fn)}dn.push(fn)}return dn}function interpolate(tn,sn,{clamp:un=!0,ease:dn,mixer:pn}={}){const mn=tn.length;if(invariant(mn===sn.length),mn===1)return()=>sn[0];if(mn===2&&sn[0]===sn[1])return()=>sn[1];const hn=tn[0]===tn[1];tn[0]>tn[mn-1]&&(tn=[...tn].reverse(),sn=[...sn].reverse());const fn=createMixers(sn,dn,pn),gn=fn.length,xn=yn=>{if(hn&&yn<tn[0])return sn[0];let vn=0;if(gn>1)for(;vn<tn.length-2&&!(yn<tn[vn+1]);vn++);const En=progress(tn[vn],tn[vn+1],yn);return fn[vn](En)};return un?yn=>xn(clamp(tn[0],tn[mn-1],yn)):xn}function fillOffset(tn,sn){const un=tn[tn.length-1];for(let dn=1;dn<=sn;dn++){const pn=progress(0,sn,dn);tn.push(mixNumber$1(un,1,pn))}}function defaultOffset(tn){const sn=[0];return fillOffset(sn,tn.length-1),sn}function convertOffsetToTimes(tn,sn){return tn.map(un=>un*sn)}function defaultEasing(tn,sn){return tn.map(()=>sn||easeInOut).splice(0,tn.length-1)}function keyframes({duration:tn=300,keyframes:sn,times:un,ease:dn="easeInOut"}){const pn=isEasingArray(dn)?dn.map(easingDefinitionToFunction):easingDefinitionToFunction(dn),mn={done:!1,value:sn[0]},hn=convertOffsetToTimes(un&&un.length===sn.length?un:defaultOffset(sn),tn),fn=interpolate(hn,sn,{ease:Array.isArray(pn)?pn:defaultEasing(sn,pn)});return{calculatedDuration:tn,next:gn=>(mn.value=fn(gn),mn.done=gn>=tn,mn)}}const frameloopDriver=tn=>{const sn=({timestamp:un})=>tn(un);return{start:()=>frame.update(sn,!0),stop:()=>cancelFrame(sn),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=tn=>tn/100;class MainThreadAnimation extends BaseAnimation{constructor(sn){super(sn),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:gn}=this.options;gn&&gn()};const{name:un,motionValue:dn,element:pn,keyframes:mn}=this.options,hn=(pn==null?void 0:pn.KeyframeResolver)||KeyframeResolver,fn=(gn,xn)=>this.onKeyframesResolved(gn,xn);this.resolver=new hn(mn,fn,un,dn,pn),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(sn){const{type:un="keyframes",repeat:dn=0,repeatDelay:pn=0,repeatType:mn,velocity:hn=0}=this.options,fn=isGenerator(un)?un:generators[un]||keyframes;let gn,xn;fn!==keyframes&&typeof sn[0]!="number"&&(gn=pipe$1(percentToProgress,mix(sn[0],sn[1])),sn=[0,100]);const yn=fn({...this.options,keyframes:sn});mn==="mirror"&&(xn=fn({...this.options,keyframes:[...sn].reverse(),velocity:-hn})),yn.calculatedDuration===null&&(yn.calculatedDuration=calcGeneratorDuration(yn));const{calculatedDuration:vn}=yn,En=vn+pn,bn=En*(dn+1)-pn;return{generator:yn,mirroredGenerator:xn,mapPercentToKeyframes:gn,calculatedDuration:vn,resolvedDuration:En,totalDuration:bn}}onPostResolved(){const{autoplay:sn=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!sn?this.pause():this.state=this.pendingPlayState}tick(sn,un=!1){const{resolved:dn}=this;if(!dn){const{keyframes:Nn}=this.options;return{done:!0,value:Nn[Nn.length-1]}}const{finalKeyframe:pn,generator:mn,mirroredGenerator:hn,mapPercentToKeyframes:fn,keyframes:gn,calculatedDuration:xn,totalDuration:yn,resolvedDuration:vn}=dn;if(this.startTime===null)return mn.next(0);const{delay:En,repeat:bn,repeatType:wn,repeatDelay:Sn,onUpdate:Rn}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,sn):this.speed<0&&(this.startTime=Math.min(sn-yn/this.speed,this.startTime)),un?this.currentTime=sn:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(sn-this.startTime)*this.speed;const _n=this.currentTime-En*(this.speed>=0?1:-1),jn=this.speed>=0?_n<0:_n>yn;this.currentTime=Math.max(_n,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=yn);let Cn=this.currentTime,An=mn;if(bn){const Nn=Math.min(this.currentTime,yn)/vn;let kn=Math.floor(Nn),Pn=Nn%1;!Pn&&Nn>=1&&(Pn=1),Pn===1&&kn--,kn=Math.min(kn,bn+1),!!(kn%2)&&(wn==="reverse"?(Pn=1-Pn,Sn&&(Pn-=Sn/vn)):wn==="mirror"&&(An=hn)),Cn=clamp(0,1,Pn)*vn}const Tn=jn?{done:!1,value:gn[0]}:An.next(Cn);fn&&(Tn.value=fn(Tn.value));let{done:$n}=Tn;!jn&&xn!==null&&($n=this.speed>=0?this.currentTime>=yn:this.currentTime<=0);const Dn=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$n);return Dn&&pn!==void 0&&(Tn.value=getFinalKeyframe(gn,this.options,pn)),Rn&&Rn(Tn.value),Dn&&this.finish(),Tn}get duration(){const{resolved:sn}=this;return sn?millisecondsToSeconds(sn.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(sn){sn=secondsToMilliseconds(sn),this.currentTime=sn,this.holdTime!==null||this.speed===0?this.holdTime=sn:this.driver&&(this.startTime=this.driver.now()-sn/this.speed)}get speed(){return this.playbackSpeed}set speed(sn){const un=this.playbackSpeed!==sn;this.playbackSpeed=sn,un&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:sn=frameloopDriver,onPlay:un,startTime:dn}=this.options;this.driver||(this.driver=sn(mn=>this.tick(mn))),un&&un();const pn=this.driver.now();this.holdTime!==null?this.startTime=pn-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=pn):this.startTime=dn??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var sn;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(sn=this.currentTime)!==null&&sn!==void 0?sn:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:sn}=this.options;sn&&sn()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(sn){return this.startTime=0,this.tick(sn,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(tn,sn,un,{delay:dn=0,duration:pn=300,repeat:mn=0,repeatType:hn="loop",ease:fn="easeInOut",times:gn}={}){const xn={[sn]:un};gn&&(xn.offset=gn);const yn=mapEasingToNativeEasing(fn,pn);return Array.isArray(yn)&&(xn.easing=yn),tn.animate(xn,{delay:dn,duration:pn,easing:Array.isArray(yn)?"linear":yn,fill:"both",iterations:mn+1,direction:hn==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(tn){return isGenerator(tn.type)||tn.type==="spring"||!isWaapiSupportedEasing(tn.ease)}function pregenerateKeyframes(tn,sn){const un=new MainThreadAnimation({...sn,keyframes:tn,repeat:0,delay:0,isGenerator:!0});let dn={done:!1,value:tn[0]};const pn=[];let mn=0;for(;!dn.done&&mn<maxDuration;)dn=un.sample(mn),pn.push(dn.value),mn+=sampleDelta;return{times:void 0,keyframes:pn,duration:mn-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(tn){return tn in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(sn){super(sn);const{name:un,motionValue:dn,element:pn,keyframes:mn}=this.options;this.resolver=new DOMKeyframesResolver(mn,(hn,fn)=>this.onKeyframesResolved(hn,fn),un,dn,pn),this.resolver.scheduleResolve()}initPlayback(sn,un){let{duration:dn=300,times:pn,ease:mn,type:hn,motionValue:fn,name:gn,startTime:xn}=this.options;if(!fn.owner||!fn.owner.current)return!1;if(typeof mn=="string"&&supportsLinearEasing()&&isUnsupportedEase(mn)&&(mn=unsupportedEasingFunctions[mn]),requiresPregeneratedKeyframes(this.options)){const{onComplete:vn,onUpdate:En,motionValue:bn,element:wn,...Sn}=this.options,Rn=pregenerateKeyframes(sn,Sn);sn=Rn.keyframes,sn.length===1&&(sn[1]=sn[0]),dn=Rn.duration,pn=Rn.times,mn=Rn.ease,hn="keyframes"}const yn=startWaapiAnimation(fn.owner.current,gn,sn,{...this.options,duration:dn,times:pn,ease:mn});return yn.startTime=xn??this.calcStartTime(),this.pendingTimeline?(attachTimeline(yn,this.pendingTimeline),this.pendingTimeline=void 0):yn.onfinish=()=>{const{onComplete:vn}=this.options;fn.set(getFinalKeyframe(sn,this.options,un)),vn&&vn(),this.cancel(),this.resolveFinishedPromise()},{animation:yn,duration:dn,times:pn,type:hn,ease:mn,keyframes:sn}}get duration(){const{resolved:sn}=this;if(!sn)return 0;const{duration:un}=sn;return millisecondsToSeconds(un)}get time(){const{resolved:sn}=this;if(!sn)return 0;const{animation:un}=sn;return millisecondsToSeconds(un.currentTime||0)}set time(sn){const{resolved:un}=this;if(!un)return;const{animation:dn}=un;dn.currentTime=secondsToMilliseconds(sn)}get speed(){const{resolved:sn}=this;if(!sn)return 1;const{animation:un}=sn;return un.playbackRate}set speed(sn){const{resolved:un}=this;if(!un)return;const{animation:dn}=un;dn.playbackRate=sn}get state(){const{resolved:sn}=this;if(!sn)return"idle";const{animation:un}=sn;return un.playState}get startTime(){const{resolved:sn}=this;if(!sn)return null;const{animation:un}=sn;return un.startTime}attachTimeline(sn){if(!this._resolved)this.pendingTimeline=sn;else{const{resolved:un}=this;if(!un)return noop$9;const{animation:dn}=un;attachTimeline(dn,sn)}return noop$9}play(){if(this.isStopped)return;const{resolved:sn}=this;if(!sn)return;const{animation:un}=sn;un.playState==="finished"&&this.updateFinishedPromise(),un.play()}pause(){const{resolved:sn}=this;if(!sn)return;const{animation:un}=sn;un.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:sn}=this;if(!sn)return;const{animation:un,keyframes:dn,duration:pn,type:mn,ease:hn,times:fn}=sn;if(un.playState==="idle"||un.playState==="finished")return;if(this.time){const{motionValue:xn,onUpdate:yn,onComplete:vn,element:En,...bn}=this.options,wn=new MainThreadAnimation({...bn,keyframes:dn,duration:pn,type:mn,ease:hn,times:fn,isGenerator:!0}),Sn=secondsToMilliseconds(this.time);xn.setWithVelocity(wn.sample(Sn-sampleDelta).value,wn.sample(Sn).value,sampleDelta)}const{onStop:gn}=this.options;gn&&gn(),this.cancel()}complete(){const{resolved:sn}=this;sn&&sn.animation.finish()}cancel(){const{resolved:sn}=this;sn&&sn.animation.cancel()}static supports(sn){const{motionValue:un,name:dn,repeatDelay:pn,repeatType:mn,damping:hn,type:fn}=sn;if(!un||!un.owner||!(un.owner.current instanceof HTMLElement))return!1;const{onUpdate:gn,transformTemplate:xn}=un.owner.getProps();return supportsWaapi()&&dn&&acceleratedValues.has(dn)&&!gn&&!xn&&!pn&&mn!=="mirror"&&hn!==0&&fn!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=tn=>({type:"spring",stiffness:550,damping:tn===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(tn,{keyframes:sn})=>sn.length>2?keyframesTransition:transformProps.has(tn)?tn.startsWith("scale")?criticallyDampedSpring(sn[1]):underDampedSpring:ease;function isTransitionDefined({when:tn,delay:sn,delayChildren:un,staggerChildren:dn,staggerDirection:pn,repeat:mn,repeatType:hn,repeatDelay:fn,from:gn,elapsed:xn,...yn}){return!!Object.keys(yn).length}const animateMotionValue=(tn,sn,un,dn={},pn,mn)=>hn=>{const fn=getValueTransition(dn,tn)||{},gn=fn.delay||dn.delay||0;let{elapsed:xn=0}=dn;xn=xn-secondsToMilliseconds(gn);let yn={keyframes:Array.isArray(un)?un:[null,un],ease:"easeOut",velocity:sn.getVelocity(),...fn,delay:-xn,onUpdate:En=>{sn.set(En),fn.onUpdate&&fn.onUpdate(En)},onComplete:()=>{hn(),fn.onComplete&&fn.onComplete()},name:tn,motionValue:sn,element:mn?void 0:pn};isTransitionDefined(fn)||(yn={...yn,...getDefaultTransition(tn,yn)}),yn.duration&&(yn.duration=secondsToMilliseconds(yn.duration)),yn.repeatDelay&&(yn.repeatDelay=secondsToMilliseconds(yn.repeatDelay)),yn.from!==void 0&&(yn.keyframes[0]=yn.from);let vn=!1;if((yn.type===!1||yn.duration===0&&!yn.repeatDelay)&&(yn.duration=0,yn.delay===0&&(vn=!0)),vn&&!mn&&sn.get()!==void 0){const En=getFinalKeyframe(yn.keyframes,fn);if(En!==void 0)return frame.update(()=>{yn.onUpdate(En),yn.onComplete()}),new GroupPlaybackControls([])}return!mn&&AcceleratedAnimation.supports(yn)?new AcceleratedAnimation(yn):new MainThreadAnimation(yn)};function shouldBlockAnimation({protectedKeys:tn,needsAnimating:sn},un){const dn=tn.hasOwnProperty(un)&&sn[un]!==!0;return sn[un]=!1,dn}function animateTarget(tn,sn,{delay:un=0,transitionOverride:dn,type:pn}={}){var mn;let{transition:hn=tn.getDefaultTransition(),transitionEnd:fn,...gn}=sn;dn&&(hn=dn);const xn=[],yn=pn&&tn.animationState&&tn.animationState.getState()[pn];for(const vn in gn){const En=tn.getValue(vn,(mn=tn.latestValues[vn])!==null&&mn!==void 0?mn:null),bn=gn[vn];if(bn===void 0||yn&&shouldBlockAnimation(yn,vn))continue;const wn={delay:un,...getValueTransition(hn||{},vn)};let Sn=!1;if(window.MotionHandoffAnimation){const _n=getOptimisedAppearId(tn);if(_n){const jn=window.MotionHandoffAnimation(_n,vn,frame);jn!==null&&(wn.startTime=jn,Sn=!0)}}addValueToWillChange(tn,vn),En.start(animateMotionValue(vn,En,bn,tn.shouldReduceMotion&&positionalKeys.has(vn)?{type:!1}:wn,tn,Sn));const Rn=En.animation;Rn&&xn.push(Rn)}return fn&&Promise.all(xn).then(()=>{frame.update(()=>{fn&&setTarget(tn,fn)})}),xn}function animateVariant(tn,sn,un={}){var dn;const pn=resolveVariant(tn,sn,un.type==="exit"?(dn=tn.presenceContext)===null||dn===void 0?void 0:dn.custom:void 0);let{transition:mn=tn.getDefaultTransition()||{}}=pn||{};un.transitionOverride&&(mn=un.transitionOverride);const hn=pn?()=>Promise.all(animateTarget(tn,pn,un)):()=>Promise.resolve(),fn=tn.variantChildren&&tn.variantChildren.size?(xn=0)=>{const{delayChildren:yn=0,staggerChildren:vn,staggerDirection:En}=mn;return animateChildren(tn,sn,yn+xn,vn,En,un)}:()=>Promise.resolve(),{when:gn}=mn;if(gn){const[xn,yn]=gn==="beforeChildren"?[hn,fn]:[fn,hn];return xn().then(()=>yn())}else return Promise.all([hn(),fn(un.delay)])}function animateChildren(tn,sn,un=0,dn=0,pn=1,mn){const hn=[],fn=(tn.variantChildren.size-1)*dn,gn=pn===1?(xn=0)=>xn*dn:(xn=0)=>fn-xn*dn;return Array.from(tn.variantChildren).sort(sortByTreeOrder).forEach((xn,yn)=>{xn.notify("AnimationStart",sn),hn.push(animateVariant(xn,sn,{...mn,delay:un+gn(yn)}).then(()=>xn.notify("AnimationComplete",sn)))}),Promise.all(hn)}function sortByTreeOrder(tn,sn){return tn.sortNodePosition(sn)}function animateVisualElement(tn,sn,un={}){tn.notify("AnimationStart",sn);let dn;if(Array.isArray(sn)){const pn=sn.map(mn=>animateVariant(tn,mn,un));dn=Promise.all(pn)}else if(typeof sn=="string")dn=animateVariant(tn,sn,un);else{const pn=typeof sn=="function"?resolveVariant(tn,sn,un.custom):sn;dn=Promise.all(animateTarget(tn,pn,un))}return dn.then(()=>{tn.notify("AnimationComplete",sn)})}const numVariantProps=variantProps.length;function getVariantContext(tn){if(!tn)return;if(!tn.isControllingVariants){const un=tn.parent?getVariantContext(tn.parent)||{}:{};return tn.props.initial!==void 0&&(un.initial=tn.props.initial),un}const sn={};for(let un=0;un<numVariantProps;un++){const dn=variantProps[un],pn=tn.props[dn];(isVariantLabel(pn)||pn===!1)&&(sn[dn]=pn)}return sn}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(tn){return sn=>Promise.all(sn.map(({animation:un,options:dn})=>animateVisualElement(tn,un,dn)))}function createAnimationState(tn){let sn=animateList(tn),un=createState$1(),dn=!0;const pn=gn=>(xn,yn)=>{var vn;const En=resolveVariant(tn,yn,gn==="exit"?(vn=tn.presenceContext)===null||vn===void 0?void 0:vn.custom:void 0);if(En){const{transition:bn,transitionEnd:wn,...Sn}=En;xn={...xn,...Sn,...wn}}return xn};function mn(gn){sn=gn(tn)}function hn(gn){const{props:xn}=tn,yn=getVariantContext(tn.parent)||{},vn=[],En=new Set;let bn={},wn=1/0;for(let Rn=0;Rn<numAnimationTypes;Rn++){const _n=reversePriorityOrder[Rn],jn=un[_n],Cn=xn[_n]!==void 0?xn[_n]:yn[_n],An=isVariantLabel(Cn),Tn=_n===gn?jn.isActive:null;Tn===!1&&(wn=Rn);let $n=Cn===yn[_n]&&Cn!==xn[_n]&&An;if($n&&dn&&tn.manuallyAnimateOnMount&&($n=!1),jn.protectedKeys={...bn},!jn.isActive&&Tn===null||!Cn&&!jn.prevProp||isAnimationControls(Cn)||typeof Cn=="boolean")continue;const Dn=checkVariantsDidChange(jn.prevProp,Cn);let Nn=Dn||_n===gn&&jn.isActive&&!$n&&An||Rn>wn&&An,kn=!1;const Pn=Array.isArray(Cn)?Cn:[Cn];let Mn=Pn.reduce(pn(_n),{});Tn===!1&&(Mn={});const{prevResolvedValues:On={}}=jn,Wn={...On,...Mn},In=Hn=>{Nn=!0,En.has(Hn)&&(kn=!0,En.delete(Hn)),jn.needsAnimating[Hn]=!0;const Ln=tn.getValue(Hn);Ln&&(Ln.liveStyle=!1)};for(const Hn in Wn){const Ln=Mn[Hn],zn=On[Hn];if(bn.hasOwnProperty(Hn))continue;let Bn=!1;isKeyframesTarget(Ln)&&isKeyframesTarget(zn)?Bn=!shallowCompare(Ln,zn):Bn=Ln!==zn,Bn?Ln!=null?In(Hn):En.add(Hn):Ln!==void 0&&En.has(Hn)?In(Hn):jn.protectedKeys[Hn]=!0}jn.prevProp=Cn,jn.prevResolvedValues=Mn,jn.isActive&&(bn={...bn,...Mn}),dn&&tn.blockInitialAnimation&&(Nn=!1),Nn&&(!($n&&Dn)||kn)&&vn.push(...Pn.map(Hn=>({animation:Hn,options:{type:_n}})))}if(En.size){const Rn={};En.forEach(_n=>{const jn=tn.getBaseTarget(_n),Cn=tn.getValue(_n);Cn&&(Cn.liveStyle=!0),Rn[_n]=jn??null}),vn.push({animation:Rn})}let Sn=!!vn.length;return dn&&(xn.initial===!1||xn.initial===xn.animate)&&!tn.manuallyAnimateOnMount&&(Sn=!1),dn=!1,Sn?sn(vn):Promise.resolve()}function fn(gn,xn){var yn;if(un[gn].isActive===xn)return Promise.resolve();(yn=tn.variantChildren)===null||yn===void 0||yn.forEach(En=>{var bn;return(bn=En.animationState)===null||bn===void 0?void 0:bn.setActive(gn,xn)}),un[gn].isActive=xn;const vn=hn(gn);for(const En in un)un[En].protectedKeys={};return vn}return{animateChanges:hn,setActive:fn,setAnimateFunction:mn,getState:()=>un,reset:()=>{un=createState$1(),dn=!0}}}function checkVariantsDidChange(tn,sn){return typeof sn=="string"?sn!==tn:Array.isArray(sn)?!shallowCompare(sn,tn):!1}function createTypeState(tn=!1){return{isActive:tn,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(sn){this.isMounted=!1,this.node=sn}update(){}}class AnimationFeature extends Feature{constructor(sn){super(sn),sn.animationState||(sn.animationState=createAnimationState(sn))}updateAnimationControlsSubscription(){const{animate:sn}=this.node.getProps();isAnimationControls(sn)&&(this.unmountControls=sn.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:sn}=this.node.getProps(),{animate:un}=this.node.prevProps||{};sn!==un&&this.updateAnimationControlsSubscription()}unmount(){var sn;this.node.animationState.reset(),(sn=this.unmountControls)===null||sn===void 0||sn.call(this)}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:sn,onExitComplete:un}=this.node.presenceContext,{isPresent:dn}=this.node.prevPresenceContext||{};if(!this.node.animationState||sn===dn)return;const pn=this.node.animationState.setActive("exit",!sn);un&&!sn&&pn.then(()=>un(this.id))}mount(){const{register:sn}=this.node.presenceContext||{};sn&&(this.unmount=sn(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(tn,sn,un,dn={passive:!0}){return tn.addEventListener(sn,un,dn),()=>tn.removeEventListener(sn,un)}function extractEventInfo(tn){return{point:{x:tn.pageX,y:tn.pageY}}}const addPointerInfo=tn=>sn=>isPrimaryPointer(sn)&&tn(sn,extractEventInfo(sn));function addPointerEvent(tn,sn,un,dn){return addDomEvent(tn,sn,addPointerInfo(un),dn)}const distance=(tn,sn)=>Math.abs(tn-sn);function distance2D(tn,sn){const un=distance(tn.x,sn.x),dn=distance(tn.y,sn.y);return Math.sqrt(un**2+dn**2)}class PanSession{constructor(sn,un,{transformPagePoint:dn,contextWindow:pn,dragSnapToOrigin:mn=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const vn=getPanInfo(this.lastMoveEventInfo,this.history),En=this.startEvent!==null,bn=distance2D(vn.offset,{x:0,y:0})>=3;if(!En&&!bn)return;const{point:wn}=vn,{timestamp:Sn}=frameData;this.history.push({...wn,timestamp:Sn});const{onStart:Rn,onMove:_n}=this.handlers;En||(Rn&&Rn(this.lastMoveEvent,vn),this.startEvent=this.lastMoveEvent),_n&&_n(this.lastMoveEvent,vn)},this.handlePointerMove=(vn,En)=>{this.lastMoveEvent=vn,this.lastMoveEventInfo=transformPoint(En,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(vn,En)=>{this.end();const{onEnd:bn,onSessionEnd:wn,resumeAnimation:Sn}=this.handlers;if(this.dragSnapToOrigin&&Sn&&Sn(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Rn=getPanInfo(vn.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(En,this.transformPagePoint),this.history);this.startEvent&&bn&&bn(vn,Rn),wn&&wn(vn,Rn)},!isPrimaryPointer(sn))return;this.dragSnapToOrigin=mn,this.handlers=un,this.transformPagePoint=dn,this.contextWindow=pn||window;const hn=extractEventInfo(sn),fn=transformPoint(hn,this.transformPagePoint),{point:gn}=fn,{timestamp:xn}=frameData;this.history=[{...gn,timestamp:xn}];const{onSessionStart:yn}=un;yn&&yn(sn,getPanInfo(fn,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(sn){this.handlers=sn}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(tn,sn){return sn?{point:sn(tn.point)}:tn}function subtractPoint(tn,sn){return{x:tn.x-sn.x,y:tn.y-sn.y}}function getPanInfo({point:tn},sn){return{point:tn,delta:subtractPoint(tn,lastDevicePoint(sn)),offset:subtractPoint(tn,startDevicePoint(sn)),velocity:getVelocity(sn,.1)}}function startDevicePoint(tn){return tn[0]}function lastDevicePoint(tn){return tn[tn.length-1]}function getVelocity(tn,sn){if(tn.length<2)return{x:0,y:0};let un=tn.length-1,dn=null;const pn=lastDevicePoint(tn);for(;un>=0&&(dn=tn[un],!(pn.timestamp-dn.timestamp>secondsToMilliseconds(sn)));)un--;if(!dn)return{x:0,y:0};const mn=millisecondsToSeconds(pn.timestamp-dn.timestamp);if(mn===0)return{x:0,y:0};const hn={x:(pn.x-dn.x)/mn,y:(pn.y-dn.y)/mn};return hn.x===1/0&&(hn.x=0),hn.y===1/0&&(hn.y=0),hn}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(tn){return tn.max-tn.min}function isNear(tn,sn,un){return Math.abs(tn-sn)<=un}function calcAxisDelta(tn,sn,un,dn=.5){tn.origin=dn,tn.originPoint=mixNumber$1(sn.min,sn.max,tn.origin),tn.scale=calcLength(un)/calcLength(sn),tn.translate=mixNumber$1(un.min,un.max,tn.origin)-tn.originPoint,(tn.scale>=SCALE_MIN&&tn.scale<=SCALE_MAX||isNaN(tn.scale))&&(tn.scale=1),(tn.translate>=TRANSLATE_MIN&&tn.translate<=TRANSLATE_MAX||isNaN(tn.translate))&&(tn.translate=0)}function calcBoxDelta(tn,sn,un,dn){calcAxisDelta(tn.x,sn.x,un.x,dn?dn.originX:void 0),calcAxisDelta(tn.y,sn.y,un.y,dn?dn.originY:void 0)}function calcRelativeAxis(tn,sn,un){tn.min=un.min+sn.min,tn.max=tn.min+calcLength(sn)}function calcRelativeBox(tn,sn,un){calcRelativeAxis(tn.x,sn.x,un.x),calcRelativeAxis(tn.y,sn.y,un.y)}function calcRelativeAxisPosition(tn,sn,un){tn.min=sn.min-un.min,tn.max=tn.min+calcLength(sn)}function calcRelativePosition(tn,sn,un){calcRelativeAxisPosition(tn.x,sn.x,un.x),calcRelativeAxisPosition(tn.y,sn.y,un.y)}function applyConstraints(tn,{min:sn,max:un},dn){return sn!==void 0&&tn<sn?tn=dn?mixNumber$1(sn,tn,dn.min):Math.max(tn,sn):un!==void 0&&tn>un&&(tn=dn?mixNumber$1(un,tn,dn.max):Math.min(tn,un)),tn}function calcRelativeAxisConstraints(tn,sn,un){return{min:sn!==void 0?tn.min+sn:void 0,max:un!==void 0?tn.max+un-(tn.max-tn.min):void 0}}function calcRelativeConstraints(tn,{top:sn,left:un,bottom:dn,right:pn}){return{x:calcRelativeAxisConstraints(tn.x,un,pn),y:calcRelativeAxisConstraints(tn.y,sn,dn)}}function calcViewportAxisConstraints(tn,sn){let un=sn.min-tn.min,dn=sn.max-tn.max;return sn.max-sn.min<tn.max-tn.min&&([un,dn]=[dn,un]),{min:un,max:dn}}function calcViewportConstraints(tn,sn){return{x:calcViewportAxisConstraints(tn.x,sn.x),y:calcViewportAxisConstraints(tn.y,sn.y)}}function calcOrigin(tn,sn){let un=.5;const dn=calcLength(tn),pn=calcLength(sn);return pn>dn?un=progress(sn.min,sn.max-dn,tn.min):dn>pn&&(un=progress(tn.min,tn.max-pn,sn.min)),clamp(0,1,un)}function rebaseAxisConstraints(tn,sn){const un={};return sn.min!==void 0&&(un.min=sn.min-tn.min),sn.max!==void 0&&(un.max=sn.max-tn.min),un}const defaultElastic=.35;function resolveDragElastic(tn=defaultElastic){return tn===!1?tn=0:tn===!0&&(tn=defaultElastic),{x:resolveAxisElastic(tn,"left","right"),y:resolveAxisElastic(tn,"top","bottom")}}function resolveAxisElastic(tn,sn,un){return{min:resolvePointElastic(tn,sn),max:resolvePointElastic(tn,un)}}function resolvePointElastic(tn,sn){return typeof tn=="number"?tn:tn[sn]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(tn){return[tn("x"),tn("y")]}function convertBoundingBoxToBox({top:tn,left:sn,right:un,bottom:dn}){return{x:{min:sn,max:un},y:{min:tn,max:dn}}}function convertBoxToBoundingBox({x:tn,y:sn}){return{top:sn.min,right:tn.max,bottom:sn.max,left:tn.min}}function transformBoxPoints(tn,sn){if(!sn)return tn;const un=sn({x:tn.left,y:tn.top}),dn=sn({x:tn.right,y:tn.bottom});return{top:un.y,left:un.x,bottom:dn.y,right:dn.x}}function isIdentityScale(tn){return tn===void 0||tn===1}function hasScale({scale:tn,scaleX:sn,scaleY:un}){return!isIdentityScale(tn)||!isIdentityScale(sn)||!isIdentityScale(un)}function hasTransform(tn){return hasScale(tn)||has2DTranslate(tn)||tn.z||tn.rotate||tn.rotateX||tn.rotateY||tn.skewX||tn.skewY}function has2DTranslate(tn){return is2DTranslate(tn.x)||is2DTranslate(tn.y)}function is2DTranslate(tn){return tn&&tn!=="0%"}function scalePoint(tn,sn,un){const dn=tn-un,pn=sn*dn;return un+pn}function applyPointDelta(tn,sn,un,dn,pn){return pn!==void 0&&(tn=scalePoint(tn,pn,dn)),scalePoint(tn,un,dn)+sn}function applyAxisDelta(tn,sn=0,un=1,dn,pn){tn.min=applyPointDelta(tn.min,sn,un,dn,pn),tn.max=applyPointDelta(tn.max,sn,un,dn,pn)}function applyBoxDelta(tn,{x:sn,y:un}){applyAxisDelta(tn.x,sn.translate,sn.scale,sn.originPoint),applyAxisDelta(tn.y,un.translate,un.scale,un.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(tn,sn,un,dn=!1){const pn=un.length;if(!pn)return;sn.x=sn.y=1;let mn,hn;for(let fn=0;fn<pn;fn++){mn=un[fn],hn=mn.projectionDelta;const{visualElement:gn}=mn.options;gn&&gn.props.style&&gn.props.style.display==="contents"||(dn&&mn.options.layoutScroll&&mn.scroll&&mn!==mn.root&&transformBox(tn,{x:-mn.scroll.offset.x,y:-mn.scroll.offset.y}),hn&&(sn.x*=hn.x.scale,sn.y*=hn.y.scale,applyBoxDelta(tn,hn)),dn&&hasTransform(mn.latestValues)&&transformBox(tn,mn.latestValues))}sn.x<TREE_SCALE_SNAP_MAX&&sn.x>TREE_SCALE_SNAP_MIN&&(sn.x=1),sn.y<TREE_SCALE_SNAP_MAX&&sn.y>TREE_SCALE_SNAP_MIN&&(sn.y=1)}function translateAxis(tn,sn){tn.min=tn.min+sn,tn.max=tn.max+sn}function transformAxis(tn,sn,un,dn,pn=.5){const mn=mixNumber$1(tn.min,tn.max,pn);applyAxisDelta(tn,sn,un,mn,dn)}function transformBox(tn,sn){transformAxis(tn.x,sn.x,sn.scaleX,sn.scale,sn.originX),transformAxis(tn.y,sn.y,sn.scaleY,sn.scale,sn.originY)}function measureViewportBox(tn,sn){return convertBoundingBoxToBox(transformBoxPoints(tn.getBoundingClientRect(),sn))}function measurePageBox(tn,sn,un){const dn=measureViewportBox(tn,un),{scroll:pn}=sn;return pn&&(translateAxis(dn.x,pn.offset.x),translateAxis(dn.y,pn.offset.y)),dn}const getContextWindow=({current:tn})=>tn?tn.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(sn){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=sn}start(sn,{snapToCursor:un=!1}={}){const{presenceContext:dn}=this.visualElement;if(dn&&dn.isPresent===!1)return;const pn=yn=>{const{dragSnapToOrigin:vn}=this.getProps();vn?this.pauseAnimation():this.stopAnimation(),un&&this.snapToCursor(extractEventInfo(yn).point)},mn=(yn,vn)=>{const{drag:En,dragPropagation:bn,onDragStart:wn}=this.getProps();if(En&&!bn&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(En),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Rn=>{let _n=this.getAxisMotionValue(Rn).get()||0;if(percent.test(_n)){const{projection:jn}=this.visualElement;if(jn&&jn.layout){const Cn=jn.layout.layoutBox[Rn];Cn&&(_n=calcLength(Cn)*(parseFloat(_n)/100))}}this.originPoint[Rn]=_n}),wn&&frame.postRender(()=>wn(yn,vn)),addValueToWillChange(this.visualElement,"transform");const{animationState:Sn}=this.visualElement;Sn&&Sn.setActive("whileDrag",!0)},hn=(yn,vn)=>{const{dragPropagation:En,dragDirectionLock:bn,onDirectionLock:wn,onDrag:Sn}=this.getProps();if(!En&&!this.openDragLock)return;const{offset:Rn}=vn;if(bn&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Rn),this.currentDirection!==null&&wn&&wn(this.currentDirection);return}this.updateAxis("x",vn.point,Rn),this.updateAxis("y",vn.point,Rn),this.visualElement.render(),Sn&&Sn(yn,vn)},fn=(yn,vn)=>this.stop(yn,vn),gn=()=>eachAxis(yn=>{var vn;return this.getAnimationState(yn)==="paused"&&((vn=this.getAxisMotionValue(yn).animation)===null||vn===void 0?void 0:vn.play())}),{dragSnapToOrigin:xn}=this.getProps();this.panSession=new PanSession(sn,{onSessionStart:pn,onStart:mn,onMove:hn,onSessionEnd:fn,resumeAnimation:gn},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:xn,contextWindow:getContextWindow(this.visualElement)})}stop(sn,un){const dn=this.isDragging;if(this.cancel(),!dn)return;const{velocity:pn}=un;this.startAnimation(pn);const{onDragEnd:mn}=this.getProps();mn&&frame.postRender(()=>mn(sn,un))}cancel(){this.isDragging=!1;const{projection:sn,animationState:un}=this.visualElement;sn&&(sn.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:dn}=this.getProps();!dn&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),un&&un.setActive("whileDrag",!1)}updateAxis(sn,un,dn){const{drag:pn}=this.getProps();if(!dn||!shouldDrag(sn,pn,this.currentDirection))return;const mn=this.getAxisMotionValue(sn);let hn=this.originPoint[sn]+dn[sn];this.constraints&&this.constraints[sn]&&(hn=applyConstraints(hn,this.constraints[sn],this.elastic[sn])),mn.set(hn)}resolveConstraints(){var sn;const{dragConstraints:un,dragElastic:dn}=this.getProps(),pn=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(sn=this.visualElement.projection)===null||sn===void 0?void 0:sn.layout,mn=this.constraints;un&&isRefObject(un)?this.constraints||(this.constraints=this.resolveRefConstraints()):un&&pn?this.constraints=calcRelativeConstraints(pn.layoutBox,un):this.constraints=!1,this.elastic=resolveDragElastic(dn),mn!==this.constraints&&pn&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(hn=>{this.constraints!==!1&&this.getAxisMotionValue(hn)&&(this.constraints[hn]=rebaseAxisConstraints(pn.layoutBox[hn],this.constraints[hn]))})}resolveRefConstraints(){const{dragConstraints:sn,onMeasureDragConstraints:un}=this.getProps();if(!sn||!isRefObject(sn))return!1;const dn=sn.current,{projection:pn}=this.visualElement;if(!pn||!pn.layout)return!1;const mn=measurePageBox(dn,pn.root,this.visualElement.getTransformPagePoint());let hn=calcViewportConstraints(pn.layout.layoutBox,mn);if(un){const fn=un(convertBoxToBoundingBox(hn));this.hasMutatedConstraints=!!fn,fn&&(hn=convertBoundingBoxToBox(fn))}return hn}startAnimation(sn){const{drag:un,dragMomentum:dn,dragElastic:pn,dragTransition:mn,dragSnapToOrigin:hn,onDragTransitionEnd:fn}=this.getProps(),gn=this.constraints||{},xn=eachAxis(yn=>{if(!shouldDrag(yn,un,this.currentDirection))return;let vn=gn&&gn[yn]||{};hn&&(vn={min:0,max:0});const En=pn?200:1e6,bn=pn?40:1e7,wn={type:"inertia",velocity:dn?sn[yn]:0,bounceStiffness:En,bounceDamping:bn,timeConstant:750,restDelta:1,restSpeed:10,...mn,...vn};return this.startAxisValueAnimation(yn,wn)});return Promise.all(xn).then(fn)}startAxisValueAnimation(sn,un){const dn=this.getAxisMotionValue(sn);return addValueToWillChange(this.visualElement,sn),dn.start(animateMotionValue(sn,dn,0,un,this.visualElement,!1))}stopAnimation(){eachAxis(sn=>this.getAxisMotionValue(sn).stop())}pauseAnimation(){eachAxis(sn=>{var un;return(un=this.getAxisMotionValue(sn).animation)===null||un===void 0?void 0:un.pause()})}getAnimationState(sn){var un;return(un=this.getAxisMotionValue(sn).animation)===null||un===void 0?void 0:un.state}getAxisMotionValue(sn){const un=`_drag${sn.toUpperCase()}`,dn=this.visualElement.getProps(),pn=dn[un];return pn||this.visualElement.getValue(sn,(dn.initial?dn.initial[sn]:void 0)||0)}snapToCursor(sn){eachAxis(un=>{const{drag:dn}=this.getProps();if(!shouldDrag(un,dn,this.currentDirection))return;const{projection:pn}=this.visualElement,mn=this.getAxisMotionValue(un);if(pn&&pn.layout){const{min:hn,max:fn}=pn.layout.layoutBox[un];mn.set(sn[un]-mixNumber$1(hn,fn,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:sn,dragConstraints:un}=this.getProps(),{projection:dn}=this.visualElement;if(!isRefObject(un)||!dn||!this.constraints)return;this.stopAnimation();const pn={x:0,y:0};eachAxis(hn=>{const fn=this.getAxisMotionValue(hn);if(fn&&this.constraints!==!1){const gn=fn.get();pn[hn]=calcOrigin({min:gn,max:gn},this.constraints[hn])}});const{transformTemplate:mn}=this.visualElement.getProps();this.visualElement.current.style.transform=mn?mn({},""):"none",dn.root&&dn.root.updateScroll(),dn.updateLayout(),this.resolveConstraints(),eachAxis(hn=>{if(!shouldDrag(hn,sn,null))return;const fn=this.getAxisMotionValue(hn),{min:gn,max:xn}=this.constraints[hn];fn.set(mixNumber$1(gn,xn,pn[hn]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const sn=this.visualElement.current,un=addPointerEvent(sn,"pointerdown",gn=>{const{drag:xn,dragListener:yn=!0}=this.getProps();xn&&yn&&this.start(gn)}),dn=()=>{const{dragConstraints:gn}=this.getProps();isRefObject(gn)&&gn.current&&(this.constraints=this.resolveRefConstraints())},{projection:pn}=this.visualElement,mn=pn.addEventListener("measure",dn);pn&&!pn.layout&&(pn.root&&pn.root.updateScroll(),pn.updateLayout()),frame.read(dn);const hn=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),fn=pn.addEventListener("didUpdate",({delta:gn,hasLayoutChanged:xn})=>{this.isDragging&&xn&&(eachAxis(yn=>{const vn=this.getAxisMotionValue(yn);vn&&(this.originPoint[yn]+=gn[yn].translate,vn.set(vn.get()+gn[yn].translate))}),this.visualElement.render())});return()=>{hn(),un(),mn(),fn&&fn()}}getProps(){const sn=this.visualElement.getProps(),{drag:un=!1,dragDirectionLock:dn=!1,dragPropagation:pn=!1,dragConstraints:mn=!1,dragElastic:hn=defaultElastic,dragMomentum:fn=!0}=sn;return{...sn,drag:un,dragDirectionLock:dn,dragPropagation:pn,dragConstraints:mn,dragElastic:hn,dragMomentum:fn}}}function shouldDrag(tn,sn,un){return(sn===!0||sn===tn)&&(un===null||un===tn)}function getCurrentDirection(tn,sn=10){let un=null;return Math.abs(tn.y)>sn?un="y":Math.abs(tn.x)>sn&&(un="x"),un}class DragGesture extends Feature{constructor(sn){super(sn),this.removeGroupControls=noop$9,this.removeListeners=noop$9,this.controls=new VisualElementDragControls(sn)}mount(){const{dragControls:sn}=this.node.getProps();sn&&(this.removeGroupControls=sn.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$9}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=tn=>(sn,un)=>{tn&&frame.postRender(()=>tn(sn,un))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$9}onPointerDown(sn){this.session=new PanSession(sn,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:sn,onPanStart:un,onPan:dn,onPanEnd:pn}=this.node.getProps();return{onSessionStart:asyncHandler(sn),onStart:asyncHandler(un),onMove:dn,onEnd:(mn,hn)=>{delete this.session,pn&&frame.postRender(()=>pn(mn,hn))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",sn=>this.onPointerDown(sn))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(tn,sn){return sn.max===sn.min?0:tn/(sn.max-sn.min)*100}const correctBorderRadius={correct:(tn,sn)=>{if(!sn.target)return tn;if(typeof tn=="string")if(px.test(tn))tn=parseFloat(tn);else return tn;const un=pixelsToPercent(tn,sn.target.x),dn=pixelsToPercent(tn,sn.target.y);return`${un}% ${dn}%`}},correctBoxShadow={correct:(tn,{treeScale:sn,projectionDelta:un})=>{const dn=tn,pn=complex.parse(tn);if(pn.length>5)return dn;const mn=complex.createTransformer(tn),hn=typeof pn[0]!="number"?1:0,fn=un.x.scale*sn.x,gn=un.y.scale*sn.y;pn[0+hn]/=fn,pn[1+hn]/=gn;const xn=mixNumber$1(fn,gn,.5);return typeof pn[2+hn]=="number"&&(pn[2+hn]/=xn),typeof pn[3+hn]=="number"&&(pn[3+hn]/=xn),mn(pn)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:sn,layoutGroup:un,switchLayoutGroup:dn,layoutId:pn}=this.props,{projection:mn}=sn;addScaleCorrector(defaultScaleCorrectors),mn&&(un.group&&un.group.add(mn),dn&&dn.register&&pn&&dn.register(mn),mn.root.didUpdate(),mn.addEventListener("animationComplete",()=>{this.safeToRemove()}),mn.setOptions({...mn.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(sn){const{layoutDependency:un,visualElement:dn,drag:pn,isPresent:mn}=this.props,hn=dn.projection;return hn&&(hn.isPresent=mn,pn||sn.layoutDependency!==un||un===void 0?hn.willUpdate():this.safeToRemove(),sn.isPresent!==mn&&(mn?hn.promote():hn.relegate()||frame.postRender(()=>{const fn=hn.getStack();(!fn||!fn.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:sn}=this.props.visualElement;sn&&(sn.root.didUpdate(),microtask.postRender(()=>{!sn.currentAnimation&&sn.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:sn,layoutGroup:un,switchLayoutGroup:dn}=this.props,{projection:pn}=sn;pn&&(pn.scheduleCheckAfterUnmount(),un&&un.group&&un.group.remove(pn),dn&&dn.deregister&&dn.deregister(pn))}safeToRemove(){const{safeToRemove:sn}=this.props;sn&&sn()}render(){return null}}function MeasureLayout(tn){const[sn,un]=usePresence(),dn=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...tn,layoutGroup:dn,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:sn,safeToRemove:un})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(tn,sn,un){const dn=isMotionValue(tn)?tn:motionValue(tn);return dn.start(animateMotionValue("",dn,sn,un)),dn.animation}function isSVGElement(tn){return tn instanceof SVGElement&&tn.tagName!=="svg"}const compareByDepth=(tn,sn)=>tn.depth-sn.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(sn){addUniqueItem(this.children,sn),this.isDirty=!0}remove(sn){removeItem(this.children,sn),this.isDirty=!0}forEach(sn){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(sn)}}function delay(tn,sn){const un=time.now(),dn=({timestamp:pn})=>{const mn=pn-un;mn>=sn&&(cancelFrame(dn),tn(mn-sn))};return frame.read(dn,!0),()=>cancelFrame(dn)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=tn=>typeof tn=="string"?parseFloat(tn):tn,isPx=tn=>typeof tn=="number"||px.test(tn);function mixValues(tn,sn,un,dn,pn,mn){pn?(tn.opacity=mixNumber$1(0,un.opacity!==void 0?un.opacity:1,easeCrossfadeIn(dn)),tn.opacityExit=mixNumber$1(sn.opacity!==void 0?sn.opacity:1,0,easeCrossfadeOut(dn))):mn&&(tn.opacity=mixNumber$1(sn.opacity!==void 0?sn.opacity:1,un.opacity!==void 0?un.opacity:1,dn));for(let hn=0;hn<numBorders;hn++){const fn=`border${borders[hn]}Radius`;let gn=getRadius(sn,fn),xn=getRadius(un,fn);if(gn===void 0&&xn===void 0)continue;gn||(gn=0),xn||(xn=0),gn===0||xn===0||isPx(gn)===isPx(xn)?(tn[fn]=Math.max(mixNumber$1(asNumber(gn),asNumber(xn),dn),0),(percent.test(xn)||percent.test(gn))&&(tn[fn]+="%")):tn[fn]=xn}(sn.rotate||un.rotate)&&(tn.rotate=mixNumber$1(sn.rotate||0,un.rotate||0,dn))}function getRadius(tn,sn){return tn[sn]!==void 0?tn[sn]:tn.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$9);function compress(tn,sn,un){return dn=>dn<tn?0:dn>sn?1:un(progress(tn,sn,dn))}function copyAxisInto(tn,sn){tn.min=sn.min,tn.max=sn.max}function copyBoxInto(tn,sn){copyAxisInto(tn.x,sn.x),copyAxisInto(tn.y,sn.y)}function copyAxisDeltaInto(tn,sn){tn.translate=sn.translate,tn.scale=sn.scale,tn.originPoint=sn.originPoint,tn.origin=sn.origin}function removePointDelta(tn,sn,un,dn,pn){return tn-=sn,tn=scalePoint(tn,1/un,dn),pn!==void 0&&(tn=scalePoint(tn,1/pn,dn)),tn}function removeAxisDelta(tn,sn=0,un=1,dn=.5,pn,mn=tn,hn=tn){if(percent.test(sn)&&(sn=parseFloat(sn),sn=mixNumber$1(hn.min,hn.max,sn/100)-hn.min),typeof sn!="number")return;let fn=mixNumber$1(mn.min,mn.max,dn);tn===mn&&(fn-=sn),tn.min=removePointDelta(tn.min,sn,un,fn,pn),tn.max=removePointDelta(tn.max,sn,un,fn,pn)}function removeAxisTransforms(tn,sn,[un,dn,pn],mn,hn){removeAxisDelta(tn,sn[un],sn[dn],sn[pn],sn.scale,mn,hn)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(tn,sn,un,dn){removeAxisTransforms(tn.x,sn,xKeys,un?un.x:void 0,dn?dn.x:void 0),removeAxisTransforms(tn.y,sn,yKeys,un?un.y:void 0,dn?dn.y:void 0)}function isAxisDeltaZero(tn){return tn.translate===0&&tn.scale===1}function isDeltaZero(tn){return isAxisDeltaZero(tn.x)&&isAxisDeltaZero(tn.y)}function axisEquals(tn,sn){return tn.min===sn.min&&tn.max===sn.max}function boxEquals(tn,sn){return axisEquals(tn.x,sn.x)&&axisEquals(tn.y,sn.y)}function axisEqualsRounded(tn,sn){return Math.round(tn.min)===Math.round(sn.min)&&Math.round(tn.max)===Math.round(sn.max)}function boxEqualsRounded(tn,sn){return axisEqualsRounded(tn.x,sn.x)&&axisEqualsRounded(tn.y,sn.y)}function aspectRatio(tn){return calcLength(tn.x)/calcLength(tn.y)}function axisDeltaEquals(tn,sn){return tn.translate===sn.translate&&tn.scale===sn.scale&&tn.originPoint===sn.originPoint}class NodeStack{constructor(){this.members=[]}add(sn){addUniqueItem(this.members,sn),sn.scheduleRender()}remove(sn){if(removeItem(this.members,sn),sn===this.prevLead&&(this.prevLead=void 0),sn===this.lead){const un=this.members[this.members.length-1];un&&this.promote(un)}}relegate(sn){const un=this.members.findIndex(pn=>sn===pn);if(un===0)return!1;let dn;for(let pn=un;pn>=0;pn--){const mn=this.members[pn];if(mn.isPresent!==!1){dn=mn;break}}return dn?(this.promote(dn),!0):!1}promote(sn,un){const dn=this.lead;if(sn!==dn&&(this.prevLead=dn,this.lead=sn,sn.show(),dn)){dn.instance&&dn.scheduleRender(),sn.scheduleRender(),sn.resumeFrom=dn,un&&(sn.resumeFrom.preserveOpacity=!0),dn.snapshot&&(sn.snapshot=dn.snapshot,sn.snapshot.latestValues=dn.animationValues||dn.latestValues),sn.root&&sn.root.isUpdating&&(sn.isLayoutDirty=!0);const{crossfade:pn}=sn.options;pn===!1&&dn.hide()}}exitAnimationComplete(){this.members.forEach(sn=>{const{options:un,resumingFrom:dn}=sn;un.onExitComplete&&un.onExitComplete(),dn&&dn.options.onExitComplete&&dn.options.onExitComplete()})}scheduleRender(){this.members.forEach(sn=>{sn.instance&&sn.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(tn,sn,un){let dn="";const pn=tn.x.translate/sn.x,mn=tn.y.translate/sn.y,hn=(un==null?void 0:un.z)||0;if((pn||mn||hn)&&(dn=`translate3d(${pn}px, ${mn}px, ${hn}px) `),(sn.x!==1||sn.y!==1)&&(dn+=`scale(${1/sn.x}, ${1/sn.y}) `),un){const{transformPerspective:xn,rotate:yn,rotateX:vn,rotateY:En,skewX:bn,skewY:wn}=un;xn&&(dn=`perspective(${xn}px) ${dn}`),yn&&(dn+=`rotate(${yn}deg) `),vn&&(dn+=`rotateX(${vn}deg) `),En&&(dn+=`rotateY(${En}deg) `),bn&&(dn+=`skewX(${bn}deg) `),wn&&(dn+=`skewY(${wn}deg) `)}const fn=tn.x.scale*sn.x,gn=tn.y.scale*sn.y;return(fn!==1||gn!==1)&&(dn+=`scale(${fn}, ${gn})`),dn||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;function resetDistortingTransform(tn,sn,un,dn){const{latestValues:pn}=sn;pn[tn]&&(un[tn]=pn[tn],sn.setStaticValue(tn,0),dn&&(dn[tn]=0))}function cancelTreeOptimisedTransformAnimations(tn){if(tn.hasCheckedOptimisedAppear=!0,tn.root===tn)return;const{visualElement:sn}=tn.options;if(!sn)return;const un=getOptimisedAppearId(sn);if(window.MotionHasOptimisedAnimation(un,"transform")){const{layout:pn,layoutId:mn}=tn.options;window.MotionCancelOptimisedAnimation(un,"transform",frame,!(pn||mn))}const{parent:dn}=tn;dn&&!dn.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(dn)}function createProjectionNode({attachResizeListener:tn,defaultParent:sn,measureScroll:un,checkIsScrollRoot:dn,resetTransform:pn}){return class{constructor(hn={},fn=sn==null?void 0:sn()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=hn,this.root=fn?fn.root||fn:this,this.path=fn?[...fn.path,fn]:[],this.parent=fn,this.depth=fn?fn.depth+1:0;for(let gn=0;gn<this.path.length;gn++)this.path[gn].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(hn,fn){return this.eventHandlers.has(hn)||this.eventHandlers.set(hn,new SubscriptionManager),this.eventHandlers.get(hn).add(fn)}notifyListeners(hn,...fn){const gn=this.eventHandlers.get(hn);gn&&gn.notify(...fn)}hasListeners(hn){return this.eventHandlers.has(hn)}mount(hn,fn=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(hn),this.instance=hn;const{layoutId:gn,layout:xn,visualElement:yn}=this.options;if(yn&&!yn.current&&yn.mount(hn),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),fn&&(xn||gn)&&(this.isLayoutDirty=!0),tn){let vn;const En=()=>this.root.updateBlockedByResize=!1;tn(hn,()=>{this.root.updateBlockedByResize=!0,vn&&vn(),vn=delay(En,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}gn&&this.root.registerSharedNode(gn,this),this.options.animate!==!1&&yn&&(gn||xn)&&this.addEventListener("didUpdate",({delta:vn,hasLayoutChanged:En,hasRelativeTargetChanged:bn,layout:wn})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Sn=this.options.transition||yn.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Rn,onLayoutAnimationComplete:_n}=yn.getProps(),jn=!this.targetLayout||!boxEqualsRounded(this.targetLayout,wn)||bn,Cn=!En&&bn;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Cn||En&&(jn||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(vn,Cn);const An={...getValueTransition(Sn,"layout"),onPlay:Rn,onComplete:_n};(yn.shouldReduceMotion||this.options.layoutRoot)&&(An.delay=0,An.type=!1),this.startAnimation(An)}else En||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=wn})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const hn=this.getStack();hn&&hn.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:hn}=this.options;return hn&&hn.getProps().transformTemplate}willUpdate(hn=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let yn=0;yn<this.path.length;yn++){const vn=this.path[yn];vn.shouldResetTransform=!0,vn.updateScroll("snapshot"),vn.options.layoutRoot&&vn.willUpdate(!1)}const{layoutId:fn,layout:gn}=this.options;if(fn===void 0&&!gn)return;const xn=this.getTransformTemplate();this.prevTransformTemplateValue=xn?xn(this.latestValues,""):void 0,this.updateSnapshot(),hn&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const fn=time.now();frameData.delta=clamp(0,1e3/60,fn-frameData.timestamp),frameData.timestamp=fn,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let gn=0;gn<this.path.length;gn++)this.path[gn].updateScroll();const hn=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:fn}=this.options;fn&&fn.notify("LayoutMeasure",this.layout.layoutBox,hn?hn.layoutBox:void 0)}updateScroll(hn="measure"){let fn=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===hn&&(fn=!1),fn){const gn=dn(this.instance);this.scroll={animationId:this.root.animationId,phase:hn,isRoot:gn,offset:un(this.instance),wasRoot:this.scroll?this.scroll.isRoot:gn}}}resetTransform(){if(!pn)return;const hn=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,fn=this.projectionDelta&&!isDeltaZero(this.projectionDelta),gn=this.getTransformTemplate(),xn=gn?gn(this.latestValues,""):void 0,yn=xn!==this.prevTransformTemplateValue;hn&&(fn||hasTransform(this.latestValues)||yn)&&(pn(this.instance,xn),this.shouldResetTransform=!1,this.scheduleRender())}measure(hn=!0){const fn=this.measurePageBox();let gn=this.removeElementScroll(fn);return hn&&(gn=this.removeTransform(gn)),roundBox(gn),{animationId:this.root.animationId,measuredBox:fn,layoutBox:gn,latestValues:{},source:this.id}}measurePageBox(){var hn;const{visualElement:fn}=this.options;if(!fn)return createBox();const gn=fn.measureViewportBox();if(!(((hn=this.scroll)===null||hn===void 0?void 0:hn.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:yn}=this.root;yn&&(translateAxis(gn.x,yn.offset.x),translateAxis(gn.y,yn.offset.y))}return gn}removeElementScroll(hn){var fn;const gn=createBox();if(copyBoxInto(gn,hn),!((fn=this.scroll)===null||fn===void 0)&&fn.wasRoot)return gn;for(let xn=0;xn<this.path.length;xn++){const yn=this.path[xn],{scroll:vn,options:En}=yn;yn!==this.root&&vn&&En.layoutScroll&&(vn.wasRoot&&copyBoxInto(gn,hn),translateAxis(gn.x,vn.offset.x),translateAxis(gn.y,vn.offset.y))}return gn}applyTransform(hn,fn=!1){const gn=createBox();copyBoxInto(gn,hn);for(let xn=0;xn<this.path.length;xn++){const yn=this.path[xn];!fn&&yn.options.layoutScroll&&yn.scroll&&yn!==yn.root&&transformBox(gn,{x:-yn.scroll.offset.x,y:-yn.scroll.offset.y}),hasTransform(yn.latestValues)&&transformBox(gn,yn.latestValues)}return hasTransform(this.latestValues)&&transformBox(gn,this.latestValues),gn}removeTransform(hn){const fn=createBox();copyBoxInto(fn,hn);for(let gn=0;gn<this.path.length;gn++){const xn=this.path[gn];if(!xn.instance||!hasTransform(xn.latestValues))continue;hasScale(xn.latestValues)&&xn.updateSnapshot();const yn=createBox(),vn=xn.measurePageBox();copyBoxInto(yn,vn),removeBoxTransforms(fn,xn.latestValues,xn.snapshot?xn.snapshot.layoutBox:void 0,yn)}return hasTransform(this.latestValues)&&removeBoxTransforms(fn,this.latestValues),fn}setTargetDelta(hn){this.targetDelta=hn,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(hn){this.options={...this.options,...hn,crossfade:hn.crossfade!==void 0?hn.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(hn=!1){var fn;const gn=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=gn.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=gn.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=gn.isSharedProjectionDirty);const xn=!!this.resumingFrom||this!==gn;if(!(hn||xn&&this.isSharedProjectionDirty||this.isProjectionDirty||!((fn=this.parent)===null||fn===void 0)&&fn.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:vn,layoutId:En}=this.options;if(!(!this.layout||!(vn||En))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const bn=this.getClosestProjectingParent();bn&&bn.layout&&this.animationProgress!==1?(this.relativeParent=bn,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,bn.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const bn=this.getClosestProjectingParent();bn&&!!bn.resumingFrom==!!this.resumingFrom&&!bn.options.layoutScroll&&bn.target&&this.animationProgress!==1?(this.relativeParent=bn,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,bn.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var hn;const fn=this.getLead(),gn=!!this.resumingFrom||this!==fn;let xn=!0;if((this.isProjectionDirty||!((hn=this.parent)===null||hn===void 0)&&hn.isProjectionDirty)&&(xn=!1),gn&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(xn=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(xn=!1),xn)return;const{layout:yn,layoutId:vn}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(yn||vn))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const En=this.treeScale.x,bn=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,gn),fn.layout&&!fn.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(fn.target=fn.layout.layoutBox,fn.targetWithTransforms=createBox());const{target:wn}=fn;if(!wn){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,wn,this.latestValues),(this.treeScale.x!==En||this.treeScale.y!==bn||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",wn)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(hn=!0){var fn;if((fn=this.options.visualElement)===null||fn===void 0||fn.scheduleRender(),hn){const gn=this.getStack();gn&&gn.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(hn,fn=!1){const gn=this.snapshot,xn=gn?gn.latestValues:{},yn={...this.latestValues},vn=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!fn;const En=createBox(),bn=gn?gn.source:void 0,wn=this.layout?this.layout.source:void 0,Sn=bn!==wn,Rn=this.getStack(),_n=!Rn||Rn.members.length<=1,jn=!!(Sn&&!_n&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Cn;this.mixTargetDelta=An=>{const Tn=An/1e3;mixAxisDelta(vn.x,hn.x,Tn),mixAxisDelta(vn.y,hn.y,Tn),this.setTargetDelta(vn),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(En,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,En,Tn),Cn&&boxEquals(this.relativeTarget,Cn)&&(this.isProjectionDirty=!1),Cn||(Cn=createBox()),copyBoxInto(Cn,this.relativeTarget)),Sn&&(this.animationValues=yn,mixValues(yn,xn,this.latestValues,Tn,jn,_n)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Tn},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(hn){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...hn,onUpdate:fn=>{this.mixTargetDelta(fn),hn.onUpdate&&hn.onUpdate(fn)},onComplete:()=>{hn.onComplete&&hn.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const hn=this.getStack();hn&&hn.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const hn=this.getLead();let{targetWithTransforms:fn,target:gn,layout:xn,latestValues:yn}=hn;if(!(!fn||!gn||!xn)){if(this!==hn&&this.layout&&xn&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,xn.layoutBox)){gn=this.target||createBox();const vn=calcLength(this.layout.layoutBox.x);gn.x.min=hn.target.x.min,gn.x.max=gn.x.min+vn;const En=calcLength(this.layout.layoutBox.y);gn.y.min=hn.target.y.min,gn.y.max=gn.y.min+En}copyBoxInto(fn,gn),transformBox(fn,yn),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,fn,yn)}}registerSharedNode(hn,fn){this.sharedNodes.has(hn)||this.sharedNodes.set(hn,new NodeStack),this.sharedNodes.get(hn).add(fn);const xn=fn.options.initialPromotionConfig;fn.promote({transition:xn?xn.transition:void 0,preserveFollowOpacity:xn&&xn.shouldPreserveFollowOpacity?xn.shouldPreserveFollowOpacity(fn):void 0})}isLead(){const hn=this.getStack();return hn?hn.lead===this:!0}getLead(){var hn;const{layoutId:fn}=this.options;return fn?((hn=this.getStack())===null||hn===void 0?void 0:hn.lead)||this:this}getPrevLead(){var hn;const{layoutId:fn}=this.options;return fn?(hn=this.getStack())===null||hn===void 0?void 0:hn.prevLead:void 0}getStack(){const{layoutId:hn}=this.options;if(hn)return this.root.sharedNodes.get(hn)}promote({needsReset:hn,transition:fn,preserveFollowOpacity:gn}={}){const xn=this.getStack();xn&&xn.promote(this,gn),hn&&(this.projectionDelta=void 0,this.needsReset=!0),fn&&this.setOptions({transition:fn})}relegate(){const hn=this.getStack();return hn?hn.relegate(this):!1}resetSkewAndRotation(){const{visualElement:hn}=this.options;if(!hn)return;let fn=!1;const{latestValues:gn}=hn;if((gn.z||gn.rotate||gn.rotateX||gn.rotateY||gn.rotateZ||gn.skewX||gn.skewY)&&(fn=!0),!fn)return;const xn={};gn.z&&resetDistortingTransform("z",hn,xn,this.animationValues);for(let yn=0;yn<transformAxes.length;yn++)resetDistortingTransform(`rotate${transformAxes[yn]}`,hn,xn,this.animationValues),resetDistortingTransform(`skew${transformAxes[yn]}`,hn,xn,this.animationValues);hn.render();for(const yn in xn)hn.setStaticValue(yn,xn[yn]),this.animationValues&&(this.animationValues[yn]=xn[yn]);hn.scheduleRender()}getProjectionStyles(hn){var fn,gn;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const xn={visibility:""},yn=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,xn.opacity="",xn.pointerEvents=resolveMotionValue(hn==null?void 0:hn.pointerEvents)||"",xn.transform=yn?yn(this.latestValues,""):"none",xn;const vn=this.getLead();if(!this.projectionDelta||!this.layout||!vn.target){const Sn={};return this.options.layoutId&&(Sn.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Sn.pointerEvents=resolveMotionValue(hn==null?void 0:hn.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Sn.transform=yn?yn({},""):"none",this.hasProjected=!1),Sn}const En=vn.animationValues||vn.latestValues;this.applyTransformsToTarget(),xn.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,En),yn&&(xn.transform=yn(En,xn.transform));const{x:bn,y:wn}=this.projectionDelta;xn.transformOrigin=`${bn.origin*100}% ${wn.origin*100}% 0`,vn.animationValues?xn.opacity=vn===this?(gn=(fn=En.opacity)!==null&&fn!==void 0?fn:this.latestValues.opacity)!==null&&gn!==void 0?gn:1:this.preserveOpacity?this.latestValues.opacity:En.opacityExit:xn.opacity=vn===this?En.opacity!==void 0?En.opacity:"":En.opacityExit!==void 0?En.opacityExit:0;for(const Sn in scaleCorrectors){if(En[Sn]===void 0)continue;const{correct:Rn,applyTo:_n}=scaleCorrectors[Sn],jn=xn.transform==="none"?En[Sn]:Rn(En[Sn],vn);if(_n){const Cn=_n.length;for(let An=0;An<Cn;An++)xn[_n[An]]=jn}else xn[Sn]=jn}return this.options.layoutId&&(xn.pointerEvents=vn===this?resolveMotionValue(hn==null?void 0:hn.pointerEvents)||"":"none"),xn}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(hn=>{var fn;return(fn=hn.currentAnimation)===null||fn===void 0?void 0:fn.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(tn){tn.updateLayout()}function notifyLayoutUpdate(tn){var sn;const un=((sn=tn.resumeFrom)===null||sn===void 0?void 0:sn.snapshot)||tn.snapshot;if(tn.isLead()&&tn.layout&&un&&tn.hasListeners("didUpdate")){const{layoutBox:dn,measuredBox:pn}=tn.layout,{animationType:mn}=tn.options,hn=un.source!==tn.layout.source;mn==="size"?eachAxis(vn=>{const En=hn?un.measuredBox[vn]:un.layoutBox[vn],bn=calcLength(En);En.min=dn[vn].min,En.max=En.min+bn}):shouldAnimatePositionOnly(mn,un.layoutBox,dn)&&eachAxis(vn=>{const En=hn?un.measuredBox[vn]:un.layoutBox[vn],bn=calcLength(dn[vn]);En.max=En.min+bn,tn.relativeTarget&&!tn.currentAnimation&&(tn.isProjectionDirty=!0,tn.relativeTarget[vn].max=tn.relativeTarget[vn].min+bn)});const fn=createDelta();calcBoxDelta(fn,dn,un.layoutBox);const gn=createDelta();hn?calcBoxDelta(gn,tn.applyTransform(pn,!0),un.measuredBox):calcBoxDelta(gn,dn,un.layoutBox);const xn=!isDeltaZero(fn);let yn=!1;if(!tn.resumeFrom){const vn=tn.getClosestProjectingParent();if(vn&&!vn.resumeFrom){const{snapshot:En,layout:bn}=vn;if(En&&bn){const wn=createBox();calcRelativePosition(wn,un.layoutBox,En.layoutBox);const Sn=createBox();calcRelativePosition(Sn,dn,bn.layoutBox),boxEqualsRounded(wn,Sn)||(yn=!0),vn.options.layoutRoot&&(tn.relativeTarget=Sn,tn.relativeTargetOrigin=wn,tn.relativeParent=vn)}}}tn.notifyListeners("didUpdate",{layout:dn,snapshot:un,delta:gn,layoutDelta:fn,hasLayoutChanged:xn,hasRelativeTargetChanged:yn})}else if(tn.isLead()){const{onExitComplete:dn}=tn.options;dn&&dn()}tn.options.transition=void 0}function propagateDirtyNodes(tn){isDebug&&metrics.totalNodes++,tn.parent&&(tn.isProjecting()||(tn.isProjectionDirty=tn.parent.isProjectionDirty),tn.isSharedProjectionDirty||(tn.isSharedProjectionDirty=!!(tn.isProjectionDirty||tn.parent.isProjectionDirty||tn.parent.isSharedProjectionDirty)),tn.isTransformDirty||(tn.isTransformDirty=tn.parent.isTransformDirty))}function cleanDirtyNodes(tn){tn.isProjectionDirty=tn.isSharedProjectionDirty=tn.isTransformDirty=!1}function clearSnapshot(tn){tn.clearSnapshot()}function clearMeasurements(tn){tn.clearMeasurements()}function clearIsLayoutDirty(tn){tn.isLayoutDirty=!1}function resetTransformStyle(tn){const{visualElement:sn}=tn.options;sn&&sn.getProps().onBeforeLayoutMeasure&&sn.notify("BeforeLayoutMeasure"),tn.resetTransform()}function finishAnimation(tn){tn.finishAnimation(),tn.targetDelta=tn.relativeTarget=tn.target=void 0,tn.isProjectionDirty=!0}function resolveTargetDelta(tn){tn.resolveTargetDelta()}function calcProjection(tn){tn.calcProjection()}function resetSkewAndRotation(tn){tn.resetSkewAndRotation()}function removeLeadSnapshots(tn){tn.removeLeadSnapshot()}function mixAxisDelta(tn,sn,un){tn.translate=mixNumber$1(sn.translate,0,un),tn.scale=mixNumber$1(sn.scale,1,un),tn.origin=sn.origin,tn.originPoint=sn.originPoint}function mixAxis(tn,sn,un,dn){tn.min=mixNumber$1(sn.min,un.min,dn),tn.max=mixNumber$1(sn.max,un.max,dn)}function mixBox(tn,sn,un,dn){mixAxis(tn.x,sn.x,un.x,dn),mixAxis(tn.y,sn.y,un.y,dn)}function hasOpacityCrossfade(tn){return tn.animationValues&&tn.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=tn=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(tn),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$9;function roundAxis(tn){tn.min=roundPoint(tn.min),tn.max=roundPoint(tn.max)}function roundBox(tn){roundAxis(tn.x),roundAxis(tn.y)}function shouldAnimatePositionOnly(tn,sn,un){return tn==="position"||tn==="preserve-aspect"&&!isNear(aspectRatio(sn),aspectRatio(un),.2)}function checkNodeWasScrollRoot(tn){var sn;return tn!==tn.root&&((sn=tn.scroll)===null||sn===void 0?void 0:sn.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(tn,sn)=>addDomEvent(tn,"resize",sn),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:tn=>({x:tn.scrollLeft,y:tn.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const tn=new DocumentProjectionNode({});tn.mount(window),tn.setOptions({layoutScroll:!0}),rootProjectionNode.current=tn}return rootProjectionNode.current},resetTransform:(tn,sn)=>{tn.style.transform=sn!==void 0?sn:"none"},checkIsScrollRoot:tn=>window.getComputedStyle(tn).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(tn,sn,un){const{props:dn}=tn;tn.animationState&&dn.whileHover&&tn.animationState.setActive("whileHover",un==="Start");const pn="onHover"+un,mn=dn[pn];mn&&frame.postRender(()=>mn(sn,extractEventInfo(sn)))}class HoverGesture extends Feature{mount(){const{current:sn}=this.node;sn&&(this.unmount=hover(sn,un=>(handleHoverEvent(this.node,un,"Start"),dn=>handleHoverEvent(this.node,dn,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let sn=!1;try{sn=this.node.current.matches(":focus-visible")}catch{sn=!0}!sn||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(tn,sn,un){const{props:dn}=tn;tn.animationState&&dn.whileTap&&tn.animationState.setActive("whileTap",un==="Start");const pn="onTap"+(un==="End"?"":un),mn=dn[pn];mn&&frame.postRender(()=>mn(sn,extractEventInfo(sn)))}class PressGesture extends Feature{mount(){const{current:sn}=this.node;sn&&(this.unmount=press(sn,un=>(handlePressEvent(this.node,un,"Start"),(dn,{success:pn})=>handlePressEvent(this.node,dn,pn?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=tn=>{const sn=observerCallbacks.get(tn.target);sn&&sn(tn)},fireAllObserverCallbacks=tn=>{tn.forEach(fireObserverCallback)};function initIntersectionObserver({root:tn,...sn}){const un=tn||document;observers.has(un)||observers.set(un,{});const dn=observers.get(un),pn=JSON.stringify(sn);return dn[pn]||(dn[pn]=new IntersectionObserver(fireAllObserverCallbacks,{root:tn,...sn})),dn[pn]}function observeIntersection(tn,sn,un){const dn=initIntersectionObserver(sn);return observerCallbacks.set(tn,un),dn.observe(tn),()=>{observerCallbacks.delete(tn),dn.unobserve(tn)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:sn={}}=this.node.getProps(),{root:un,margin:dn,amount:pn="some",once:mn}=sn,hn={root:un?un.current:void 0,rootMargin:dn,threshold:typeof pn=="number"?pn:thresholdNames[pn]},fn=gn=>{const{isIntersecting:xn}=gn;if(this.isInView===xn||(this.isInView=xn,mn&&!xn&&this.hasEnteredView))return;xn&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",xn);const{onViewportEnter:yn,onViewportLeave:vn}=this.node.getProps(),En=xn?yn:vn;En&&En(gn)};return observeIntersection(this.node.current,hn,fn)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:sn,prevProps:un}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(sn,un))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:tn={}},{viewport:sn={}}={}){return un=>tn[un]!==sn[un]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const tn=window.matchMedia("(prefers-reduced-motion)"),sn=()=>prefersReducedMotion.current=tn.matches;tn.addListener(sn),sn()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=tn=>valueTypes.find(testValueType(tn)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(tn,sn,un){for(const dn in sn){const pn=sn[dn],mn=un[dn];if(isMotionValue(pn))tn.addValue(dn,pn);else if(isMotionValue(mn))tn.addValue(dn,motionValue(pn,{owner:tn}));else if(mn!==pn)if(tn.hasValue(dn)){const hn=tn.getValue(dn);hn.liveStyle===!0?hn.jump(pn):hn.hasAnimated||hn.set(pn)}else{const hn=tn.getStaticValue(dn);tn.addValue(dn,motionValue(hn!==void 0?hn:pn,{owner:tn}))}}for(const dn in un)sn[dn]===void 0&&tn.removeValue(dn);return sn}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(sn,un,dn){return{}}constructor({parent:sn,props:un,presenceContext:dn,reducedMotionConfig:pn,blockInitialAnimation:mn,visualState:hn},fn={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const bn=time.now();this.renderScheduledAt<bn&&(this.renderScheduledAt=bn,frame.render(this.render,!1,!0))};const{latestValues:gn,renderState:xn,onUpdate:yn}=hn;this.onUpdate=yn,this.latestValues=gn,this.baseTarget={...gn},this.initialValues=un.initial?{...gn}:{},this.renderState=xn,this.parent=sn,this.props=un,this.presenceContext=dn,this.depth=sn?sn.depth+1:0,this.reducedMotionConfig=pn,this.options=fn,this.blockInitialAnimation=!!mn,this.isControllingVariants=isControllingVariants(un),this.isVariantNode=isVariantNode(un),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(sn&&sn.current);const{willChange:vn,...En}=this.scrapeMotionValuesFromProps(un,{},this);for(const bn in En){const wn=En[bn];gn[bn]!==void 0&&isMotionValue(wn)&&wn.set(gn[bn],!1)}}mount(sn){this.current=sn,visualElementStore.set(sn,this),this.projection&&!this.projection.instance&&this.projection.mount(sn),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((un,dn)=>this.bindToMotionValue(dn,un)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(sn=>sn()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const sn in this.events)this.events[sn].clear();for(const sn in this.features){const un=this.features[sn];un&&(un.unmount(),un.isMounted=!1)}this.current=null}bindToMotionValue(sn,un){this.valueSubscriptions.has(sn)&&this.valueSubscriptions.get(sn)();const dn=transformProps.has(sn),pn=un.on("change",fn=>{this.latestValues[sn]=fn,this.props.onUpdate&&frame.preRender(this.notifyUpdate),dn&&this.projection&&(this.projection.isTransformDirty=!0)}),mn=un.on("renderRequest",this.scheduleRender);let hn;window.MotionCheckAppearSync&&(hn=window.MotionCheckAppearSync(this,sn,un)),this.valueSubscriptions.set(sn,()=>{pn(),mn(),hn&&hn(),un.owner&&un.stop()})}sortNodePosition(sn){return!this.current||!this.sortInstanceNodePosition||this.type!==sn.type?0:this.sortInstanceNodePosition(this.current,sn.current)}updateFeatures(){let sn="animation";for(sn in featureDefinitions){const un=featureDefinitions[sn];if(!un)continue;const{isEnabled:dn,Feature:pn}=un;if(!this.features[sn]&&pn&&dn(this.props)&&(this.features[sn]=new pn(this)),this.features[sn]){const mn=this.features[sn];mn.isMounted?mn.update():(mn.mount(),mn.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(sn){return this.latestValues[sn]}setStaticValue(sn,un){this.latestValues[sn]=un}update(sn,un){(sn.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=sn,this.prevPresenceContext=this.presenceContext,this.presenceContext=un;for(let dn=0;dn<propEventHandlers.length;dn++){const pn=propEventHandlers[dn];this.propEventSubscriptions[pn]&&(this.propEventSubscriptions[pn](),delete this.propEventSubscriptions[pn]);const mn="on"+pn,hn=sn[mn];hn&&(this.propEventSubscriptions[pn]=this.on(pn,hn))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(sn,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(sn){return this.props.variants?this.props.variants[sn]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(sn){const un=this.getClosestVariantNode();if(un)return un.variantChildren&&un.variantChildren.add(sn),()=>un.variantChildren.delete(sn)}addValue(sn,un){const dn=this.values.get(sn);un!==dn&&(dn&&this.removeValue(sn),this.bindToMotionValue(sn,un),this.values.set(sn,un),this.latestValues[sn]=un.get())}removeValue(sn){this.values.delete(sn);const un=this.valueSubscriptions.get(sn);un&&(un(),this.valueSubscriptions.delete(sn)),delete this.latestValues[sn],this.removeValueFromRenderState(sn,this.renderState)}hasValue(sn){return this.values.has(sn)}getValue(sn,un){if(this.props.values&&this.props.values[sn])return this.props.values[sn];let dn=this.values.get(sn);return dn===void 0&&un!==void 0&&(dn=motionValue(un===null?void 0:un,{owner:this}),this.addValue(sn,dn)),dn}readValue(sn,un){var dn;let pn=this.latestValues[sn]!==void 0||!this.current?this.latestValues[sn]:(dn=this.getBaseTargetFromProps(this.props,sn))!==null&&dn!==void 0?dn:this.readValueFromInstance(this.current,sn,this.options);return pn!=null&&(typeof pn=="string"&&(isNumericalString(pn)||isZeroValueString(pn))?pn=parseFloat(pn):!findValueType(pn)&&complex.test(un)&&(pn=getAnimatableNone(sn,un)),this.setBaseTarget(sn,isMotionValue(pn)?pn.get():pn)),isMotionValue(pn)?pn.get():pn}setBaseTarget(sn,un){this.baseTarget[sn]=un}getBaseTarget(sn){var un;const{initial:dn}=this.props;let pn;if(typeof dn=="string"||typeof dn=="object"){const hn=resolveVariantFromProps(this.props,dn,(un=this.presenceContext)===null||un===void 0?void 0:un.custom);hn&&(pn=hn[sn])}if(dn&&pn!==void 0)return pn;const mn=this.getBaseTargetFromProps(this.props,sn);return mn!==void 0&&!isMotionValue(mn)?mn:this.initialValues[sn]!==void 0&&pn===void 0?void 0:this.baseTarget[sn]}on(sn,un){return this.events[sn]||(this.events[sn]=new SubscriptionManager),this.events[sn].add(un)}notify(sn,...un){this.events[sn]&&this.events[sn].notify(...un)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(sn,un){return sn.compareDocumentPosition(un)&2?1:-1}getBaseTargetFromProps(sn,un){return sn.style?sn.style[un]:void 0}removeValueFromRenderState(sn,{vars:un,style:dn}){delete un[sn],delete dn[sn]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:sn}=this.props;isMotionValue(sn)&&(this.childSubscription=sn.on("change",un=>{this.current&&(this.current.textContent=`${un}`)}))}}function getComputedStyle$2(tn){return window.getComputedStyle(tn)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(sn,un){if(transformProps.has(un)){const dn=getDefaultValueType(un);return dn&&dn.default||0}else{const dn=getComputedStyle$2(sn),pn=(isCSSVariableName(un)?dn.getPropertyValue(un):dn[un])||0;return typeof pn=="string"?pn.trim():pn}}measureInstanceViewportBox(sn,{transformPagePoint:un}){return measureViewportBox(sn,un)}build(sn,un,dn){buildHTMLStyles(sn,un,dn.transformTemplate)}scrapeMotionValuesFromProps(sn,un,dn){return scrapeMotionValuesFromProps$1(sn,un,dn)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(sn,un){return sn[un]}readValueFromInstance(sn,un){if(transformProps.has(un)){const dn=getDefaultValueType(un);return dn&&dn.default||0}return un=camelCaseAttributes.has(un)?un:camelToDash(un),sn.getAttribute(un)}scrapeMotionValuesFromProps(sn,un,dn){return scrapeMotionValuesFromProps(sn,un,dn)}build(sn,un,dn){buildSVGAttrs(sn,un,this.isSVGTag,dn.transformTemplate)}renderInstance(sn,un,dn,pn){renderSVG(sn,un,dn,pn)}mount(sn){this.isSVGTag=isSVGTag(sn.tagName),super.mount(sn)}}const createDomVisualElement=(tn,sn)=>isSVGComponent(tn)?new SVGVisualElement(sn):new HTMLVisualElement(sn,{allowProjection:tn!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function CelebrationToast({isVisible:tn,onClose:sn,taskTitle:un,emoji:dn="🎉",onSendThanks:pn}){const[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(""),xn=["Great work on completing this task! 🌟","Thank you for your dedication! 💪","Awesome job getting this done! 🚀","You're making a real difference! ❤️","Amazing teamwork! Keep it up! 🙌","Your hard work is appreciated! ✨"],yn=()=>{const vn=fn||xn[Math.floor(Math.random()*xn.length)];pn==null||pn(vn),hn(!1),gn(""),sn()};return jsxRuntimeExports.jsx(AnimatePresence,{children:tn&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-100,scale:.8},animate:{opacity:1,y:0,scale:1,rotate:[0,-1,1,0]},exit:{opacity:0,y:-100,scale:.8},transition:{type:"spring",stiffness:300,damping:20,duration:.6},className:"fixed top-4 right-4 z-50 max-w-sm",children:jsxRuntimeExports.jsx(Card$1,{className:"bg-gradient-to-br from-orange-50 to-yellow-50 border-orange-200 shadow-lg",children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(motion.span,{className:"text-2xl",animate:{rotate:[0,15,-15,0]},transition:{repeat:3,duration:.3},children:dn}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:"Task Complete"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:sn,className:"h-6 w-6 p-0 hover:bg-orange-100",children:jsxRuntimeExports.jsx(X$1,{className:"h-3 w-3"})})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Congratulations!"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["You completed: ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:un})]}),mn?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[jsxRuntimeExports.jsx("textarea",{value:fn,onChange:vn=>gn(vn.target.value),placeholder:"Write a thank you message (optional)...",className:"w-full p-2 text-sm border border-orange-200 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-orange-300",rows:2}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:yn,size:"sm",className:"bg-tsp-primary hover:bg-tsp-primary/90 text-white",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-3 w-3 mr-1"}),"Send"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>hn(!1),className:"border-orange-200 hover:bg-orange-50",children:"Cancel"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:()=>hn(!0),size:"sm",className:"bg-tsp-primary hover:bg-tsp-primary/90 text-white",children:[jsxRuntimeExports.jsx(Heart,{className:"h-3 w-3 mr-1"}),"Send Thanks"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:sn,className:"border-orange-200 hover:bg-orange-50",children:"Close"})]})]})})})})}function useCelebration(){const[tn,sn]=reactExports.useState({isVisible:!1,taskTitle:"",emoji:"🎉"});return{celebration:tn,triggerCelebration:(pn,mn)=>{const hn=["🎉","🌟","🎊","🥳","🏆","✨","👏","💪"],fn=hn[Math.floor(Math.random()*hn.length)];sn({isVisible:!0,taskTitle:pn,emoji:fn,taskId:mn}),setTimeout(()=>{sn(gn=>({...gn,isVisible:!1}))},8e3)},hideCelebration:()=>{sn(pn=>({...pn,isVisible:!1}))}}}function SendKudosButton({recipientId:tn,recipientName:sn,contextType:un,contextId:dn,contextTitle:pn,className:mn="",size:hn="sm",variant:fn="outline"}){const{user:gn}=useAuth(),{toast:xn}=useToast(),[yn,vn]=reactExports.useState(!1),En=useMutation({mutationFn:async()=>{const Sn=bn(sn,un,pn);return await apiRequest("POST","/api/messages",{recipientId:tn,subject:`Kudos for ${pn}!`,content:Sn,contextType:un,contextId:dn,contextTitle:pn})},onSuccess:()=>{vn(!0),queryClient.invalidateQueries({queryKey:["/api/messages"]}),xn({description:`Kudos sent to ${sn}!`,duration:3e3})},onError:()=>{xn({description:"Failed to send kudos",variant:"destructive"})}}),bn=(Sn,Rn,_n)=>{const jn=[`🎉 Fantastic work on ${_n}, ${Sn}! Your dedication really shows.`,`⭐ Great job completing ${_n}! Thanks for your excellent contribution.`,`🏆 Outstanding work on ${_n}, ${Sn}! Keep up the amazing effort.`,`✨ Excellent completion of ${_n}! Your work makes a real difference.`,`🎯 Awesome job with ${_n}, ${Sn}! Thanks for being such a valuable team member.`,`🌟 Brilliant work on ${_n}! Your contribution is truly appreciated.`,`🚀 Amazing job completing ${_n}, ${Sn}! Your effort doesn't go unnoticed.`,`💫 Wonderful work on ${_n}! Thanks for your commitment to excellence.`];return jn[Math.floor(Math.random()*jn.length)]},wn=()=>{const Sn=[Heart,Star,Trophy,Sparkles,Target],Rn=Sn[Math.floor(Math.random()*Sn.length)];return jsxRuntimeExports.jsx(Rn,{className:"h-3 w-3"})};return!gn||gn.id===tn?null:yn?jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:`gap-1 ${mn}`,children:[jsxRuntimeExports.jsx(Heart,{className:"h-3 w-3 fill-red-400 text-red-400"}),"Kudos Sent"]}):jsxRuntimeExports.jsx(Button,{onClick:()=>En.mutate(),disabled:En.isPending,size:hn,variant:fn,className:`gap-1 ${mn}`,children:En.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current"}),"Sending..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[wn(),"Send Kudos"]})})}function ProjectAssigneeSelector({value:tn,onChange:sn,placeholder:un="Add team members",label:dn="Assigned To",className:pn,multiple:mn=!0}){const[hn,fn]=reactExports.useState([]),[gn,xn]=reactExports.useState(""),{data:yn=[]}=useQuery({queryKey:["/api/users"],retry:!1});reactExports.useEffect(()=>{if(tn&&yn.length>0){const Sn=tn.split(",").map(_n=>_n.trim()).filter(_n=>_n.length>0),Rn=[];Sn.forEach(_n=>{const jn=yn.find(Cn=>`${Cn.firstName||""} ${Cn.lastName||""}`.trim()===_n||Cn.email===_n);if(jn){const Cn=`${jn.firstName||""} ${jn.lastName||""}`.trim()||jn.email;Rn.push({id:jn.id,name:Cn,isSystemUser:!0})}else Rn.push({id:`custom_${Date.now()}_${Math.random()}`,name:_n,isSystemUser:!1})}),fn(Rn)}},[yn,tn]);const vn=Sn=>{if(Sn==="none")return;const Rn=yn.find(Cn=>Cn.id===Sn);if(!Rn)return;const _n=`${Rn.firstName||""} ${Rn.lastName||""}`.trim()||Rn.email;if(hn.some(Cn=>Cn.id===Rn.id))return;const jn=[...hn,{id:Rn.id,name:_n,isSystemUser:!0}];fn(jn),bn(jn)},En=()=>{if(!gn.trim())return;if(hn.some(_n=>_n.name.toLowerCase()===gn.trim().toLowerCase())){xn("");return}const Sn={id:`custom_${Date.now()}_${Math.random()}`,name:gn.trim(),isSystemUser:!1},Rn=[...hn,Sn];fn(Rn),xn(""),bn(Rn)},bn=Sn=>{const Rn=Sn.map(jn=>jn.name).join(", "),_n=Sn.filter(jn=>jn.isSystemUser).map(jn=>jn.id);sn(Rn,_n)},wn=Sn=>{const Rn=hn.filter(_n=>_n.id!==Sn);fn(Rn),bn(Rn)};return jsxRuntimeExports.jsxs("div",{className:pn,children:[jsxRuntimeExports.jsx(Label$1,{className:"mb-2 block",children:dn}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-slate-600 mb-2 block",children:"Add Team Members"}),jsxRuntimeExports.jsxs(Select,{value:"none",onValueChange:vn,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"+ Add team member"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Select a team member..."}),yn.filter(Sn=>!hn.some(Rn=>Rn.id===Sn.id&&Rn.isSystemUser)).map(Sn=>jsxRuntimeExports.jsx(SelectItem,{value:Sn.id,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:`${Sn.firstName||""} ${Sn.lastName||""}`.trim()||Sn.email}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:Sn.role||"User"})]})},Sn.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-slate-600 mb-2 block",children:"Add Custom Names"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:gn,onChange:Sn=>xn(Sn.target.value),placeholder:"Enter custom name",onKeyPress:Sn=>{Sn.key==="Enter"&&(Sn.preventDefault(),En())}}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",size:"sm",onClick:En,disabled:!gn.trim(),children:jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"})})]})]}),hn.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-slate-600",children:"Assigned:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:hn.map(Sn=>jsxRuntimeExports.jsxs(Badge,{variant:Sn.isSystemUser?"default":"outline",className:"flex items-center gap-1 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{children:Sn.name}),Sn.isSystemUser&&jsxRuntimeExports.jsx("span",{className:"text-xs opacity-75",children:"(User)"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1 hover:bg-red-100",onClick:()=>wn(Sn.id),children:jsxRuntimeExports.jsx(X$1,{className:"h-3 w-3"})})]},Sn.id))})]})]})]})}function AssigneeEmail({assigneeId:tn}){const{data:sn=[]}=useQuery({queryKey:["/api/users"],retry:!1}),un=sn.find(dn=>dn.id===tn.toString());return un!=null&&un.email?jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 truncate",children:un.email}):null}function ProjectsClean(){const[,tn]=useLocation(),{toast:sn}=useToast(),{user:un}=useAuth(),{triggerCelebration:dn}=useCelebration(),pn=useQueryClient(),[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(!1),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState("active"),[bn,wn]=reactExports.useState({title:"",description:"",status:"available",priority:"medium",category:"technology",assigneeName:"",dueDate:"",startDate:"",estimatedHours:0,actualHours:0,budget:""}),{data:Sn=[],isLoading:Rn}=useQuery({queryKey:["/api/projects"],staleTime:3e4,refetchOnWindowFocus:!0}),{data:_n=[],isLoading:jn}=useQuery({queryKey:["/api/projects/archived"]}),Cn=useMutation({mutationFn:async Hn=>await apiRequest("POST","/api/projects",Hn),onSuccess:Hn=>{pn.invalidateQueries({queryKey:["/api/projects"]}),hn(!1),$n(),sn({title:"Project created successfully!",description:`"${Hn.title}" has been added to your projects.`})},onError:()=>{sn({title:"Error",description:"Failed to create project.",variant:"destructive"})}}),An=useMutation({mutationFn:async({id:Hn,...Ln})=>await apiRequest("PATCH",`/api/projects/${Hn}`,Ln),onSuccess:Hn=>{pn.invalidateQueries({queryKey:["/api/projects"]}),sn({title:"Project updated successfully!",description:`"${Hn.title}" has been updated.`})},onError:()=>{sn({title:"Error",description:"Failed to update project.",variant:"destructive"})}}),Tn=useMutation({mutationFn:async Hn=>await apiRequest("DELETE",`/api/projects/${Hn}`),onSuccess:()=>{pn.invalidateQueries({queryKey:["/api/projects"]}),sn({title:"Project deleted successfully!",description:"The project has been removed."})},onError:()=>{sn({title:"Error",description:"Failed to delete project.",variant:"destructive"})}}),$n=()=>{wn({title:"",description:"",status:"available",priority:"medium",category:"technology",assigneeName:"",dueDate:"",startDate:"",estimatedHours:0,actualHours:0,budget:""})},Dn=Hn=>{var Ln;if(Hn.preventDefault(),(Ln=bn.title)!=null&&Ln.trim()){const zn={...bn,createdBy:(un==null?void 0:un.id)||"",createdByName:un!=null&&un.firstName?`${un.firstName} ${un.lastName||""}`.trim():(un==null?void 0:un.email)||""};Cn.mutate(zn)}},Nn=Hn=>{yn(Hn),gn(!0)},kn=Hn=>{Hn.preventDefault(),xn&&(An.mutate({id:xn.id,...xn}),gn(!1),yn(null))},Pn=(Hn,Ln)=>{confirm(`Are you sure you want to delete "${Ln}"? This action cannot be undone.`)&&Tn.mutate(Hn)},Mn=(Hn,Ln)=>{confirm(`Mark "${Ln}" as completed?`)&&(An.mutate({id:Hn,status:"completed"}),sn({title:"🎉 Project completed!",description:`"${Ln}" has been marked as completed.`}),dn("🎉"))},On=Hn=>Hn==="active"?Sn.filter(Ln=>Ln.status==="in_progress"):Sn.filter(Ln=>Ln.status===Hn),Wn=Hn=>{switch(Hn){case"urgent":return"bg-red-500";case"high":return"bg-[#FBAD3F]";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},In=(Hn,Ln)=>hasPermission(Hn,PERMISSIONS.EDIT_ALL_PROJECTS),Un=Hn=>{var Ln,zn;return jsxRuntimeExports.jsx(Card$1,{className:"hover:shadow-md transition-all duration-200 cursor-pointer border border-gray-200 bg-white",onClick:()=>tn(`/projects/${Hn.id}`),children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-start gap-3",children:[In(un)&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:Bn=>{Bn.stopPropagation(),Hn.status!=="completed"&&Mn(Hn.id,Hn.title)},className:"h-5 w-5 p-0 hover:bg-[#FBAD3F]/10 flex-shrink-0 mt-1",title:Hn.status==="completed"?"Completed":"Mark as Complete",children:Hn.status==="completed"?jsxRuntimeExports.jsx(CircleCheck,{className:"h-5 w-5 text-green-600"}):jsxRuntimeExports.jsx(Square,{className:"h-5 w-5 text-gray-400 hover:text-[#FBAD3F]"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-[#236383] font-roboto text-lg mb-1 break-words leading-tight",children:Hn.title}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[jsxRuntimeExports.jsxs(Badge,{className:`${Wn(Hn.priority)} text-white text-xs font-roboto`,children:[Hn.priority," priority"]}),jsxRuntimeExports.jsx(Badge,{className:"bg-[#FBAD3F] text-white border-[#FBAD3F] text-xs font-roboto",children:Hn.status==="in_progress"?"active":((Ln=Hn.status)==null?void 0:Ln.replace("_"," "))||"available"})]})]})]}),In(un)&&jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:Bn=>Bn.stopPropagation(),className:"h-8 w-8 p-0 hover:bg-[#FBAD3F]/10",children:jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4 text-[#FBAD3F]"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:Bn=>{Bn.stopPropagation(),Nn(Hn)},children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4 mr-2 text-[#FBAD3F]"}),"Edit Project"]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:Bn=>{Bn.stopPropagation(),Pn(Hn.id,Hn.title)},className:"text-red-600 focus:text-red-600",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),"Delete Project"]})]})]})})]}),Hn.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 font-roboto",children:Hn.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 font-roboto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-[#FBAD3F] flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-w-0",children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:Hn.assigneeName||"Unassigned"}),Hn.assigneeId&&jsxRuntimeExports.jsx(AssigneeEmail,{assigneeId:Hn.assigneeId})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-[#FBAD3F]"}),jsxRuntimeExports.jsx("span",{children:Hn.dueDate?new Date(Hn.dueDate).toLocaleDateString():"No date"})]})]}),Hn.status==="completed"&&Hn.assigneeName&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",onClick:Bn=>Bn.stopPropagation(),children:jsxRuntimeExports.jsx(SendKudosButton,{recipientId:((zn=Hn.assigneeId)==null?void 0:zn.toString())||"",recipientName:Hn.assigneeName,contextType:"project",contextId:Hn.id.toString(),contextTitle:Hn.title,className:"w-full",size:"sm",variant:"outline"})})]})},Hn.id)},Vn=On(vn);return Rn?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"text-gray-600 font-roboto",children:"Loading projects..."})}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:sandwichLogo,alt:"The Sandwich Project Logo",className:"w-10 h-10"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-[#236383] font-roboto",children:"Project Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-roboto",children:"Organize and track all team projects"})]})]}),hasPermission(un,PERMISSIONS.CREATE_PROJECTS)&&jsxRuntimeExports.jsxs(Button,{onClick:()=>hn(!0),className:"bg-[#FBAD3F] hover:bg-[#e89a2f] text-white font-roboto font-medium shadow-sm",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"New Project"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-1 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-1",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:()=>En("available"),className:`font-roboto font-medium transition-all ${vn==="available"?"bg-[#236383] text-white hover:bg-[#1e5470]":"text-[#236383] hover:text-[#1e5470] hover:bg-[#236383]/5"}`,children:[jsxRuntimeExports.jsx(Circle,{className:"w-4 h-4 mr-2"}),"Available (",Sn.filter(Hn=>Hn.status==="available").length,")"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:()=>En("active"),className:`font-roboto font-medium transition-all ${vn==="active"?"bg-[#236383] text-white hover:bg-[#1e5470]":"text-[#236383] hover:text-[#1e5470] hover:bg-[#236383]/5"}`,children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 mr-2"}),"Active (",Sn.filter(Hn=>Hn.status==="in_progress").length,")"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:()=>En("completed"),className:`font-roboto font-medium transition-all ${vn==="completed"?"bg-[#236383] text-white hover:bg-[#1e5470]":"text-[#236383] hover:text-[#1e5470] hover:bg-[#236383]/5"}`,children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 mr-2"}),"Completed (",Sn.filter(Hn=>Hn.status==="completed").length,")"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:()=>En("archived"),className:`font-roboto font-medium transition-all ${vn==="archived"?"bg-[#236383] text-white hover:bg-[#1e5470]":"text-[#236383] hover:text-[#1e5470] hover:bg-[#236383]/5"}`,children:[jsxRuntimeExports.jsx(Archive$c,{className:"w-4 h-4 mr-2"}),"Archived (",Array.isArray(_n)?_n.length:0,")"]})]})}),jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Vn.length===0?jsxRuntimeExports.jsxs("div",{className:"col-span-full text-center py-12",children:[jsxRuntimeExports.jsxs("div",{className:"text-[#236383]/30 mb-4",children:[vn==="available"&&jsxRuntimeExports.jsx(Circle,{className:"w-12 h-12 mx-auto"}),vn==="active"&&jsxRuntimeExports.jsx(Play,{className:"w-12 h-12 mx-auto"}),vn==="completed"&&jsxRuntimeExports.jsx(CircleCheck,{className:"w-12 h-12 mx-auto"}),vn==="archived"&&jsxRuntimeExports.jsx(Archive$c,{className:"w-12 h-12 mx-auto"})]}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-medium text-[#236383] font-roboto mb-2",children:["No ",vn.replace("_"," ")," Projects"]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 font-roboto",children:[vn==="available"&&"All projects are currently assigned or completed.",vn==="active"&&"No projects are currently in progress.",vn==="completed"&&"Completed projects will appear here.",vn==="archived"&&"Archived projects will appear here."]})]}):Vn.map(Un)}),jsxRuntimeExports.jsx(Dialog,{open:mn,onOpenChange:hn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[600px]",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{className:"text-[#236383] font-roboto",children:"Create New Project"})}),jsxRuntimeExports.jsxs("form",{onSubmit:Dn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"title",className:"font-roboto",children:"Project Title"}),jsxRuntimeExports.jsx(Input,{id:"title",placeholder:"Enter project title",value:bn.title,onChange:Hn=>wn({...bn,title:Hn.target.value}),className:"font-roboto",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"description",className:"font-roboto",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"description",placeholder:"Project description",value:bn.description||"",onChange:Hn=>wn({...bn,description:Hn.target.value}),className:"font-roboto",rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"priority",className:"font-roboto",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:bn.priority,onValueChange:Hn=>wn({...bn,priority:Hn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"font-roboto",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"category",className:"font-roboto",children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:bn.category,onValueChange:Hn=>wn({...bn,category:Hn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"font-roboto",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"technology",children:"Technology"}),jsxRuntimeExports.jsx(SelectItem,{value:"marketing",children:"Marketing"}),jsxRuntimeExports.jsx(SelectItem,{value:"operations",children:"Operations"}),jsxRuntimeExports.jsx(SelectItem,{value:"community",children:"Community"}),jsxRuntimeExports.jsx(SelectItem,{value:"fundraising",children:"Fundraising"}),jsxRuntimeExports.jsx(SelectItem,{value:"event",children:"Event"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"assigneeName",className:"font-roboto",children:"Assigned To"}),jsxRuntimeExports.jsx(Input,{id:"assigneeName",placeholder:"Enter assignee name",value:bn.assigneeName||"",onChange:Hn=>wn({...bn,assigneeName:Hn.target.value}),className:"font-roboto"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"dueDate",className:"font-roboto",children:"Due Date"}),jsxRuntimeExports.jsx(Input,{id:"dueDate",type:"date",value:bn.dueDate||"",onChange:Hn=>wn({...bn,dueDate:Hn.target.value}),className:"font-roboto"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>hn(!1),className:"font-roboto",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"bg-[#FBAD3F] hover:bg-[#e89a2f] text-white font-roboto",disabled:Cn.isPending,children:Cn.isPending?"Creating...":"Create Project"})]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:fn,onOpenChange:gn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-[#236383] font-roboto",children:"Edit Project"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 font-roboto",children:"Update project details and assignments"})]}),xn&&jsxRuntimeExports.jsxs("form",{onSubmit:kn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-title",className:"font-roboto",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-title",value:xn.title,onChange:Hn=>yn({...xn,title:Hn.target.value}),className:"font-roboto",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-description",className:"font-roboto",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"edit-project-description",value:xn.description||"",onChange:Hn=>yn({...xn,description:Hn.target.value}),className:"font-roboto",rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-status",className:"font-roboto",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:xn.status,onValueChange:Hn=>yn({...xn,status:Hn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"font-roboto",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"available",children:"Available"}),jsxRuntimeExports.jsx(SelectItem,{value:"in_progress",children:"In Progress"}),jsxRuntimeExports.jsx(SelectItem,{value:"waiting",children:"Waiting"}),jsxRuntimeExports.jsx(SelectItem,{value:"completed",children:"Completed"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-priority",className:"font-roboto",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:xn.priority,onValueChange:Hn=>yn({...xn,priority:Hn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"font-roboto",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-category",className:"font-roboto",children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:xn.category||"technology",onValueChange:Hn=>yn({...xn,category:Hn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"font-roboto",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select category"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"technology",children:"💻 Tech"}),jsxRuntimeExports.jsx(SelectItem,{value:"events",children:"📅 Events"}),jsxRuntimeExports.jsx(SelectItem,{value:"grants",children:"💰 Grants"}),jsxRuntimeExports.jsx(SelectItem,{value:"outreach",children:"🤝 Outreach"})]})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ProjectAssigneeSelector,{value:xn.assigneeName||"",onChange:(Hn,Ln)=>yn({...xn,assigneeName:Hn,assigneeIds:Ln!=null&&Ln.length?Ln:void 0}),label:"Assigned To",placeholder:"Select or enter person responsible",className:"font-roboto"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-due-date",className:"font-roboto",children:"Due Date"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-due-date",type:"date",value:xn.dueDate?xn.dueDate.split("T")[0]:"",onChange:Hn=>yn({...xn,dueDate:Hn.target.value}),className:"font-roboto"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-budget",className:"font-roboto",children:"Budget"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-budget",type:"text",value:xn.budget||"",onChange:Hn=>yn({...xn,budget:Hn.target.value}),className:"font-roboto",placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-estimated-hours",className:"font-roboto",children:"Estimated Hours"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-estimated-hours",type:"number",value:xn.estimatedHours||"",onChange:Hn=>yn({...xn,estimatedHours:Number(Hn.target.value)}),className:"font-roboto",placeholder:"0"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>gn(!1),className:"font-roboto",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"bg-[#FBAD3F] hover:bg-[#e89a2f] text-white font-roboto",disabled:An.isPending,children:An.isPending?"Updating...":"Update Project"})]})]})]})})]})}function TaskAssigneeSelector({value:tn,onChange:sn,placeholder:un="Assign to...",multiple:dn=!1}){const[pn,mn]=reactExports.useState("user"),[hn,fn]=reactExports.useState(""),[gn,xn]=reactExports.useState([]),[yn,vn]=reactExports.useState([]),{data:En=[],isLoading:bn}=useQuery({queryKey:["/api/users"]});reactExports.useEffect(()=>{if(dn){const $n=(tn==null?void 0:tn.assigneeIds)||[],Dn=(tn==null?void 0:tn.assigneeNames)||[];xn($n),vn(Dn),Dn.length>0&&$n.length===0&&(mn("text"),fn(Dn.join(", ")))}else tn!=null&&tn.assigneeName&&!(tn!=null&&tn.assigneeId)&&(fn(tn.assigneeName),mn("text"))},[tn,dn]);const wn=$n=>{if($n==="none"){dn?(xn([]),vn([]),sn({assigneeIds:void 0,assigneeNames:void 0})):sn({assigneeId:void 0,assigneeName:void 0});return}const Dn=En.find(kn=>kn.id===$n);if(!Dn)return;const Nn=`${Dn.firstName} ${Dn.lastName}`.trim()||Dn.email;if(dn)if(gn.includes($n)){const kn=gn.filter(Mn=>Mn!==$n),Pn=yn.filter((Mn,On)=>gn[On]!==$n);xn(kn),vn(Pn),sn({assigneeIds:kn.length>0?kn:void 0,assigneeNames:Pn.length>0?Pn:void 0})}else{const kn=[...gn,$n],Pn=[...yn,Nn];xn(kn),vn(Pn),sn({assigneeIds:kn,assigneeNames:Pn})}else sn({assigneeId:$n,assigneeName:Nn})},Sn=$n=>{if(fn($n),dn){const Dn=$n.split(",").map(Nn=>Nn.trim()).filter(Nn=>Nn.length>0);vn(Dn),sn({assigneeIds:void 0,assigneeNames:Dn.length>0?Dn:void 0})}else sn({assigneeId:void 0,assigneeName:$n||void 0})},Rn=$n=>{if(dn){const Dn=gn.filter((kn,Pn)=>Pn!==$n),Nn=yn.filter((kn,Pn)=>Pn!==$n);xn(Dn),vn(Nn),sn({assigneeIds:Dn.length>0?Dn:void 0,assigneeNames:Nn.length>0?Nn:void 0})}},_n=()=>{fn(""),xn([]),vn([]),sn(dn?{assigneeIds:void 0,assigneeNames:void 0}:{assigneeId:void 0,assigneeName:void 0})},Cn=(()=>{if(dn)return"";if(tn!=null&&tn.assigneeId){const $n=En.find(Dn=>Dn.id===tn.assigneeId);return $n?`${$n.firstName} ${$n.lastName}`.trim()||$n.email:tn.assigneeName}return(tn==null?void 0:tn.assigneeName)||""})(),Tn=(()=>{if(dn){const $n=[];return gn.forEach((Dn,Nn)=>{const kn=En.find(Pn=>Pn.id===Dn);kn&&$n.push({id:Dn,name:`${kn.firstName} ${kn.lastName}`.trim()||kn.email,isSystemUser:!0,index:Nn})}),yn.forEach((Dn,Nn)=>{gn[Nn]||$n.push({id:`text-${Nn}`,name:Dn,isSystemUser:!1,index:Nn})}),$n}return[]})();return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:pn==="user"?"default":"outline",size:"sm",onClick:()=>mn("user"),className:"text-xs",children:dn?"Select Users":"Select User"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:pn==="text"?"default":"outline",size:"sm",onClick:()=>mn("text"),className:"text-xs",children:"Free Text"}),dn&&Tn.length>0&&jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",size:"sm",onClick:_n,className:"text-xs text-red-600 hover:text-red-700",children:"Clear All"})]}),pn==="user"?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs(Select,{value:dn?"none":(tn==null?void 0:tn.assigneeId)||"none",onValueChange:wn,disabled:bn,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:bn?"Loading users...":un})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Unassigned"}),En.filter($n=>$n.isActive).map($n=>jsxRuntimeExports.jsx(SelectItem,{value:$n.id,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[dn&&gn.includes($n.id)&&jsxRuntimeExports.jsx("span",{className:"text-green-600",children:"✓"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:`${$n.firstName} ${$n.lastName}`.trim()||$n.email}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:$n.role})]})},$n.id))]})]})}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsx(Input,{value:hn,onChange:$n=>Sn($n.target.value),placeholder:dn?"Enter names separated by commas...":"Enter assignee name..."})}),dn&&Tn.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Assigned to:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Tn.map($n=>jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"flex items-center gap-1 pr-1",children:[$n.name,$n.isSystemUser&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs ml-1",children:"User"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Rn($n.index),className:"ml-1 hover:bg-gray-200 rounded-full p-0.5",children:jsxRuntimeExports.jsx(X$1,{className:"h-3 w-3"})})]},$n.id))})]}),!dn&&Cn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"flex items-center gap-1",children:[Cn,jsxRuntimeExports.jsx("button",{type:"button",onClick:_n,className:"ml-1 hover:bg-gray-200 rounded-full p-0.5",children:jsxRuntimeExports.jsx(X$1,{className:"h-3 w-3"})})]}),(tn==null?void 0:tn.assigneeId)&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"System User"})]})]})}function MultiUserTaskCompletion({taskId:tn,projectId:sn,assigneeIds:un,assigneeNames:dn,currentUserId:pn,currentUserName:mn,taskStatus:hn,onStatusChange:fn}){const[gn,xn]=reactExports.useState(""),[yn,vn]=reactExports.useState(!1),{toast:En}=useToast(),bn=useQueryClient(),{data:wn,isLoading:Sn,refetch:Rn}=useQuery({queryKey:["/api/tasks",tn,"completions"],enabled:!!tn,staleTime:3e4,refetchOnWindowFocus:!1,queryFn:async()=>{const On=await apiRequest("GET",`/api/tasks/${tn}/completions`);return Array.isArray(On)?On:[]}}),_n=wn||[],jn=useMutation({mutationFn:async On=>apiRequest("POST",`/api/tasks/${tn}/complete`,{notes:On}),onSuccess:On=>{if(bn.invalidateQueries({queryKey:["/api/tasks",tn,"completions"]}),bn.invalidateQueries({queryKey:["/api/projects",sn,"tasks"]}),vn(!1),xn(""),On.isFullyCompleted)En({title:"Task Fully Completed! 🎉",description:"All team members have completed this task - task automatically marked complete"}),fn==null||fn(!0);else{const Wn=(_n.length||0)+1,In=un.length;En({title:"Your portion completed",description:`${Wn}/${In} team members finished`}),fn==null||fn(!1)}},onError:On=>{En({title:"Error",description:On.message||"Failed to mark task complete",variant:"destructive"})}}),Cn=useMutation({mutationFn:async()=>apiRequest("DELETE",`/api/tasks/${tn}/complete`),onSuccess:()=>{bn.invalidateQueries({queryKey:["/api/tasks",tn,"completions"]}),bn.invalidateQueries({queryKey:["/api/projects",sn,"tasks"]}),En({title:"Completion removed",description:"Your completion has been removed from this task"}),fn==null||fn(!1)},onError:On=>{En({title:"Error",description:On.message||"Failed to remove completion",variant:"destructive"})}}),An=()=>{jn.mutate(gn)},Tn=()=>{Cn.mutate()};if(Sn)return jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Loading completion status..."});const $n=(_n||[]).find(On=>On.userId===pn),Dn=!!$n,Nn=(_n||[]).length,kn=(un||[]).length,Pn=kn===0?hn==="completed":Nn>=kn,Mn=(On,Wn)=>{const In=On===pn,Vn=!!(_n||[]).find(Hn=>Hn.userId===On);return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Vn?jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(Circle,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("span",{className:`text-sm ${In?"font-medium":""} ${Vn?"line-through text-gray-500":""}`,children:[Wn,In&&" (You)"]}),Vn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"✓ Done"}),!In&&jsxRuntimeExports.jsx(SendKudosButton,{recipientId:On,recipientName:Wn,contextType:"task",contextId:tn.toString(),entityName:"task completion",size:"sm",className:"ml-2"})]})]},On)};return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:kn===0?`Task Status: ${hn}`:`Team Progress: ${(_n==null?void 0:_n.length)||0}/${kn||0}`}),Pn&&jsxRuntimeExports.jsx(Badge,{className:"bg-green-600 hover:bg-green-700 text-white font-bold",children:"✓ Fully Complete"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:un&&un.length>0?un.map((On,Wn)=>Mn(On,dn[Wn]||"Unknown User")):jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:hn==="completed"?"Task completed without individual tracking":"No team members assigned"})}),pn&&un.includes(pn)&&jsxRuntimeExports.jsx("div",{className:"pt-2 border-t",children:Dn?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Tn,disabled:Cn.isPending,className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:[jsxRuntimeExports.jsx(Circle,{className:"w-4 h-4 mr-2"}),Cn.isPending?"Removing...":"Mark Incomplete"]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Completed ",new Date($n.completedAt).toLocaleDateString()]})]}):jsxRuntimeExports.jsxs(Dialog,{open:yn,onOpenChange:vn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-4 h-4 mr-2"}),"Mark My Portion Complete"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"w-[95vw] max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Complete Your Portion"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Add notes about your completion of this task portion."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"completion-notes",children:"Notes (Optional)"}),jsxRuntimeExports.jsx(Textarea,{id:"completion-notes",value:gn,onChange:On=>xn(On.target.value),placeholder:"Add any notes about your completion...",rows:3,className:"resize-none"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>vn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:An,disabled:jn.isPending,className:"bg-green-600 hover:bg-green-700",children:jn.isPending?"Marking Complete...":"Complete"})]})]})]})]})}),_n.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 inline mr-1"}),"Last activity: ",new Date(Math.max(..._n.map(On=>new Date(On.completedAt).getTime()))).toLocaleString()]})]})}function ProjectDetailClean({projectId:tn}){var Bn;const{id:sn}=useParams(),un=tn?tn.toString():sn,[,dn]=useLocation(),{toast:pn}=useToast(),{user:mn}=useAuth(),[hn,fn]=reactExports.useState(!1),[gn,xn]=reactExports.useState(!1),[yn,vn]=reactExports.useState(null),[En,bn]=reactExports.useState({title:"",description:"",priority:"medium",dueDate:"",assigneeId:"",assigneeName:"",estimatedHours:0}),[wn,Sn]=reactExports.useState(null),{data:Rn,isLoading:_n}=useQuery({queryKey:["/api/projects",un],queryFn:async()=>await apiRequest("GET",`/api/projects/${un}`),enabled:!!un}),{data:jn=[],isLoading:Cn}=useQuery({queryKey:["/api/projects",un,"tasks"],queryFn:async()=>{const Fn=await apiRequest("GET",`/api/projects/${un}/tasks`);return Array.isArray(Fn)?Fn:[]},enabled:!!un}),An=async(Fn,Gn)=>{var qn;if(mn!=null&&mn.id)try{const Jn=[];if(Fn.assigneeIds&&Fn.assigneeIds.length>0)for(let dr=0;dr<Fn.assigneeIds.length;dr++){const br=Fn.assigneeIds[dr],Er=((qn=Fn.assigneeNames)==null?void 0:qn[dr])||`User ${br}`;br!==mn.id&&Jn.push({id:br,name:Er})}else Fn.assigneeId&&Fn.assigneeName&&(mn==null?void 0:mn.id)!==Fn.assigneeId&&Jn.push({id:Fn.assigneeId,name:Fn.assigneeName});for(const dr of Jn)try{await apiRequest("POST","/api/messaging/kudos",{recipientId:dr.id,recipientName:dr.name,contextType:"project",contextId:Fn.id.toString(),entityName:Gn,customMessage:`🎉 Congratulations on completing "${Gn}"! Amazing work!`}),console.log(`Kudos sent to ${dr.name} for project completion`)}catch(br){console.error(`Failed to send kudos to ${dr.name}:`,br)}Jn.length>0&&pn({title:"🎉 Kudos sent!",description:`Congratulations sent to ${Jn.length} team member${Jn.length>1?"s":""} for completing "${Gn}"`})}catch(Jn){console.error("Failed to send project completion kudos:",Jn)}},Tn=useMutation({mutationFn:async Fn=>await apiRequest("PATCH",`/api/projects/${un}`,Fn),onSuccess:async(Fn,Gn)=>{queryClient.invalidateQueries({queryKey:["/api/projects",un]}),queryClient.invalidateQueries({queryKey:["/api/projects"]}),xn(!1),Sn(null),pn({description:"Project updated successfully"}),Gn.status==="completed"&&Rn&&await An(Rn,Rn.title)},onError:Fn=>{pn({title:"Error updating project",description:Fn.message||"Failed to update project",variant:"destructive"})}}),$n=useMutation({mutationFn:async Fn=>await apiRequest("POST",`/api/projects/${un}/tasks`,Fn),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/projects",un,"tasks"]}),queryClient.invalidateQueries({queryKey:["/api/projects",un]}),fn(!1),bn({title:"",description:"",priority:"medium",dueDate:"",assigneeId:"",assigneeName:"",estimatedHours:0}),pn({description:"Task added successfully"})},onError:Fn=>{console.error("Task creation failed:",Fn),pn({description:"Failed to add task",variant:"destructive"})}}),Dn=useMutation({mutationFn:async({taskId:Fn,taskData:Gn})=>await apiRequest("PATCH",`/api/tasks/${Fn}`,Gn),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/projects",un,"tasks"]}),queryClient.invalidateQueries({queryKey:["/api/projects",un]}),vn(null),pn({description:"Task updated successfully"})},onError:Fn=>{pn({title:"Error updating task",description:Fn.message||"Failed to update task",variant:"destructive"})}}),Nn=useMutation({mutationFn:async Fn=>await apiRequest("DELETE",`/api/tasks/${Fn}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/projects",un,"tasks"]}),queryClient.invalidateQueries({queryKey:["/api/projects",un]}),pn({description:"Task deleted successfully"})},onError:Fn=>{console.error("Task deletion failed:",Fn),pn({description:"Failed to delete task",variant:"destructive"})}}),kn=()=>{if(!En.title.trim()){pn({description:"Task title is required",variant:"destructive"});return}$n.mutate(En)},Pn=Fn=>{window.confirm("Are you sure you want to delete this task?")&&Nn.mutate(Fn)},Mn=()=>{Rn&&(Sn(Rn),xn(!0))},On=Fn=>{Fn.preventDefault(),wn&&Tn.mutate(wn)},Wn=Fn=>{vn(Fn)},In=Fn=>{Fn.preventDefault(),yn&&Dn.mutate({taskId:yn.id,taskData:yn})},Un=Fn=>{switch(Fn){case"urgent":return"bg-red-500 text-white";case"high":return"bg-orange-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}},Vn=Fn=>{switch(Fn){case"completed":return"text-green-600 bg-green-50 border-green-200";case"in_progress":return"text-blue-600 bg-blue-50 border-blue-200";case"available":return"text-purple-600 bg-purple-50 border-purple-200";case"waiting":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}};if(_n)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"text-lg",children:"Loading project..."})});if(!Rn)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("div",{className:"text-lg text-red-600",children:"Project not found"})});const Hn=jn.filter(Fn=>Fn.status==="completed").length,Ln=jn.length,zn=Ln>0?Math.round(Hn/Ln*100):0;return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>{console.log("Back to Projects clicked - navigating to projects"),window.dashboardSetActiveSection?window.dashboardSetActiveSection("projects"):dn("/projects")},className:"flex items-center gap-2 text-[#236383] hover:bg-[#236383]/10 font-roboto",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"}),"Back to Projects"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-[#236383] font-roboto mb-2",children:Rn.title}),Rn.description&&jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-roboto text-lg",children:Rn.description})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[mn&&canEditProject(mn,Rn)&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:Mn,className:"flex items-center gap-2 border-[#FBAD3F] text-[#FBAD3F] hover:bg-[#FBAD3F] hover:text-white font-roboto",children:[jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"}),"Edit Project"]}),jsxRuntimeExports.jsx(Badge,{className:`${Vn(Rn.status)} font-roboto px-3 py-1`,children:(Bn=Rn.status)==null?void 0:Bn.replace("_"," ")}),jsxRuntimeExports.jsx(Badge,{className:`${Un(Rn.priority)} font-roboto px-3 py-1`,children:Rn.priority})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-[#236383]/10 rounded flex items-center justify-center shrink-0",children:jsxRuntimeExports.jsx(User,{className:"h-3 w-3 text-[#236383]"})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-[#236383] font-roboto",children:"Project Owner"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-900 font-roboto font-medium mb-2 leading-tight",children:Rn.assigneeName||"Christine Cooper Nowicki"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 font-roboto",children:"Currently managing this project"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-[#FBAD3F]/10 rounded flex items-center justify-center shrink-0",children:jsxRuntimeExports.jsx(Calendar,{className:"h-3 w-3 text-[#FBAD3F]"})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-[#FBAD3F] font-roboto",children:"Target Date"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-900 font-roboto font-medium mb-2 leading-tight",children:Rn.dueDate?new Date(Rn.dueDate).toLocaleDateString():"8/30/2025"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 font-roboto",children:"About 1 month remaining"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-green-100 rounded flex items-center justify-center shrink-0",children:jsxRuntimeExports.jsx(Target,{className:"h-3 w-3 text-green-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-green-600 font-roboto",children:"Progress"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-900 font-roboto font-medium mb-2 leading-tight",children:[zn,"%"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 font-roboto mb-3",children:[Hn," of ",Ln," tasks complete"]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${zn}%`}})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#236383] font-roboto",children:"Tasks"}),mn&&canEditProject(mn,Rn)&&jsxRuntimeExports.jsxs(Button,{onClick:()=>fn(!0),className:"flex items-center gap-2 bg-[#FBAD3F] hover:bg-[#FBAD3F]/90 text-white font-roboto px-4 py-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Add Task"]})]}),hn&&jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#236383] font-roboto mb-6",children:"Add New Task"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"task-title",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"task-title",value:En.title,onChange:Fn=>bn({...En,title:Fn.target.value}),placeholder:"Enter task title"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"task-description",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"task-description",value:En.description,onChange:Fn=>bn({...En,description:Fn.target.value}),placeholder:"Enter task description"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"task-priority",children:"Priority"}),jsxRuntimeExports.jsxs("select",{id:"task-priority",value:En.priority,onChange:Fn=>bn({...En,priority:Fn.target.value}),className:"w-full p-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{value:"low",children:"Low"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"high",children:"High"}),jsxRuntimeExports.jsx("option",{value:"urgent",children:"Urgent"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"task-due-date",children:"Due Date"}),jsxRuntimeExports.jsx(Input,{id:"task-due-date",type:"date",value:En.dueDate,onChange:Fn=>bn({...En,dueDate:Fn.target.value})})]})]}),jsxRuntimeExports.jsx(TaskAssigneeSelector,{value:{assigneeIds:En.assigneeIds||[],assigneeNames:En.assigneeNames||[]},onChange:({assigneeIds:Fn,assigneeNames:Gn})=>bn({...En,assigneeIds:Fn,assigneeNames:Gn,assigneeId:Fn==null?void 0:Fn[0],assigneeName:Gn==null?void 0:Gn[0]}),multiple:!0}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"task-estimated-hours",children:"Estimated Hours"}),jsxRuntimeExports.jsx(Input,{id:"task-estimated-hours",type:"number",value:En.estimatedHours,onChange:Fn=>bn({...En,estimatedHours:Number(Fn.target.value)}),placeholder:"0"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{onClick:kn,disabled:$n.isPending,className:"bg-[#FBAD3F] hover:bg-[#FBAD3F]/90 text-white font-roboto",children:$n.isPending?"Adding...":"Add Task"}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>fn(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-50 font-roboto",children:"Cancel"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Cn?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-gray-500 font-roboto",children:"Loading tasks..."}):jn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 mb-4",children:jsxRuntimeExports.jsx(Plus,{className:"h-12 w-12 mx-auto mb-2"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 font-roboto text-lg",children:"No tasks yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 font-roboto",children:"Add your first task to get started!"})]}):jn.map(Fn=>{var Gn,qn,Jn,dr,br;return jsxRuntimeExports.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-6 ${Fn.status==="completed"?"bg-green-50 border-green-200":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h4",{className:`text-lg font-semibold font-roboto ${Fn.status==="completed"?"line-through text-gray-600":"text-[#236383]"}`,children:[Fn.status==="completed"&&jsxRuntimeExports.jsx(CircleCheck,{className:"inline w-5 h-5 mr-2 text-green-600"}),Fn.title]}),jsxRuntimeExports.jsx("p",{className:`mt-1 text-gray-600 font-roboto ${Fn.status==="completed"?"line-through text-gray-500":""}`,children:Fn.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:`${Un(Fn.priority)} font-roboto px-2 py-1`,children:Fn.priority}),jsxRuntimeExports.jsx(Badge,{className:`${Vn(Fn.status)} font-roboto px-2 py-1`,children:(Gn=Fn.status)==null?void 0:Gn.replace("_"," ")}),mn&&canEditProject(mn,Rn)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Wn(Fn),className:"text-[#236383] hover:text-[#236383]/80",children:jsxRuntimeExports.jsx(Pen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Pn(Fn.id),className:"text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(((qn=Fn.assigneeNames)==null?void 0:qn.length)>0||Fn.assigneeName)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:((Jn=Fn.assigneeNames)==null?void 0:Jn.length)>0?Fn.assigneeNames.map((Er,yr)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:Er},yr)):Fn.assigneeName?jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:Fn.assigneeName}):null})]}),Fn.dueDate&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"}),new Date(Fn.dueDate).toLocaleDateString()]}),Fn.estimatedHours&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),Fn.estimatedHours,"h estimated"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MultiUserTaskCompletion,{taskId:Fn.id,projectId:Rn.id,assigneeIds:((dr=Fn.assigneeIds)==null?void 0:dr.length)>0?Fn.assigneeIds:Fn.assigneeId?[Fn.assigneeId]:[],assigneeNames:((br=Fn.assigneeNames)==null?void 0:br.length)>0?Fn.assigneeNames:Fn.assigneeName?[Fn.assigneeName]:[],currentUserId:mn==null?void 0:mn.id,currentUserName:(mn==null?void 0:mn.firstName)||(mn==null?void 0:mn.displayName),taskStatus:Fn.status,onStatusChange:Er=>{var xr,vr;queryClient.invalidateQueries({queryKey:["/api/projects",Rn.id,"tasks"]}),queryClient.invalidateQueries({queryKey:["/api/projects",Rn.id]});const yr=((xr=Fn.assigneeIds)==null?void 0:xr.length)>0?Fn.assigneeIds:Fn.assigneeId?[Fn.assigneeId]:[];((vr=Fn.assigneeNames)==null?void 0:vr.length)>0?Fn.assigneeNames:Fn.assigneeName&&Fn.assigneeName,Er&&yr.length>0&&!yr.includes((mn==null?void 0:mn.id)||"")&&pn({title:"🎉 Task Completed!",description:`Team member completed "${Fn.title}"`})}}),Fn.status==="completed"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1 flex-wrap",children:[Fn.assigneeIds&&Fn.assigneeIds.length>0&&Fn.assigneeIds.map((Er,yr)=>{const xr=Fn.assigneeNames&&Fn.assigneeNames[yr]?Fn.assigneeNames[yr]:`Team Member ${yr+1}`;return jsxRuntimeExports.jsx(SendKudosButton,{recipientId:Er,recipientName:xr,contextType:"task",contextId:Fn.id.toString(),entityName:Fn.title,size:"xs"},`${Fn.id}-new-${Er}`)}),(!Fn.assigneeIds||Fn.assigneeIds.length===0)&&Fn.assigneeName&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded border border-orange-200",children:["⚠️ Legacy assignment: ",Fn.assigneeName]})]})]})]})})]},Fn.id)})})]}),jsxRuntimeExports.jsx(Dialog,{open:gn,onOpenChange:xn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Project"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Update project details and assignments"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:On,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-title",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-title",value:(wn==null?void 0:wn.title)||"",onChange:Fn=>Sn(Gn=>Gn?{...Gn,title:Fn.target.value}:null),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-description",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"edit-project-description",value:(wn==null?void 0:wn.description)||"",onChange:Fn=>Sn(Gn=>Gn?{...Gn,description:Fn.target.value}:null),rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-status",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:(wn==null?void 0:wn.status)||"",onValueChange:Fn=>Sn(Gn=>Gn?{...Gn,status:Fn}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"available",children:"Available"}),jsxRuntimeExports.jsx(SelectItem,{value:"in_progress",children:"In Progress"}),jsxRuntimeExports.jsx(SelectItem,{value:"waiting",children:"Waiting"}),jsxRuntimeExports.jsx(SelectItem,{value:"completed",children:"Completed"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-priority",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:(wn==null?void 0:wn.priority)||"",onValueChange:Fn=>Sn(Gn=>Gn?{...Gn,priority:Fn}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-category",children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:(wn==null?void 0:wn.category)||"",onValueChange:Fn=>Sn(Gn=>Gn?{...Gn,category:Fn}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select category"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"technology",children:"💻 Tech"}),jsxRuntimeExports.jsx(SelectItem,{value:"events",children:"📅 Events"}),jsxRuntimeExports.jsx(SelectItem,{value:"grants",children:"💰 Grants"}),jsxRuntimeExports.jsx(SelectItem,{value:"outreach",children:"🤝 Outreach"})]})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ProjectAssigneeSelector,{value:(wn==null?void 0:wn.assigneeName)||"",onChange:(Fn,Gn)=>Sn(qn=>qn?{...qn,assigneeName:Fn,assigneeIds:Gn!=null&&Gn.length?Gn:void 0}:null),label:"Assigned To",placeholder:"Select or enter person responsible"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-due-date",children:"Due Date"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-due-date",type:"date",value:wn!=null&&wn.dueDate?wn.dueDate.split("T")[0]:"",onChange:Fn=>Sn(Gn=>Gn?{...Gn,dueDate:Fn.target.value}:null)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-budget",children:"Budget"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-budget",type:"number",value:(wn==null?void 0:wn.budget)||"",onChange:Fn=>Sn(Gn=>Gn?{...Gn,budget:Number(Fn.target.value)}:null),placeholder:"0"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-project-estimated-hours",children:"Estimated Hours"}),jsxRuntimeExports.jsx(Input,{id:"edit-project-estimated-hours",type:"number",value:(wn==null?void 0:wn.estimatedHours)||"",onChange:Fn=>Sn(Gn=>Gn?{...Gn,estimatedHours:Number(Fn.target.value)}:null),placeholder:"0"})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>xn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:Tn.isPending,children:Tn.isPending?"Updating...":"Update Project"})]})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:!!yn,onOpenChange:()=>vn(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Task"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Modify task details and assignments"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:In,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-title",children:"Title"}),jsxRuntimeExports.jsx(Input,{id:"edit-task-title",value:(yn==null?void 0:yn.title)||"",onChange:Fn=>vn(Gn=>Gn?{...Gn,title:Fn.target.value}:null),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-description",children:"Description"}),jsxRuntimeExports.jsx(Textarea,{id:"edit-task-description",value:(yn==null?void 0:yn.description)||"",onChange:Fn=>vn(Gn=>Gn?{...Gn,description:Fn.target.value}:null),rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-status",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:(yn==null?void 0:yn.status)||"",onValueChange:Fn=>vn(Gn=>Gn?{...Gn,status:Fn}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"available",children:"Available"}),jsxRuntimeExports.jsx(SelectItem,{value:"in_progress",children:"In Progress"}),jsxRuntimeExports.jsx(SelectItem,{value:"waiting",children:"Waiting"}),jsxRuntimeExports.jsx(SelectItem,{value:"completed",children:"Completed"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-priority",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:(yn==null?void 0:yn.priority)||"",onValueChange:Fn=>vn(Gn=>Gn?{...Gn,priority:Fn}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-assignee",children:"Assigned To"}),jsxRuntimeExports.jsx(TaskAssigneeSelector,{value:{assigneeIds:(yn==null?void 0:yn.assigneeIds)||(yn!=null&&yn.assigneeId?[yn.assigneeId]:[]),assigneeNames:(yn==null?void 0:yn.assigneeNames)||(yn!=null&&yn.assigneeName?[yn.assigneeName]:[])},onChange:({assigneeIds:Fn,assigneeNames:Gn})=>vn(qn=>qn?{...qn,assigneeIds:Fn,assigneeNames:Gn,assigneeId:Fn==null?void 0:Fn[0],assigneeName:Gn==null?void 0:Gn[0]}:null),multiple:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-due-date",children:"Due Date"}),jsxRuntimeExports.jsx(Input,{id:"edit-task-due-date",type:"date",value:yn!=null&&yn.dueDate?yn.dueDate.split("T")[0]:"",onChange:Fn=>vn(Gn=>Gn?{...Gn,dueDate:Fn.target.value}:null)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-task-estimated-hours",children:"Estimated Hours"}),jsxRuntimeExports.jsx(Input,{id:"edit-task-estimated-hours",type:"number",value:(yn==null?void 0:yn.estimatedHours)||"",onChange:Fn=>vn(Gn=>Gn?{...Gn,estimatedHours:Number(Fn.target.value)}:null),placeholder:"0"})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>vn(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:Dn.isPending,children:Dn.isPending?"Updating...":"Update Task"})]})]})]})})]})}function ImpactDashboard(){var xn,yn,vn,En,bn,wn;const{data:tn}=useQuery({queryKey:["/api/sandwich-collections"],queryFn:()=>apiRequest("/api/sandwich-collections?limit=10000")}),sn=(tn==null?void 0:tn.collections)||[],{data:un}=useQuery({queryKey:["/api/sandwich-collections/stats"]}),{data:dn=[]}=useQuery({queryKey:["/api/hosts"]}),pn=()=>{if(!Array.isArray(sn))return[{month:"2023-01",sandwiches:35e3,collections:45,hosts:8},{month:"2023-06",sandwiches:42e3,collections:52,hosts:10},{month:"2023-12",sandwiches:38e3,collections:48,hosts:9},{month:"2024-01",sandwiches:41e3,collections:50,hosts:11},{month:"2024-06",sandwiches:45e3,collections:55,hosts:12},{month:"2024-12",sandwiches:43e3,collections:53,hosts:11},{month:"2025-01",sandwiches:39e3,collections:48,hosts:10},{month:"2025-06",sandwiches:37e3,collections:45,hosts:9}];const Sn={};return sn.forEach(Rn=>{const _n=Rn.collectionDate;if(_n){const jn=new Date(_n),Cn=`${jn.getFullYear()}-${String(jn.getMonth()+1).padStart(2,"0")}`;Sn[Cn]||(Sn[Cn]={month:Cn,sandwiches:0,collections:0,hosts:new Set});const An=Rn.individualSandwiches||0;let Tn=0;if(Rn.groupCollections&&Rn.groupCollections!==""&&Rn.groupCollections!=="[]")try{const Dn=typeof Rn.groupCollections=="string"?JSON.parse(Rn.groupCollections):Rn.groupCollections;Array.isArray(Dn)&&(Tn=Dn.reduce((Nn,kn)=>Nn+(kn.sandwichCount||0),0))}catch{Tn=0}Sn[Cn].sandwiches+=An+Tn,Sn[Cn].collections+=1;const $n=Rn.hostName;$n&&Sn[Cn].hosts.add($n)}}),Object.values(Sn).map(Rn=>({month:Rn.month,sandwiches:Rn.sandwiches,collections:Rn.collections,hosts:Rn.hosts.size})).sort((Rn,_n)=>Rn.month.localeCompare(_n.month))},mn=()=>{if(!Array.isArray(sn)||sn.length===0)return[{name:"Alpharetta",totalSandwiches:95e3,totalCollections:180,avgPerCollection:528},{name:"Brookhaven",totalSandwiches:78e3,totalCollections:155,avgPerCollection:503},{name:"Buckhead",totalSandwiches:72e3,totalCollections:142,avgPerCollection:507},{name:"Decatur",totalSandwiches:65e3,totalCollections:128,avgPerCollection:508},{name:"Dunwoody",totalSandwiches:58e3,totalCollections:115,avgPerCollection:504},{name:"Johns Creek",totalSandwiches:52e3,totalCollections:98,avgPerCollection:531},{name:"Marietta",totalSandwiches:48e3,totalCollections:92,avgPerCollection:522},{name:"Roswell",totalSandwiches:45e3,totalCollections:89,avgPerCollection:506},{name:"Sandy Springs",totalSandwiches:42e3,totalCollections:82,avgPerCollection:512},{name:"Smyrna",totalSandwiches:38e3,totalCollections:75,avgPerCollection:507}];const Sn={};return sn.forEach(Rn=>{const _n=Rn.hostName||"Unknown";Sn[_n]||(Sn[_n]={name:_n,totalSandwiches:0,totalCollections:0,avgPerCollection:0});const jn=Rn.individualSandwiches||0;let Cn=0;if(Rn.groupCollections&&Rn.groupCollections!==""&&Rn.groupCollections!=="[]")try{const An=typeof Rn.groupCollections=="string"?JSON.parse(Rn.groupCollections):Rn.groupCollections;Array.isArray(An)&&(Cn=An.reduce((Tn,$n)=>Tn+($n.sandwichCount||0),0))}catch{Cn=0}Sn[_n].totalSandwiches+=jn+Cn,Sn[_n].totalCollections+=1}),Object.values(Sn).map(Rn=>({...Rn,avgPerCollection:Rn.totalCollections>0?Math.round(Rn.totalSandwiches/Rn.totalCollections):0})).sort((Rn,_n)=>_n.totalSandwiches-Rn.totalSandwiches).slice(0,10)},hn=()=>{const Sn=(un==null?void 0:un.completeTotalSandwiches)||0,Rn=(sn==null?void 0:sn.length)||0,_n=Array.isArray(dn)?dn.length:0,jn={2023:438876,2024:449643,2025:193674};return{totalSandwiches:Sn,year2023Total:jn[2023],year2024Total:jn[2024],year2025YTD:jn[2025],totalCollections:Rn,uniqueHosts:_n}},fn=pn();mn();const gn=hn();return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4 md:p-6 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Impact Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Visualizing our community impact through sandwich collections"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[jsxRuntimeExports.jsxs(Card$1,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg font-medium flex items-center",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 mr-2"}),"Verified Sandwiches"]})}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold",children:(xn=gn.totalSandwiches)==null?void 0:xn.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 text-sm",children:"From collections log database"})]})]}),jsxRuntimeExports.jsxs(Card$1,{className:"bg-gradient-to-r from-green-500 to-green-600 text-white",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg font-medium flex items-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 mr-2"}),"Active Hosts"]})}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold",children:gn.uniqueHosts}),jsxRuntimeExports.jsx("p",{className:"text-green-100 text-sm",children:"Collection locations"})]})]}),jsxRuntimeExports.jsxs(Card$1,{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg font-medium flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5 mr-2"}),"2024 Peak Year"]})}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold",children:(yn=gn.year2024Total)==null?void 0:yn.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-teal-100 text-sm",children:"2024 collections total"})]})]}),jsxRuntimeExports.jsxs(Card$1,{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg font-medium flex items-center",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 mr-2"}),"2025 Progress"]})}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold",children:(vn=gn.year2025YTD)==null?void 0:vn.toLocaleString()}),jsxRuntimeExports.jsx("p",{className:"text-orange-100 text-sm",children:"Year-to-date total"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"trends",className:"space-y-4 sm:space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"trends",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"}),"Collection Trends"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"impact",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4"}),"Team Impact"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"trends",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5 mr-2"}),"Monthly Sandwich Collections"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Tracking sandwich collection trends over time"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(AreaChart,{data:fn,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",tick:{fontSize:12},tickFormatter:Sn=>Sn.split("-")[1]+"/"+Sn.split("-")[0].slice(2)}),jsxRuntimeExports.jsx(YAxis,{tick:{fontSize:12}}),jsxRuntimeExports.jsx(Tooltip,{labelFormatter:Sn=>`Month: ${Sn}`,formatter:(Sn,Rn)=>[Sn,Rn==="sandwiches"?"Sandwiches":"Collections"]}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"sandwiches",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5 mr-2"}),"Weekly Collection Consistency"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Team collection frequency and patterns"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Weekly Collection Rate"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-green-600",children:"Consistent"})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"88%"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Regular weekly collections maintained"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Total Weekly Collections"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:(un==null?void 0:un.totalEntries)||1809})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Collection entries recorded in system"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900",children:"Weekly Collection Focus"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Consistent weekly sandwich collection schedule with team coordination across all active collection locations."})]})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"impact",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5 mr-2"}),"Collection Trends & Context"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Weekly performance and external benchmarks"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Recent Trend (Last 4 weeks)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-600",children:"Steady"})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"75%"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Consistent weekly collection performance"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Seasonal Context"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:"Summer Activity"})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-100 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"80%"}})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tracking seasonal collection patterns"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900",children:"Atlanta Hunger Context"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("a",{href:"https://www.atlantaregionalfoodbank.org/impact/",target:"_blank",className:"text-blue-600 text-sm hover:underline block",children:"→ Atlanta Regional Food Bank Data"}),jsxRuntimeExports.jsx("a",{href:"https://hungerandhealth.feedingamerica.org/understand-food-insecurity/hunger-facts/",target:"_blank",className:"text-blue-600 text-sm hover:underline block",children:"→ Georgia Food Insecurity Stats"})]})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Impact Highlights"}),jsxRuntimeExports.jsx(CardDescription,{children:"Key achievements and milestones"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-green-600 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-green-900",children:"Sandwiches Provided"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-700",children:[(En=gn.totalSandwiches)==null?void 0:En.toLocaleString()," sandwiches delivered to community members in need"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-blue-600 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-900",children:"Community Engagement"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:[gn.uniqueHosts," active host locations contributing to the cause"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-teal-50 rounded-lg",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5 text-teal-600 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-teal-900",children:"Collection Records"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-teal-700",children:[(bn=gn.totalCollections)==null?void 0:bn.toLocaleString()," collection events documented"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-orange-50 rounded-lg",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-orange-600 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-orange-900",children:"2025 Progress"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-orange-700",children:[(wn=gn.year2025YTD)==null?void 0:wn.toLocaleString()," sandwiches collected year-to-date"]})]})]})]})})]})]})})]})]})})}const alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:tn,variant:sn,...un},dn)=>jsxRuntimeExports.jsx("div",{ref:dn,role:"alert",className:cn(alertVariants({variant:sn}),tn),...un}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("h5",{ref:un,className:cn("mb-1 font-medium leading-none tracking-tight",tn),...sn}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{ref:un,className:cn("text-sm [&_p]:leading-relaxed",tn),...sn}));AlertDescription.displayName="AlertDescription";function useMessaging(){const{toast:tn}=useToast(),sn=useQueryClient(),{user:un}=useAuth(),[dn,pn]=reactExports.useState(null),mn=_n=>_n&&typeof _n=="object"&&"id"in _n&&"email"in _n,{data:hn={general:0,committee:0,hosts:0,drivers:0,recipients:0,core_team:0,direct:0,groups:0,total:0,suggestion:0,project:0,task:0},refetch:fn}=useQuery({queryKey:["/api/message-notifications/unread-counts",mn(un)?un.id:null],queryFn:async()=>{if(!mn(un))return{general:0,committee:0,hosts:0,drivers:0,recipients:0,core_team:0,direct:0,groups:0,total:0,suggestion:0,project:0,task:0};try{const _n=await apiRequest("GET","/api/message-notifications/unread-counts"),jn=await apiRequest("GET","/api/messaging/unread?groupByContext=true");return{..._n,suggestion:jn.suggestion||0,project:jn.project||0,task:jn.task||0}}catch(_n){return console.error("Failed to fetch unread counts:",_n),{general:0,committee:0,hosts:0,drivers:0,recipients:0,core_team:0,direct:0,groups:0,total:0,suggestion:0,project:0,task:0}}},enabled:mn(un),staleTime:12e4,gcTime:3e5,refetchInterval:12e4}),{data:gn=[],refetch:xn}=useQuery({queryKey:["/api/messaging/unread",mn(un)?un.id:null],queryFn:async()=>mn(un)?(await apiRequest("GET","/api/messaging/unread")).messages||[]:[],enabled:mn(un)}),yn=useMutation({mutationFn:async _n=>await apiRequest("POST","/api/messaging/send",_n),onSuccess:()=>{sn.invalidateQueries({queryKey:["/api/messaging"]}),tn({description:"Message sent successfully"})},onError:_n=>{tn({title:"Failed to send message",description:_n.message||"Please try again",variant:"destructive"})}}),vn=useMutation({mutationFn:async _n=>await apiRequest("POST",`/api/messaging/${_n}/read`),onSuccess:()=>{fn(),xn(),sn.invalidateQueries({queryKey:["/api/messaging"]})}}),En=useMutation({mutationFn:async _n=>await apiRequest("POST","/api/messaging/mark-all-read",{contextType:_n}),onSuccess:()=>{fn(),xn(),sn.invalidateQueries({queryKey:["/api/messaging"]}),tn({description:"All messages marked as read"})}});reactExports.useEffect(()=>{const _n=()=>{console.log("Notification refresh event received in useMessaging hook - refetching counts"),fn()};return window.addEventListener("notificationRefresh",_n),()=>{window.removeEventListener("notificationRefresh",_n)}},[fn]),reactExports.useEffect(()=>{if(!mn(un))return;const _n=window.location.protocol==="https:"?"wss:":"ws:";let jn;try{if(window.location.hostname.includes(".replit.dev")||window.location.hostname.includes(".replit.app"))jn=`${_n}//${window.location.hostname}/notifications`;else if(window.location.host&&window.location.host!=="undefined")jn=`${_n}//${window.location.host}/notifications`;else{const An=window.location.port||"5000";jn=`${_n}//${window.location.hostname||"localhost"}:${An}/notifications`}}catch(An){console.error("Failed to construct WebSocket URL:",An),jn="ws://localhost:5001/notifications"}let Cn;try{Cn=new WebSocket(jn)}catch(An){return console.error("Failed to create WebSocket connection:",An),()=>{}}return Cn.onopen=()=>{console.log("Messaging WebSocket connected"),mn(un)&&Cn.send(JSON.stringify({type:"identify",userId:un.id})),pn(Cn)},Cn.onmessage=An=>{try{const Tn=JSON.parse(An.data);Tn.type==="new_message"?(fn(),xn(),tn({title:"New message",description:Tn.message.sender||"You have a new message"})):(Tn.type==="message_edited"||Tn.type==="message_deleted")&&sn.invalidateQueries({queryKey:["/api/messaging"]})}catch(Tn){console.error("Failed to parse WebSocket message:",Tn)}},Cn.onerror=An=>{console.error("Messaging WebSocket error:",An),pn(null)},Cn.onclose=An=>{console.log("Messaging WebSocket disconnected"),pn(null),An.code!==1e3&&An.code!==1001&&console.warn("WebSocket closed unexpectedly:",An.code,An.reason)},()=>{Cn.close()}},[mn(un)?un.id:null,fn,xn,sn,tn]);const bn=reactExports.useCallback(async _n=>{if(!mn(un)){tn({title:"Not authenticated",description:"Please log in to send messages",variant:"destructive"});return}return await yn.mutateAsync(_n)},[mn(un)?un.id:null,yn,tn]),wn=reactExports.useCallback(async _n=>await vn.mutateAsync(_n),[vn]),Sn=reactExports.useCallback(async _n=>await En.mutateAsync(_n),[En]),Rn=reactExports.useCallback(async(_n,jn)=>{try{return(await apiRequest("GET",`/api/messaging/context/${_n}/${jn}`)).messages||[]}catch(Cn){return console.error("Failed to fetch context messages:",Cn),[]}},[]);return{unreadCounts:hn,unreadMessages:gn,totalUnread:hn.total+hn.suggestion+hn.project+hn.task,sendMessage:bn,markAsRead:wn,markAllAsRead:Sn,getContextMessages:Rn,refetchUnreadCounts:fn,refetchUnreadMessages:xn,isConnected:!!dn,isSending:yn.isPending}}const characterEmojis={mentor:"👩‍🏫",friend:"😊",guide:"🧭",coach:"💪"},toneStyles={encouraging:"border-l-4 border-l-green-400 bg-green-50 dark:bg-green-900/20",informative:"border-l-4 border-l-blue-400 bg-blue-50 dark:bg-blue-900/20",supportive:"border-l-4 border-l-purple-400 bg-purple-50 dark:bg-purple-900/20",celebratory:"border-l-4 border-l-yellow-400 bg-yellow-50 dark:bg-yellow-900/20"},getCharacterMessage=tn=>{const sn=tn.character||"guide",un=characterEmojis[sn],dn={mentor:"I'm here to help you learn! ",friend:"Hey there! ",guide:"Let me show you the way! ",coach:"You've got this! "};return{emoji:un,intro:dn[sn],fullMessage:`${dn[sn]}${tn.message}`}};function HelpBubble({content:tn,trigger:sn="click",className:un="",onDismiss:dn}){const[pn,mn]=reactExports.useState(!1),[hn,fn]=reactExports.useState(!1),gn=reactExports.useRef(null),xn=reactExports.useRef(null),yn=getCharacterMessage(tn);reactExports.useEffect(()=>{tn.showOnFirstVisit&&!hn&&(localStorage.getItem(`help-${tn.id}-seen`)||(mn(!0),fn(!0),localStorage.setItem(`help-${tn.id}-seen`,"true")))},[tn.id,tn.showOnFirstVisit,hn]),reactExports.useEffect(()=>{const Sn=Rn=>{gn.current&&!gn.current.contains(Rn.target)&&xn.current&&!xn.current.contains(Rn.target)&&mn(!1)};if(pn)return document.addEventListener("mousedown",Sn),()=>document.removeEventListener("mousedown",Sn)},[pn]);const vn=()=>{sn==="click"&&mn(!pn)},En=()=>{sn==="hover"&&mn(!0)},bn=()=>{sn==="hover"&&mn(!1)},wn=()=>{mn(!1),dn==null||dn()};return jsxRuntimeExports.jsxs("div",{className:`relative inline-block ${un}`,children:[jsxRuntimeExports.jsx(Button,{ref:xn,variant:"ghost",size:"sm",className:"w-8 h-8 p-0 rounded-full text-slate-400 hover:text-teal-600 hover:bg-teal-50 transition-colors",onClick:vn,onMouseEnter:En,onMouseLeave:bn,title:"Get help",children:jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4"})}),pn&&jsxRuntimeExports.jsxs("div",{ref:gn,className:`absolute z-50 w-80 ${tn.position==="left"?"right-full mr-2":tn.position==="right"?"left-full ml-2":tn.position==="top"?"bottom-full mb-2":"top-full mt-2"} ${tn.position==="left"||tn.position==="right"?"top-0":"left-1/2 transform -translate-x-1/2"}`,children:[jsxRuntimeExports.jsx(Card$1,{className:`shadow-lg border-0 ${toneStyles[tn.tone]}`,children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:yn.emoji}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:tn.title}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:tn.character||"guide"})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"w-6 h-6 p-0 text-gray-400 hover:text-gray-600",onClick:wn,children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:yn.fullMessage})}),tn.actions&&tn.actions.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:tn.actions.map((Sn,Rn)=>jsxRuntimeExports.jsx(Button,{variant:Sn.primary?"default":"outline",size:"sm",className:"text-xs",onClick:()=>{Sn.action(),Sn.primary&&wn()},children:Sn.label},Rn))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center mt-3 space-x-2 opacity-60",children:[tn.tone==="encouraging"&&jsxRuntimeExports.jsx(Heart,{className:"w-3 h-3 text-red-400"}),tn.tone==="supportive"&&jsxRuntimeExports.jsx(Coffee,{className:"w-3 h-3 text-amber-400"}),tn.tone==="informative"&&jsxRuntimeExports.jsx(Lightbulb,{className:"w-3 h-3 text-yellow-400"})]})]})}),jsxRuntimeExports.jsx("div",{className:`absolute ${tn.position==="left"?"right-0 top-3 translate-x-1 border-l-8 border-l-white border-t-4 border-b-4 border-t-transparent border-b-transparent":tn.position==="right"?"left-0 top-3 -translate-x-1 border-r-8 border-r-white border-t-4 border-b-4 border-t-transparent border-b-transparent":tn.position==="top"?"bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1 border-t-8 border-t-white border-l-4 border-r-4 border-l-transparent border-r-transparent":"top-0 left-1/2 transform -translate-x-1/2 -translate-y-1 border-b-8 border-b-white border-l-4 border-r-4 border-l-transparent border-r-transparent"}`})]})]})}function SimpleNav({onSectionChange:tn,activeSection:sn,isCollapsed:un=!1}){const{user:dn}=useAuth(),[pn]=useLocation(),{unreadCounts:mn,totalUnread:hn}=useMessaging(),{data:fn}=useQuery({queryKey:["/api/auth/user",dn==null?void 0:dn.id],queryFn:async()=>{if(!dn)return null;try{return await apiRequest("GET","/api/auth/user")}catch(bn){return console.error("Failed to fetch user data:",bn),null}},enabled:!!dn,staleTime:5*60*1e3}),{data:gn=0}=useQuery({queryKey:["/api/emails/unread-count",(fn==null?void 0:fn.id)||"no-user"],queryFn:async()=>{if(!(fn!=null&&fn.id))return 0;try{return(await apiRequest("GET","/api/emails/unread-count")).count||0}catch(bn){return console.error("Failed to fetch Gmail unread count:",bn),0}},enabled:!!(fn!=null&&fn.id),refetchInterval:3e4}),xn=[{id:"dashboard",label:"Dashboard",icon:LayoutDashboard,href:"dashboard"},...hasPermission(fn,PERMISSIONS.VIEW_PROJECTS)?[{id:"projects",label:"Projects",icon:ClipboardList,href:"projects"}]:[],{id:"collections",label:"Collections Log",customIcon:squareSandwichLogo,href:"collections"},{id:"gmail-inbox",label:"Inbox",icon:Inbox$1,href:"gmail-inbox",group:"communication"},{id:"chat",label:"Team Chat",icon:Hash$2,href:"chat",group:"communication"},...hasPermission(fn,PERMISSIONS.VIEW_SUGGESTIONS)?[{id:"suggestions",label:"Suggestions",icon:Lightbulb,href:"suggestions",group:"communication"}]:[],...hasPermission(fn,PERMISSIONS.ACCESS_WORK_LOGS)?[{id:"work-log",label:"Work Log",icon:ListTodo,href:"work-log",group:"workflow"}]:[],{id:"toolkit",label:"Toolkit",icon:FolderOpen,href:"toolkit",group:"workflow"},...hasPermission(fn,PERMISSIONS.ADMIN_ACCESS)?[{id:"admin",label:"Important Documents",icon:FileText,href:"admin",group:"workflow"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_GOVERNANCE)?[{id:"governance",label:"Governance",icon:Scale,href:"governance",group:"workflow"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_MEETINGS)?[{id:"meetings",label:"Meetings",icon:ClipboardList,href:"meetings",group:"workflow"}]:[],{id:"phone-directory",label:"Directory",icon:Phone,href:"phone-directory",group:"people"},...hasPermission(fn,PERMISSIONS.VIEW_HOSTS)?[{id:"hosts",label:"Hosts",icon:Building2,href:"hosts",group:"people"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_DRIVERS)?[{id:"drivers",label:"Drivers",icon:Car,href:"drivers",group:"people"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_RECIPIENTS)?[{id:"recipients",label:"Recipients",icon:Users,href:"recipients",group:"people"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_ANALYTICS)?[{id:"analytics",label:"Analytics",icon:ChartColumn,href:"analytics",group:"data"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_REPORTS)?[{id:"reports",label:"Reports",icon:FileText,href:"reports",group:"data"}]:[],...hasPermission(fn,PERMISSIONS.VIEW_SANDWICH_DATA)?[{id:"google-sheets",label:"Sandwich Data",icon:Sheet,href:"google-sheets",group:"data"}]:[],...hasPermission(fn,PERMISSIONS.MANAGE_USERS)?[{id:"user-management",label:"User Management",icon:Settings,href:"user-management",group:"admin"}]:[]],yn=bn=>sn?bn==="dashboard"?sn==="dashboard"||sn==="":sn===bn:bn==="dashboard"?pn==="/"||pn==="/dashboard":pn===`/${bn}`,vn=xn.reduce((bn,wn,Sn)=>{const Rn=xn[Sn-1];return Rn&&Rn.group!==wn.group&&wn.group&&bn.push({type:"separator",group:wn.group}),bn.push({type:"item",...wn}),bn},[]),En=bn=>({communication:"COMMUNICATION",workflow:"WORKFLOW",people:"PEOPLE",data:"DATA",admin:"ADMIN"})[bn]||bn;return jsxRuntimeExports.jsxs("nav",{className:`space-y-1 ${un?"p-2":"p-3 sm:p-4"} pb-6 sm:pb-8`,children:[!un&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-slate-200",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Navigation"}),jsxRuntimeExports.jsx(HelpBubble,{content:{id:"navigation-help",title:"Finding Your Way Around",message:"Think of this sidebar as your map to everything TSP! Each section is designed to help you contribute in your own unique way. Take your time exploring - there's no rush.",tone:"informative",character:"guide",position:"right"},trigger:"click"})]}),vn.map((bn,wn)=>{if(bn.type==="separator")return un?null:jsxRuntimeExports.jsx("div",{className:"pt-3 sm:pt-4 pb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:[jsxRuntimeExports.jsx("div",{className:"h-px bg-slate-200 flex-1 mr-2 sm:mr-3"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] sm:text-xs",children:En(bn.group)})]})},`sep-${wn}`);const Sn=yn(bn.href);let Rn=0;return bn.id==="gmail-inbox"?Rn=gn:bn.id==="messages"?Rn=hn:bn.id==="chat"?Rn=mn.general:bn.id==="committee-chat"?Rn=mn.committee:bn.id==="suggestions"&&mn.suggestion&&(Rn=mn.suggestion),jsxRuntimeExports.jsxs(Button,{variant:Sn?"default":"ghost",className:`
              w-full ${un?"justify-center px-2":"justify-start px-2 sm:px-3"} text-left h-10 sm:h-11 touch-manipulation relative
              ${Sn?"bg-[#236383] hover:bg-[#1d5470] text-white shadow-sm border-l-4 border-l-orange-500":"hover:bg-slate-100 text-slate-700"}
            `,onClick:_n=>{_n.preventDefault(),_n.stopPropagation(),console.log("Navigation click:",bn.href),tn(bn.href)},title:un?bn.label:void 0,children:[bn.customIcon?jsxRuntimeExports.jsx("img",{src:bn.customIcon,alt:bn.label,className:`h-4 w-4 flex-shrink-0 ${un?"":"mr-2 sm:mr-3"}`}):jsxRuntimeExports.jsx(bn.icon,{className:`h-4 w-4 flex-shrink-0 ${un?"":"mr-2 sm:mr-3"}`}),!un&&jsxRuntimeExports.jsx("span",{className:"truncate flex-1 text-xs sm:text-sm",children:bn.label}),Rn>0&&jsxRuntimeExports.jsx(Badge,{variant:Sn?"secondary":"destructive",className:`${un?"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs":"ml-auto h-4 sm:h-5 px-1 sm:px-1.5 min-w-[16px] sm:min-w-[20px] text-xs"} flex items-center justify-center`,children:Rn>99?"99+":Rn})]},bn.id)})]})}function ReportingDashboard({isEmbedded:tn=!1}){const{toast:sn}=useToast(),[un,dn]=reactExports.useState({type:"collections",dateRange:{start:format$1(subMonths(new Date,1),"yyyy-MM-dd"),end:format$1(new Date,"yyyy-MM-dd")},format:"csv",includeCharts:!0,groupBy:"month"}),[pn,mn]=reactExports.useState({frequency:"weekly",time:"09:00",recipients:[""]}),{data:hn=[],refetch:fn}=useQuery({queryKey:["/api/reports/scheduled"],retry:!1}),{data:gn=[]}=useQuery({queryKey:["/api/reports/recent"],retry:!1}),xn=useMutation({mutationFn:async Rn=>await(await apiRequest("POST","/api/reports/generate",Rn)).json(),onSuccess:Rn=>{sn({title:"Report Generated",description:"Your report has been generated successfully."});const _n=`/api/reports/download/${Rn.id}`,jn=document.createElement("a");jn.href=_n,jn.download=`${Rn.metadata.title}-${format$1(new Date,"yyyy-MM-dd")}.${un.format}`,document.body.appendChild(jn),jn.click(),document.body.removeChild(jn)},onError:Rn=>{sn({title:"Generation Failed",description:Rn.message,variant:"destructive"})}}),yn=useMutation({mutationFn:async()=>await(await apiRequest("POST","/api/reports/schedule",{config:un,schedule:pn})).json(),onSuccess:()=>{sn({title:"Report Scheduled",description:"Your automated report has been scheduled successfully."}),fn()},onError:Rn=>{sn({title:"Scheduling Failed",description:Rn.message,variant:"destructive"})}}),vn=Rn=>{const _n=new Date;let jn;switch(Rn){case"last7days":jn=subDays(_n,7);break;case"last30days":jn=subDays(_n,30);break;case"last3months":jn=subMonths(_n,3);break;case"last6months":jn=subMonths(_n,6);break;case"lastyear":jn=subMonths(_n,12);break;default:return}dn({...un,dateRange:{start:format$1(jn,"yyyy-MM-dd"),end:format$1(_n,"yyyy-MM-dd")}})},En=()=>{mn({...pn,recipients:[...pn.recipients,""]})},bn=(Rn,_n)=>{const jn=[...pn.recipients];jn[Rn]=_n,mn({...pn,recipients:jn})},wn=Rn=>{mn({...pn,recipients:pn.recipients.filter((_n,jn)=>jn!==Rn)})},Sn=()=>jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Reporting Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Generate comprehensive reports and schedule automated deliveries"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"h-10 text-sm",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Templates"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Temp"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",className:"h-10 text-sm",children:[jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4 mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Settings"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Set"})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"generate",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"generate",children:"Generate Report"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"scheduled",children:"Scheduled Reports"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"history",children:"Report History"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"generate",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Report Configuration"}),jsxRuntimeExports.jsx(CardDescription,{children:"Configure your report parameters and data selection"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"reportType",children:"Report Type"}),jsxRuntimeExports.jsxs(Select,{value:un.type,onValueChange:Rn=>dn({...un,type:Rn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"collections",children:"Collection Analysis"}),jsxRuntimeExports.jsx(SelectItem,{value:"hosts",children:"Host Performance"}),jsxRuntimeExports.jsx(SelectItem,{value:"impact",children:"Impact Assessment"}),jsxRuntimeExports.jsx(SelectItem,{value:"comprehensive",children:"Comprehensive Report"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$1,{children:"Date Range"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"startDate",className:"text-sm",children:"From"}),jsxRuntimeExports.jsx(Input,{id:"startDate",type:"date",value:un.dateRange.start,onChange:Rn=>dn({...un,dateRange:{...un.dateRange,start:Rn.target.value}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"endDate",className:"text-sm",children:"To"}),jsxRuntimeExports.jsx(Input,{id:"endDate",type:"date",value:un.dateRange.end,onChange:Rn=>dn({...un,dateRange:{...un.dateRange,end:Rn.target.value}})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>vn("last7days"),children:"Last 7 Days"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>vn("last30days"),children:"Last 30 Days"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>vn("last3months"),children:"Last 3 Months"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>vn("last6months"),children:"Last 6 Months"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>vn("lastyear"),children:"Last Year"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"format",children:"Output Format"}),jsxRuntimeExports.jsxs(Select,{value:un.format,onValueChange:Rn=>dn({...un,format:Rn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"pdf",children:"PDF Document"}),jsxRuntimeExports.jsx(SelectItem,{value:"csv",children:"CSV Spreadsheet"}),jsxRuntimeExports.jsx(SelectItem,{value:"json",children:"JSON Data"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"groupBy",children:"Group Data By"}),jsxRuntimeExports.jsxs(Select,{value:un.groupBy,onValueChange:Rn=>dn({...un,groupBy:Rn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"week",children:"Week"}),jsxRuntimeExports.jsx(SelectItem,{value:"month",children:"Month"}),jsxRuntimeExports.jsx(SelectItem,{value:"host",children:"Host"}),jsxRuntimeExports.jsx(SelectItem,{value:"project",children:"Project"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"includeCharts",children:"Include Charts & Visualizations"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Add visual charts and graphs to your report"})]}),jsxRuntimeExports.jsx(Switch,{id:"includeCharts",checked:un.includeCharts,onCheckedChange:Rn=>dn({...un,includeCharts:Rn})})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Schedule Automation"}),jsxRuntimeExports.jsx(CardDescription,{children:"Set up automated report generation and email delivery"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"frequency",children:"Frequency"}),jsxRuntimeExports.jsxs(Select,{value:pn.frequency,onValueChange:Rn=>mn({...pn,frequency:Rn}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"daily",children:"Daily"}),jsxRuntimeExports.jsx(SelectItem,{value:"weekly",children:"Weekly"}),jsxRuntimeExports.jsx(SelectItem,{value:"monthly",children:"Monthly"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"time",children:"Delivery Time"}),jsxRuntimeExports.jsx(Input,{id:"time",type:"time",value:pn.time,onChange:Rn=>mn({...pn,time:Rn.target.value})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{children:"Email Recipients"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:En,children:"Add Recipient"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:pn.recipients.map((Rn,_n)=>jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"email@example.com",value:Rn,onChange:jn=>bn(_n,jn.target.value)}),pn.recipients.length>1&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>wn(_n),children:"Remove"})]},_n))})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Report Preview"}),jsxRuntimeExports.jsx(CardDescription,{children:"Summary of your report configuration"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Type:"}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[un.type==="collections"&&"Collection Analysis",un.type==="hosts"&&"Host Performance",un.type==="impact"&&"Impact Assessment",un.type==="comprehensive"&&"Comprehensive"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Period:"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[format$1(new Date(un.dateRange.start),"MMM dd")," - ",format$1(new Date(un.dateRange.end),"MMM dd, yyyy")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Format:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 uppercase",children:un.format})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Charts:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:un.includeCharts?"Included":"Not included"})]})]}),un.includeCharts&&jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2",children:"Chart Types:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-3 h-3"}),"Bar Charts"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[jsxRuntimeExports.jsx(ChartLine,{className:"w-3 h-3"}),"Trend Lines"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[jsxRuntimeExports.jsx(ChartPie,{className:"w-3 h-3"}),"Distribution"]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs(Button,{className:"w-full",onClick:()=>xn.mutate(un),disabled:xn.isPending,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),xn.isPending?"Generating...":"Generate Report"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"w-full",onClick:()=>yn.mutate(),disabled:yn.isPending||pn.recipients.some(Rn=>!Rn.trim()),children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 mr-2"}),yn.isPending?"Scheduling...":"Schedule Report"]})]}),pn.recipients.some(Rn=>!Rn.trim())&&jsxRuntimeExports.jsx(Alert,{children:jsxRuntimeExports.jsx(AlertDescription,{children:"Please add at least one valid email recipient to schedule the report."})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"scheduled",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Scheduled Reports"}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage your automated report schedules"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:hn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Scheduled Reports"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"You haven't set up any automated reports yet. Create one from the Generate tab."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:hn.map(Rn=>jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium",children:[Rn.config.type==="collections"&&"Collection Analysis",Rn.config.type==="hosts"&&"Host Performance",Rn.config.type==="impact"&&"Impact Assessment",Rn.config.type==="comprehensive"&&"Comprehensive Report"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:[Rn.schedule.frequency," at ",Rn.schedule.time," • Next: ",format$1(new Date(Rn.nextRun),"MMM dd, yyyy HH:mm")]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[Rn.schedule.recipients.length," recipient(s)"]}),jsxRuntimeExports.jsx(Badge,{variant:Rn.status==="active"?"default":"secondary",children:Rn.status})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:"Edit"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:Rn.status==="active"?"Pause":"Resume"})]})]})},Rn.id))})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"history",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Report History"}),jsxRuntimeExports.jsx(CardDescription,{children:"View and download previously generated reports"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:gn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Report History"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Generated reports will appear here for easy access and download."})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:gn.map(Rn=>jsxRuntimeExports.jsx("div",{className:"border rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:Rn.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Generated ",format$1(new Date(Rn.generatedAt),"MMM dd, yyyy HH:mm")]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[Rn.format.toUpperCase()," • ",Rn.size]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:Rn.dateRange})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})},Rn.id))})})]})})]})]});return tn?Sn():jsxRuntimeExports.jsxs("div",{className:"bg-slate-50 min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("img",{src:"/api/placeholder/32/32",alt:"Logo",className:"w-8 h-8"}),jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold text-slate-900",children:"The Sandwich Project"})]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4 mr-2"}),"Logout"]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-64 bg-white border-r border-slate-200 flex flex-col",children:jsxRuntimeExports.jsx(SimpleNav,{onSectionChange:()=>{}})}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-6",children:Sn()})]})]})}const Table=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("div",{className:"relative w-full overflow-auto",children:jsxRuntimeExports.jsx("table",{ref:un,className:cn("w-full caption-bottom text-sm",tn),...sn})}));Table.displayName="Table";const TableHeader=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("thead",{ref:un,className:cn("[&_tr]:border-b",tn),...sn}));TableHeader.displayName="TableHeader";const TableBody=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("tbody",{ref:un,className:cn("[&_tr:last-child]:border-0",tn),...sn}));TableBody.displayName="TableBody";const TableFooter=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("tfoot",{ref:un,className:cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",tn),...sn}));TableFooter.displayName="TableFooter";const TableRow=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("tr",{ref:un,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",tn),...sn}));TableRow.displayName="TableRow";const TableHead=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("th",{ref:un,className:cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",tn),...sn}));TableHead.displayName="TableHead";const TableCell=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("td",{ref:un,className:cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",tn),...sn}));TableCell.displayName="TableCell";const TableCaption=reactExports.forwardRef(({className:tn,...sn},un)=>jsxRuntimeExports.jsx("caption",{ref:un,className:cn("mt-4 text-sm text-muted-foreground",tn),...sn}));TableCaption.displayName="TableCaption";function AnnouncementManager(){const{toast:tn}=useToast(),[sn,un]=reactExports.useState(!1),[dn,pn]=reactExports.useState(null),[mn,hn]=reactExports.useState({title:"",message:"",type:"general",priority:"medium",startDate:new Date().toISOString().split("T")[0],endDate:"",isActive:!0,link:"",linkText:""}),{data:fn=[],isLoading:gn}=useQuery({queryKey:["/api/announcements"]}),xn=useMutation({mutationFn:An=>{var $n,Dn;const Tn={...An,startDate:new Date(An.startDate).toISOString(),endDate:new Date(An.endDate).toISOString(),link:(($n=An.link)==null?void 0:$n.trim())||void 0,linkText:((Dn=An.linkText)==null?void 0:Dn.trim())||void 0};return apiRequest("POST","/api/announcements",Tn)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/announcements"]}),un(!1),En(),tn({title:"Announcement created!",description:"The announcement has been added successfully."})},onError:()=>{tn({title:"Error",description:"Failed to create announcement. Please try again.",variant:"destructive"})}}),yn=useMutation({mutationFn:({id:An,data:Tn})=>{var Dn,Nn;const $n={...Tn};return Tn.startDate&&($n.startDate=new Date(Tn.startDate).toISOString()),Tn.endDate&&($n.endDate=new Date(Tn.endDate).toISOString()),"link"in Tn&&($n.link=((Dn=Tn.link)==null?void 0:Dn.trim())||void 0),"linkText"in Tn&&($n.linkText=((Nn=Tn.linkText)==null?void 0:Nn.trim())||void 0),apiRequest("PATCH",`/api/announcements/${An}`,$n)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/announcements"]}),pn(null),tn({title:"Announcement updated!",description:"The announcement has been updated successfully."})},onError:()=>{tn({title:"Error",description:"Failed to update announcement. Please try again.",variant:"destructive"})}}),vn=useMutation({mutationFn:An=>apiRequest("DELETE",`/api/announcements/${An}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/announcements"]}),tn({title:"Announcement deleted!",description:"The announcement has been removed successfully."})},onError:()=>{tn({title:"Error",description:"Failed to delete announcement. Please try again.",variant:"destructive"})}}),En=()=>{hn({title:"",message:"",type:"general",priority:"medium",startDate:new Date().toISOString().split("T")[0],endDate:"",isActive:!0,link:"",linkText:""})},bn=An=>{if(An.preventDefault(),!mn.title.trim()||!mn.message.trim()){tn({title:"Error",description:"Title and message are required.",variant:"destructive"});return}xn.mutate(mn)},wn=An=>{pn({...An,startDate:An.startDate.split("T")[0],endDate:An.endDate.split("T")[0]})},Sn=An=>{An.preventDefault(),dn&&yn.mutate({id:dn.id,data:dn})},Rn=(An,Tn)=>{yn.mutate({id:An,data:{isActive:Tn}})},_n=An=>{switch(An){case"event":return jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"});case"position":return jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"});case"alert":return jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4"});default:return jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4"})}},jn=An=>{switch(An){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-blue-100 text-blue-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Cn=An=>{if(!An.isActive)return!1;const Tn=new Date,$n=new Date(An.startDate),Dn=new Date(An.endDate);return Tn>=$n&&Tn<=Dn};return gn?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:"Loading announcements..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Announcement Manager"}),jsxRuntimeExports.jsx("p",{className:"text-slate-600 mt-1",children:"Manage website banners for events and position openings"})]}),jsxRuntimeExports.jsxs(Dialog,{open:sn,onOpenChange:un,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"New Announcement"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Create New Announcement"})}),jsxRuntimeExports.jsxs("form",{onSubmit:bn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"title",children:"Title *"}),jsxRuntimeExports.jsx(Input,{id:"title",value:mn.title,onChange:An=>hn(Tn=>({...Tn,title:An.target.value})),placeholder:"Announcement title",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"message",children:"Message *"}),jsxRuntimeExports.jsx(Textarea,{id:"message",value:mn.message,onChange:An=>hn(Tn=>({...Tn,message:An.target.value})),placeholder:"Announcement message",required:!0,rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"type",children:"Type"}),jsxRuntimeExports.jsxs(Select,{value:mn.type,onValueChange:An=>hn(Tn=>({...Tn,type:An})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"general",children:"General"}),jsxRuntimeExports.jsx(SelectItem,{value:"event",children:"Event"}),jsxRuntimeExports.jsx(SelectItem,{value:"position",children:"Position Opening"}),jsxRuntimeExports.jsx(SelectItem,{value:"alert",children:"Alert"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"priority",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:mn.priority,onValueChange:An=>hn(Tn=>({...Tn,priority:An})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"startDate",children:"Start Date"}),jsxRuntimeExports.jsx(Input,{id:"startDate",type:"date",value:mn.startDate,onChange:An=>hn(Tn=>({...Tn,startDate:An.target.value}))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"endDate",children:"End Date"}),jsxRuntimeExports.jsx(Input,{id:"endDate",type:"date",value:mn.endDate,onChange:An=>hn(Tn=>({...Tn,endDate:An.target.value}))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"link",children:"Link (optional)"}),jsxRuntimeExports.jsx(Input,{id:"link",value:mn.link,onChange:An=>hn(Tn=>({...Tn,link:An.target.value})),placeholder:"https://..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"linkText",children:"Link Text"}),jsxRuntimeExports.jsx(Input,{id:"linkText",value:mn.linkText,onChange:An=>hn(Tn=>({...Tn,linkText:An.target.value})),placeholder:"Learn More"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>un(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:xn.isPending,children:xn.isPending?"Creating...":"Create Announcement"})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:fn.length===0?jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardContent$1,{className:"text-center py-8",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No announcements"}),jsxRuntimeExports.jsx("p",{className:"text-slate-500",children:"Create your first announcement to get started."})]})}):fn.map(An=>jsxRuntimeExports.jsxs(Card$1,{className:`${Cn(An)?"ring-2 ring-blue-500":""}`,children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[_n(An.type),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:An.title}),jsxRuntimeExports.jsx(CardDescription,{className:"mt-1",children:An.message})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:jn(An.priority),children:An.priority}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Cn(An)?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 text-green-600"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4 text-slate-400"})})]})]})}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-slate-600",children:[jsxRuntimeExports.jsxs("div",{children:["Start: ",new Date(An.startDate).toLocaleDateString()]}),jsxRuntimeExports.jsxs("div",{children:["End: ",new Date(An.endDate).toLocaleDateString()]}),An.link&&jsxRuntimeExports.jsxs("div",{children:["Link: ",jsxRuntimeExports.jsx("a",{href:An.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:An.linkText||"View"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{checked:An.isActive,onCheckedChange:Tn=>Rn(An.id,Tn)}),jsxRuntimeExports.jsx(Label$1,{className:"text-sm",children:"Active"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>wn(An),children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>vn.mutate(An.id),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})})]},An.id))}),jsxRuntimeExports.jsx(Dialog,{open:!!dn,onOpenChange:An=>!An&&pn(null),children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Edit Announcement"})}),dn&&jsxRuntimeExports.jsxs("form",{onSubmit:Sn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-title",children:"Title *"}),jsxRuntimeExports.jsx(Input,{id:"edit-title",value:dn.title,onChange:An=>pn(Tn=>Tn?{...Tn,title:An.target.value}:null),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-message",children:"Message *"}),jsxRuntimeExports.jsx(Textarea,{id:"edit-message",value:dn.message,onChange:An=>pn(Tn=>Tn?{...Tn,message:An.target.value}:null),required:!0,rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-type",children:"Type"}),jsxRuntimeExports.jsxs(Select,{value:dn.type,onValueChange:An=>pn(Tn=>Tn?{...Tn,type:An}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"general",children:"General"}),jsxRuntimeExports.jsx(SelectItem,{value:"event",children:"Event"}),jsxRuntimeExports.jsx(SelectItem,{value:"position",children:"Position Opening"}),jsxRuntimeExports.jsx(SelectItem,{value:"alert",children:"Alert"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-priority",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:dn.priority,onValueChange:An=>pn(Tn=>Tn?{...Tn,priority:An}:null),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-startDate",children:"Start Date"}),jsxRuntimeExports.jsx(Input,{id:"edit-startDate",type:"date",value:dn.startDate,onChange:An=>pn(Tn=>Tn?{...Tn,startDate:An.target.value}:null)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-endDate",children:"End Date"}),jsxRuntimeExports.jsx(Input,{id:"edit-endDate",type:"date",value:dn.endDate,onChange:An=>pn(Tn=>Tn?{...Tn,endDate:An.target.value}:null)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-link",children:"Link (optional)"}),jsxRuntimeExports.jsx(Input,{id:"edit-link",value:dn.link||"",onChange:An=>pn(Tn=>Tn?{...Tn,link:An.target.value}:null),placeholder:"https://..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit-linkText",children:"Link Text"}),jsxRuntimeExports.jsx(Input,{id:"edit-linkText",value:dn.linkText||"",onChange:An=>pn(Tn=>Tn?{...Tn,linkText:An.target.value}:null),placeholder:"Learn More"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>pn(null),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:yn.isPending,children:yn.isPending?"Updating...":"Update Announcement"})]})]})]})})]})}function AuthDebug(){const[tn,sn]=reactExports.useState(null),[un,dn]=reactExports.useState(null),[pn,mn]=reactExports.useState(!1),[hn,fn]=reactExports.useState(null),gn=async()=>{mn(!0),fn(null);try{const[vn,En]=await Promise.all([fetch("/api/debug/session"),fetch("/api/debug/auth-status")]);if(vn.ok){const bn=await vn.json();sn(bn)}if(En.ok){const bn=await En.json();dn(bn)}}catch(vn){fn("Failed to fetch debug information"),console.error("Debug fetch error:",vn)}finally{mn(!1)}};reactExports.useEffect(()=>{gn()},[]);const xn=vn=>vn?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-600"}):jsxRuntimeExports.jsx(CircleX,{className:"h-4 w-4 text-red-600"}),yn=(vn,En,bn)=>jsxRuntimeExports.jsx(Badge,{variant:vn?"default":"destructive",children:vn?En:bn});return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5"}),"Authentication Debug Panel"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Debug authentication issues and session status"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"flex gap-2 mb-4",children:jsxRuntimeExports.jsxs(Button,{onClick:gn,disabled:pn,children:[jsxRuntimeExports.jsx(RefreshCw,{className:`h-4 w-4 mr-2 ${pn?"animate-spin":""}`}),"Refresh Debug Info"]})}),hn&&jsxRuntimeExports.jsxs(Alert,{className:"mb-4",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:hn})]}),un&&jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Authentication Status"})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Authenticated:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[xn(un.isAuthenticated),yn(un.isAuthenticated,"Yes","No")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Session Exists:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[xn(un.sessionExists),yn(un.sessionExists,"Yes","No")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"User in Session:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[xn(un.userInSession),yn(un.userInSession,"Yes","No")]})]}),un.userEmail&&jsxRuntimeExports.jsxs("div",{className:"pt-2 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["User: ",un.userEmail]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Role: ",un.userRole]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",un.userId]})]})]})]}),tn&&jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Session Details"})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Session Store:"}),yn(tn.sessionStore,"PostgreSQL","None")]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Environment:"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:tn.environment})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm space-y-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Session ID:"})," ",tn.sessionId]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Timestamp:"})," ",new Date(tn.timestamp).toLocaleString()]})]}),tn.cookies&&jsxRuntimeExports.jsx("div",{className:"pt-2 border-t",children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"Cookies:"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 break-all",children:tn.cookies})]})})]})]})]}),un&&!un.isAuthenticated&&jsxRuntimeExports.jsxs(Alert,{className:"mt-4",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs(AlertDescription,{children:["User is not authenticated. Try logging in again or check if cookies are being blocked.",jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(Button,{size:"sm",onClick:()=>window.location.href="/api/login",children:"Go to Login Page"})})]})]})]})]})})}const PERMISSION_GROUPS=[{id:"content_management",label:"Content Management",description:"Control over creating, editing, and managing various content types",type:"content",permissions:[{key:PERMISSIONS.ACCESS_COLLECTIONS,label:"View Collections",icon:Eye,description:"View all collection records"},{key:PERMISSIONS.CREATE_COLLECTIONS,label:"Create Collections",icon:Database,description:"Create collections + automatically edit/delete own collections"},{key:PERMISSIONS.EDIT_ALL_COLLECTIONS,label:"Edit All Collections",icon:Shield,description:"Edit any collection record (admin level)"},{key:PERMISSIONS.DELETE_ALL_COLLECTIONS,label:"Delete All Collections",icon:Shield,description:"Delete any collection record (admin level)"},{key:PERMISSIONS.ACCESS_PROJECTS,label:"View Projects",icon:Eye,description:"View project information"},{key:PERMISSIONS.CREATE_PROJECTS,label:"Create Projects",icon:FolderOpen,description:"Create projects + automatically edit/delete own projects + edit assigned projects"},{key:PERMISSIONS.EDIT_ALL_PROJECTS,label:"Edit All Projects",icon:Shield,description:"Edit any project (admin level)"},{key:PERMISSIONS.DELETE_ALL_PROJECTS,label:"Delete All Projects",icon:Shield,description:"Delete any project (admin level)"},{key:PERMISSIONS.ACCESS_SUGGESTIONS,label:"View Suggestions",icon:Eye,description:"View suggestion portal"},{key:PERMISSIONS.CREATE_SUGGESTIONS,label:"Create Suggestions",icon:Lightbulb,description:"Create suggestions + automatically edit/delete own suggestions"},{key:PERMISSIONS.MANAGE_SUGGESTIONS,label:"Manage All Suggestions",icon:Shield,description:"Review and respond to all suggestions (admin level)"},{key:PERMISSIONS.EDIT_ALL_SUGGESTIONS,label:"Edit All Suggestions",icon:Shield,description:"Edit any suggestion (admin level)"},{key:PERMISSIONS.DELETE_ALL_SUGGESTIONS,label:"Delete All Suggestions",icon:Shield,description:"Delete any suggestion (admin level)"},{key:PERMISSIONS.ACCESS_WORK_LOGS,label:"View Work Logs",icon:Eye,description:"Access work logs section"},{key:PERMISSIONS.CREATE_WORK_LOGS,label:"Create Work Logs",icon:SquarePen,description:"Create work logs + automatically edit/delete own work logs"},{key:PERMISSIONS.VIEW_ALL_WORK_LOGS,label:"View All Work Logs",icon:Eye,description:"View everyone's work logs (admin/supervisor)"},{key:PERMISSIONS.EDIT_ALL_WORK_LOGS,label:"Edit All Work Logs",icon:Shield,description:"Edit any work log entry (admin level)"},{key:PERMISSIONS.DELETE_ALL_WORK_LOGS,label:"Delete All Work Logs",icon:Shield,description:"Delete any work log entry (admin level)"}]},{id:"directory_contact",label:"Directory & Contact Data",description:"Access levels to organizational contact information",type:"directory",permissions:[{key:PERMISSIONS.ACCESS_DIRECTORY,label:"Basic Directory Access",icon:Phone,description:"View basic contact information"},{key:PERMISSIONS.ACCESS_HOSTS,label:"View Hosts",icon:Eye,description:"View host locations"},{key:PERMISSIONS.MANAGE_HOSTS,label:"Add/Edit Hosts",icon:Building,description:"Add and edit host locations"},{key:PERMISSIONS.ACCESS_DRIVERS,label:"View Drivers",icon:Eye,description:"View driver information"},{key:PERMISSIONS.MANAGE_DRIVERS,label:"Add/Edit Drivers",icon:Truck,description:"Add and edit driver records"},{key:PERMISSIONS.ACCESS_RECIPIENTS,label:"View Recipients",icon:Eye,description:"View recipient organizations"},{key:PERMISSIONS.MANAGE_RECIPIENTS,label:"Add/Edit Recipients",icon:UserCheck,description:"Add and edit recipient organizations"}]},{id:"communication_access",label:"Communication",description:"Chat room access and messaging capabilities",type:"communication",permissions:[{key:PERMISSIONS.GENERAL_CHAT,label:"General Chat",icon:MessageCircle,description:"Access general team chat"},{key:PERMISSIONS.HOST_CHAT,label:"Host Chat",icon:Building,description:"Access host-specific chat room"},{key:PERMISSIONS.DRIVER_CHAT,label:"Driver Chat",icon:Truck,description:"Access driver-specific chat room"},{key:PERMISSIONS.RECIPIENT_CHAT,label:"Recipient Chat",icon:UserCheck,description:"Access recipient-specific chat room"},{key:PERMISSIONS.COMMITTEE_CHAT,label:"Committee Chat",icon:Users,description:"Access committee chat room"},{key:PERMISSIONS.CORE_TEAM_CHAT,label:"Core Team Chat",icon:Shield,description:"Access leadership chat room"},{key:PERMISSIONS.DIRECT_MESSAGES,label:"Direct Messaging",icon:Mail,description:"Send/receive private messages"},{key:PERMISSIONS.MODERATE_MESSAGES,label:"Message Moderation",icon:Eye,description:"Edit/delete others' messages across all channels"}]},{id:"navigation_control",label:"Navigation Control",description:"Which tabs and features appear in user's interface",type:"navigation",permissions:[{key:PERMISSIONS.ACCESS_CHAT,label:"Chat Tab",icon:MessageCircle,description:"Show Chat tab in navigation"},{key:PERMISSIONS.ACCESS_MESSAGES,label:"Messages Tab",icon:Mail,description:"Show Messages tab in navigation"},{key:PERMISSIONS.ACCESS_TOOLKIT,label:"Toolkit Tab",icon:Wrench,description:"Show Toolkit/Documents tab"},{key:PERMISSIONS.ACCESS_MEETINGS,label:"Meetings Section",icon:Calendar,description:"Show Meetings in Operations"},{key:PERMISSIONS.ACCESS_ANALYTICS,label:"Analytics Section",icon:TrendingUp,description:"Show Analytics in Operations"},{key:PERMISSIONS.ACCESS_REPORTS,label:"Reports Section",icon:FileText,description:"Show Reports in Operations"},{key:PERMISSIONS.ACCESS_SANDWICH_DATA,label:"Sandwich Data",icon:ChartPie,description:"Access to sandwich totals data sheet"},{key:PERMISSIONS.ACCESS_WORK_LOGS,label:"Work Logs Section",icon:Calendar,description:"Show Work Logs in navigation"}]},{id:"system_access",label:"System Access",description:"Administrative functions and system-level capabilities",type:"system",permissions:[{key:PERMISSIONS.ADMIN_ACCESS,label:"Admin Panel",icon:Shield,description:"Access to admin interface"},{key:PERMISSIONS.MANAGE_USERS,label:"User Management",icon:Users,description:"Manage users and permissions"},{key:PERMISSIONS.MANAGE_ANNOUNCEMENTS,label:"System Announcements",icon:FileText,description:"Create/edit system announcements"},{key:PERMISSIONS.MANAGE_MEETINGS,label:"Meeting Management",icon:Calendar,description:"Schedule and manage meetings"}]},{id:"data_operations",label:"Data Operations",description:"Bulk operations and cross-content editing capabilities",type:"operations",permissions:[{key:PERMISSIONS.EXPORT_DATA,label:"Export Data",icon:FileText,description:"Download data as files"},{key:PERMISSIONS.IMPORT_DATA,label:"Import Data",icon:Database,description:"Upload bulk data from files"},{key:PERMISSIONS.SCHEDULE_REPORTS,label:"Schedule Reports",icon:Calendar,description:"Set up automated reporting"}]}];function getCardColorForType(tn){switch(tn){case"content":return"border-blue-200 bg-blue-50/50";case"directory":return"border-green-200 bg-green-50/50";case"communication":return"border-purple-200 bg-purple-50/50";case"navigation":return"border-orange-200 bg-orange-50/50";case"system":return"border-red-200 bg-red-50/50";case"operations":return"border-indigo-200 bg-indigo-50/50";default:return"border-gray-200 bg-gray-50/50"}}function getIconForType(tn){switch(tn){case"content":return jsxRuntimeExports.jsx(Database,{className:"h-4 w-4 text-blue-600"});case"directory":return jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4 text-green-600"});case"communication":return jsxRuntimeExports.jsx(MessageCircle,{className:"h-4 w-4 text-purple-600"});case"navigation":return jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4 text-orange-600"});case"system":return jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4 text-red-600"});case"operations":return jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4 text-indigo-600"});default:return jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4 text-gray-600"})}}function SimplePermissionsDialog({user:tn,open:sn,onOpenChange:un,onSave:dn}){const[pn,mn]=reactExports.useState(""),[hn,fn]=reactExports.useState([]);reactExports.useEffect(()=>{tn&&sn&&(mn(tn.role),fn(tn.permissions||[]))},[tn,sn]);const gn=Sn=>{mn(Sn);const Rn=getDefaultPermissionsForRole(Sn);fn(Rn)},xn=(Sn,Rn)=>{fn(Rn?[...hn,Sn]:hn.filter(_n=>_n!==Sn))},yn=()=>{tn&&(dn(tn.id,pn,hn),un(!1))},vn=Sn=>hn.includes(Sn),En=Sn=>{const Rn=Sn.permissions.map(jn=>jn.key),_n=Rn.filter(jn=>hn.includes(jn)).length;return _n===0?"none":_n===Rn.length?"all":"partial"},bn=Sn=>{const Rn=Sn.permissions.map(jn=>jn.key);if(En(Sn)==="all")fn(hn.filter(jn=>!Rn.includes(jn)));else{const jn=[...hn];Rn.forEach(Cn=>{jn.includes(Cn)||jn.push(Cn)}),fn(jn)}},wn=Sn=>{switch(Sn){case"all":return jsxRuntimeExports.jsx(SquareCheckBig,{className:"h-4 w-4"});case"partial":return jsxRuntimeExports.jsx(Minus,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Square,{className:"h-4 w-4"})}};return tn?jsxRuntimeExports.jsx(Dialog,{open:sn,onOpenChange:un,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5"}),"Edit Permissions: ",tn.firstName," ",tn.lastName]}),jsxRuntimeExports.jsx(DialogDescription,{children:"Control which sections of the application this user can access. Choose a role preset or customize individual permissions."})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"role",children:"User Role"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>{const Sn=[PERMISSIONS.ACCESS_DIRECTORY,PERMISSIONS.ACCESS_COLLECTIONS,PERMISSIONS.ACCESS_HOSTS,PERMISSIONS.ACCESS_RECIPIENTS,PERMISSIONS.ACCESS_DRIVERS,PERMISSIONS.ACCESS_PROJECTS,PERMISSIONS.ACCESS_TOOLKIT,PERMISSIONS.ACCESS_SANDWICH_DATA,PERMISSIONS.GENERAL_CHAT];fn(Sn)},className:"text-xs",children:"Viewer Preset"})})]}),jsxRuntimeExports.jsxs(Select,{value:pn,onValueChange:gn,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a role"})}),jsxRuntimeExports.jsx(SelectContent,{children:Object.values(USER_ROLES).map(Sn=>jsxRuntimeExports.jsx(SelectItem,{value:Sn,children:getRoleDisplayName(Sn)},Sn))})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Use role presets for quick setup, or choose permission presets above for common configurations."})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:PERMISSION_GROUPS.map(Sn=>jsxRuntimeExports.jsxs(Card$1,{className:`${getCardColorForType(Sn.type)}`,children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[getIconForType(Sn.type),Sn.label]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>bn(Sn),className:"h-8 px-2 text-xs",title:`Select all ${Sn.label.toLowerCase()}`,children:[wn(En(Sn)),jsxRuntimeExports.jsx("span",{className:"ml-1 hidden sm:inline",children:En(Sn)==="all"?"Deselect All":"Select All"})]})]}),jsxRuntimeExports.jsx(CardDescription,{className:"text-sm",children:Sn.description})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Sn.permissions.map(Rn=>{const _n=Rn.icon;return jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent transition-colors",children:[jsxRuntimeExports.jsx(Checkbox,{id:Rn.key,checked:vn(Rn.key),onCheckedChange:jn=>xn(Rn.key,jn),className:"mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(_n,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Label$1,{htmlFor:Rn.key,className:"text-sm font-medium cursor-pointer",children:Rn.label})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Rn.description})]})]},Rn.key)})})})]},Sn.id))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[hn.length," permissions selected"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Role: ",getRoleDisplayName(pn)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>fn([]),disabled:hn.length===0,children:"Clear All"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>{const Sn=PERMISSION_GROUPS.flatMap(Rn=>Rn.permissions.map(_n=>_n.key));fn(Sn)},disabled:hn.length===Object.values(PERMISSIONS).length,children:"Select All"})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"flex-shrink-0 mt-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>un(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:yn,children:"Save Changes"})]})]})}):null}var NAME="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((tn,sn)=>{const{decorative:un,orientation:dn=DEFAULT_ORIENTATION,...pn}=tn,mn=isValidOrientation(dn)?dn:DEFAULT_ORIENTATION,fn=un?{role:"none"}:{"aria-orientation":mn==="vertical"?mn:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":mn,...fn,...pn,ref:sn})});Separator$1.displayName=NAME;function isValidOrientation(tn){return ORIENTATIONS.includes(tn)}var Root$1=Separator$1;const Separator=reactExports.forwardRef(({className:tn,orientation:sn="horizontal",decorative:un=!0,...dn},pn)=>jsxRuntimeExports.jsx(Root$1,{ref:pn,decorative:un,orientation:sn,className:cn("shrink-0 bg-border",sn==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",tn),...dn}));Separator.displayName=Root$1.displayName;const predefinedTemplates=[{id:"check-in-reminder",name:"Check-In Reminder",subject:"Quick check-in - How are things going? 👋",message:`Hi there!

Just wanted to reach out and see how you're doing! 

The Sandwich Project platform has some exciting updates, and we'd love for you to take a quick look when you have a moment. Your feedback helps us make the system better for everyone.

No pressure - just checking in and letting you know we're thinking of you!

Best regards,
The Sandwich Project Team`,type:"reminder"},{id:"test-invitation",name:"Platform Testing Invitation",subject:"Help us test some cool new features! 🚀",message:`Hello!

We've been working on some exciting improvements to the platform, and we'd love your help testing them out!

Here's what's new:
• Enhanced dashboard with better visual design
• Improved data entry forms
• Better navigation and user experience

When you have 5-10 minutes, could you log in and let us know what you think? Your input is incredibly valuable to us.

Thanks for being an amazing part of our community!

The Sandwich Project Team`,type:"encouragement"},{id:"appreciation",name:"Team Appreciation",subject:"Thank you for everything you do! ❤️",message:`Dear Team Member,

We wanted to take a moment to say THANK YOU for all the incredible work you do for The Sandwich Project.

Every sandwich counted, every volunteer coordinated, every act of service - it all adds up to real impact in our community. You're making a difference!

The platform is here to support your amazing work, so please don't hesitate to reach out if you need anything or have suggestions for improvements.

With gratitude,
The Sandwich Project Team`,type:"celebration"},{id:"system-update",name:"System Update Notification",subject:"Platform updates - New features available!",message:`Hi there!

We've just rolled out some exciting updates to The Sandwich Project platform:

✨ What's New:
• Improved dashboard design for better clarity
• Enhanced data visualization
• Streamlined navigation
• Better mobile experience

These changes are designed to make your volunteer coordination work even easier and more efficient.

Log in whenever you're ready to explore the improvements!

Best,
The Sandwich Project Development Team`,type:"announcement"}];function ShoutoutSystem(){const{toast:tn}=useToast(),sn=useQueryClient(),[un,dn]=reactExports.useState(null),[pn,mn]=reactExports.useState(""),[hn,fn]=reactExports.useState(""),[gn,xn]=reactExports.useState("all"),{data:yn}=useQuery({queryKey:["/api/users"],staleTime:3e5}),{data:vn}=useQuery({queryKey:["/api/shoutouts/history"],staleTime:6e4}),En=useMutation({mutationFn:async An=>apiRequest("POST","/api/shoutouts/send",An),onSuccess:()=>{tn({title:"Shoutout sent successfully!",description:"Your message has been delivered to the selected recipients."}),sn.invalidateQueries({queryKey:["/api/shoutouts/history"]}),dn(null),mn(""),fn(""),xn("all")},onError:An=>{tn({variant:"destructive",title:"Failed to send shoutout",description:An.message||"Please try again later."})}}),bn=useMutation({mutationFn:async()=>apiRequest("POST","/api/shoutouts/test",{}),onSuccess:An=>{var $n;const Tn=(($n=An.results)==null?void 0:$n.filter(Dn=>Dn.status==="success"))||[];Tn.length>0?tn({title:"SendGrid test successful!",description:`Working sender addresses found: ${Tn.map(Dn=>Dn.from).join(", ")}`}):tn({variant:"destructive",title:"SendGrid test failed",description:"No working sender addresses found. Check SendGrid configuration."})},onError:An=>{tn({variant:"destructive",title:"SendGrid test failed",description:An.message||"Unable to test SendGrid configuration."})}}),wn=An=>{dn(An),mn(An.subject),fn(An.message)},Sn=()=>{if(!pn.trim()||!hn.trim()){tn({variant:"destructive",title:"Missing information",description:"Please provide both subject and message."});return}En.mutate({subject:pn,message:hn,recipientGroup:gn,templateName:un==null?void 0:un.name})},Rn=()=>{bn.mutate()},_n=()=>{if(!yn)return 0;switch(gn){case"all":return yn.length;case"admins":return yn.filter(An=>An.role==="admin").length;case"super_admins":return yn.filter(An=>An.role==="super_admin").length;case"hosts":return yn.filter(An=>An.role==="host").length;case"volunteers":return yn.filter(An=>An.role==="volunteer").length;case"committee":return yn.filter(An=>An.role==="committee_member").length;default:return 0}},jn=An=>{switch(An){case"reminder":return jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"});case"encouragement":return jsxRuntimeExports.jsx(Heart,{className:"h-4 w-4"});case"announcement":return jsxRuntimeExports.jsx(Megaphone,{className:"h-4 w-4"});case"celebration":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"})}},Cn=An=>{switch(An){case"reminder":return"bg-blue-100 text-blue-800 border-blue-200";case"encouragement":return"bg-green-100 text-green-800 border-green-200";case"announcement":return"bg-purple-100 text-purple-800 border-purple-200";case"celebration":return"bg-pink-100 text-pink-800 border-pink-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-xl overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"px-8 py-6 border-b border-slate-200 bg-gradient-to-r from-[#FBAD3F]/5 via-white to-[#236383]/5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FBAD3F] to-[#e89b2e] rounded-xl flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(Megaphone,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-black text-slate-900 font-roboto tracking-tight",children:"Team Shoutouts"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-slate-500 font-roboto mt-1",children:"Send encouraging messages and reminders to your team"})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card$1,{className:"border-slate-200 shadow-lg",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"bg-gradient-to-r from-slate-50/50 to-white border-b border-slate-200",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl font-bold text-slate-900 font-roboto flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5 text-[#236383]"}),"Quick Templates"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Choose a pre-written message or create your own"})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"p-6 space-y-4",children:predefinedTemplates.map(An=>jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-xl border cursor-pointer transition-all duration-200 hover:shadow-md ${(un==null?void 0:un.id)===An.id?"border-[#FBAD3F] bg-[#FBAD3F]/5":"border-slate-200 hover:border-slate-300"}`,onClick:()=>wn(An),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-slate-900 font-roboto",children:An.name}),jsxRuntimeExports.jsxs(Badge,{className:`${Cn(An.type)} flex items-center gap-1`,children:[jn(An.type),An.type]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-600 font-roboto",children:An.subject})]},An.id))})]}),jsxRuntimeExports.jsxs(Card$1,{className:"border-slate-200 shadow-lg",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"bg-gradient-to-r from-slate-50/50 to-white border-b border-slate-200",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl font-bold text-slate-900 font-roboto flex items-center gap-2",children:[jsxRuntimeExports.jsx(Send$c,{className:"h-5 w-5 text-[#236383]"}),"Compose Message"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Customize your message and select recipients"})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-slate-700 font-roboto",children:"Send to:"}),jsxRuntimeExports.jsxs(Select,{value:gn,onValueChange:xn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"border-slate-300",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsxs(SelectItem,{value:"all",children:["All Users (",_n(),")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"super_admins",children:["Super Administrators (",(yn==null?void 0:yn.filter(An=>An.role==="super_admin").length)||0,")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"admins",children:["Administrators (",(yn==null?void 0:yn.filter(An=>An.role==="admin").length)||0,")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"hosts",children:["Hosts (",(yn==null?void 0:yn.filter(An=>An.role==="host").length)||0,")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"volunteers",children:["Volunteers (",(yn==null?void 0:yn.filter(An=>An.role==="volunteer").length)||0,")"]}),jsxRuntimeExports.jsxs(SelectItem,{value:"committee",children:["Committee Members (",(yn==null?void 0:yn.filter(An=>An.role==="committee_member").length)||0,")"]})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-slate-700 font-roboto",children:"Subject:"}),jsxRuntimeExports.jsx(Input,{value:pn,onChange:An=>mn(An.target.value),placeholder:"Enter email subject...",className:"border-slate-300"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-slate-700 font-roboto",children:"Message:"}),jsxRuntimeExports.jsx(Textarea,{value:hn,onChange:An=>fn(An.target.value),placeholder:"Enter your message...",rows:8,className:"border-slate-300 resize-none"})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsxs(Alert,{className:"mb-4 border-[#FBAD3F]/30 bg-[#FBAD3F]/5",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-[#FBAD3F]"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-slate-700",children:["This message will be sent to ",jsxRuntimeExports.jsxs("strong",{children:[_n()," recipients"]})," via email."]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button,{onClick:Sn,disabled:En.isPending||!pn.trim()||!hn.trim(),className:"w-full bg-gradient-to-r from-[#FBAD3F] to-[#e89b2e] hover:from-[#e89b2e] hover:to-[#d4941f] text-white font-semibold py-3",children:En.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4 mr-2"}),"Send Shoutout"]})}),jsxRuntimeExports.jsx(Button,{onClick:Rn,disabled:bn.isPending,variant:"outline",className:"w-full border-[#236383] text-[#236383] hover:bg-[#236383]/5",children:bn.isPending?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[#236383] mr-2"}),"Testing..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 mr-2"}),"Test SendGrid Setup"]})})]})]})]})]})]}),vn&&vn.length>0&&jsxRuntimeExports.jsxs(Card$1,{className:"border-slate-200 shadow-lg",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"bg-gradient-to-r from-slate-50/50 to-white border-b border-slate-200",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl font-bold text-slate-900 font-roboto flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 text-[#236383]"}),"Recent Shoutouts"]}),jsxRuntimeExports.jsx(CardDescription,{children:"History of sent messages"})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:vn.slice(0,5).map(An=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-slate-900 font-roboto",children:An.subject}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-600",children:[An.templateName," • ",An.recipientCount," recipients • ",new Date(An.sentAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:An.status==="sent"?jsxRuntimeExports.jsxs(Badge,{className:"bg-green-100 text-green-800 border-green-200",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1"}),"Sent"]}):jsxRuntimeExports.jsxs(Badge,{className:"bg-red-100 text-red-800 border-red-200",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3 mr-1"}),"Failed"]})})]},An.id))})})]})]})}function useStateMachine(tn,sn){return reactExports.useReducer((un,dn)=>sn[un][dn]??un,tn)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((tn,sn)=>{const{__scopeScrollArea:un,type:dn="hover",dir:pn,scrollHideDelay:mn=600,...hn}=tn,[fn,gn]=reactExports.useState(null),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState(null),[bn,wn]=reactExports.useState(null),[Sn,Rn]=reactExports.useState(null),[_n,jn]=reactExports.useState(0),[Cn,An]=reactExports.useState(0),[Tn,$n]=reactExports.useState(!1),[Dn,Nn]=reactExports.useState(!1),kn=useComposedRefs(sn,Mn=>gn(Mn)),Pn=useDirection(pn);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:un,type:dn,dir:Pn,scrollHideDelay:mn,scrollArea:fn,viewport:xn,onViewportChange:yn,content:vn,onContentChange:En,scrollbarX:bn,onScrollbarXChange:wn,scrollbarXEnabled:Tn,onScrollbarXEnabledChange:$n,scrollbarY:Sn,onScrollbarYChange:Rn,scrollbarYEnabled:Dn,onScrollbarYEnabledChange:Nn,onCornerWidthChange:jn,onCornerHeightChange:An,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Pn,...hn,ref:kn,style:{position:"relative","--radix-scroll-area-corner-width":_n+"px","--radix-scroll-area-corner-height":Cn+"px",...tn.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((tn,sn)=>{const{__scopeScrollArea:un,children:dn,nonce:pn,...mn}=tn,hn=useScrollAreaContext(VIEWPORT_NAME,un),fn=reactExports.useRef(null),gn=useComposedRefs(sn,fn,hn.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:pn}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...mn,ref:gn,style:{overflowX:hn.scrollbarXEnabled?"scroll":"hidden",overflowY:hn.scrollbarYEnabled?"scroll":"hidden",...tn.style},children:jsxRuntimeExports.jsx("div",{ref:hn.onContentChange,style:{minWidth:"100%",display:"table"},children:dn})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((tn,sn)=>{const{forceMount:un,...dn}=tn,pn=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),{onScrollbarXEnabledChange:mn,onScrollbarYEnabledChange:hn}=pn,fn=tn.orientation==="horizontal";return reactExports.useEffect(()=>(fn?mn(!0):hn(!0),()=>{fn?mn(!1):hn(!1)}),[fn,mn,hn]),pn.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...dn,ref:sn,forceMount:un}):pn.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...dn,ref:sn,forceMount:un}):pn.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...dn,ref:sn,forceMount:un}):pn.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...dn,ref:sn}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((tn,sn)=>{const{forceMount:un,...dn}=tn,pn=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),[mn,hn]=reactExports.useState(!1);return reactExports.useEffect(()=>{const fn=pn.scrollArea;let gn=0;if(fn){const xn=()=>{window.clearTimeout(gn),hn(!0)},yn=()=>{gn=window.setTimeout(()=>hn(!1),pn.scrollHideDelay)};return fn.addEventListener("pointerenter",xn),fn.addEventListener("pointerleave",yn),()=>{window.clearTimeout(gn),fn.removeEventListener("pointerenter",xn),fn.removeEventListener("pointerleave",yn)}}},[pn.scrollArea,pn.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:un||mn,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":mn?"visible":"hidden",...dn,ref:sn})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((tn,sn)=>{const{forceMount:un,...dn}=tn,pn=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),mn=tn.orientation==="horizontal",hn=useDebounceCallback(()=>gn("SCROLL_END"),100),[fn,gn]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(fn==="idle"){const xn=window.setTimeout(()=>gn("HIDE"),pn.scrollHideDelay);return()=>window.clearTimeout(xn)}},[fn,pn.scrollHideDelay,gn]),reactExports.useEffect(()=>{const xn=pn.viewport,yn=mn?"scrollLeft":"scrollTop";if(xn){let vn=xn[yn];const En=()=>{const bn=xn[yn];vn!==bn&&(gn("SCROLL"),hn()),vn=bn};return xn.addEventListener("scroll",En),()=>xn.removeEventListener("scroll",En)}},[pn.viewport,mn,gn,hn]),jsxRuntimeExports.jsx(Presence,{present:un||fn!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":fn==="hidden"?"hidden":"visible",...dn,ref:sn,onPointerEnter:composeEventHandlers$1(tn.onPointerEnter,()=>gn("POINTER_ENTER")),onPointerLeave:composeEventHandlers$1(tn.onPointerLeave,()=>gn("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((tn,sn)=>{const un=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),{forceMount:dn,...pn}=tn,[mn,hn]=reactExports.useState(!1),fn=tn.orientation==="horizontal",gn=useDebounceCallback(()=>{if(un.viewport){const xn=un.viewport.offsetWidth<un.viewport.scrollWidth,yn=un.viewport.offsetHeight<un.viewport.scrollHeight;hn(fn?xn:yn)}},10);return useResizeObserver(un.viewport,gn),useResizeObserver(un.content,gn),jsxRuntimeExports.jsx(Presence,{present:dn||mn,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":mn?"visible":"hidden",...pn,ref:sn})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((tn,sn)=>{const{orientation:un="vertical",...dn}=tn,pn=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),mn=reactExports.useRef(null),hn=reactExports.useRef(0),[fn,gn]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),xn=getThumbRatio(fn.viewport,fn.content),yn={...dn,sizes:fn,onSizesChange:gn,hasThumb:xn>0&&xn<1,onThumbChange:En=>mn.current=En,onThumbPointerUp:()=>hn.current=0,onThumbPointerDown:En=>hn.current=En};function vn(En,bn){return getScrollPositionFromPointer(En,hn.current,fn,bn)}return un==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...yn,ref:sn,onThumbPositionChange:()=>{if(pn.viewport&&mn.current){const En=pn.viewport.scrollLeft,bn=getThumbOffsetFromScroll(En,fn,pn.dir);mn.current.style.transform=`translate3d(${bn}px, 0, 0)`}},onWheelScroll:En=>{pn.viewport&&(pn.viewport.scrollLeft=En)},onDragScroll:En=>{pn.viewport&&(pn.viewport.scrollLeft=vn(En,pn.dir))}}):un==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...yn,ref:sn,onThumbPositionChange:()=>{if(pn.viewport&&mn.current){const En=pn.viewport.scrollTop,bn=getThumbOffsetFromScroll(En,fn);mn.current.style.transform=`translate3d(0, ${bn}px, 0)`}},onWheelScroll:En=>{pn.viewport&&(pn.viewport.scrollTop=En)},onDragScroll:En=>{pn.viewport&&(pn.viewport.scrollTop=vn(En))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((tn,sn)=>{const{sizes:un,onSizesChange:dn,...pn}=tn,mn=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),[hn,fn]=reactExports.useState(),gn=reactExports.useRef(null),xn=useComposedRefs(sn,gn,mn.onScrollbarXChange);return reactExports.useEffect(()=>{gn.current&&fn(getComputedStyle(gn.current))},[gn]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...pn,ref:xn,sizes:un,style:{bottom:0,left:mn.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:mn.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(un)+"px",...tn.style},onThumbPointerDown:yn=>tn.onThumbPointerDown(yn.x),onDragScroll:yn=>tn.onDragScroll(yn.x),onWheelScroll:(yn,vn)=>{if(mn.viewport){const En=mn.viewport.scrollLeft+yn.deltaX;tn.onWheelScroll(En),isScrollingWithinScrollbarBounds(En,vn)&&yn.preventDefault()}},onResize:()=>{gn.current&&mn.viewport&&hn&&dn({content:mn.viewport.scrollWidth,viewport:mn.viewport.offsetWidth,scrollbar:{size:gn.current.clientWidth,paddingStart:toInt(hn.paddingLeft),paddingEnd:toInt(hn.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((tn,sn)=>{const{sizes:un,onSizesChange:dn,...pn}=tn,mn=useScrollAreaContext(SCROLLBAR_NAME,tn.__scopeScrollArea),[hn,fn]=reactExports.useState(),gn=reactExports.useRef(null),xn=useComposedRefs(sn,gn,mn.onScrollbarYChange);return reactExports.useEffect(()=>{gn.current&&fn(getComputedStyle(gn.current))},[gn]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...pn,ref:xn,sizes:un,style:{top:0,right:mn.dir==="ltr"?0:void 0,left:mn.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(un)+"px",...tn.style},onThumbPointerDown:yn=>tn.onThumbPointerDown(yn.y),onDragScroll:yn=>tn.onDragScroll(yn.y),onWheelScroll:(yn,vn)=>{if(mn.viewport){const En=mn.viewport.scrollTop+yn.deltaY;tn.onWheelScroll(En),isScrollingWithinScrollbarBounds(En,vn)&&yn.preventDefault()}},onResize:()=>{gn.current&&mn.viewport&&hn&&dn({content:mn.viewport.scrollHeight,viewport:mn.viewport.offsetHeight,scrollbar:{size:gn.current.clientHeight,paddingStart:toInt(hn.paddingTop),paddingEnd:toInt(hn.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeScrollArea:un,sizes:dn,hasThumb:pn,onThumbChange:mn,onThumbPointerUp:hn,onThumbPointerDown:fn,onThumbPositionChange:gn,onDragScroll:xn,onWheelScroll:yn,onResize:vn,...En}=tn,bn=useScrollAreaContext(SCROLLBAR_NAME,un),[wn,Sn]=reactExports.useState(null),Rn=useComposedRefs(sn,kn=>Sn(kn)),_n=reactExports.useRef(null),jn=reactExports.useRef(""),Cn=bn.viewport,An=dn.content-dn.viewport,Tn=useCallbackRef$1(yn),$n=useCallbackRef$1(gn),Dn=useDebounceCallback(vn,10);function Nn(kn){if(_n.current){const Pn=kn.clientX-_n.current.left,Mn=kn.clientY-_n.current.top;xn({x:Pn,y:Mn})}}return reactExports.useEffect(()=>{const kn=Pn=>{const Mn=Pn.target;(wn==null?void 0:wn.contains(Mn))&&Tn(Pn,An)};return document.addEventListener("wheel",kn,{passive:!1}),()=>document.removeEventListener("wheel",kn,{passive:!1})},[Cn,wn,An,Tn]),reactExports.useEffect($n,[dn,$n]),useResizeObserver(wn,Dn),useResizeObserver(bn.content,Dn),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:un,scrollbar:wn,hasThumb:pn,onThumbChange:useCallbackRef$1(mn),onThumbPointerUp:useCallbackRef$1(hn),onThumbPositionChange:$n,onThumbPointerDown:useCallbackRef$1(fn),children:jsxRuntimeExports.jsx(Primitive.div,{...En,ref:Rn,style:{position:"absolute",...En.style},onPointerDown:composeEventHandlers$1(tn.onPointerDown,kn=>{kn.button===0&&(kn.target.setPointerCapture(kn.pointerId),_n.current=wn.getBoundingClientRect(),jn.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",bn.viewport&&(bn.viewport.style.scrollBehavior="auto"),Nn(kn))}),onPointerMove:composeEventHandlers$1(tn.onPointerMove,Nn),onPointerUp:composeEventHandlers$1(tn.onPointerUp,kn=>{const Pn=kn.target;Pn.hasPointerCapture(kn.pointerId)&&Pn.releasePointerCapture(kn.pointerId),document.body.style.webkitUserSelect=jn.current,bn.viewport&&(bn.viewport.style.scrollBehavior=""),_n.current=null})})})}),THUMB_NAME="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((tn,sn)=>{const{forceMount:un,...dn}=tn,pn=useScrollbarContext(THUMB_NAME,tn.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:un||pn.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:sn,...dn})})}),ScrollAreaThumbImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeScrollArea:un,style:dn,...pn}=tn,mn=useScrollAreaContext(THUMB_NAME,un),hn=useScrollbarContext(THUMB_NAME,un),{onThumbPositionChange:fn}=hn,gn=useComposedRefs(sn,vn=>hn.onThumbChange(vn)),xn=reactExports.useRef(void 0),yn=useDebounceCallback(()=>{xn.current&&(xn.current(),xn.current=void 0)},100);return reactExports.useEffect(()=>{const vn=mn.viewport;if(vn){const En=()=>{if(yn(),!xn.current){const bn=addUnlinkedScrollListener(vn,fn);xn.current=bn,fn()}};return fn(),vn.addEventListener("scroll",En),()=>vn.removeEventListener("scroll",En)}},[mn.viewport,yn,fn]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":hn.hasThumb?"visible":"hidden",...pn,ref:gn,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...dn},onPointerDownCapture:composeEventHandlers$1(tn.onPointerDownCapture,vn=>{const bn=vn.target.getBoundingClientRect(),wn=vn.clientX-bn.left,Sn=vn.clientY-bn.top;hn.onThumbPointerDown({x:wn,y:Sn})}),onPointerUp:composeEventHandlers$1(tn.onPointerUp,hn.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((tn,sn)=>{const un=useScrollAreaContext(CORNER_NAME,tn.__scopeScrollArea),dn=!!(un.scrollbarX&&un.scrollbarY);return un.type!=="scroll"&&dn?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...tn,ref:sn}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((tn,sn)=>{const{__scopeScrollArea:un,...dn}=tn,pn=useScrollAreaContext(CORNER_NAME,un),[mn,hn]=reactExports.useState(0),[fn,gn]=reactExports.useState(0),xn=!!(mn&&fn);return useResizeObserver(pn.scrollbarX,()=>{var vn;const yn=((vn=pn.scrollbarX)==null?void 0:vn.offsetHeight)||0;pn.onCornerHeightChange(yn),gn(yn)}),useResizeObserver(pn.scrollbarY,()=>{var vn;const yn=((vn=pn.scrollbarY)==null?void 0:vn.offsetWidth)||0;pn.onCornerWidthChange(yn),hn(yn)}),xn?jsxRuntimeExports.jsx(Primitive.div,{...dn,ref:sn,style:{width:mn,height:fn,position:"absolute",right:pn.dir==="ltr"?0:void 0,left:pn.dir==="rtl"?0:void 0,bottom:0,...tn.style}}):null});function toInt(tn){return tn?parseInt(tn,10):0}function getThumbRatio(tn,sn){const un=tn/sn;return isNaN(un)?0:un}function getThumbSize(tn){const sn=getThumbRatio(tn.viewport,tn.content),un=tn.scrollbar.paddingStart+tn.scrollbar.paddingEnd,dn=(tn.scrollbar.size-un)*sn;return Math.max(dn,18)}function getScrollPositionFromPointer(tn,sn,un,dn="ltr"){const pn=getThumbSize(un),mn=pn/2,hn=sn||mn,fn=pn-hn,gn=un.scrollbar.paddingStart+hn,xn=un.scrollbar.size-un.scrollbar.paddingEnd-fn,yn=un.content-un.viewport,vn=dn==="ltr"?[0,yn]:[yn*-1,0];return linearScale([gn,xn],vn)(tn)}function getThumbOffsetFromScroll(tn,sn,un="ltr"){const dn=getThumbSize(sn),pn=sn.scrollbar.paddingStart+sn.scrollbar.paddingEnd,mn=sn.scrollbar.size-pn,hn=sn.content-sn.viewport,fn=mn-dn,gn=un==="ltr"?[0,hn]:[hn*-1,0],xn=clamp$1(tn,gn);return linearScale([0,hn],[0,fn])(xn)}function linearScale(tn,sn){return un=>{if(tn[0]===tn[1]||sn[0]===sn[1])return sn[0];const dn=(sn[1]-sn[0])/(tn[1]-tn[0]);return sn[0]+dn*(un-tn[0])}}function isScrollingWithinScrollbarBounds(tn,sn){return tn>0&&tn<sn}var addUnlinkedScrollListener=(tn,sn=()=>{})=>{let un={left:tn.scrollLeft,top:tn.scrollTop},dn=0;return function pn(){const mn={left:tn.scrollLeft,top:tn.scrollTop},hn=un.left!==mn.left,fn=un.top!==mn.top;(hn||fn)&&sn(),un=mn,dn=window.requestAnimationFrame(pn)}(),()=>window.cancelAnimationFrame(dn)};function useDebounceCallback(tn,sn){const un=useCallbackRef$1(tn),dn=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(dn.current),[]),reactExports.useCallback(()=>{window.clearTimeout(dn.current),dn.current=window.setTimeout(un,sn)},[un,sn])}function useResizeObserver(tn,sn){const un=useCallbackRef$1(sn);useLayoutEffect2(()=>{let dn=0;if(tn){const pn=new ResizeObserver(()=>{cancelAnimationFrame(dn),dn=window.requestAnimationFrame(un)});return pn.observe(tn),()=>{window.cancelAnimationFrame(dn),pn.unobserve(tn)}}},[tn,un])}var Root=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:tn,children:sn,...un},dn)=>jsxRuntimeExports.jsxs(Root,{ref:dn,className:cn("relative overflow-hidden",tn),...un,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:sn}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root.displayName;const ScrollBar=reactExports.forwardRef(({className:tn,orientation:sn="vertical",...un},dn)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:dn,orientation:sn,className:cn("flex touch-none select-none transition-colors",sn==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",sn==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",tn),...un,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;function EnhancedUserAnalytics(){var jn,Cn,An,Tn,$n,Dn,Nn,kn,Pn,Mn;const[tn,sn]=reactExports.useState("7"),[un,dn]=reactExports.useState("all"),[pn,mn]=reactExports.useState("all"),[hn,fn]=reactExports.useState("overview"),{data:gn,isLoading:xn}=useQuery({queryKey:["/api/enhanced-user-activity/enhanced-stats",tn],queryFn:async()=>{const On=await fetch(`/api/enhanced-user-activity/enhanced-stats?days=${tn}`,{credentials:"include"});if(!On.ok)throw new Error("Failed to fetch system stats");return On.json()},staleTime:6e4}),{data:yn,isLoading:vn}=useQuery({queryKey:["/api/enhanced-user-activity/detailed-users",tn],queryFn:async()=>{const On=await fetch(`/api/enhanced-user-activity/detailed-users?days=${tn}`,{credentials:"include"});if(!On.ok)throw new Error("Failed to fetch user activities");return On.json()},staleTime:3e4}),{data:En,isLoading:bn}=useQuery({queryKey:["/api/enhanced-user-activity/logs",un,pn,tn],queryFn:async()=>{const On=new URLSearchParams({days:tn,...un!=="all"&&{userId:un},...pn!=="all"&&{action:pn}}),Wn=await fetch(`/api/enhanced-user-activity/logs?${On}`,{credentials:"include"});if(!Wn.ok)throw new Error("Failed to fetch activity logs");return Wn.json()},staleTime:15e3}),{data:wn,isLoading:Sn}=useQuery({queryKey:["/api/enhanced-user-activity/user-stats",un,tn],queryFn:async()=>{const On=await fetch(`/api/enhanced-user-activity/user-stats/${un}?days=${tn}`,{credentials:"include"});if(!On.ok)throw new Error("Failed to fetch user stats");return On.json()},enabled:un!=="all",staleTime:3e4}),Rn=On=>({Dashboard:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Collections:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Communication:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Directory:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",Projects:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200",Analytics:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Admin:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Meetings:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"})[On]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",_n=On=>{switch(On){case"View":return jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"});case"Create":return jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"});case"Update":return jsxRuntimeExports.jsx(MousePointer,{className:"h-4 w-4"});case"Delete":return jsxRuntimeExports.jsx(Target,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4"})}};return xn||vn?jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((On,Wn)=>jsxRuntimeExports.jsxs(Card$1,{className:"animate-pulse",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-16 mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]})]},Wn))})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[jsxRuntimeExports.jsxs(Select,{value:tn,onValueChange:sn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select timeframe"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Last 24 hours"}),jsxRuntimeExports.jsx(SelectItem,{value:"7",children:"Last 7 days"}),jsxRuntimeExports.jsx(SelectItem,{value:"30",children:"Last 30 days"}),jsxRuntimeExports.jsx(SelectItem,{value:"90",children:"Last 90 days"})]})]}),jsxRuntimeExports.jsxs(Select,{value:un,onValueChange:dn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[200px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select user"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Users"}),yn==null?void 0:yn.map(On=>jsxRuntimeExports.jsx(SelectItem,{value:On.userId,children:On.firstName&&On.lastName?`${On.firstName} ${On.lastName}`:On.email},On.userId))]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>window.location.reload(),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4"}),"Refresh Data"]})]}),gn&&jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Users"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:gn.totalUsers}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[gn.activeUsersLast24h||gn.activeUsers," active (24h)"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600",children:[gn.activeUsersLast12h||0," active (12h)"]})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Actions"}),jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:gn.totalActions.toLocaleString()}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(gn.averageActionsPerUser)," avg per user"]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Top Section"}),jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:((Cn=(jn=gn.topSections)==null?void 0:jn[0])==null?void 0:Cn.section)||"N/A"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[((Tn=(An=gn.topSections)==null?void 0:An[0])==null?void 0:Tn.actions)||0," actions"]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Top Feature"}),jsxRuntimeExports.jsx(Target,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",children:((Dn=($n=gn.topFeatures)==null?void 0:$n[0])==null?void 0:Dn.feature)||"N/A"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[((kn=(Nn=gn.topFeatures)==null?void 0:Nn[0])==null?void 0:kn.usage)||0," uses"]})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:hn,onValueChange:fn,className:"space-y-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"User Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"activity",children:"Activity Logs"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"behavior",children:"Behavior Analysis"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"overview",className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"User Activity Summary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Overview of all users and their platform engagement"})]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(yn==null?void 0:yn.length)||0," total users"]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[700px]",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:yn==null?void 0:yn.map(On=>{var Wn;return jsxRuntimeExports.jsxs(Card$1,{className:"hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#236383] to-[#1a4b5c] text-white rounded-full flex items-center justify-center text-sm font-semibold",children:((Wn=On.firstName)==null?void 0:Wn[0])||On.email[0].toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm truncate",children:On.firstName&&On.lastName?`${On.firstName} ${On.lastName}`:On.email}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:On.email})]}),jsxRuntimeExports.jsx(Badge,{variant:On.totalActions>0?"default":"secondary",className:"text-xs",children:On.totalActions})]})}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold",children:On.sessionsCount})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Spent"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold",children:[Math.round(On.timeSpent),"m"]})]})]}),On.totalActions>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"TOP SECTION"}),jsxRuntimeExports.jsx(Badge,{className:Rn(On.topSection),variant:"outline",children:On.topSection})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"TOP FEATURE"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium truncate max-w-[120px]",children:On.topFeature})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Last Active"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:On.lastActive?formatDistanceToNow(new Date(On.lastActive),{addSuffix:!0}):"Never"})]})}),On.featuresUsed.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"FEATURES USED"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[On.featuresUsed.slice(0,3).map((In,Un)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs px-2 py-0",children:In},Un)),On.featuresUsed.length>3&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs px-2 py-0 bg-muted",children:["+",On.featuresUsed.length-3]})]})]})]})]},On.userId)})})})]}),jsxRuntimeExports.jsx(TabsContent,{value:"activity",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Recent Activity Log"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs(Select,{value:pn,onValueChange:mn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[150px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filter by action"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Actions"}),jsxRuntimeExports.jsx(SelectItem,{value:"View",children:"View"}),jsxRuntimeExports.jsx(SelectItem,{value:"Create",children:"Create"}),jsxRuntimeExports.jsx(SelectItem,{value:"Update",children:"Update"}),jsxRuntimeExports.jsx(SelectItem,{value:"Delete",children:"Delete"})]})]})})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-[600px]",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:En==null?void 0:En.map(On=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[_n(On.action),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:On.action})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:On.userName||"Unknown User"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[On.feature," in ",On.section,On.page&&` (${On.page})`]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:format$1(new Date(On.createdAt),"MMM dd, HH:mm")}),On.duration&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[On.duration,"s duration"]})]})]},On.id))})})})]})}),jsxRuntimeExports.jsxs(TabsContent,{value:"behavior",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-green-600"}),"Most Used Features"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Features with highest user engagement"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:((Pn=gn==null?void 0:gn.topFeatures)==null?void 0:Pn.filter(On=>On.feature&&On.feature!=="Unknown").slice(0,6).map((On,Wn)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${Wn===0?"bg-green-500":Wn===1?"bg-blue-500":Wn===2?"bg-purple-500":"bg-gray-400"}`}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:On.feature})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",children:On.usage}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:On.feature!=="Unknown"?"uses":"unknown"})]})]},Wn)))||jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No feature data available"})})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-5 w-5 text-blue-600"}),"Most Visited Sections"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform areas with highest traffic"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:((Mn=gn==null?void 0:gn.topSections)==null?void 0:Mn.filter(On=>On.section&&On.section!=="General"&&On.section!=="Unknown").slice(0,6).map((On,Wn)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Badge,{className:Rn(On.section),variant:"outline",children:On.section.replace("/api/","").replace("/","")}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold",children:On.actions||On.usage}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"actions"})]})]},Wn)))||jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"No section data available"})})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5 text-purple-600"}),"User Engagement"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall platform activity patterns"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{children:"Active Users"}),jsxRuntimeExports.jsxs("span",{children:[(gn==null?void 0:gn.activeUsers)||0," of ",(gn==null?void 0:gn.totalUsers)||0]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:jsxRuntimeExports.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${gn!=null&&gn.totalUsers?gn.activeUsers/gn.totalUsers*100:0}%`}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Average Actions per User"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Math.round((gn==null?void 0:gn.averageActionsPerUser)||0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Total Sessions"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold",children:(yn==null?void 0:yn.reduce((On,Wn)=>On+Wn.sessionsCount,0))||0})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-5 w-5 text-orange-600"}),un==="all"?"All Users Activity Breakdown":"Individual User Analysis"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:un==="all"?"Comprehensive platform usage overview":"Detailed activity analysis for selected user"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:un==="all"?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Active vs Inactive Users"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Active Users (with activity)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-green-600",children:(yn==null?void 0:yn.filter(On=>On.totalActions>0).length)||0})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Inactive Users (no activity)"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-red-600",children:(yn==null?void 0:yn.filter(On=>On.totalActions===0).length)||0})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Top Active Users"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:yn==null?void 0:yn.filter(On=>On.totalActions>0).slice(0,5).map((On,Wn)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm",children:[On.firstName," ",On.lastName]}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[On.totalActions," actions"]})]},On.userId))})]})]}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:un!=="all"&&yn&&(()=>{var Wn;const On=yn.find(In=>In.userId===un);return On?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Actions"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:On.totalActions})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Sessions"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:On.sessionsCount})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Features Used"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:On.featuresUsed.map((In,Un)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:In},Un))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Section Activity"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:(Wn=On.sectionBreakdown)==null?void 0:Wn.map((In,Un)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:In.section}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[In.actions," actions"]})]},Un))})]})]}):jsxRuntimeExports.jsx("p",{children:"User not found"})})()})})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Target,{className:"h-5 w-5 text-red-600"}),"Areas Needing Attention"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Features and sections that may need improvement"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Unused Features"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Platform features that haven't been accessed recently"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-red-50 text-red-600 border-red-200",children:"Unknown Features"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Consider user training or interface improvements"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2 text-orange-600",children:"Low Engagement"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Users with 0 actions"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-600",children:(yn==null?void 0:yn.filter(On=>On.totalActions===0).length)||0})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Users with 1-2 actions"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-600",children:(yn==null?void 0:yn.filter(On=>On.totalActions>0&&On.totalActions<=2).length)||0})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2 text-green-600",children:"Recommendations"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[jsxRuntimeExports.jsx("li",{children:"• Focus on onboarding inactive users"}),jsxRuntimeExports.jsx("li",{children:"• Improve discoverability of unused features"}),jsxRuntimeExports.jsx("li",{children:"• Analyze user paths to identify friction points"}),jsxRuntimeExports.jsx("li",{children:"• Consider user feedback for feature improvements"})]})]})]})})]})]})]})]})]})}function UserManagement(){const{user:tn}=useAuth(),{toast:sn}=useToast(),{celebration:un,hideCelebration:dn}=useCelebration(),[pn,mn]=reactExports.useState("users"),[hn,fn]=reactExports.useState(null),[gn,xn]=reactExports.useState(null),[yn,vn]=reactExports.useState("");if(!hasPermission(tn,PERMISSIONS.MANAGE_USERS))return jsxRuntimeExports.jsx(Card$1,{children:jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5"}),"Access Denied"]}),jsxRuntimeExports.jsx(CardDescription,{children:"You don't have permission to manage users."})]})});const{data:En=[],isLoading:bn}=useQuery({queryKey:["/api/users"],enabled:hasPermission(tn,PERMISSIONS.MANAGE_USERS)}),wn=useMutation({mutationFn:async $n=>apiRequest("PATCH",`/api/users/${$n.userId}`,{role:$n.role,permissions:$n.permissions}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/users"]}),sn({title:"User Updated",description:"User permissions have been successfully updated."}),fn(null)},onError:$n=>{sn({title:"Update Failed",description:$n.message,variant:"destructive"})}}),Sn=useMutation({mutationFn:async $n=>apiRequest("PATCH",`/api/users/${$n.userId}/status`,{isActive:$n.isActive}),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/users"]}),sn({title:"User Status Updated",description:"User status has been successfully changed."})}}),Rn=useMutation({mutationFn:async $n=>apiRequest("PUT","/api/auth/admin/reset-password",{userEmail:$n.userEmail,newPassword:$n.newPassword}),onSuccess:()=>{sn({title:"Password Reset",description:"Password has been successfully reset."}),xn(null),vn("")},onError:$n=>{sn({title:"Reset Failed",description:$n.message,variant:"destructive"})}}),_n=useMutation({mutationFn:async $n=>apiRequest("DELETE",`/api/users/${$n}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/users"]}),queryClient.refetchQueries({queryKey:["/api/users"]}),sn({title:"User Deleted",description:"User has been successfully deleted."})},onError:$n=>{sn({title:"Delete Failed",description:$n.message,variant:"destructive"})}}),jn=$n=>{fn($n)},Cn=()=>{!gn||!yn||Rn.mutate({userEmail:gn.email,newPassword:yn})},An=$n=>{window.confirm(`Are you sure you want to delete ${$n.firstName} ${$n.lastName}? This action cannot be undone.`)&&_n.mutate($n.id)},Tn=$n=>{switch($n){case USER_ROLES.ADMIN:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case USER_ROLES.COMMITTEE_MEMBER:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case USER_ROLES.VOLUNTEER:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case USER_ROLES.VIEWER:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return bn?jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"User Management"]})}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-8",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-slate-200",children:jsxRuntimeExports.jsxs("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>mn("users"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${pn==="users"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 inline mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"User Management"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Users"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>mn("activity"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${pn==="activity"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4 inline mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"User Activity"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Activity"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>mn("announcements"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${pn==="announcements"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(Megaphone,{className:"h-4 w-4 inline mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Announcements"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Announce"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>mn("shoutouts"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${pn==="shoutouts"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 inline mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"User Outreach"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Outreach"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>mn("auth-debug"),className:`py-2 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${pn==="auth-debug"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[jsxRuntimeExports.jsx(Bug,{className:"h-4 w-4 inline mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Auth Debug"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Debug"})]})]})}),pn==="announcements"?jsxRuntimeExports.jsx(AnnouncementManager,{}):pn==="activity"?jsxRuntimeExports.jsx(EnhancedUserAnalytics,{}):pn==="shoutouts"?jsxRuntimeExports.jsx(ShoutoutSystem,{}):pn==="auth-debug"?jsxRuntimeExports.jsx(AuthDebug,{}):jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"User Management"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage user roles and permissions for team members"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"User"}),jsxRuntimeExports.jsx(TableHead,{children:"Role"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Last Login"}),jsxRuntimeExports.jsx(TableHead,{children:"Joined"}),jsxRuntimeExports.jsx(TableHead,{children:"Actions"})]})}),jsxRuntimeExports.jsx(TableBody,{children:En.map($n=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[$n.firstName," ",$n.lastName]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:$n.email})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{className:Tn($n.role),children:getRoleDisplayName($n.role)})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:$n.isActive?"default":"secondary",children:$n.isActive?"Active":"Inactive"})}),jsxRuntimeExports.jsx(TableCell,{children:$n.lastLoginAt?new Date($n.lastLoginAt).toLocaleDateString()+" "+new Date($n.lastLoginAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):jsxRuntimeExports.jsx("span",{className:"text-gray-500 italic",children:"Never"})}),jsxRuntimeExports.jsx(TableCell,{children:new Date($n.createdAt).toLocaleDateString()}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>jn($n),children:[jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4 mr-1"}),"Edit"]}),jsxRuntimeExports.jsxs(Dialog,{open:(gn==null?void 0:gn.id)===$n.id,onOpenChange:Dn=>{Dn||(xn(null),vn(""))},children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>xn($n),children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4 mr-2"}),"Reset Password"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Reset Password"}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Reset password for ",$n.firstName," ",$n.lastName," (",$n.email,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"newPassword",children:"New Password"}),jsxRuntimeExports.jsx(Input,{id:"newPassword",type:"password",value:yn,onChange:Dn=>vn(Dn.target.value),placeholder:"Enter new password"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{xn(null),vn("")},children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Cn,disabled:!yn||Rn.isPending,children:Rn.isPending?"Resetting...":"Reset Password"})]})]})]})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>Sn.mutate({userId:$n.id,isActive:!$n.isActive}),children:$n.isActive?"Deactivate":"Activate"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>An($n),disabled:_n.isPending,className:"bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),_n.isPending?"Deleting...":"Delete"]})]})})]},$n.id))})]})})]}),jsxRuntimeExports.jsx(CelebrationToast,{isVisible:un.isVisible,onClose:dn,taskTitle:un.taskTitle,emoji:un.emoji,onSendThanks:$n=>{sn({title:"Thank you sent!",description:"Your appreciation message has been recorded."})}}),jsxRuntimeExports.jsx(SimplePermissionsDialog,{user:hn,open:!!hn,onOpenChange:$n=>{$n||fn(null)},onSave:($n,Dn,Nn)=>{wn.mutate({userId:$n,role:Dn,permissions:Nn})}})]})}var isCheckBoxInput=tn=>tn.type==="checkbox",isDateObject=tn=>tn instanceof Date,isNullOrUndefined=tn=>tn==null;const isObjectType=tn=>typeof tn=="object";var isObject$4=tn=>!isNullOrUndefined(tn)&&!Array.isArray(tn)&&isObjectType(tn)&&!isDateObject(tn),getEventValue=tn=>isObject$4(tn)&&tn.target?isCheckBoxInput(tn.target)?tn.target.checked:tn.target.value:tn,getNodeParentName=tn=>tn.substring(0,tn.search(/\.\d+(\.|$)/))||tn,isNameInFieldArray=(tn,sn)=>tn.has(getNodeParentName(sn)),isPlainObject$3=tn=>{const sn=tn.constructor&&tn.constructor.prototype;return isObject$4(sn)&&sn.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(tn){let sn;const un=Array.isArray(tn),dn=typeof FileList<"u"?tn instanceof FileList:!1;if(tn instanceof Date)sn=new Date(tn);else if(tn instanceof Set)sn=new Set(tn);else if(!(isWeb&&(tn instanceof Blob||dn))&&(un||isObject$4(tn)))if(sn=un?[]:{},!un&&!isPlainObject$3(tn))sn=tn;else for(const pn in tn)tn.hasOwnProperty(pn)&&(sn[pn]=cloneObject(tn[pn]));else return tn;return sn}var compact=tn=>Array.isArray(tn)?tn.filter(Boolean):[],isUndefined$1=tn=>tn===void 0,get$2=(tn,sn,un)=>{if(!sn||!isObject$4(tn))return un;const dn=compact(sn.split(/[,[\].]+?/)).reduce((pn,mn)=>isNullOrUndefined(pn)?pn:pn[mn],tn);return isUndefined$1(dn)||dn===tn?isUndefined$1(tn[sn])?un:tn[sn]:dn},isBoolean$1=tn=>typeof tn=="boolean",isKey=tn=>/^\w*$/.test(tn),stringToPath=tn=>compact(tn.replace(/["|']|\]/g,"").split(/\.|\[/)),set=(tn,sn,un)=>{let dn=-1;const pn=isKey(sn)?[sn]:stringToPath(sn),mn=pn.length,hn=mn-1;for(;++dn<mn;){const fn=pn[dn];let gn=un;if(dn!==hn){const xn=tn[fn];gn=isObject$4(xn)||Array.isArray(xn)?xn:isNaN(+pn[dn+1])?{}:[]}if(fn==="__proto__"||fn==="constructor"||fn==="prototype")return;tn[fn]=gn,tn=tn[fn]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React$1.createContext(null),useFormContext=()=>React$1.useContext(HookFormContext),FormProvider=tn=>{const{children:sn,...un}=tn;return React$1.createElement(HookFormContext.Provider,{value:un},sn)};var getProxyFormState=(tn,sn,un,dn=!0)=>{const pn={defaultValues:sn._defaultValues};for(const mn in tn)Object.defineProperty(pn,mn,{get:()=>{const hn=mn;return sn._proxyFormState[hn]!==VALIDATION_MODE.all&&(sn._proxyFormState[hn]=!dn||VALIDATION_MODE.all),un&&(un[hn]=!0),tn[hn]}});return pn};function useFormState(tn){const sn=useFormContext(),{control:un=sn.control,disabled:dn,name:pn,exact:mn}=tn||{},[hn,fn]=React$1.useState(un._formState),gn=React$1.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),xn=React$1.useRef(pn);return xn.current=pn,React$1.useEffect(()=>un._subscribe({name:xn.current,formState:gn.current,exact:mn,callback:yn=>{!dn&&fn({...un._formState,...yn})}}),[un,dn,mn]),React$1.useEffect(()=>{gn.current.isValid&&un._setValid(!0)},[un]),React$1.useMemo(()=>getProxyFormState(hn,un,gn.current,!1),[hn,un])}var isString$2=tn=>typeof tn=="string",generateWatchOutput=(tn,sn,un,dn,pn)=>isString$2(tn)?(dn&&sn.watch.add(tn),get$2(un,tn,pn)):Array.isArray(tn)?tn.map(mn=>(dn&&sn.watch.add(mn),get$2(un,mn))):(dn&&(sn.watchAll=!0),un);function useWatch(tn){const sn=useFormContext(),{control:un=sn.control,name:dn,defaultValue:pn,disabled:mn,exact:hn}=tn||{},fn=React$1.useRef(dn),gn=React$1.useRef(pn);fn.current=dn,React$1.useEffect(()=>un._subscribe({name:fn.current,formState:{values:!0},exact:hn,callback:vn=>!mn&&yn(generateWatchOutput(fn.current,un._names,vn.values||un._formValues,!1,gn.current))}),[un,mn,hn]);const[xn,yn]=React$1.useState(un._getWatch(dn,pn));return React$1.useEffect(()=>un._removeUnmounted()),xn}function useController(tn){const sn=useFormContext(),{name:un,disabled:dn,control:pn=sn.control,shouldUnregister:mn}=tn,hn=isNameInFieldArray(pn._names.array,un),fn=useWatch({control:pn,name:un,defaultValue:get$2(pn._formValues,un,get$2(pn._defaultValues,un,tn.defaultValue)),exact:!0}),gn=useFormState({control:pn,name:un,exact:!0}),xn=React$1.useRef(tn),yn=React$1.useRef(pn.register(un,{...tn.rules,value:fn,...isBoolean$1(tn.disabled)?{disabled:tn.disabled}:{}})),vn=React$1.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get$2(gn.errors,un)},isDirty:{enumerable:!0,get:()=>!!get$2(gn.dirtyFields,un)},isTouched:{enumerable:!0,get:()=>!!get$2(gn.touchedFields,un)},isValidating:{enumerable:!0,get:()=>!!get$2(gn.validatingFields,un)},error:{enumerable:!0,get:()=>get$2(gn.errors,un)}}),[gn,un]),En=React$1.useCallback(Rn=>yn.current.onChange({target:{value:getEventValue(Rn),name:un},type:EVENTS.CHANGE}),[un]),bn=React$1.useCallback(()=>yn.current.onBlur({target:{value:get$2(pn._formValues,un),name:un},type:EVENTS.BLUR}),[un,pn._formValues]),wn=React$1.useCallback(Rn=>{const _n=get$2(pn._fields,un);_n&&Rn&&(_n._f.ref={focus:()=>Rn.focus(),select:()=>Rn.select(),setCustomValidity:jn=>Rn.setCustomValidity(jn),reportValidity:()=>Rn.reportValidity()})},[pn._fields,un]),Sn=React$1.useMemo(()=>({name:un,value:fn,...isBoolean$1(dn)||gn.disabled?{disabled:gn.disabled||dn}:{},onChange:En,onBlur:bn,ref:wn}),[un,dn,gn.disabled,En,bn,wn,fn]);return React$1.useEffect(()=>{const Rn=pn._options.shouldUnregister||mn;pn.register(un,{...xn.current.rules,...isBoolean$1(xn.current.disabled)?{disabled:xn.current.disabled}:{}});const _n=(jn,Cn)=>{const An=get$2(pn._fields,jn);An&&An._f&&(An._f.mount=Cn)};if(_n(un,!0),Rn){const jn=cloneObject(get$2(pn._options.defaultValues,un));set(pn._defaultValues,un,jn),isUndefined$1(get$2(pn._formValues,un))&&set(pn._formValues,un,jn)}return!hn&&pn.register(un),()=>{(hn?Rn&&!pn._state.action:Rn)?pn.unregister(un):_n(un,!1)}},[un,pn,hn,mn]),React$1.useEffect(()=>{pn._setDisabledField({disabled:dn,name:un})},[dn,un,pn]),React$1.useMemo(()=>({field:Sn,formState:gn,fieldState:vn}),[Sn,gn,vn])}const Controller=tn=>tn.render(useController(tn));var appendErrors=(tn,sn,un,dn,pn)=>sn?{...un[tn],types:{...un[tn]&&un[tn].types?un[tn].types:{},[dn]:pn||!0}}:{},convertToArrayPayload=tn=>Array.isArray(tn)?tn:[tn],createSubject=()=>{let tn=[];return{get observers(){return tn},next:pn=>{for(const mn of tn)mn.next&&mn.next(pn)},subscribe:pn=>(tn.push(pn),{unsubscribe:()=>{tn=tn.filter(mn=>mn!==pn)}}),unsubscribe:()=>{tn=[]}}},isPrimitive=tn=>isNullOrUndefined(tn)||!isObjectType(tn);function deepEqual(tn,sn){if(isPrimitive(tn)||isPrimitive(sn))return tn===sn;if(isDateObject(tn)&&isDateObject(sn))return tn.getTime()===sn.getTime();const un=Object.keys(tn),dn=Object.keys(sn);if(un.length!==dn.length)return!1;for(const pn of un){const mn=tn[pn];if(!dn.includes(pn))return!1;if(pn!=="ref"){const hn=sn[pn];if(isDateObject(mn)&&isDateObject(hn)||isObject$4(mn)&&isObject$4(hn)||Array.isArray(mn)&&Array.isArray(hn)?!deepEqual(mn,hn):mn!==hn)return!1}}return!0}var isEmptyObject=tn=>isObject$4(tn)&&!Object.keys(tn).length,isFileInput=tn=>tn.type==="file",isFunction$1=tn=>typeof tn=="function",isHTMLElement$1=tn=>{if(!isWeb)return!1;const sn=tn?tn.ownerDocument:0;return tn instanceof(sn&&sn.defaultView?sn.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=tn=>tn.type==="select-multiple",isRadioInput=tn=>tn.type==="radio",isRadioOrCheckbox=tn=>isRadioInput(tn)||isCheckBoxInput(tn),live$c=tn=>isHTMLElement$1(tn)&&tn.isConnected;function baseGet(tn,sn){const un=sn.slice(0,-1).length;let dn=0;for(;dn<un;)tn=isUndefined$1(tn)?dn++:tn[sn[dn++]];return tn}function isEmptyArray(tn){for(const sn in tn)if(tn.hasOwnProperty(sn)&&!isUndefined$1(tn[sn]))return!1;return!0}function unset(tn,sn){const un=Array.isArray(sn)?sn:isKey(sn)?[sn]:stringToPath(sn),dn=un.length===1?tn:baseGet(tn,un),pn=un.length-1,mn=un[pn];return dn&&delete dn[mn],pn!==0&&(isObject$4(dn)&&isEmptyObject(dn)||Array.isArray(dn)&&isEmptyArray(dn))&&unset(tn,un.slice(0,-1)),tn}var objectHasFunction=tn=>{for(const sn in tn)if(isFunction$1(tn[sn]))return!0;return!1};function markFieldsDirty(tn,sn={}){const un=Array.isArray(tn);if(isObject$4(tn)||un)for(const dn in tn)Array.isArray(tn[dn])||isObject$4(tn[dn])&&!objectHasFunction(tn[dn])?(sn[dn]=Array.isArray(tn[dn])?[]:{},markFieldsDirty(tn[dn],sn[dn])):isNullOrUndefined(tn[dn])||(sn[dn]=!0);return sn}function getDirtyFieldsFromDefaultValues(tn,sn,un){const dn=Array.isArray(tn);if(isObject$4(tn)||dn)for(const pn in tn)Array.isArray(tn[pn])||isObject$4(tn[pn])&&!objectHasFunction(tn[pn])?isUndefined$1(sn)||isPrimitive(un[pn])?un[pn]=Array.isArray(tn[pn])?markFieldsDirty(tn[pn],[]):{...markFieldsDirty(tn[pn])}:getDirtyFieldsFromDefaultValues(tn[pn],isNullOrUndefined(sn)?{}:sn[pn],un[pn]):un[pn]=!deepEqual(tn[pn],sn[pn]);return un}var getDirtyFields=(tn,sn)=>getDirtyFieldsFromDefaultValues(tn,sn,markFieldsDirty(sn));const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=tn=>{if(Array.isArray(tn)){if(tn.length>1){const sn=tn.filter(un=>un&&un.checked&&!un.disabled).map(un=>un.value);return{value:sn,isValid:!!sn.length}}return tn[0].checked&&!tn[0].disabled?tn[0].attributes&&!isUndefined$1(tn[0].attributes.value)?isUndefined$1(tn[0].value)||tn[0].value===""?validResult:{value:tn[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(tn,{valueAsNumber:sn,valueAsDate:un,setValueAs:dn})=>isUndefined$1(tn)?tn:sn?tn===""?NaN:tn&&+tn:un&&isString$2(tn)?new Date(tn):dn?dn(tn):tn;const defaultReturn={isValid:!1,value:null};var getRadioValue=tn=>Array.isArray(tn)?tn.reduce((sn,un)=>un&&un.checked&&!un.disabled?{isValid:!0,value:un.value}:sn,defaultReturn):defaultReturn;function getFieldValue(tn){const sn=tn.ref;return isFileInput(sn)?sn.files:isRadioInput(sn)?getRadioValue(tn.refs).value:isMultipleSelect(sn)?[...sn.selectedOptions].map(({value:un})=>un):isCheckBoxInput(sn)?getCheckboxValue(tn.refs).value:getFieldValueAs(isUndefined$1(sn.value)?tn.ref.value:sn.value,tn)}var getResolverOptions=(tn,sn,un,dn)=>{const pn={};for(const mn of tn){const hn=get$2(sn,mn);hn&&set(pn,mn,hn._f)}return{criteriaMode:un,names:[...tn],fields:pn,shouldUseNativeValidation:dn}},isRegex=tn=>tn instanceof RegExp,getRuleValue=tn=>isUndefined$1(tn)?tn:isRegex(tn)?tn.source:isObject$4(tn)?isRegex(tn.value)?tn.value.source:tn.value:tn,getValidationModes=tn=>({isOnSubmit:!tn||tn===VALIDATION_MODE.onSubmit,isOnBlur:tn===VALIDATION_MODE.onBlur,isOnChange:tn===VALIDATION_MODE.onChange,isOnAll:tn===VALIDATION_MODE.all,isOnTouch:tn===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=tn=>!!tn&&!!tn.validate&&!!(isFunction$1(tn.validate)&&tn.validate.constructor.name===ASYNC_FUNCTION||isObject$4(tn.validate)&&Object.values(tn.validate).find(sn=>sn.constructor.name===ASYNC_FUNCTION)),hasValidation=tn=>tn.mount&&(tn.required||tn.min||tn.max||tn.maxLength||tn.minLength||tn.pattern||tn.validate),isWatched=(tn,sn,un)=>!un&&(sn.watchAll||sn.watch.has(tn)||[...sn.watch].some(dn=>tn.startsWith(dn)&&/^\.\w+/.test(tn.slice(dn.length))));const iterateFieldsByAction=(tn,sn,un,dn)=>{for(const pn of un||Object.keys(tn)){const mn=get$2(tn,pn);if(mn){const{_f:hn,...fn}=mn;if(hn){if(hn.refs&&hn.refs[0]&&sn(hn.refs[0],pn)&&!dn)return!0;if(hn.ref&&sn(hn.ref,hn.name)&&!dn)return!0;if(iterateFieldsByAction(fn,sn))break}else if(isObject$4(fn)&&iterateFieldsByAction(fn,sn))break}}};function schemaErrorLookup(tn,sn,un){const dn=get$2(tn,un);if(dn||isKey(un))return{error:dn,name:un};const pn=un.split(".");for(;pn.length;){const mn=pn.join("."),hn=get$2(sn,mn),fn=get$2(tn,mn);if(hn&&!Array.isArray(hn)&&un!==mn)return{name:un};if(fn&&fn.type)return{name:mn,error:fn};pn.pop()}return{name:un}}var shouldRenderFormState=(tn,sn,un,dn)=>{un(tn);const{name:pn,...mn}=tn;return isEmptyObject(mn)||Object.keys(mn).length>=Object.keys(sn).length||Object.keys(mn).find(hn=>sn[hn]===(!dn||VALIDATION_MODE.all))},shouldSubscribeByName=(tn,sn,un)=>!tn||!sn||tn===sn||convertToArrayPayload(tn).some(dn=>dn&&(un?dn===sn:dn.startsWith(sn)||sn.startsWith(dn))),skipValidation=(tn,sn,un,dn,pn)=>pn.isOnAll?!1:!un&&pn.isOnTouch?!(sn||tn):(un?dn.isOnBlur:pn.isOnBlur)?!tn:(un?dn.isOnChange:pn.isOnChange)?tn:!0,unsetEmptyArray=(tn,sn)=>!compact(get$2(tn,sn)).length&&unset(tn,sn),updateFieldArrayRootError=(tn,sn,un)=>{const dn=convertToArrayPayload(get$2(tn,un));return set(dn,"root",sn[un]),set(tn,un,dn),tn},isMessage=tn=>isString$2(tn);function getValidateError(tn,sn,un="validate"){if(isMessage(tn)||Array.isArray(tn)&&tn.every(isMessage)||isBoolean$1(tn)&&!tn)return{type:un,message:isMessage(tn)?tn:"",ref:sn}}var getValueAndMessage=tn=>isObject$4(tn)&&!isRegex(tn)?tn:{value:tn,message:""},validateField=async(tn,sn,un,dn,pn,mn)=>{const{ref:hn,refs:fn,required:gn,maxLength:xn,minLength:yn,min:vn,max:En,pattern:bn,validate:wn,name:Sn,valueAsNumber:Rn,mount:_n}=tn._f,jn=get$2(un,Sn);if(!_n||sn.has(Sn))return{};const Cn=fn?fn[0]:hn,An=On=>{pn&&Cn.reportValidity&&(Cn.setCustomValidity(isBoolean$1(On)?"":On||""),Cn.reportValidity())},Tn={},$n=isRadioInput(hn),Dn=isCheckBoxInput(hn),Nn=$n||Dn,kn=(Rn||isFileInput(hn))&&isUndefined$1(hn.value)&&isUndefined$1(jn)||isHTMLElement$1(hn)&&hn.value===""||jn===""||Array.isArray(jn)&&!jn.length,Pn=appendErrors.bind(null,Sn,dn,Tn),Mn=(On,Wn,In,Un=INPUT_VALIDATION_RULES.maxLength,Vn=INPUT_VALIDATION_RULES.minLength)=>{const Hn=On?Wn:In;Tn[Sn]={type:On?Un:Vn,message:Hn,ref:hn,...Pn(On?Un:Vn,Hn)}};if(mn?!Array.isArray(jn)||!jn.length:gn&&(!Nn&&(kn||isNullOrUndefined(jn))||isBoolean$1(jn)&&!jn||Dn&&!getCheckboxValue(fn).isValid||$n&&!getRadioValue(fn).isValid)){const{value:On,message:Wn}=isMessage(gn)?{value:!!gn,message:gn}:getValueAndMessage(gn);if(On&&(Tn[Sn]={type:INPUT_VALIDATION_RULES.required,message:Wn,ref:Cn,...Pn(INPUT_VALIDATION_RULES.required,Wn)},!dn))return An(Wn),Tn}if(!kn&&(!isNullOrUndefined(vn)||!isNullOrUndefined(En))){let On,Wn;const In=getValueAndMessage(En),Un=getValueAndMessage(vn);if(!isNullOrUndefined(jn)&&!isNaN(jn)){const Vn=hn.valueAsNumber||jn&&+jn;isNullOrUndefined(In.value)||(On=Vn>In.value),isNullOrUndefined(Un.value)||(Wn=Vn<Un.value)}else{const Vn=hn.valueAsDate||new Date(jn),Hn=Bn=>new Date(new Date().toDateString()+" "+Bn),Ln=hn.type=="time",zn=hn.type=="week";isString$2(In.value)&&jn&&(On=Ln?Hn(jn)>Hn(In.value):zn?jn>In.value:Vn>new Date(In.value)),isString$2(Un.value)&&jn&&(Wn=Ln?Hn(jn)<Hn(Un.value):zn?jn<Un.value:Vn<new Date(Un.value))}if((On||Wn)&&(Mn(!!On,In.message,Un.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!dn))return An(Tn[Sn].message),Tn}if((xn||yn)&&!kn&&(isString$2(jn)||mn&&Array.isArray(jn))){const On=getValueAndMessage(xn),Wn=getValueAndMessage(yn),In=!isNullOrUndefined(On.value)&&jn.length>+On.value,Un=!isNullOrUndefined(Wn.value)&&jn.length<+Wn.value;if((In||Un)&&(Mn(In,On.message,Wn.message),!dn))return An(Tn[Sn].message),Tn}if(bn&&!kn&&isString$2(jn)){const{value:On,message:Wn}=getValueAndMessage(bn);if(isRegex(On)&&!jn.match(On)&&(Tn[Sn]={type:INPUT_VALIDATION_RULES.pattern,message:Wn,ref:hn,...Pn(INPUT_VALIDATION_RULES.pattern,Wn)},!dn))return An(Wn),Tn}if(wn){if(isFunction$1(wn)){const On=await wn(jn,un),Wn=getValidateError(On,Cn);if(Wn&&(Tn[Sn]={...Wn,...Pn(INPUT_VALIDATION_RULES.validate,Wn.message)},!dn))return An(Wn.message),Tn}else if(isObject$4(wn)){let On={};for(const Wn in wn){if(!isEmptyObject(On)&&!dn)break;const In=getValidateError(await wn[Wn](jn,un),Cn,Wn);In&&(On={...In,...Pn(Wn,In.message)},An(In.message),dn&&(Tn[Sn]=On))}if(!isEmptyObject(On)&&(Tn[Sn]={ref:Cn,...On},!dn))return Tn}}return An(!0),Tn};const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(tn={}){let sn={...defaultOptions,...tn},un={submitCount:0,isDirty:!1,isLoading:isFunction$1(sn.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:sn.errors||{},disabled:sn.disabled||!1};const dn={};let pn=isObject$4(sn.defaultValues)||isObject$4(sn.values)?cloneObject(sn.values||sn.defaultValues)||{}:{},mn=sn.shouldUnregister?{}:cloneObject(pn),hn={action:!1,mount:!1,watch:!1},fn={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},gn,xn=0;const yn={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let vn={...yn};const En={array:createSubject(),state:createSubject()},bn=getValidationModes(sn.mode),wn=getValidationModes(sn.reValidateMode),Sn=sn.criteriaMode===VALIDATION_MODE.all,Rn=ar=>pr=>{clearTimeout(xn),xn=setTimeout(ar,pr)},_n=async ar=>{if(!sn.disabled&&(yn.isValid||vn.isValid||ar)){const pr=sn.resolver?isEmptyObject((await kn()).errors):await Mn(dn,!0);pr!==un.isValid&&En.state.next({isValid:pr})}},jn=(ar,pr)=>{!sn.disabled&&(yn.isValidating||yn.validatingFields||vn.isValidating||vn.validatingFields)&&((ar||Array.from(fn.mount)).forEach(Xn=>{Xn&&(pr?set(un.validatingFields,Xn,pr):unset(un.validatingFields,Xn))}),En.state.next({validatingFields:un.validatingFields,isValidating:!isEmptyObject(un.validatingFields)}))},Cn=(ar,pr=[],Xn,$r,lr=!0,gr=!0)=>{if($r&&Xn&&!sn.disabled){if(hn.action=!0,gr&&Array.isArray(get$2(dn,ar))){const _r=Xn(get$2(dn,ar),$r.argA,$r.argB);lr&&set(dn,ar,_r)}if(gr&&Array.isArray(get$2(un.errors,ar))){const _r=Xn(get$2(un.errors,ar),$r.argA,$r.argB);lr&&set(un.errors,ar,_r),unsetEmptyArray(un.errors,ar)}if((yn.touchedFields||vn.touchedFields)&&gr&&Array.isArray(get$2(un.touchedFields,ar))){const _r=Xn(get$2(un.touchedFields,ar),$r.argA,$r.argB);lr&&set(un.touchedFields,ar,_r)}(yn.dirtyFields||vn.dirtyFields)&&(un.dirtyFields=getDirtyFields(pn,mn)),En.state.next({name:ar,isDirty:Wn(ar,pr),dirtyFields:un.dirtyFields,errors:un.errors,isValid:un.isValid})}else set(mn,ar,pr)},An=(ar,pr)=>{set(un.errors,ar,pr),En.state.next({errors:un.errors})},Tn=ar=>{un.errors=ar,En.state.next({errors:un.errors,isValid:!1})},$n=(ar,pr,Xn,$r)=>{const lr=get$2(dn,ar);if(lr){const gr=get$2(mn,ar,isUndefined$1(Xn)?get$2(pn,ar):Xn);isUndefined$1(gr)||$r&&$r.defaultChecked||pr?set(mn,ar,pr?gr:getFieldValue(lr._f)):Vn(ar,gr),hn.mount&&_n()}},Dn=(ar,pr,Xn,$r,lr)=>{let gr=!1,_r=!1;const Hr={name:ar};if(!sn.disabled){if(!Xn||$r){(yn.isDirty||vn.isDirty)&&(_r=un.isDirty,un.isDirty=Hr.isDirty=Wn(),gr=_r!==Hr.isDirty);const Vr=deepEqual(get$2(pn,ar),pr);_r=!!get$2(un.dirtyFields,ar),Vr?unset(un.dirtyFields,ar):set(un.dirtyFields,ar,!0),Hr.dirtyFields=un.dirtyFields,gr=gr||(yn.dirtyFields||vn.dirtyFields)&&_r!==!Vr}if(Xn){const Vr=get$2(un.touchedFields,ar);Vr||(set(un.touchedFields,ar,Xn),Hr.touchedFields=un.touchedFields,gr=gr||(yn.touchedFields||vn.touchedFields)&&Vr!==Xn)}gr&&lr&&En.state.next(Hr)}return gr?Hr:{}},Nn=(ar,pr,Xn,$r)=>{const lr=get$2(un.errors,ar),gr=(yn.isValid||vn.isValid)&&isBoolean$1(pr)&&un.isValid!==pr;if(sn.delayError&&Xn?(gn=Rn(()=>An(ar,Xn)),gn(sn.delayError)):(clearTimeout(xn),gn=null,Xn?set(un.errors,ar,Xn):unset(un.errors,ar)),(Xn?!deepEqual(lr,Xn):lr)||!isEmptyObject($r)||gr){const _r={...$r,...gr&&isBoolean$1(pr)?{isValid:pr}:{},errors:un.errors,name:ar};un={...un,..._r},En.state.next(_r)}},kn=async ar=>{jn(ar,!0);const pr=await sn.resolver(mn,sn.context,getResolverOptions(ar||fn.mount,dn,sn.criteriaMode,sn.shouldUseNativeValidation));return jn(ar),pr},Pn=async ar=>{const{errors:pr}=await kn(ar);if(ar)for(const Xn of ar){const $r=get$2(pr,Xn);$r?set(un.errors,Xn,$r):unset(un.errors,Xn)}else un.errors=pr;return pr},Mn=async(ar,pr,Xn={valid:!0})=>{for(const $r in ar){const lr=ar[$r];if(lr){const{_f:gr,..._r}=lr;if(gr){const Hr=fn.array.has(gr.name),Vr=lr._f&&hasPromiseValidation(lr._f);Vr&&yn.validatingFields&&jn([$r],!0);const ss=await validateField(lr,fn.disabled,mn,Sn,sn.shouldUseNativeValidation&&!pr,Hr);if(Vr&&yn.validatingFields&&jn([$r]),ss[gr.name]&&(Xn.valid=!1,pr))break;!pr&&(get$2(ss,gr.name)?Hr?updateFieldArrayRootError(un.errors,ss,gr.name):set(un.errors,gr.name,ss[gr.name]):unset(un.errors,gr.name))}!isEmptyObject(_r)&&await Mn(_r,pr,Xn)}}return Xn.valid},On=()=>{for(const ar of fn.unMount){const pr=get$2(dn,ar);pr&&(pr._f.refs?pr._f.refs.every(Xn=>!live$c(Xn)):!live$c(pr._f.ref))&&xr(ar)}fn.unMount=new Set},Wn=(ar,pr)=>!sn.disabled&&(ar&&pr&&set(mn,ar,pr),!deepEqual(Gn(),pn)),In=(ar,pr,Xn)=>generateWatchOutput(ar,fn,{...hn.mount?mn:isUndefined$1(pr)?pn:isString$2(ar)?{[ar]:pr}:pr},Xn,pr),Un=ar=>compact(get$2(hn.mount?mn:pn,ar,sn.shouldUnregister?get$2(pn,ar,[]):[])),Vn=(ar,pr,Xn={})=>{const $r=get$2(dn,ar);let lr=pr;if($r){const gr=$r._f;gr&&(!gr.disabled&&set(mn,ar,getFieldValueAs(pr,gr)),lr=isHTMLElement$1(gr.ref)&&isNullOrUndefined(pr)?"":pr,isMultipleSelect(gr.ref)?[...gr.ref.options].forEach(_r=>_r.selected=lr.includes(_r.value)):gr.refs?isCheckBoxInput(gr.ref)?gr.refs.length>1?gr.refs.forEach(_r=>(!_r.defaultChecked||!_r.disabled)&&(_r.checked=Array.isArray(lr)?!!lr.find(Hr=>Hr===_r.value):lr===_r.value)):gr.refs[0]&&(gr.refs[0].checked=!!lr):gr.refs.forEach(_r=>_r.checked=_r.value===lr):isFileInput(gr.ref)?gr.ref.value="":(gr.ref.value=lr,gr.ref.type||En.state.next({name:ar,values:cloneObject(mn)})))}(Xn.shouldDirty||Xn.shouldTouch)&&Dn(ar,lr,Xn.shouldTouch,Xn.shouldDirty,!0),Xn.shouldValidate&&Fn(ar)},Hn=(ar,pr,Xn)=>{for(const $r in pr){const lr=pr[$r],gr=`${ar}.${$r}`,_r=get$2(dn,gr);(fn.array.has(ar)||isObject$4(lr)||_r&&!_r._f)&&!isDateObject(lr)?Hn(gr,lr,Xn):Vn(gr,lr,Xn)}},Ln=(ar,pr,Xn={})=>{const $r=get$2(dn,ar),lr=fn.array.has(ar),gr=cloneObject(pr);set(mn,ar,gr),lr?(En.array.next({name:ar,values:cloneObject(mn)}),(yn.isDirty||yn.dirtyFields||vn.isDirty||vn.dirtyFields)&&Xn.shouldDirty&&En.state.next({name:ar,dirtyFields:getDirtyFields(pn,mn),isDirty:Wn(ar,gr)})):$r&&!$r._f&&!isNullOrUndefined(gr)?Hn(ar,gr,Xn):Vn(ar,gr,Xn),isWatched(ar,fn)&&En.state.next({...un}),En.state.next({name:hn.mount?ar:void 0,values:cloneObject(mn)})},zn=async ar=>{hn.mount=!0;const pr=ar.target;let Xn=pr.name,$r=!0;const lr=get$2(dn,Xn),gr=_r=>{$r=Number.isNaN(_r)||isDateObject(_r)&&isNaN(_r.getTime())||deepEqual(_r,get$2(mn,Xn,_r))};if(lr){let _r,Hr;const Vr=pr.type?getFieldValue(lr._f):getEventValue(ar),ss=ar.type===EVENTS.BLUR||ar.type===EVENTS.FOCUS_OUT,Rs=!hasValidation(lr._f)&&!sn.resolver&&!get$2(un.errors,Xn)&&!lr._f.deps||skipValidation(ss,get$2(un.touchedFields,Xn),un.isSubmitted,wn,bn),Cs=isWatched(Xn,fn,ss);set(mn,Xn,Vr),ss?(lr._f.onBlur&&lr._f.onBlur(ar),gn&&gn(0)):lr._f.onChange&&lr._f.onChange(ar);const Ps=Dn(Xn,Vr,ss),js=!isEmptyObject(Ps)||Cs;if(!ss&&En.state.next({name:Xn,type:ar.type,values:cloneObject(mn)}),Rs)return(yn.isValid||vn.isValid)&&(sn.mode==="onBlur"?ss&&_n():ss||_n()),js&&En.state.next({name:Xn,...Cs?{}:Ps});if(!ss&&Cs&&En.state.next({...un}),sn.resolver){const{errors:ms}=await kn([Xn]);if(gr(Vr),$r){const ks=schemaErrorLookup(un.errors,dn,Xn),Nr=schemaErrorLookup(ms,dn,ks.name||Xn);_r=Nr.error,Xn=Nr.name,Hr=isEmptyObject(ms)}}else jn([Xn],!0),_r=(await validateField(lr,fn.disabled,mn,Sn,sn.shouldUseNativeValidation))[Xn],jn([Xn]),gr(Vr),$r&&(_r?Hr=!1:(yn.isValid||vn.isValid)&&(Hr=await Mn(dn,!0)));$r&&(lr._f.deps&&Fn(lr._f.deps),Nn(Xn,Hr,_r,Ps))}},Bn=(ar,pr)=>{if(get$2(un.errors,pr)&&ar.focus)return ar.focus(),1},Fn=async(ar,pr={})=>{let Xn,$r;const lr=convertToArrayPayload(ar);if(sn.resolver){const gr=await Pn(isUndefined$1(ar)?ar:lr);Xn=isEmptyObject(gr),$r=ar?!lr.some(_r=>get$2(gr,_r)):Xn}else ar?($r=(await Promise.all(lr.map(async gr=>{const _r=get$2(dn,gr);return await Mn(_r&&_r._f?{[gr]:_r}:_r)}))).every(Boolean),!(!$r&&!un.isValid)&&_n()):$r=Xn=await Mn(dn);return En.state.next({...!isString$2(ar)||(yn.isValid||vn.isValid)&&Xn!==un.isValid?{}:{name:ar},...sn.resolver||!ar?{isValid:Xn}:{},errors:un.errors}),pr.shouldFocus&&!$r&&iterateFieldsByAction(dn,Bn,ar?lr:fn.mount),$r},Gn=ar=>{const pr={...hn.mount?mn:pn};return isUndefined$1(ar)?pr:isString$2(ar)?get$2(pr,ar):ar.map(Xn=>get$2(pr,Xn))},qn=(ar,pr)=>({invalid:!!get$2((pr||un).errors,ar),isDirty:!!get$2((pr||un).dirtyFields,ar),error:get$2((pr||un).errors,ar),isValidating:!!get$2(un.validatingFields,ar),isTouched:!!get$2((pr||un).touchedFields,ar)}),Jn=ar=>{ar&&convertToArrayPayload(ar).forEach(pr=>unset(un.errors,pr)),En.state.next({errors:ar?un.errors:{}})},dr=(ar,pr,Xn)=>{const $r=(get$2(dn,ar,{_f:{}})._f||{}).ref,lr=get$2(un.errors,ar)||{},{ref:gr,message:_r,type:Hr,...Vr}=lr;set(un.errors,ar,{...Vr,...pr,ref:$r}),En.state.next({name:ar,errors:un.errors,isValid:!1}),Xn&&Xn.shouldFocus&&$r&&$r.focus&&$r.focus()},br=(ar,pr)=>isFunction$1(ar)?En.state.subscribe({next:Xn=>ar(In(void 0,pr),Xn)}):In(ar,pr,!0),Er=ar=>En.state.subscribe({next:pr=>{shouldSubscribeByName(ar.name,pr.name,ar.exact)&&shouldRenderFormState(pr,ar.formState||yn,Fr,ar.reRenderRoot)&&ar.callback({values:{...mn},...un,...pr})}}).unsubscribe,yr=ar=>(hn.mount=!0,vn={...vn,...ar.formState},Er({...ar,formState:vn})),xr=(ar,pr={})=>{for(const Xn of ar?convertToArrayPayload(ar):fn.mount)fn.mount.delete(Xn),fn.array.delete(Xn),pr.keepValue||(unset(dn,Xn),unset(mn,Xn)),!pr.keepError&&unset(un.errors,Xn),!pr.keepDirty&&unset(un.dirtyFields,Xn),!pr.keepTouched&&unset(un.touchedFields,Xn),!pr.keepIsValidating&&unset(un.validatingFields,Xn),!sn.shouldUnregister&&!pr.keepDefaultValue&&unset(pn,Xn);En.state.next({values:cloneObject(mn)}),En.state.next({...un,...pr.keepDirty?{isDirty:Wn()}:{}}),!pr.keepIsValid&&_n()},vr=({disabled:ar,name:pr})=>{(isBoolean$1(ar)&&hn.mount||ar||fn.disabled.has(pr))&&(ar?fn.disabled.add(pr):fn.disabled.delete(pr))},nr=(ar,pr={})=>{let Xn=get$2(dn,ar);const $r=isBoolean$1(pr.disabled)||isBoolean$1(sn.disabled);return set(dn,ar,{...Xn||{},_f:{...Xn&&Xn._f?Xn._f:{ref:{name:ar}},name:ar,mount:!0,...pr}}),fn.mount.add(ar),Xn?vr({disabled:isBoolean$1(pr.disabled)?pr.disabled:sn.disabled,name:ar}):$n(ar,!0,pr.value),{...$r?{disabled:pr.disabled||sn.disabled}:{},...sn.progressive?{required:!!pr.required,min:getRuleValue(pr.min),max:getRuleValue(pr.max),minLength:getRuleValue(pr.minLength),maxLength:getRuleValue(pr.maxLength),pattern:getRuleValue(pr.pattern)}:{},name:ar,onChange:zn,onBlur:zn,ref:lr=>{if(lr){nr(ar,pr),Xn=get$2(dn,ar);const gr=isUndefined$1(lr.value)&&lr.querySelectorAll&&lr.querySelectorAll("input,select,textarea")[0]||lr,_r=isRadioOrCheckbox(gr),Hr=Xn._f.refs||[];if(_r?Hr.find(Vr=>Vr===gr):gr===Xn._f.ref)return;set(dn,ar,{_f:{...Xn._f,..._r?{refs:[...Hr.filter(live$c),gr,...Array.isArray(get$2(pn,ar))?[{}]:[]],ref:{type:gr.type,name:ar}}:{ref:gr}}}),$n(ar,!1,void 0,gr)}else Xn=get$2(dn,ar,{}),Xn._f&&(Xn._f.mount=!1),(sn.shouldUnregister||pr.shouldUnregister)&&!(isNameInFieldArray(fn.array,ar)&&hn.action)&&fn.unMount.add(ar)}}},sr=()=>sn.shouldFocusError&&iterateFieldsByAction(dn,Bn,fn.mount),Rr=ar=>{isBoolean$1(ar)&&(En.state.next({disabled:ar}),iterateFieldsByAction(dn,(pr,Xn)=>{const $r=get$2(dn,Xn);$r&&(pr.disabled=$r._f.disabled||ar,Array.isArray($r._f.refs)&&$r._f.refs.forEach(lr=>{lr.disabled=$r._f.disabled||ar}))},0,!1))},Ar=(ar,pr)=>async Xn=>{let $r;Xn&&(Xn.preventDefault&&Xn.preventDefault(),Xn.persist&&Xn.persist());let lr=cloneObject(mn);if(En.state.next({isSubmitting:!0}),sn.resolver){const{errors:gr,values:_r}=await kn();un.errors=gr,lr=_r}else await Mn(dn);if(fn.disabled.size)for(const gr of fn.disabled)set(lr,gr,void 0);if(unset(un.errors,"root"),isEmptyObject(un.errors)){En.state.next({errors:{}});try{await ar(lr,Xn)}catch(gr){$r=gr}}else pr&&await pr({...un.errors},Xn),sr(),setTimeout(sr);if(En.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(un.errors)&&!$r,submitCount:un.submitCount+1,errors:un.errors}),$r)throw $r},Lr=(ar,pr={})=>{get$2(dn,ar)&&(isUndefined$1(pr.defaultValue)?Ln(ar,cloneObject(get$2(pn,ar))):(Ln(ar,pr.defaultValue),set(pn,ar,cloneObject(pr.defaultValue))),pr.keepTouched||unset(un.touchedFields,ar),pr.keepDirty||(unset(un.dirtyFields,ar),un.isDirty=pr.defaultValue?Wn(ar,cloneObject(get$2(pn,ar))):Wn()),pr.keepError||(unset(un.errors,ar),yn.isValid&&_n()),En.state.next({...un}))},Or=(ar,pr={})=>{const Xn=ar?cloneObject(ar):pn,$r=cloneObject(Xn),lr=isEmptyObject(ar),gr=lr?pn:$r;if(pr.keepDefaultValues||(pn=Xn),!pr.keepValues){if(pr.keepDirtyValues){const _r=new Set([...fn.mount,...Object.keys(getDirtyFields(pn,mn))]);for(const Hr of Array.from(_r))get$2(un.dirtyFields,Hr)?set(gr,Hr,get$2(mn,Hr)):Ln(Hr,get$2(gr,Hr))}else{if(isWeb&&isUndefined$1(ar))for(const _r of fn.mount){const Hr=get$2(dn,_r);if(Hr&&Hr._f){const Vr=Array.isArray(Hr._f.refs)?Hr._f.refs[0]:Hr._f.ref;if(isHTMLElement$1(Vr)){const ss=Vr.closest("form");if(ss){ss.reset();break}}}}for(const _r of fn.mount)Ln(_r,get$2(gr,_r))}mn=cloneObject(gr),En.array.next({values:{...gr}}),En.state.next({values:{...gr}})}fn={mount:pr.keepDirtyValues?fn.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},hn.mount=!yn.isValid||!!pr.keepIsValid||!!pr.keepDirtyValues,hn.watch=!!sn.shouldUnregister,En.state.next({submitCount:pr.keepSubmitCount?un.submitCount:0,isDirty:lr?!1:pr.keepDirty?un.isDirty:!!(pr.keepDefaultValues&&!deepEqual(ar,pn)),isSubmitted:pr.keepIsSubmitted?un.isSubmitted:!1,dirtyFields:lr?{}:pr.keepDirtyValues?pr.keepDefaultValues&&mn?getDirtyFields(pn,mn):un.dirtyFields:pr.keepDefaultValues&&ar?getDirtyFields(pn,ar):pr.keepDirty?un.dirtyFields:{},touchedFields:pr.keepTouched?un.touchedFields:{},errors:pr.keepErrors?un.errors:{},isSubmitSuccessful:pr.keepIsSubmitSuccessful?un.isSubmitSuccessful:!1,isSubmitting:!1})},Zn=(ar,pr)=>Or(isFunction$1(ar)?ar(mn):ar,pr),Cr=(ar,pr={})=>{const Xn=get$2(dn,ar),$r=Xn&&Xn._f;if($r){const lr=$r.refs?$r.refs[0]:$r.ref;lr.focus&&(lr.focus(),pr.shouldSelect&&isFunction$1(lr.select)&&lr.select())}},Fr=ar=>{un={...un,...ar}},Br={control:{register:nr,unregister:xr,getFieldState:qn,handleSubmit:Ar,setError:dr,_subscribe:Er,_runSchema:kn,_getWatch:In,_getDirty:Wn,_setValid:_n,_setFieldArray:Cn,_setDisabledField:vr,_setErrors:Tn,_getFieldArray:Un,_reset:Or,_resetDefaultValues:()=>isFunction$1(sn.defaultValues)&&sn.defaultValues().then(ar=>{Zn(ar,sn.resetOptions),En.state.next({isLoading:!1})}),_removeUnmounted:On,_disableForm:Rr,_subjects:En,_proxyFormState:yn,get _fields(){return dn},get _formValues(){return mn},get _state(){return hn},set _state(ar){hn=ar},get _defaultValues(){return pn},get _names(){return fn},set _names(ar){fn=ar},get _formState(){return un},get _options(){return sn},set _options(ar){sn={...sn,...ar}}},subscribe:yr,trigger:Fn,register:nr,handleSubmit:Ar,watch:br,setValue:Ln,getValues:Gn,reset:Zn,resetField:Lr,clearErrors:Jn,unregister:xr,setError:dr,setFocus:Cr,getFieldState:qn};return{...Br,formControl:Br}}function useForm(tn={}){const sn=React$1.useRef(void 0),un=React$1.useRef(void 0),[dn,pn]=React$1.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$1(tn.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:tn.errors||{},disabled:tn.disabled||!1,defaultValues:isFunction$1(tn.defaultValues)?void 0:tn.defaultValues});sn.current||(sn.current={...tn.formControl?tn.formControl:createFormControl(tn),formState:dn},tn.formControl&&tn.defaultValues&&!isFunction$1(tn.defaultValues)&&tn.formControl.reset(tn.defaultValues,tn.resetOptions));const mn=sn.current.control;return mn._options=tn,React$1.useLayoutEffect(()=>mn._subscribe({formState:mn._proxyFormState,callback:()=>pn({...mn._formState}),reRenderRoot:!0}),[mn]),React$1.useEffect(()=>mn._disableForm(tn.disabled),[mn,tn.disabled]),React$1.useEffect(()=>{if(mn._proxyFormState.isDirty){const hn=mn._getDirty();hn!==dn.isDirty&&mn._subjects.state.next({isDirty:hn})}},[mn,dn.isDirty]),React$1.useEffect(()=>{tn.values&&!deepEqual(tn.values,un.current)?(mn._reset(tn.values,mn._options.resetOptions),un.current=tn.values,pn(hn=>({...hn}))):mn._resetDefaultValues()},[tn.values,mn]),React$1.useEffect(()=>{tn.errors&&!isEmptyObject(tn.errors)&&mn._setErrors(tn.errors)},[tn.errors,mn]),React$1.useEffect(()=>{mn._state.mount||(mn._setValid(),mn._state.mount=!0),mn._state.watch&&(mn._state.watch=!1,mn._subjects.state.next({...mn._formState})),mn._removeUnmounted()}),React$1.useEffect(()=>{tn.shouldUnregister&&mn._subjects.state.next({values:mn._getWatch()})},[tn.shouldUnregister,mn]),sn.current.formState=getProxyFormState(dn,mn),sn.current}const s=(tn,sn,un)=>{if(tn&&"reportValidity"in tn){const dn=get$2(un,sn);tn.setCustomValidity(dn&&dn.message||""),tn.reportValidity()}},o=(tn,sn)=>{for(const un in sn.fields){const dn=sn.fields[un];dn&&dn.ref&&"reportValidity"in dn.ref?s(dn.ref,un,tn):dn.refs&&dn.refs.forEach(pn=>s(pn,un,tn))}},r=(tn,sn)=>{sn.shouldUseNativeValidation&&o(tn,sn);const un={};for(const dn in tn){const pn=get$2(sn.fields,dn),mn=Object.assign(tn[dn]||{},{ref:pn&&pn.ref});if(i(sn.names||Object.keys(tn),dn)){const hn=Object.assign({},get$2(un,dn));set(hn,"root",mn),set(un,dn,hn)}else set(un,dn,mn)}return un},i=(tn,sn)=>tn.some(un=>un.startsWith(sn+"."));var n=function(tn,sn){for(var un={};tn.length;){var dn=tn[0],pn=dn.code,mn=dn.message,hn=dn.path.join(".");if(!un[hn])if("unionErrors"in dn){var fn=dn.unionErrors[0].errors[0];un[hn]={message:fn.message,type:fn.code}}else un[hn]={message:mn,type:pn};if("unionErrors"in dn&&dn.unionErrors.forEach(function(yn){return yn.errors.forEach(function(vn){return tn.push(vn)})}),sn){var gn=un[hn].types,xn=gn&&gn[dn.code];un[hn]=appendErrors(hn,sn,un,pn,xn?[].concat(xn,dn.message):dn.message)}tn.shift()}return un},t=function(tn,sn,un){return un===void 0&&(un={}),function(dn,pn,mn){try{return Promise.resolve(function(hn,fn){try{var gn=Promise.resolve(tn[un.mode==="sync"?"parse":"parseAsync"](dn,sn)).then(function(xn){return mn.shouldUseNativeValidation&&o({},mn),{errors:{},values:un.raw?dn:xn}})}catch(xn){return fn(xn)}return gn&&gn.then?gn.then(void 0,fn):gn}(0,function(hn){if(function(fn){return Array.isArray(fn==null?void 0:fn.errors)}(hn))return{values:{},errors:r(n(hn.errors,!mn.shouldUseNativeValidation&&mn.criteriaMode==="all"),mn)};throw hn}))}catch(hn){return Promise.reject(hn)}}},util;(function(tn){tn.assertEqual=pn=>pn;function sn(pn){}tn.assertIs=sn;function un(pn){throw new Error}tn.assertNever=un,tn.arrayToEnum=pn=>{const mn={};for(const hn of pn)mn[hn]=hn;return mn},tn.getValidEnumValues=pn=>{const mn=tn.objectKeys(pn).filter(fn=>typeof pn[pn[fn]]!="number"),hn={};for(const fn of mn)hn[fn]=pn[fn];return tn.objectValues(hn)},tn.objectValues=pn=>tn.objectKeys(pn).map(function(mn){return pn[mn]}),tn.objectKeys=typeof Object.keys=="function"?pn=>Object.keys(pn):pn=>{const mn=[];for(const hn in pn)Object.prototype.hasOwnProperty.call(pn,hn)&&mn.push(hn);return mn},tn.find=(pn,mn)=>{for(const hn of pn)if(mn(hn))return hn},tn.isInteger=typeof Number.isInteger=="function"?pn=>Number.isInteger(pn):pn=>typeof pn=="number"&&isFinite(pn)&&Math.floor(pn)===pn;function dn(pn,mn=" | "){return pn.map(hn=>typeof hn=="string"?`'${hn}'`:hn).join(mn)}tn.joinValues=dn,tn.jsonStringifyReplacer=(pn,mn)=>typeof mn=="bigint"?mn.toString():mn})(util||(util={}));var objectUtil;(function(tn){tn.mergeShapes=(sn,un)=>({...sn,...un})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=tn=>{switch(typeof tn){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(tn)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(tn)?ZodParsedType.array:tn===null?ZodParsedType.null:tn.then&&typeof tn.then=="function"&&tn.catch&&typeof tn.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&tn instanceof Map?ZodParsedType.map:typeof Set<"u"&&tn instanceof Set?ZodParsedType.set:typeof Date<"u"&&tn instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=tn=>JSON.stringify(tn,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(sn){super(),this.issues=[],this.addIssue=dn=>{this.issues=[...this.issues,dn]},this.addIssues=(dn=[])=>{this.issues=[...this.issues,...dn]};const un=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,un):this.__proto__=un,this.name="ZodError",this.issues=sn}format(sn){const un=sn||function(mn){return mn.message},dn={_errors:[]},pn=mn=>{for(const hn of mn.issues)if(hn.code==="invalid_union")hn.unionErrors.map(pn);else if(hn.code==="invalid_return_type")pn(hn.returnTypeError);else if(hn.code==="invalid_arguments")pn(hn.argumentsError);else if(hn.path.length===0)dn._errors.push(un(hn));else{let fn=dn,gn=0;for(;gn<hn.path.length;){const xn=hn.path[gn];gn===hn.path.length-1?(fn[xn]=fn[xn]||{_errors:[]},fn[xn]._errors.push(un(hn))):fn[xn]=fn[xn]||{_errors:[]},fn=fn[xn],gn++}}};return pn(this),dn}static assert(sn){if(!(sn instanceof ZodError))throw new Error(`Not a ZodError: ${sn}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(sn=un=>un.message){const un={},dn=[];for(const pn of this.issues)pn.path.length>0?(un[pn.path[0]]=un[pn.path[0]]||[],un[pn.path[0]].push(sn(pn))):dn.push(sn(pn));return{formErrors:dn,fieldErrors:un}}get formErrors(){return this.flatten()}}ZodError.create=tn=>new ZodError(tn);const errorMap=(tn,sn)=>{let un;switch(tn.code){case ZodIssueCode.invalid_type:tn.received===ZodParsedType.undefined?un="Required":un=`Expected ${tn.expected}, received ${tn.received}`;break;case ZodIssueCode.invalid_literal:un=`Invalid literal value, expected ${JSON.stringify(tn.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:un=`Unrecognized key(s) in object: ${util.joinValues(tn.keys,", ")}`;break;case ZodIssueCode.invalid_union:un="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:un=`Invalid discriminator value. Expected ${util.joinValues(tn.options)}`;break;case ZodIssueCode.invalid_enum_value:un=`Invalid enum value. Expected ${util.joinValues(tn.options)}, received '${tn.received}'`;break;case ZodIssueCode.invalid_arguments:un="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:un="Invalid function return type";break;case ZodIssueCode.invalid_date:un="Invalid date";break;case ZodIssueCode.invalid_string:typeof tn.validation=="object"?"includes"in tn.validation?(un=`Invalid input: must include "${tn.validation.includes}"`,typeof tn.validation.position=="number"&&(un=`${un} at one or more positions greater than or equal to ${tn.validation.position}`)):"startsWith"in tn.validation?un=`Invalid input: must start with "${tn.validation.startsWith}"`:"endsWith"in tn.validation?un=`Invalid input: must end with "${tn.validation.endsWith}"`:util.assertNever(tn.validation):tn.validation!=="regex"?un=`Invalid ${tn.validation}`:un="Invalid";break;case ZodIssueCode.too_small:tn.type==="array"?un=`Array must contain ${tn.exact?"exactly":tn.inclusive?"at least":"more than"} ${tn.minimum} element(s)`:tn.type==="string"?un=`String must contain ${tn.exact?"exactly":tn.inclusive?"at least":"over"} ${tn.minimum} character(s)`:tn.type==="number"?un=`Number must be ${tn.exact?"exactly equal to ":tn.inclusive?"greater than or equal to ":"greater than "}${tn.minimum}`:tn.type==="date"?un=`Date must be ${tn.exact?"exactly equal to ":tn.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(tn.minimum))}`:un="Invalid input";break;case ZodIssueCode.too_big:tn.type==="array"?un=`Array must contain ${tn.exact?"exactly":tn.inclusive?"at most":"less than"} ${tn.maximum} element(s)`:tn.type==="string"?un=`String must contain ${tn.exact?"exactly":tn.inclusive?"at most":"under"} ${tn.maximum} character(s)`:tn.type==="number"?un=`Number must be ${tn.exact?"exactly":tn.inclusive?"less than or equal to":"less than"} ${tn.maximum}`:tn.type==="bigint"?un=`BigInt must be ${tn.exact?"exactly":tn.inclusive?"less than or equal to":"less than"} ${tn.maximum}`:tn.type==="date"?un=`Date must be ${tn.exact?"exactly":tn.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(tn.maximum))}`:un="Invalid input";break;case ZodIssueCode.custom:un="Invalid input";break;case ZodIssueCode.invalid_intersection_types:un="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:un=`Number must be a multiple of ${tn.multipleOf}`;break;case ZodIssueCode.not_finite:un="Number must be finite";break;default:un=sn.defaultError,util.assertNever(tn)}return{message:un}};let overrideErrorMap=errorMap;function setErrorMap(tn){overrideErrorMap=tn}function getErrorMap(){return overrideErrorMap}const makeIssue=tn=>{const{data:sn,path:un,errorMaps:dn,issueData:pn}=tn,mn=[...un,...pn.path||[]],hn={...pn,path:mn};if(pn.message!==void 0)return{...pn,path:mn,message:pn.message};let fn="";const gn=dn.filter(xn=>!!xn).slice().reverse();for(const xn of gn)fn=xn(hn,{data:sn,defaultError:fn}).message;return{...pn,path:mn,message:fn}},EMPTY_PATH=[];function addIssueToContext(tn,sn){const un=getErrorMap(),dn=makeIssue({issueData:sn,data:tn.data,path:tn.path,errorMaps:[tn.common.contextualErrorMap,tn.schemaErrorMap,un,un===errorMap?void 0:errorMap].filter(pn=>!!pn)});tn.common.issues.push(dn)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(sn,un){const dn=[];for(const pn of un){if(pn.status==="aborted")return INVALID;pn.status==="dirty"&&sn.dirty(),dn.push(pn.value)}return{status:sn.value,value:dn}}static async mergeObjectAsync(sn,un){const dn=[];for(const pn of un){const mn=await pn.key,hn=await pn.value;dn.push({key:mn,value:hn})}return ParseStatus.mergeObjectSync(sn,dn)}static mergeObjectSync(sn,un){const dn={};for(const pn of un){const{key:mn,value:hn}=pn;if(mn.status==="aborted"||hn.status==="aborted")return INVALID;mn.status==="dirty"&&sn.dirty(),hn.status==="dirty"&&sn.dirty(),mn.value!=="__proto__"&&(typeof hn.value<"u"||pn.alwaysSet)&&(dn[mn.value]=hn.value)}return{status:sn.value,value:dn}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=tn=>({status:"dirty",value:tn}),OK=tn=>({status:"valid",value:tn}),isAborted=tn=>tn.status==="aborted",isDirty=tn=>tn.status==="dirty",isValid=tn=>tn.status==="valid",isAsync=tn=>typeof Promise<"u"&&tn instanceof Promise;function __classPrivateFieldGet(tn,sn,un,dn){if(typeof sn=="function"?tn!==sn||!0:!sn.has(tn))throw new TypeError("Cannot read private member from an object whose class did not declare it");return sn.get(tn)}function __classPrivateFieldSet(tn,sn,un,dn,pn){if(typeof sn=="function"?tn!==sn||!0:!sn.has(tn))throw new TypeError("Cannot write private member to an object whose class did not declare it");return sn.set(tn,un),un}typeof SuppressedError=="function"&&SuppressedError;var errorUtil;(function(tn){tn.errToObj=sn=>typeof sn=="string"?{message:sn}:sn||{},tn.toString=sn=>typeof sn=="string"?sn:sn==null?void 0:sn.message})(errorUtil||(errorUtil={}));var _ZodEnum_cache,_ZodNativeEnum_cache;class ParseInputLazyPath{constructor(sn,un,dn,pn){this._cachedPath=[],this.parent=sn,this.data=un,this._path=dn,this._key=pn}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(tn,sn)=>{if(isValid(sn))return{success:!0,data:sn.value};if(!tn.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const un=new ZodError(tn.common.issues);return this._error=un,this._error}}};function processCreateParams(tn){if(!tn)return{};const{errorMap:sn,invalid_type_error:un,required_error:dn,description:pn}=tn;if(sn&&(un||dn))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return sn?{errorMap:sn,description:pn}:{errorMap:(hn,fn)=>{var gn,xn;const{message:yn}=tn;return hn.code==="invalid_enum_value"?{message:yn??fn.defaultError}:typeof fn.data>"u"?{message:(gn=yn??dn)!==null&&gn!==void 0?gn:fn.defaultError}:hn.code!=="invalid_type"?{message:fn.defaultError}:{message:(xn=yn??un)!==null&&xn!==void 0?xn:fn.defaultError}},description:pn}}class ZodType{get description(){return this._def.description}_getType(sn){return getParsedType(sn.data)}_getOrReturnCtx(sn,un){return un||{common:sn.parent.common,data:sn.data,parsedType:getParsedType(sn.data),schemaErrorMap:this._def.errorMap,path:sn.path,parent:sn.parent}}_processInputParams(sn){return{status:new ParseStatus,ctx:{common:sn.parent.common,data:sn.data,parsedType:getParsedType(sn.data),schemaErrorMap:this._def.errorMap,path:sn.path,parent:sn.parent}}}_parseSync(sn){const un=this._parse(sn);if(isAsync(un))throw new Error("Synchronous parse encountered promise.");return un}_parseAsync(sn){const un=this._parse(sn);return Promise.resolve(un)}parse(sn,un){const dn=this.safeParse(sn,un);if(dn.success)return dn.data;throw dn.error}safeParse(sn,un){var dn;const pn={common:{issues:[],async:(dn=un==null?void 0:un.async)!==null&&dn!==void 0?dn:!1,contextualErrorMap:un==null?void 0:un.errorMap},path:(un==null?void 0:un.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:sn,parsedType:getParsedType(sn)},mn=this._parseSync({data:sn,path:pn.path,parent:pn});return handleResult(pn,mn)}"~validate"(sn){var un,dn;const pn={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:sn,parsedType:getParsedType(sn)};if(!this["~standard"].async)try{const mn=this._parseSync({data:sn,path:[],parent:pn});return isValid(mn)?{value:mn.value}:{issues:pn.common.issues}}catch(mn){!((dn=(un=mn==null?void 0:mn.message)===null||un===void 0?void 0:un.toLowerCase())===null||dn===void 0)&&dn.includes("encountered")&&(this["~standard"].async=!0),pn.common={issues:[],async:!0}}return this._parseAsync({data:sn,path:[],parent:pn}).then(mn=>isValid(mn)?{value:mn.value}:{issues:pn.common.issues})}async parseAsync(sn,un){const dn=await this.safeParseAsync(sn,un);if(dn.success)return dn.data;throw dn.error}async safeParseAsync(sn,un){const dn={common:{issues:[],contextualErrorMap:un==null?void 0:un.errorMap,async:!0},path:(un==null?void 0:un.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:sn,parsedType:getParsedType(sn)},pn=this._parse({data:sn,path:dn.path,parent:dn}),mn=await(isAsync(pn)?pn:Promise.resolve(pn));return handleResult(dn,mn)}refine(sn,un){const dn=pn=>typeof un=="string"||typeof un>"u"?{message:un}:typeof un=="function"?un(pn):un;return this._refinement((pn,mn)=>{const hn=sn(pn),fn=()=>mn.addIssue({code:ZodIssueCode.custom,...dn(pn)});return typeof Promise<"u"&&hn instanceof Promise?hn.then(gn=>gn?!0:(fn(),!1)):hn?!0:(fn(),!1)})}refinement(sn,un){return this._refinement((dn,pn)=>sn(dn)?!0:(pn.addIssue(typeof un=="function"?un(dn,pn):un),!1))}_refinement(sn){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:sn}})}superRefine(sn){return this._refinement(sn)}constructor(sn){this.spa=this.safeParseAsync,this._def=sn,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:un=>this["~validate"](un)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(sn){return ZodUnion.create([this,sn],this._def)}and(sn){return ZodIntersection.create(this,sn,this._def)}transform(sn){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:sn}})}default(sn){const un=typeof sn=="function"?sn:()=>sn;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:un,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(sn){const un=typeof sn=="function"?sn:()=>sn;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:un,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(sn){const un=this.constructor;return new un({...this._def,description:sn})}pipe(sn){return ZodPipeline.create(this,sn)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex$2;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(tn){let sn="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return tn.precision?sn=`${sn}\\.\\d{${tn.precision}}`:tn.precision==null&&(sn=`${sn}(\\.\\d+)?`),sn}function timeRegex(tn){return new RegExp(`^${timeRegexSource(tn)}$`)}function datetimeRegex(tn){let sn=`${dateRegexSource}T${timeRegexSource(tn)}`;const un=[];return un.push(tn.local?"Z?":"Z"),tn.offset&&un.push("([+-]\\d{2}:?\\d{2})"),sn=`${sn}(${un.join("|")})`,new RegExp(`^${sn}$`)}function isValidIP(tn,sn){return!!((sn==="v4"||!sn)&&ipv4Regex.test(tn)||(sn==="v6"||!sn)&&ipv6Regex.test(tn))}function isValidJWT(tn,sn){if(!jwtRegex.test(tn))return!1;try{const[un]=tn.split("."),dn=un.replace(/-/g,"+").replace(/_/g,"/").padEnd(un.length+(4-un.length%4)%4,"="),pn=JSON.parse(atob(dn));return!(typeof pn!="object"||pn===null||!pn.typ||!pn.alg||sn&&pn.alg!==sn)}catch{return!1}}function isValidCidr(tn,sn){return!!((sn==="v4"||!sn)&&ipv4CidrRegex.test(tn)||(sn==="v6"||!sn)&&ipv6CidrRegex.test(tn))}class ZodString extends ZodType{_parse(sn){if(this._def.coerce&&(sn.data=String(sn.data)),this._getType(sn)!==ZodParsedType.string){const mn=this._getOrReturnCtx(sn);return addIssueToContext(mn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:mn.parsedType}),INVALID}const dn=new ParseStatus;let pn;for(const mn of this._def.checks)if(mn.kind==="min")sn.data.length<mn.value&&(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.too_small,minimum:mn.value,type:"string",inclusive:!0,exact:!1,message:mn.message}),dn.dirty());else if(mn.kind==="max")sn.data.length>mn.value&&(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.too_big,maximum:mn.value,type:"string",inclusive:!0,exact:!1,message:mn.message}),dn.dirty());else if(mn.kind==="length"){const hn=sn.data.length>mn.value,fn=sn.data.length<mn.value;(hn||fn)&&(pn=this._getOrReturnCtx(sn,pn),hn?addIssueToContext(pn,{code:ZodIssueCode.too_big,maximum:mn.value,type:"string",inclusive:!0,exact:!0,message:mn.message}):fn&&addIssueToContext(pn,{code:ZodIssueCode.too_small,minimum:mn.value,type:"string",inclusive:!0,exact:!0,message:mn.message}),dn.dirty())}else if(mn.kind==="email")emailRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"email",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="emoji")emojiRegex$2||(emojiRegex$2=new RegExp(_emojiRegex,"u")),emojiRegex$2.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"emoji",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="uuid")uuidRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"uuid",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="nanoid")nanoidRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="cuid")cuidRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"cuid",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="cuid2")cuid2Regex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="ulid")ulidRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"ulid",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty());else if(mn.kind==="url")try{new URL(sn.data)}catch{pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"url",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()}else mn.kind==="regex"?(mn.regex.lastIndex=0,mn.regex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"regex",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty())):mn.kind==="trim"?sn.data=sn.data.trim():mn.kind==="includes"?sn.data.includes(mn.value,mn.position)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.invalid_string,validation:{includes:mn.value,position:mn.position},message:mn.message}),dn.dirty()):mn.kind==="toLowerCase"?sn.data=sn.data.toLowerCase():mn.kind==="toUpperCase"?sn.data=sn.data.toUpperCase():mn.kind==="startsWith"?sn.data.startsWith(mn.value)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.invalid_string,validation:{startsWith:mn.value},message:mn.message}),dn.dirty()):mn.kind==="endsWith"?sn.data.endsWith(mn.value)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.invalid_string,validation:{endsWith:mn.value},message:mn.message}),dn.dirty()):mn.kind==="datetime"?datetimeRegex(mn).test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.invalid_string,validation:"datetime",message:mn.message}),dn.dirty()):mn.kind==="date"?dateRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.invalid_string,validation:"date",message:mn.message}),dn.dirty()):mn.kind==="time"?timeRegex(mn).test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.invalid_string,validation:"time",message:mn.message}),dn.dirty()):mn.kind==="duration"?durationRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"duration",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()):mn.kind==="ip"?isValidIP(sn.data,mn.version)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"ip",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()):mn.kind==="jwt"?isValidJWT(sn.data,mn.alg)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"jwt",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()):mn.kind==="cidr"?isValidCidr(sn.data,mn.version)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"cidr",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()):mn.kind==="base64"?base64Regex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"base64",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()):mn.kind==="base64url"?base64urlRegex.test(sn.data)||(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{validation:"base64url",code:ZodIssueCode.invalid_string,message:mn.message}),dn.dirty()):util.assertNever(mn);return{status:dn.value,value:sn.data}}_regex(sn,un,dn){return this.refinement(pn=>sn.test(pn),{validation:un,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(dn)})}_addCheck(sn){return new ZodString({...this._def,checks:[...this._def.checks,sn]})}email(sn){return this._addCheck({kind:"email",...errorUtil.errToObj(sn)})}url(sn){return this._addCheck({kind:"url",...errorUtil.errToObj(sn)})}emoji(sn){return this._addCheck({kind:"emoji",...errorUtil.errToObj(sn)})}uuid(sn){return this._addCheck({kind:"uuid",...errorUtil.errToObj(sn)})}nanoid(sn){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(sn)})}cuid(sn){return this._addCheck({kind:"cuid",...errorUtil.errToObj(sn)})}cuid2(sn){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(sn)})}ulid(sn){return this._addCheck({kind:"ulid",...errorUtil.errToObj(sn)})}base64(sn){return this._addCheck({kind:"base64",...errorUtil.errToObj(sn)})}base64url(sn){return this._addCheck({kind:"base64url",...errorUtil.errToObj(sn)})}jwt(sn){return this._addCheck({kind:"jwt",...errorUtil.errToObj(sn)})}ip(sn){return this._addCheck({kind:"ip",...errorUtil.errToObj(sn)})}cidr(sn){return this._addCheck({kind:"cidr",...errorUtil.errToObj(sn)})}datetime(sn){var un,dn;return typeof sn=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:sn}):this._addCheck({kind:"datetime",precision:typeof(sn==null?void 0:sn.precision)>"u"?null:sn==null?void 0:sn.precision,offset:(un=sn==null?void 0:sn.offset)!==null&&un!==void 0?un:!1,local:(dn=sn==null?void 0:sn.local)!==null&&dn!==void 0?dn:!1,...errorUtil.errToObj(sn==null?void 0:sn.message)})}date(sn){return this._addCheck({kind:"date",message:sn})}time(sn){return typeof sn=="string"?this._addCheck({kind:"time",precision:null,message:sn}):this._addCheck({kind:"time",precision:typeof(sn==null?void 0:sn.precision)>"u"?null:sn==null?void 0:sn.precision,...errorUtil.errToObj(sn==null?void 0:sn.message)})}duration(sn){return this._addCheck({kind:"duration",...errorUtil.errToObj(sn)})}regex(sn,un){return this._addCheck({kind:"regex",regex:sn,...errorUtil.errToObj(un)})}includes(sn,un){return this._addCheck({kind:"includes",value:sn,position:un==null?void 0:un.position,...errorUtil.errToObj(un==null?void 0:un.message)})}startsWith(sn,un){return this._addCheck({kind:"startsWith",value:sn,...errorUtil.errToObj(un)})}endsWith(sn,un){return this._addCheck({kind:"endsWith",value:sn,...errorUtil.errToObj(un)})}min(sn,un){return this._addCheck({kind:"min",value:sn,...errorUtil.errToObj(un)})}max(sn,un){return this._addCheck({kind:"max",value:sn,...errorUtil.errToObj(un)})}length(sn,un){return this._addCheck({kind:"length",value:sn,...errorUtil.errToObj(un)})}nonempty(sn){return this.min(1,errorUtil.errToObj(sn))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(sn=>sn.kind==="datetime")}get isDate(){return!!this._def.checks.find(sn=>sn.kind==="date")}get isTime(){return!!this._def.checks.find(sn=>sn.kind==="time")}get isDuration(){return!!this._def.checks.find(sn=>sn.kind==="duration")}get isEmail(){return!!this._def.checks.find(sn=>sn.kind==="email")}get isURL(){return!!this._def.checks.find(sn=>sn.kind==="url")}get isEmoji(){return!!this._def.checks.find(sn=>sn.kind==="emoji")}get isUUID(){return!!this._def.checks.find(sn=>sn.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(sn=>sn.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(sn=>sn.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(sn=>sn.kind==="cuid2")}get isULID(){return!!this._def.checks.find(sn=>sn.kind==="ulid")}get isIP(){return!!this._def.checks.find(sn=>sn.kind==="ip")}get isCIDR(){return!!this._def.checks.find(sn=>sn.kind==="cidr")}get isBase64(){return!!this._def.checks.find(sn=>sn.kind==="base64")}get isBase64url(){return!!this._def.checks.find(sn=>sn.kind==="base64url")}get minLength(){let sn=null;for(const un of this._def.checks)un.kind==="min"&&(sn===null||un.value>sn)&&(sn=un.value);return sn}get maxLength(){let sn=null;for(const un of this._def.checks)un.kind==="max"&&(sn===null||un.value<sn)&&(sn=un.value);return sn}}ZodString.create=tn=>{var sn;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(sn=tn==null?void 0:tn.coerce)!==null&&sn!==void 0?sn:!1,...processCreateParams(tn)})};function floatSafeRemainder(tn,sn){const un=(tn.toString().split(".")[1]||"").length,dn=(sn.toString().split(".")[1]||"").length,pn=un>dn?un:dn,mn=parseInt(tn.toFixed(pn).replace(".","")),hn=parseInt(sn.toFixed(pn).replace(".",""));return mn%hn/Math.pow(10,pn)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(sn){if(this._def.coerce&&(sn.data=Number(sn.data)),this._getType(sn)!==ZodParsedType.number){const mn=this._getOrReturnCtx(sn);return addIssueToContext(mn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:mn.parsedType}),INVALID}let dn;const pn=new ParseStatus;for(const mn of this._def.checks)mn.kind==="int"?util.isInteger(sn.data)||(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:mn.message}),pn.dirty()):mn.kind==="min"?(mn.inclusive?sn.data<mn.value:sn.data<=mn.value)&&(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.too_small,minimum:mn.value,type:"number",inclusive:mn.inclusive,exact:!1,message:mn.message}),pn.dirty()):mn.kind==="max"?(mn.inclusive?sn.data>mn.value:sn.data>=mn.value)&&(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.too_big,maximum:mn.value,type:"number",inclusive:mn.inclusive,exact:!1,message:mn.message}),pn.dirty()):mn.kind==="multipleOf"?floatSafeRemainder(sn.data,mn.value)!==0&&(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.not_multiple_of,multipleOf:mn.value,message:mn.message}),pn.dirty()):mn.kind==="finite"?Number.isFinite(sn.data)||(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.not_finite,message:mn.message}),pn.dirty()):util.assertNever(mn);return{status:pn.value,value:sn.data}}gte(sn,un){return this.setLimit("min",sn,!0,errorUtil.toString(un))}gt(sn,un){return this.setLimit("min",sn,!1,errorUtil.toString(un))}lte(sn,un){return this.setLimit("max",sn,!0,errorUtil.toString(un))}lt(sn,un){return this.setLimit("max",sn,!1,errorUtil.toString(un))}setLimit(sn,un,dn,pn){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:sn,value:un,inclusive:dn,message:errorUtil.toString(pn)}]})}_addCheck(sn){return new ZodNumber({...this._def,checks:[...this._def.checks,sn]})}int(sn){return this._addCheck({kind:"int",message:errorUtil.toString(sn)})}positive(sn){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(sn)})}negative(sn){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(sn)})}nonpositive(sn){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(sn)})}nonnegative(sn){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(sn)})}multipleOf(sn,un){return this._addCheck({kind:"multipleOf",value:sn,message:errorUtil.toString(un)})}finite(sn){return this._addCheck({kind:"finite",message:errorUtil.toString(sn)})}safe(sn){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(sn)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(sn)})}get minValue(){let sn=null;for(const un of this._def.checks)un.kind==="min"&&(sn===null||un.value>sn)&&(sn=un.value);return sn}get maxValue(){let sn=null;for(const un of this._def.checks)un.kind==="max"&&(sn===null||un.value<sn)&&(sn=un.value);return sn}get isInt(){return!!this._def.checks.find(sn=>sn.kind==="int"||sn.kind==="multipleOf"&&util.isInteger(sn.value))}get isFinite(){let sn=null,un=null;for(const dn of this._def.checks){if(dn.kind==="finite"||dn.kind==="int"||dn.kind==="multipleOf")return!0;dn.kind==="min"?(un===null||dn.value>un)&&(un=dn.value):dn.kind==="max"&&(sn===null||dn.value<sn)&&(sn=dn.value)}return Number.isFinite(un)&&Number.isFinite(sn)}}ZodNumber.create=tn=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(tn==null?void 0:tn.coerce)||!1,...processCreateParams(tn)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(sn){if(this._def.coerce)try{sn.data=BigInt(sn.data)}catch{return this._getInvalidInput(sn)}if(this._getType(sn)!==ZodParsedType.bigint)return this._getInvalidInput(sn);let dn;const pn=new ParseStatus;for(const mn of this._def.checks)mn.kind==="min"?(mn.inclusive?sn.data<mn.value:sn.data<=mn.value)&&(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.too_small,type:"bigint",minimum:mn.value,inclusive:mn.inclusive,message:mn.message}),pn.dirty()):mn.kind==="max"?(mn.inclusive?sn.data>mn.value:sn.data>=mn.value)&&(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.too_big,type:"bigint",maximum:mn.value,inclusive:mn.inclusive,message:mn.message}),pn.dirty()):mn.kind==="multipleOf"?sn.data%mn.value!==BigInt(0)&&(dn=this._getOrReturnCtx(sn,dn),addIssueToContext(dn,{code:ZodIssueCode.not_multiple_of,multipleOf:mn.value,message:mn.message}),pn.dirty()):util.assertNever(mn);return{status:pn.value,value:sn.data}}_getInvalidInput(sn){const un=this._getOrReturnCtx(sn);return addIssueToContext(un,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:un.parsedType}),INVALID}gte(sn,un){return this.setLimit("min",sn,!0,errorUtil.toString(un))}gt(sn,un){return this.setLimit("min",sn,!1,errorUtil.toString(un))}lte(sn,un){return this.setLimit("max",sn,!0,errorUtil.toString(un))}lt(sn,un){return this.setLimit("max",sn,!1,errorUtil.toString(un))}setLimit(sn,un,dn,pn){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:sn,value:un,inclusive:dn,message:errorUtil.toString(pn)}]})}_addCheck(sn){return new ZodBigInt({...this._def,checks:[...this._def.checks,sn]})}positive(sn){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(sn)})}negative(sn){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(sn)})}nonpositive(sn){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(sn)})}nonnegative(sn){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(sn)})}multipleOf(sn,un){return this._addCheck({kind:"multipleOf",value:sn,message:errorUtil.toString(un)})}get minValue(){let sn=null;for(const un of this._def.checks)un.kind==="min"&&(sn===null||un.value>sn)&&(sn=un.value);return sn}get maxValue(){let sn=null;for(const un of this._def.checks)un.kind==="max"&&(sn===null||un.value<sn)&&(sn=un.value);return sn}}ZodBigInt.create=tn=>{var sn;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(sn=tn==null?void 0:tn.coerce)!==null&&sn!==void 0?sn:!1,...processCreateParams(tn)})};class ZodBoolean extends ZodType{_parse(sn){if(this._def.coerce&&(sn.data=!!sn.data),this._getType(sn)!==ZodParsedType.boolean){const dn=this._getOrReturnCtx(sn);return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:dn.parsedType}),INVALID}return OK(sn.data)}}ZodBoolean.create=tn=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(tn==null?void 0:tn.coerce)||!1,...processCreateParams(tn)});class ZodDate extends ZodType{_parse(sn){if(this._def.coerce&&(sn.data=new Date(sn.data)),this._getType(sn)!==ZodParsedType.date){const mn=this._getOrReturnCtx(sn);return addIssueToContext(mn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:mn.parsedType}),INVALID}if(isNaN(sn.data.getTime())){const mn=this._getOrReturnCtx(sn);return addIssueToContext(mn,{code:ZodIssueCode.invalid_date}),INVALID}const dn=new ParseStatus;let pn;for(const mn of this._def.checks)mn.kind==="min"?sn.data.getTime()<mn.value&&(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.too_small,message:mn.message,inclusive:!0,exact:!1,minimum:mn.value,type:"date"}),dn.dirty()):mn.kind==="max"?sn.data.getTime()>mn.value&&(pn=this._getOrReturnCtx(sn,pn),addIssueToContext(pn,{code:ZodIssueCode.too_big,message:mn.message,inclusive:!0,exact:!1,maximum:mn.value,type:"date"}),dn.dirty()):util.assertNever(mn);return{status:dn.value,value:new Date(sn.data.getTime())}}_addCheck(sn){return new ZodDate({...this._def,checks:[...this._def.checks,sn]})}min(sn,un){return this._addCheck({kind:"min",value:sn.getTime(),message:errorUtil.toString(un)})}max(sn,un){return this._addCheck({kind:"max",value:sn.getTime(),message:errorUtil.toString(un)})}get minDate(){let sn=null;for(const un of this._def.checks)un.kind==="min"&&(sn===null||un.value>sn)&&(sn=un.value);return sn!=null?new Date(sn):null}get maxDate(){let sn=null;for(const un of this._def.checks)un.kind==="max"&&(sn===null||un.value<sn)&&(sn=un.value);return sn!=null?new Date(sn):null}}ZodDate.create=tn=>new ZodDate({checks:[],coerce:(tn==null?void 0:tn.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(tn)});class ZodSymbol extends ZodType{_parse(sn){if(this._getType(sn)!==ZodParsedType.symbol){const dn=this._getOrReturnCtx(sn);return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:dn.parsedType}),INVALID}return OK(sn.data)}}ZodSymbol.create=tn=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(tn)});class ZodUndefined extends ZodType{_parse(sn){if(this._getType(sn)!==ZodParsedType.undefined){const dn=this._getOrReturnCtx(sn);return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:dn.parsedType}),INVALID}return OK(sn.data)}}ZodUndefined.create=tn=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(tn)});class ZodNull extends ZodType{_parse(sn){if(this._getType(sn)!==ZodParsedType.null){const dn=this._getOrReturnCtx(sn);return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:dn.parsedType}),INVALID}return OK(sn.data)}}ZodNull.create=tn=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(tn)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(sn){return OK(sn.data)}}ZodAny.create=tn=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(tn)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(sn){return OK(sn.data)}}ZodUnknown.create=tn=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(tn)});class ZodNever extends ZodType{_parse(sn){const un=this._getOrReturnCtx(sn);return addIssueToContext(un,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:un.parsedType}),INVALID}}ZodNever.create=tn=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(tn)});class ZodVoid extends ZodType{_parse(sn){if(this._getType(sn)!==ZodParsedType.undefined){const dn=this._getOrReturnCtx(sn);return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:dn.parsedType}),INVALID}return OK(sn.data)}}ZodVoid.create=tn=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(tn)});class ZodArray extends ZodType{_parse(sn){const{ctx:un,status:dn}=this._processInputParams(sn),pn=this._def;if(un.parsedType!==ZodParsedType.array)return addIssueToContext(un,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:un.parsedType}),INVALID;if(pn.exactLength!==null){const hn=un.data.length>pn.exactLength.value,fn=un.data.length<pn.exactLength.value;(hn||fn)&&(addIssueToContext(un,{code:hn?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:fn?pn.exactLength.value:void 0,maximum:hn?pn.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:pn.exactLength.message}),dn.dirty())}if(pn.minLength!==null&&un.data.length<pn.minLength.value&&(addIssueToContext(un,{code:ZodIssueCode.too_small,minimum:pn.minLength.value,type:"array",inclusive:!0,exact:!1,message:pn.minLength.message}),dn.dirty()),pn.maxLength!==null&&un.data.length>pn.maxLength.value&&(addIssueToContext(un,{code:ZodIssueCode.too_big,maximum:pn.maxLength.value,type:"array",inclusive:!0,exact:!1,message:pn.maxLength.message}),dn.dirty()),un.common.async)return Promise.all([...un.data].map((hn,fn)=>pn.type._parseAsync(new ParseInputLazyPath(un,hn,un.path,fn)))).then(hn=>ParseStatus.mergeArray(dn,hn));const mn=[...un.data].map((hn,fn)=>pn.type._parseSync(new ParseInputLazyPath(un,hn,un.path,fn)));return ParseStatus.mergeArray(dn,mn)}get element(){return this._def.type}min(sn,un){return new ZodArray({...this._def,minLength:{value:sn,message:errorUtil.toString(un)}})}max(sn,un){return new ZodArray({...this._def,maxLength:{value:sn,message:errorUtil.toString(un)}})}length(sn,un){return new ZodArray({...this._def,exactLength:{value:sn,message:errorUtil.toString(un)}})}nonempty(sn){return this.min(1,sn)}}ZodArray.create=(tn,sn)=>new ZodArray({type:tn,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(sn)});function deepPartialify(tn){if(tn instanceof ZodObject){const sn={};for(const un in tn.shape){const dn=tn.shape[un];sn[un]=ZodOptional.create(deepPartialify(dn))}return new ZodObject({...tn._def,shape:()=>sn})}else return tn instanceof ZodArray?new ZodArray({...tn._def,type:deepPartialify(tn.element)}):tn instanceof ZodOptional?ZodOptional.create(deepPartialify(tn.unwrap())):tn instanceof ZodNullable?ZodNullable.create(deepPartialify(tn.unwrap())):tn instanceof ZodTuple?ZodTuple.create(tn.items.map(sn=>deepPartialify(sn))):tn}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const sn=this._def.shape(),un=util.objectKeys(sn);return this._cached={shape:sn,keys:un}}_parse(sn){if(this._getType(sn)!==ZodParsedType.object){const xn=this._getOrReturnCtx(sn);return addIssueToContext(xn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:xn.parsedType}),INVALID}const{status:dn,ctx:pn}=this._processInputParams(sn),{shape:mn,keys:hn}=this._getCached(),fn=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const xn in pn.data)hn.includes(xn)||fn.push(xn);const gn=[];for(const xn of hn){const yn=mn[xn],vn=pn.data[xn];gn.push({key:{status:"valid",value:xn},value:yn._parse(new ParseInputLazyPath(pn,vn,pn.path,xn)),alwaysSet:xn in pn.data})}if(this._def.catchall instanceof ZodNever){const xn=this._def.unknownKeys;if(xn==="passthrough")for(const yn of fn)gn.push({key:{status:"valid",value:yn},value:{status:"valid",value:pn.data[yn]}});else if(xn==="strict")fn.length>0&&(addIssueToContext(pn,{code:ZodIssueCode.unrecognized_keys,keys:fn}),dn.dirty());else if(xn!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const xn=this._def.catchall;for(const yn of fn){const vn=pn.data[yn];gn.push({key:{status:"valid",value:yn},value:xn._parse(new ParseInputLazyPath(pn,vn,pn.path,yn)),alwaysSet:yn in pn.data})}}return pn.common.async?Promise.resolve().then(async()=>{const xn=[];for(const yn of gn){const vn=await yn.key,En=await yn.value;xn.push({key:vn,value:En,alwaysSet:yn.alwaysSet})}return xn}).then(xn=>ParseStatus.mergeObjectSync(dn,xn)):ParseStatus.mergeObjectSync(dn,gn)}get shape(){return this._def.shape()}strict(sn){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...sn!==void 0?{errorMap:(un,dn)=>{var pn,mn,hn,fn;const gn=(hn=(mn=(pn=this._def).errorMap)===null||mn===void 0?void 0:mn.call(pn,un,dn).message)!==null&&hn!==void 0?hn:dn.defaultError;return un.code==="unrecognized_keys"?{message:(fn=errorUtil.errToObj(sn).message)!==null&&fn!==void 0?fn:gn}:{message:gn}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(sn){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...sn})})}merge(sn){return new ZodObject({unknownKeys:sn._def.unknownKeys,catchall:sn._def.catchall,shape:()=>({...this._def.shape(),...sn._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(sn,un){return this.augment({[sn]:un})}catchall(sn){return new ZodObject({...this._def,catchall:sn})}pick(sn){const un={};return util.objectKeys(sn).forEach(dn=>{sn[dn]&&this.shape[dn]&&(un[dn]=this.shape[dn])}),new ZodObject({...this._def,shape:()=>un})}omit(sn){const un={};return util.objectKeys(this.shape).forEach(dn=>{sn[dn]||(un[dn]=this.shape[dn])}),new ZodObject({...this._def,shape:()=>un})}deepPartial(){return deepPartialify(this)}partial(sn){const un={};return util.objectKeys(this.shape).forEach(dn=>{const pn=this.shape[dn];sn&&!sn[dn]?un[dn]=pn:un[dn]=pn.optional()}),new ZodObject({...this._def,shape:()=>un})}required(sn){const un={};return util.objectKeys(this.shape).forEach(dn=>{if(sn&&!sn[dn])un[dn]=this.shape[dn];else{let mn=this.shape[dn];for(;mn instanceof ZodOptional;)mn=mn._def.innerType;un[dn]=mn}}),new ZodObject({...this._def,shape:()=>un})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(tn,sn)=>new ZodObject({shape:()=>tn,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(sn)});ZodObject.strictCreate=(tn,sn)=>new ZodObject({shape:()=>tn,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(sn)});ZodObject.lazycreate=(tn,sn)=>new ZodObject({shape:tn,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(sn)});class ZodUnion extends ZodType{_parse(sn){const{ctx:un}=this._processInputParams(sn),dn=this._def.options;function pn(mn){for(const fn of mn)if(fn.result.status==="valid")return fn.result;for(const fn of mn)if(fn.result.status==="dirty")return un.common.issues.push(...fn.ctx.common.issues),fn.result;const hn=mn.map(fn=>new ZodError(fn.ctx.common.issues));return addIssueToContext(un,{code:ZodIssueCode.invalid_union,unionErrors:hn}),INVALID}if(un.common.async)return Promise.all(dn.map(async mn=>{const hn={...un,common:{...un.common,issues:[]},parent:null};return{result:await mn._parseAsync({data:un.data,path:un.path,parent:hn}),ctx:hn}})).then(pn);{let mn;const hn=[];for(const gn of dn){const xn={...un,common:{...un.common,issues:[]},parent:null},yn=gn._parseSync({data:un.data,path:un.path,parent:xn});if(yn.status==="valid")return yn;yn.status==="dirty"&&!mn&&(mn={result:yn,ctx:xn}),xn.common.issues.length&&hn.push(xn.common.issues)}if(mn)return un.common.issues.push(...mn.ctx.common.issues),mn.result;const fn=hn.map(gn=>new ZodError(gn));return addIssueToContext(un,{code:ZodIssueCode.invalid_union,unionErrors:fn}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(tn,sn)=>new ZodUnion({options:tn,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(sn)});const getDiscriminator=tn=>tn instanceof ZodLazy?getDiscriminator(tn.schema):tn instanceof ZodEffects?getDiscriminator(tn.innerType()):tn instanceof ZodLiteral?[tn.value]:tn instanceof ZodEnum?tn.options:tn instanceof ZodNativeEnum?util.objectValues(tn.enum):tn instanceof ZodDefault?getDiscriminator(tn._def.innerType):tn instanceof ZodUndefined?[void 0]:tn instanceof ZodNull?[null]:tn instanceof ZodOptional?[void 0,...getDiscriminator(tn.unwrap())]:tn instanceof ZodNullable?[null,...getDiscriminator(tn.unwrap())]:tn instanceof ZodBranded||tn instanceof ZodReadonly?getDiscriminator(tn.unwrap()):tn instanceof ZodCatch?getDiscriminator(tn._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(sn){const{ctx:un}=this._processInputParams(sn);if(un.parsedType!==ZodParsedType.object)return addIssueToContext(un,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:un.parsedType}),INVALID;const dn=this.discriminator,pn=un.data[dn],mn=this.optionsMap.get(pn);return mn?un.common.async?mn._parseAsync({data:un.data,path:un.path,parent:un}):mn._parseSync({data:un.data,path:un.path,parent:un}):(addIssueToContext(un,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[dn]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(sn,un,dn){const pn=new Map;for(const mn of un){const hn=getDiscriminator(mn.shape[sn]);if(!hn.length)throw new Error(`A discriminator value for key \`${sn}\` could not be extracted from all schema options`);for(const fn of hn){if(pn.has(fn))throw new Error(`Discriminator property ${String(sn)} has duplicate value ${String(fn)}`);pn.set(fn,mn)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:sn,options:un,optionsMap:pn,...processCreateParams(dn)})}}function mergeValues(tn,sn){const un=getParsedType(tn),dn=getParsedType(sn);if(tn===sn)return{valid:!0,data:tn};if(un===ZodParsedType.object&&dn===ZodParsedType.object){const pn=util.objectKeys(sn),mn=util.objectKeys(tn).filter(fn=>pn.indexOf(fn)!==-1),hn={...tn,...sn};for(const fn of mn){const gn=mergeValues(tn[fn],sn[fn]);if(!gn.valid)return{valid:!1};hn[fn]=gn.data}return{valid:!0,data:hn}}else if(un===ZodParsedType.array&&dn===ZodParsedType.array){if(tn.length!==sn.length)return{valid:!1};const pn=[];for(let mn=0;mn<tn.length;mn++){const hn=tn[mn],fn=sn[mn],gn=mergeValues(hn,fn);if(!gn.valid)return{valid:!1};pn.push(gn.data)}return{valid:!0,data:pn}}else return un===ZodParsedType.date&&dn===ZodParsedType.date&&+tn==+sn?{valid:!0,data:tn}:{valid:!1}}class ZodIntersection extends ZodType{_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn),pn=(mn,hn)=>{if(isAborted(mn)||isAborted(hn))return INVALID;const fn=mergeValues(mn.value,hn.value);return fn.valid?((isDirty(mn)||isDirty(hn))&&un.dirty(),{status:un.value,value:fn.data}):(addIssueToContext(dn,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return dn.common.async?Promise.all([this._def.left._parseAsync({data:dn.data,path:dn.path,parent:dn}),this._def.right._parseAsync({data:dn.data,path:dn.path,parent:dn})]).then(([mn,hn])=>pn(mn,hn)):pn(this._def.left._parseSync({data:dn.data,path:dn.path,parent:dn}),this._def.right._parseSync({data:dn.data,path:dn.path,parent:dn}))}}ZodIntersection.create=(tn,sn,un)=>new ZodIntersection({left:tn,right:sn,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(un)});class ZodTuple extends ZodType{_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn);if(dn.parsedType!==ZodParsedType.array)return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:dn.parsedType}),INVALID;if(dn.data.length<this._def.items.length)return addIssueToContext(dn,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&dn.data.length>this._def.items.length&&(addIssueToContext(dn,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),un.dirty());const mn=[...dn.data].map((hn,fn)=>{const gn=this._def.items[fn]||this._def.rest;return gn?gn._parse(new ParseInputLazyPath(dn,hn,dn.path,fn)):null}).filter(hn=>!!hn);return dn.common.async?Promise.all(mn).then(hn=>ParseStatus.mergeArray(un,hn)):ParseStatus.mergeArray(un,mn)}get items(){return this._def.items}rest(sn){return new ZodTuple({...this._def,rest:sn})}}ZodTuple.create=(tn,sn)=>{if(!Array.isArray(tn))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:tn,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(sn)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn);if(dn.parsedType!==ZodParsedType.object)return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:dn.parsedType}),INVALID;const pn=[],mn=this._def.keyType,hn=this._def.valueType;for(const fn in dn.data)pn.push({key:mn._parse(new ParseInputLazyPath(dn,fn,dn.path,fn)),value:hn._parse(new ParseInputLazyPath(dn,dn.data[fn],dn.path,fn)),alwaysSet:fn in dn.data});return dn.common.async?ParseStatus.mergeObjectAsync(un,pn):ParseStatus.mergeObjectSync(un,pn)}get element(){return this._def.valueType}static create(sn,un,dn){return un instanceof ZodType?new ZodRecord({keyType:sn,valueType:un,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(dn)}):new ZodRecord({keyType:ZodString.create(),valueType:sn,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(un)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn);if(dn.parsedType!==ZodParsedType.map)return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:dn.parsedType}),INVALID;const pn=this._def.keyType,mn=this._def.valueType,hn=[...dn.data.entries()].map(([fn,gn],xn)=>({key:pn._parse(new ParseInputLazyPath(dn,fn,dn.path,[xn,"key"])),value:mn._parse(new ParseInputLazyPath(dn,gn,dn.path,[xn,"value"]))}));if(dn.common.async){const fn=new Map;return Promise.resolve().then(async()=>{for(const gn of hn){const xn=await gn.key,yn=await gn.value;if(xn.status==="aborted"||yn.status==="aborted")return INVALID;(xn.status==="dirty"||yn.status==="dirty")&&un.dirty(),fn.set(xn.value,yn.value)}return{status:un.value,value:fn}})}else{const fn=new Map;for(const gn of hn){const xn=gn.key,yn=gn.value;if(xn.status==="aborted"||yn.status==="aborted")return INVALID;(xn.status==="dirty"||yn.status==="dirty")&&un.dirty(),fn.set(xn.value,yn.value)}return{status:un.value,value:fn}}}}ZodMap.create=(tn,sn,un)=>new ZodMap({valueType:sn,keyType:tn,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(un)});class ZodSet extends ZodType{_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn);if(dn.parsedType!==ZodParsedType.set)return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:dn.parsedType}),INVALID;const pn=this._def;pn.minSize!==null&&dn.data.size<pn.minSize.value&&(addIssueToContext(dn,{code:ZodIssueCode.too_small,minimum:pn.minSize.value,type:"set",inclusive:!0,exact:!1,message:pn.minSize.message}),un.dirty()),pn.maxSize!==null&&dn.data.size>pn.maxSize.value&&(addIssueToContext(dn,{code:ZodIssueCode.too_big,maximum:pn.maxSize.value,type:"set",inclusive:!0,exact:!1,message:pn.maxSize.message}),un.dirty());const mn=this._def.valueType;function hn(gn){const xn=new Set;for(const yn of gn){if(yn.status==="aborted")return INVALID;yn.status==="dirty"&&un.dirty(),xn.add(yn.value)}return{status:un.value,value:xn}}const fn=[...dn.data.values()].map((gn,xn)=>mn._parse(new ParseInputLazyPath(dn,gn,dn.path,xn)));return dn.common.async?Promise.all(fn).then(gn=>hn(gn)):hn(fn)}min(sn,un){return new ZodSet({...this._def,minSize:{value:sn,message:errorUtil.toString(un)}})}max(sn,un){return new ZodSet({...this._def,maxSize:{value:sn,message:errorUtil.toString(un)}})}size(sn,un){return this.min(sn,un).max(sn,un)}nonempty(sn){return this.min(1,sn)}}ZodSet.create=(tn,sn)=>new ZodSet({valueType:tn,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(sn)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(sn){const{ctx:un}=this._processInputParams(sn);if(un.parsedType!==ZodParsedType.function)return addIssueToContext(un,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:un.parsedType}),INVALID;function dn(fn,gn){return makeIssue({data:fn,path:un.path,errorMaps:[un.common.contextualErrorMap,un.schemaErrorMap,getErrorMap(),errorMap].filter(xn=>!!xn),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:gn}})}function pn(fn,gn){return makeIssue({data:fn,path:un.path,errorMaps:[un.common.contextualErrorMap,un.schemaErrorMap,getErrorMap(),errorMap].filter(xn=>!!xn),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:gn}})}const mn={errorMap:un.common.contextualErrorMap},hn=un.data;if(this._def.returns instanceof ZodPromise){const fn=this;return OK(async function(...gn){const xn=new ZodError([]),yn=await fn._def.args.parseAsync(gn,mn).catch(bn=>{throw xn.addIssue(dn(gn,bn)),xn}),vn=await Reflect.apply(hn,this,yn);return await fn._def.returns._def.type.parseAsync(vn,mn).catch(bn=>{throw xn.addIssue(pn(vn,bn)),xn})})}else{const fn=this;return OK(function(...gn){const xn=fn._def.args.safeParse(gn,mn);if(!xn.success)throw new ZodError([dn(gn,xn.error)]);const yn=Reflect.apply(hn,this,xn.data),vn=fn._def.returns.safeParse(yn,mn);if(!vn.success)throw new ZodError([pn(yn,vn.error)]);return vn.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...sn){return new ZodFunction({...this._def,args:ZodTuple.create(sn).rest(ZodUnknown.create())})}returns(sn){return new ZodFunction({...this._def,returns:sn})}implement(sn){return this.parse(sn)}strictImplement(sn){return this.parse(sn)}static create(sn,un,dn){return new ZodFunction({args:sn||ZodTuple.create([]).rest(ZodUnknown.create()),returns:un||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(dn)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(sn){const{ctx:un}=this._processInputParams(sn);return this._def.getter()._parse({data:un.data,path:un.path,parent:un})}}ZodLazy.create=(tn,sn)=>new ZodLazy({getter:tn,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(sn)});class ZodLiteral extends ZodType{_parse(sn){if(sn.data!==this._def.value){const un=this._getOrReturnCtx(sn);return addIssueToContext(un,{received:un.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:sn.data}}get value(){return this._def.value}}ZodLiteral.create=(tn,sn)=>new ZodLiteral({value:tn,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(sn)});function createZodEnum(tn,sn){return new ZodEnum({values:tn,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(sn)})}class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(sn){if(typeof sn.data!="string"){const un=this._getOrReturnCtx(sn),dn=this._def.values;return addIssueToContext(un,{expected:util.joinValues(dn),received:un.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(sn.data)){const un=this._getOrReturnCtx(sn),dn=this._def.values;return addIssueToContext(un,{received:un.data,code:ZodIssueCode.invalid_enum_value,options:dn}),INVALID}return OK(sn.data)}get options(){return this._def.values}get enum(){const sn={};for(const un of this._def.values)sn[un]=un;return sn}get Values(){const sn={};for(const un of this._def.values)sn[un]=un;return sn}get Enum(){const sn={};for(const un of this._def.values)sn[un]=un;return sn}extract(sn,un=this._def){return ZodEnum.create(sn,{...this._def,...un})}exclude(sn,un=this._def){return ZodEnum.create(this.options.filter(dn=>!sn.includes(dn)),{...this._def,...un})}}_ZodEnum_cache=new WeakMap;ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(sn){const un=util.getValidEnumValues(this._def.values),dn=this._getOrReturnCtx(sn);if(dn.parsedType!==ZodParsedType.string&&dn.parsedType!==ZodParsedType.number){const pn=util.objectValues(un);return addIssueToContext(dn,{expected:util.joinValues(pn),received:dn.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(sn.data)){const pn=util.objectValues(un);return addIssueToContext(dn,{received:dn.data,code:ZodIssueCode.invalid_enum_value,options:pn}),INVALID}return OK(sn.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap;ZodNativeEnum.create=(tn,sn)=>new ZodNativeEnum({values:tn,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(sn)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(sn){const{ctx:un}=this._processInputParams(sn);if(un.parsedType!==ZodParsedType.promise&&un.common.async===!1)return addIssueToContext(un,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:un.parsedType}),INVALID;const dn=un.parsedType===ZodParsedType.promise?un.data:Promise.resolve(un.data);return OK(dn.then(pn=>this._def.type.parseAsync(pn,{path:un.path,errorMap:un.common.contextualErrorMap})))}}ZodPromise.create=(tn,sn)=>new ZodPromise({type:tn,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(sn)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn),pn=this._def.effect||null,mn={addIssue:hn=>{addIssueToContext(dn,hn),hn.fatal?un.abort():un.dirty()},get path(){return dn.path}};if(mn.addIssue=mn.addIssue.bind(mn),pn.type==="preprocess"){const hn=pn.transform(dn.data,mn);if(dn.common.async)return Promise.resolve(hn).then(async fn=>{if(un.value==="aborted")return INVALID;const gn=await this._def.schema._parseAsync({data:fn,path:dn.path,parent:dn});return gn.status==="aborted"?INVALID:gn.status==="dirty"||un.value==="dirty"?DIRTY(gn.value):gn});{if(un.value==="aborted")return INVALID;const fn=this._def.schema._parseSync({data:hn,path:dn.path,parent:dn});return fn.status==="aborted"?INVALID:fn.status==="dirty"||un.value==="dirty"?DIRTY(fn.value):fn}}if(pn.type==="refinement"){const hn=fn=>{const gn=pn.refinement(fn,mn);if(dn.common.async)return Promise.resolve(gn);if(gn instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return fn};if(dn.common.async===!1){const fn=this._def.schema._parseSync({data:dn.data,path:dn.path,parent:dn});return fn.status==="aborted"?INVALID:(fn.status==="dirty"&&un.dirty(),hn(fn.value),{status:un.value,value:fn.value})}else return this._def.schema._parseAsync({data:dn.data,path:dn.path,parent:dn}).then(fn=>fn.status==="aborted"?INVALID:(fn.status==="dirty"&&un.dirty(),hn(fn.value).then(()=>({status:un.value,value:fn.value}))))}if(pn.type==="transform")if(dn.common.async===!1){const hn=this._def.schema._parseSync({data:dn.data,path:dn.path,parent:dn});if(!isValid(hn))return hn;const fn=pn.transform(hn.value,mn);if(fn instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:un.value,value:fn}}else return this._def.schema._parseAsync({data:dn.data,path:dn.path,parent:dn}).then(hn=>isValid(hn)?Promise.resolve(pn.transform(hn.value,mn)).then(fn=>({status:un.value,value:fn})):hn);util.assertNever(pn)}}ZodEffects.create=(tn,sn,un)=>new ZodEffects({schema:tn,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:sn,...processCreateParams(un)});ZodEffects.createWithPreprocess=(tn,sn,un)=>new ZodEffects({schema:sn,effect:{type:"preprocess",transform:tn},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(un)});class ZodOptional extends ZodType{_parse(sn){return this._getType(sn)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(sn)}unwrap(){return this._def.innerType}}ZodOptional.create=(tn,sn)=>new ZodOptional({innerType:tn,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(sn)});class ZodNullable extends ZodType{_parse(sn){return this._getType(sn)===ZodParsedType.null?OK(null):this._def.innerType._parse(sn)}unwrap(){return this._def.innerType}}ZodNullable.create=(tn,sn)=>new ZodNullable({innerType:tn,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(sn)});class ZodDefault extends ZodType{_parse(sn){const{ctx:un}=this._processInputParams(sn);let dn=un.data;return un.parsedType===ZodParsedType.undefined&&(dn=this._def.defaultValue()),this._def.innerType._parse({data:dn,path:un.path,parent:un})}removeDefault(){return this._def.innerType}}ZodDefault.create=(tn,sn)=>new ZodDefault({innerType:tn,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof sn.default=="function"?sn.default:()=>sn.default,...processCreateParams(sn)});class ZodCatch extends ZodType{_parse(sn){const{ctx:un}=this._processInputParams(sn),dn={...un,common:{...un.common,issues:[]}},pn=this._def.innerType._parse({data:dn.data,path:dn.path,parent:{...dn}});return isAsync(pn)?pn.then(mn=>({status:"valid",value:mn.status==="valid"?mn.value:this._def.catchValue({get error(){return new ZodError(dn.common.issues)},input:dn.data})})):{status:"valid",value:pn.status==="valid"?pn.value:this._def.catchValue({get error(){return new ZodError(dn.common.issues)},input:dn.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(tn,sn)=>new ZodCatch({innerType:tn,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof sn.catch=="function"?sn.catch:()=>sn.catch,...processCreateParams(sn)});class ZodNaN extends ZodType{_parse(sn){if(this._getType(sn)!==ZodParsedType.nan){const dn=this._getOrReturnCtx(sn);return addIssueToContext(dn,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:dn.parsedType}),INVALID}return{status:"valid",value:sn.data}}}ZodNaN.create=tn=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(tn)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(sn){const{ctx:un}=this._processInputParams(sn),dn=un.data;return this._def.type._parse({data:dn,path:un.path,parent:un})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(sn){const{status:un,ctx:dn}=this._processInputParams(sn);if(dn.common.async)return(async()=>{const mn=await this._def.in._parseAsync({data:dn.data,path:dn.path,parent:dn});return mn.status==="aborted"?INVALID:mn.status==="dirty"?(un.dirty(),DIRTY(mn.value)):this._def.out._parseAsync({data:mn.value,path:dn.path,parent:dn})})();{const pn=this._def.in._parseSync({data:dn.data,path:dn.path,parent:dn});return pn.status==="aborted"?INVALID:pn.status==="dirty"?(un.dirty(),{status:"dirty",value:pn.value}):this._def.out._parseSync({data:pn.value,path:dn.path,parent:dn})}}static create(sn,un){return new ZodPipeline({in:sn,out:un,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(sn){const un=this._def.innerType._parse(sn),dn=pn=>(isValid(pn)&&(pn.value=Object.freeze(pn.value)),pn);return isAsync(un)?un.then(pn=>dn(pn)):dn(un)}unwrap(){return this._def.innerType}}ZodReadonly.create=(tn,sn)=>new ZodReadonly({innerType:tn,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(sn)});function cleanParams(tn,sn){const un=typeof tn=="function"?tn(sn):typeof tn=="string"?{message:tn}:tn;return typeof un=="string"?{message:un}:un}function custom(tn,sn={},un){return tn?ZodAny.create().superRefine((dn,pn)=>{var mn,hn;const fn=tn(dn);if(fn instanceof Promise)return fn.then(gn=>{var xn,yn;if(!gn){const vn=cleanParams(sn,dn),En=(yn=(xn=vn.fatal)!==null&&xn!==void 0?xn:un)!==null&&yn!==void 0?yn:!0;pn.addIssue({code:"custom",...vn,fatal:En})}});if(!fn){const gn=cleanParams(sn,dn),xn=(hn=(mn=gn.fatal)!==null&&mn!==void 0?mn:un)!==null&&hn!==void 0?hn:!0;pn.addIssue({code:"custom",...gn,fatal:xn})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(tn){tn.ZodString="ZodString",tn.ZodNumber="ZodNumber",tn.ZodNaN="ZodNaN",tn.ZodBigInt="ZodBigInt",tn.ZodBoolean="ZodBoolean",tn.ZodDate="ZodDate",tn.ZodSymbol="ZodSymbol",tn.ZodUndefined="ZodUndefined",tn.ZodNull="ZodNull",tn.ZodAny="ZodAny",tn.ZodUnknown="ZodUnknown",tn.ZodNever="ZodNever",tn.ZodVoid="ZodVoid",tn.ZodArray="ZodArray",tn.ZodObject="ZodObject",tn.ZodUnion="ZodUnion",tn.ZodDiscriminatedUnion="ZodDiscriminatedUnion",tn.ZodIntersection="ZodIntersection",tn.ZodTuple="ZodTuple",tn.ZodRecord="ZodRecord",tn.ZodMap="ZodMap",tn.ZodSet="ZodSet",tn.ZodFunction="ZodFunction",tn.ZodLazy="ZodLazy",tn.ZodLiteral="ZodLiteral",tn.ZodEnum="ZodEnum",tn.ZodEffects="ZodEffects",tn.ZodNativeEnum="ZodNativeEnum",tn.ZodOptional="ZodOptional",tn.ZodNullable="ZodNullable",tn.ZodDefault="ZodDefault",tn.ZodCatch="ZodCatch",tn.ZodPromise="ZodPromise",tn.ZodBranded="ZodBranded",tn.ZodPipeline="ZodPipeline",tn.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(tn,sn={message:`Input not instance of ${tn.name}`})=>custom(un=>un instanceof tn,sn),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:tn=>ZodString.create({...tn,coerce:!0}),number:tn=>ZodNumber.create({...tn,coerce:!0}),boolean:tn=>ZodBoolean.create({...tn,coerce:!0}),bigint:tn=>ZodBigInt.create({...tn,coerce:!0}),date:tn=>ZodDate.create({...tn,coerce:!0})},NEVER=INVALID;var z$1=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const Form=FormProvider,FormFieldContext=reactExports.createContext({}),FormField=({...tn})=>jsxRuntimeExports.jsx(FormFieldContext.Provider,{value:{name:tn.name},children:jsxRuntimeExports.jsx(Controller,{...tn})}),useFormField=()=>{const tn=reactExports.useContext(FormFieldContext),sn=reactExports.useContext(FormItemContext),{getFieldState:un,formState:dn}=useFormContext(),pn=un(tn.name,dn);if(!tn)throw new Error("useFormField should be used within <FormField>");const{id:mn}=sn;return{id:mn,name:tn.name,formItemId:`${mn}-form-item`,formDescriptionId:`${mn}-form-item-description`,formMessageId:`${mn}-form-item-message`,...pn}},FormItemContext=reactExports.createContext({}),FormItem=reactExports.forwardRef(({className:tn,...sn},un)=>{const dn=reactExports.useId();return jsxRuntimeExports.jsx(FormItemContext.Provider,{value:{id:dn},children:jsxRuntimeExports.jsx("div",{ref:un,className:cn("space-y-2",tn),...sn})})});FormItem.displayName="FormItem";const FormLabel=reactExports.forwardRef(({className:tn,...sn},un)=>{const{error:dn,formItemId:pn}=useFormField();return jsxRuntimeExports.jsx(Label$1,{ref:un,className:cn(dn&&"text-destructive",tn),htmlFor:pn,...sn})});FormLabel.displayName="FormLabel";const FormControl=reactExports.forwardRef(({...tn},sn)=>{const{error:un,formItemId:dn,formDescriptionId:pn,formMessageId:mn}=useFormField();return jsxRuntimeExports.jsx(Slot$3,{ref:sn,id:dn,"aria-describedby":un?`${pn} ${mn}`:`${pn}`,"aria-invalid":!!un,...tn})});FormControl.displayName="FormControl";const FormDescription=reactExports.forwardRef(({className:tn,...sn},un)=>{const{formDescriptionId:dn}=useFormField();return jsxRuntimeExports.jsx("p",{ref:un,id:dn,className:cn("text-sm text-muted-foreground",tn),...sn})});FormDescription.displayName="FormDescription";const FormMessage=reactExports.forwardRef(({className:tn,children:sn,...un},dn)=>{const{error:pn,formMessageId:mn}=useFormField(),hn=pn?String((pn==null?void 0:pn.message)??""):sn;return hn?jsxRuntimeExports.jsx("p",{ref:dn,id:mn,className:cn("text-sm font-medium text-destructive",tn),...un,children:hn}):null});FormMessage.displayName="FormMessage";const profileSchema=z$1.object({firstName:z$1.string().min(1,"First name is required"),lastName:z$1.string().min(1,"Last name is required"),displayName:z$1.string().min(1,"Display name is required"),email:z$1.string().email("Invalid email address")}),passwordSchema=z$1.object({currentPassword:z$1.string().min(1,"Current password is required"),newPassword:z$1.string().min(6,"Password must be at least 6 characters"),confirmPassword:z$1.string().min(1,"Please confirm your password")}).refine(tn=>tn.newPassword===tn.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function UserProfile(){const{toast:tn}=useToast(),{user:sn}=useAuth(),[un,dn]=reactExports.useState("profile"),pn=useForm({resolver:t(profileSchema),defaultValues:{firstName:"",lastName:"",displayName:"",email:""}}),mn=useForm({resolver:t(passwordSchema),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),{data:hn,isLoading:fn}=useQuery({queryKey:["/api/auth/profile"],enabled:!!sn});reactExports.useEffect(()=>{if(hn&&typeof hn=="object"){const En=hn;pn.reset({firstName:En.firstName||"",lastName:En.lastName||"",displayName:En.displayName||"",email:En.email||""})}},[hn,pn]);const gn=useMutation({mutationFn:async En=>await apiRequest("PUT","/api/auth/profile",En),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/auth/user"]}),queryClient.invalidateQueries({queryKey:["/api/auth/profile"]}),tn({title:"Profile updated",description:"Your profile has been successfully updated."})},onError:En=>{tn({title:"Error",description:En.message||"Failed to update profile",variant:"destructive"})}}),xn=useMutation({mutationFn:async En=>await apiRequest("PUT","/api/auth/change-password",{currentPassword:En.currentPassword,newPassword:En.newPassword}),onSuccess:()=>{mn.reset(),tn({title:"Password changed",description:"Your password has been successfully updated."})},onError:En=>{tn({title:"Error",description:En.message||"Failed to change password",variant:"destructive"})}}),yn=En=>{gn.mutate(En)},vn=En=>{xn.mutate(En)};return fn?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-96",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(User,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-main-heading text-primary",children:"Account Settings"}),jsxRuntimeExports.jsx("p",{className:"font-body text-muted-foreground",children:"Manage your profile information and account security"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-1 border-b",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>dn("profile"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${un==="profile"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 inline mr-2"}),"Profile"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>dn("password"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${un==="password"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4 inline mr-2"}),"Password"]})]}),un==="profile"&&jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),"Profile Information"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Update your personal information and display preferences"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx(Form,{...pn,children:jsxRuntimeExports.jsxs("form",{onSubmit:pn.handleSubmit(yn),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:pn.control,name:"firstName",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"First Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"John",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:pn.control,name:"lastName",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Last Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Doe",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:pn.control,name:"displayName",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Display Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"How you want to appear in messages and activities",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:pn.control,name:"email",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Email Address"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"john@example.com",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:gn.isPending,className:"btn-tsp-primary",children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4 mr-2"}),gn.isPending?"Saving...":"Save Changes"]})]})})})]}),un==="password"&&jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lock,{className:"w-5 h-5"}),"Change Password"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Update your account password for security"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsx(Form,{...mn,children:jsxRuntimeExports.jsxs("form",{onSubmit:mn.handleSubmit(vn),className:"space-y-6",children:[jsxRuntimeExports.jsx(FormField,{control:mn.control,name:"currentPassword",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Current Password"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter your current password",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx(FormField,{control:mn.control,name:"newPassword",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"New Password"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Enter your new password",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:mn.control,name:"confirmPassword",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Confirm New Password"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"password",placeholder:"Confirm your new password",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:xn.isPending,className:"btn-tsp-primary",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4 mr-2"}),xn.isPending?"Changing...":"Change Password"]})]})})})]})]})}function AnnouncementBanner(){const[tn,sn]=reactExports.useState(()=>{const gn=localStorage.getItem("dismissedBanners");return gn?JSON.parse(gn):[]}),{data:un=[]}=useQuery({queryKey:["/api/announcements"],refetchInterval:5*60*1e3}),pn=un.filter(gn=>{const xn=new Date,yn=new Date(gn.startDate),vn=new Date(gn.endDate);return gn.isActive&&xn>=yn&&xn<=vn&&!tn.includes(gn.id)}).sort((gn,xn)=>{const yn={urgent:4,high:3,medium:2,low:1};return yn[xn.priority]-yn[gn.priority]})[0],mn=gn=>{const xn=[...tn,gn];sn(xn),localStorage.setItem("dismissedBanners",JSON.stringify(xn))};if(reactExports.useEffect(()=>{const gn=localStorage.getItem("lastBannerClear"),xn=new Date().toDateString();gn!==xn&&(sn([]),localStorage.setItem("dismissedBanners",JSON.stringify([])),localStorage.setItem("lastBannerClear",xn))},[]),!pn)return null;const hn=gn=>{switch(gn){case"event":return jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5"});case"position":return jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"});case"alert":return jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5"});default:return jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5"})}},fn=(gn,xn)=>{const yn="border-l-4 shadow-sm";return gn==="urgent"?`${yn} bg-red-50 border-red-500 text-red-900`:gn==="high"?`${yn} bg-orange-50 border-orange-500 text-orange-900`:xn==="event"?`${yn} bg-blue-50 border-blue-500 text-blue-900`:xn==="position"?`${yn} bg-green-50 border-green-500 text-green-900`:`${yn} bg-slate-50 border-slate-500 text-slate-900`};return jsxRuntimeExports.jsx("div",{className:`w-full px-4 py-3 ${fn(pn.priority,pn.type)}`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 mt-0.5",children:hn(pn.type)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm mb-1",children:pn.title}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:pn.message}),pn.link&&jsxRuntimeExports.jsx("a",{href:pn.link,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-sm font-medium underline hover:no-underline",children:pn.linkText||"Learn More"})]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>mn(pn.id),className:"flex-shrink-0 h-6 w-6 p-0 hover:bg-black/10",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})})}function MessageNotifications({user:tn}){const sn=!!tn,[un,dn]=reactExports.useState(Date.now());if(!sn||!tn)return null;const{data:pn,refetch:mn,error:hn,isLoading:fn}=useQuery({queryKey:["/api/message-notifications/unread-counts"],enabled:!!tn,refetchInterval:12e4});if(reactExports.useEffect(()=>{if(!tn)return;const bn=()=>{console.log("Refreshing notification counts after chat read"),mn()};return window.addEventListener("refreshNotifications",bn),()=>{window.removeEventListener("refreshNotifications",bn)}},[tn,mn]),reactExports.useEffect(()=>{if(!tn)return;let bn=null,wn=null;try{const Rn=(()=>{if(typeof window>"u")return"";const jn=window.location.protocol==="https:"?"wss:":"ws:",Cn=window.location.host;return Cn.includes("replit.dev")||Cn.includes("replit.com")?`${jn}//${Cn}/notifications`:Cn.includes("localhost")||Cn.startsWith("127.0.0.1")?`${jn}//localhost:5000/notifications`:`${jn}//${Cn}/notifications`})();if(console.log("Connecting to WebSocket at:",Rn),!Rn){console.warn("Unable to construct WebSocket URL");return}const _n=()=>{try{bn=new WebSocket(Rn),bn.onopen=()=>{console.log("WebSocket connected successfully"),bn&&tn&&bn.send(JSON.stringify({type:"identify",userId:tn.id}))},bn.onmessage=jn=>{try{const Cn=JSON.parse(jn.data);console.log("WebSocket notification received:",Cn),Cn.type==="notification"&&(mn(),dn(Date.now()))}catch(Cn){console.error("Error parsing WebSocket message:",Cn)}},bn.onclose=jn=>{console.log("WebSocket connection closed:",jn.code,jn.reason),bn=null,jn.code!==1e3&&(wn=setTimeout(_n,5e3))},bn.onerror=jn=>{console.error("WebSocket error:",jn),bn=null}}catch(jn){console.error("Failed to create WebSocket connection:",jn),wn=setTimeout(_n,1e4)}};_n()}catch(Sn){console.error("Failed to initialize WebSocket:",Sn)}return()=>{wn&&clearTimeout(wn),bn&&bn.close(1e3,"Component unmounting")}},[tn,mn]),reactExports.useEffect(()=>{typeof Notification<"u"&&Notification.permission==="default"&&Notification.requestPermission()},[]),fn||hn)return null;const gn=pn||{general:0,committee:0,hosts:0,drivers:0,recipients:0,core_team:0,direct:0,groups:0,total:0},xn=gn.total||0,yn=async()=>{try{await apiRequest("POST","/api/message-notifications/mark-all-read"),mn()}catch{}},vn=bn=>({general:"General Chat",committee:"Committee Chat",hosts:"Host Chat",drivers:"Driver Chat",recipients:"Recipient Chat",core_team:"Core Team",direct:"Direct Messages",groups:"Group Messages"})[bn]||bn,En=bn=>{bn==="direct"||bn==="groups"?window.location.href="/messages":window.location.href="/dashboard?section=chat"};return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"relative",children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-green-400 rounded-full",title:"Notifications Active"}),xn>0&&jsxRuntimeExports.jsx(Badge,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:xn>99?"99+":xn})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-80",children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{className:"font-semibold",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Message Notifications"}),xn>0&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:yn,className:"text-xs h-6 px-2",children:"Mark all read"})]})}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),xn===0?jsxRuntimeExports.jsx(DropdownMenuItem,{className:"text-muted-foreground",children:"No unread messages"}):Object.entries(gn).filter(([bn,wn])=>bn!=="total"&&wn>0).map(([bn,wn])=>jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"flex items-center justify-between cursor-pointer",onClick:()=>En(bn),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:vn(bn)})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-2",children:wn})]},bn))]})]})}const MessageNotifications$1=reactExports.memo(MessageNotifications,(tn,sn)=>{var un,dn;return((un=tn.user)==null?void 0:un.id)===((dn=sn.user)==null?void 0:dn.id)});function WorkLogPage(){const{user:tn}=useAuth(),sn=hasPermission(tn,PERMISSIONS.CREATE_WORK_LOGS);hasPermission(tn,PERMISSIONS.CREATE_WORK_LOGS);const un=hasPermission(tn,PERMISSIONS.CREATE_WORK_LOGS),dn=hasPermission(tn,PERMISSIONS.VIEW_ALL_WORK_LOGS);hasPermission(tn,PERMISSIONS.EDIT_ALL_WORK_LOGS);const pn=hasPermission(tn,PERMISSIONS.DELETE_ALL_WORK_LOGS),[mn,hn]=reactExports.useState(""),[fn,gn]=reactExports.useState(0),[xn,yn]=reactExports.useState(0),[vn,En]=reactExports.useState(()=>new Date().toISOString().split("T")[0]),{data:bn=[],refetch:wn,isLoading:Sn,error:Rn}=useQuery({queryKey:["/api/work-logs"],queryFn:async()=>{console.log("🚀 Work logs query function called");const An=await apiRequest("GET","/api/work-logs");return console.log("🚀 Work logs API response data:",An),An},enabled:!!tn,staleTime:0,gcTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),_n=Array.isArray(bn)?bn:[],jn=useMutation({mutationFn:async()=>await apiRequest("POST","/api/work-logs",{description:mn||"Work logged",hours:fn,minutes:xn,workDate:vn+"T12:00:00.000Z"}),onSuccess:()=>{hn(""),gn(0),yn(0),En(()=>new Date().toISOString().split("T")[0]),queryClient.invalidateQueries({queryKey:["/api/work-logs"]}),wn()}}),Cn=useMutation({mutationFn:async An=>await apiRequest("DELETE",`/api/work-logs/${An}`),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/work-logs"]}),wn()}});return jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto py-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 px-2",children:["Debug: ",_n.length," logs loaded • User: ",(tn==null?void 0:tn.email)||"Unknown"]}),sn&&jsxRuntimeExports.jsxs(Card$1,{className:"shadow-sm",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-4",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg font-semibold text-gray-900",children:"Log Your Work"})}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:An=>{An.preventDefault(),jn.mutate()},className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Work Date"}),jsxRuntimeExports.jsx(Input,{type:"date",value:vn,onChange:An=>En(An.target.value),required:!0,className:"w-full sm:w-48"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Time Spent"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"number",min:0,max:23,value:fn,onChange:An=>gn(Number(An.target.value)),placeholder:"0",required:!0,className:"w-16 text-center bg-white"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"hours"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"number",min:0,max:59,value:xn,onChange:An=>yn(Number(An.target.value)),placeholder:"0",required:!0,className:"w-16 text-center bg-white"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"minutes"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Work Description ",jsxRuntimeExports.jsx("span",{className:"text-gray-500 font-normal",children:"(optional)"})]}),jsxRuntimeExports.jsx(Textarea,{value:mn,onChange:An=>hn(An.target.value),placeholder:"Describe what you worked on (optional)...",rows:3,className:"resize-none"})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(Button,{type:"submit",disabled:jn.isPending,className:"bg-[#FBAD3F] hover:bg-[#f09f2b] text-white font-medium px-6",children:jn.isPending?"Logging...":"Log Work"})})]})})]}),jsxRuntimeExports.jsxs(Card$1,{className:"shadow-sm",children:[jsxRuntimeExports.jsx(CardHeader$1,{className:"pb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg font-semibold text-gray-900",children:dn?"All Work Logs":"My Work Logs"}),jsxRuntimeExports.jsx(Button,{onClick:()=>wn(),variant:"outline",size:"sm",className:"text-xs",children:"Refresh"})]})}),jsxRuntimeExports.jsxs(CardContent$1,{children:[Sn&&jsxRuntimeExports.jsx("div",{className:"py-8 text-center text-gray-500",children:"Loading work logs..."}),Rn&&jsxRuntimeExports.jsxs("div",{className:"py-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-red-600 font-medium",children:"Error loading logs"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mt-1",children:Rn.message})]}),!Sn&&!Rn&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[_n.length===0&&jsxRuntimeExports.jsx("div",{className:"py-8 text-center text-gray-500",children:"No work logs found. Start by logging your first work session above."}),_n.map(An=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-900 font-medium leading-relaxed",children:An.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("span",{className:"font-medium text-[#FBAD3F]",children:[An.hours,"h ",An.minutes,"m"]}),jsxRuntimeExports.jsx("span",{children:An.workDate?new Date(An.workDate).toLocaleDateString():new Date(An.createdAt).toLocaleDateString()}),(An==null?void 0:An.userId)!==(tn==null?void 0:tn.id)&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 text-xs px-2 py-1 bg-blue-50 rounded-full",children:"Other user"})]}),(un&&(An==null?void 0:An.userId)===(tn==null?void 0:tn.id)||pn)&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Cn.mutate(An==null?void 0:An.id),disabled:Cn.isPending,className:"text-gray-400 hover:text-red-600 hover:bg-red-50 text-xs px-2 py-1",children:"Remove"})]})]},(An==null?void 0:An.id)||Math.random()))]})]})]})]})}function MessageComposer$1({contextType:tn="direct",contextId:sn,contextTitle:un,onSent:dn,onCancel:pn}){const[mn,hn]=reactExports.useState(""),[fn,gn]=reactExports.useState([]),{toast:xn}=useToast(),{sendMessage:yn,isSending:vn}=useMessaging(),En=useQueryClient(),{data:bn=[],isLoading:wn}=useQuery({queryKey:["/api/users"],queryFn:async()=>{try{const Rn=await apiRequest("GET","/api/users");return Array.isArray(Rn)?Rn:[]}catch(Rn){return console.error("Error fetching users:",Rn),[]}},enabled:tn==="direct"}),Sn=async()=>{if(!mn.trim()){xn({title:"Message content required",description:"Please enter a message",variant:"destructive"});return}if(fn.length===0){xn({title:"Recipients required",description:"Please select at least one recipient",variant:"destructive"});return}console.log("Sending message:",{recipientIds:fn,content:mn.trim(),contextType:tn,contextId:sn,recipientCount:fn.length});try{await yn({recipientIds:fn,content:mn.trim(),contextType:tn,contextId:sn}),hn(""),gn([]),dn==null||dn(),xn({description:"Message sent successfully"}),En.invalidateQueries({queryKey:["/api/messages"]})}catch(Rn){console.error("Failed to send message:",Rn),xn({title:"Failed to send message",description:Rn instanceof Error?Rn.message:"Please try again",variant:"destructive"})}};return jsxRuntimeExports.jsxs(Card$1,{className:"w-full max-w-2xl mx-auto",children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg",children:["Compose Message",tn!=="direct"&&un&&jsxRuntimeExports.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["to ",un]})]}),pn&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:pn,children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),tn!=="direct"&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"w-fit",children:[tn.charAt(0).toUpperCase()+tn.slice(1)," Message"]})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-4",children:[tn==="direct"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Recipients"}),wn?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Loading users..."}):jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto border rounded-lg p-3 bg-white dark:bg-gray-900",children:bn.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"No users available"}):bn.map(Rn=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",children:[jsxRuntimeExports.jsx(Checkbox,{id:Rn.id,checked:fn.includes(Rn.id),onCheckedChange:_n=>{gn(_n?[...fn,Rn.id]:fn.filter(jn=>jn!==Rn.id))}}),jsxRuntimeExports.jsxs("label",{htmlFor:Rn.id,className:"text-sm cursor-pointer text-gray-900 dark:text-gray-100 font-medium flex-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:Rn.firstName&&Rn.lastName?`${Rn.firstName} ${Rn.lastName}`:Rn.email}),Rn.email&&Rn.firstName&&jsxRuntimeExports.jsxs("span",{className:"text-gray-600 dark:text-gray-400 ml-1 font-normal",children:["(",Rn.email,")"]})]})]},Rn.id))}),fn.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:"Selected:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:fn.map(Rn=>{const _n=bn.find(jn=>jn.id===Rn);return _n?jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:_n.firstName&&_n.lastName?`${_n.firstName} ${_n.lastName}`:_n.email},Rn):null})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Message"}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Type your message...",value:mn,onChange:Rn=>hn(Rn.target.value),rows:4,className:"mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[pn&&jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:pn,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{onClick:Sn,disabled:!mn.trim()||vn||tn==="direct"&&fn.length===0,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4"}),vn?"Sending...":"Send Message"]})]})]})]})}const suggestionSchema=z$1.object({title:z$1.string().min(1,"Title is required").max(200,"Title must be under 200 characters"),description:z$1.string().min(10,"Description must be at least 10 characters").max(2e3,"Description must be under 2000 characters"),category:z$1.string().default("general"),priority:z$1.string().default("medium"),isAnonymous:z$1.boolean().default(!1),tags:z$1.array(z$1.string()).default([])});function SuggestionsPortal(){const[tn,sn]=reactExports.useState(null),[un,dn]=reactExports.useState(!1),[pn,mn]=reactExports.useState(!1),[hn,fn]=reactExports.useState("all"),[gn,xn]=reactExports.useState(""),[yn,vn]=reactExports.useState(!1),[En,bn]=reactExports.useState("all"),[wn,Sn]=reactExports.useState("all"),{toast:Rn}=useToast(),_n=useQueryClient(),{data:jn}=useQuery({queryKey:["/api/auth/user"],enabled:!0}),Cn=hasPermission(jn,"create_suggestions");hasPermission(jn,"manage_suggestions"),hasPermission(jn,"respond_to_suggestions");const{data:An=[],isLoading:Tn}=useQuery({queryKey:["/api/suggestions"],enabled:hasPermission(jn,"access_suggestions")||hasPermission(jn,"create_suggestions"),staleTime:0});reactExports.useEffect(()=>{if(tn&&An.length>0){const Ln=An.find(zn=>zn.id===tn.id);Ln&&sn(Ln)}},[An,tn]);const $n=useMutation({mutationFn:Ln=>apiRequest("POST","/api/suggestions",Ln),onSuccess:()=>{_n.invalidateQueries({queryKey:["/api/suggestions"]}),dn(!1),Pn.reset(),Rn({title:"Success",description:"Your suggestion has been submitted successfully!"})},onError:Ln=>{Rn({title:"Error",description:(Ln==null?void 0:Ln.message)||"Failed to submit suggestion",variant:"destructive"})}}),Dn=useMutation({mutationFn:Ln=>apiRequest("POST",`/api/suggestions/${Ln}/upvote`),onSuccess:()=>{_n.invalidateQueries({queryKey:["/api/suggestions"]}),Rn({title:"Success",description:"Suggestion upvoted!"})}}),Nn=useMutation({mutationFn:({id:Ln,updates:zn})=>apiRequest("PATCH",`/api/suggestions/${Ln}`,zn),onSuccess:Ln=>{tn&&Ln&&sn({...tn,...Ln}),_n.invalidateQueries({queryKey:["/api/suggestions"]}),_n.refetchQueries({queryKey:["/api/suggestions"]}),Rn({title:"Success",description:"Suggestion updated successfully!"})},onError:Ln=>{Rn({title:"Error",description:"Failed to update suggestion",variant:"destructive"})}}),kn=useMutation({mutationFn:Ln=>apiRequest("DELETE",`/api/suggestions/${Ln}`),onSuccess:()=>{_n.invalidateQueries({queryKey:["/api/suggestions"]}),sn(null),Rn({title:"Suggestion deleted",description:"The suggestion has been permanently removed."})},onError:Ln=>{console.error("Failed to delete suggestion:",Ln),Rn({title:"Error",description:"Failed to delete suggestion. Please try again.",variant:"destructive"})}}),Pn=useForm({resolver:t(suggestionSchema),defaultValues:{category:"general",priority:"medium",isAnonymous:!1,tags:[]}}),Mn=An.filter(Ln=>{let zn=!0;switch(hn){case"pending":zn=Ln.status==="submitted"||Ln.status==="under_review"||Ln.status==="needs_clarification";break;case"in-progress":zn=Ln.status==="in_progress";break;case"completed":zn=Ln.status==="completed";break;case"mine":zn=Ln.submittedBy===(jn==null?void 0:jn.id);break;default:zn=!0}const Bn=gn===""||Ln.title.toLowerCase().includes(gn.toLowerCase())||Ln.description.toLowerCase().includes(gn.toLowerCase())||Ln.category.toLowerCase().includes(gn.toLowerCase()),Fn=En==="all"||Ln.category===En,Gn=wn==="all"||Ln.priority===wn;return zn&&Bn&&Fn&&Gn}),On=Ln=>{$n.mutate(Ln)},Wn=Ln=>{sn(Ln),mn(!0)},In=Ln=>{switch(Ln){case"high":return"bg-red-50 text-red-700 border-red-200";case"medium":return"bg-amber-50 text-amber-700 border-amber-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},Un=Ln=>{switch(Ln){case"completed":return{icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"}),color:"text-green-600",bg:"bg-green-50",label:"Completed"};case"in_progress":return{icon:jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),color:"text-blue-600",bg:"bg-blue-50",label:"In Progress"};case"under_review":return{icon:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),color:"text-purple-600",bg:"bg-purple-50",label:"Under Review"};case"needs_clarification":return{icon:jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4"}),color:"text-orange-600",bg:"bg-orange-50",label:"Needs Clarification"};case"on_hold":return{icon:jsxRuntimeExports.jsx(Pause,{className:"h-4 w-4"}),color:"text-yellow-600",bg:"bg-yellow-50",label:"On Hold"};case"rejected":return{icon:jsxRuntimeExports.jsx(CircleX,{className:"h-4 w-4"}),color:"text-red-600",bg:"bg-red-50",label:"Rejected"};default:return{icon:jsxRuntimeExports.jsx(Star,{className:"h-4 w-4"}),color:"text-gray-600",bg:"bg-gray-50",label:"Submitted"}}},Vn=()=>{const Ln=An;return{all:Ln.length,pending:Ln.filter(zn=>["submitted","under_review","needs_clarification"].includes(zn.status)).length,inProgress:Ln.filter(zn=>zn.status==="in_progress").length,completed:Ln.filter(zn=>zn.status==="completed").length,mine:Ln.filter(zn=>zn.submittedBy===(jn==null?void 0:jn.id)).length}};if(!hasPermission(jn,"access_suggestions")&&!hasPermission(jn,"create_suggestions"))return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:jsxRuntimeExports.jsx(Card$1,{className:"w-full max-w-md",children:jsxRuntimeExports.jsxs(CardHeader$1,{className:"text-center",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-12 w-12 mx-auto text-gray-400"}),jsxRuntimeExports.jsx(CardTitle,{children:"Access Required"}),jsxRuntimeExports.jsx(CardDescription,{children:"You need permission to view the suggestions portal."})]})})});const Hn=Vn();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-teal-600 to-teal-700 text-white",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold font-roboto flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/20 rounded-lg p-2",children:jsxRuntimeExports.jsx(Lightbulb,{className:"h-8 w-8 text-white"})}),jsxRuntimeExports.jsx("span",{className:"truncate",children:"Suggestions Portal"})]}),jsxRuntimeExports.jsx("p",{className:"text-teal-100 mt-2 text-lg font-roboto",children:"Share ideas and feedback to improve our operations"}),jsxRuntimeExports.jsx("div",{className:"bg-white/10 rounded-lg p-4 mt-4",children:jsxRuntimeExports.jsx("p",{className:"text-white leading-relaxed",children:"If you need something to work differently, if something is confusing to you, you have tips on how we could better arrange this whole site, or if you run into a bug, please submit your feedback here so we can get this where it serves your needs the best it possibly can!"})})]}),Cn&&jsxRuntimeExports.jsxs(Dialog,{open:un,onOpenChange:dn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white shadow-lg w-full sm:w-auto font-semibold",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 mr-2"}),"Submit New Suggestion"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Submit a New Suggestion"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Share your ideas for improving our operations, processes, or services."})]}),jsxRuntimeExports.jsx(Form,{...Pn,children:jsxRuntimeExports.jsxs("form",{onSubmit:Pn.handleSubmit(On),className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:Pn.control,name:"title",render:({field:Ln})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Title"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Brief summary of your suggestion",...Ln})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:Pn.control,name:"description",render:({field:Ln})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Description"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Detailed description of your suggestion, including benefits and implementation ideas",rows:5,...Ln})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:Pn.control,name:"category",render:({field:Ln})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Category"}),jsxRuntimeExports.jsxs(Select,{onValueChange:Ln.onChange,defaultValue:Ln.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select category"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"general",children:"General"}),jsxRuntimeExports.jsx(SelectItem,{value:"operations",children:"Operations"}),jsxRuntimeExports.jsx(SelectItem,{value:"technology",children:"Technology"}),jsxRuntimeExports.jsx(SelectItem,{value:"volunteer_experience",children:"Volunteer Experience"}),jsxRuntimeExports.jsx(SelectItem,{value:"communication",children:"Communication"}),jsxRuntimeExports.jsx(SelectItem,{value:"training",children:"Training"}),jsxRuntimeExports.jsx(SelectItem,{value:"logistics",children:"Logistics"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:Pn.control,name:"priority",render:({field:Ln})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Priority"}),jsxRuntimeExports.jsxs(Select,{onValueChange:Ln.onChange,defaultValue:Ln.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select priority"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:Pn.control,name:"isAnonymous",render:({field:Ln})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-0.5",children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-base",children:"Submit Anonymously"}),jsxRuntimeExports.jsx(FormDescription,{children:"Your name will not be shown with this suggestion"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Switch,{checked:Ln.value,onCheckedChange:Ln.onChange})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:()=>dn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:$n.isPending,children:$n.isPending?"Submitting...":"Submit Suggestion"})]})]})})]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-8 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 bg-gray-50 rounded-t-xl px-6 py-4",children:jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold text-gray-800 font-roboto flex items-center gap-2",children:[jsxRuntimeExports.jsx(Search$c,{className:"h-5 w-5 text-teal-600"}),"Search & Filter Suggestions"]})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search$c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search suggestions...",value:gn,onChange:Ln=>xn(Ln.target.value),className:"pl-10 h-11 border-gray-300 focus:border-teal-500 focus:ring-teal-500"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>vn(!yn),className:"flex items-center gap-2 h-11 border-gray-300 hover:border-teal-500 hover:text-teal-600",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Filters"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Filter"}),(En!=="all"||wn!=="all")&&jsxRuntimeExports.jsx(Badge,{className:"ml-1 bg-orange-500 text-white",children:[En!=="all"?1:0,wn!=="all"?1:0].reduce((Ln,zn)=>Ln+zn)})]})]}),yn&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:flex lg:flex-wrap gap-4 mt-4 pt-4 border-t border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1 sm:min-w-[200px]",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-semibold text-gray-700",children:"Category"}),jsxRuntimeExports.jsxs(Select,{value:En,onValueChange:bn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"mt-1 border-gray-300 focus:border-teal-500 focus:ring-teal-500",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Categories"}),jsxRuntimeExports.jsx(SelectItem,{value:"general",children:"General"}),jsxRuntimeExports.jsx(SelectItem,{value:"operations",children:"Operations"}),jsxRuntimeExports.jsx(SelectItem,{value:"technology",children:"Technology"}),jsxRuntimeExports.jsx(SelectItem,{value:"volunteer_experience",children:"Volunteer Experience"}),jsxRuntimeExports.jsx(SelectItem,{value:"communication",children:"Communication"}),jsxRuntimeExports.jsx(SelectItem,{value:"training",children:"Training"}),jsxRuntimeExports.jsx(SelectItem,{value:"logistics",children:"Logistics"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1 sm:min-w-[150px]",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-semibold text-gray-700",children:"Priority"}),jsxRuntimeExports.jsxs(Select,{value:wn,onValueChange:Sn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"mt-1 border-gray-300 focus:border-teal-500 focus:ring-teal-500",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"All Priorities"}),jsxRuntimeExports.jsx(SelectItem,{value:"high",children:"High"}),jsxRuntimeExports.jsx(SelectItem,{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx(SelectItem,{value:"low",children:"Low"})]})]})]}),(En!=="all"||wn!=="all")&&jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{bn("all"),Sn("all")},className:"text-sm text-orange-600 hover:text-orange-700 hover:bg-orange-50 w-full sm:w-auto",children:"Clear Filters"})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 bg-gray-50 rounded-t-xl px-6 py-4",children:jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold text-gray-800 font-roboto flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-5 w-5 text-teal-600"}),"Browse Suggestions by Status"]})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs(Tabs,{value:hn,onValueChange:fn,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:`grid w-full ${Cn&&hasPermission(jn,"submit_suggestions")?"grid-cols-3 sm:grid-cols-5":"grid-cols-2 sm:grid-cols-4"} gap-2 bg-gray-100 p-1 rounded-lg`,children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"all",className:"flex items-center gap-2 text-sm font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900",children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"All Suggestions"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"All"}),jsxRuntimeExports.jsx(Badge,{className:"bg-gray-600 text-white text-xs min-w-[20px] justify-center",children:Hn.all})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"pending",className:"flex items-center gap-2 text-sm font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900",children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Pending Review"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Pending"}),jsxRuntimeExports.jsx(Badge,{className:"bg-yellow-600 text-white text-xs min-w-[20px] justify-center",children:Hn.pending})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"in-progress",className:"flex items-center gap-2 text-sm font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900",children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"In Progress"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Active"}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-600 text-white text-xs min-w-[20px] justify-center",children:Hn.inProgress})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"completed",className:"flex items-center gap-2 text-sm font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900",children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Completed"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Done"}),jsxRuntimeExports.jsx(Badge,{className:"bg-green-600 text-white text-xs min-w-[20px] justify-center",children:Hn.completed})]}),Cn&&jsxRuntimeExports.jsxs(TabsTrigger,{value:"mine",className:"flex items-center gap-2 text-sm font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-gray-900",children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"My Suggestions"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Mine"}),jsxRuntimeExports.jsx(Badge,{className:"bg-teal-600 text-white text-xs min-w-[20px] justify-center",children:Hn.mine})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:hn,className:"mt-0",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 mt-6",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-gray-200 bg-gray-50 rounded-t-xl px-6 py-4",children:jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold text-gray-800 font-roboto flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"h-5 w-5 text-teal-600"}),hn==="all"&&"All Suggestions",hn==="pending"&&"Pending Review",hn==="in-progress"&&"In Progress",hn==="completed"&&"Completed",hn==="mine"&&"My Suggestions",jsxRuntimeExports.jsx(Badge,{className:"bg-gray-600 text-white ml-2",children:Mn.length})]})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:Tn?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[1,2,3].map(Ln=>jsxRuntimeExports.jsxs("div",{className:"animate-pulse border border-gray-200 rounded-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),jsxRuntimeExports.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),jsxRuntimeExports.jsx("div",{className:"h-5 w-5 bg-gray-200 rounded"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]},Ln))}):Mn.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:gn||En!=="all"||wn!=="all"?"No suggestions match your filters":"No suggestions found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-6",children:hn==="mine"&&Cn?"You haven't submitted any suggestions yet.":gn||En!=="all"||wn!=="all"?"Try adjusting your search or filter criteria.":"Be the first to share an idea for improvement."}),Cn&&(hn==="mine"||!gn&&En==="all"&&wn==="all")&&jsxRuntimeExports.jsxs(Button,{onClick:()=>dn(!0),className:"bg-orange-500 hover:bg-orange-600 text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Submit Your First Suggestion"]})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Mn.map(Ln=>{const zn=Un(Ln.status),Bn=Fn=>{switch(Fn){case"completed":return"border-l-green-500";case"in_progress":return"border-l-blue-500";case"under_review":return"border-l-purple-500";case"needs_clarification":return"border-l-orange-500";case"on_hold":return"border-l-yellow-500";case"rejected":return"border-l-red-500";default:return"border-l-gray-400"}};return jsxRuntimeExports.jsx("div",{className:`border border-gray-200 rounded-lg hover:shadow-md transition-all duration-200 border-l-4 ${Bn(Ln.status)} group bg-white`,children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>sn(Ln),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:`${zn.bg} ${zn.color} border-0 text-xs font-medium`,children:[zn.icon,jsxRuntimeExports.jsx("span",{className:"ml-1",children:zn.label})]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:`${In(Ln.priority)} border text-xs`,children:Ln.priority.charAt(0).toUpperCase()+Ln.priority.slice(1)})]}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold group-hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:Ln.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 line-clamp-2 text-sm",children:Ln.description.length>120?`${Ln.description.substring(0,120)}...`:Ln.description})]}),jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-500 transition-colors flex-shrink-0"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Ln.isAnonymous?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:"Anonymous"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:Ln.submitterName||"Unknown"})]})}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:Ln.category.replace("_"," ")}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:new Date(Ln.createdAt).toLocaleDateString()})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Fn=>{Fn.stopPropagation(),Dn.mutate(Ln.id)},className:"flex items-center gap-1 h-8 px-2 hover:bg-blue-50 hover:text-blue-600",children:[jsxRuntimeExports.jsx(ThumbsUp,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ln.upvotes||0})]})})]}),hasPermission(jn,"manage_suggestions")&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t border-gray-100",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Fn=>{Fn.stopPropagation(),Nn.mutate({id:Ln.id,updates:{status:"under_review",assignedTo:jn==null?void 0:jn.id}})},disabled:Ln.status==="under_review",className:"h-8 px-3 text-xs text-blue-700 hover:bg-blue-50 hover:text-blue-800",children:[jsxRuntimeExports.jsx(Eye,{className:"h-3 w-3 mr-1.5"}),"Review"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Fn=>{Fn.stopPropagation(),Nn.mutate({id:Ln.id,updates:{status:"in_progress",assignedTo:jn==null?void 0:jn.id}})},disabled:Ln.status==="in_progress",className:"h-8 px-3 text-xs text-orange-700 hover:bg-orange-50 hover:text-orange-800",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3 mr-1.5"}),"In Progress"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Fn=>{Fn.stopPropagation(),Nn.mutate({id:Ln.id,updates:{status:"completed",assignedTo:jn==null?void 0:jn.id}})},disabled:Ln.status==="completed",className:"h-8 px-3 text-xs text-green-700 hover:bg-green-50 hover:text-green-800",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1.5"}),"Complete"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Fn=>{Fn.stopPropagation(),Wn(Ln)},className:"h-8 px-3 text-xs text-purple-700 hover:bg-purple-50 hover:text-purple-800",children:[jsxRuntimeExports.jsx(Mail,{className:"h-3 w-3 mr-1.5"}),"Ask for Details"]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:Fn=>{Fn.stopPropagation(),confirm("Are you sure you want to delete this suggestion? This action cannot be undone.")&&kn.mutate(Ln.id)},className:"h-8 px-3 text-xs text-red-700 hover:bg-red-50 hover:text-red-800",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1.5"}),"Delete"]})]})]})]})},Ln.id)})})})]})})]})})]})]}),jsxRuntimeExports.jsx(Dialog,{open:!!tn&&!pn,onOpenChange:()=>sn(null),children:jsxRuntimeExports.jsx(DialogContent,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:tn&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-xl",children:tn.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[jsxRuntimeExports.jsxs(Badge,{className:In(tn.priority),children:[tn.priority," priority"]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:tn.category}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:tn.isAnonymous?"Anonymous":tn.submitterName||"Unknown"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:tn.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Submitted: ",new Date(tn.createdAt).toLocaleDateString()]}),jsxRuntimeExports.jsxs("span",{children:["Status: ",tn.status.replace("_"," ")]})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Dn.mutate(tn.id),className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(ThumbsUp,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:tn.upvotes||0})]})]})]})]})})}),jsxRuntimeExports.jsx(Dialog,{open:pn,onOpenChange:mn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5 text-blue-600"}),"Request Clarification"]}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Send a message to ",tn!=null&&tn.isAnonymous?"the anonymous submitter":tn==null?void 0:tn.submitterName," requesting more details about their suggestion."]})]}),tn&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:tn.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:tn.description})]}),jsxRuntimeExports.jsx(MessageComposer$1,{contextType:"suggestion",contextId:String(tn.id),contextTitle:tn.title,defaultRecipients:tn.isAnonymous?[]:[{id:tn.submittedBy,name:tn.submitterName||"Unknown"}],compact:!0,onSent:()=>{mn(!1),Rn({title:"Clarification Request Sent",description:"The author will be notified and can respond through the messaging system."})},onCancel:()=>mn(!1)})]})]})})]})}function GoogleSheetsViewer({initialUrl:tn="",title:sn="Google Sheets Viewer",height:un=600}){const[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState(""),[fn,gn]=reactExports.useState(!1),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState(!1),[bn,wn]=reactExports.useState(!1),{user:Sn}=useAuth();reactExports.useEffect(()=>{Rn()},[]);const Rn=async()=>{try{const Cn=await apiRequest("GET","/api/project-data/status");yn(Cn)}catch(Cn){console.error("Failed to check fallback status:",Cn)}},_n=async Cn=>{var Tn;const An=(Tn=Cn.target.files)==null?void 0:Tn[0];if(An){En(!0);try{const $n=new FormData;$n.append("file",An),await apiRequest("POST","/api/project-data/upload",$n),await Rn(),hn("")}catch{hn("Failed to upload file. Please try again.")}finally{En(!1)}}},jn=()=>{window.open("/api/project-data/current","_blank")};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-5 w-5"}),sn]}),jsxRuntimeExports.jsx(CardDescription,{children:"Displays the most recent copy of our sandwich totals spreadsheet. This is a static file that shows our complete collection data."})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Sandwich Totals Spreadsheet"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Complete collection data from 2023-2025"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:jn,title:"Download spreadsheet",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),"Download"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:jn,title:"Open in new tab",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4"}),"Open"]})]})]}),!(xn!=null&&xn.hasFile)&&jsxRuntimeExports.jsxs(Alert,{variant:"default",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:"No sandwich data file is currently available. Please contact an administrator to upload the latest spreadsheet."})]}),hasPermission(Sn,"manage_files")&&jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Update Sandwich Data"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Upload the latest sandwich totals spreadsheet"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"file-upload",className:"cursor-pointer",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",disabled:vn,className:"flex items-center gap-2",asChild:!0,children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4"}),vn?"Uploading...":"Upload New File"]})})}),jsxRuntimeExports.jsx(Input,{id:"file-upload",type:"file",accept:".xlsx,.xls,.csv,.pdf",onChange:_n,className:"hidden"}),(xn==null?void 0:xn.hasFile)&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-green-600",children:["Current: ",xn.fileName]})]}),mn&&vn&&jsxRuntimeExports.jsxs(Alert,{variant:"destructive",className:"mt-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:mn})]})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx(CardHeader$1,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Sandwich Totals Data Sheet"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Read-only view"}),dn&&jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 animate-spin"})]})]})}),jsxRuntimeExports.jsx(CardContent$1,{children:xn!=null&&xn.hasFile?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"border rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{src:"/api/project-data/current",width:"100%",height:un,style:{border:"none"},title:"Sandwich Totals Data Sheet",onLoad:()=>pn(!1)})}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-600",children:["File: ",xn.fileName]})})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(FileSpreadsheet,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No sandwich data file available"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Contact an administrator to upload the spreadsheet"})]})})})]})]})}function GoogleSheetsPage(){const{user:tn}=useAuth();return hasPermission(tn,PERMISSIONS.VIEW_SANDWICH_DATA)?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sandwich Totals Data Sheet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Complete sandwich collection data from 2023-2025. This displays the latest version of the sandwich totals spreadsheet in read-only format."})]}),jsxRuntimeExports.jsx(GoogleSheetsViewer,{title:"Sandwich Totals Data Sheet",height:700}),jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"About This Data Sheet:"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Complete sandwich collection totals spanning 2023-2025"}),jsxRuntimeExports.jsx("li",{children:"• Shows the most recent version of the data spreadsheet"}),jsxRuntimeExports.jsx("li",{children:"• Automatically displays static backup if live version isn't accessible"}),jsxRuntimeExports.jsx("li",{children:"• Data is read-only for viewing and analysis purposes"}),jsxRuntimeExports.jsx("li",{children:'• Click "Open" to view in a new tab for better navigation'})]})]})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Restricted"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"You don't have permission to view the sandwich data spreadsheet."})]})})}function GmailStyleInbox(){var Or;const{user:tn}=useAuth(),{toast:sn}=useToast(),[un,dn]=reactExports.useState("inbox"),[pn,mn]=reactExports.useState(new Set),[hn,fn]=reactExports.useState(null),[gn,xn]=reactExports.useState(""),[yn,vn]=reactExports.useState(!1),[En,bn]=reactExports.useState(!1),[wn,Sn]=reactExports.useState(!1),[Rn,_n]=reactExports.useState(!1),[jn,Cn]=reactExports.useState("desktop");reactExports.useEffect(()=>{const Zn=()=>{const Cr=window.innerWidth;Cr<768?(Cn("mobile"),Sn(!0),_n(!0)):Cr<900?(Cn("small-tablet"),Sn(!0),_n(!1)):Cr<1200?(Cn("large-tablet"),Sn(!1),_n(!1)):(Cn("desktop"),Sn(!1),_n(!1))};return Zn(),window.addEventListener("resize",Zn),()=>window.removeEventListener("resize",Zn)},[]);const[An,Tn]=reactExports.useState(""),[$n,Dn]=reactExports.useState(""),[Nn,kn]=reactExports.useState(""),[Pn,Mn]=reactExports.useState(""),[On,Wn]=reactExports.useState(null),[In,Un]=reactExports.useState(null),{data:Vn=[]}=useQuery({queryKey:["/api/users"]}),Hn="/api/emails",{data:Ln=[],refetch:zn}=useQuery({queryKey:[Hn,un],queryFn:async()=>{const Zn=await apiRequest("GET",`/api/emails?folder=${un}`),Cr=Array.isArray(Zn)?Zn:Zn.messages||[];return console.log(`Fetched ${Cr.length} emails from ${un} folder`),Cr}}),{data:Bn=[]}=useQuery({queryKey:["/api/drafts"],enabled:un==="drafts"}),Fn=useMutation({mutationFn:async Zn=>Zn.id?await apiRequest("PUT",`/api/drafts/${Zn.id}`,Zn):await apiRequest("POST","/api/drafts",Zn),onSuccess:()=>{queryClient.invalidateQueries({queryKey:["/api/drafts"]})}}),Gn=useMutation({mutationFn:async Zn=>{const Cr={recipientId:Zn.recipientId,recipientName:Zn.recipientName,recipientEmail:Zn.recipientEmail,subject:Zn.subject||"Project Discussion",content:Zn.content,isDraft:Zn.isDraft||!1};return console.log("Sending email with data:",Cr),await apiRequest("POST","/api/emails",Cr)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]}),queryClient.invalidateQueries({queryKey:["/api/emails/unread-count"]}),vn(!1),Er(),sn({description:"Message sent successfully"})},onError:Zn=>{console.error("Send email error:",Zn),sn({description:"Failed to send message",variant:"destructive"})}}),qn=useMutation({mutationFn:async Zn=>{var Fr;if(!hn)throw new Error("No message selected for reply");const Cr={recipientId:hn.senderId,recipientName:hn.senderName,recipientEmail:hn.senderEmail,subject:(Fr=hn.subject)!=null&&Fr.startsWith("Re: ")?hn.subject:`Re: ${hn.subject||"No Subject"}`,content:Zn.content,isDraft:!1};return console.log("Sending reply:",Cr),await apiRequest("POST","/api/emails",Cr)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]}),queryClient.invalidateQueries({queryKey:["/api/emails/unread-count"]}),bn(!1),Mn(""),sn({description:"Reply sent successfully"})},onError:Zn=>{console.error("Reply error:",Zn),sn({description:"Failed to send reply",variant:"destructive"})}}),Jn=useMutation({mutationFn:async Zn=>{const Cr=Zn.map(Fr=>apiRequest("PATCH",`/api/emails/${Fr}`,{isRead:!0}));return await Promise.all(Cr)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]}),queryClient.invalidateQueries({queryKey:["/api/emails/unread-count"]}),sn({description:"Marked as read"})},onError:Zn=>{console.error("Mark as read error:",Zn),sn({description:"Failed to mark as read",variant:"destructive"})}});useMutation({mutationFn:async({messageId:Zn,isStarred:Cr})=>(console.log("Star not implemented for conversation messages:",Zn,Cr),Promise.resolve()),onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]})}});const dr=useMutation({mutationFn:async Zn=>{const Cr=Zn.map(Fr=>apiRequest("PATCH",`/api/emails/${Fr}`,{isArchived:!0}));return await Promise.all(Cr)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]}),queryClient.invalidateQueries({queryKey:["/api/emails/unread-count"]}),mn(new Set),sn({description:"Messages archived successfully"})},onError:Zn=>{console.error("Archive error:",Zn),sn({description:"Failed to archive messages",variant:"destructive"})}}),br=useMutation({mutationFn:async Zn=>{const Cr=Zn.map(Fr=>apiRequest("PATCH",`/api/emails/${Fr}`,{isTrashed:!0}));return await Promise.all(Cr)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]}),queryClient.invalidateQueries({queryKey:["/api/emails/unread-count"]}),mn(new Set),sn({description:"Messages moved to trash"})},onError:Zn=>{console.error("Trash error:",Zn),sn({description:"Failed to move messages to trash",variant:"destructive"})}});useMutation({mutationFn:async Zn=>{const Cr=Zn.map(Fr=>apiRequest("DELETE",`/api/messages/${Fr}`));return Promise.all(Cr)},onSuccess:()=>{queryClient.invalidateQueries({queryKey:[Hn]}),mn(new Set),sn({description:"Messages deleted permanently"})}}),reactExports.useEffect(()=>{if(An||$n||Nn){In&&clearTimeout(In);const Zn=setTimeout(()=>{var Fr,Pr;const Cr={id:On==null?void 0:On.id,recipientId:An,recipientName:((Fr=Vn.find(Br=>Br.id===An))==null?void 0:Fr.firstName)+" "+((Pr=Vn.find(Br=>Br.id===An))==null?void 0:Pr.lastName)||"",subject:$n,content:Nn,lastSaved:new Date().toISOString()};Fn.mutate(Cr),Wn(Cr)},2e3);Un(Zn)}return()=>{In&&clearTimeout(In)}},[An,$n,Nn]);const Er=()=>{Tn(""),Dn(""),kn(""),Wn(null)},yr=Zn=>{fn(Zn),Zn.isRead||Jn.mutate([Zn.id])},xr=()=>{pn.size===Ln.length?mn(new Set):mn(new Set(Ln.map(Zn=>Zn.id)))},vr=Zn=>{const Cr=new Set(pn);Cr.has(Zn)?Cr.delete(Zn):Cr.add(Zn),mn(Cr)},nr=()=>{if(!An||!Nn){sn({description:"Please select a recipient and enter a message",variant:"destructive"});return}const Zn=Vn.find(Cr=>Cr.id===An);Gn.mutate({recipientId:An,recipientName:Zn?`${Zn.firstName} ${Zn.lastName}`.trim():"",recipientEmail:(Zn==null?void 0:Zn.email)||"",subject:$n||"Project Discussion",content:Nn,isDraft:!1})},sr=()=>{if(!hn||!Pn){sn({description:"Please enter a reply message",variant:"destructive"});return}console.log("Sending reply with data:",{content:Pn,sender:null,recipientId:hn.userId,conversationName:null,conversationId:hn.conversationId}),qn.mutate({content:Pn,sender:null,recipientId:hn.userId,conversationName:null,conversationId:hn.conversationId})},Rr=Ln.filter(Zn=>{if(!gn)return!0;const Cr=gn.toLowerCase();return Zn.content.toLowerCase().includes(Cr)||Zn.senderName.toLowerCase().includes(Cr)}),Ar=Zn=>Ln.filter(Cr=>{switch(Zn){case"inbox":return!Cr.isRead;case"starred":return!1;case"archived":return!1;case"trash":return!1;default:return!1}}).length,Lr=[{id:"inbox",label:"Inbox",icon:Inbox$1,count:Ar("inbox")},{id:"starred",label:"Starred",icon:Star,count:Ar("starred")},{id:"sent",label:"Sent",icon:Send$c,count:0},{id:"drafts",label:"Drafts",icon:PenLine,count:Bn.length},{id:"archived",label:"Archived",icon:Archive$c,count:Ar("archived")},{id:"trash",label:"Trash",icon:Trash2,count:Ar("trash")}];return jsxRuntimeExports.jsxs("div",{className:"flex h-[calc(100vh-120px)] bg-white relative",children:[!wn&&(jn==="mobile"||jn==="small-tablet")&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>Sn(!0)}),jsxRuntimeExports.jsxs("div",{className:`
        ${wn?"hidden":"flex"} 
        ${jn==="large-tablet"?"w-48":"w-64"} 
        border-r bg-white flex-col flex-shrink-0
        transition-all duration-300 ease-in-out
        ${(jn==="mobile"||jn==="small-tablet")&&!wn?"fixed left-0 top-0 h-full w-64 z-50":"relative"}
      `,children:[jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-between mb-4 ${jn==="desktop"?"hidden":"flex"}`,children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Navigation"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Sn(!0),className:"h-6 w-6 p-1",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>vn(!0),className:"w-full gap-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-['Roboto'] font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"Compose"]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"px-2",children:Lr.map(Zn=>jsxRuntimeExports.jsxs("button",{onClick:()=>dn(Zn.id),className:`
                  w-full flex items-center justify-between px-3 py-2 mb-1 rounded-lg text-left transition-colors font-['Roboto']
                  ${un===Zn.id?"bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-md":"hover:bg-amber-50 hover:border-amber-200 text-gray-700"}
                `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Zn.icon,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:Zn.label})]}),Zn.count>0&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:`
                      h-5 px-2 text-xs
                      ${un===Zn.id?"bg-white/20 text-white":"bg-gray-200 text-gray-800"}
                    `,children:Zn.count})]},Zn.id))})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex bg-white min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:`
          ${Rn?"hidden":"flex"} 
          ${hn&&jn==="desktop"?"w-2/5":""}
          ${hn&&jn==="large-tablet"?"w-1/2":""}
          ${hn&&(jn==="small-tablet"||jn==="mobile")?"flex-1":""}
          ${hn?"":"flex-1"}
          border-r flex-col bg-white min-w-0
          transition-all duration-300 ease-in-out
        `,children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4 space-y-3 bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[wn&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>Sn(!1),title:"Show folders",children:jsxRuntimeExports.jsx(Menu$d,{className:"h-4 w-4"})}),jn==="mobile"&&hn&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>_n(!0),title:"Hide message list",children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold capitalize",children:un})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>zn(),children:jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search$c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search messages...",value:gn,onChange:Zn=>xn(Zn.target.value),className:"pl-9 bg-white border-gray-300 text-gray-900 placeholder-gray-500"})]}),pn.size>0&&jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-1 lg:gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:xr,className:"text-xs lg:text-sm px-2 lg:px-3",children:pn.size===Ln.length?"Deselect":"Select All"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>console.log("Mark Read not implemented for conversation messages"),className:"text-xs lg:text-sm px-2 lg:px-3",children:"Mark Read"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{pn.size>0&&dr.mutate(Array.from(pn))},disabled:pn.size===0||dr.isPending,className:"text-xs lg:text-sm px-2 lg:px-3",children:"Archive"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{pn.size>0&&br.mutate(Array.from(pn))},disabled:pn.size===0||br.isPending,className:"text-xs lg:text-sm px-2 lg:px-3",children:"Trash"})]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"divide-y",children:[Rr.map(Zn=>{var Cr,Fr;return jsxRuntimeExports.jsx("div",{onClick:()=>yr(Zn),className:`
                    p-3 lg:p-5 cursor-pointer transition-colors hover:bg-amber-50 font-['Roboto'] border-b border-gray-100
                    ${(hn==null?void 0:hn.id)===Zn.id?"bg-amber-100 border-r-4 border-amber-500 shadow-sm":""}
                    ${Zn.isRead?"bg-white font-normal":"bg-blue-50 font-bold border-l-4 border-blue-500"}
                  `,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 lg:gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pn.has(Zn.id),onChange:Pr=>{Pr.stopPropagation(),vr(Zn.id)},className:"mt-1 h-4 w-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"}),jsxRuntimeExports.jsx("button",{onClick:Pr=>{Pr.stopPropagation(),console.log("Star clicked for message",Zn.id)},className:"mt-1",children:jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-gray-300"})}),jsxRuntimeExports.jsx(Avatar$1,{className:"h-7 w-7 lg:h-8 lg:w-8 flex-shrink-0",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"text-xs bg-gray-200 text-gray-800",children:un==="sent"?((Cr=Zn.recipientName||"U")==null?void 0:Cr.split(" ").map(Pr=>Pr[0]).join("").toUpperCase())||"U":((Fr=Zn.senderName||"U")==null?void 0:Fr.split(" ").map(Pr=>Pr[0]).join("").toUpperCase())||"U"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2 gap-2",children:[jsxRuntimeExports.jsx("p",{className:`text-sm flex-1 truncate ${Zn.isRead?"font-medium text-gray-700":"font-bold text-gray-900"}`,children:un==="sent"?Zn.recipientName||"Unknown":Zn.senderName||"Unknown"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:(()=>{try{return Zn.createdAt?formatDistanceToNow(new Date(Zn.createdAt),{addSuffix:!0}):"No date"}catch{return"Invalid date"}})()})]}),jsxRuntimeExports.jsx("p",{className:`text-sm leading-relaxed ${Zn.isRead?"font-normal text-gray-600":"font-bold text-gray-900"}`,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},children:Zn.content})]})]})},Zn.id)}),Rr.length===0&&jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-gray-500",children:gn?"No messages found matching your search":`No ${un} messages`})]})})]}),jsxRuntimeExports.jsx("div",{className:`
          ${hn?"flex-1":""} 
          ${!hn&&jn==="desktop"?"flex flex-1":""}
          ${!hn&&jn!=="desktop"?"hidden":""}
          ${hn?"flex":""}
          flex-col bg-white
        `,children:hn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Rn&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>_n(!1),title:"Show message list",children:jsxRuntimeExports.jsx(Menu$d,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>fn(null),children:"← Back"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:hn.content.length>40?`${hn.content.substring(0,40)}...`:hn.content})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>bn(!0),children:jsxRuntimeExports.jsx(Reply$c,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>console.log("Star clicked for message",hn.id),children:jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-gray-300"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{hn&&(dr.mutate([hn.id]),fn(null))},disabled:dr.isPending,children:jsxRuntimeExports.jsx(Archive$c,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>{hn&&(br.mutate([hn.id]),fn(null))},disabled:br.isPending,children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Avatar$1,{className:"h-10 w-10",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-gray-200 text-gray-800",children:((Or=hn.senderName)==null?void 0:Or.split(" ").map(Zn=>Zn[0]).join("").toUpperCase())||"U"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-medium",children:["From: ",hn.senderName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:hn.senderEmail})]}),jsxRuntimeExports.jsx("div",{className:"ml-auto text-sm text-gray-500",children:(()=>{try{return hn.createdAt?new Date(hn.createdAt).toLocaleString():"No date"}catch{return"Invalid date"}})()})]})]}),jsxRuntimeExports.jsx("div",{className:`p-4 ${hn.content.length>500?"flex-1 overflow-y-auto":"flex-shrink-0"}`,children:jsxRuntimeExports.jsx("div",{className:"prose max-w-none",children:jsxRuntimeExports.jsx("div",{className:"whitespace-pre-wrap",children:hn.content})})}),hn.content.length<=500&&jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0"}),En&&jsxRuntimeExports.jsx("div",{className:"border-t p-4 flex-shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs(Label$1,{children:["Reply to ",hn.senderName]}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Type your reply...",value:Pn,onChange:Zn=>Mn(Zn.target.value),rows:4}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>bn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:sr,disabled:qn.isPending,children:qn.isPending?"Sending...":"Send Reply"})]})]})})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx(Inbox$1,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{className:"text-lg",children:"Select a message to read"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3 mt-6",children:[wn&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Sn(!1),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Menu$d,{className:"h-4 w-4"}),"Show Folders"]}),Rn&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>_n(!1),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Menu$d,{className:"h-4 w-4"}),"Show Messages"]})]})]})})})]}),jsxRuntimeExports.jsx(Dialog,{open:yn,onOpenChange:vn,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl bg-white border border-gray-200 rounded-xl shadow-xl",children:[jsxRuntimeExports.jsx(DialogHeader,{className:"pb-4 border-b border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-amber-400 to-amber-500 rounded-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-xl font-bold text-gray-800 font-['Roboto']",children:"New Message"}),jsxRuntimeExports.jsx(DialogDescription,{className:"text-gray-600 font-['Roboto']",children:"Send a message to your team member"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-5 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"recipient",className:"text-sm font-semibold text-gray-700 font-['Roboto']",children:"To"}),jsxRuntimeExports.jsxs(Select,{value:An,onValueChange:Tn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"rounded-lg border border-gray-300 bg-white focus:border-amber-400 focus:ring-2 focus:ring-amber-200 h-11 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Choose team member..."})}),jsxRuntimeExports.jsx(SelectContent,{className:"rounded-lg border border-gray-200 bg-white shadow-lg z-50",children:Vn.filter(Zn=>Zn.id!==(tn==null?void 0:tn.id)).map(Zn=>jsxRuntimeExports.jsx(SelectItem,{value:Zn.id,className:"py-2 px-3 hover:bg-amber-50 focus:bg-amber-50 data-[highlighted]:bg-amber-50",style:{color:"#1f2937",fontWeight:"500",fontSize:"14px"},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",style:{color:"#1f2937"},children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),jsxRuntimeExports.jsxs("span",{style:{color:"#1f2937",fontWeight:"600"},children:[Zn.firstName," ",Zn.lastName]}),jsxRuntimeExports.jsxs("span",{style:{color:"#6b7280",fontSize:"12px"},children:["(",Zn.email,")"]})]})},Zn.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"subject",className:"text-sm font-semibold text-gray-700 font-['Roboto'] flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-amber-400 rounded-full"}),"Project/Task name (optional)"]}),jsxRuntimeExports.jsx(Input,{id:"subject",value:$n,onChange:Zn=>Dn(Zn.target.value),placeholder:"Budget Review, Website Updates, Event Planning...",className:"rounded-lg border border-gray-300 bg-white focus:border-amber-400 focus:ring-2 focus:ring-amber-200 h-11 font-['Roboto'] placeholder:text-gray-500 transition-colors text-gray-900",style:{color:"#1f2937"}}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 font-['Roboto'] italic",children:"Leave blank for general conversation"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"content",className:"text-sm font-semibold text-gray-700 font-['Roboto']",children:"Message"}),jsxRuntimeExports.jsx(Textarea,{id:"content",value:Nn,onChange:Zn=>kn(Zn.target.value),placeholder:"Type your message here...",rows:6,className:"rounded-lg border border-gray-300 bg-white focus:border-amber-400 focus:ring-2 focus:ring-amber-200 font-['Roboto'] placeholder:text-gray-500 resize-none transition-colors text-gray-900",style:{color:"#1f2937"}})]}),Fn.isPending&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-700 bg-amber-50 border border-amber-200 p-3 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),"Auto-saving draft..."]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"pt-4 border-t border-gray-100 gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>vn(!1),className:"rounded-lg px-6 py-2 text-gray-600 hover:bg-gray-100 font-['Roboto'] font-medium transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:nr,disabled:Gn.isPending,className:"rounded-lg px-8 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-['Roboto'] font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:Gn.isPending?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):"Send Message"})]})]})})]})}function Inbox(){return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx(GmailStyleInbox,{})})}function EmailStyleMessaging(){const{user:tn}=useAuth(),{toast:sn}=useToast(),un=useQueryClient(),[dn,pn]=reactExports.useState(null),[mn,hn]=reactExports.useState("inbox"),fn=Fn=>{hn(Fn),pn(null),bn([])},[gn,xn]=reactExports.useState(""),[yn,vn]=reactExports.useState(!1),[En,bn]=reactExports.useState([]),[wn,Sn]=reactExports.useState({to:"",subject:"",content:""}),[Rn,_n]=reactExports.useState(null),jn=Fn=>{const Gn=new Date(Fn),qn=new Date;return Gn.toDateString()===qn.toDateString()?Gn.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):Gn.toLocaleDateString()},Cn=Fn=>Fn.split(" ").map(Gn=>Gn[0]).join("").toUpperCase().slice(0,2),{data:An=[],isLoading:Tn,error:$n}=useQuery({queryKey:["/api/real-time-messages",mn],queryFn:()=>apiRequest("GET",`/api/real-time-messages?folder=${mn}`),retry:!1}),{data:Dn=[]}=useQuery({queryKey:["/api/users"],queryFn:()=>apiRequest("GET","/api/users"),retry:!1}),{data:Nn}=useQuery({queryKey:["/api/auth/user"],retry:!1}),kn=useMutation({mutationFn:async Fn=>{console.log("Sending message data:",Fn);const Gn=await apiRequest("POST","/api/real-time-messages",Fn);return console.log("Send message response:",Gn),Gn},onSuccess:()=>{un.invalidateQueries({queryKey:["/api/real-time-messages"]}),sn({title:"Message sent",description:"Your message has been delivered successfully."}),vn(!1),_n(null),Sn({to:"",subject:"",content:""})},onError:Fn=>{var qn,Jn;console.error("Send message error:",Fn);let Gn="Failed to send message. Please try again.";(qn=Fn.message)!=null&&qn.includes("401")?Gn="Authentication required. Please log in first.":(Jn=Fn.message)!=null&&Jn.includes("403")&&(Gn="Permission denied. You may not have access to send messages."),sn({title:"Error",description:Gn,variant:"destructive"})}}),Pn=Array.isArray(An)?An.filter(Fn=>Fn.subject.toLowerCase().includes(gn.toLowerCase())||Fn.from.name.toLowerCase().includes(gn.toLowerCase())||Fn.content.toLowerCase().includes(gn.toLowerCase())):[],Mn=Fn=>{bn(Gn=>Gn.includes(Fn)?Gn.filter(qn=>qn!==Fn):[...Gn,Fn])},On=async()=>{for(const Fn of En)await Un.mutateAsync(Fn);bn([])},Wn=async()=>{for(const Fn of En)await In.mutateAsync(Fn);bn([])},In=useMutation({mutationFn:async Fn=>apiRequest("DELETE",`/api/real-time-messages/${Fn}`),onSuccess:()=>{un.invalidateQueries({queryKey:["/api/real-time-messages"]}),sn({title:"Message deleted",description:"The message has been moved to trash."})}}),Un=useMutation({mutationFn:async Fn=>apiRequest("POST",`/api/real-time-messages/${Fn}/read`),onSuccess:()=>{un.invalidateQueries({queryKey:["/api/real-time-messages"]})}}),Vn=Fn=>{pn(Fn),Fn.read||Un.mutate(Fn.id)},Hn=()=>{if(!wn.to||!wn.subject||!wn.content){sn({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}kn.mutate(wn)},Ln=Fn=>{_n(Fn),Sn({to:Fn.from.email,subject:Fn.subject.startsWith("Re:")?Fn.subject:`Re: ${Fn.subject}`,content:`

--- Original Message ---
From: ${Fn.from.name} <${Fn.from.email}>
Date: ${jn(Fn.timestamp)}
Subject: ${Fn.subject}

${Fn.content}`}),vn(!0)},zn=Fn=>{const Gn=(Nn==null?void 0:Nn.email)||"",qn=[Fn.from.email,...Fn.to.filter(Jn=>Jn!==Gn)];_n(Fn),Sn({to:qn.join(", "),subject:Fn.subject.startsWith("Re:")?Fn.subject:`Re: ${Fn.subject}`,content:`

--- Original Message ---
From: ${Fn.from.name} <${Fn.from.email}>
Date: ${jn(Fn.timestamp)}
Subject: ${Fn.subject}

${Fn.content}`}),vn(!0)},Bn=Fn=>{_n(Fn),Sn({to:"",subject:Fn.subject.startsWith("Fwd:")?Fn.subject:`Fwd: ${Fn.subject}`,content:`

--- Forwarded Message ---
From: ${Fn.from.name} <${Fn.from.email}>
Date: ${jn(Fn.timestamp)}
Subject: ${Fn.subject}

${Fn.content}`}),vn(!0)};return tn?jsxRuntimeExports.jsxs("div",{className:"flex h-[calc(100vh-120px)] bg-white rounded-lg border overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:`${dn?"hidden md:block":"block"} w-56 lg:w-64 border-r bg-gray-50 flex-shrink-0`,children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsxs(Button,{className:"w-full",onClick:()=>vn(!0),children:[jsxRuntimeExports.jsx(PenLine,{className:"h-4 w-4 mr-2"}),"Compose"]})}),jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsxs("nav",{className:"space-y-1",children:[jsxRuntimeExports.jsxs(Button,{variant:mn==="inbox"?"default":"ghost",className:"w-full justify-start",onClick:()=>fn("inbox"),children:[jsxRuntimeExports.jsx(Inbox$1,{className:"h-4 w-4 mr-2"}),"Inbox",jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-auto",children:Array.isArray(An)?An.filter(Fn=>Fn.folder==="inbox"&&!Fn.read).length:0})]}),jsxRuntimeExports.jsxs(Button,{variant:mn==="sent"?"default":"ghost",className:"w-full justify-start",onClick:()=>fn("sent"),children:[jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4 mr-2"}),"Sent"]}),jsxRuntimeExports.jsxs(Button,{variant:mn==="drafts"?"default":"ghost",className:"w-full justify-start",onClick:()=>fn("drafts"),children:[jsxRuntimeExports.jsx(Archive$c,{className:"h-4 w-4 mr-2"}),"Drafts"]}),jsxRuntimeExports.jsxs(Button,{variant:mn==="trash"?"default":"ghost",className:"w-full justify-start",onClick:()=>fn("trash"),children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Trash"]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:yn?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:Rn?Rn.subject.startsWith("Re:")?"Reply to Message":Rn.subject.startsWith("Fwd:")?"Forward Message":"Reply to Message":"New Message"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>vn(!1),children:jsxRuntimeExports.jsx(X$1,{className:"h-4 w-4"})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"To:"}),Rn?jsxRuntimeExports.jsx(Input,{value:wn.to,onChange:Fn=>Sn(Gn=>({...Gn,to:Fn.target.value})),placeholder:"Recipient email..."}):jsxRuntimeExports.jsxs("select",{value:wn.to,onChange:Fn=>Sn(Gn=>({...Gn,to:Fn.target.value})),className:"w-full p-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select recipient..."}),Dn.map(Fn=>jsxRuntimeExports.jsxs("option",{value:Fn.email,children:[Fn.firstName||Fn.email," (",Fn.email,")"]},Fn.id))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subject:"}),jsxRuntimeExports.jsx(Input,{value:wn.subject,onChange:Fn=>Sn(Gn=>({...Gn,subject:Fn.target.value})),placeholder:"Enter subject..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message:"}),jsxRuntimeExports.jsx(Textarea,{value:wn.content,onChange:Fn=>Sn(Gn=>({...Gn,content:Fn.target.value})),placeholder:"Type your message...",className:"min-h-[200px]"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Paperclip,{className:"h-4 w-4 mr-2"}),"Attach"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-2"}),"Schedule"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>{vn(!1),_n(null),Sn({to:"",subject:"",content:""})},children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{onClick:Hn,disabled:kn.isPending,children:[jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4 mr-2"}),kn.isPending?"Sending...":"Send"]})]})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex-1 flex min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:`${dn?"hidden md:flex md:w-1/2 lg:w-2/5":"w-full"} min-w-0 border-r flex flex-col bg-white`,children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b bg-gray-50 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search$c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search messages...",value:gn,onChange:Fn=>xn(Fn.target.value),className:"pl-10"})]}),En.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[En.length," selected"]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:On,children:"Mark Read"}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:Wn,children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"",children:Pn.length===0?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-32",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"No messages"})}):Pn.map(Fn=>jsxRuntimeExports.jsx("div",{className:`px-3 py-4 cursor-pointer transition-colors border-b border-gray-100 ${(dn==null?void 0:dn.id)===Fn.id?"bg-blue-50 border-l-4 border-l-blue-500":Fn.read?"bg-white hover:bg-gray-50":"bg-blue-25 hover:bg-blue-50"} ${En.includes(Fn.id)?"bg-blue-25":""} ${Fn.read?"":"shadow-sm"}`,onClick:()=>Vn(Fn),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:En.includes(Fn.id),onChange:()=>Mn(Fn.id),onClick:Gn=>Gn.stopPropagation(),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 mt-1"}),jsxRuntimeExports.jsx(Avatar$1,{className:"h-8 w-8 flex-shrink-0",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"text-xs bg-gray-200 text-gray-600",children:Cn(Fn.from.name)})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[jsxRuntimeExports.jsx("span",{className:`text-sm truncate ${Fn.read?"font-normal text-gray-600":"font-bold text-gray-900"}`,children:mn==="sent"?Array.isArray(Fn.to)?Fn.to.join(", "):Fn.to||"Unknown Recipient":Fn.from.name}),!Fn.read&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 min-w-0",children:[Fn.starred&&jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-yellow-500 fill-current flex-shrink-0"}),Fn.attachments&&Fn.attachments.length>0&&jsxRuntimeExports.jsx(Paperclip,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:`text-xs whitespace-nowrap ${Fn.read?"text-gray-500 font-normal":"text-gray-700 font-semibold"}`,children:jn(Fn.timestamp)})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsx("h4",{className:`text-sm truncate ${Fn.read?"font-normal text-gray-700":"font-bold text-gray-900"}`,children:Fn.subject||"(No Subject)"})}),jsxRuntimeExports.jsx("p",{className:`text-xs leading-relaxed line-clamp-2 pr-4 ${Fn.read?"text-gray-500 font-normal":"text-gray-700 font-medium"}`,children:Fn.content}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-2",children:!Fn.read&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 font-medium",children:"New"})})]})]})},Fn.id))})})]}),jsxRuntimeExports.jsx("div",{className:`${dn?"flex-1":"hidden md:flex md:flex-1"} flex flex-col overflow-hidden`,children:dn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>pn(null),children:"← Back"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:dn.subject})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:dn.starred?jsxRuntimeExports.jsx(StarOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Star,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>In.mutate(dn.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Avatar$1,{className:"h-8 w-8",children:jsxRuntimeExports.jsx(AvatarFallback,{children:Cn(dn.from.name)})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[mn==="sent"?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-red-600",children:"TO:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:dn.to&&Array.isArray(dn.to)?dn.to.join(", "):dn.to||"Unknown Recipient"})]})}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-blue-600",children:"FROM:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:dn.from.name}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["<",dn.from.email,">"]})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:jn(dn.timestamp)})]})]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"prose max-w-none",children:jsxRuntimeExports.jsx("p",{className:"whitespace-pre-wrap text-sm",children:dn.content})}),dn.attachments&&dn.attachments.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Paperclip,{className:"h-4 w-4"}),"Attachments"]}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:dn.attachments.map((Fn,Gn)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{children:Fn.name}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:["(",Fn.size,")"]})]},Gn))})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Ln(dn),children:[jsxRuntimeExports.jsx(Reply$c,{className:"h-4 w-4 mr-2"}),"Reply"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>zn(dn),children:[jsxRuntimeExports.jsx(ReplyAll,{className:"h-4 w-4 mr-2"}),"Reply All"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>Bn(dn),children:[jsxRuntimeExports.jsx(Forward,{className:"h-4 w-4 mr-2"}),"Forward"]})]})})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Mail,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Select a message to view"})]})})})]})})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Please log in to access messages"})})}function RealTimeMessages(){return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Send and receive messages instantly with other users in your organization"})]}),jsxRuntimeExports.jsx(EmailStyleMessaging,{})]})}const governanceDocuments=[{name:"Articles of Incorporation",path:"/attached_assets/Articles of Incorporation.pdf",type:"pdf",category:"Legal Foundation",description:"Official Articles of Incorporation establishing The Sandwich Project as a legal entity"},{name:"2020 Georgia Code Title 51",path:"/attached_assets/2020 Georgia Code Title 51.pdf",type:"pdf",category:"Legal Reference",description:"Georgia state code governing nonprofit organizations and corporate governance"},{name:"IRS Tax Exempt Letter",path:"/attached_assets/IRS Tax Exempt Letter (Contains EIN).pdf",type:"pdf",category:"Tax Status",description:"IRS determination letter granting 501(c)(3) tax-exempt status with EIN information"}],getFileIcon$1=tn=>{switch(tn){case"pdf":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-red-500"});case"xlsx":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-green-500"});case"docx":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-blue-500"});case"txt":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-500"});default:return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-500"})}},getCategoryColor$1=tn=>{switch(tn){case"Legal Foundation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"Legal Reference":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Tax Status":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};function GovernanceDocuments(){const[tn,sn]=reactExports.useState("All"),[un,dn]=reactExports.useState(null),pn=["All",...Array.from(new Set(governanceDocuments.map(gn=>gn.category)))],mn=tn==="All"?governanceDocuments:governanceDocuments.filter(gn=>gn.category===tn),hn=gn=>{dn(gn)},fn=gn=>{window.open(gn.path,"_blank")};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Governance Documents"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Essential legal and governance documents for The Sandwich Project"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:pn.map(gn=>jsxRuntimeExports.jsx(Button,{variant:tn===gn?"default":"outline",size:"sm",onClick:()=>sn(gn),className:"text-sm",children:gn},gn))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:mn.map((gn,xn)=>jsxRuntimeExports.jsxs(Card$1,{className:"hover:shadow-lg transition-shadow duration-200",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[getFileIcon$1(gn.type),jsxRuntimeExports.jsx(CardTitle,{className:"text-lg font-semibold line-clamp-2",children:gn.name})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{className:getCategoryColor$1(gn.category),children:gn.category}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:gn.type.toUpperCase()})]})]}),jsxRuntimeExports.jsxs(CardContent$1,{className:"pt-0",children:[gn.description&&jsxRuntimeExports.jsx(CardDescription,{className:"mb-4 line-clamp-3",children:gn.description}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:()=>hn(gn),className:"flex-1",children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4 mr-1"}),"Preview"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:()=>fn(gn),className:"flex-1",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4 mr-1"}),"Open"]})]})]})]},xn))}),mn.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No documents found in the selected category."})}),un&&jsxRuntimeExports.jsx(DocumentPreview,{documentPath:un.path,documentName:un.name,documentType:un.type,onClose:()=>dn(null)})]})}function Governance(){return jsxRuntimeExports.jsx(GovernanceDocuments,{})}const adminDocuments=[{id:"tax-exempt-letter",name:"IRS Tax Exempt Letter",description:"Our 501(c)(3) letter",category:"Legal & Tax",path:"/attached_assets/IRS Tax Exempt Letter (Contains EIN).pdf",type:"pdf",importance:"critical"},{id:"articles-incorporation",name:"Articles of Incorporation",description:"Articles of Incorporation",category:"Legal & Tax",path:"/attached_assets/Articles of Incorporation.pdf",type:"pdf",importance:"critical"},{id:"georgia-code",name:"2020 Georgia Code Title 51",description:"Georgia state legal code reference for nonprofit operations",category:"Legal & Tax",path:"/attached_assets/2020 Georgia Code Title 51.pdf",type:"pdf",importance:"high"},{id:"bylaws-2024",name:"TSP Bylaws 2024",description:"Current organizational bylaws and governance structure",category:"Governance",path:"/attached_assets/The Sandwich Project Bylaws 2024(1)_1750871081277.pdf",type:"pdf",importance:"critical"},{id:"volunteer-driver-agreement",name:"TSP Volunteer Driver Agreement",description:"Required agreement form for volunteer drivers",category:"Forms",path:"/attached_assets/TSP Volunteer Driver Agreement (1).pdf",type:"pdf",importance:"critical"},{id:"community-service-hours",name:"TSP Community Service Hours",description:"Form for tracking and documenting community service hours",category:"Forms",path:"/attached_assets/TSP COMMUNITY SERVICE HOURS (1) (1) (1).pdf",type:"pdf",importance:"high"}],categories=["All","Legal & Tax","Governance","Forms"];function AdminPage(){const[tn,sn]=reactExports.useState("All"),[un,dn]=reactExports.useState(null),pn=adminDocuments.filter(gn=>tn==="All"||gn.category===tn),mn=gn=>{const xn=document.createElement("a");xn.href=gn.path,xn.download=gn.name,document.body.appendChild(xn),xn.click(),document.body.removeChild(xn)},hn=gn=>{dn(gn)},fn=gn=>{switch(gn){case"critical":return jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Important"});case"high":return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Reference"});default:return null}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Important Documents"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Key documents for The Sandwich Project, including our nonprofit paperwork and bylaws."})]}),jsxRuntimeExports.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:categories.map(gn=>jsxRuntimeExports.jsx(Button,{variant:tn===gn?"default":"outline",onClick:()=>sn(gn),className:"text-sm",children:gn},gn))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:pn.map(gn=>jsxRuntimeExports.jsxs(Card$1,{className:"h-full hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsx(CardTitle,{className:"text-lg leading-tight",children:gn.name})]}),fn(gn.importance)]}),jsxRuntimeExports.jsx(CardDescription,{className:"text-sm text-gray-600 mt-2",children:gn.description})]}),jsxRuntimeExports.jsx(CardContent$1,{className:"pt-0",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:gn.category}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs uppercase",children:gn.type})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>hn(gn),className:"flex-1 text-sm",children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4 mr-1"}),"Preview"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>mn(gn),className:"flex-1 text-sm",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})})]},gn.id))}),un&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:un.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:un.description})]}),fn(un.importance)]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>mn(un),children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-1"}),"Download"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>window.open(un.path,"_blank"),children:[jsxRuntimeExports.jsx(ExternalLink,{className:"h-4 w-4 mr-1"}),"Open"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>dn(null),children:"Close"})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 overflow-auto",style:{maxHeight:"calc(90vh - 120px)"},children:jsxRuntimeExports.jsx(DocumentPreview,{documentName:un.name,documentPath:un.path,documentType:un.type,onClose:()=>dn(null)})})]})})]})})}var define_process_env_default={},__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(tn,sn)=>function(){return sn||(0,tn[__getOwnPropNames(tn)[0]])((sn={exports:{}}).exports,sn),sn.exports},__copyProps=(tn,sn,un,dn)=>{if(sn&&typeof sn=="object"||typeof sn=="function")for(let pn of __getOwnPropNames(sn))!__hasOwnProp.call(tn,pn)&&pn!==un&&__defProp(tn,pn,{get:()=>sn[pn],enumerable:!(dn=__getOwnPropDesc(sn,pn))||dn.enumerable});return tn},__toESM=(tn,sn,un)=>(un=tn!=null?__create(__getProtoOf(tn)):{},__copyProps(!tn||!tn.__esModule?__defProp(un,"default",{value:tn,enumerable:!0}):un,tn)),require_base64_js=__commonJS({"node_modules/base64-js/index.js"(tn){tn.byteLength=gn,tn.toByteArray=yn,tn.fromByteArray=bn;var sn=[],un=[],dn=typeof Uint8Array<"u"?Uint8Array:Array,pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(mn=0,hn=pn.length;mn<hn;++mn)sn[mn]=pn[mn],un[pn.charCodeAt(mn)]=mn;var mn,hn;un[45]=62,un[95]=63;function fn(wn){var Sn=wn.length;if(Sn%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Rn=wn.indexOf("=");Rn===-1&&(Rn=Sn);var _n=Rn===Sn?0:4-Rn%4;return[Rn,_n]}function gn(wn){var Sn=fn(wn),Rn=Sn[0],_n=Sn[1];return(Rn+_n)*3/4-_n}function xn(wn,Sn,Rn){return(Sn+Rn)*3/4-Rn}function yn(wn){var Sn,Rn=fn(wn),_n=Rn[0],jn=Rn[1],Cn=new dn(xn(wn,_n,jn)),An=0,Tn=jn>0?_n-4:_n,$n;for($n=0;$n<Tn;$n+=4)Sn=un[wn.charCodeAt($n)]<<18|un[wn.charCodeAt($n+1)]<<12|un[wn.charCodeAt($n+2)]<<6|un[wn.charCodeAt($n+3)],Cn[An++]=Sn>>16&255,Cn[An++]=Sn>>8&255,Cn[An++]=Sn&255;return jn===2&&(Sn=un[wn.charCodeAt($n)]<<2|un[wn.charCodeAt($n+1)]>>4,Cn[An++]=Sn&255),jn===1&&(Sn=un[wn.charCodeAt($n)]<<10|un[wn.charCodeAt($n+1)]<<4|un[wn.charCodeAt($n+2)]>>2,Cn[An++]=Sn>>8&255,Cn[An++]=Sn&255),Cn}function vn(wn){return sn[wn>>18&63]+sn[wn>>12&63]+sn[wn>>6&63]+sn[wn&63]}function En(wn,Sn,Rn){for(var _n,jn=[],Cn=Sn;Cn<Rn;Cn+=3)_n=(wn[Cn]<<16&16711680)+(wn[Cn+1]<<8&65280)+(wn[Cn+2]&255),jn.push(vn(_n));return jn.join("")}function bn(wn){for(var Sn,Rn=wn.length,_n=Rn%3,jn=[],Cn=16383,An=0,Tn=Rn-_n;An<Tn;An+=Cn)jn.push(En(wn,An,An+Cn>Tn?Tn:An+Cn));return _n===1?(Sn=wn[Rn-1],jn.push(sn[Sn>>2]+sn[Sn<<4&63]+"==")):_n===2&&(Sn=(wn[Rn-2]<<8)+wn[Rn-1],jn.push(sn[Sn>>10]+sn[Sn>>4&63]+sn[Sn<<2&63]+"=")),jn.join("")}}}),require_https=__commonJS({"(disabled):https"(){}}),require_browser=__commonJS({"node_modules/form-data/lib/browser.js"(tn,sn){sn.exports=typeof self=="object"?self.FormData:window.FormData}}),require_jsonwebtoken=__commonJS({"(disabled):node_modules/jsonwebtoken/index.js"(){}}),require_crypto=__commonJS({"(disabled):crypto"(){}}),import_base64_js=__toESM(require_base64_js());function isString$1(tn){return typeof tn=="string"}function isMapStringCallback(tn,sn){return!!sn&&isString$1(tn)}function map$3(tn,sn){const un=[];if(isString$1(tn)&&isMapStringCallback(tn,sn)){for(let dn=0,pn=tn.length;dn<pn;dn++)if(tn.charAt(dn)){const mn=tn.charAt(dn),hn=sn(mn,dn,tn);un[dn]=hn}}else if(!isString$1(tn)&&!isMapStringCallback(tn,sn)){for(let dn=0,pn=tn.length;dn<pn;dn++)if(dn in tn){const mn=tn[dn],hn=sn(mn,dn,tn);un[dn]=hn}}return un}var encodeBase64=tn=>(0,import_base64_js.fromByteArray)(new Uint8Array(map$3(tn,sn=>sn.charCodeAt(0)))),decodeBase64=tn=>{const sn={},un=String.fromCharCode,dn=tn.length;let pn,mn=0,hn,fn,gn=0,xn,yn="";const vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(pn=0;pn<64;pn++)sn[vn.charAt(pn)]=pn;for(fn=0;fn<dn;fn++)for(hn=sn[tn.charAt(fn)],mn=(mn<<6)+hn,gn+=6;gn>=8;)((xn=mn>>>(gn-=8)&255)||fn<dn-2)&&(yn+=un(xn));return yn},Campaign=class{constructor(tn,sn,un){this.client=tn,this.id=sn,this.data=un}async create(){var un,dn,pn,mn,hn,fn,gn,xn,yn,vn,En,bn;const tn={id:this.id,message_template:(un=this.data)==null?void 0:un.message_template,segment_ids:(dn=this.data)==null?void 0:dn.segment_ids,sender_id:(pn=this.data)==null?void 0:pn.sender_id,sender_mode:(mn=this.data)==null?void 0:mn.sender_mode,channel_template:(hn=this.data)==null?void 0:hn.channel_template,create_channels:(fn=this.data)==null?void 0:fn.create_channels,show_channels:(gn=this.data)==null?void 0:gn.show_channels,description:(xn=this.data)==null?void 0:xn.description,name:(yn=this.data)==null?void 0:yn.name,skip_push:(vn=this.data)==null?void 0:vn.skip_push,skip_webhook:(En=this.data)==null?void 0:En.skip_webhook,user_ids:(bn=this.data)==null?void 0:bn.user_ids},sn=await this.client.createCampaign(tn);return this.id=sn.campaign.id,this.data=sn.campaign,sn}verifyCampaignId(){if(!this.id)throw new Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}async start(tn){return this.verifyCampaignId(),await this.client.startCampaign(this.id,tn)}update(tn){return this.verifyCampaignId(),this.client.updateCampaign(this.id,tn)}async delete(){return this.verifyCampaignId(),await this.client.deleteCampaign(this.id)}stop(){return this.verifyCampaignId(),this.client.stopCampaign(this.id)}get(tn){return this.verifyCampaignId(),this.client.getCampaign(this.id,tn)}};function bind(tn,sn){return function(){return tn.apply(sn,arguments)}}var{toString:toString$2}=Object.prototype,{getPrototypeOf}=Object,kindOf=(tn=>sn=>{const un=toString$2.call(sn);return tn[un]||(tn[un]=un.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=tn=>(tn=tn.toLowerCase(),sn=>kindOf(sn)===tn),typeOfTest=tn=>sn=>typeof sn===tn,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(tn){return tn!==null&&!isUndefined(tn)&&tn.constructor!==null&&!isUndefined(tn.constructor)&&isFunction(tn.constructor.isBuffer)&&tn.constructor.isBuffer(tn)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(tn){let sn;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?sn=ArrayBuffer.isView(tn):sn=tn&&tn.buffer&&isArrayBuffer(tn.buffer),sn}var isString2=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$3=tn=>tn!==null&&typeof tn=="object",isBoolean=tn=>tn===!0||tn===!1,isPlainObject$2=tn=>{if(kindOf(tn)!=="object")return!1;const sn=getPrototypeOf(tn);return(sn===null||sn===Object.prototype||Object.getPrototypeOf(sn)===null)&&!(Symbol.toStringTag in tn)&&!(Symbol.iterator in tn)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=tn=>isObject$3(tn)&&isFunction(tn.pipe),isFormData=tn=>{let sn;return tn&&(typeof FormData=="function"&&tn instanceof FormData||isFunction(tn.append)&&((sn=kindOf(tn))==="formdata"||sn==="object"&&isFunction(tn.toString)&&tn.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim$1=tn=>tn.trim?tn.trim():tn.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(tn,sn,{allOwnKeys:un=!1}={}){if(tn===null||typeof tn>"u")return;let dn,pn;if(typeof tn!="object"&&(tn=[tn]),isArray$1(tn))for(dn=0,pn=tn.length;dn<pn;dn++)sn.call(null,tn[dn],dn,tn);else{const mn=un?Object.getOwnPropertyNames(tn):Object.keys(tn),hn=mn.length;let fn;for(dn=0;dn<hn;dn++)fn=mn[dn],sn.call(null,tn[fn],fn,tn)}}function findKey(tn,sn){sn=sn.toLowerCase();const un=Object.keys(tn);let dn=un.length,pn;for(;dn-- >0;)if(pn=un[dn],sn===pn.toLowerCase())return pn;return null}var _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=tn=>!isUndefined(tn)&&tn!==_global;function merge$2(){const{caseless:tn}=isContextDefined(this)&&this||{},sn={},un=(dn,pn)=>{const mn=tn&&findKey(sn,pn)||pn;isPlainObject$2(sn[mn])&&isPlainObject$2(dn)?sn[mn]=merge$2(sn[mn],dn):isPlainObject$2(dn)?sn[mn]=merge$2({},dn):isArray$1(dn)?sn[mn]=dn.slice():sn[mn]=dn};for(let dn=0,pn=arguments.length;dn<pn;dn++)arguments[dn]&&forEach(arguments[dn],un);return sn}var extend$2=(tn,sn,un,{allOwnKeys:dn}={})=>(forEach(sn,(pn,mn)=>{un&&isFunction(pn)?tn[mn]=bind(pn,un):tn[mn]=pn},{allOwnKeys:dn}),tn),stripBOM=tn=>(tn.charCodeAt(0)===65279&&(tn=tn.slice(1)),tn),inherits=(tn,sn,un,dn)=>{tn.prototype=Object.create(sn.prototype,dn),tn.prototype.constructor=tn,Object.defineProperty(tn,"super",{value:sn.prototype}),un&&Object.assign(tn.prototype,un)},toFlatObject=(tn,sn,un,dn)=>{let pn,mn,hn;const fn={};if(sn=sn||{},tn==null)return sn;do{for(pn=Object.getOwnPropertyNames(tn),mn=pn.length;mn-- >0;)hn=pn[mn],(!dn||dn(hn,tn,sn))&&!fn[hn]&&(sn[hn]=tn[hn],fn[hn]=!0);tn=un!==!1&&getPrototypeOf(tn)}while(tn&&(!un||un(tn,sn))&&tn!==Object.prototype);return sn},endsWith=(tn,sn,un)=>{tn=String(tn),(un===void 0||un>tn.length)&&(un=tn.length),un-=sn.length;const dn=tn.indexOf(sn,un);return dn!==-1&&dn===un},toArray=tn=>{if(!tn)return null;if(isArray$1(tn))return tn;let sn=tn.length;if(!isNumber(sn))return null;const un=new Array(sn);for(;sn-- >0;)un[sn]=tn[sn];return un},isTypedArray=(tn=>sn=>tn&&sn instanceof tn)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(tn,sn)=>{const dn=(tn&&tn[Symbol.iterator]).call(tn);let pn;for(;(pn=dn.next())&&!pn.done;){const mn=pn.value;sn.call(tn,mn[0],mn[1])}},matchAll=(tn,sn)=>{let un;const dn=[];for(;(un=tn.exec(sn))!==null;)dn.push(un);return dn},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=tn=>tn.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(un,dn,pn){return dn.toUpperCase()+pn}),hasOwnProperty$1=(({hasOwnProperty:tn})=>(sn,un)=>tn.call(sn,un))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(tn,sn)=>{const un=Object.getOwnPropertyDescriptors(tn),dn={};forEach(un,(pn,mn)=>{let hn;(hn=sn(pn,mn,tn))!==!1&&(dn[mn]=hn||pn)}),Object.defineProperties(tn,dn)},freezeMethods=tn=>{reduceDescriptors(tn,(sn,un)=>{if(isFunction(tn)&&["arguments","caller","callee"].indexOf(un)!==-1)return!1;const dn=tn[un];if(isFunction(dn)){if(sn.enumerable=!1,"writable"in sn){sn.writable=!1;return}sn.set||(sn.set=()=>{throw Error("Can not rewrite read-only method '"+un+"'")})}})},toObjectSet=(tn,sn)=>{const un={},dn=pn=>{pn.forEach(mn=>{un[mn]=!0})};return isArray$1(tn)?dn(tn):dn(String(tn).split(sn)),un},noop$8=()=>{},toFiniteNumber=(tn,sn)=>(tn=+tn,Number.isFinite(tn)?tn:sn),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT$1="0123456789",ALPHABET={DIGIT:DIGIT$1,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT$1},generateString=(tn=16,sn=ALPHABET.ALPHA_DIGIT)=>{let un="";const{length:dn}=sn;for(;tn--;)un+=sn[Math.random()*dn|0];return un};function isSpecCompliantForm(tn){return!!(tn&&isFunction(tn.append)&&tn[Symbol.toStringTag]==="FormData"&&tn[Symbol.iterator])}var toJSONObject=tn=>{const sn=new Array(10),un=(dn,pn)=>{if(isObject$3(dn)){if(sn.indexOf(dn)>=0)return;if(!("toJSON"in dn)){sn[pn]=dn;const mn=isArray$1(dn)?[]:{};return forEach(dn,(hn,fn)=>{const gn=un(hn,pn+1);!isUndefined(gn)&&(mn[fn]=gn)}),sn[pn]=void 0,mn}}return dn};return un(tn,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=tn=>tn&&(isObject$3(tn)||isFunction(tn))&&isFunction(tn.then)&&isFunction(tn.catch),utils_default={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString2,isNumber,isBoolean,isObject:isObject$3,isPlainObject:isPlainObject$2,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$2,extend:extend$2,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$8,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(tn,sn,un,dn,pn){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=tn,this.name="AxiosError",sn&&(this.code=sn),un&&(this.config=un),dn&&(this.request=dn),pn&&(this.response=pn)}utils_default.inherits(AxiosError,Error,{toJSON:function tn(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils_default.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(tn=>{descriptors[tn]={value:tn}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError.from=(tn,sn,un,dn,pn,mn)=>{const hn=Object.create(prototype);return utils_default.toFlatObject(tn,hn,function(gn){return gn!==Error.prototype},fn=>fn!=="isAxiosError"),AxiosError.call(hn,tn.message,sn,un,dn,pn),hn.cause=tn,hn.name=tn.name,mn&&Object.assign(hn,mn),hn};var AxiosError_default=AxiosError,null_default=null;function isVisitable(tn){return utils_default.isPlainObject(tn)||utils_default.isArray(tn)}function removeBrackets(tn){return utils_default.endsWith(tn,"[]")?tn.slice(0,-2):tn}function renderKey(tn,sn,un){return tn?tn.concat(sn).map(function(pn,mn){return pn=removeBrackets(pn),!un&&mn?"["+pn+"]":pn}).join(un?".":""):sn}function isFlatArray(tn){return utils_default.isArray(tn)&&!tn.some(isVisitable)}var predicates=utils_default.toFlatObject(utils_default,{},null,function tn(sn){return/^is[A-Z]/.test(sn)});function toFormData(tn,sn,un){if(!utils_default.isObject(tn))throw new TypeError("target must be an object");sn=sn||new FormData,un=utils_default.toFlatObject(un,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Sn,Rn){return!utils_default.isUndefined(Rn[Sn])});const dn=un.metaTokens,pn=un.visitor||yn,mn=un.dots,hn=un.indexes,gn=(un.Blob||typeof Blob<"u"&&Blob)&&utils_default.isSpecCompliantForm(sn);if(!utils_default.isFunction(pn))throw new TypeError("visitor must be a function");function xn(wn){if(wn===null)return"";if(utils_default.isDate(wn))return wn.toISOString();if(!gn&&utils_default.isBlob(wn))throw new AxiosError_default("Blob is not supported. Use a Buffer instead.");return utils_default.isArrayBuffer(wn)||utils_default.isTypedArray(wn)?gn&&typeof Blob=="function"?new Blob([wn]):Buffer.from(wn):wn}function yn(wn,Sn,Rn){let _n=wn;if(wn&&!Rn&&typeof wn=="object"){if(utils_default.endsWith(Sn,"{}"))Sn=dn?Sn:Sn.slice(0,-2),wn=JSON.stringify(wn);else if(utils_default.isArray(wn)&&isFlatArray(wn)||(utils_default.isFileList(wn)||utils_default.endsWith(Sn,"[]"))&&(_n=utils_default.toArray(wn)))return Sn=removeBrackets(Sn),_n.forEach(function(Cn,An){!(utils_default.isUndefined(Cn)||Cn===null)&&sn.append(hn===!0?renderKey([Sn],An,mn):hn===null?Sn:Sn+"[]",xn(Cn))}),!1}return isVisitable(wn)?!0:(sn.append(renderKey(Rn,Sn,mn),xn(wn)),!1)}const vn=[],En=Object.assign(predicates,{defaultVisitor:yn,convertValue:xn,isVisitable});function bn(wn,Sn){if(!utils_default.isUndefined(wn)){if(vn.indexOf(wn)!==-1)throw Error("Circular reference detected in "+Sn.join("."));vn.push(wn),utils_default.forEach(wn,function(_n,jn){(!(utils_default.isUndefined(_n)||_n===null)&&pn.call(sn,_n,utils_default.isString(jn)?jn.trim():jn,Sn,En))===!0&&bn(_n,Sn?Sn.concat(jn):[jn])}),vn.pop()}}if(!utils_default.isObject(tn))throw new TypeError("data must be an object");return bn(tn),sn}var toFormData_default=toFormData;function encode(tn){const sn={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(tn).replace(/[!'()~]|%20|%00/g,function(dn){return sn[dn]})}function AxiosURLSearchParams(tn,sn){this._pairs=[],tn&&toFormData_default(tn,this,sn)}var prototype2=AxiosURLSearchParams.prototype;prototype2.append=function tn(sn,un){this._pairs.push([sn,un])};prototype2.toString=function tn(sn){const un=sn?function(dn){return sn.call(this,dn,encode)}:encode;return this._pairs.map(function(pn){return un(pn[0])+"="+un(pn[1])},"").join("&")};var AxiosURLSearchParams_default=AxiosURLSearchParams;function encode2(tn){return encodeURIComponent(tn).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(tn,sn,un){if(!sn)return tn;const dn=un&&un.encode||encode2,pn=un&&un.serialize;let mn;if(pn?mn=pn(sn,un):mn=utils_default.isURLSearchParams(sn)?sn.toString():new AxiosURLSearchParams_default(sn,un).toString(dn),mn){const hn=tn.indexOf("#");hn!==-1&&(tn=tn.slice(0,hn)),tn+=(tn.indexOf("?")===-1?"?":"&")+mn}return tn}var InterceptorManager=class{constructor(){this.handlers=[]}use(tn,sn,un){return this.handlers.push({fulfilled:tn,rejected:sn,synchronous:un?un.synchronous:!1,runWhen:un?un.runWhen:null}),this.handlers.length-1}eject(tn){this.handlers[tn]&&(this.handlers[tn]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(tn){utils_default.forEach(this.handlers,function(un){un!==null&&tn(un)})}},InterceptorManager_default=InterceptorManager,transitional_default={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams_default=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams_default,FormData_default=typeof FormData<"u"?FormData:null,Blob_default=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let tn;return typeof navigator<"u"&&((tn=navigator.product)==="ReactNative"||tn==="NativeScript"||tn==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",browser_default={classes:{URLSearchParams:URLSearchParams_default,FormData:FormData_default,Blob:Blob_default},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(tn,sn){return toFormData_default(tn,new browser_default.classes.URLSearchParams,Object.assign({visitor:function(un,dn,pn,mn){return browser_default.isNode&&utils_default.isBuffer(un)?(this.append(dn,un.toString("base64")),!1):mn.defaultVisitor.apply(this,arguments)}},sn))}function parsePropPath(tn){return utils_default.matchAll(/\w+|\[(\w*)]/g,tn).map(sn=>sn[0]==="[]"?"":sn[1]||sn[0])}function arrayToObject(tn){const sn={},un=Object.keys(tn);let dn;const pn=un.length;let mn;for(dn=0;dn<pn;dn++)mn=un[dn],sn[mn]=tn[mn];return sn}function formDataToJSON(tn){function sn(un,dn,pn,mn){let hn=un[mn++];const fn=Number.isFinite(+hn),gn=mn>=un.length;return hn=!hn&&utils_default.isArray(pn)?pn.length:hn,gn?(utils_default.hasOwnProp(pn,hn)?pn[hn]=[pn[hn],dn]:pn[hn]=dn,!fn):((!pn[hn]||!utils_default.isObject(pn[hn]))&&(pn[hn]=[]),sn(un,dn,pn[hn],mn)&&utils_default.isArray(pn[hn])&&(pn[hn]=arrayToObject(pn[hn])),!fn)}if(utils_default.isFormData(tn)&&utils_default.isFunction(tn.entries)){const un={};return utils_default.forEachEntry(tn,(dn,pn)=>{sn(parsePropPath(dn),pn,un,0)}),un}return null}var formDataToJSON_default=formDataToJSON;function stringifySafely(tn,sn,un){if(utils_default.isString(tn))try{return(sn||JSON.parse)(tn),utils_default.trim(tn)}catch(dn){if(dn.name!=="SyntaxError")throw dn}return(un||JSON.stringify)(tn)}var defaults$1={transitional:transitional_default,adapter:["xhr","http"],transformRequest:[function tn(sn,un){const dn=un.getContentType()||"",pn=dn.indexOf("application/json")>-1,mn=utils_default.isObject(sn);if(mn&&utils_default.isHTMLForm(sn)&&(sn=new FormData(sn)),utils_default.isFormData(sn))return pn&&pn?JSON.stringify(formDataToJSON_default(sn)):sn;if(utils_default.isArrayBuffer(sn)||utils_default.isBuffer(sn)||utils_default.isStream(sn)||utils_default.isFile(sn)||utils_default.isBlob(sn))return sn;if(utils_default.isArrayBufferView(sn))return sn.buffer;if(utils_default.isURLSearchParams(sn))return un.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),sn.toString();let fn;if(mn){if(dn.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(sn,this.formSerializer).toString();if((fn=utils_default.isFileList(sn))||dn.indexOf("multipart/form-data")>-1){const gn=this.env&&this.env.FormData;return toFormData_default(fn?{"files[]":sn}:sn,gn&&new gn,this.formSerializer)}}return mn||pn?(un.setContentType("application/json",!1),stringifySafely(sn)):sn}],transformResponse:[function tn(sn){const un=this.transitional||defaults$1.transitional,dn=un&&un.forcedJSONParsing,pn=this.responseType==="json";if(sn&&utils_default.isString(sn)&&(dn&&!this.responseType||pn)){const hn=!(un&&un.silentJSONParsing)&&pn;try{return JSON.parse(sn)}catch(fn){if(hn)throw fn.name==="SyntaxError"?AxiosError_default.from(fn,AxiosError_default.ERR_BAD_RESPONSE,this,null,this.response):fn}}return sn}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:browser_default.classes.FormData,Blob:browser_default.classes.Blob},validateStatus:function tn(sn){return sn>=200&&sn<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils_default.forEach(["delete","get","head","post","put","patch"],tn=>{defaults$1.headers[tn]={}});var defaults_default=defaults$1,ignoreDuplicateOf=utils_default.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders_default=tn=>{const sn={};let un,dn,pn;return tn&&tn.split(`
`).forEach(function(hn){pn=hn.indexOf(":"),un=hn.substring(0,pn).trim().toLowerCase(),dn=hn.substring(pn+1).trim(),!(!un||sn[un]&&ignoreDuplicateOf[un])&&(un==="set-cookie"?sn[un]?sn[un].push(dn):sn[un]=[dn]:sn[un]=sn[un]?sn[un]+", "+dn:dn)}),sn},$internals=Symbol("internals");function normalizeHeader(tn){return tn&&String(tn).trim().toLowerCase()}function normalizeValue(tn){return tn===!1||tn==null?tn:utils_default.isArray(tn)?tn.map(normalizeValue):String(tn)}function parseTokens(tn){const sn=Object.create(null),un=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let dn;for(;dn=un.exec(tn);)sn[dn[1]]=dn[2];return sn}var isValidHeaderName=tn=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(tn.trim());function matchHeaderValue(tn,sn,un,dn,pn){if(utils_default.isFunction(dn))return dn.call(this,sn,un);if(pn&&(sn=un),!!utils_default.isString(sn)){if(utils_default.isString(dn))return sn.indexOf(dn)!==-1;if(utils_default.isRegExp(dn))return dn.test(sn)}}function formatHeader(tn){return tn.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(sn,un,dn)=>un.toUpperCase()+dn)}function buildAccessors(tn,sn){const un=utils_default.toCamelCase(" "+sn);["get","set","has"].forEach(dn=>{Object.defineProperty(tn,dn+un,{value:function(pn,mn,hn){return this[dn].call(this,sn,pn,mn,hn)},configurable:!0})})}var AxiosHeaders=class{constructor(tn){tn&&this.set(tn)}set(tn,sn,un){const dn=this;function pn(hn,fn,gn){const xn=normalizeHeader(fn);if(!xn)throw new Error("header name must be a non-empty string");const yn=utils_default.findKey(dn,xn);(!yn||dn[yn]===void 0||gn===!0||gn===void 0&&dn[yn]!==!1)&&(dn[yn||fn]=normalizeValue(hn))}const mn=(hn,fn)=>utils_default.forEach(hn,(gn,xn)=>pn(gn,xn,fn));return utils_default.isPlainObject(tn)||tn instanceof this.constructor?mn(tn,sn):utils_default.isString(tn)&&(tn=tn.trim())&&!isValidHeaderName(tn)?mn(parseHeaders_default(tn),sn):tn!=null&&pn(sn,tn,un),this}get(tn,sn){if(tn=normalizeHeader(tn),tn){const un=utils_default.findKey(this,tn);if(un){const dn=this[un];if(!sn)return dn;if(sn===!0)return parseTokens(dn);if(utils_default.isFunction(sn))return sn.call(this,dn,un);if(utils_default.isRegExp(sn))return sn.exec(dn);throw new TypeError("parser must be boolean|regexp|function")}}}has(tn,sn){if(tn=normalizeHeader(tn),tn){const un=utils_default.findKey(this,tn);return!!(un&&this[un]!==void 0&&(!sn||matchHeaderValue(this,this[un],un,sn)))}return!1}delete(tn,sn){const un=this;let dn=!1;function pn(mn){if(mn=normalizeHeader(mn),mn){const hn=utils_default.findKey(un,mn);hn&&(!sn||matchHeaderValue(un,un[hn],hn,sn))&&(delete un[hn],dn=!0)}}return utils_default.isArray(tn)?tn.forEach(pn):pn(tn),dn}clear(tn){const sn=Object.keys(this);let un=sn.length,dn=!1;for(;un--;){const pn=sn[un];(!tn||matchHeaderValue(this,this[pn],pn,tn,!0))&&(delete this[pn],dn=!0)}return dn}normalize(tn){const sn=this,un={};return utils_default.forEach(this,(dn,pn)=>{const mn=utils_default.findKey(un,pn);if(mn){sn[mn]=normalizeValue(dn),delete sn[pn];return}const hn=tn?formatHeader(pn):String(pn).trim();hn!==pn&&delete sn[pn],sn[hn]=normalizeValue(dn),un[hn]=!0}),this}concat(...tn){return this.constructor.concat(this,...tn)}toJSON(tn){const sn=Object.create(null);return utils_default.forEach(this,(un,dn)=>{un!=null&&un!==!1&&(sn[dn]=tn&&utils_default.isArray(un)?un.join(", "):un)}),sn}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([tn,sn])=>tn+": "+sn).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(tn){return tn instanceof this?tn:new this(tn)}static concat(tn,...sn){const un=new this(tn);return sn.forEach(dn=>un.set(dn)),un}static accessor(tn){const un=(this[$internals]=this[$internals]={accessors:{}}).accessors,dn=this.prototype;function pn(mn){const hn=normalizeHeader(mn);un[hn]||(buildAccessors(dn,mn),un[hn]=!0)}return utils_default.isArray(tn)?tn.forEach(pn):pn(tn),this}};AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils_default.reduceDescriptors(AxiosHeaders.prototype,({value:tn},sn)=>{let un=sn[0].toUpperCase()+sn.slice(1);return{get:()=>tn,set(dn){this[un]=dn}}});utils_default.freezeMethods(AxiosHeaders);var AxiosHeaders_default=AxiosHeaders;function transformData(tn,sn){const un=this||defaults_default,dn=sn||un,pn=AxiosHeaders_default.from(dn.headers);let mn=dn.data;return utils_default.forEach(tn,function(fn){mn=fn.call(un,mn,pn.normalize(),sn?sn.status:void 0)}),pn.normalize(),mn}function isCancel(tn){return!!(tn&&tn.__CANCEL__)}function CanceledError(tn,sn,un){AxiosError_default.call(this,tn??"canceled",AxiosError_default.ERR_CANCELED,sn,un),this.name="CanceledError"}utils_default.inherits(CanceledError,AxiosError_default,{__CANCEL__:!0});var CanceledError_default=CanceledError;function settle(tn,sn,un){const dn=un.config.validateStatus;!un.status||!dn||dn(un.status)?tn(un):sn(new AxiosError_default("Request failed with status code "+un.status,[AxiosError_default.ERR_BAD_REQUEST,AxiosError_default.ERR_BAD_RESPONSE][Math.floor(un.status/100)-4],un.config,un.request,un))}var cookies_default=browser_default.isStandardBrowserEnv?function tn(){return{write:function(un,dn,pn,mn,hn,fn){const gn=[];gn.push(un+"="+encodeURIComponent(dn)),utils_default.isNumber(pn)&&gn.push("expires="+new Date(pn).toGMTString()),utils_default.isString(mn)&&gn.push("path="+mn),utils_default.isString(hn)&&gn.push("domain="+hn),fn===!0&&gn.push("secure"),document.cookie=gn.join("; ")},read:function(un){const dn=document.cookie.match(new RegExp("(^|;\\s*)("+un+")=([^;]*)"));return dn?decodeURIComponent(dn[3]):null},remove:function(un){this.write(un,"",Date.now()-864e5)}}}():function tn(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(tn){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(tn)}function combineURLs(tn,sn){return sn?tn.replace(/\/+$/,"")+"/"+sn.replace(/^\/+/,""):tn}function buildFullPath(tn,sn){return tn&&!isAbsoluteURL(sn)?combineURLs(tn,sn):sn}var isURLSameOrigin_default=browser_default.isStandardBrowserEnv?function tn(){const sn=/(msie|trident)/i.test(navigator.userAgent),un=document.createElement("a");let dn;function pn(mn){let hn=mn;return sn&&(un.setAttribute("href",hn),hn=un.href),un.setAttribute("href",hn),{href:un.href,protocol:un.protocol?un.protocol.replace(/:$/,""):"",host:un.host,search:un.search?un.search.replace(/^\?/,""):"",hash:un.hash?un.hash.replace(/^#/,""):"",hostname:un.hostname,port:un.port,pathname:un.pathname.charAt(0)==="/"?un.pathname:"/"+un.pathname}}return dn=pn(window.location.href),function(hn){const fn=utils_default.isString(hn)?pn(hn):hn;return fn.protocol===dn.protocol&&fn.host===dn.host}}():function tn(){return function(){return!0}}();function parseProtocol(tn){const sn=/^([-+\w]{1,25})(:?\/\/|:)/.exec(tn);return sn&&sn[1]||""}function speedometer(tn,sn){tn=tn||10;const un=new Array(tn),dn=new Array(tn);let pn=0,mn=0,hn;return sn=sn!==void 0?sn:1e3,function(gn){const xn=Date.now(),yn=dn[mn];hn||(hn=xn),un[pn]=gn,dn[pn]=xn;let vn=mn,En=0;for(;vn!==pn;)En+=un[vn++],vn=vn%tn;if(pn=(pn+1)%tn,pn===mn&&(mn=(mn+1)%tn),xn-hn<sn)return;const bn=yn&&xn-yn;return bn?Math.round(En*1e3/bn):void 0}}var speedometer_default=speedometer;function progressEventReducer(tn,sn){let un=0;const dn=speedometer_default(50,250);return pn=>{const mn=pn.loaded,hn=pn.lengthComputable?pn.total:void 0,fn=mn-un,gn=dn(fn),xn=mn<=hn;un=mn;const yn={loaded:mn,total:hn,progress:hn?mn/hn:void 0,bytes:fn,rate:gn||void 0,estimated:gn&&hn&&xn?(hn-mn)/gn:void 0,event:pn};yn[sn?"download":"upload"]=!0,tn(yn)}}var isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhr_default=isXHRAdapterSupported&&function(tn){return new Promise(function(un,dn){let pn=tn.data;const mn=AxiosHeaders_default.from(tn.headers).normalize(),hn=tn.responseType;let fn;function gn(){tn.cancelToken&&tn.cancelToken.unsubscribe(fn),tn.signal&&tn.signal.removeEventListener("abort",fn)}let xn;utils_default.isFormData(pn)&&(browser_default.isStandardBrowserEnv||browser_default.isStandardBrowserWebWorkerEnv?mn.setContentType(!1):mn.getContentType(/^\s*multipart\/form-data/)?utils_default.isString(xn=mn.getContentType())&&mn.setContentType(xn.replace(/^\s*(multipart\/form-data);+/,"$1")):mn.setContentType("multipart/form-data"));let yn=new XMLHttpRequest;if(tn.auth){const wn=tn.auth.username||"",Sn=tn.auth.password?unescape(encodeURIComponent(tn.auth.password)):"";mn.set("Authorization","Basic "+btoa(wn+":"+Sn))}const vn=buildFullPath(tn.baseURL,tn.url);yn.open(tn.method.toUpperCase(),buildURL(vn,tn.params,tn.paramsSerializer),!0),yn.timeout=tn.timeout;function En(){if(!yn)return;const wn=AxiosHeaders_default.from("getAllResponseHeaders"in yn&&yn.getAllResponseHeaders()),Rn={data:!hn||hn==="text"||hn==="json"?yn.responseText:yn.response,status:yn.status,statusText:yn.statusText,headers:wn,config:tn,request:yn};settle(function(jn){un(jn),gn()},function(jn){dn(jn),gn()},Rn),yn=null}if("onloadend"in yn?yn.onloadend=En:yn.onreadystatechange=function(){!yn||yn.readyState!==4||yn.status===0&&!(yn.responseURL&&yn.responseURL.indexOf("file:")===0)||setTimeout(En)},yn.onabort=function(){yn&&(dn(new AxiosError_default("Request aborted",AxiosError_default.ECONNABORTED,tn,yn)),yn=null)},yn.onerror=function(){dn(new AxiosError_default("Network Error",AxiosError_default.ERR_NETWORK,tn,yn)),yn=null},yn.ontimeout=function(){let Sn=tn.timeout?"timeout of "+tn.timeout+"ms exceeded":"timeout exceeded";const Rn=tn.transitional||transitional_default;tn.timeoutErrorMessage&&(Sn=tn.timeoutErrorMessage),dn(new AxiosError_default(Sn,Rn.clarifyTimeoutError?AxiosError_default.ETIMEDOUT:AxiosError_default.ECONNABORTED,tn,yn)),yn=null},browser_default.isStandardBrowserEnv){const wn=isURLSameOrigin_default(vn)&&tn.xsrfCookieName&&cookies_default.read(tn.xsrfCookieName);wn&&mn.set(tn.xsrfHeaderName,wn)}pn===void 0&&mn.setContentType(null),"setRequestHeader"in yn&&utils_default.forEach(mn.toJSON(),function(Sn,Rn){yn.setRequestHeader(Rn,Sn)}),utils_default.isUndefined(tn.withCredentials)||(yn.withCredentials=!!tn.withCredentials),hn&&hn!=="json"&&(yn.responseType=tn.responseType),typeof tn.onDownloadProgress=="function"&&yn.addEventListener("progress",progressEventReducer(tn.onDownloadProgress,!0)),typeof tn.onUploadProgress=="function"&&yn.upload&&yn.upload.addEventListener("progress",progressEventReducer(tn.onUploadProgress)),(tn.cancelToken||tn.signal)&&(fn=wn=>{yn&&(dn(!wn||wn.type?new CanceledError_default(null,tn,yn):wn),yn.abort(),yn=null)},tn.cancelToken&&tn.cancelToken.subscribe(fn),tn.signal&&(tn.signal.aborted?fn():tn.signal.addEventListener("abort",fn)));const bn=parseProtocol(vn);if(bn&&browser_default.protocols.indexOf(bn)===-1){dn(new AxiosError_default("Unsupported protocol "+bn+":",AxiosError_default.ERR_BAD_REQUEST,tn));return}yn.send(pn||null)})},knownAdapters={http:null_default,xhr:xhr_default};utils_default.forEach(knownAdapters,(tn,sn)=>{if(tn){try{Object.defineProperty(tn,"name",{value:sn})}catch{}Object.defineProperty(tn,"adapterName",{value:sn})}});var renderReason=tn=>`- ${tn}`,isResolvedHandle=tn=>utils_default.isFunction(tn)||tn===null||tn===!1,adapters_default={getAdapter:tn=>{tn=utils_default.isArray(tn)?tn:[tn];const{length:sn}=tn;let un,dn;const pn={};for(let mn=0;mn<sn;mn++){un=tn[mn];let hn;if(dn=un,!isResolvedHandle(un)&&(dn=knownAdapters[(hn=String(un)).toLowerCase()],dn===void 0))throw new AxiosError_default(`Unknown adapter '${hn}'`);if(dn)break;pn[hn||"#"+mn]=dn}if(!dn){const mn=Object.entries(pn).map(([fn,gn])=>`adapter ${fn} `+(gn===!1?"is not supported by the environment":"is not available in the build"));let hn=sn?mn.length>1?`since :
`+mn.map(renderReason).join(`
`):" "+renderReason(mn[0]):"as no adapter specified";throw new AxiosError_default("There is no suitable adapter to dispatch the request "+hn,"ERR_NOT_SUPPORT")}return dn},adapters:knownAdapters};function throwIfCancellationRequested(tn){if(tn.cancelToken&&tn.cancelToken.throwIfRequested(),tn.signal&&tn.signal.aborted)throw new CanceledError_default(null,tn)}function dispatchRequest(tn){return throwIfCancellationRequested(tn),tn.headers=AxiosHeaders_default.from(tn.headers),tn.data=transformData.call(tn,tn.transformRequest),["post","put","patch"].indexOf(tn.method)!==-1&&tn.headers.setContentType("application/x-www-form-urlencoded",!1),adapters_default.getAdapter(tn.adapter||defaults_default.adapter)(tn).then(function(dn){return throwIfCancellationRequested(tn),dn.data=transformData.call(tn,tn.transformResponse,dn),dn.headers=AxiosHeaders_default.from(dn.headers),dn},function(dn){return isCancel(dn)||(throwIfCancellationRequested(tn),dn&&dn.response&&(dn.response.data=transformData.call(tn,tn.transformResponse,dn.response),dn.response.headers=AxiosHeaders_default.from(dn.response.headers))),Promise.reject(dn)})}var headersToObject=tn=>tn instanceof AxiosHeaders_default?tn.toJSON():tn;function mergeConfig(tn,sn){sn=sn||{};const un={};function dn(xn,yn,vn){return utils_default.isPlainObject(xn)&&utils_default.isPlainObject(yn)?utils_default.merge.call({caseless:vn},xn,yn):utils_default.isPlainObject(yn)?utils_default.merge({},yn):utils_default.isArray(yn)?yn.slice():yn}function pn(xn,yn,vn){if(utils_default.isUndefined(yn)){if(!utils_default.isUndefined(xn))return dn(void 0,xn,vn)}else return dn(xn,yn,vn)}function mn(xn,yn){if(!utils_default.isUndefined(yn))return dn(void 0,yn)}function hn(xn,yn){if(utils_default.isUndefined(yn)){if(!utils_default.isUndefined(xn))return dn(void 0,xn)}else return dn(void 0,yn)}function fn(xn,yn,vn){if(vn in sn)return dn(xn,yn);if(vn in tn)return dn(void 0,xn)}const gn={url:mn,method:mn,data:mn,baseURL:hn,transformRequest:hn,transformResponse:hn,paramsSerializer:hn,timeout:hn,timeoutMessage:hn,withCredentials:hn,adapter:hn,responseType:hn,xsrfCookieName:hn,xsrfHeaderName:hn,onUploadProgress:hn,onDownloadProgress:hn,decompress:hn,maxContentLength:hn,maxBodyLength:hn,beforeRedirect:hn,transport:hn,httpAgent:hn,httpsAgent:hn,cancelToken:hn,socketPath:hn,responseEncoding:hn,validateStatus:fn,headers:(xn,yn)=>pn(headersToObject(xn),headersToObject(yn),!0)};return utils_default.forEach(Object.keys(Object.assign({},tn,sn)),function(yn){const vn=gn[yn]||pn,En=vn(tn[yn],sn[yn],yn);utils_default.isUndefined(En)&&vn!==fn||(un[yn]=En)}),un}var VERSION="1.6.0",validators={};["object","boolean","number","function","string","symbol"].forEach((tn,sn)=>{validators[tn]=function(dn){return typeof dn===tn||"a"+(sn<1?"n ":" ")+tn}});var deprecatedWarnings={};validators.transitional=function tn(sn,un,dn){function pn(mn,hn){return"[Axios v"+VERSION+"] Transitional option '"+mn+"'"+hn+(dn?". "+dn:"")}return(mn,hn,fn)=>{if(sn===!1)throw new AxiosError_default(pn(hn," has been removed"+(un?" in "+un:"")),AxiosError_default.ERR_DEPRECATED);return un&&!deprecatedWarnings[hn]&&(deprecatedWarnings[hn]=!0,console.warn(pn(hn," has been deprecated since v"+un+" and will be removed in the near future"))),sn?sn(mn,hn,fn):!0}};function assertOptions(tn,sn,un){if(typeof tn!="object")throw new AxiosError_default("options must be an object",AxiosError_default.ERR_BAD_OPTION_VALUE);const dn=Object.keys(tn);let pn=dn.length;for(;pn-- >0;){const mn=dn[pn],hn=sn[mn];if(hn){const fn=tn[mn],gn=fn===void 0||hn(fn,mn,tn);if(gn!==!0)throw new AxiosError_default("option "+mn+" must be "+gn,AxiosError_default.ERR_BAD_OPTION_VALUE);continue}if(un!==!0)throw new AxiosError_default("Unknown option "+mn,AxiosError_default.ERR_BAD_OPTION)}}var validator_default={assertOptions,validators},validators2=validator_default.validators,Axios=class{constructor(tn){this.defaults=tn,this.interceptors={request:new InterceptorManager_default,response:new InterceptorManager_default}}request(tn,sn){typeof tn=="string"?(sn=sn||{},sn.url=tn):sn=tn||{},sn=mergeConfig(this.defaults,sn);const{transitional:un,paramsSerializer:dn,headers:pn}=sn;un!==void 0&&validator_default.assertOptions(un,{silentJSONParsing:validators2.transitional(validators2.boolean),forcedJSONParsing:validators2.transitional(validators2.boolean),clarifyTimeoutError:validators2.transitional(validators2.boolean)},!1),dn!=null&&(utils_default.isFunction(dn)?sn.paramsSerializer={serialize:dn}:validator_default.assertOptions(dn,{encode:validators2.function,serialize:validators2.function},!0)),sn.method=(sn.method||this.defaults.method||"get").toLowerCase();let mn=pn&&utils_default.merge(pn.common,pn[sn.method]);pn&&utils_default.forEach(["delete","get","head","post","put","patch","common"],bn=>{delete pn[bn]}),sn.headers=AxiosHeaders_default.concat(mn,pn);const hn=[];let fn=!0;this.interceptors.request.forEach(function(wn){typeof wn.runWhen=="function"&&wn.runWhen(sn)===!1||(fn=fn&&wn.synchronous,hn.unshift(wn.fulfilled,wn.rejected))});const gn=[];this.interceptors.response.forEach(function(wn){gn.push(wn.fulfilled,wn.rejected)});let xn,yn=0,vn;if(!fn){const bn=[dispatchRequest.bind(this),void 0];for(bn.unshift.apply(bn,hn),bn.push.apply(bn,gn),vn=bn.length,xn=Promise.resolve(sn);yn<vn;)xn=xn.then(bn[yn++],bn[yn++]);return xn}vn=hn.length;let En=sn;for(yn=0;yn<vn;){const bn=hn[yn++],wn=hn[yn++];try{En=bn(En)}catch(Sn){wn.call(this,Sn);break}}try{xn=dispatchRequest.call(this,En)}catch(bn){return Promise.reject(bn)}for(yn=0,vn=gn.length;yn<vn;)xn=xn.then(gn[yn++],gn[yn++]);return xn}getUri(tn){tn=mergeConfig(this.defaults,tn);const sn=buildFullPath(tn.baseURL,tn.url);return buildURL(sn,tn.params,tn.paramsSerializer)}};utils_default.forEach(["delete","get","head","options"],function tn(sn){Axios.prototype[sn]=function(un,dn){return this.request(mergeConfig(dn||{},{method:sn,url:un,data:(dn||{}).data}))}});utils_default.forEach(["post","put","patch"],function tn(sn){function un(dn){return function(mn,hn,fn){return this.request(mergeConfig(fn||{},{method:sn,headers:dn?{"Content-Type":"multipart/form-data"}:{},url:mn,data:hn}))}}Axios.prototype[sn]=un(),Axios.prototype[sn+"Form"]=un(!0)});var Axios_default=Axios,CancelToken=class Qu{constructor(sn){if(typeof sn!="function")throw new TypeError("executor must be a function.");let un;this.promise=new Promise(function(mn){un=mn});const dn=this;this.promise.then(pn=>{if(!dn._listeners)return;let mn=dn._listeners.length;for(;mn-- >0;)dn._listeners[mn](pn);dn._listeners=null}),this.promise.then=pn=>{let mn;const hn=new Promise(fn=>{dn.subscribe(fn),mn=fn}).then(pn);return hn.cancel=function(){dn.unsubscribe(mn)},hn},sn(function(mn,hn,fn){dn.reason||(dn.reason=new CanceledError_default(mn,hn,fn),un(dn.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(sn){if(this.reason){sn(this.reason);return}this._listeners?this._listeners.push(sn):this._listeners=[sn]}unsubscribe(sn){if(!this._listeners)return;const un=this._listeners.indexOf(sn);un!==-1&&this._listeners.splice(un,1)}static source(){let sn;return{token:new Qu(function(pn){sn=pn}),cancel:sn}}},CancelToken_default=CancelToken;function spread(tn){return function(un){return tn.apply(null,un)}}function isAxiosError(tn){return utils_default.isObject(tn)&&tn.isAxiosError===!0}var HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([tn,sn])=>{HttpStatusCode[sn]=tn});var HttpStatusCode_default=HttpStatusCode;function createInstance(tn){const sn=new Axios_default(tn),un=bind(Axios_default.prototype.request,sn);return utils_default.extend(un,Axios_default.prototype,sn,{allOwnKeys:!0}),utils_default.extend(un,sn,null,{allOwnKeys:!0}),un.create=function(pn){return createInstance(mergeConfig(tn,pn))},un}var axios=createInstance(defaults_default);axios.Axios=Axios_default;axios.CanceledError=CanceledError_default;axios.CancelToken=CancelToken_default;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData_default;axios.AxiosError=AxiosError_default;axios.Cancel=axios.CanceledError;axios.all=function tn(sn){return Promise.all(sn)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders_default;axios.formToJSON=tn=>formDataToJSON_default(utils_default.isHTMLForm(tn)?new FormData(tn):tn);axios.getAdapter=adapters_default.getAdapter;axios.HttpStatusCode=HttpStatusCode_default;axios.default=axios;var axios_default=axios,{Axios:Axios2,AxiosError:AxiosError2,CanceledError:CanceledError2,isCancel:isCancel2,CancelToken:CancelToken2,VERSION:VERSION2,all:all2,Cancel:Cancel$c,isAxiosError:isAxiosError2,spread:spread2,toFormData:toFormData2,AxiosHeaders:AxiosHeaders2,HttpStatusCode:HttpStatusCode2,formToJSON,getAdapter,mergeConfig:mergeConfig2}=axios_default,import_https=__toESM(require_https()),import_form_data=__toESM(require_browser()),DEFAULT_QUERY_CHANNELS_MESSAGE_LIST_PAGE_SIZE=25,DEFAULT_QUERY_CHANNEL_MESSAGE_LIST_PAGE_SIZE=100,DEFAULT_MESSAGE_SET_PAGINATION={hasNext:!1,hasPrev:!1},DEFAULT_UPLOAD_SIZE_LIMIT_BYTES=100*1024*1024,API_MAX_FILES_ALLOWED_PER_MESSAGE=10,MAX_CHANNEL_MEMBER_COUNT_IN_CHANNEL_QUERY=100,RESERVED_UPDATED_MESSAGE_FIELDS={created_at:!0,deleted_at:!0,pinned_at:!0,updated_at:!0,command:!0,mentioned_users:!0,quoted_message:!0,latest_reactions:!0,own_reactions:!0,reaction_counts:!0,reply_count:!0,i18n:!0,type:!0,html:!0,__html:!0,user:!0},LOCAL_MESSAGE_FIELDS={error:!0},DEFAULT_QUERY_CHANNELS_RETRY_COUNT=3,DEFAULT_QUERY_CHANNELS_MS_BETWEEN_RETRIES=1e3;function logChatPromiseExecution(tn,sn){tn.then().catch(un=>{console.warn(`failed to do ${sn}, ran into error: `,un)})}var sleep=tn=>new Promise(sn=>setTimeout(sn,tn));function isFunction2(tn){return typeof tn=="function"||tn instanceof Function||Object.prototype.toString.call(tn)==="[object Function]"}var chatCodes={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function isReadableStream(tn){return tn!==null&&typeof tn=="object"&&(tn.readable||typeof tn._read=="function")}function isBuffer2(tn){return tn!=null&&tn.constructor!=null&&typeof tn.constructor.isBuffer=="function"&&tn.constructor.isBuffer(tn)}function isFileWebAPI(tn){return typeof window<"u"&&"File"in window&&tn instanceof File}function isBlobWebAPI(tn){return typeof window<"u"&&"Blob"in window&&tn instanceof Blob}function isOwnUserBaseProperty(tn){return{channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,privacy_settings:!0,roles:!0,push_preferences:!0}[tn]}function addFileToFormData(tn,sn,un){const dn=new import_form_data.default;return isReadableStream(tn)||isBuffer2(tn)||isFileWebAPI(tn)||isBlobWebAPI(tn)?sn?dn.append("file",tn,sn):dn.append("file",tn):dn.append("file",{uri:tn,name:sn||tn.split("/").reverse()[0],contentType:un,type:un}),dn}function normalizeQuerySort(tn){const sn=[],un=Array.isArray(tn)?tn:[tn];for(const dn of un){const pn=Object.entries(dn);pn.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(const[mn,hn]of pn)sn.push({field:mn,direction:hn})}return sn}function retryInterval(tn){const sn=Math.min(500+tn*2e3,25e3),un=Math.min(Math.max(250,(tn-1)*2e3),25e3);return Math.floor(Math.random()*(sn-un)+un)}function randomId(){return generateUUIDv4()}function hex(tn){let sn="";for(let un=0;un<tn.length;un++)sn+=tn[un].toString(16).padStart(2,"0");return sn}function generateUUIDv4(){const tn=getRandomBytes(16);return tn[6]=tn[6]&15|64,tn[8]=tn[8]&191|128,hex(tn.subarray(0,4))+"-"+hex(tn.subarray(4,6))+"-"+hex(tn.subarray(6,8))+"-"+hex(tn.subarray(8,10))+"-"+hex(tn.subarray(10,16))}function getRandomValuesWithMathRandom(tn){const sn=Math.pow(2,8*tn.byteLength/tn.length);for(let un=0;un<tn.length;un++)tn[un]=Math.random()*sn}var getRandomValues=typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)<"u"?crypto.getRandomValues.bind(crypto):typeof msCrypto<"u"?msCrypto.getRandomValues.bind(msCrypto):getRandomValuesWithMathRandom;function getRandomBytes(tn){const sn=new Uint8Array(tn);return getRandomValues(sn),sn}function convertErrorToJson(tn){const sn={};if(!tn)return sn;try{Object.getOwnPropertyNames(tn).forEach(un=>{sn[un]=Object.getOwnPropertyDescriptor(tn,un)})}catch{return{error:"failed to serialize the error"}}return sn}function isOnline(){const tn=typeof navigator<"u"?navigator:typeof window<"u"&&window.navigator?window.navigator:void 0;return tn?typeof tn.onLine!="boolean"?!0:tn.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}function addConnectionEventListeners(tn){typeof window<"u"&&window.addEventListener&&(window.addEventListener("offline",tn),window.addEventListener("online",tn))}function removeConnectionEventListeners(tn){typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("offline",tn),window.removeEventListener("online",tn))}var axiosParamsSerializer=tn=>{const sn=[];for(const un in tn)tn[un]!==void 0&&(Array.isArray(tn[un])||typeof tn[un]=="object"?sn.push(`${un}=${encodeURIComponent(JSON.stringify(tn[un]))}`):sn.push(`${un}=${encodeURIComponent(tn[un])}`));return sn.join("&")};function formatMessage(tn){const sn=un=>un?{...un,created_at:tn.created_at?new Date(tn.created_at):new Date,deleted_at:tn.deleted_at?new Date(tn.deleted_at):null,pinned_at:tn.pinned_at?new Date(tn.pinned_at):null,reaction_groups:maybeGetReactionGroupsFallback(tn.reaction_groups,tn.reaction_counts,tn.reaction_scores),status:tn.status||"received",updated_at:tn.updated_at?new Date(tn.updated_at):new Date}:null;return{...sn(tn),error:tn.error??null,quoted_message:sn(tn.quoted_message)}}function unformatMessage(tn){const sn=un=>{if(!un)return null;const dn=new Date().toISOString();return{...un,created_at:tn.created_at?tn.created_at.toISOString():dn,deleted_at:tn.deleted_at?tn.deleted_at.toISOString():void 0,pinned_at:tn.pinned_at?tn.pinned_at.toISOString():void 0,updated_at:tn.updated_at?tn.updated_at.toISOString():dn}};return{...sn(tn),quoted_message:sn(tn.quoted_message)}}var localMessageToNewMessagePayload=tn=>{var _n;const{created_at:sn,updated_at:un,deleted_at:dn,error:pn,status:mn,latest_reactions:hn,own_reactions:fn,reaction_counts:gn,reaction_scores:xn,reply_count:yn,command:vn,html:En,i18n:bn,quoted_message:wn,mentioned_users:Sn,...Rn}=tn;return{...Rn,pinned_at:(_n=Rn.pinned_at)==null?void 0:_n.toISOString(),mentioned_users:Sn==null?void 0:Sn.map(jn=>jn.id)}},toUpdatedMessagePayload=tn=>{var dn;const sn={...RESERVED_UPDATED_MESSAGE_FIELDS,...LOCAL_MESSAGE_FIELDS};return{...Object.fromEntries(Object.entries(tn).filter(([pn])=>!sn[pn])),pinned:!!tn.pinned_at,mentioned_users:(dn=tn.mentioned_users)==null?void 0:dn.map(pn=>typeof pn=="string"?pn:pn.id)}},findIndexInSortedArray=({needle:tn,sortedArray:sn,selectKey:un,selectValueToCompare:dn=mn=>mn,sortDirection:pn="ascending"})=>{if(!sn.length)return 0;let mn=0,hn=sn.length-1,fn=0;const gn=()=>{fn=Math.round((mn+hn)/2)},xn=dn(tn);for(;mn<=hn;){gn();const yn=dn(sn[fn]);pn==="ascending"&&xn<yn||pn==="descending"&&xn>=yn?hn=fn-1:mn=fn+1}if(un){const yn=un(tn),vn=pn==="ascending"?-1:1;for(let En=mn+vn;0<=En&&En<sn.length&&dn(sn[En])===xn;En+=vn)if(un(sn[En])===yn)return En}return mn};function addToMessageList(tn,sn,un=!1,dn="created_at",pn=!0){const mn=pn||un;let hn=[...tn];if(un&&(hn=hn.filter(yn=>!(yn.id&&sn.id===yn.id))),hn.length===0&&mn)return hn.concat(sn);if(hn.length===0)return hn;const fn=sn[dn].getTime(),gn=hn.at(-1)[dn].getTime()<fn;if(gn&&mn)return hn.concat(sn);if(gn)return hn;const xn=findIndexInSortedArray({needle:sn,sortedArray:hn,sortDirection:"ascending",selectValueToCompare:yn=>yn[dn].getTime(),selectKey:yn=>yn.id});return!un&&sn.id&&hn[xn]&&sn.id===hn[xn].id?(hn[xn]=sn,hn):(mn&&hn.splice(xn,0,sn),hn)}function maybeGetReactionGroupsFallback(tn,sn,un){if(tn)return tn;if(sn&&un){const dn={};for(const pn of Object.keys(sn))dn[pn]={count:sn[pn],sum_scores:un[pn]};return dn}return null}var debounce$4=(tn,sn=0,{leading:un=!1,trailing:dn=!0}={})=>{let pn=null,mn=null,hn;const fn=(...gn)=>(pn?clearTimeout(pn):un&&(hn=tn(...gn)),dn&&(mn=gn),pn=setTimeout(()=>{mn&&(hn=tn(...mn),mn=null),pn=null},sn),hn);return fn.cancel=()=>{pn&&clearTimeout(pn)},fn.flush=()=>(pn&&(clearTimeout(pn),pn=null,mn&&(hn=tn(...mn))),hn),fn},throttle$2=(tn,sn=200,{leading:un=!0,trailing:dn=!1}={})=>{let pn=null,mn=null;return(...hn)=>{if(pn){dn&&(mn=hn);return}un&&tn(...hn);const fn=()=>{if(mn){tn(...mn),mn=null,pn=setTimeout(fn,sn);return}pn=null};pn=setTimeout(fn,sn)}},get$1=(tn,sn)=>sn.split(".").reduce((un,dn)=>{if(un&&typeof un=="object"&&dn in un)return un[dn]},tn),uniqBy$1=(tn,sn)=>{if(!Array.isArray(tn))return[];const un=new Set;return tn.filter(dn=>{const pn=get$1(dn,sn);return un.has(pn)?!1:(un.add(pn),!0)})};function binarySearchByDateEqualOrNearestGreater(tn,sn){let un=0,dn=tn.length-1;for(;un<=dn;){const pn=Math.floor((un+dn)/2),mn=tn[pn].created_at;if(!mn){un+=1;continue}const hn=new Date(mn);if(hn.getTime()===sn.getTime())return pn;hn.getTime()<sn.getTime()?un=pn+1:dn=pn-1}return un}var messagePaginationCreatedAtAround=({parentSet:tn,requestedPageSize:sn,returnedPage:un,messagePaginationOptions:dn})=>{var Rn,_n;const pn={...tn.pagination};if(!(dn!=null&&dn.created_at_around))return pn;let mn,hn,fn,gn;const xn=new Date(dn.created_at_around),[yn,vn]=[un[0],un.slice(-1)[0]],En=!!(yn!=null&&yn.created_at)&&new Date(yn.created_at)>xn,bn=!!(vn!=null&&vn.created_at)&&new Date(vn.created_at)<xn,wn=sn>tn.messages.length&&sn>un.length,Sn=(sn>tn.messages.length||tn.messages.length>=un.length)&&sn>un.length;if(En)mn=!1,fn=!0,wn&&(hn=!1,gn=!0);else if(bn)hn=!1,gn=!0,wn&&(mn=!1,fn=!0);else if(Sn)hn=mn=!1,fn=gn=!0;else{const[jn,Cn]=[(yn==null?void 0:yn.id)&&yn.id===((Rn=tn.messages[0])==null?void 0:Rn.id),(vn==null?void 0:vn.id)&&vn.id===((_n=tn.messages.slice(-1)[0])==null?void 0:_n.id)];fn=jn,gn=Cn;const An=Math.floor(un.length/2),Tn=binarySearchByDateEqualOrNearestGreater(un,xn);Tn!==-1&&(mn=An<=Tn,hn=An>=Tn)}return fn&&typeof mn<"u"&&(pn.hasPrev=mn),gn&&typeof hn<"u"&&(pn.hasNext=hn),pn},messagePaginationIdAround=({parentSet:tn,requestedPageSize:sn,returnedPage:un,messagePaginationOptions:dn})=>{var Rn,_n;const pn={...tn.pagination},{id_around:mn}=dn||{};if(!mn)return pn;let hn,fn;const[gn,xn]=[un[0],un.slice(-1)[0]],[yn,vn]=[(gn==null?void 0:gn.id)===((Rn=tn.messages[0])==null?void 0:Rn.id),(xn==null?void 0:xn.id)===((_n=tn.messages.slice(-1)[0])==null?void 0:_n.id)];let En=yn,bn=vn;const wn=Math.floor(un.length/2);if((sn>tn.messages.length||tn.messages.length>=un.length)&&sn>un.length)fn=hn=!1,En=bn=!0;else if(un[wn])if(un[wn].id===mn)hn=fn=!0;else{let jn;const Cn=[un.slice(0,wn),un.slice(wn)];hn=fn=!0;for(let An=0;An<Cn.length;An++)jn=Cn[An].find(Tn=>Tn.id===mn),jn&&An===0&&(hn=!1),jn&&An===1&&(fn=!1)}else return pn;return En&&typeof hn<"u"&&(pn.hasPrev=hn),bn&&typeof fn<"u"&&(pn.hasNext=fn),pn},messagePaginationLinear=({parentSet:tn,requestedPageSize:sn,returnedPage:un,messagePaginationOptions:dn})=>{var Rn,_n;const pn={...tn.pagination};let mn,hn;const[fn,gn]=[un[0],un.slice(-1)[0]],[xn,yn]=[(fn==null?void 0:fn.id)&&fn.id===((Rn=tn.messages[0])==null?void 0:Rn.id),(gn==null?void 0:gn.id)&&gn.id===((_n=tn.messages.slice(-1)[0])==null?void 0:_n.id)],vn=dn&&(dn.created_at_after_or_equal||dn.created_at_after||dn.id_gt||dn.id_gte),En=typeof dn>"u"?!0:dn.created_at_before_or_equal||dn.created_at_before||dn.id_lt||dn.id_lte||dn.offset,bn=!vn&&!En&&!(dn!=null&&dn.id_around)&&!(dn!=null&&dn.created_at_around),wn=un.length>=sn;(typeof En<"u"||bn)&&(mn=wn),typeof vn<"u"&&(hn=wn);const Sn=un.length===0;return(xn||Sn)&&typeof mn<"u"&&(pn.hasPrev=mn),(yn||Sn)&&typeof hn<"u"&&(pn.hasNext=hn),pn},messageSetPagination=tn=>{var sn,un,dn;return tn.parentSet.messages.length<tn.returnedPage.length?((sn=tn.logger)==null||sn.call(tn,"error","Corrupted message set state: parent set size < returned page size"),tn.parentSet.pagination):(un=tn.messagePaginationOptions)!=null&&un.created_at_around?messagePaginationCreatedAtAround(tn):(dn=tn.messagePaginationOptions)!=null&&dn.id_around?messagePaginationIdAround(tn):messagePaginationLinear(tn)},WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL$1={},getAndWatchChannel=async({channel:tn,client:sn,id:un,members:dn,options:pn,type:mn})=>{if(!tn&&!mn)throw new Error("Channel or channel type have to be provided to query a channel.");const hn=tn||sn.channel(mn,un,{members:dn}),fn=hn.id?hn.cid:dn&&dn.length?generateChannelTempCid$1(hn.type,dn):void 0;if(!fn)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const gn=WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL$1[fn];if(gn)await gn;else try{WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL$1[fn]=hn.watch(pn),await WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL$1[fn]}finally{delete WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL$1[fn]}return hn},generateChannelTempCid$1=(tn,sn)=>{if(!sn)return;const un=[...sn].sort().join(",");if(un)return`${tn}:!members-${un}`},isChannelPinned$1=tn=>{if(!tn)return!1;const sn=tn.state.membership;return!!(sn!=null&&sn.pinned_at)},isChannelArchived$1=tn=>{if(!tn)return!1;const sn=tn.state.membership;return!!(sn!=null&&sn.archived_at)},shouldConsiderArchivedChannels$1=tn=>tn?typeof tn.archived=="boolean":!1,extractSortValue$1=({atIndex:tn,sort:sn,targetKey:un})=>{if(!sn)return null;let dn=null;if(Array.isArray(sn))dn=sn[tn]??null;else for(const pn in sn){if(pn!==un)return null;dn=sn;break}return(dn==null?void 0:dn[un])??null},shouldConsiderPinnedChannels$1=tn=>{const sn=findPinnedAtSortOrder({sort:tn});return typeof sn!="number"?!1:Math.abs(sn)===1},findPinnedAtSortOrder=({sort:tn})=>extractSortValue$1({atIndex:0,sort:tn,targetKey:"pinned_at"}),findLastPinnedChannelIndex$1=({channels:tn})=>{let sn=null;for(const un of tn){if(!isChannelPinned$1(un))break;typeof sn=="number"?sn++:sn=0}return sn},promoteChannel=({channels:tn,channelToMove:sn,channelToMoveIndexWithinChannels:un,sort:dn})=>{const pn=un??tn.findIndex(vn=>vn.cid===sn.cid),mn=pn>=0,hn=pn===0,fn=shouldConsiderPinnedChannels$1(dn),gn=isChannelPinned$1(sn);if(hn||fn&&gn)return tn;const xn=[...tn];mn&&xn.splice(pn,1);let yn=null;return fn&&(yn=findLastPinnedChannelIndex$1({channels:xn})),xn.splice(typeof yn=="number"?yn+1:0,0,sn),xn},isDate2=tn=>!!tn.getTime,isLocalMessage$1=tn=>isDate2(tn.created_at),ChannelState=class{constructor(tn){var sn;this.messageSets=[],this.formatMessage=un=>formatMessage(un),this.setIsUpToDate=un=>{this.isUpToDate=un},this.removeMessageFromArray=(un,dn)=>{const pn=un.filter(mn=>!(mn.id&&dn.id&&mn.id===dn.id));return{removed:pn.length<un.length,result:pn}},this.updateUserMessages=un=>{const dn=(pn,mn)=>{var hn;for(let fn=0;fn<pn.length;fn++){const gn=pn[fn];((hn=gn.user)==null?void 0:hn.id)===mn.id&&(pn[fn]={...gn,user:mn})}};this.messageSets.forEach(pn=>dn(pn.messages,un));for(const pn in this.threads)dn(this.threads[pn],un);dn(this.pinnedMessages,un)},this.deleteUserMessages=(un,dn=!1)=>{const pn=(mn,hn,fn=!1)=>{var gn;for(let xn=0;xn<mn.length;xn++){const yn=mn[xn];((gn=yn.user)==null?void 0:gn.id)===hn.id&&(fn?mn[xn]={cid:yn.cid,created_at:yn.created_at,deleted_at:hn.deleted_at,id:yn.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:yn.parent_id,reply_count:yn.reply_count,status:yn.status,thread_participants:yn.thread_participants,type:"deleted",updated_at:yn.updated_at,user:yn.user}:mn[xn]={...yn,type:"deleted",deleted_at:hn.deleted_at?new Date(hn.deleted_at):null})}};this.messageSets.forEach(mn=>pn(mn.messages,un,dn));for(const mn in this.threads)pn(this.threads[mn],un,dn);pn(this.pinnedMessages,un,dn)},this._channel=tn,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=((sn=tn==null?void 0:tn.state)==null?void 0:sn.last_message_at)!=null?new Date(tn.state.last_message_at):null}get messages(){var tn;return((tn=this.messageSets.find(sn=>sn.isCurrent))==null?void 0:tn.messages)||[]}set messages(tn){const sn=this.messageSets.findIndex(un=>un.isCurrent);this.messageSets[sn].messages=tn}get latestMessages(){var tn;return((tn=this.messageSets.find(sn=>sn.isLatest))==null?void 0:tn.messages)||[]}set latestMessages(tn){const sn=this.messageSets.findIndex(un=>un.isLatest);this.messageSets[sn].messages=tn}get messagePagination(){var tn;return((tn=this.messageSets.find(sn=>sn.isCurrent))==null?void 0:tn.pagination)||DEFAULT_MESSAGE_SET_PAGINATION}addMessageSorted(tn,sn=!1,un=!0,dn="latest"){return this.addMessagesSorted([tn],sn,!1,un,dn)}addMessagesSorted(tn,sn=!1,un=!1,dn=!0,pn="current"){var fn;const{messagesToAdd:mn,targetMessageSetIndex:hn}=this.findTargetMessageSet(tn,dn,pn);for(let gn=0;gn<mn.length;gn+=1){if(mn[gn].shadowed)continue;const yn=mn[gn].created_at instanceof Date;let vn;yn?vn=mn[gn]:(vn=this.formatMessage(mn[gn]),vn.user&&((fn=this._channel)!=null&&fn.cid)&&this._channel.getClient().state.updateUserReference(vn.user,this._channel.cid),un&&vn.id&&this.threads[vn.id]&&delete this.threads[vn.id],this.last_message_at||(this.last_message_at=new Date(vn.created_at.getTime())),vn.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(vn.created_at.getTime())));const En=vn.parent_id;if((!En||vn.show_in_channel)&&hn!==-1&&(this.messageSets[hn].messages=this._addToMessageList(this.messageSets[hn].messages,vn,sn,"created_at",dn)),En&&!un){const bn=this.threads[En]||[];this.threads[En]=this._addToMessageList(bn,vn,sn,"created_at",dn)}}return{messageSet:this.messageSets[hn]}}addPinnedMessages(tn){for(let sn=0;sn<tn.length;sn+=1)this.addPinnedMessage(tn[sn])}addPinnedMessage(tn){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(tn),!1,"pinned_at")}removePinnedMessage(tn){const{result:sn}=this.removeMessageFromArray(this.pinnedMessages,tn);this.pinnedMessages=sn}addReaction(tn,sn,un){const dn=sn;let pn;if(dn||(pn=this.findMessage(tn.message_id)),!dn&&!pn)return;const mn=dn??pn,hn={id:mn==null?void 0:mn.id,parent_id:mn==null?void 0:mn.parent_id,pinned:mn==null?void 0:mn.pinned,show_in_channel:mn==null?void 0:mn.show_in_channel};return this._updateMessage(hn,fn=>{if(dn){const gn={...dn};return dn.own_reactions=this._addOwnReactionToMessage(fn.own_reactions,tn,un),gn.own_reactions=this._channel.getClient().userID===tn.user_id?dn.own_reactions:fn.own_reactions,this.formatMessage(gn)}return pn?this._addReactionToState(pn,tn,un):fn}),dn??pn}_addReactionToState(tn,sn,un){if(tn.reaction_groups||(tn.reaction_groups={}),un)for(const fn of tn.own_reactions??[]){const gn=tn.reaction_groups[fn.type];tn.reaction_groups[fn.type]={...gn,count:gn.count-1,sum_scores:gn.sum_scores-(fn.score??1)},tn.reaction_groups[fn.type].count<1&&delete tn.reaction_groups[fn.type]}const pn=tn.reaction_groups[sn.type],mn=sn.score??1;tn.reaction_groups[sn.type]=pn?{...pn,count:pn.count+1,sum_scores:pn.sum_scores+mn,last_reaction_at:sn.created_at}:{count:1,first_reaction_at:sn.created_at,last_reaction_at:sn.created_at,sum_scores:mn},tn.own_reactions=this._addOwnReactionToMessage(tn.own_reactions,sn,un);const hn=this._channel.getClient().userID;return tn.latest_reactions=un?[...(tn.latest_reactions||[]).filter(fn=>fn.user_id!==hn),sn]:[...tn.latest_reactions||[],sn],tn}_addOwnReactionToMessage(tn,sn,un){return un?tn=[]:tn=this._removeOwnReactionFromMessage(tn,sn),tn=tn||[],this._channel.getClient().userID===sn.user_id&&tn.push(sn),tn}_removeOwnReactionFromMessage(tn,sn){return tn&&tn.filter(un=>un.user_id!==sn.user_id||un.type!==sn.type)}removeReaction(tn,sn){const un=sn;let dn;if(un||(dn=this.findMessage(tn.message_id)),!un&&!dn)return;const pn=un??dn,mn={id:pn==null?void 0:pn.id,parent_id:pn==null?void 0:pn.parent_id,pinned:pn==null?void 0:pn.pinned,show_in_channel:pn==null?void 0:pn.show_in_channel};return this._updateMessage(mn,hn=>un?(un.own_reactions=this._removeOwnReactionFromMessage(hn.own_reactions,tn),this.formatMessage(un)):dn?this._removeReactionFromState(dn,tn):hn),un}_removeReactionFromState(tn,sn){var pn,mn,hn,fn;const un=(pn=tn.own_reactions)==null?void 0:pn.find(gn=>gn.type===sn.type);if(un&&((mn=tn.reaction_groups)!=null&&mn[un.type])){const gn=tn.reaction_groups[un.type];tn.reaction_groups[un.type]={...gn,count:gn.count-1,sum_scores:gn.sum_scores-(un.score??1)},tn.reaction_groups[un.type].count<1&&delete tn.reaction_groups[un.type]}tn.own_reactions=(hn=tn.own_reactions)==null?void 0:hn.filter(gn=>gn.type!==sn.type);const dn=this._channel.getClient().userID;return tn.latest_reactions=(fn=tn.latest_reactions)==null?void 0:fn.filter(gn=>!(gn.user_id===dn&&gn.type===sn.type)),tn}_updateQuotedMessageReferences({message:tn,remove:sn}){const un=pn=>{var mn,hn;return{...pn,created_at:pn.created_at.toISOString(),pinned_at:(mn=pn.pinned_at)==null?void 0:mn.toISOString(),updated_at:(hn=pn.updated_at)==null?void 0:hn.toISOString()}},dn=pn=>{const mn=pn.reduce((hn,fn)=>(fn.quoted_message_id===tn.id&&hn.push({...un(fn),quoted_message:sn?{...tn,attachments:[]}:tn}),hn),[]);this.addMessagesSorted(mn,!0)};tn.parent_id?tn.parent_id&&this.threads[tn.parent_id]&&dn(this.threads[tn.parent_id]):this.messageSets.forEach(pn=>dn(pn.messages))}removeQuotedMessageReferences(tn){this._updateQuotedMessageReferences({message:tn,remove:!0})}_updateMessage(tn,sn){const{parent_id:un,show_in_channel:dn,pinned:pn}=tn;if(un&&this.threads[un]){const mn=this.threads[un],hn=mn.findIndex(fn=>fn.id===tn.id);hn!==-1&&(mn[hn]=sn(mn[hn]),this.threads[un]=mn)}if(!dn&&!un||dn){const mn=this.findMessageSetIndex(tn);if(mn!==-1){const hn=this.messageSets[mn].messages.findIndex(fn=>fn.id===tn.id);if(hn!==-1){const fn=sn(this.messageSets[mn].messages[hn]);this.messageSets[mn].messages[hn]=fn}}}if(pn){const mn=this.pinnedMessages.findIndex(hn=>hn.id===tn.id);mn!==-1&&(this.pinnedMessages[mn]=sn(this.pinnedMessages[mn]))}}_addToMessageList(tn,sn,un=!1,dn="created_at",pn=!0){return addToMessageList(tn,sn,un,dn,pn)}removeMessage(tn){let sn=!1;if(tn.parent_id&&this.threads[tn.parent_id]){const{removed:un,result:dn}=this.removeMessageFromArray(this.threads[tn.parent_id],tn);this.threads[tn.parent_id]=dn,sn=un}else{const un=tn.messageSetIndex??this.findMessageSetIndex(tn);if(un!==-1){const{removed:dn,result:pn}=this.removeMessageFromArray(this.messageSets[un].messages,tn);this.messageSets[un].messages=pn,sn=dn}}return sn}filterErrorMessages(){const tn=this.latestMessages.filter(sn=>sn.type!=="error");this.latestMessages=tn}clean(){const tn=new Date;for(const[sn,un]of Object.entries(this.typing)){const dn=typeof un.received_at=="string"?new Date(un.received_at):un.received_at||new Date;tn.getTime()-dn.getTime()>7e3&&(delete this.typing[sn],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:sn}}))}}clearMessages(){this.initMessages(),this.pinnedMessages=[]}initMessages(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0,pagination:DEFAULT_MESSAGE_SET_PAGINATION}]}async loadMessageIntoState(tn,sn,un=25){var fn;let dn,pn=!1,mn=!1;const hn=sn||tn;if(tn==="latest"){if(this.messages===this.latestMessages)return;dn=this.messageSets.findIndex(gn=>gn.isLatest)}else dn=this.findMessageSetIndex({id:hn});dn!==-1&&(this.switchToMessageSet(dn),pn=!0),mn=!sn||!!((fn=this.threads[sn])!=null&&fn.find(gn=>gn.id===tn)),!(pn&&mn)&&(pn||await this._channel.query({messages:{id_around:hn,limit:un}},"new"),!mn&&sn&&await this._channel.getReplies(sn,{id_around:tn,limit:un}),dn=this.findMessageSetIndex({id:hn}),dn!==-1&&this.switchToMessageSet(dn))}findMessage(tn,sn){if(sn){const dn=this.threads[sn];return dn?dn.find(pn=>pn.id===tn):void 0}const un=this.findMessageSetIndex({id:tn});if(un!==-1)return this.messageSets[un].messages.find(dn=>dn.id===tn)}switchToMessageSet(tn){const sn=this.messageSets.find(un=>un.isCurrent);sn&&(sn.isCurrent=!1,this.messageSets[tn].isCurrent=!0)}areMessageSetsOverlap(tn,sn){return tn.some(un=>sn.find(dn=>un.id===dn.id))}findMessageSetIndex(tn){return this.messageSets.findIndex(sn=>!!sn.messages.find(un=>un.id===tn.id))}findTargetMessageSet(tn,sn=!0,un="current"){let dn=tn,pn;if(sn){const mn=this.messageSets.map((gn,xn)=>xn).filter(gn=>this.areMessageSetsOverlap(this.messageSets[gn].messages,tn));switch(un){case"new":mn.length>0?pn=mn[0]:tn.some(gn=>!gn.parent_id)&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1,pagination:DEFAULT_MESSAGE_SET_PAGINATION}),pn=this.messageSets.length-1);break;case"current":pn=this.messageSets.findIndex(gn=>gn.isCurrent);break;case"latest":pn=this.messageSets.findIndex(gn=>gn.isLatest);break;default:pn=-1}const hn=mn.splice(0,1)[0],fn=[...mn];if(hn!==void 0&&hn!==pn&&fn.push(pn),fn.length>0){const gn=this.messageSets[hn],xn=this.messageSets.filter((vn,En)=>fn.indexOf(En)!==-1);xn.forEach(vn=>{gn.isLatest=gn.isLatest||vn.isLatest,gn.isCurrent=gn.isCurrent||vn.isCurrent,gn.pagination.hasPrev=vn.messages[0].created_at<gn.messages[0].created_at?vn.pagination.hasPrev:gn.pagination.hasPrev,gn.pagination.hasNext=gn.messages.slice(-1)[0].created_at<vn.messages.slice(-1)[0].created_at?vn.pagination.hasNext:gn.pagination.hasNext,dn=[...dn,...vn.messages]}),xn.forEach(vn=>this.messageSets.splice(this.messageSets.indexOf(vn),1)),pn=this.messageSets.findIndex(vn=>this.areMessageSetsOverlap(vn.messages,tn))}}else pn=this.findMessageSetIndex(tn[0]);return{targetMessageSetIndex:pn,messagesToAdd:dn}}},isScrapedContent=tn=>!!(tn!=null&&tn.og_scrape_url)||!!(tn!=null&&tn.title_link),isLocalAttachment=tn=>{var sn;return!!((sn=tn==null?void 0:tn.localMetadata)!=null&&sn.id)},isLocalUploadAttachment=tn=>{var sn;return!!((sn=tn==null?void 0:tn.localMetadata)!=null&&sn.uploadState)},isFileAttachment=(tn,sn=[])=>tn.type==="file"||!!(tn.mime_type&&sn.indexOf(tn.mime_type)===-1&&tn.type!=="video"),isLocalFileAttachment=tn=>isFileAttachment(tn)&&isLocalAttachment(tn),isImageAttachment=tn=>tn.type==="image"&&!isScrapedContent(tn),isLocalImageAttachment=tn=>isImageAttachment(tn)&&isLocalAttachment(tn),isAudioAttachment=tn=>tn.type==="audio",isLocalAudioAttachment=tn=>isAudioAttachment(tn)&&isLocalAttachment(tn),isVoiceRecordingAttachment=tn=>tn.type==="voiceRecording",isLocalVoiceRecordingAttachment=tn=>isVoiceRecordingAttachment(tn)&&isLocalAttachment(tn),isVideoAttachment=(tn,sn=[])=>tn.type==="video"||!!(tn.mime_type&&sn.indexOf(tn.mime_type)!==-1),isLocalVideoAttachment=tn=>isVideoAttachment(tn)&&isLocalAttachment(tn),isUploadedAttachment=tn=>isAudioAttachment(tn)||isFileAttachment(tn)||isImageAttachment(tn)||isVideoAttachment(tn)||isVoiceRecordingAttachment(tn),isFile2=tn=>!!tn.lastModified&&!("uri"in tn),isFileList2=tn=>tn==null||typeof tn!="object"?!1:typeof FileList<"u"&&tn instanceof FileList||"item"in tn&&"length"in tn&&!Array.isArray(tn),isBlobButNotFile=tn=>tn instanceof Blob&&!(tn instanceof File),isFileReference=tn=>tn!==null&&typeof tn=="object"&&!isFile2(tn)&&!isBlobButNotFile(tn)&&typeof tn.name=="string"&&typeof tn.uri=="string"&&typeof tn.size=="number"&&typeof tn.type=="string",createFileFromBlobs$1=({blobsArray:tn,fileName:sn,mimeType:un})=>{const dn=new Blob(tn,{type:un});return new File([dn],sn,{type:dn.type})},getExtensionFromMimeType$1=tn=>{const sn=tn.match(/\/([^/;]+)/);return sn==null?void 0:sn[1]},generateFileName=tn=>{const sn=getExtensionFromMimeType$1(tn);return`file_${new Date().toISOString()}${sn?"."+sn:""}`},isImageFile=tn=>{const sn=tn.type;return sn.startsWith("image/")&&!sn.endsWith(".photoshop")},getAttachmentTypeFromMimeType=tn=>tn.startsWith("image/")&&!tn.endsWith(".photoshop")?"image":tn.includes("video/")?"video":tn.includes("audio/")?"audio":"file",ensureIsLocalAttachment=tn=>{if(!tn)return null;if(isLocalAttachment(tn))return tn;const{localMetadata:sn,...un}=tn;return{localMetadata:{...sn??{},id:(sn==null?void 0:sn.id)||generateUUIDv4()},...un}},isPatch=tn=>typeof tn=="function",noop2=()=>{},StateStore=class{constructor(tn){this.value=tn,this.handlers=new Set,this.preprocessors=new Set,this.partialNext=sn=>this.next(un=>({...un,...sn})),this.subscribeWithSelector=(sn,un)=>{let dn;const pn=mn=>{const hn=sn(mn);let fn=typeof dn>"u";for(const xn in dn)if(dn[xn]!==hn[xn]){fn=!0;break}if(!fn)return;const gn=dn;dn=hn,un(hn,gn)};return this.subscribe(pn)}}merge(tn){return new MergedStateStore({original:this,merged:tn})}next(tn){const sn=isPatch(tn)?tn(this.value):tn;if(sn===this.value)return;this.preprocessors.forEach(dn=>dn(sn,this.value));const un=this.value;this.value=sn,this.handlers.forEach(dn=>dn(this.value,un))}getLatestValue(){return this.value}subscribe(tn){return tn(this.value,void 0),this.handlers.add(tn),()=>{this.handlers.delete(tn)}}addPreprocessor(tn){return this.preprocessors.add(tn),()=>{this.preprocessors.delete(tn)}}},MergedStateStore=class Su extends StateStore{constructor({original:sn,merged:un}){const dn=sn.getLatestValue(),pn=un.getLatestValue();super({...dn,...pn}),this.next=()=>{console.warn(`${Su.name}.next is disabled, call original.next or merged.next instead`)},this.partialNext=()=>{console.warn(`${Su.name}.partialNext is disabled, call original.partialNext or merged.partialNext instead`)},this.cachedOriginalValue=dn,this.cachedMergedValue=pn,this.original=sn,this.merged=un}subscribe(sn){const un=[];if(!this.handlers.size){const dn=pn=>{super.next(mn=>({...mn,...pn}))};un.push(this.original.subscribe(pn=>{pn!==this.cachedOriginalValue&&(this.cachedOriginalValue=pn,dn(pn))}),this.merged.subscribe(pn=>{pn!==this.cachedMergedValue&&(this.cachedMergedValue=pn,dn(pn))}))}return un.push(super.subscribe(sn)),()=>{un.forEach(dn=>dn())}}getLatestValue(){if(!this.handlers.size){const sn=this.original.getLatestValue(),un=this.merged.getLatestValue();(sn!==this.cachedOriginalValue||un!==this.cachedMergedValue)&&(this.value={...sn,...un},this.cachedMergedValue=un,this.cachedOriginalValue=sn)}return super.getLatestValue()}addPreprocessor(){return console.warn(`${Su.name}.addPreprocessor is disabled, call original.addPreprocessor or merged.addPreprocessor instead`),noop2}},isClassInstance=tn=>{if(!tn||typeof tn!="object"||Array.isArray(tn))return!1;const sn=Object.getPrototypeOf(tn);return sn===null||sn===Object.prototype?!1:tn.constructor&&tn.constructor!==Object},isEqual$2=(tn,sn,un=new Set,dn=new WeakSet,pn=new WeakSet)=>{if(tn===sn)return!0;if(tn==null||sn==null)return!1;const mn=typeof tn;if(mn!==typeof sn)return!1;if(mn!=="object")return tn!==tn&&sn!==sn?!0:tn===sn;const fn=tn,gn=sn;if(dn.has(fn)||pn.has(gn))return dn.has(fn)&&pn.has(gn);if(dn.add(fn),pn.add(gn),tn instanceof Date&&sn instanceof Date)return dn.delete(fn),pn.delete(gn),tn.getTime()===sn.getTime();if(tn instanceof RegExp&&sn instanceof RegExp)return dn.delete(fn),pn.delete(gn),tn.toString()===sn.toString();if(isClassInstance(tn)||isClassInstance(sn))return dn.delete(fn),pn.delete(gn),!1;const xn=Array.isArray(tn),yn=Array.isArray(sn);if(xn!==yn)return dn.delete(fn),pn.delete(gn),!1;if(xn&&yn){const Rn=tn,_n=sn;if(Rn.length!==_n.length)return dn.delete(fn),pn.delete(gn),!1;const jn=[tn,sn];if(un.has(jn))return dn.delete(fn),pn.delete(gn),!0;un.add(jn);for(let Cn=0;Cn<Rn.length;Cn++)if(!isEqual$2(Rn[Cn],_n[Cn],un,dn,pn))return un.delete(jn),dn.delete(fn),pn.delete(gn),!1;return un.delete(jn),dn.delete(fn),pn.delete(gn),!0}const vn=tn,En=sn,bn=Object.keys(vn),wn=Object.keys(En);if(bn.length!==wn.length)return dn.delete(fn),pn.delete(gn),!1;for(const Rn of wn)if(!Object.prototype.hasOwnProperty.call(vn,Rn))return dn.delete(fn),pn.delete(gn),!1;const Sn=[tn,sn];if(un.has(Sn))return dn.delete(fn),pn.delete(gn),!0;un.add(Sn);for(const Rn of bn)if(!isEqual$2(vn[Rn],En[Rn],un,dn,pn))return un.delete(Sn),dn.delete(fn),pn.delete(gn),!1;return un.delete(Sn),dn.delete(fn),pn.delete(gn),!0};function generateDiff(tn,sn){const un={children:{}};return compareAndBuildDiff(tn,sn,un),cleanupDiffTree(un)}function compareAndBuildDiff(tn,sn,un,dn,pn=new Set,mn=new Set){if(isEqual$2(tn,sn,new Set(pn)))return;if(tn==null){dn!==void 0&&(un.children[String(dn)]={type:"added",value:sn,children:{}});return}if(typeof tn=="object"&&tn!==null){if(mn.has(tn)){dn!==void 0&&(un.children[String(dn)]={type:"circular",value:sn,oldValue:tn,children:{}});return}mn.add(tn)}if(typeof tn!="object"||typeof sn!="object"||tn===null||sn===null||Array.isArray(tn)!==Array.isArray(sn)||isClassInstance(tn)||isClassInstance(sn)){dn!==void 0&&(un.children[String(dn)]={type:"updated",value:sn,oldValue:tn,children:{}}),typeof tn=="object"&&tn!==null&&mn.delete(tn);return}const fn=tn,gn=sn,xn=dn!==void 0?{type:"updated",children:{},oldValue:tn,value:sn}:un;dn!==void 0&&(un.children[String(dn)]=xn);const yn=[tn,sn];if(pn.has(yn)){typeof tn=="object"&&tn!==null&&mn.delete(tn);return}pn.add(yn);const vn=new Set([...Object.keys(fn),...Object.getOwnPropertySymbols(fn),...Object.keys(gn),...Object.getOwnPropertySymbols(gn)]);for(const En of vn){const bn=fn[En],wn=gn[En];if(En in gn){if(!(En in fn)){xn.children[String(En)]={type:"added",value:wn,children:{}};continue}compareAndBuildDiff(bn,wn,xn,En,pn,mn)}}pn.delete(yn),typeof tn=="object"&&tn!==null&&mn.delete(tn)}function createMergeCore(tn={}){const{trackDiff:sn=!1}=tn;return function({target:dn,source:pn,customizer:mn}){const hn=Array.isArray(pn)?pn:[pn],fn=sn?structuredClone(dn):void 0;function gn(Rn,_n,jn,Cn,An,Tn){const $n=mn==null?void 0:mn(Rn,_n,jn,Cn,An,Tn);return $n!==void 0?(Object.defineProperty(Cn,jn,{value:$n,enumerable:!0,writable:!0,configurable:!0}),!0):!1}function xn(Rn,_n){if(Rn===null||typeof Rn>"u"||!Array.isArray(Rn)&&typeof Rn!="object")return _n;if(Rn&&typeof Rn=="object"){const jn=isClassInstance(Rn),Cn=isClassInstance(_n);return jn||Cn?Cn?_n:Rn:Array.isArray(Rn)?[...Rn]:{...Rn}}return Array.isArray(_n)?[]:{}}function yn(Rn,_n,jn,Cn,An){const Tn=_n[jn],$n=Rn[jn];if(!gn($n,Tn,jn,Rn,_n,Cn))if(Tn&&typeof Tn=="object"){if(!Cn.has(Tn)){const Dn=xn($n,Tn);if(Object.defineProperty(Rn,jn,{value:Dn,enumerable:!0,writable:!0,configurable:!0}),isClassInstance(Dn))return;An.push({target:Dn,source:Tn,sourceKey:jn,parentTarget:Rn})}}else Tn!==void 0&&(Rn[jn]=Tn)}function vn(Rn,_n,jn,Cn){const An=[...Object.keys(_n),...Object.getOwnPropertySymbols(_n)];for(const Tn of An)yn(Rn,_n,Tn,jn,Cn)}function En({target:Rn,source:_n,sourceKey:jn,parentTarget:Cn},An,Tn){if(An.has(_n)){sn&&jn&&Cn&&Object.defineProperty(Cn,jn,{value:Rn,enumerable:!0,writable:!0,configurable:!0});return}!An.has(Rn)&&!An.has(_n)&&(An.add(Rn),An.add(_n),vn(Rn,_n,An,Tn),An.delete(_n),An.delete(Rn))}function bn(Rn,_n,jn=new Set){if(jn.has(Rn)||jn.has(_n))return{...Rn};const Cn={...Rn},An=[];for(jn.add(Cn),jn.add(_n),vn(Cn,_n,jn,An);An.length;)En(An.pop(),jn,An);return jn.delete(_n),jn.delete(Cn),Cn}const wn=hn.reduce((Rn,_n)=>bn(Rn,_n),{...dn}),Sn=sn&&fn?generateDiff(fn,wn):null;return{result:wn,diff:Sn}}}function cleanupDiffTree(tn){const sn={};let un=!1;for(const dn in tn.children){const pn=cleanupDiffTree(tn.children[dn]);pn&&(sn[dn]=pn,un=!0)}return tn.type||un?{...tn,children:sn}:null}function mergeWith$1(tn,sn,un){return createMergeCore()({target:tn,source:sn,customizer:un}).result}function mergeWithDiff(tn,sn,un){const dn=createMergeCore({trackDiff:!0}),{result:pn,diff:mn}=dn({target:tn,source:sn,customizer:un});return{result:pn,diff:cleanupDiffTree(mn??{children:{}})||{children:{}}}}var initState=({message:tn})=>{var sn;return{attachments:(sn=(tn==null?void 0:tn.attachments)??[])==null?void 0:sn.filter(({og_scrape_url:un})=>!un).map(un=>{const dn=isUploadedAttachment(un)?{id:generateUUIDv4(),uploadState:"finished"}:{id:generateUUIDv4()};return{...un,localMetadata:dn}})}},AttachmentManager=class{constructor({composer:tn,message:sn}){this.setCustomUploadFn=un=>{this.composer.updateConfig({attachments:{doUploadRequest:un}})},this.initState=({message:un}={})=>{this.state.next(initState({message:un}))},this.getAttachmentIndex=un=>{const dn=this.attachmentsById;return this.attachments.indexOf(dn[un])},this.prepareAttachmentUpdate=un=>{const dn=this.attachments,pn=[...this.attachments],mn=this.getAttachmentIndex(un.localMetadata.id);if(mn===-1)return null;const hn=mergeWithDiff(dn[mn],un);if(hn.diff&&Object.keys(hn.diff.children).length){const gn=ensureIsLocalAttachment(hn.result);if(gn)return pn.splice(mn,1,gn),pn}return null},this.updateAttachment=un=>{const dn=this.prepareAttachmentUpdate(un);dn&&this.state.partialNext({attachments:dn})},this.upsertAttachments=un=>{if(!un.length)return;let dn=[...this.attachments],pn=!1;un.forEach(mn=>{const hn=this.prepareAttachmentUpdate(mn);if(hn)dn=hn,pn=!0;else{const fn=ensureIsLocalAttachment(mn);fn&&(dn.push(fn),pn=!0)}}),pn&&this.state.partialNext({attachments:dn})},this.removeAttachments=un=>{this.state.partialNext({attachments:this.attachments.filter(dn=>{var pn;return!un.includes((pn=dn.localMetadata)==null?void 0:pn.id)})})},this.getUploadConfigCheck=async un=>{var bn,wn;const dn=this.channel.getClient();let pn;dn.appSettingsPromise?pn=await dn.appSettingsPromise:pn=await dn.getAppSettings();const mn=isImageFile(un)?(bn=pn==null?void 0:pn.app)==null?void 0:bn.image_upload_config:(wn=pn==null?void 0:pn.app)==null?void 0:wn.file_upload_config;if(!mn)return{uploadBlocked:!1};const{allowed_file_extensions:hn,allowed_mime_types:fn,blocked_file_extensions:gn,blocked_mime_types:xn,size_limit:yn}=mn,vn=yn||DEFAULT_UPLOAD_SIZE_LIMIT_BYTES,En=un.type;if(isFile2(un)||isFileReference(un)){if(hn!=null&&hn.length&&!hn.some(Sn=>un.name.toLowerCase().endsWith(Sn.toLowerCase())))return{uploadBlocked:!0,reason:"allowed_file_extensions"};if(gn!=null&&gn.length&&gn.some(Sn=>un.name.toLowerCase().endsWith(Sn.toLowerCase())))return{uploadBlocked:!0,reason:"blocked_file_extensions"}}return fn!=null&&fn.length&&!fn.some(Sn=>Sn.toLowerCase()===(En==null?void 0:En.toLowerCase()))?{uploadBlocked:!0,reason:"allowed_mime_types"}:xn!=null&&xn.length&&xn.some(Sn=>Sn.toLowerCase()===(En==null?void 0:En.toLowerCase()))?{uploadBlocked:!0,reason:"blocked_mime_types"}:un.size&&un.size>vn?{uploadBlocked:!0,reason:"size_limit"}:{uploadBlocked:!1}},this.fileToLocalUploadAttachment=async un=>{var hn;const dn=isFileReference(un)||isFile2(un)?un:createFileFromBlobs$1({blobsArray:[un],fileName:generateFileName(un.type),mimeType:un.type}),pn=await this.getUploadConfigCheck(dn),mn={file_size:dn.size,mime_type:dn.type,localMetadata:{file:dn,id:generateUUIDv4(),uploadPermissionCheck:pn,uploadState:pn.uploadBlocked?"blocked":"pending"},type:getAttachmentTypeFromMimeType(dn.type)};return mn[isImageFile(dn)?"fallback":"title"]=dn.name,isImageFile(dn)&&(mn.localMetadata.previewUri=isFileReference(un)?un.uri:(hn=URL.createObjectURL)==null?void 0:hn.call(URL,un),isFileReference(un)&&un.height&&un.width&&(mn.original_height=un.height,mn.original_width=un.width)),isFileReference(un)&&un.thumb_url&&(mn.thumb_url=un.thumb_url),isFileReference(un)&&un.duration&&(mn.duration=un.duration),mn},this.ensureLocalUploadAttachment=async un=>{var pn;if(!((pn=un.localMetadata)!=null&&pn.file)||!un.localMetadata.id){this.client.notifications.addError({message:"File is required for upload attachment",origin:{emitter:"AttachmentManager",context:{attachment:un}},options:{type:"validation:attachment:file:missing"}});return}if(!this.fileUploadFilter(un))return;const dn=await this.fileToLocalUploadAttachment(un.localMetadata.file);return un.localMetadata.id&&(dn.localMetadata.id=un.localMetadata.id),dn},this.doDefaultUploadRequest=async un=>{if(isFileReference(un))return this.channel[isImageFile(un)?"sendImage":"sendFile"](un.uri,un.name,un.type);const dn=isFile2(un)?un:createFileFromBlobs$1({blobsArray:[un],fileName:generateFileName(un.type),mimeType:un.type}),{duration:pn,...mn}=await this.channel[isImageFile(un)?"sendImage":"sendFile"](dn);return mn},this.doUploadRequest=async un=>{const dn=this.config.doUploadRequest;return dn?await dn(un):this.doDefaultUploadRequest(un)},this.uploadAttachment=async un=>{var hn;if(!this.isUploadEnabled)return;const dn=await this.ensureLocalUploadAttachment(un);if(typeof dn>"u")return;if(dn.localMetadata.uploadState==="blocked")return this.upsertAttachments([dn]),this.client.notifications.addError({message:"The attachment upload was blocked",origin:{emitter:"AttachmentManager",context:{attachment:un,blockedAttachment:dn}},options:{type:"validation:attachment:upload:blocked",metadata:{reason:(hn=dn.localMetadata.uploadPermissionCheck)==null?void 0:hn.reason}}}),dn;this.upsertAttachments([{...un,localMetadata:{...un.localMetadata,uploadState:"uploading"}}]);let pn;try{pn=await this.doUploadRequest(dn.localMetadata.file)}catch(fn){const gn=fn instanceof Error?fn.message:"unknown error",xn={...un,localMetadata:{...un.localMetadata,uploadState:"failed"}};return this.client.notifications.addError({message:"Error uploading attachment",origin:{emitter:"AttachmentManager",context:{attachment:un,failedAttachment:xn}},options:{type:"api:attachment:upload:failed",metadata:{reason:gn},originalError:fn instanceof Error?fn:void 0}}),this.updateAttachment(xn),xn}if(!pn){this.removeAttachments([un.localMetadata.id]);return}const mn={...un,localMetadata:{...un.localMetadata,uploadState:"finished"}};return isLocalImageAttachment(mn)?(mn.localMetadata.previewUri&&(URL.revokeObjectURL(mn.localMetadata.previewUri),delete mn.localMetadata.previewUri),mn.image_url=pn.file):mn.asset_url=pn.file,pn.thumb_url&&(mn.thumb_url=pn.thumb_url),this.updateAttachment(mn),mn},this.uploadFiles=async un=>{if(!this.isUploadEnabled)return;const dn=isFileList2(un)?Array.from(un):un,pn=await Promise.all(dn.map(this.fileToLocalUploadAttachment));return Promise.all(pn.filter(this.fileUploadFilter).slice(0,this.availableUploadSlots).map(this.uploadAttachment))},this.composer=tn,this.state=new StateStore(initState({message:sn})),this.attachmentsByIdGetterCache={attachmentsById:{},attachments:[]}}get attachmentsById(){const{attachments:tn}=this.state.getLatestValue();return tn!==this.attachmentsByIdGetterCache.attachments&&(this.attachmentsByIdGetterCache.attachments=tn,this.attachmentsByIdGetterCache.attachmentsById=tn.reduce((sn,un)=>{var dn;return un.localMetadata.id&&(sn[dn=un.localMetadata.id]??(sn[dn]=un)),sn},{})),this.attachmentsByIdGetterCache.attachmentsById}get client(){return this.composer.client}get channel(){return this.composer.channel}get config(){return this.composer.config.attachments}get acceptedFiles(){return this.config.acceptedFiles}set acceptedFiles(tn){this.composer.updateConfig({attachments:{acceptedFiles:tn}})}get fileUploadFilter(){return this.config.fileUploadFilter}set fileUploadFilter(tn){this.composer.updateConfig({attachments:{fileUploadFilter:tn}})}get maxNumberOfFilesPerMessage(){return this.config.maxNumberOfFilesPerMessage}set maxNumberOfFilesPerMessage(tn){tn!==this.maxNumberOfFilesPerMessage&&this.composer.updateConfig({attachments:{maxNumberOfFilesPerMessage:tn}})}get attachments(){return this.state.getLatestValue().attachments}get hasUploadPermission(){var tn,sn;return!!((sn=(tn=this.channel.data)==null?void 0:tn.own_capabilities)!=null&&sn.includes("upload-file"))}get isUploadEnabled(){return this.hasUploadPermission&&this.availableUploadSlots>0}get successfulUploads(){return this.getUploadsByState("finished")}get successfulUploadsCount(){return this.successfulUploads.length}get uploadsInProgressCount(){return this.getUploadsByState("uploading").length}get failedUploadsCount(){return this.getUploadsByState("failed").length}get blockedUploadsCount(){return this.getUploadsByState("blocked").length}get pendingUploadsCount(){return this.getUploadsByState("pending").length}get availableUploadSlots(){return this.config.maxNumberOfFilesPerMessage-this.successfulUploadsCount-this.uploadsInProgressCount}getUploadsByState(tn){return Object.values(this.attachments).filter(({localMetadata:sn})=>sn.uploadState===tn)}},encodedTlds$1="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds$1="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",assign$1=(tn,sn)=>{for(const un in sn)tn[un]=sn[un];return tn},numeric$1="numeric",ascii$1="ascii",alpha$1="alpha",asciinumeric$1="asciinumeric",alphanumeric$1="alphanumeric",domain$2="domain",emoji$1="emoji",scheme$1="scheme",slashscheme$1="slashscheme",whitespace$2="whitespace";function registerGroup$1(tn,sn){return tn in sn||(sn[tn]=[]),sn[tn]}function addToGroups$1(tn,sn,un){sn[numeric$1]&&(sn[asciinumeric$1]=!0,sn[alphanumeric$1]=!0),sn[ascii$1]&&(sn[asciinumeric$1]=!0,sn[alpha$1]=!0),sn[asciinumeric$1]&&(sn[alphanumeric$1]=!0),sn[alpha$1]&&(sn[alphanumeric$1]=!0),sn[alphanumeric$1]&&(sn[domain$2]=!0),sn[emoji$1]&&(sn[domain$2]=!0);for(const dn in sn){const pn=registerGroup$1(dn,un);pn.indexOf(tn)<0&&pn.push(tn)}}function flagsForToken$1(tn,sn){const un={};for(const dn in sn)sn[dn].indexOf(tn)>=0&&(un[dn]=!0);return un}function State$1(tn=null){this.j={},this.jr=[],this.jd=null,this.t=tn}State$1.groups={};State$1.prototype={accepts(){return!!this.t},go(tn){const sn=this,un=sn.j[tn];if(un)return un;for(let dn=0;dn<sn.jr.length;dn++){const pn=sn.jr[dn][0],mn=sn.jr[dn][1];if(mn&&pn.test(tn))return mn}return sn.jd},has(tn,sn=!1){return sn?tn in this.j:!!this.go(tn)},ta(tn,sn,un,dn){for(let pn=0;pn<tn.length;pn++)this.tt(tn[pn],sn,un,dn)},tr(tn,sn,un,dn){dn=dn||State$1.groups;let pn;return sn&&sn.j?pn=sn:(pn=new State$1(sn),un&&dn&&addToGroups$1(sn,un,dn)),this.jr.push([tn,pn]),pn},ts(tn,sn,un,dn){let pn=this;const mn=tn.length;if(!mn)return pn;for(let hn=0;hn<mn-1;hn++)pn=pn.tt(tn[hn]);return pn.tt(tn[mn-1],sn,un,dn)},tt(tn,sn,un,dn){dn=dn||State$1.groups;const pn=this;if(sn&&sn.j)return pn.j[tn]=sn,sn;const mn=sn;let hn,fn=pn.go(tn);if(fn?(hn=new State$1,assign$1(hn.j,fn.j),hn.jr.push.apply(hn.jr,fn.jr),hn.jd=fn.jd,hn.t=fn.t):hn=new State$1,mn){if(dn)if(hn.t&&typeof hn.t=="string"){const gn=assign$1(flagsForToken$1(hn.t,dn),un);addToGroups$1(mn,gn,dn)}else un&&addToGroups$1(mn,un,dn);hn.t=mn}return pn.j[tn]=hn,hn}};var ta$1=(tn,sn,un,dn,pn)=>tn.ta(sn,un,dn,pn),tr$2=(tn,sn,un,dn,pn)=>tn.tr(sn,un,dn,pn),ts$1=(tn,sn,un,dn,pn)=>tn.ts(sn,un,dn,pn),tt$2=(tn,sn,un,dn,pn)=>tn.tt(sn,un,dn,pn),WORD$1="WORD",UWORD$1="UWORD",ASCIINUMERICAL$1="ASCIINUMERICAL",ALPHANUMERICAL$1="ALPHANUMERICAL",LOCALHOST$1="LOCALHOST",TLD$1="TLD",UTLD$1="UTLD",SCHEME$1="SCHEME",SLASH_SCHEME$1="SLASH_SCHEME",NUM$1="NUM",WS$1="WS",NL$1="NL",OPENBRACE$1="OPENBRACE",CLOSEBRACE$1="CLOSEBRACE",OPENBRACKET$1="OPENBRACKET",CLOSEBRACKET$1="CLOSEBRACKET",OPENPAREN$1="OPENPAREN",CLOSEPAREN$1="CLOSEPAREN",OPENANGLEBRACKET$1="OPENANGLEBRACKET",CLOSEANGLEBRACKET$1="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN$1="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN$1="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET$1="LEFTCORNERBRACKET",RIGHTCORNERBRACKET$1="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET$1="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET$1="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN$1="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN$1="FULLWIDTHGREATERTHAN",AMPERSAND$1="AMPERSAND",APOSTROPHE$1="APOSTROPHE",ASTERISK$2="ASTERISK",AT$1="AT",BACKSLASH$1="BACKSLASH",BACKTICK$1="BACKTICK",CARET$1="CARET",COLON$1="COLON",COMMA$1="COMMA",DOLLAR$1="DOLLAR",DOT$1="DOT",EQUALS$1="EQUALS",EXCLAMATION$1="EXCLAMATION",HYPHEN$1="HYPHEN",PERCENT$1="PERCENT",PIPE$1="PIPE",PLUS$1="PLUS",POUND$1="POUND",QUERY$1="QUERY",QUOTE$1="QUOTE",FULLWIDTHMIDDLEDOT$1="FULLWIDTHMIDDLEDOT",SEMI$1="SEMI",SLASH$1="SLASH",TILDE$1="TILDE",UNDERSCORE$1="UNDERSCORE",EMOJI$1$1="EMOJI",SYM$1="SYM",tk$1=Object.freeze({__proto__:null,WORD:WORD$1,UWORD:UWORD$1,ASCIINUMERICAL:ASCIINUMERICAL$1,ALPHANUMERICAL:ALPHANUMERICAL$1,LOCALHOST:LOCALHOST$1,TLD:TLD$1,UTLD:UTLD$1,SCHEME:SCHEME$1,SLASH_SCHEME:SLASH_SCHEME$1,NUM:NUM$1,WS:WS$1,NL:NL$1,OPENBRACE:OPENBRACE$1,CLOSEBRACE:CLOSEBRACE$1,OPENBRACKET:OPENBRACKET$1,CLOSEBRACKET:CLOSEBRACKET$1,OPENPAREN:OPENPAREN$1,CLOSEPAREN:CLOSEPAREN$1,OPENANGLEBRACKET:OPENANGLEBRACKET$1,CLOSEANGLEBRACKET:CLOSEANGLEBRACKET$1,FULLWIDTHLEFTPAREN:FULLWIDTHLEFTPAREN$1,FULLWIDTHRIGHTPAREN:FULLWIDTHRIGHTPAREN$1,LEFTCORNERBRACKET:LEFTCORNERBRACKET$1,RIGHTCORNERBRACKET:RIGHTCORNERBRACKET$1,LEFTWHITECORNERBRACKET:LEFTWHITECORNERBRACKET$1,RIGHTWHITECORNERBRACKET:RIGHTWHITECORNERBRACKET$1,FULLWIDTHLESSTHAN:FULLWIDTHLESSTHAN$1,FULLWIDTHGREATERTHAN:FULLWIDTHGREATERTHAN$1,AMPERSAND:AMPERSAND$1,APOSTROPHE:APOSTROPHE$1,ASTERISK:ASTERISK$2,AT:AT$1,BACKSLASH:BACKSLASH$1,BACKTICK:BACKTICK$1,CARET:CARET$1,COLON:COLON$1,COMMA:COMMA$1,DOLLAR:DOLLAR$1,DOT:DOT$1,EQUALS:EQUALS$1,EXCLAMATION:EXCLAMATION$1,HYPHEN:HYPHEN$1,PERCENT:PERCENT$1,PIPE:PIPE$1,PLUS:PLUS$1,POUND:POUND$1,QUERY:QUERY$1,QUOTE:QUOTE$1,FULLWIDTHMIDDLEDOT:FULLWIDTHMIDDLEDOT$1,SEMI:SEMI$1,SLASH:SLASH$1,TILDE:TILDE$1,UNDERSCORE:UNDERSCORE$1,EMOJI:EMOJI$1$1,SYM:SYM$1}),ASCII_LETTER$1=/[a-z]/,LETTER$1=new RegExp("\\p{L}","u"),EMOJI$2=new RegExp("\\p{Emoji}","u"),DIGIT2=/\d/,SPACE$1=/\s/,CR$1="\r",LF$1=`
`,EMOJI_VARIATION$1="️",EMOJI_JOINER$1="‍",OBJECT_REPLACEMENT$1="￼",tlds$1=null,utlds$1=null;function init$2$1(tn=[]){const sn={};State$1.groups=sn;const un=new State$1;tlds$1==null&&(tlds$1=decodeTlds$1(encodedTlds$1)),utlds$1==null&&(utlds$1=decodeTlds$1(encodedUtlds$1)),tt$2(un,"'",APOSTROPHE$1),tt$2(un,"{",OPENBRACE$1),tt$2(un,"}",CLOSEBRACE$1),tt$2(un,"[",OPENBRACKET$1),tt$2(un,"]",CLOSEBRACKET$1),tt$2(un,"(",OPENPAREN$1),tt$2(un,")",CLOSEPAREN$1),tt$2(un,"<",OPENANGLEBRACKET$1),tt$2(un,">",CLOSEANGLEBRACKET$1),tt$2(un,"（",FULLWIDTHLEFTPAREN$1),tt$2(un,"）",FULLWIDTHRIGHTPAREN$1),tt$2(un,"「",LEFTCORNERBRACKET$1),tt$2(un,"」",RIGHTCORNERBRACKET$1),tt$2(un,"『",LEFTWHITECORNERBRACKET$1),tt$2(un,"』",RIGHTWHITECORNERBRACKET$1),tt$2(un,"＜",FULLWIDTHLESSTHAN$1),tt$2(un,"＞",FULLWIDTHGREATERTHAN$1),tt$2(un,"&",AMPERSAND$1),tt$2(un,"*",ASTERISK$2),tt$2(un,"@",AT$1),tt$2(un,"`",BACKTICK$1),tt$2(un,"^",CARET$1),tt$2(un,":",COLON$1),tt$2(un,",",COMMA$1),tt$2(un,"$",DOLLAR$1),tt$2(un,".",DOT$1),tt$2(un,"=",EQUALS$1),tt$2(un,"!",EXCLAMATION$1),tt$2(un,"-",HYPHEN$1),tt$2(un,"%",PERCENT$1),tt$2(un,"|",PIPE$1),tt$2(un,"+",PLUS$1),tt$2(un,"#",POUND$1),tt$2(un,"?",QUERY$1),tt$2(un,'"',QUOTE$1),tt$2(un,"/",SLASH$1),tt$2(un,";",SEMI$1),tt$2(un,"~",TILDE$1),tt$2(un,"_",UNDERSCORE$1),tt$2(un,"\\",BACKSLASH$1),tt$2(un,"・",FULLWIDTHMIDDLEDOT$1);const dn=tr$2(un,DIGIT2,NUM$1,{[numeric$1]:!0});tr$2(dn,DIGIT2,dn);const pn=tr$2(dn,ASCII_LETTER$1,ASCIINUMERICAL$1,{[asciinumeric$1]:!0}),mn=tr$2(dn,LETTER$1,ALPHANUMERICAL$1,{[alphanumeric$1]:!0}),hn=tr$2(un,ASCII_LETTER$1,WORD$1,{[ascii$1]:!0});tr$2(hn,DIGIT2,pn),tr$2(hn,ASCII_LETTER$1,hn),tr$2(pn,DIGIT2,pn),tr$2(pn,ASCII_LETTER$1,pn);const fn=tr$2(un,LETTER$1,UWORD$1,{[alpha$1]:!0});tr$2(fn,ASCII_LETTER$1),tr$2(fn,DIGIT2,mn),tr$2(fn,LETTER$1,fn),tr$2(mn,DIGIT2,mn),tr$2(mn,ASCII_LETTER$1),tr$2(mn,LETTER$1,mn);const gn=tt$2(un,LF$1,NL$1,{[whitespace$2]:!0}),xn=tt$2(un,CR$1,WS$1,{[whitespace$2]:!0}),yn=tr$2(un,SPACE$1,WS$1,{[whitespace$2]:!0});tt$2(un,OBJECT_REPLACEMENT$1,yn),tt$2(xn,LF$1,gn),tt$2(xn,OBJECT_REPLACEMENT$1,yn),tr$2(xn,SPACE$1,yn),tt$2(yn,CR$1),tt$2(yn,LF$1),tr$2(yn,SPACE$1,yn),tt$2(yn,OBJECT_REPLACEMENT$1,yn);const vn=tr$2(un,EMOJI$2,EMOJI$1$1,{[emoji$1]:!0});tt$2(vn,"#"),tr$2(vn,EMOJI$2,vn),tt$2(vn,EMOJI_VARIATION$1,vn);const En=tt$2(vn,EMOJI_JOINER$1);tt$2(En,"#"),tr$2(En,EMOJI$2,vn);const bn=[[ASCII_LETTER$1,hn],[DIGIT2,pn]],wn=[[ASCII_LETTER$1,null],[LETTER$1,fn],[DIGIT2,mn]];for(let Sn=0;Sn<tlds$1.length;Sn++)fastts$1(un,tlds$1[Sn],TLD$1,WORD$1,bn);for(let Sn=0;Sn<utlds$1.length;Sn++)fastts$1(un,utlds$1[Sn],UTLD$1,UWORD$1,wn);addToGroups$1(TLD$1,{tld:!0,ascii:!0},sn),addToGroups$1(UTLD$1,{utld:!0,alpha:!0},sn),fastts$1(un,"file",SCHEME$1,WORD$1,bn),fastts$1(un,"mailto",SCHEME$1,WORD$1,bn),fastts$1(un,"http",SLASH_SCHEME$1,WORD$1,bn),fastts$1(un,"https",SLASH_SCHEME$1,WORD$1,bn),fastts$1(un,"ftp",SLASH_SCHEME$1,WORD$1,bn),fastts$1(un,"ftps",SLASH_SCHEME$1,WORD$1,bn),addToGroups$1(SCHEME$1,{scheme:!0,ascii:!0},sn),addToGroups$1(SLASH_SCHEME$1,{slashscheme:!0,ascii:!0},sn),tn=tn.sort((Sn,Rn)=>Sn[0]>Rn[0]?1:-1);for(let Sn=0;Sn<tn.length;Sn++){const Rn=tn[Sn][0],jn=tn[Sn][1]?{[scheme$1]:!0}:{[slashscheme$1]:!0};Rn.indexOf("-")>=0?jn[domain$2]=!0:ASCII_LETTER$1.test(Rn)?DIGIT2.test(Rn)?jn[asciinumeric$1]=!0:jn[ascii$1]=!0:jn[numeric$1]=!0,ts$1(un,Rn,Rn,jn)}return ts$1(un,"localhost",LOCALHOST$1,{ascii:!0}),un.jd=new State$1(SYM$1),{start:un,tokens:assign$1({groups:sn},tk$1)}}function run$1$1(tn,sn){const un=stringToArray$1(sn.replace(/[A-Z]/g,fn=>fn.toLowerCase())),dn=un.length,pn=[];let mn=0,hn=0;for(;hn<dn;){let fn=tn,gn=null,xn=0,yn=null,vn=-1,En=-1;for(;hn<dn&&(gn=fn.go(un[hn]));)fn=gn,fn.accepts()?(vn=0,En=0,yn=fn):vn>=0&&(vn+=un[hn].length,En++),xn+=un[hn].length,mn+=un[hn].length,hn++;mn-=vn,hn-=En,xn-=vn,pn.push({t:yn.t,v:sn.slice(mn-xn,mn),s:mn-xn,e:mn})}return pn}function stringToArray$1(tn){const sn=[],un=tn.length;let dn=0;for(;dn<un;){let pn=tn.charCodeAt(dn),mn,hn=pn<55296||pn>56319||dn+1===un||(mn=tn.charCodeAt(dn+1))<56320||mn>57343?tn[dn]:tn.slice(dn,dn+2);sn.push(hn),dn+=hn.length}return sn}function fastts$1(tn,sn,un,dn,pn){let mn;const hn=sn.length;for(let fn=0;fn<hn-1;fn++){const gn=sn[fn];tn.j[gn]?mn=tn.j[gn]:(mn=new State$1(dn),mn.jr=pn.slice(),tn.j[gn]=mn),tn=mn}return mn=new State$1(un),mn.jr=pn.slice(),tn.j[sn[hn-1]]=mn,mn}function decodeTlds$1(tn){const sn=[],un=[];let dn=0,pn="0123456789";for(;dn<tn.length;){let mn=0;for(;pn.indexOf(tn[dn+mn])>=0;)mn++;if(mn>0){sn.push(un.join(""));for(let hn=parseInt(tn.substring(dn,dn+mn),10);hn>0;hn--)un.pop();dn+=mn}else un.push(tn[dn]),dn++}return sn}var defaults2={defaultProtocol:"http",events:null,format:noop3,formatHref:noop3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options$d(tn,sn=null){let un=assign$1({},defaults2);tn&&(un=assign$1(un,tn instanceof Options$d?tn.o:tn));const dn=un.ignoreTags,pn=[];for(let mn=0;mn<dn.length;mn++)pn.push(dn[mn].toUpperCase());this.o=un,sn&&(this.defaultRender=sn),this.ignoreTags=pn}Options$d.prototype={o:defaults2,ignoreTags:[],defaultRender(tn){return tn},check(tn){return this.get("validate",tn.toString(),tn)},get(tn,sn,un){const dn=sn!=null;let pn=this.o[tn];return pn&&(typeof pn=="object"?(pn=un.t in pn?pn[un.t]:defaults2[tn],typeof pn=="function"&&dn&&(pn=pn(sn,un))):typeof pn=="function"&&dn&&(pn=pn(sn,un.t,un)),pn)},getObj(tn,sn,un){let dn=this.o[tn];return typeof dn=="function"&&sn!=null&&(dn=dn(sn,un.t,un)),dn},render(tn){const sn=tn.render(this);return(this.get("render",null,tn)||this.defaultRender)(sn,tn.t,tn)}};function noop3(tn){return tn}function MultiToken$1(tn,sn){this.t="token",this.v=tn,this.tk=sn}MultiToken$1.prototype={isLink:!1,toString(){return this.v},toHref(tn){return this.toString()},toFormattedString(tn){const sn=this.toString(),un=tn.get("truncate",sn,this),dn=tn.get("format",sn,this);return un&&dn.length>un?dn.substring(0,un)+"…":dn},toFormattedHref(tn){return tn.get("formatHref",this.toHref(tn.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(tn=defaults2.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(tn),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(tn){return{type:this.t,value:this.toFormattedString(tn),isLink:this.isLink,href:this.toFormattedHref(tn),start:this.startIndex(),end:this.endIndex()}},validate(tn){return tn.get("validate",this.toString(),this)},render(tn){const sn=this,un=this.toHref(tn.get("defaultProtocol")),dn=tn.get("formatHref",un,this),pn=tn.get("tagName",un,sn),mn=this.toFormattedString(tn),hn={},fn=tn.get("className",un,sn),gn=tn.get("target",un,sn),xn=tn.get("rel",un,sn),yn=tn.getObj("attributes",un,sn),vn=tn.getObj("events",un,sn);return hn.href=dn,fn&&(hn.class=fn),gn&&(hn.target=gn),xn&&(hn.rel=xn),yn&&assign$1(hn,yn),{tagName:pn,attributes:hn,content:mn,eventListeners:vn}}};function createTokenClass$1(tn,sn){class un extends MultiToken$1{constructor(pn,mn){super(pn,mn),this.t=tn}}for(const dn in sn)un.prototype[dn]=sn[dn];return un.t=tn,un}var Email$1=createTokenClass$1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass$1("text"),Nl$1=createTokenClass$1("nl"),Url$1=createTokenClass$1("url",{isLink:!0,toHref(tn=defaults2.defaultProtocol){return this.hasProtocol()?this.v:`${tn}://${this.v}`},hasProtocol(){const tn=this.tk;return tn.length>=2&&tn[0].t!==LOCALHOST$1&&tn[1].t===COLON$1}}),makeState$1=tn=>new State$1(tn);function init$1$1({groups:tn}){const sn=tn.domain.concat([AMPERSAND$1,ASTERISK$2,AT$1,BACKSLASH$1,BACKTICK$1,CARET$1,DOLLAR$1,EQUALS$1,HYPHEN$1,NUM$1,PERCENT$1,PIPE$1,PLUS$1,POUND$1,SLASH$1,SYM$1,TILDE$1,UNDERSCORE$1]),un=[COLON$1,COMMA$1,DOT$1,EXCLAMATION$1,PERCENT$1,QUERY$1,QUOTE$1,SEMI$1,OPENANGLEBRACKET$1,CLOSEANGLEBRACKET$1,OPENBRACE$1,CLOSEBRACE$1,CLOSEBRACKET$1,OPENBRACKET$1,OPENPAREN$1,CLOSEPAREN$1,FULLWIDTHLEFTPAREN$1,FULLWIDTHRIGHTPAREN$1,LEFTCORNERBRACKET$1,RIGHTCORNERBRACKET$1,LEFTWHITECORNERBRACKET$1,RIGHTWHITECORNERBRACKET$1,FULLWIDTHLESSTHAN$1,FULLWIDTHGREATERTHAN$1],dn=[AMPERSAND$1,APOSTROPHE$1,ASTERISK$2,BACKSLASH$1,BACKTICK$1,CARET$1,DOLLAR$1,EQUALS$1,HYPHEN$1,OPENBRACE$1,CLOSEBRACE$1,PERCENT$1,PIPE$1,PLUS$1,POUND$1,QUERY$1,SLASH$1,SYM$1,TILDE$1,UNDERSCORE$1],pn=makeState$1(),mn=tt$2(pn,TILDE$1);ta$1(mn,dn,mn),ta$1(mn,tn.domain,mn);const hn=makeState$1(),fn=makeState$1(),gn=makeState$1();ta$1(pn,tn.domain,hn),ta$1(pn,tn.scheme,fn),ta$1(pn,tn.slashscheme,gn),ta$1(hn,dn,mn),ta$1(hn,tn.domain,hn);const xn=tt$2(hn,AT$1);tt$2(mn,AT$1,xn),tt$2(fn,AT$1,xn),tt$2(gn,AT$1,xn);const yn=tt$2(mn,DOT$1);ta$1(yn,dn,mn),ta$1(yn,tn.domain,mn);const vn=makeState$1();ta$1(xn,tn.domain,vn),ta$1(vn,tn.domain,vn);const En=tt$2(vn,DOT$1);ta$1(En,tn.domain,vn);const bn=makeState$1(Email$1);ta$1(En,tn.tld,bn),ta$1(En,tn.utld,bn),tt$2(xn,LOCALHOST$1,bn);const wn=tt$2(vn,HYPHEN$1);tt$2(wn,HYPHEN$1,wn),ta$1(wn,tn.domain,vn),ta$1(bn,tn.domain,vn),tt$2(bn,DOT$1,En),tt$2(bn,HYPHEN$1,wn);const Sn=tt$2(bn,COLON$1);ta$1(Sn,tn.numeric,Email$1);const Rn=tt$2(hn,HYPHEN$1),_n=tt$2(hn,DOT$1);tt$2(Rn,HYPHEN$1,Rn),ta$1(Rn,tn.domain,hn),ta$1(_n,dn,mn),ta$1(_n,tn.domain,hn);const jn=makeState$1(Url$1);ta$1(_n,tn.tld,jn),ta$1(_n,tn.utld,jn),ta$1(jn,tn.domain,hn),ta$1(jn,dn,mn),tt$2(jn,DOT$1,_n),tt$2(jn,HYPHEN$1,Rn),tt$2(jn,AT$1,xn);const Cn=tt$2(jn,COLON$1),An=makeState$1(Url$1);ta$1(Cn,tn.numeric,An);const Tn=makeState$1(Url$1),$n=makeState$1();ta$1(Tn,sn,Tn),ta$1(Tn,un,$n),ta$1($n,sn,Tn),ta$1($n,un,$n),tt$2(jn,SLASH$1,Tn),tt$2(An,SLASH$1,Tn);const Dn=tt$2(fn,COLON$1),Nn=tt$2(gn,COLON$1),kn=tt$2(Nn,SLASH$1),Pn=tt$2(kn,SLASH$1);ta$1(fn,tn.domain,hn),tt$2(fn,DOT$1,_n),tt$2(fn,HYPHEN$1,Rn),ta$1(gn,tn.domain,hn),tt$2(gn,DOT$1,_n),tt$2(gn,HYPHEN$1,Rn),ta$1(Dn,tn.domain,Tn),tt$2(Dn,SLASH$1,Tn),tt$2(Dn,QUERY$1,Tn),ta$1(Pn,tn.domain,Tn),ta$1(Pn,sn,Tn),tt$2(Pn,SLASH$1,Tn);const Mn=[[OPENBRACE$1,CLOSEBRACE$1],[OPENBRACKET$1,CLOSEBRACKET$1],[OPENPAREN$1,CLOSEPAREN$1],[OPENANGLEBRACKET$1,CLOSEANGLEBRACKET$1],[FULLWIDTHLEFTPAREN$1,FULLWIDTHRIGHTPAREN$1],[LEFTCORNERBRACKET$1,RIGHTCORNERBRACKET$1],[LEFTWHITECORNERBRACKET$1,RIGHTWHITECORNERBRACKET$1],[FULLWIDTHLESSTHAN$1,FULLWIDTHGREATERTHAN$1]];for(let On=0;On<Mn.length;On++){const[Wn,In]=Mn[On],Un=tt$2(Tn,Wn);tt$2($n,Wn,Un),tt$2(Un,In,Tn);const Vn=makeState$1(Url$1);ta$1(Un,sn,Vn);const Hn=makeState$1();ta$1(Un,un),ta$1(Vn,sn,Vn),ta$1(Vn,un,Hn),ta$1(Hn,sn,Vn),ta$1(Hn,un,Hn),tt$2(Vn,In,Tn),tt$2(Hn,In,Tn)}return tt$2(pn,LOCALHOST$1,jn),tt$2(pn,NL$1,Nl$1),{start:pn,tokens:tk$1}}function run$2(tn,sn,un){let dn=un.length,pn=0,mn=[],hn=[];for(;pn<dn;){let fn=tn,gn=null,xn=null,yn=0,vn=null,En=-1;for(;pn<dn&&!(gn=fn.go(un[pn].t));)hn.push(un[pn++]);for(;pn<dn&&(xn=gn||fn.go(un[pn].t));)gn=null,fn=xn,fn.accepts()?(En=0,vn=fn):En>=0&&En++,pn++,yn++;if(En<0)pn-=yn,pn<dn&&(hn.push(un[pn]),pn++);else{hn.length>0&&(mn.push(initMultiToken$1(Text$1,sn,hn)),hn=[]),pn-=En,yn-=En;const bn=vn.t,wn=un.slice(pn-yn,pn);mn.push(initMultiToken$1(bn,sn,wn))}}return hn.length>0&&mn.push(initMultiToken$1(Text$1,sn,hn)),mn}function initMultiToken$1(tn,sn,un){const dn=un[0].s,pn=un[un.length-1].e,mn=sn.slice(dn,pn);return new tn(mn,un)}var INIT$1={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function init$4(){INIT$1.scanner=init$2$1(INIT$1.customSchemes);for(let tn=0;tn<INIT$1.tokenQueue.length;tn++)INIT$1.tokenQueue[tn][1]({scanner:INIT$1.scanner});INIT$1.parser=init$1$1(INIT$1.scanner.tokens);for(let tn=0;tn<INIT$1.pluginQueue.length;tn++)INIT$1.pluginQueue[tn][1]({scanner:INIT$1.scanner,parser:INIT$1.parser});return INIT$1.initialized=!0,INIT$1}function tokenize$1(tn){return INIT$1.initialized||init$4(),run$2(INIT$1.parser.start,tn,run$1$1(INIT$1.scanner.start,tn))}tokenize$1.scan=run$1$1;function find$2(tn,sn=null,un=null){if(sn&&typeof sn=="object"){if(un)throw Error(`linkifyjs: Invalid link type ${sn}; must be a string`);un=sn,sn=null}const dn=new Options$d(un),pn=tokenize$1(tn),mn=[];for(let hn=0;hn<pn.length;hn++){const fn=pn[hn];fn.isLink&&(!sn||fn.t===sn)&&dn.check(fn)&&mn.push(fn.toFormattedObject(dn))}return mn}var DEFAULT_LINK_PREVIEW_MANAGER_CONFIG={debounceURLEnrichmentMs:1500,enabled:!1,findURLFn:tn=>find$2(tn,"url",{defaultProtocol:"https"}).reduce((sn,un)=>{try{const dn=new URL(un.href);un.isLink&&/^[a-zA-Z0-9-.]+\.[a-zA-Z]{2,}$/.test(dn.hostname)&&sn.push(un.href)}catch{}return sn},[])},DEFAULT_ATTACHMENT_MANAGER_CONFIG={acceptedFiles:[],fileUploadFilter:()=>!0,maxNumberOfFilesPerMessage:API_MAX_FILES_ALLOWED_PER_MESSAGE},DEFAULT_TEXT_COMPOSER_CONFIG={enabled:!0,publishTypingEvents:!0},DEFAULT_COMPOSER_CONFIG={attachments:DEFAULT_ATTACHMENT_MANAGER_CONFIG,drafts:{enabled:!1},linkPreviews:DEFAULT_LINK_PREVIEW_MANAGER_CONFIG,text:DEFAULT_TEXT_COMPOSER_CONFIG},initState2=tn=>tn?{message:{},custom:{}}:{message:{},custom:{}},CustomDataManager=class{constructor({composer:tn,message:sn}){this.isMessageDataEqual=(un,dn)=>JSON.stringify(un.message)===JSON.stringify(dn==null?void 0:dn.message),this.initState=({message:un}={})=>{this.state.next(initState2({composer:this.composer}))},this.composer=tn,this.state=new StateStore(initState2({}))}get customMessageData(){return this.state.getLatestValue().message}get customComposerData(){return this.state.getLatestValue().custom}setMessageData(tn){this.state.partialNext({message:{...this.state.getLatestValue().message,...tn}})}setCustomData(tn){this.state.partialNext({custom:{...this.state.getLatestValue().custom,...tn}})}},linkPreviewArrayToMap=tn=>new Map(tn.map(sn=>[sn.og_scrape_url,sn])),initState3=({message:tn})=>{var sn;return tn?{previews:((sn=tn.attachments)==null?void 0:sn.reduce((un,dn)=>(dn.og_scrape_url&&un.set(dn.og_scrape_url,{...dn,status:"loaded"}),un),new Map))??new Map}:{previews:new Map}},_LinkPreviewsManager=class Rl{constructor({composer:sn,message:un}){this.shouldDiscardEnrichQueries=!1,this.initState=({message:dn}={})=>{this.state.next(initState3({message:this.enabled?dn:void 0}))},this._findAndEnrichUrls=async dn=>{if(!this.enabled)return;const pn=this.config.findURLFn(dn);if(this.shouldDiscardEnrichQueries=!pn.length,this.shouldDiscardEnrichQueries){this.state.next({previews:new Map});return}const mn=new Map(Array.from(this.previews).filter(([fn])=>pn.includes(fn)||pn.includes(fn+"/"))),hn=pn.filter(fn=>{const gn=this.previews;return!(gn.get(fn)||gn.get(fn+"/"))}).map(fn=>({og_scrape_url:fn.trim(),status:"loading"}));hn.length&&(this.state.partialNext({previews:new Map([...mn,...linkPreviewArrayToMap(hn)])}),await Promise.all(hn.map(async fn=>{try{const{duration:gn,...xn}=await this.client.enrichURL(fn.og_scrape_url);if(this.shouldDiscardEnrichQueries)return;this.previews.has(fn.og_scrape_url)&&this.updatePreview(fn.og_scrape_url,{status:"loaded",...xn})}catch{this.previews.has(fn.og_scrape_url)&&this.updatePreview(fn.og_scrape_url,{status:"failed"})}return fn})))},this.cancelURLEnrichment=()=>{this.findAndEnrichUrls.cancel(),this.findAndEnrichUrls.flush()},this.clearPreviews=()=>{const dn=this.previews,pn=new Map;dn.forEach((mn,hn)=>{Rl.previewIsDismissed(mn)&&pn.set(hn,mn)}),this.state.partialNext({previews:pn})},this.updatePreview=(dn,pn)=>{var gn;if(!dn)return;const mn=this.previews.get(dn),hn=pn.status??((gn=this.previews.get(dn))==null?void 0:gn.status)??"pending";let fn=pn;if(mn){const xn=mergeWithDiff(mn,pn);if(!xn.diff||Object.keys(xn.diff).length===0)return;fn=xn.result}this.state.partialNext({previews:new Map(this.previews).set(dn,{...fn,og_scrape_url:dn,status:hn})})},this.dismissPreview=dn=>{var mn;const pn=this.previews.get(dn);pn&&((mn=this.onLinkPreviewDismissed)==null||mn.call(this,pn),this.updatePreview(dn,{status:"dismissed"}))},this.composer=sn,this.state=new StateStore(initState3({message:this.enabled?un:void 0})),this.findAndEnrichUrls=debounce$4(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs)}get client(){return this.composer.client}get channel(){return this.composer.channel}get previews(){return this.state.getLatestValue().previews}get loadingPreviews(){return Array.from(this.previews.values()).filter(sn=>Rl.previewIsLoading(sn))}get loadedPreviews(){return Array.from(this.previews.values()).filter(sn=>Rl.previewIsLoaded(sn))}get dismissedPreviews(){return Array.from(this.previews.values()).filter(sn=>Rl.previewIsDismissed(sn))}get failedPreviews(){return Array.from(this.previews.values()).filter(sn=>Rl.previewIsFailed(sn))}get pendingPreviews(){return Array.from(this.previews.values()).filter(sn=>Rl.previewIsPending(sn))}get config(){return this.composer.config.linkPreviews}get debounceURLEnrichmentMs(){return this.config.debounceURLEnrichmentMs}set debounceURLEnrichmentMs(sn){this.cancelURLEnrichment(),this.findAndEnrichUrls=debounce$4(this._findAndEnrichUrls.bind(this),this.config.debounceURLEnrichmentMs),this.composer.updateConfig({linkPreviews:{debounceURLEnrichmentMs:sn}})}get enabled(){var sn;return!!((sn=this.channel.getConfig())!=null&&sn.url_enrichment)&&this.composer.config.linkPreviews.enabled}set enabled(sn){sn!==this.enabled&&this.composer.updateConfig({linkPreviews:{enabled:sn}})}get findURLFn(){return this.config.findURLFn}set findURLFn(sn){this.composer.updateConfig({linkPreviews:{findURLFn:sn}})}get onLinkPreviewDismissed(){return this.config.onLinkPreviewDismissed}set onLinkPreviewDismissed(sn){this.composer.updateConfig({linkPreviews:{onLinkPreviewDismissed:sn}})}};_LinkPreviewsManager.previewIsLoading=tn=>tn.status==="loading";_LinkPreviewsManager.previewIsLoaded=tn=>tn.status==="loaded";_LinkPreviewsManager.previewIsDismissed=tn=>tn.status==="dismissed";_LinkPreviewsManager.previewIsFailed=tn=>tn.status==="failed";_LinkPreviewsManager.previewIsPending=tn=>tn.status==="pending";_LinkPreviewsManager.getPreviewData=tn=>{const{status:sn,...un}=tn;return un};var LinkPreviewsManager=_LinkPreviewsManager,withCancellation=createRunner(wrapWithCancellation),pendingPromises=new Map;function createRunner(tn){return function(un,dn){const{cb:pn,onContinued:mn}=tn(un,dn),hn=pendingPromises.get(un);hn==null||hn.onContinued();const fn=hn?hn.promise.then(pn,pn):pn();return pendingPromises.set(un,{promise:fn,onContinued:mn}),fn}}function wrapWithCancellation(tn,sn){const un=new AbortController;return{cb:()=>un.signal.aborted?Promise.resolve("canceled"):sn(un.signal).finally(()=>{un.signal.aborted||pendingPromises.delete(tn)}),onContinued:()=>un.abort()}}var MiddlewareExecutor=class{constructor(){this.middleware=[],this.id=generateUUIDv4()}use(tn){return this.middleware=this.middleware.concat(tn),this}replace(tn){const sn=[...this.middleware];return tn.forEach(un=>{const dn=this.middleware.findIndex(pn=>pn.id===un.id);dn>=0?sn.splice(dn,1,un):sn.push(un)}),this.middleware=sn,this}insert({middleware:tn,position:sn,unique:un}){un&&tn.forEach(hn=>{const fn=this.middleware.findIndex(gn=>gn.id===hn.id);fn>=0&&this.middleware.splice(fn,1)});const dn=sn.after||sn.before,pn=this.middleware.findIndex(hn=>hn.id===dn),mn=sn.after?pn+1:pn;return this.middleware.splice(mn,0,...tn),this}setOrder(tn){this.middleware=tn.map(sn=>this.middleware.find(un=>un.id===sn)).filter(Boolean)}async executeMiddlewareChain({eventName:tn,initialValue:sn}){let un=-1;const dn=async(mn,hn,fn)=>{if(mn<=un)throw new Error("next() called multiple times");if(un=mn,mn===this.middleware.length||fn&&["complete","discard"].includes(fn))return{state:hn,status:fn};const yn=this.middleware[mn].handlers[tn];return yn?await yn({state:hn,next:Sn=>dn(mn+1,Sn),complete:Sn=>dn(mn+1,Sn,"complete"),discard:()=>dn(mn+1,hn,"discard"),forward:()=>dn(mn+1,hn)}):dn(mn+1,hn,fn)},pn=await withCancellation(`middleware-execution-${this.id}-${tn}`,async mn=>{const hn=await dn(0,sn);return mn.aborted?"canceled":hn});return pn==="canceled"?{state:sn,status:"discard"}:pn}async execute({eventName:tn,initialValue:sn}){return await this.executeMiddlewareChain({eventName:tn,initialValue:sn})}},VALID_MAX_VOTES_VALUE_REGEX=/^([2-9]|10)$/,MAX_POLL_OPTIONS$1=100,textFieldIsEmpty=tn=>!tn.trim(),pollStateChangeValidators={enforce_unique_vote:()=>({max_votes_allowed:void 0}),max_votes_allowed:({data:tn,value:sn})=>tn.enforce_unique_vote&&sn?{max_votes_allowed:"Enforce unique vote is enabled"}:!sn.match(/^[0-9]+$/)&&sn?{max_votes_allowed:"Only numbers are allowed"}:(sn==null?void 0:sn.length)>1&&!sn.match(VALID_MAX_VOTES_VALUE_REGEX)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},options:({value:tn})=>{const sn={},un=new Set;return tn.forEach(dn=>{un.has(dn.text)&&dn.text.length?sn[dn.id]="Option already exists":un.add(dn.text)}),Object.keys(sn).length>0?{options:sn}:{options:void 0}}},defaultPollFieldChangeEventValidators={name:({currentError:tn,value:sn})=>sn&&tn?{name:void 0}:{name:typeof tn=="string"?tn:void 0}},defaultPollFieldBlurEventValidators={max_votes_allowed:({value:tn})=>tn&&!tn.match(VALID_MAX_VOTES_VALUE_REGEX)?{max_votes_allowed:"Type a number from 2 to 10"}:{max_votes_allowed:void 0},name:({value:tn})=>textFieldIsEmpty(tn)?{name:"Question is required"}:{name:void 0},options:tn=>{var dn;const sn=(dn=pollStateChangeValidators.options)==null?void 0:dn.call(pollStateChangeValidators,tn),un=(sn==null?void 0:sn.options)??{};return tn.value.forEach((pn,mn)=>{const hn=mn===tn.value.length-1;textFieldIsEmpty(pn.text)&&!hn&&(un[pn.id]="Option is empty")}),Object.keys(un).length>0?{options:un}:{options:void 0}}},isTargetedOptionTextUpdate=tn=>!Array.isArray(tn)&&typeof(tn==null?void 0:tn.index)=="number"&&typeof(tn==null?void 0:tn.text)=="string",pollCompositionStateProcessors={enforce_unique_vote:({value:tn})=>({enforce_unique_vote:tn,max_votes_allowed:""}),options:({value:tn,data:sn})=>{if(Array.isArray(tn))return{options:tn.map(yn=>({id:yn.id,text:yn.text.trim()}))};const{index:un,text:dn}=tn,pn=sn.options||[],mn=pn&&pn.slice(un+1).length>0&&!dn,hn=pn.slice(0,un),fn=pn.slice(un+1),gn=[...hn,...mn?[]:[{...pn[un],text:dn}],...fn];return pn.length<MAX_POLL_OPTIONS$1&&!gn.some(yn=>!yn.text.trim())&&gn.push({id:generateUUIDv4(),text:""}),{options:gn}}},createPollComposerStateMiddleware=({processors:tn,validators:sn}={})=>{const un=({state:dn,validators:pn,processors:mn})=>{const{previousState:hn,targetFields:fn}=dn;let gn;if(!mn&&isTargetedOptionTextUpdate(fn.options)){const yn=[...hn.data.options],vn=hn.data.options[fn.options.index];vn&&(vn.text=fn.options.text,yn.splice(fn.options.index,1,vn)),gn={...fn,options:yn}}else mn?gn=Object.entries(fn).reduce((yn,[vn,En])=>{const bn=mn[vn];return yn={...yn,...bn?bn({data:hn.data,value:En}):{[vn]:En}},yn},{}):gn=fn;const xn=Object.keys(fn).reduce((yn,vn)=>{const En=pn[vn];if(En){const bn=En({currentError:hn.errors[vn],data:hn.data,value:gn[vn]});yn={...yn,...bn}}return yn},{});return{newData:gn,newErrors:xn}};return{id:"stream-io/poll-composer-state-processing",handlers:{handleFieldChange:({state:dn,next:pn,forward:mn})=>{if(!dn.targetFields)return mn();const{previousState:hn,injectedFieldErrors:fn}=dn,{newData:gn,newErrors:xn}=un({processors:{...pollCompositionStateProcessors,...tn==null?void 0:tn.handleFieldChange},state:dn,validators:{...pollStateChangeValidators,...defaultPollFieldChangeEventValidators,...sn==null?void 0:sn.handleFieldChange}});return pn({...dn,nextState:{...hn,data:{...hn.data,...gn},errors:{...hn.errors,...xn,...fn}}})},handleFieldBlur:({state:dn,next:pn,forward:mn})=>{if(!dn.targetFields)return mn();const{previousState:hn}=dn,{newData:fn,newErrors:gn}=un({processors:tn==null?void 0:tn.handleFieldBlur,state:dn,validators:{...pollStateChangeValidators,...defaultPollFieldBlurEventValidators,...sn==null?void 0:sn.handleFieldBlur}});return pn({...dn,nextState:{...hn,data:{...hn.data,...fn},errors:{...hn.errors,...gn,...dn.injectedFieldErrors}}})}}}},createPollCompositionValidationMiddleware=tn=>({id:"stream-io/poll-composer-composition",handlers:{compose:({discard:sn,forward:un})=>tn.pollComposer.canCreatePoll?un():sn()}}),PollComposerCompositionMiddlewareExecutor=class extends MiddlewareExecutor{constructor({composer:tn}){super(),this.use([createPollCompositionValidationMiddleware(tn)])}},PollComposerStateMiddlewareExecutor=class extends MiddlewareExecutor{constructor(){super(),this.use([createPollComposerStateMiddleware()])}},ErrorFromResponse=class extends Error{constructor(tn,{code:sn,status:un,response:dn}){super(tn),this.name="ErrorFromResponse",this.code=sn,this.response=dn,this.status=un}toJSON(){const tn=[["status",this.status],["code",this.code]],sn=[];for(const[un,dn]of tn)typeof dn<"u"&&dn!==null&&sn.push(`${un}: ${dn}`);return{message:`(${sn.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name,code:this.code,status:this.status}}},VotingVisibility=(tn=>(tn.anonymous="anonymous",tn.public="public",tn))(VotingVisibility||{}),PollComposer=class{constructor({composer:tn}){this.initState=()=>{this.state.next(this.initialState)},this.updateFields=async(sn,un)=>{const{state:dn,status:pn}=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldChange",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:sn,injectedFieldErrors:un}});pn!=="discard"&&this.state.next(dn.nextState)},this.handleFieldBlur=async sn=>{const un=await this.stateMiddlewareExecutor.execute({eventName:"handleFieldBlur",initialValue:{nextState:{...this.state.getLatestValue()},previousState:{...this.state.getLatestValue()},targetFields:{[sn]:this.state.getLatestValue().data[sn]}}});un.status!=="discard"&&this.state.next(un.state.nextState)},this.compose=async()=>{var pn;const{data:sn,errors:un}=this.state.getLatestValue(),dn=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{data:{...sn,max_votes_allowed:sn.max_votes_allowed?parseInt(sn.max_votes_allowed):void 0,options:(pn=sn.options)==null?void 0:pn.filter(mn=>mn.text.trim()).map(mn=>({text:mn.text}))},errors:un}});if(dn.status!=="discard")return dn.state},this.composer=tn,this.state=new StateStore(this.initialState),this.compositionMiddlewareExecutor=new PollComposerCompositionMiddlewareExecutor({composer:tn}),this.stateMiddlewareExecutor=new PollComposerStateMiddlewareExecutor}get initialState(){var tn;return{data:{allow_answers:!1,allow_user_suggested_options:!1,description:"",enforce_unique_vote:!0,id:generateUUIDv4(),max_votes_allowed:"",name:"",options:[{id:generateUUIDv4(),text:""}],user_id:(tn=this.composer.client.user)==null?void 0:tn.id,voting_visibility:"public"},errors:{}}}get allow_answers(){return this.state.getLatestValue().data.allow_answers}get allow_user_suggested_options(){return this.state.getLatestValue().data.allow_user_suggested_options}get description(){return this.state.getLatestValue().data.description}get enforce_unique_vote(){return this.state.getLatestValue().data.enforce_unique_vote}get id(){return this.state.getLatestValue().data.id}get max_votes_allowed(){return this.state.getLatestValue().data.max_votes_allowed}get name(){return this.state.getLatestValue().data.name}get options(){return this.state.getLatestValue().data.options}get user_id(){return this.state.getLatestValue().data.user_id}get voting_visibility(){return this.state.getLatestValue().data.voting_visibility}get canCreatePoll(){var hn,fn;const{data:tn,errors:sn}=this.state.getLatestValue(),un=tn.options.filter(gn=>!!gn.text.trim()).length>0,dn=!!tn.name,pn=parseInt(((fn=(hn=tn.max_votes_allowed)==null?void 0:hn.match(VALID_MAX_VOTES_VALUE_REGEX))==null?void 0:fn[0])||""),mn=tn.max_votes_allowed===""||!!pn&&(2<=pn||pn<=10);return un&&dn&&mn&&Object.values(sn).filter(gn=>!!gn).length===0}},localAttachmentToAttachment=tn=>{const{localMetadata:sn,...un}=tn;return un},createAttachmentsCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/attachments",handlers:{compose:({state:sn,next:un,discard:dn,forward:pn})=>{const{attachmentManager:mn}=tn;if(!mn)return pn();if(mn.uploadsInProgressCount>0)return tn.client.notifications.addWarning({message:"Wait until all attachments have uploaded",origin:{emitter:"MessageComposer",context:{composer:tn}}}),dn();const hn=(sn.message.attachments??[]).concat(mn.successfulUploads.map(localAttachmentToAttachment));return hn.length?un({...sn,localMessage:{...sn.localMessage,attachments:hn},message:{...sn.message,attachments:hn}}):pn()}}}),createDraftAttachmentsCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/draft-attachments",handlers:{compose:({state:sn,next:un,forward:dn})=>{const{attachmentManager:pn}=tn;if(!pn)return dn();const mn=pn.successfulUploads,hn=mn.length?(sn.draft.attachments??[]).concat(mn.map(localAttachmentToAttachment)):void 0;return un({...sn,draft:{...sn.draft,attachments:hn}})}}}),createCompositionDataCleanupMiddleware=tn=>({id:"stream-io/message-composer-middleware/data-cleanup",handlers:{compose:({state:sn,next:un})=>{var mn,hn,fn;const dn={type:((mn=tn.editedMessage)==null?void 0:mn.type)??"regular"},pn=tn.editedMessage?toUpdatedMessagePayload(tn.editedMessage):void 0;return un({...sn,localMessage:formatMessage({...tn.editedMessage,...sn.localMessage,...dn}),message:{...pn,...sn.message,...dn},sendOptions:tn.editedMessage&&((hn=sn.sendOptions)!=null&&hn.skip_enrich_url)?{skip_enrich_url:(fn=sn.sendOptions)==null?void 0:fn.skip_enrich_url}:sn.sendOptions})}}}),createCustomDataCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/custom-data",handlers:{compose:({state:sn,next:un,forward:dn})=>{const pn=tn.customDataManager.customMessageData;return pn?un({...sn,localMessage:{...sn.localMessage,...pn},message:{...sn.message,...pn}}):dn()}}}),createDraftCustomDataCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/draft-custom-data",handlers:{compose:({state:sn,next:un,forward:dn})=>{const pn=tn.customDataManager.customMessageData;return pn?un({...sn,draft:{...sn.draft,...pn}}):dn()}}}),createCompositionValidationMiddleware=tn=>({id:"stream-io/message-composer-middleware/data-validation",handlers:{compose:async({state:sn,discard:un,forward:dn})=>{var gn;const{maxLengthOnSend:pn}=tn.config.text??{},mn=sn.message.text??"",hn=textIsEmpty(mn)&&!((gn=sn.message.attachments)!=null&&gn.length)&&!sn.message.poll_id,fn=typeof pn=="number"&&mn.length>pn;return hn||fn?await un():await dn()}}}),createDraftCompositionValidationMiddleware=tn=>({id:"stream-io/message-composer-middleware/draft-data-validation",handlers:{compose:async({state:sn,discard:un,forward:dn})=>{var hn;const pn=!textIsEmpty(sn.draft.text??"")||((hn=sn.draft.attachments)==null?void 0:hn.length)||sn.draft.poll_id||sn.draft.quoted_message_id;return tn.lastChangeOriginIsLocal&&pn?await dn():await un()}}}),createLinkPreviewsCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/link-previews",handlers:{compose:({state:sn,next:un,forward:dn})=>{const{linkPreviewsManager:pn}=tn;if(!pn)return dn();pn.cancelURLEnrichment();const mn=pn.loadingPreviews.length>0,hn=pn.dismissedPreviews.length>0,fn=pn.loadingPreviews.length>0?[]:pn.loadedPreviews.map(vn=>LinkPreviewsManager.getPreviewData(vn)),gn=(sn.message.attachments??[]).concat(fn);if(!gn.length)return dn();const xn={...sn.sendOptions};return(!mn&&fn.length>0||hn)&&(xn.skip_enrich_url=!0),un({...sn,message:{...sn.message,attachments:gn},localMessage:{...sn.localMessage,attachments:gn},sendOptions:xn})}}}),createDraftLinkPreviewsCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/draft-link-previews",handlers:{compose:({state:sn,next:un,forward:dn})=>{const{linkPreviewsManager:pn}=tn;if(!pn)return dn();pn.cancelURLEnrichment();const mn=pn.loadedPreviews.map(hn=>LinkPreviewsManager.getPreviewData(hn));return mn.length?un({...sn,draft:{...sn.draft,attachments:(sn.draft.attachments??[]).concat(mn)}}):dn()}}}),createTextComposerCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/text-composition",handlers:{compose:({state:sn,next:un,forward:dn})=>{if(!tn.textComposer)return dn();const{mentionedUsers:pn,text:mn}=tn.textComposer,hn=Array.from(new Set(pn.filter(({id:fn,name:gn})=>mn.includes(`@${fn}`)||mn.includes(`@${gn}`))));return!mn&&hn.length===0?dn():un({...sn,localMessage:{...sn.localMessage,mentioned_users:hn,text:mn},message:{...sn.message,mentioned_users:hn.map(fn=>fn.id),text:mn}})}}}),createDraftTextComposerCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/draft-text-composition",handlers:{compose:({state:sn,next:un,forward:dn})=>{if(!tn.textComposer)return dn();const{maxLengthOnSend:pn}=tn.config.text??{},{mentionedUsers:mn,text:hn}=tn.textComposer,fn=mn.length?Array.from(new Set(mn.filter(({id:xn,name:yn})=>hn.includes(`@${xn}`)||hn.includes(`@${yn}`)))):void 0,gn=typeof pn=="number"&&hn.length>pn?hn.slice(0,pn):hn;return un({...sn,draft:{...sn.draft,mentioned_users:fn==null?void 0:fn.map(xn=>xn.id),text:gn}})}}}),createMessageComposerStateCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/own-state",handlers:{compose:({state:sn,next:un})=>{const dn={};return tn.quotedMessage&&(dn.quoted_message_id=tn.quotedMessage.id),tn.pollId&&(dn.poll_id=tn.pollId),tn.showReplyInChannel&&(dn.show_in_channel=!0),un({...sn,localMessage:{...sn.localMessage,...dn,quoted_message:tn.quotedMessage??void 0},message:{...sn.message,...dn}})}}}),createDraftMessageComposerStateCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/draft-own-state",handlers:{compose:({state:sn,next:un})=>{const dn={};return tn.quotedMessage&&(dn.quoted_message_id=tn.quotedMessage.id),tn.pollId&&(dn.poll_id=tn.pollId),tn.showReplyInChannel&&(dn.show_in_channel=!0),un({...sn,draft:{...sn.draft,...dn}})}}}),createUserDataInjectionMiddleware=tn=>({id:"stream-io/message-composer-middleware/user-data-injection",handlers:{compose:({state:sn,next:un,forward:dn})=>{if(!tn.client.user)return dn();const{channel_mutes:pn,devices:mn,mutes:hn,...fn}=tn.client.user;return un({...sn,localMessage:{...sn.localMessage,user:fn,user_id:fn.id}})}}}),pollLocalMessageNullifiedFields={attachments:[],mentioned_users:[],parent_id:void 0,quoted_message:void 0,text:""},createPollOnlyCompositionMiddleware=tn=>({id:"stream-io/message-composer-middleware/poll-only",handlers:{compose:({state:sn,complete:un,forward:dn})=>{const pn=tn.pollId,mn=!!tn.editedMessage,hn=!!tn.threadId;return!pn||hn||mn?dn():un({...sn,localMessage:{...sn.localMessage,...pollLocalMessageNullifiedFields,poll_id:pn},message:{id:sn.localMessage.id,poll_id:pn}})}}}),MessageComposerMiddlewareExecutor=class extends MiddlewareExecutor{constructor({composer:tn}){super(),this.use([createUserDataInjectionMiddleware(tn),createPollOnlyCompositionMiddleware(tn),createTextComposerCompositionMiddleware(tn),createAttachmentsCompositionMiddleware(tn),createLinkPreviewsCompositionMiddleware(tn),createMessageComposerStateCompositionMiddleware(tn),createCustomDataCompositionMiddleware(tn),createCompositionValidationMiddleware(tn),createCompositionDataCleanupMiddleware(tn)])}},MessageDraftComposerMiddlewareExecutor=class extends MiddlewareExecutor{constructor({composer:tn}){super(),this.use([createDraftTextComposerCompositionMiddleware(tn),createDraftAttachmentsCompositionMiddleware(tn),createDraftLinkPreviewsCompositionMiddleware(tn),createDraftMessageComposerStateCompositionMiddleware(tn),createDraftCustomDataCompositionMiddleware(tn),createDraftCompositionValidationMiddleware(tn)])}},DEFAULT_SEARCH_SOURCE_OPTIONS={debounceMs:300,pageSize:10},BaseSearchSourceBase=class{constructor(tn){this.activate=()=>{this.isActive||this.state.partialNext({isActive:!0})},this.deactivate=()=>{this.isActive&&this.state.partialNext({isActive:!1})},this.canExecuteQuery=un=>{const dn=typeof un<"u",pn=un??this.searchQuery;return!!(this.isActive&&!this.isLoading&&(this.hasNext||dn)&&pn)};const{pageSize:sn}={...DEFAULT_SEARCH_SOURCE_OPTIONS,...tn};this.pageSize=sn,this.state=new StateStore(this.initialState)}get lastQueryError(){return this.state.getLatestValue().lastQueryError}get hasNext(){return this.state.getLatestValue().hasNext}get hasResults(){return Array.isArray(this.state.getLatestValue().items)}get isActive(){return this.state.getLatestValue().isActive}get isLoading(){return this.state.getLatestValue().isLoading}get initialState(){return{hasNext:!0,isActive:!1,isLoading:!1,items:void 0,lastQueryError:void 0,next:void 0,offset:0,searchQuery:""}}get items(){return this.state.getLatestValue().items}get next(){return this.state.getLatestValue().next}get offset(){return this.state.getLatestValue().offset}get searchQuery(){return this.state.getLatestValue().searchQuery}getStateBeforeFirstQuery(tn){return{...this.initialState,isActive:this.isActive,isLoading:!0,searchQuery:tn}}getStateAfterQuery(tn,sn){return{...this.state.getLatestValue(),lastQueryError:void 0,...tn,isLoading:!1,items:sn?tn.items:[...this.items??[],...tn.items||[]]}}prepareStateForQuery(tn){const sn=typeof tn<"u",un=tn??this.searchQuery;return sn?this.state.next(this.getStateBeforeFirstQuery(tn??"")):this.state.partialNext({isLoading:!0}),{searchString:un,hasNewSearchQuery:sn}}updatePaginationStateFromQuery(tn){const{items:sn,next:un}=tn,dn={};return un||un===null?(dn.next=un,dn.hasNext=!!un):(dn.offset=(this.offset??0)+sn.length,dn.hasNext=sn.length===this.pageSize),dn}resetState(){this.state.next(this.initialState)}resetStateAndActivate(){this.resetState(),this.activate()}},BaseSearchSource=class extends BaseSearchSourceBase{constructor(tn){const{debounceMs:sn}={...DEFAULT_SEARCH_SOURCE_OPTIONS,...tn};super(tn),this.setDebounceOptions=({debounceMs:un})=>{this.searchDebounced=debounce$4(this.executeQuery.bind(this),un)},this.search=un=>this.searchDebounced(un),this.setDebounceOptions({debounceMs:sn})}async executeQuery(tn){if(!this.canExecuteQuery(tn))return;const{hasNewSearchQuery:sn,searchString:un}=this.prepareStateForQuery(tn);let dn={};try{const pn=await this.query(un);if(!pn)return;const{items:mn}=pn;dn=this.updatePaginationStateFromQuery(pn),dn.items=await this.filterQueryResults(mn)}catch(pn){dn.lastQueryError=pn}finally{this.state.next(this.getStateAfterQuery(dn,sn))}}cancelScheduledQuery(){this.searchDebounced.cancel()}},BaseSearchSourceSync=class extends BaseSearchSourceBase{constructor(tn){const{debounceMs:sn}={...DEFAULT_SEARCH_SOURCE_OPTIONS,...tn};super(tn),this.setDebounceOptions=({debounceMs:un})=>{this.searchDebounced=debounce$4(this.executeQuery.bind(this),un)},this.search=un=>this.searchDebounced(un),this.setDebounceOptions({debounceMs:sn})}executeQuery(tn){if(!this.canExecuteQuery(tn))return;const{hasNewSearchQuery:sn,searchString:un}=this.prepareStateForQuery(tn);let dn={};try{const pn=this.query(un);if(!pn)return;const{items:mn}=pn;dn=this.updatePaginationStateFromQuery(pn),dn.items=this.filterQueryResults(mn)}catch(pn){dn.lastQueryError=pn}finally{this.state.next(this.getStateAfterQuery(dn,sn))}}cancelScheduledQuery(){this.searchDebounced.cancel()}},SearchController=class{constructor({config:tn,sources:sn}={}){this.addSource=un=>{this.state.partialNext({sources:[...this.sources,un]})},this.getSource=un=>this.sources.find(dn=>dn.type===un),this.removeSource=un=>{const dn=this.sources.filter(pn=>pn.type!==un);dn.length!==this.sources.length&&this.state.partialNext({sources:dn})},this.activateSource=un=>{const dn=this.getSource(un);!dn||dn.isActive||(this.config.keepSingleActiveSource&&this.sources.forEach(pn=>{pn.type!==un&&pn.deactivate()}),dn.activate(),this.state.partialNext({sources:[...this.sources]}))},this.deactivateSource=un=>{const dn=this.getSource(un);dn!=null&&dn.isActive&&this.activeSources.length!==1&&(dn.deactivate(),this.state.partialNext({sources:[...this.sources]}))},this.activate=()=>{this.activeSources.length||(this.config.keepSingleActiveSource?this.sources.slice(0,1):this.sources).forEach(dn=>dn.activate()),!this.isActive&&this.state.partialNext({isActive:!0})},this.search=async un=>{const dn=this.activeSources;this.state.partialNext({searchQuery:un}),await Promise.all(dn.map(pn=>pn.search(un)))},this.cancelSearchQueries=()=>{this.activeSources.forEach(un=>un.cancelScheduledQuery())},this.clear=()=>{this.cancelSearchQueries(),this.sources.forEach(un=>un.state.next({...un.initialState,isActive:un.isActive})),this.state.next(un=>({...un,isActive:!0,queriesInProgress:[],searchQuery:""}))},this.exit=()=>{this.cancelSearchQueries(),this.sources.forEach(un=>un.state.next({...un.initialState,isActive:un.isActive})),this.state.next(un=>({...un,isActive:!1,queriesInProgress:[],searchQuery:""}))},this.state=new StateStore({isActive:!1,searchQuery:"",sources:sn??[]}),this._internalState=new StateStore({}),this.config={keepSingleActiveSource:!0,...tn}}get hasNext(){return this.sources.some(tn=>tn.hasNext)}get sources(){return this.state.getLatestValue().sources}get activeSources(){return this.state.getLatestValue().sources.filter(tn=>tn.isActive)}get isActive(){return this.state.getLatestValue().isActive}get searchQuery(){return this.state.getLatestValue().searchQuery}get searchSourceTypes(){return this.sources.map(tn=>tn.type)}},UserSearchSource=class extends BaseSearchSource{constructor(tn,sn){super(sn),this.type="users",this.client=tn}async query(tn){const sn={$or:[{id:{$autocomplete:tn}},{name:{$autocomplete:tn}}],...this.filters},un={id:1,...this.sort},dn={...this.searchOptions,limit:this.pageSize,offset:this.offset},{users:pn}=await this.client.queryUsers(sn,un,dn);return{items:pn}}filterQueryResults(tn){return tn.filter(sn=>{var un;return sn.id!==((un=this.client.user)==null?void 0:un.id)})}},ChannelSearchSource=class extends BaseSearchSource{constructor(tn,sn){super(sn),this.type="channels",this.client=tn}async query(tn){const sn={members:{$in:[this.client.userID]},name:{$autocomplete:tn},...this.filters},un=this.sort??{},dn={...this.searchOptions,limit:this.pageSize,offset:this.offset};return{items:await this.client.queryChannels(sn,un,dn)}}filterQueryResults(tn){return tn}},MessageSearchSource=class extends BaseSearchSource{constructor(tn,sn){super(sn),this.type="messages",this.client=tn}async query(tn){if(!this.client.userID)return{items:[]};const sn={members:{$in:[this.client.userID]},...this.messageSearchChannelFilters},un={text:tn,type:"regular",...this.messageSearchFilters},dn={created_at:-1,...this.messageSearchSort},pn={limit:this.pageSize,next:this.next,sort:dn},{next:mn,results:hn}=await this.client.search(sn,un,pn),fn=hn.map(({message:yn})=>yn),gn=Array.from(fn.reduce((yn,vn)=>(vn.cid&&!this.client.activeChannels[vn.cid]&&yn.add(vn.cid),yn),new Set));return gn.length===0||await this.client.queryChannels({cid:{$in:gn},...this.channelQueryFilters},{last_message_at:-1,...this.channelQuerySort},this.channelQueryOptions),{items:fn,next:mn}}filterQueryResults(tn){return tn}},getTriggerCharWithToken=({trigger:tn,text:sn,isCommand:un=!1,acceptTrailingSpaces:dn=!0})=>{const pn=`[^\\s${tn}]*`,mn=sn.match(new RegExp(un?`^[${tn}]${pn}$`:dn?`(?!^|\\W)?[${tn}]${pn}\\s?${pn}$`:`(?!^|\\W)?[${tn}]${pn}$`,"g"));return mn&&mn[mn.length-1].trim()},getCompleteCommandInString=tn=>{const sn=tn.match(/^\/(\S+)\s+.*/);return sn&&sn[1]},insertItemWithTrigger=({insertText:tn,selection:sn,text:un,trigger:dn})=>{const pn=un.slice(0,sn.end),mn=un.slice(sn.end),hn=pn.lastIndexOf(dn);return{text:pn.slice(0,hn)+tn+mn,selection:{start:hn+tn.length,end:hn+tn.length}}};function escapeRegExp$1(tn){return tn.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}var getTokenizedSuggestionDisplayName=({displayName:tn,searchToken:sn})=>({tokenizedDisplayName:{token:sn,parts:sn?tn.split(new RegExp(`(${escapeRegExp$1(sn)})`,"gi")).filter(Boolean):[tn]}}),CommandSearchSource=class extends BaseSearchSourceSync{constructor(tn,sn){super(sn),this.type="commands",this.canExecuteQuery=un=>{const dn=typeof un<"u";return this.isActive&&!this.isLoading&&(this.hasNext||dn)},this.channel=tn}getStateBeforeFirstQuery(tn){const sn=super.getStateBeforeFirstQuery(tn),{items:un}=this.state.getLatestValue();return{...sn,items:un}}query(tn){const sn=this.channel.getConfig(),dn=((sn==null?void 0:sn.commands)||[]).filter(pn=>!!(pn.name&&pn.name.toLowerCase().indexOf(tn.toLowerCase())!==-1));return dn.sort((pn,mn)=>{var gn,xn;let hn=(gn=pn.name)==null?void 0:gn.toLowerCase(),fn=(xn=mn.name)==null?void 0:xn.toLowerCase();if((hn==null?void 0:hn.indexOf(tn))===0&&(hn=`0${hn}`),(fn==null?void 0:fn.indexOf(tn))===0&&(fn=`0${fn}`),hn!=null&&fn!=null){if(hn<fn)return-1;if(hn>fn)return 1}return 0}),{items:dn.map(pn=>({...pn,id:pn.name})),next:null}}filterQueryResults(tn){return tn}},DEFAULT_OPTIONS$2={minChars:1,trigger:"/"},createCommandsMiddleware=(tn,sn)=>{const un=mergeWith$1(DEFAULT_OPTIONS$2,{});let dn=new CommandSearchSource(tn);return dn.activate(),{id:"stream-io/text-composer/commands-middleware",handlers:{onChange:({state:pn,next:mn,complete:hn,forward:fn})=>{var bn;if(!pn.selection)return fn();const gn=pn.text.slice(0,pn.selection.end),xn=getCompleteCommandInString(gn);if(xn){const wn=dn==null?void 0:dn.query(xn).items[0];if(wn)return mn({...pn,command:wn,suggestions:void 0})}const yn=getTriggerCharWithToken({trigger:un.trigger,text:gn,acceptTrailingSpaces:!1,isCommand:!0});if(yn&&yn.length===un.minChars&&dn.resetStateAndActivate(),!yn||yn.length<un.minChars){const wn=((bn=pn.suggestions)==null?void 0:bn.trigger)===un.trigger,Sn={...pn};return wn&&delete Sn.suggestions,mn(Sn)}return hn({...pn,command:null,suggestions:{query:yn.slice(1),searchSource:dn,trigger:un.trigger}})},onSuggestionItemSelect:({state:pn,next:mn,forward:hn})=>{var gn;const{selectedSuggestion:fn}=pn.change??{};return!fn||((gn=pn.suggestions)==null?void 0:gn.trigger)!==un.trigger?hn():(dn.resetStateAndActivate(),mn({...pn,...insertItemWithTrigger({insertText:`/${fn.name} `,selection:pn.selection,text:pn.text,trigger:un.trigger}),command:fn,suggestions:void 0}))}}}},accentsMap={a:"á|à|ã|â|À|Á|Ã|Â",c:"ç|Ç",e:"é|è|ê|É|È|Ê",i:"í|ì|î|Í|Ì|Î",n:"ñ|Ñ",o:"ó|ò|ô|ő|õ|Ó|Ò|Ô|Õ",u:"ú|ù|û|ü|Ú|Ù|Û|Ü"},removeDiacritics=tn=>tn?Object.keys(accentsMap).reduce((sn,un)=>sn.replace(new RegExp(accentsMap[un],"g"),un),tn):"",calculateLevenshtein=(tn,sn)=>{if(tn.length===0)return sn.length;if(sn.length===0)return tn.length;const un=[];let dn;for(dn=0;dn<=sn.length;dn++)un[dn]=[dn];let pn;for(pn=0;pn<=tn.length;pn++)un[0][pn]=pn;for(dn=1;dn<=sn.length;dn++)for(pn=1;pn<=tn.length;pn++)sn.charAt(dn-1)===tn.charAt(pn-1)?un[dn][pn]=un[dn-1][pn-1]:un[dn][pn]=Math.min(un[dn-1][pn-1]+1,Math.min(un[dn][pn-1]+1,un[dn-1][pn]+1));return un[sn.length][tn.length]},MentionsSearchSource=class extends BaseSearchSource{constructor(tn,sn){const{mentionAllAppUsers:un,textComposerText:dn,transliterate:pn,...mn}=sn||{};super(mn),this.type="mentions",this.canExecuteQuery=hn=>{const fn=typeof hn<"u";return this.isActive&&!this.isLoading&&(fn||this.hasNext)},this.transliterate=hn=>hn,this.getMembersAndWatchers=()=>{const hn=Object.values(this.channel.state.members??{}).map(({user:yn})=>yn),fn=Object.values(this.channel.state.watchers??{}),gn=[...hn,...fn],xn={};return gn.forEach(yn=>{yn&&!xn[yn.id]&&(xn[yn.id]=yn)}),Object.values(xn)},this.searchMembersLocally=hn=>{const{textComposerText:fn}=this.config;return fn?this.getMembersAndWatchers().filter(gn=>{if(gn.id===this.client.userID)return!1;if(!hn)return!0;const xn=this.transliterate(removeDiacritics(gn.id)).toLowerCase(),yn=this.transliterate(removeDiacritics(gn.name)).toLowerCase(),vn=this.transliterate(removeDiacritics(hn)).toLowerCase(),En=3,bn=fn.slice(-4).includes("@");if(yn){const Sn=calculateLevenshtein(vn,yn);if(yn.includes(vn)||Sn<=En&&bn)return!0}const wn=calculateLevenshtein(vn,xn);return xn.includes(vn)||wn<=En&&bn}).sort((gn,xn)=>{if(!this.memberSort)return(gn.name||"").localeCompare(xn.name||"");for(const[yn,vn]of Object.entries(this.memberSort)){const En=gn[yn],bn=xn[yn];if(En!==bn)return vn===1?String(En||"").localeCompare(String(bn||"")):String(bn||"").localeCompare(String(En||""))}return 0}):[]},this.prepareQueryUsersParams=hn=>({filters:{$or:[{id:{$autocomplete:hn}},{name:{$autocomplete:hn}}],...this.userFilters},sort:this.userSort??[{name:1},{id:1}],options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}),this.prepareQueryMembersParams=hn=>{let gn=[{user_id:1}];return this.memberSort?Array.isArray(this.memberSort)?gn=this.memberSort[0]:Object.keys(this.memberSort).length===1&&(gn=this.memberSort):gn=[{user_id:1}],{filters:this.memberFilters??{name:{$autocomplete:hn}},sort:gn,options:{...this.searchOptions,limit:this.pageSize,offset:this.offset}}},this.queryUsers=async hn=>{const{filters:fn,sort:gn,options:xn}=this.prepareQueryUsersParams(hn),{users:yn}=await this.client.queryUsers(fn,gn,xn);return yn},this.queryMembers=async hn=>{const{filters:fn,sort:gn,options:xn}=this.prepareQueryMembersParams(hn);return(await this.channel.queryMembers(fn,gn,xn)).members.map(vn=>vn.user)},this.filterMutes=hn=>{const{textComposerText:fn}=this.config;if(!fn)return[];const{mutedUsers:gn}=this.client;return fn.includes("/unmute")&&!gn.length?[]:gn.length?fn.includes("/unmute")?hn.filter(xn=>gn.some(yn=>yn.target.id===xn.id)):hn.filter(xn=>gn.every(yn=>yn.target.id!==xn.id)):hn},this.client=tn.getClient(),this.channel=tn,this.config={mentionAllAppUsers:un,textComposerText:dn},pn&&(this.transliterate=pn)}get allMembersLoadedWithInitialChannelQuery(){return Object.keys(this.channel.state.members||{}).length<MAX_CHANNEL_MEMBER_COUNT_IN_CHANNEL_QUERY}getStateBeforeFirstQuery(tn){const sn=super.getStateBeforeFirstQuery(tn),{items:un}=this.state.getLatestValue();return{...sn,items:un}}async query(tn){let sn;const un=this.allMembersLoadedWithInitialChannelQuery||!tn;return this.config.mentionAllAppUsers?sn=await this.queryUsers(tn):un?sn=this.searchMembersLocally(tn):sn=await this.queryMembers(tn),{items:sn.map(dn=>({...dn,...getTokenizedSuggestionDisplayName({displayName:dn.name||dn.id,searchToken:this.searchQuery})}))}}filterQueryResults(tn){return this.filterMutes(tn)}},DEFAULT_OPTIONS2={minChars:1,trigger:"@"},userSuggestionToUserResponse=tn=>{const{tokenizedDisplayName:sn,...un}=tn;return un},createMentionsMiddleware=(tn,sn)=>{const un=mergeWith$1(DEFAULT_OPTIONS2,{});let dn;return dn=new MentionsSearchSource(tn),dn.activate(),{id:"stream-io/text-composer/mentions-middleware",handlers:{onChange:({state:pn,next:mn,complete:hn,forward:fn})=>{var vn;if(!pn.selection)return fn();const gn=getTriggerCharWithToken({trigger:un.trigger,text:pn.text.slice(0,pn.selection.end)});if(gn&&gn.length===un.minChars&&dn.resetStateAndActivate(),!gn||gn.length<un.minChars){const En=((vn=pn.suggestions)==null?void 0:vn.trigger)===un.trigger,bn={...pn};return En&&delete bn.suggestions,mn(bn)}return dn.config.textComposerText=pn.text,hn({...pn,suggestions:{query:gn.slice(1),searchSource:dn,trigger:un.trigger}})},onSuggestionItemSelect:({state:pn,complete:mn,forward:hn})=>{var gn;const{selectedSuggestion:fn}=pn.change??{};return!fn||((gn=pn.suggestions)==null?void 0:gn.trigger)!==un.trigger?hn():(dn.resetStateAndActivate(),mn({...pn,...insertItemWithTrigger({insertText:`@${fn.name||fn.id} `,selection:pn.selection,text:pn.text,trigger:un.trigger}),mentionedUsers:pn.mentionedUsers.concat(userSuggestionToUserResponse(fn)),suggestions:void 0}))}}}},createTextComposerPreValidationMiddleware=tn=>({id:"stream-io/text-composer/pre-validation-middleware",handlers:{onChange:({state:sn,next:un,forward:dn})=>{const{maxLengthOnEdit:pn}=tn.config.text??{};return typeof pn=="number"&&sn.text.length>pn?(sn.text=sn.text.slice(0,pn),un({...sn,text:sn.text})):dn()},onSuggestionItemSelect:({forward:sn})=>sn()}}),TextComposerMiddlewareExecutor=class extends MiddlewareExecutor{constructor({composer:tn}){super(),this.use([createTextComposerPreValidationMiddleware(tn),createMentionsMiddleware(tn.channel),createCommandsMiddleware(tn.channel)])}async execute({eventName:tn,initialValue:sn}){var mn;const un=await this.executeMiddlewareChain({eventName:tn,initialValue:sn}),{query:dn,searchSource:pn}=un.state.suggestions??{};return(mn=pn==null?void 0:pn.search(dn))==null||mn.catch(console.error),un}},textIsEmpty=tn=>{const sn=tn.trim();return sn===""||sn===">"||sn==="``````"||sn==="``"||sn==="**"||sn==="____"||sn==="__"||sn==="****"},initState4=({composer:tn,message:sn})=>{if(!sn){const dn=tn.config.text.defaultValue??"";return{command:null,mentionedUsers:[],text:dn,selection:{start:dn.length,end:dn.length}}}const un=sn.text??"";return{mentionedUsers:(sn.mentioned_users??[]).map(dn=>typeof dn=="string"?{id:dn}:dn),text:un,selection:{start:un.length,end:un.length}}},TextComposer=class{constructor({composer:tn,message:sn}){this.initState=({message:un}={})=>{this.state.next(initState4({composer:this.composer,message:un}))},this.upsertMentionedUser=un=>{const dn=[...this.mentionedUsers],pn=dn.findIndex(mn=>mn.id===un.id);pn>=0?(dn.splice(pn,1,un),this.state.partialNext({mentionedUsers:dn})):(dn.push(un),this.state.partialNext({mentionedUsers:dn}))},this.getMentionedUser=un=>this.state.getLatestValue().mentionedUsers.find(dn=>dn.id===un),this.removeMentionedUser=un=>{const dn=this.mentionedUsers.findIndex(mn=>mn.id===un);if(dn===-1)return;const pn=[...this.mentionedUsers];pn.splice(dn,1),this.state.partialNext({mentionedUsers:pn})},this.setCommand=un=>{var dn;(un==null?void 0:un.name)!==((dn=this.command)==null?void 0:dn.name)&&this.state.partialNext({command:un})},this.setText=un=>{!this.enabled||un===this.text||this.state.partialNext({text:un})},this.setSelection=un=>{const dn=un.start!==this.selection.start||un.end!==this.selection.end;!this.enabled||!dn||this.state.partialNext({selection:un})},this.insertText=async({text:un,selection:dn})=>{if(!this.enabled)return;const pn=dn??this.selection,{maxLengthOnEdit:mn}=this.composer.config.text??{},hn=this.text,fn=[hn.slice(0,pn.start),un,hn.slice(pn.end)].join(""),gn=fn.slice(0,typeof mn=="number"?mn:fn.length),xn=hn.slice(0,pn.start).length+un.length,yn=xn>=gn.length?gn.length:hn.slice(0,xn).length;await this.handleChange({text:gn,selection:{start:yn,end:yn}})},this.wrapSelection=({head:un="",selection:dn,tail:pn=""})=>{if(!this.enabled)return;const mn=dn??this.selection,hn=this.text.slice(0,mn.start),fn=this.text.slice(mn.start,mn.end),gn=this.text.slice(mn.end),xn={start:hn.length+un.length,end:hn.length+un.length+fn.length};this.state.partialNext({text:[hn,un,fn,pn,gn].join(""),selection:xn})},this.setSuggestions=un=>{this.state.partialNext({suggestions:un})},this.closeSuggestions=()=>{const{suggestions:un}=this.state.getLatestValue();un&&this.state.partialNext({suggestions:void 0})},this.handleChange=async({text:un,selection:dn})=>{if(!this.enabled)return;const pn=await this.middlewareExecutor.execute({eventName:"onChange",initialValue:{...this.state.getLatestValue(),text:un,selection:dn}});pn.status!=="discard"&&(this.state.next(pn.state),this.config.publishTypingEvents&&un&&logChatPromiseExecution(this.channel.keystroke(this.composer.threadId??void 0),"start typing event"))},this.handleSelect=async un=>{if(!this.enabled)return;const dn=await this.middlewareExecutor.execute({eventName:"onSuggestionItemSelect",initialValue:{...this.state.getLatestValue(),change:{selectedSuggestion:un}}});(dn==null?void 0:dn.status)!=="discard"&&this.state.next(dn.state)},this.composer=tn,this.state=new StateStore(initState4({composer:tn,message:sn})),this.middlewareExecutor=new TextComposerMiddlewareExecutor({composer:tn})}get channel(){return this.composer.channel}get config(){return this.composer.config.text}get enabled(){return this.composer.config.text.enabled}set enabled(tn){tn!==this.enabled&&this.composer.updateConfig({text:{enabled:tn}})}get defaultValue(){return this.composer.config.text.defaultValue}set defaultValue(tn){tn!==this.defaultValue&&this.composer.updateConfig({text:{defaultValue:tn}})}get maxLengthOnEdit(){return this.composer.config.text.maxLengthOnEdit}set maxLengthOnEdit(tn){tn!==this.maxLengthOnEdit&&this.composer.updateConfig({text:{maxLengthOnEdit:tn}})}get maxLengthOnSend(){return this.composer.config.text.maxLengthOnSend}set maxLengthOnSend(tn){tn!==this.maxLengthOnSend&&this.composer.updateConfig({text:{maxLengthOnSend:tn}})}get publishTypingEvents(){return this.composer.config.text.publishTypingEvents}set publishTypingEvents(tn){tn!==this.publishTypingEvents&&this.composer.updateConfig({text:{publishTypingEvents:tn}})}get command(){return this.state.getLatestValue().command}get mentionedUsers(){return this.state.getLatestValue().mentionedUsers}get selection(){return this.state.getLatestValue().selection}get suggestions(){return this.state.getLatestValue().suggestions}get text(){return this.state.getLatestValue().text}get textIsEmpty(){return textIsEmpty(this.text)}setMentionedUsers(tn){this.state.partialNext({mentionedUsers:tn})}clearCommand(){this.state.partialNext({command:null})}},_WithSubscriptions=class ku{constructor(){this.unsubscribeFunctions=new Set,this.refCount=0}get hasSubscriptions(){return this.unsubscribeFunctions.size>0}addUnsubscribeFunction(sn){this.unsubscribeFunctions.add(sn)}incrementRefCount(){return++this.refCount}unregisterSubscriptions(){return this.refCount>1?(this.refCount--,ku.symbol):(this.unsubscribeFunctions.forEach(sn=>sn()),this.unsubscribeFunctions.clear(),this.refCount=0,ku.symbol)}};_WithSubscriptions.symbol=Symbol(_WithSubscriptions.name);var WithSubscriptions=_WithSubscriptions,DEFAULT_PAGE_LIMIT=50,DEFAULT_SORT$1=[{created_at:-1}],MARK_AS_READ_THROTTLE_TIMEOUT=1e3,THREAD_RESPONSE_RESERVED_KEYS={active_participant_count:!0,channel:!0,channel_cid:!0,created_at:!0,created_by:!0,created_by_user_id:!0,deleted_at:!0,draft:!0,last_message_at:!0,latest_replies:!0,parent_message:!0,parent_message_id:!0,participant_count:!0,read:!0,reply_count:!0,thread_participants:!0,title:!0,updated_at:!0},constructCustomDataObject=tn=>{const sn={};for(const un in tn){if(THREAD_RESPONSE_RESERVED_KEYS[un])continue;const dn=un;sn[dn]=tn[dn]}return sn},Thread$d=class extends WithSubscriptions{constructor({client:sn,threadData:un}){super(),this.failedRepliesMap=new Map,this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.reload=async()=>{if(!this.state.getLatestValue().isLoading){this.state.partialNext({isLoading:!0});try{const mn=await this.client.getThread(this.id,{watch:!0});this.hydrateState(mn)}finally{this.state.partialNext({isLoading:!1})}}},this.hydrateState=mn=>{if(mn===this)return;if(mn.id!==this.id)throw new Error("Cannot hydrate thread's state using thread with different threadId");const{createdAt:hn,custom:fn,title:gn,deletedAt:xn,parentMessage:yn,participants:vn,read:En,replyCount:bn,replies:wn,updatedAt:Sn}=mn.state.getLatestValue(),Rn=Array.from(this.failedRepliesMap.values());this.state.partialNext({title:gn,createdAt:hn,custom:fn,deletedAt:xn,parentMessage:yn,participants:vn,read:En,replyCount:bn,replies:Rn.length?wn.concat(Rn):wn,updatedAt:Sn,isStateStale:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeThreadUpdated()),this.addUnsubscribeFunction(this.subscribeMarkActiveThreadRead()),this.addUnsubscribeFunction(this.subscribeReloadActiveStaleThread()),this.addUnsubscribeFunction(this.subscribeMarkThreadStale()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRepliesRead()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()))},this.subscribeThreadUpdated=()=>this.client.on("thread.updated",mn=>{if(!mn.thread||mn.thread.parent_message_id!==this.id)return;const hn=mn.thread;this.state.partialNext({title:hn.title,updatedAt:new Date(hn.updated_at),deletedAt:hn.deleted_at?new Date(hn.deleted_at):null,custom:constructCustomDataObject(hn)})}).unsubscribe,this.subscribeMarkActiveThreadRead=()=>this.state.subscribeWithSelector(mn=>({active:mn.active,unreadMessageCount:ownUnreadCountSelector(this.client.userID)(mn)}),({active:mn,unreadMessageCount:hn})=>{!mn||!hn||this.throttledMarkAsRead()}),this.subscribeReloadActiveStaleThread=()=>this.state.subscribeWithSelector(mn=>({active:mn.active,isStateStale:mn.isStateStale}),({active:mn,isStateStale:hn})=>{mn&&hn&&this.reload()}),this.subscribeMarkThreadStale=()=>this.client.on("user.watching.stop",mn=>{var fn,gn;const{channel:hn}=this.state.getLatestValue();!this.client.userID||this.client.userID!==((fn=mn.user)==null?void 0:fn.id)||((gn=mn.channel)==null?void 0:gn.cid)!==hn.cid||this.state.partialNext({isStateStale:!0})}).unsubscribe,this.subscribeNewReplies=()=>this.client.on("message.new",mn=>{var yn,vn,En;if(!this.client.userID||((yn=mn.message)==null?void 0:yn.parent_id)!==this.id)return;const hn=((vn=mn.message.user)==null?void 0:vn.id)===this.client.userID,{active:fn,read:gn}=this.state.getLatestValue();this.upsertReplyLocally({message:mn.message,timestampChanged:hn}),fn&&this.throttledMarkAsRead();const xn={};for(const bn of Object.keys(gn)){const wn=gn[bn];if(wn){let Sn=wn;bn===((En=mn.user)==null?void 0:En.id)?Sn={...Sn,lastReadAt:mn.created_at?new Date(mn.created_at):new Date,user:mn.user,unreadMessageCount:0}:fn&&bn===this.client.userID||(Sn={...Sn,unreadMessageCount:wn.unreadMessageCount+1}),xn[bn]=Sn}}this.state.partialNext({read:xn})}).unsubscribe,this.subscribeRepliesRead=()=>this.client.on("message.read",mn=>{if(!mn.user||!mn.created_at||!mn.thread||mn.thread.parent_message_id!==this.id)return;const hn=mn.user.id,fn=mn.created_at,gn=mn.user;this.state.next(xn=>({...xn,read:{...xn.read,[hn]:{lastReadAt:new Date(fn),user:gn,lastReadMessageId:mn.last_read_message_id,unreadMessageCount:0}}}))}).unsubscribe,this.subscribeMessageDeleted=()=>this.client.on("message.deleted",mn=>{mn.message&&(mn.message.parent_id===this.id&&(mn.hard_delete?this.deleteReplyLocally({message:mn.message}):this.upsertReplyLocally({message:mn.message})),mn.message.id===this.id&&this.updateParentMessageLocally({message:mn.message}))}).unsubscribe,this.subscribeMessageUpdated=()=>{const hn=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(fn=>this.client.on(fn,gn=>{gn.message&&this.updateParentMessageOrReplyLocally(gn.message)}).unsubscribe);return()=>hn.forEach(fn=>fn())},this.unregisterSubscriptions=()=>{const mn=super.unregisterSubscriptions();return this.state.partialNext({isStateStale:!0}),mn},this.deleteReplyLocally=({message:mn})=>{var xn;const{replies:hn}=this.state.getLatestValue(),fn=findIndexInSortedArray({needle:formatMessage(mn),sortedArray:hn,sortDirection:"ascending",selectValueToCompare:yn=>yn.created_at.getTime(),selectKey:yn=>yn.id});if(((xn=hn[fn])==null?void 0:xn.id)!==mn.id)return;const gn=[...hn];gn.splice(fn,1),this.state.partialNext({replies:gn})},this.upsertReplyLocally=({message:mn,timestampChanged:hn=!1})=>{if(mn.parent_id!==this.id)throw new Error("Reply does not belong to this thread");const fn=formatMessage(mn);mn.status==="failed"?this.failedRepliesMap.set(fn.id,fn):this.failedRepliesMap.has(mn.id)&&this.failedRepliesMap.delete(mn.id),this.state.next(gn=>({...gn,replies:addToMessageList(gn.replies,fn,hn)}))},this.updateParentMessageLocally=({message:mn})=>{if(mn.id!==this.id)throw new Error("Message does not belong to this thread");this.state.next(hn=>{const fn=formatMessage(mn);return{...hn,deletedAt:fn.deleted_at,parentMessage:fn,replyCount:mn.reply_count??hn.replyCount}})},this.updateParentMessageOrReplyLocally=mn=>{mn.parent_id===this.id&&this.upsertReplyLocally({message:mn}),!mn.parent_id&&mn.id===this.id&&this.updateParentMessageLocally({message:mn})},this.markAsRead=async({force:mn=!1}={})=>this.ownUnreadCount===0&&!mn?null:await this.channel.markRead({thread_id:this.id}),this.throttledMarkAsRead=throttle$2(()=>this.markAsRead(),MARK_AS_READ_THROTTLE_TIMEOUT,{trailing:!0}),this.queryReplies=({limit:mn=DEFAULT_PAGE_LIMIT,sort:hn=DEFAULT_SORT$1,...fn}={})=>this.channel.getReplies(this.id,{limit:mn,...fn},hn),this.loadNextPage=({limit:mn=DEFAULT_PAGE_LIMIT}={})=>this.loadPage(mn),this.loadPrevPage=({limit:mn=DEFAULT_PAGE_LIMIT}={})=>this.loadPage(-mn),this.loadPage=async mn=>{var En;const{pagination:hn}=this.state.getLatestValue(),[fn,gn,xn]=mn>0?["isLoadingNext","nextCursor","push"]:["isLoadingPrev","prevCursor","unshift"];if(hn[fn]||hn[gn]===null)return;const yn={[mn>0?"id_gt":"id_lt"]:hn[gn]},vn=Math.abs(mn);this.state.partialNext({pagination:{...hn,[fn]:!0}});try{const bn=await this.queryReplies({...yn,limit:vn}),wn=bn.messages.map(formatMessage),Sn=((En=wn.at(mn>0?-1:0))==null?void 0:En.id)??null;this.state.next(Rn=>{let _n=Rn.replies;return wn.length>0&&(_n=[...Rn.replies],_n[xn](...wn)),{...Rn,replies:_n,pagination:{...Rn.pagination,[gn]:bn.messages.length<vn?null:Sn,[fn]:!1}}})}catch(bn){this.client.logger("error",bn.message),this.state.next(wn=>({...wn,pagination:{...wn.pagination,[fn]:!1}}))}};const dn=sn.channel(un.channel.type,un.channel.id,{name:un.channel.name});dn._hydrateMembers({members:un.channel.members??[],overrideCurrentState:!1});const pn=sn.userID?[{user:{id:sn.userID},unread_messages:0,last_read:new Date().toISOString()}]:[];this.state=new StateStore({active:!1,isLoading:!1,isStateStale:!1,channel:dn,createdAt:new Date(un.created_at),deletedAt:un.deleted_at?new Date(un.deleted_at):null,pagination:repliesPaginationFromInitialThread(un),parentMessage:formatMessage(un.parent_message),participants:un.thread_participants,read:formatReadState(!un.read||un.read.length===0?pn:un.read),replies:un.latest_replies.map(formatMessage),replyCount:un.reply_count??0,updatedAt:un.updated_at?new Date(un.updated_at):null,title:un.title,custom:constructCustomDataObject(un)}),this.id=un.parent_message_id,this.client=sn,this.messageComposer=new MessageComposer({client:sn,composition:un.draft,compositionContext:this})}get channel(){return this.state.getLatestValue().channel}get hasStaleState(){return this.state.getLatestValue().isStateStale}get ownUnreadCount(){return ownUnreadCountSelector(this.client.userID)(this.state.getLatestValue())}},formatReadState=tn=>tn.reduce((sn,un)=>(sn[un.user.id]={user:un.user,lastReadMessageId:un.last_read_message_id,unreadMessageCount:un.unread_messages??0,lastReadAt:new Date(un.last_read)},sn),{}),repliesPaginationFromInitialThread=tn=>{var un;return{nextCursor:null,prevCursor:tn.latest_replies.length===tn.reply_count?null:((un=tn.latest_replies.at(0))==null?void 0:un.id)??null,isLoadingNext:!1,isLoadingPrev:!1}},ownUnreadCountSelector=tn=>sn=>{var un;return tn&&((un=sn.read[tn])==null?void 0:un.unreadMessageCount)||0},compositionIsDraftResponse=tn=>!!(tn!=null&&tn.message),initEditingAuditState=tn=>{let sn=null,un=new Date().getTime();return compositionIsDraftResponse(tn)?un=sn=new Date(tn.created_at).getTime():tn&&isLocalMessage$1(tn)&&(un=new Date(tn.updated_at).getTime()),{lastChange:{draftUpdate:sn,stateUpdate:un}}},initState5=tn=>{if(!tn)return{draftId:null,id:MessageComposer.generateId(),pollId:null,quotedMessage:null,showReplyInChannel:!1};const sn=tn.quoted_message;let un,dn=null,pn=MessageComposer.generateId();return compositionIsDraftResponse(tn)?(un=tn.message,dn=tn.message.id):(un=tn,pn=tn.id),{draftId:dn,id:pn,pollId:un.poll_id??null,quotedMessage:sn?formatMessage(sn):null,showReplyInChannel:!1}},_MessageComposer=class Mu extends WithSubscriptions{constructor({composition:sn,config:un,compositionContext:dn,client:pn}){if(super(),this.initState=({composition:hn}={})=>{this.editingAuditState.partialNext(this.initEditingAuditState(hn));const fn=typeof hn>"u"?hn:compositionIsDraftResponse(hn)?hn.message:formatMessage(hn);this.attachmentManager.initState({message:fn}),this.linkPreviewsManager.initState({message:fn}),this.textComposer.initState({message:fn}),this.pollComposer.initState(),this.customDataManager.initState({message:fn}),this.state.next(initState5(hn)),hn&&!compositionIsDraftResponse(hn)&&fn&&isLocalMessage$1(fn)&&(this.editedMessage=fn)},this.initStateFromChannelResponse=hn=>{var fn;this.channel.cid===hn.channel.cid&&(hn.draft?this.initState({composition:hn.draft}):this.state.getLatestValue().draftId&&(this.clear(),(fn=this.client.offlineDb)==null||fn.executeQuerySafely(gn=>gn.deleteDraft({cid:this.channel.cid,parent_id:void 0}),{method:"deleteDraft"})))},this.initEditingAuditState=hn=>initEditingAuditState(hn),this.registerDraftEventSubscriptions=()=>{const hn=this.subscribeDraftUpdated(),fn=this.subscribeDraftDeleted();return()=>{hn(),fn()}},this.registerSubscriptions=()=>(this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeMessageComposerSetupStateChange()),this.addUnsubscribeFunction(this.subscribeMessageUpdated()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeTextComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeAttachmentManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeLinkPreviewsManagerStateChanged()),this.addUnsubscribeFunction(this.subscribePollComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeCustomDataManagerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerStateChanged()),this.addUnsubscribeFunction(this.subscribeMessageComposerConfigStateChanged())),this.incrementRefCount(),()=>this.unregisterSubscriptions()),this.subscribeMessageUpdated=()=>{const fn=["message.updated","reaction.new","reaction.deleted","reaction.updated"].map(gn=>this.client.on(gn,xn=>{var yn;xn.message&&(xn.message.id===this.id&&this.initState({composition:xn.message}),(yn=this.quotedMessage)!=null&&yn.id&&xn.message.id===this.quotedMessage.id&&this.setQuotedMessage(formatMessage(xn.message)))}).unsubscribe);return()=>fn.forEach(gn=>gn())},this.subscribeMessageComposerSetupStateChange=()=>{let hn=null;const fn=this.client._messageComposerSetupState.subscribeWithSelector(({setupFunction:gn})=>({setup:gn}),({setup:gn})=>{hn==null||hn(),hn=(gn==null?void 0:gn({composer:this}))??null});return()=>{hn==null||hn(),fn()}},this.subscribeMessageDeleted=()=>this.client.on("message.deleted",hn=>{hn.message&&(hn.message.id===this.id?this.clear():this.quotedMessage&&hn.message.id===this.quotedMessage.id&&this.setQuotedMessage(null))}).unsubscribe,this.subscribeDraftUpdated=()=>this.client.on("draft.updated",hn=>{const fn=hn.draft;!fn||(fn.parent_id??null)!==(this.threadId??null)||fn.channel_cid!==this.channel.cid||this.initState({composition:fn})}).unsubscribe,this.subscribeDraftDeleted=()=>this.client.on("draft.deleted",hn=>{const fn=hn.draft;!fn||(fn.parent_id??null)!==(this.threadId??null)||fn.channel_cid!==this.channel.cid||(this.logDraftUpdateTimestamp(),!this.compositionIsEmpty&&this.clear())}).unsubscribe,this.subscribeTextComposerStateChanged=()=>this.textComposer.state.subscribeWithSelector(({text:hn})=>[hn],([hn],fn)=>{if(!(typeof fn>"u")){if(this.logStateUpdateTimestamp(),this.compositionIsEmpty){this.deleteDraft();return}this.linkPreviewsManager.enabled&&(hn?this.linkPreviewsManager.findAndEnrichUrls(hn):this.linkPreviewsManager.clearPreviews())}}),this.subscribeAttachmentManagerStateChanged=()=>this.attachmentManager.state.subscribe((hn,fn)=>{if(!(typeof fn>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeLinkPreviewsManagerStateChanged=()=>this.linkPreviewsManager.state.subscribe((hn,fn)=>{if(!(typeof fn>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribePollComposerStateChanged=()=>this.pollComposer.state.subscribe((hn,fn)=>{if(!(typeof fn>"u")&&(this.logStateUpdateTimestamp(),this.compositionIsEmpty)){this.deleteDraft();return}}),this.subscribeCustomDataManagerStateChanged=()=>this.customDataManager.state.subscribe((hn,fn)=>{typeof fn<"u"&&!this.customDataManager.isMessageDataEqual(hn,fn)&&this.logStateUpdateTimestamp()}),this.subscribeMessageComposerStateChanged=()=>this.state.subscribe((hn,fn)=>{typeof fn>"u"||(this.logStateUpdateTimestamp(),this.compositionIsEmpty&&this.deleteDraft())}),this.subscribeMessageComposerConfigStateChanged=()=>{let hn;const fn=this.configState.subscribeWithSelector(gn=>({textDefaultValue:gn.text.defaultValue,draftsEnabled:gn.drafts.enabled}),({textDefaultValue:gn,draftsEnabled:xn})=>{this.textComposer.text===""&&gn&&this.textComposer.insertText({text:gn,selection:{start:0,end:0}}),xn&&!hn?hn=this.registerDraftEventSubscriptions():!xn&&hn&&(hn(),hn=null)});return()=>{hn==null||hn(),fn()}},this.setQuotedMessage=hn=>{this.state.partialNext({quotedMessage:hn})},this.toggleShowReplyInChannel=()=>{this.state.partialNext({showReplyInChannel:!this.showReplyInChannel})},this.clear=()=>{this.setQuotedMessage(null),this.initState()},this.restore=()=>{const{editedMessage:hn}=this;if(hn){this.initState({composition:hn});return}this.clear()},this.compose=async()=>{var xn;const hn=((xn=this.editedMessage)==null?void 0:xn.created_at)??new Date,gn=await this.compositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{message:{id:this.id,parent_id:this.threadId??void 0,type:"regular"},localMessage:{attachments:[],created_at:hn,deleted_at:null,error:void 0,id:this.id,mentioned_users:[],parent_id:this.threadId??void 0,pinned_at:null,reaction_groups:null,status:this.editedMessage?this.editedMessage.status:"sending",text:"",type:"regular",updated_at:hn},sendOptions:{}}});if(gn.status!=="discard")return gn.state},this.composeDraft=async()=>{const{state:hn,status:fn}=await this.draftCompositionMiddlewareExecutor.execute({eventName:"compose",initialValue:{draft:{id:this.id,parent_id:this.threadId??void 0,text:""}}});if(fn!=="discard")return hn},this.createDraft=async()=>{if(this.editedMessage||!this.config.drafts.enabled)return;const hn=await this.composeDraft();if(!hn)return;const{draft:fn}=hn;if(this.state.partialNext({draftId:fn.id}),this.client.offlineDb)try{const gn={channel_cid:this.channel.cid,created_at:new Date().toISOString(),message:fn,parent_id:fn.parent_id,quoted_message:this.quotedMessage?unformatMessage(this.quotedMessage):void 0};await this.client.offlineDb.upsertDraft({draft:gn})}catch(gn){this.client.logger("error","offlineDb:upsertDraft",{tags:["channel","offlineDb"],error:gn})}this.logDraftUpdateTimestamp(),await this.channel.createDraft(fn)},this.deleteDraft=async()=>{if(this.editedMessage||!this.config.drafts.enabled||!this.draftId)return;this.state.partialNext({draftId:null});const hn=this.threadId??void 0;if(this.client.offlineDb)try{await this.client.offlineDb.deleteDraft({cid:this.channel.cid,parent_id:hn})}catch(fn){this.client.logger("error","offlineDb:deleteDraft",{tags:["channel","offlineDb"],error:fn})}this.logDraftUpdateTimestamp(),await this.channel.deleteDraft({parent_id:hn})},this.getDraft=async()=>{var fn,gn;if(this.editedMessage||!this.config.drafts.enabled||!this.client.userID)return;const hn=await((fn=this.client.offlineDb)==null?void 0:fn.getDraft({cid:this.channel.cid,userId:this.client.userID,parent_id:this.threadId??void 0}));hn&&this.initState({composition:hn});try{const xn=await this.channel.getDraft({parent_id:this.threadId??void 0}),{draft:yn}=xn;if(!yn)return;(gn=this.client.offlineDb)==null||gn.executeQuerySafely(vn=>vn.upsertDraft({draft:yn}),{method:"upsertDraft"}),this.initState({composition:yn})}catch{this.client.notifications.add({message:"Failed to get the draft",origin:{emitter:"MessageComposer",context:{composer:this}}})}},this.createPoll=async()=>{const hn=await this.pollComposer.compose();if(!(!hn||!hn.data.id))try{const fn=await this.client.polls.createPoll(hn.data);this.state.partialNext({pollId:fn==null?void 0:fn.id})}catch(fn){throw this.client.notifications.addError({message:"Failed to create the poll",origin:{emitter:"MessageComposer",context:{composer:this}},options:{type:"api:poll:create:failed",metadata:{reason:fn.message},originalError:fn instanceof Error?fn:void 0}}),fn}},this.compositionContext=dn,this.configState=new StateStore(mergeWith$1(DEFAULT_COMPOSER_CONFIG,un??{})),dn instanceof Channel$1)this.channel=dn;else if(dn instanceof Thread$d)this.channel=dn.channel;else if(dn.cid){const[hn,fn]=dn.cid.split(":");this.channel=pn.channel(hn,fn)}else throw new Error("MessageComposer requires composition context pointing to channel (channel or context.cid)");let mn;compositionIsDraftResponse(sn)?mn=sn.message:sn&&(mn=formatMessage(sn),this.editedMessage=mn),this.attachmentManager=new AttachmentManager({composer:this,message:mn}),this.linkPreviewsManager=new LinkPreviewsManager({composer:this,message:mn}),this.textComposer=new TextComposer({composer:this,message:mn}),this.pollComposer=new PollComposer({composer:this}),this.customDataManager=new CustomDataManager({composer:this,message:mn}),this.editingAuditState=new StateStore(this.initEditingAuditState(sn)),this.state=new StateStore(initState5(sn)),this.compositionMiddlewareExecutor=new MessageComposerMiddlewareExecutor({composer:this}),this.draftCompositionMiddlewareExecutor=new MessageDraftComposerMiddlewareExecutor({composer:this})}static evaluateContextType(sn){return sn instanceof Channel$1?"channel":sn instanceof Thread$d?"thread":typeof sn.legacyThreadId=="string"?"legacy_thread":"message"}static constructTag(sn){return`${this.evaluateContextType(sn)}_${sn.id}`}get config(){return this.configState.getLatestValue()}updateConfig(sn){this.configState.partialNext(mergeWith$1(this.config,sn))}get contextType(){return Mu.evaluateContextType(this.compositionContext)}get tag(){return Mu.constructTag(this.compositionContext)}get threadId(){return this.compositionContext instanceof Channel$1?null:this.compositionContext instanceof Thread$d?this.compositionContext.id:typeof this.compositionContext.legacyThreadId=="string"?this.compositionContext.legacyThreadId:typeof this.compositionContext.parent_id=="string"?this.compositionContext.parent_id:null}get client(){return this.channel.getClient()}get id(){return this.state.getLatestValue().id}get draftId(){return this.state.getLatestValue().draftId}get lastChange(){return this.editingAuditState.getLatestValue().lastChange}get quotedMessage(){return this.state.getLatestValue().quotedMessage}get pollId(){return this.state.getLatestValue().pollId}get showReplyInChannel(){return this.state.getLatestValue().showReplyInChannel}get hasSendableData(){return this.client.offlineDb?!this.compositionIsEmpty:!!(!this.attachmentManager.uploadsInProgressCount&&(!this.textComposer.textIsEmpty||this.attachmentManager.successfulUploadsCount>0)||this.pollId)}get compositionIsEmpty(){return!this.quotedMessage&&this.textComposer.textIsEmpty&&!this.attachmentManager.attachments.length&&!this.pollId}get lastChangeOriginIsLocal(){var mn;const un=this.lastChange.draftUpdate===null&&!this.editedMessage,dn=!!((mn=this.editedMessage)!=null&&mn.updated_at)&&new Date(this.editedMessage.updated_at).getTime()<this.lastChange.stateUpdate,pn=!!this.lastChange.draftUpdate&&this.lastChange.draftUpdate<this.lastChange.stateUpdate;return dn||pn||un}logStateUpdateTimestamp(){this.editingAuditState.partialNext({lastChange:{...this.lastChange,stateUpdate:new Date().getTime()}})}logDraftUpdateTimestamp(){if(!this.config.drafts.enabled)return;const sn=new Date().getTime();this.editingAuditState.partialNext({lastChange:{draftUpdate:sn,stateUpdate:sn}})}};_MessageComposer.generateId=generateUUIDv4;var MessageComposer=_MessageComposer,Channel$1=class{constructor(sn,un,dn,pn){this.create=async fn=>{const gn={...fn,watch:!1,state:!1,presence:!1};return await this.query(gn,"latest")},this._callChannelListeners=fn=>{const gn=this,xn=[];gn.listeners.all&&xn.push(...gn.listeners.all),gn.listeners[fn.type]&&xn.push(...gn.listeners[fn.type]);for(const yn of xn)typeof yn!="string"&&yn(fn)},this._channelURL=()=>{if(!this.id)throw new Error("channel id is not defined");return`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}/${encodeURIComponent(this.id)}`};const mn=/^[\w_-]+$/,hn=/^[\w!_-]+$/;if(!mn.test(un))throw new Error(`Invalid chat type ${un}, letters, numbers and "_-" are allowed`);if(typeof dn=="string"&&!hn.test(dn))throw new Error(`Invalid chat id ${dn}, letters, numbers and "!-_" are allowed`);this._client=sn,this.type=un,this.id=dn,this.data=pn,this._data={...pn},this.cid=`${un}:${dn}`,this.listeners={},this.state=new ChannelState(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1,this.messageComposer=new MessageComposer({client:this._client,compositionContext:this})}getClient(){if(this.disconnected===!0)throw Error("You can't use a channel after client.disconnect() was called");return this._client}getConfig(){return this.getClient().configs[this.cid]}async _sendMessage(sn,un){return await this.getClient().post(this._channelURL()+"/message",{message:sn,...un})}async sendMessage(sn,un){try{const dn=this.getClient().offlineDb;if(dn){const pn=sn.id;if(pn)return await dn.queueTask({task:{channelId:this.id,channelType:this.type,messageId:pn,payload:[sn,un],type:"send-message"}})}}catch(dn){this._client.logger("error","offlineDb:send-message",{tags:["channel","offlineDb"],error:dn})}return await this._sendMessage(sn,un)}sendFile(sn,un,dn,pn){return this.getClient().sendFile(`${this._channelURL()}/file`,sn,un,dn,pn)}sendImage(sn,un,dn,pn){return this.getClient().sendFile(`${this._channelURL()}/image`,sn,un,dn,pn)}deleteFile(sn){return this.getClient().delete(`${this._channelURL()}/file`,{url:sn})}deleteImage(sn){return this.getClient().delete(`${this._channelURL()}/image`,{url:sn})}async sendEvent(sn){return this._checkInitialized(),await this.getClient().post(this._channelURL()+"/event",{event:sn})}async search(sn,un={}){if(un.offset&&un.next)throw Error("Cannot specify offset with next");const dn={filter_conditions:{cid:this.cid},...un,sort:un.sort?normalizeQuerySort(un.sort):void 0};if(typeof sn=="string")dn.query=sn;else if(typeof sn=="object")dn.message_filter_conditions=sn;else throw Error(`Invalid type ${typeof sn} for query parameter`);return await this.getClient().wsPromise,await this.getClient().get(this.getClient().baseURL+"/search",{payload:dn})}async queryMembers(sn,un=[],dn={}){var fn;let pn;const mn=this.type;let hn;return this.id?pn=this.id:(fn=this.data)!=null&&fn.members&&Array.isArray(this.data.members)&&(hn=this.data.members),await this.getClient().get(this.getClient().baseURL+"/members",{payload:{type:mn,id:pn,members:hn,sort:normalizeQuerySort(un),filter_conditions:sn,...dn}})}async updateMemberPartial(sn,un){const dn=new URL(`${this._channelURL()}/member`);return un!=null&&un.userId&&dn.searchParams.append("user_id",un.userId),await this.getClient().patch(dn.toString(),sn)}async partialUpdateMember(sn,un){if(!sn)throw Error("Please specify the user id");return await this.getClient().patch(this._channelURL()+`/member/${encodeURIComponent(sn)}`,un)}async sendReaction(sn,un,dn){if(!sn)throw Error("Message id is missing");if(!un||Object.keys(un).length===0)throw Error("Reaction object is missing");try{const pn=this.getClient().offlineDb;if(pn)return await pn.queueTask({task:{channelId:this.id,channelType:this.type,messageId:sn,payload:[sn,un,dn],type:"send-reaction"}})}catch(pn){this._client.logger("error","offlineDb:send-reaction",{tags:["channel","offlineDb"],error:pn})}return this._sendReaction(sn,un,dn)}async _sendReaction(sn,un,dn){if(!sn)throw Error("Message id is missing");if(!un||Object.keys(un).length===0)throw Error("Reaction object is missing");return await this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(sn)}/reaction`,{reaction:un,...dn})}async deleteReaction(sn,un,dn){if(this._checkInitialized(),!un||!sn)throw Error("Deleting a reaction requires specifying both the message and reaction type");try{const pn=this.getClient().offlineDb;if(pn){const mn=this.state.messages.find(({id:fn})=>fn===sn),hn={created_at:"",updated_at:"",message_id:sn,type:un,user_id:this.getClient().userID??dn};return mn&&await pn.deleteReaction({message:mn,reaction:hn}),await pn.queueTask({task:{channelId:this.id,channelType:this.type,messageId:sn,payload:[sn,un],type:"delete-reaction"}})}}catch(pn){this._client.logger("error","offlineDb:delete-reaction",{tags:["channel","offlineDb"],error:pn})}return await this._deleteReaction(sn,un,dn)}async _deleteReaction(sn,un,dn){if(this._checkInitialized(),!un||!sn)throw Error("Deleting a reaction requires specifying both the message and reaction type");const pn=this.getClient().baseURL+`/messages/${encodeURIComponent(sn)}/reaction/${encodeURIComponent(un)}`;return dn?await this.getClient().delete(pn,{user_id:dn}):await this.getClient().delete(pn,{})}async update(sn={},un,dn){return["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(mn=>{delete sn[mn]}),await this._update({message:un,data:sn,...dn})}async updatePartial(sn){var pn,mn;const un=await this.getClient().patch(this._channelURL(),sn),dn=[...un.channel.own_capabilities||[]].sort().join()!==[...Array.isArray((pn=this.data)==null?void 0:pn.own_capabilities)?(mn=this.data)==null?void 0:mn.own_capabilities:[]].sort().join();return this.data=un.channel,dn&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:un.channel.own_capabilities}),un}async enableSlowMode(sn){const un=await this.getClient().post(this._channelURL(),{cooldown:sn});return this.data=un.channel,un}async disableSlowMode(){const sn=await this.getClient().post(this._channelURL(),{cooldown:0});return this.data=sn.channel,sn}async delete(sn={}){return await this.getClient().delete(this._channelURL(),{...sn})}async truncate(sn={}){return await this.getClient().post(this._channelURL()+"/truncate",sn)}async acceptInvite(sn={}){return await this._update({accept_invite:!0,...sn})}async rejectInvite(sn={}){return await this._update({reject_invite:!0,...sn})}async addMembers(sn,un,dn={}){return await this._update({add_members:sn,message:un,...dn})}async addModerators(sn,un,dn={}){return await this._update({add_moderators:sn,message:un,...dn})}async assignRoles(sn,un,dn={}){return await this._update({assign_roles:sn,message:un,...dn})}async inviteMembers(sn,un,dn={}){return await this._update({invites:sn,message:un,...dn})}async removeMembers(sn,un,dn={}){return await this._update({remove_members:sn,message:un,...dn})}async demoteModerators(sn,un,dn={}){return await this._update({demote_moderators:sn,message:un,...dn})}async _update(sn){const un=await this.getClient().post(this._channelURL(),sn);return this.data=un.channel,un}async mute(sn={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",{channel_cid:this.cid,...sn})}async unmute(sn={}){return await this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",{channel_cid:this.cid,...sn})}async archive(sn={}){const un=this.getClient(),dn=sn.user_id||un.userID;if(!dn)throw Error("A user_id is required for archiving a channel");return(await this.partialUpdateMember(dn,{set:{archived:!0}})).channel_member}async unarchive(sn={}){const un=this.getClient(),dn=sn.user_id||un.userID;if(!dn)throw Error("A user_id is required for unarchiving a channel");return(await this.partialUpdateMember(dn,{set:{archived:!1}})).channel_member}async pin(sn={}){const un=this.getClient(),dn=sn.user_id||un.userID;if(!dn)throw new Error("A user_id is required for pinning a channel");return(await this.partialUpdateMember(dn,{set:{pinned:!0}})).channel_member}async unpin(sn={}){const un=this.getClient(),dn=sn.user_id||un.userID;if(!dn)throw new Error("A user_id is required for unpinning a channel");return(await this.partialUpdateMember(dn,{set:{pinned:!1}})).channel_member}muteStatus(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}sendAction(sn,un){if(this._checkInitialized(),!sn)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+`/messages/${encodeURIComponent(sn)}/action`,{message_id:sn,form_data:un,id:this.id,type:this.type})}async keystroke(sn,un){if(!this._isTypingIndicatorsEnabled())return;const dn=new Date,pn=this.lastTypingEvent&&dn.getTime()-this.lastTypingEvent.getTime();this.lastKeyStroke=dn,this.isTyping=!0,(pn===null||pn>2e3)&&(this.lastTypingEvent=new Date,await this.sendEvent({type:"typing.start",parent_id:sn,...un||{}}))}async updateAIState(sn,un,dn={}){await this.sendEvent({...dn,type:"ai_indicator.update",message_id:sn,ai_state:un})}async clearAIIndicator(){await this.sendEvent({type:"ai_indicator.clear"})}async stopAIResponse(){await this.sendEvent({type:"ai_indicator.stop"})}async stopTyping(sn,un){this._isTypingIndicatorsEnabled()&&(this.lastTypingEvent=null,this.isTyping=!1,await this.sendEvent({type:"typing.stop",parent_id:sn,...un||{}}))}_isTypingIndicatorsEnabled(){var sn,un,dn,pn,mn;return!((sn=this.getConfig())!=null&&sn.typing_events)||!((un=this.getClient().wsConnection)!=null&&un.isHealthy)?!1:((mn=(pn=(dn=this.getClient().user)==null?void 0:dn.privacy_settings)==null?void 0:pn.typing_indicators)==null?void 0:mn.enabled)??!0}lastMessage(){let sn=this.state.latestMessages.length-5;sn<0&&(sn=0);const un=this.state.latestMessages.length+1,dn=this.state.latestMessages.slice(sn,un);return dn.sort((pn,mn)=>mn.created_at.getTime()-pn.created_at.getTime()),dn[0]}async markRead(sn={}){var un;return this._checkInitialized(),!((un=this.getConfig())!=null&&un.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/read",{...sn})}async markUnread(sn){var un;return this._checkInitialized(),!((un=this.getConfig())!=null&&un.read_events)&&!this.getClient()._isUsingServerAuth()?Promise.resolve(null):await this.getClient().post(this._channelURL()+"/unread",{...sn})}clean(){this.lastKeyStroke&&new Date().getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&logChatPromiseExecution(this.stopTyping(),"stop typing event"),this.state.clean()}async watch(sn){const un={state:!0,watch:!0,presence:!1};await this.getClient().wsPromise,this.getClient()._hasConnectionID()||(un.watch=!1);const dn={...un,...sn},pn=await this.query(dn,"latest");return this.initialized=!0,this.data=pn.channel,this._client.logger("info",`channel:watch() - started watching channel ${this.cid}`,{tags:["channel"],channel:this}),pn}async stopWatching(){const sn=await this.getClient().post(this._channelURL()+"/stop-watching",{});return this._client.logger("info",`channel:watch() - stopped watching channel ${this.cid}`,{tags:["channel"],channel:this}),sn}async getReplies(sn,un,dn){const pn=dn?normalizeQuerySort(dn):void 0,mn=await this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(sn)}/replies`,{sort:pn,...un});return mn.messages&&this.state.addMessagesSorted(mn.messages),mn}async getPinnedMessages(sn,un=[]){return await this.getClient().get(this._channelURL()+"/pinned_messages",{payload:{...sn,sort:normalizeQuerySort(un)}})}getReactions(sn,un){return this.getClient().get(this.getClient().baseURL+`/messages/${encodeURIComponent(sn)}/reactions`,{...un})}getMessagesById(sn){return this.getClient().get(this._channelURL()+"/messages",{ids:sn.join(",")})}lastRead(){const{userID:sn}=this.getClient();if(sn)return this.state.read[sn]?this.state.read[sn].last_read:null}_countMessageAsUnread(sn){var un,dn,pn,mn;return!(sn.shadowed||sn.silent||sn.parent_id&&!sn.show_in_channel||((un=sn.user)==null?void 0:un.id)===this.getClient().userID||(dn=sn.user)!=null&&dn.id&&this.getClient().userMuteStatus(sn.user.id)||Array.isArray((pn=this.data)==null?void 0:pn.own_capabilities)&&!((mn=this.data)!=null&&mn.own_capabilities.includes("read-events"))||this.muteStatus().muted)}countUnread(sn){if(!sn)return this.state.unreadCount;let un=0;for(let dn=0;dn<this.state.latestMessages.length;dn+=1){const pn=this.state.latestMessages[dn];pn.created_at>sn&&this._countMessageAsUnread(pn)&&un++}return un}countUnreadMentions(){var pn;const sn=this.lastRead(),un=this.getClient().userID;let dn=0;for(let mn=0;mn<this.state.latestMessages.length;mn+=1){const hn=this.state.latestMessages[mn];this._countMessageAsUnread(hn)&&(!sn||hn.created_at>sn)&&((pn=hn.mentioned_users)!=null&&pn.some(fn=>fn.id===un))&&dn++}return dn}async query(sn={},un="current"){var gn,xn,yn,vn,En,bn,wn;await this.getClient().wsPromise;const dn=((gn=sn.created_by)==null?void 0:gn.id)??sn.created_by_id??((yn=(xn=this._data)==null?void 0:xn.created_by)==null?void 0:yn.id)??((vn=this._data)==null?void 0:vn.created_by_id);this.getClient()._isUsingServerAuth()&&typeof dn!="string"&&this.getClient().logger("warn","Either `created_by` (with `id` property) or `created_by_id` are missing from both `Channel._data` and `options` parameter");let pn=`${this.getClient().baseURL}/channels/${encodeURIComponent(this.type)}`;this.id&&(pn+=`/${encodeURIComponent(this.id)}`);const mn=await this.getClient().post(pn+"/query",{data:this._data,state:!0,...sn});if(!this.id){this.id=mn.channel.id,this.cid=mn.channel.cid;const Sn=generateChannelTempCid$1(this.type,mn.members.map(Rn=>{var _n;return Rn.user_id||((_n=Rn.user)==null?void 0:_n.id)||""}));Sn&&Sn in this.getClient().activeChannels&&delete this.getClient().activeChannels[Sn],!(this.cid in this.getClient().activeChannels)&&this.getClient()._cacheEnabled()&&(this.getClient().activeChannels[this.cid]=this)}this.getClient()._addChannelConfig(mn.channel);const{messageSet:hn}=this._initializeState(mn,un);hn.pagination={...hn.pagination,...messageSetPagination({parentSet:hn,messagePaginationOptions:sn==null?void 0:sn.messages,requestedPageSize:((En=sn==null?void 0:sn.messages)==null?void 0:En.limit)??DEFAULT_QUERY_CHANNEL_MESSAGE_LIST_PAGE_SIZE,returnedPage:mn.messages,logger:this.getClient().logger})},this.getClient().polls.hydratePollCache(mn.messages,!0),this.getClient().reminders.hydrateState(mn.messages),this.messageComposer.initStateFromChannelResponse(mn);const fn=[...mn.channel.own_capabilities||[]].sort().join()!==[...this.data&&Array.isArray((bn=this.data)==null?void 0:bn.own_capabilities)?this.data.own_capabilities:[]].sort().join();return this.data=mn.channel,this.offlineMode=!1,fn&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:mn.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[mn],isLatestMessageSet:hn.isLatest}}),(wn=this.getClient().offlineDb)==null||wn.executeQuerySafely(Sn=>{var Rn;return(Rn=Sn.upsertChannels)==null?void 0:Rn.call(Sn,{channels:[mn],isLatestMessagesSet:hn.isLatest})},{method:"upsertChannels"}),mn}async banUser(sn,un){return this._checkInitialized(),await this.getClient().banUser(sn,{...un,type:this.type,id:this.id})}async hide(sn=null,un=!1){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/hide`,{user_id:sn,clear_history:un})}async show(sn=null){return this._checkInitialized(),await this.getClient().post(`${this._channelURL()}/show`,{user_id:sn})}async unbanUser(sn){return this._checkInitialized(),await this.getClient().unbanUser(sn,{type:this.type,id:this.id})}async shadowBan(sn,un){return this._checkInitialized(),await this.getClient().shadowBan(sn,{...un,type:this.type,id:this.id})}async removeShadowBan(sn){return this._checkInitialized(),await this.getClient().removeShadowBan(sn,{type:this.type,id:this.id})}async vote(sn,un,dn){return await this.getClient().castPollVote(sn,un,dn)}async removeVote(sn,un,dn){return await this.getClient().removePollVote(sn,un,dn)}async _createDraft(sn){return await this.getClient().post(this._channelURL()+"/draft",{message:sn})}async createDraft(sn){try{const un=this.getClient().offlineDb;if(un)return await un.queueTask({task:{channelId:this.id,channelType:this.type,threadId:sn.parent_id,payload:[sn],type:"create-draft"}})}catch(un){this._client.logger("error","offlineDb:create-draft",{tags:["channel","offlineDb"],error:un})}return this._createDraft(sn)}async _deleteDraft({parent_id:sn}={}){return await this.getClient().delete(this._channelURL()+"/draft",{parent_id:sn})}async deleteDraft(sn={}){const{parent_id:un}=sn;try{const dn=this.getClient().offlineDb;if(dn)return await dn.queueTask({task:{channelId:this.id,channelType:this.type,threadId:un,payload:[sn],type:"delete-draft"}})}catch(dn){this._client.logger("error","offlineDb:delete-draft",{tags:["channel","offlineDb"],error:dn})}return this._deleteDraft(sn)}async getDraft({parent_id:sn}={}){return await this.getClient().get(this._channelURL()+"/draft",{parent_id:sn})}on(sn,un){const dn=un?sn:"all",pn=un||sn;return dn in this.listeners||(this.listeners[dn]=[]),this._client.logger("info",`Attaching listener for ${dn} event on channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[dn].push(pn),{unsubscribe:()=>{this._client.logger("info",`Removing listener for ${dn} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[dn]=this.listeners[dn].filter(mn=>mn!==pn)}}}off(sn,un){const dn=un?sn:"all",pn=un||sn;dn in this.listeners||(this.listeners[dn]=[]),this._client.logger("info",`Removing listener for ${dn} event from channel ${this.cid}`,{tags:["event","channel"],channel:this}),this.listeners[dn]=this.listeners[dn].filter(mn=>mn!==pn)}_handleChannelEvent(sn){var pn,mn,hn,fn,gn,xn,yn,vn,En,bn,wn,Sn,Rn,_n,jn,Cn,An,Tn,$n,Dn,Nn,kn,Pn,Mn,On,Wn,In,Un;const un=this;this._client.logger("info",`channel:_handleChannelEvent - Received event of type { ${sn.type} } on ${this.cid}`,{tags:["event","channel"],channel:this});const dn=un.state;switch(sn.type){case"typing.start":(pn=sn.user)!=null&&pn.id&&(dn.typing[sn.user.id]=sn);break;case"typing.stop":(mn=sn.user)!=null&&mn.id&&delete dn.typing[sn.user.id];break;case"message.read":(hn=sn.user)!=null&&hn.id&&sn.created_at&&(dn.read[sn.user.id]={last_read:new Date(sn.created_at),last_read_message_id:sn.last_read_message_id,user:sn.user,unread_messages:0},((fn=sn.user)==null?void 0:fn.id)===((gn=this.getClient().user)==null?void 0:gn.id)&&(dn.unreadCount=0));break;case"user.watching.start":case"user.updated":(xn=sn.user)!=null&&xn.id&&(dn.watchers[sn.user.id]=sn.user);break;case"user.watching.stop":(yn=sn.user)!=null&&yn.id&&delete dn.watchers[sn.user.id];break;case"message.deleted":sn.message&&(this._extendEventWithOwnReactions(sn),sn.hard_delete?dn.removeMessage(sn.message):dn.addMessageSorted(sn.message,!1,!1),dn.removeQuotedMessageReferences(sn.message),sn.message.pinned&&dn.removePinnedMessage(sn.message));break;case"message.new":if(sn.message){const Vn=((vn=sn.user)==null?void 0:vn.id)===((En=this.getClient().user)==null?void 0:En.id),Hn=sn.message.parent_id&&!sn.message.show_in_channel;if((this.state.isUpToDate||Hn)&&dn.addMessageSorted(sn.message,Vn),sn.message.pinned&&dn.addPinnedMessage(sn.message),Vn||Hn)break;if((bn=sn.user)!=null&&bn.id)for(const zn in dn.read)zn===sn.user.id?dn.read[sn.user.id]={last_read:new Date(sn.created_at),user:sn.user,unread_messages:0}:dn.read[zn].unread_messages+=1;this._countMessageAsUnread(sn.message)&&(dn.unreadCount=dn.unreadCount+1)}break;case"message.updated":case"message.undeleted":sn.message&&(this._extendEventWithOwnReactions(sn),dn.addMessageSorted(sn.message,!1,!1),dn._updateQuotedMessageReferences({message:sn.message}),sn.message.pinned?dn.addPinnedMessage(sn.message):dn.removePinnedMessage(sn.message));break;case"channel.truncated":if((wn=sn.channel)!=null&&wn.truncated_at){const Vn=+new Date(sn.channel.truncated_at);dn.messageSets.forEach((Hn,Ln)=>{Hn.messages.forEach(({created_at:zn,id:Bn})=>{Vn>+zn&&dn.removeMessage({id:Bn,messageSetIndex:Ln})})}),dn.pinnedMessages.forEach(({id:Hn,created_at:Ln})=>{Vn>+Ln&&dn.removePinnedMessage({id:Hn})}),dn.unreadCount=this.countUnread(new Date(sn.channel.truncated_at))}else dn.clearMessages(),dn.unreadCount=0;sn.message&&(dn.addMessageSorted(sn.message),sn.message.pinned&&dn.addPinnedMessage(sn.message));break;case"member.added":case"member.updated":{const Vn={...sn.member};Vn.pinned_at===null&&delete Vn.pinned_at,Vn.archived_at===null&&delete Vn.archived_at,Vn!=null&&Vn.user&&(dn.members={...dn.members,[Vn.user.id]:Vn},(Sn=un.data)!=null&&Sn.member_count&&sn.type==="member.added"&&(un.data.member_count+=1));const Hn=this.getClient().userID;typeof Hn=="string"&&typeof((Rn=Vn==null?void 0:Vn.user)==null?void 0:Rn.id)=="string"&&Vn.user.id===Hn&&(dn.membership=Vn);break}case"member.removed":if((_n=sn.user)!=null&&_n.id){const Vn={...dn.members};delete Vn[sn.user.id],dn.members=Vn,(jn=un.data)!=null&&jn.member_count&&(un.data.member_count=Math.max(un.data.member_count-1,0))}break;case"notification.mark_unread":{if(!(((Cn=sn.user)==null?void 0:Cn.id)===((An=this.getClient().user)==null?void 0:An.id)&&sn.user))break;const Hn=sn.unread_messages??0;dn.read[sn.user.id]={first_unread_message_id:sn.first_unread_message_id,last_read:new Date(sn.last_read_at),last_read_message_id:sn.last_read_message_id,user:sn.user,unread_messages:Hn},dn.unreadCount=Hn;break}case"channel.updated":if(sn.channel){((Tn=sn.channel)==null?void 0:Tn.frozen)!==void 0&&sn.channel.frozen!==(($n=un.data)==null?void 0:$n.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}});const Hn={...sn.channel,hidden:((Dn=sn.channel)==null?void 0:Dn.hidden)??((Nn=un.data)==null?void 0:Nn.hidden),own_capabilities:((kn=sn.channel)==null?void 0:kn.own_capabilities)??((Pn=un.data)==null?void 0:Pn.own_capabilities)};un.data=Hn}break;case"reaction.new":if(sn.message&&sn.reaction){const{message:Vn,reaction:Hn}=sn;sn.message=dn.addReaction(Hn,Vn)}break;case"reaction.deleted":if(sn.message&&sn.reaction){const{message:Vn,reaction:Hn}=sn;sn.message=dn.removeReaction(Hn,Vn)}break;case"reaction.updated":if(sn.message&&sn.reaction){const{message:Vn,reaction:Hn}=sn;sn.message=dn.addReaction(Hn,Vn,!0)}break;case"channel.hidden":un.data={...un.data,hidden:!0},sn.clear_history&&dn.clearMessages();break;case"channel.visible":un.data={...un.data,hidden:!1},(Mn=this.getClient().offlineDb)==null||Mn.handleChannelVisibilityEvent({event:sn});break;case"user.banned":if(!((On=sn.user)!=null&&On.id))break;dn.members[sn.user.id]={...dn.members[sn.user.id]||{},shadow_banned:!!sn.shadow,banned:!sn.shadow,user:{...((Wn=dn.members[sn.user.id])==null?void 0:Wn.user)||{},...sn.user}};break;case"user.unbanned":if(!((In=sn.user)!=null&&In.id))break;dn.members[sn.user.id]={...dn.members[sn.user.id]||{},shadow_banned:!1,banned:!1,user:{...((Un=dn.members[sn.user.id])==null?void 0:Un.user)||{},...sn.user}};break}sn.watcher_count!==void 0&&(un.state.watcher_count=sn.watcher_count)}_checkInitialized(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error(`Channel ${this.cid} hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve`)}_initializeState(sn,un="latest"){const{state:dn,user:pn,userID:mn}=this.getClient();if(sn.members){this._hydrateMembers({members:sn.members});for(const gn of sn.members)gn.user&&dn.updateUserReference(gn.user,this.cid)}this.state.membership=sn.membership||{};const hn=sn.messages||[];this.state.messages||this.state.initMessages();const{messageSet:fn}=this.state.addMessagesSorted(hn,!1,!0,!0,un);if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(sn.pinned_messages||[]),sn.pending_messages&&(this.state.pending_messages=sn.pending_messages),sn.watcher_count!==void 0&&(this.state.watcher_count=sn.watcher_count),sn.watchers)for(const gn of sn.watchers)gn&&(dn.updateUserReference(gn,this.cid),this.state.watchers[gn.id]=gn);if(mn!=null){const gn=this.state.last_message_at||new Date;pn&&(this.state.read[pn.id]={user:pn,last_read:gn,unread_messages:0})}if(sn.read)for(const gn of sn.read)this.state.read[gn.user.id]={last_read:new Date(gn.last_read),last_read_message_id:gn.last_read_message_id,unread_messages:gn.unread_messages??0,user:gn.user},gn.user.id===(pn==null?void 0:pn.id)&&(this.state.unreadCount=this.state.read[gn.user.id].unread_messages);return{messageSet:fn}}_extendEventWithOwnReactions(sn){if(!sn.message)return;const un=this.state.findMessage(sn.message.id,sn.message.parent_id);un&&(sn.message.own_reactions=un.own_reactions)}_hydrateMembers({members:sn,overrideCurrentState:un=!0}){const dn=sn.reduce((pn,mn)=>(mn.user&&(pn[mn.user.id]=mn),pn),{});un?this.state.members=dn:!un&&sn.length&&(this.state.members={...this.state.members,...dn})}_disconnect(){this._client.logger("info",`channel:disconnect() - Disconnecting the channel ${this.cid}`,{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}},ClientState=class{constructor({client:tn}){this.client=tn,this.users={},this.userChannelReferences={}}updateUsers(tn){for(const sn of tn)this.updateUser(sn)}updateUser(tn){tn!=null&&this.client._cacheEnabled()&&(this.users[tn.id]=tn)}updateUserReference(tn,sn){tn==null||!this.client._cacheEnabled()||(this.updateUser(tn),this.userChannelReferences[tn.id]||(this.userChannelReferences[tn.id]={}),this.userChannelReferences[tn.id][sn]=!0)}deleteAllChannelReference(tn){for(const sn in this.userChannelReferences)delete this.userChannelReferences[sn][tn]}},ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global<"u"?ws=global.WebSocket||global.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser_default2=ws,InsightMetrics=class{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=randomId()}},postInsights=async(tn,sn)=>{for(let dn=0;dn<3;dn++){try{await axios_default.post(`https://chat-insights.getstream.io/insights/${tn}`,sn)}catch{await sleep((dn+1)*3e3);continue}break}};function buildWsFatalInsight(tn,sn){return{...sn,...buildWsBaseInsight(tn)}}function buildWsBaseInsight(tn){var un;const{client:sn}=tn;return{ready_state:(un=tn.ws)==null?void 0:un.readyState,url:tn._buildUrl(),api_key:sn.key,start_ts:sn.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:sn.getAuthType(),token:sn.tokenManager.token,user_id:sn.userID,user_details:sn._user,device:sn.options.device,client_id:tn.connectionID,ws_details:tn.ws,ws_consecutive_failures:sn.insightMetrics.wsConsecutiveFailures,ws_total_failures:sn.insightMetrics.wsTotalFailures,request_id:tn.requestID,online:typeof navigator<"u"?navigator==null?void 0:navigator.onLine:null,user_agent:typeof navigator<"u"?navigator==null?void 0:navigator.userAgent:null,instance_client_id:sn.insightMetrics.instanceClientId}}function buildWsSuccessAfterFailureInsight(tn){return buildWsBaseInsight(tn)}var isCloseEvent=tn=>tn.code!==void 0,isErrorEvent=tn=>tn.error!==void 0,StableWSConnection=class{constructor({client:tn}){this._buildUrl=()=>{const sn=this.client._buildWSPayload(this.requestID),un=this.client.tokenManager.getToken(),dn=this.client.options.wsUrlParams,pn=new URLSearchParams(dn);return pn.set("json",sn),pn.set("api_key",this.client.key),pn.set("authorization",`${un}`),pn.set("stream-auth-type",this.client.getAuthType()),pn.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${pn.toString()}`},this.onlineStatusChanged=sn=>{sn.type==="offline"?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1)):sn.type==="online"&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=sn=>{this.wsID===sn&&this._log("onopen() - onopen callback",{wsID:sn})},this.onmessage=(sn,un)=>{var pn,mn;if(this.wsID!==sn)return;this._log("onmessage() - onmessage callback",{event:un,wsID:sn});const dn=typeof un.data=="string"?JSON.parse(un.data):null;if(!this.isResolved&&dn){if(this.isResolved=!0,dn.error){(pn=this.rejectPromise)==null||pn.call(this,this._errorFromWSEvent(dn,!1));return}(mn=this.resolvePromise)==null||mn.call(this,dn),this._setHealth(!0)}this.lastEvent=new Date,dn&&dn.type==="health.check"&&this.scheduleNextPing(),this.client.handleEvent(un),this.scheduleConnectionCheck()},this.onclose=(sn,un)=>{var dn,pn;if(this.wsID===sn)if(this._log("onclose() - onclose callback - "+un.code,{event:un,wsID:sn}),un.code===chatCodes.WS_CLOSED_SUCCESS){const mn=new Error(`WS connection reject with error ${un.reason}`);mn.reason=un.reason,mn.code=un.code,mn.wasClean=un.wasClean,mn.target=un.target,(dn=this.rejectPromise)==null||dn.call(this,mn),this._log(`onclose() - WS connection reject with error ${un.reason}`,{event:un})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(pn=this.rejectPromise)==null||pn.call(this,this._errorFromWSEvent(un)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:un}),this._reconnect()},this.onerror=(sn,un)=>{var dn;this.wsID===sn&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,(dn=this.rejectPromise)==null||dn.call(this,this._errorFromWSEvent(un)),this._log("onerror() - WS connection resulted into error",{event:un}),this._reconnect())},this._setHealth=sn=>{if(sn!==this.isHealthy){if(this.isHealthy=sn,this.isHealthy){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(sn,un=!0)=>{let dn,pn,mn;isCloseEvent(sn)&&(dn=sn.code,pn="unknown",mn=sn.reason),isErrorEvent(sn)&&(dn=sn.error.code,pn=sn.error.StatusCode,mn=sn.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${dn}`,{event:sn},"warn");const hn=new Error(`WS failed with code ${dn} and reason - ${mn}`);return hn.code=dn,hn.StatusCode=pn,hn.isWSFailure=un,hn},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((sn,un)=>{this.resolvePromise=sn,this.rejectPromise=un})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{var un;const sn=[{type:"health.check",client_id:this.client.clientID}];try{(un=this.ws)==null||un.send(JSON.stringify(sn))}catch{}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{const sn=new Date;this.lastEvent&&sn.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=tn,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25*1e3,this.connectionCheckTimeout=this.pingInterval+10*1e3,addConnectionEventListeners(this.onlineStatusChanged)}_log(tn,sn={},un="info"){this.client.logger(un,"connection:"+tn,{tags:["connection"],...sn})}setClient(tn){this.client=tn}async connect(tn=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const sn=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${sn}`)}catch(sn){this.isHealthy=!1,this.consecutiveFailures+=1;const un=sn;if(un.code===chatCodes.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});else if(!un.isWSFailure)throw new Error(JSON.stringify({code:un.code,StatusCode:un.StatusCode,message:un.message,isWSFailure:un.isWSFailure}))}return await this._waitForHealthy(tn)}_waitForHealthy(tn=15e3){return Promise.race([(async()=>{for(let un=0;un<=tn;un+=50)try{return await this.connectionOpen}catch(dn){if(un===tn)throw new Error(JSON.stringify({code:dn.code,StatusCode:dn.StatusCode,message:dn.message,isWSFailure:dn.isWSFailure}));await sleep(50)}})(),(async()=>{throw await sleep(tn),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(tn){this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),removeConnectionEventListeners(this.onlineStatusChanged),this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let sn;const{ws:un}=this;return un&&un.close&&un.readyState===un.OPEN?(sn=new Promise(dn=>{const pn=mn=>{this._log(`disconnect() - resolving isClosedPromise ${mn?"with":"without"} close frame`,{event:mn}),dn()};un.onclose=pn,setTimeout(pn,tn??1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),un.close(chatCodes.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),sn=Promise.resolve()),delete this.ws,sn}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=randomId(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let tn=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),tn=!0}catch{}try{tn||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();const sn=this._buildUrl();this._log(`_connect() - Connecting to ${sn}`,{wsURL:sn,requestID:this.requestID}),this.ws=new browser_default2(sn),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const un=await this.connectionOpen;if(this.isConnecting=!1,un)return this.connectionID=un.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(postInsights("ws_success_after_failure",buildWsSuccessAfterFailureInsight(this)),this.client.insightMetrics.wsConsecutiveFailures=0),un}catch(sn){if(this.isConnecting=!1,this._log("_connect() - Error - ",sn),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;const un=buildWsFatalInsight(this,convertErrorToJson(sn));postInsights==null||postInsights("ws_fatal",un)}throw sn}}async _reconnect(tn={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let sn=tn.interval;if(sn||(sn=retryInterval(this.consecutiveFailures)),await sleep(sn),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),tn.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),await this.client.recoverState(),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(un){if(this.isHealthy=!1,this.consecutiveFailures+=1,un.code===chatCodes.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});un.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){var tn,sn;this.wsID+=1;try{(tn=this==null?void 0:this.ws)==null||tn.removeAllListeners(),(sn=this==null?void 0:this.ws)==null||sn.close()}catch{}}},import_jsonwebtoken=__toESM(require_jsonwebtoken()),import_crypto=__toESM(require_crypto());function JWTUserToken(tn,sn,un={},dn={}){if(typeof sn!="string")throw new TypeError("userId should be a string");const pn={user_id:sn,...un};if(import_jsonwebtoken.default==null||import_jsonwebtoken.default.sign==null)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");const mn=Object.assign({algorithm:"HS256",noTimestamp:!0},dn);return pn.iat&&(mn.noTimestamp=!1),import_jsonwebtoken.default.sign(pn,tn,mn)}function JWTServerToken(tn,sn={}){const un={server:!0},dn=Object.assign({algorithm:"HS256",noTimestamp:!0},sn);return import_jsonwebtoken.default.sign(un,tn,dn)}function UserFromToken(tn){const sn=tn.split(".");if(sn.length!==3)return"";const un=sn[1],dn=decodeBase64(un);return JSON.parse(dn).user_id}function DevToken(tn){return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",encodeBase64(JSON.stringify({user_id:tn})),"devtoken"].join(".")}function CheckSignature(tn,sn,un){const dn=Buffer.from(sn,"utf8"),pn=import_crypto.default.createHmac("sha256",dn).update(tn).digest("hex");try{return import_crypto.default.timingSafeEqual(Buffer.from(pn),Buffer.from(un))}catch{return!1}}var TokenManager=class{constructor(tn){this.setTokenOrProvider=async(sn,un)=>{this.validateToken(sn,un),this.user=un,isFunction2(sn)&&(this.tokenProvider=sn,this.type="provider"),typeof sn=="string"&&(this.token=sn,this.type="static"),!sn&&this.user&&this.secret&&(this.token=JWTUserToken(this.secret,un.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=(sn,un)=>{if(!(un&&un.anon&&!sn)){if(!this.secret&&!sn)throw new Error("User token can not be empty");if(sn&&typeof sn!="string"&&!isFunction2(sn))throw new Error("user token should either be a string or a function");if(typeof sn=="string"){if(un.anon&&sn==="")return;const dn=UserFromToken(sn);if(sn!=null&&(dn==null||dn===""||dn!==un.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(sn,un)=>{if(this.type==="static")return sn(this.token);if(this.tokenProvider&&typeof this.tokenProvider!="string"){try{this.token=await this.tokenProvider()}catch(dn){return un(new Error(`Call to tokenProvider failed with message: ${dn}`,{cause:dn}))}sn(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&this.user.anon&&!this.token)return this.token;if(this.secret)return JWTServerToken(this.secret);throw new Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>this.type==="static",this.loadTokenPromise=null,tn&&(this.secret=tn),this.type="static",this.secret&&(this.token=JWTServerToken(this.secret))}},APIErrorCodes={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function isAPIError(tn){return tn.code!==void 0}function isErrorRetryable(tn){if(!tn.code)return!1;const sn=APIErrorCodes[`${tn.code}`];return sn?sn.retryable:!1}function isConnectionIDError(tn){return tn.code===46}function isWSFailure(tn){if(typeof tn.isWSFailure=="boolean")return tn.isWSFailure;try{return JSON.parse(tn.message).isWSFailure}catch{return!1}}function isErrorResponse(tn){return!tn.status||tn.status<200||300<=tn.status}var WSConnectionFallback=class{constructor({client:tn}){this._onlineStatusChanged=sn=>{var un;if(this._log(`_onlineStatusChanged() - ${sn.type}`),sn.type==="offline"){this._setState("CLOSED"),(un=this.cancelToken)==null||un.cancel("disconnect() is called"),this.cancelToken=void 0;return}sn.type==="online"&&this.state==="CLOSED"&&this.connect(!0)},this._req=async(sn,un,dn)=>{var pn;!this.cancelToken&&!sn.close&&(this.cancelToken=axios_default.CancelToken.source());try{const mn=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...un,cancelToken:(pn=this.cancelToken)==null?void 0:pn.token},params:sn});return this.consecutiveFailures=0,mn}catch(mn){if(this.consecutiveFailures+=1,dn&&isErrorRetryable(mn))return this._log("_req() - Retryable error, retrying request"),await sleep(retryInterval(this.consecutiveFailures)),this._req(sn,un,dn);throw mn}},this._poll=async()=>{var sn;for(;this.state==="CONNECTED";)try{const un=await this._req({},{timeout:3e4},!0);if((sn=un.events)!=null&&sn.length)for(let dn=0;dn<un.events.length;dn++)this.client.dispatchEvent(un.events[dn])}catch(un){if(axios_default.isCancel(un)){this._log("_poll() - axios canceled request");return}if(isConnectionIDError(un)){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState("DISCONNECTED"),this.connect(!0);return}if(isAPIError(un)&&!isErrorRetryable(un)){this._setState("CLOSED");return}await sleep(retryInterval(this.consecutiveFailures))}},this.connect=async(sn=!1)=>{if(this.state==="CONNECTING"){this._log("connect() - connecting already in progress",{reconnect:sn},"warn");return}if(this.state==="CONNECTED"){this._log("connect() - already connected and polling",{reconnect:sn},"warn");return}this._setState("CONNECTING"),this.connectionID=void 0;try{const{event:un}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},sn);return this._setState("CONNECTED"),this.connectionID=un.connection_id,this.client.dispatchEvent(un),this._poll(),sn&&this.client.recoverState(),un}catch(un){throw this._setState("CLOSED"),un}},this.isHealthy=()=>!!this.connectionID&&this.state==="CONNECTED",this.disconnect=async(sn=2e3)=>{var dn;removeConnectionEventListeners(this._onlineStatusChanged),this._setState("DISCONNECTED"),(dn=this.cancelToken)==null||dn.cancel("disconnect() is called"),this.cancelToken=void 0;const un=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:un},{timeout:sn},!1),this._log("disconnect() - Closed connectionID")}catch(pn){this._log("disconnect() - Failed",{err:pn},"error")}},this.client=tn,this.state="INIT",this.consecutiveFailures=0,addConnectionEventListeners(this._onlineStatusChanged)}_log(tn,sn={},un="info"){this.client.logger(un,"WSConnectionFallback:"+tn,{tags:["connection_fallback","connection"],...sn})}_setState(tn){this._log(`_setState() - ${tn}`),this.state==="CONNECTING"&&tn==="CONNECTED"&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(tn==="CLOSED"||tn==="DISCONNECTED")&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=tn}},Segment=class{constructor(tn,sn,un,dn){this.client=tn,this.type=sn,this.id=un,this.data=dn}create(){var sn,un,dn,pn,mn;const tn={name:(sn=this.data)==null?void 0:sn.name,filter:(un=this.data)==null?void 0:un.filter,description:(dn=this.data)==null?void 0:dn.description,all_sender_channels:(pn=this.data)==null?void 0:pn.all_sender_channels,all_users:(mn=this.data)==null?void 0:mn.all_users};return this.client.createSegment(this.type,this.id,tn)}verifySegmentId(){if(!this.id)throw new Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}get(){return this.verifySegmentId(),this.client.getSegment(this.id)}update(tn){return this.verifySegmentId(),this.client.updateSegment(this.id,tn)}addTargets(tn){return this.verifySegmentId(),this.client.addSegmentTargets(this.id,tn)}removeTargets(tn){return this.verifySegmentId(),this.client.removeSegmentTargets(this.id,tn)}delete(){return this.verifySegmentId(),this.client.deleteSegment(this.id)}targetExists(tn){return this.verifySegmentId(),this.client.segmentTargetExists(this.id,tn)}queryTargets(tn={},sn=[],un={}){return this.verifySegmentId(),this.client.querySegmentTargets(this.id,tn,sn,un)}},MODERATION_ENTITY_TYPES={user:"stream:user",message:"stream:chat:v1:message",userprofile:"stream:v1:user_profile"},Moderation=class{constructor(tn){this.client=tn}flagUser(tn,sn,un={}){return this.flag(MODERATION_ENTITY_TYPES.user,tn,"",sn,un)}flagMessage(tn,sn,un={}){return this.flag(MODERATION_ENTITY_TYPES.message,tn,"",sn,un)}async flag(tn,sn,un,dn,pn={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/flag",{entity_type:tn,entity_id:sn,entity_creator_id:un,reason:dn,...pn})}async muteUser(tn,sn={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/mute",{target_ids:[tn],...sn})}async unmuteUser(tn,sn){return await this.client.post(this.client.baseURL+"/api/v2/moderation/unmute",{target_ids:[tn],...sn})}async getUserModerationReport(tn,sn={}){return await this.client.get(this.client.baseURL+"/api/v2/moderation/user_report",{user_id:tn,...sn})}async queryReviewQueue(tn={},sn=[],un={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/review_queue",{filter:tn,sort:normalizeQuerySort(sn),...un})}async upsertConfig(tn){return await this.client.post(this.client.baseURL+"/api/v2/moderation/config",tn)}async getConfig(tn,sn){return await this.client.get(this.client.baseURL+"/api/v2/moderation/config/"+tn,sn)}async deleteConfig(tn,sn){return await this.client.delete(this.client.baseURL+"/api/v2/moderation/config/"+tn,sn)}async queryConfigs(tn,sn,un={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/configs",{filter:tn,sort:sn,...un})}async submitAction(tn,sn,un={}){return await this.client.post(this.client.baseURL+"/api/v2/moderation/submit_action",{action_type:tn,item_id:sn,...un})}async check(tn,sn,un,dn,pn,mn){return await this.client.post(this.client.baseURL+"/api/v2/moderation/check",{entity_type:tn,entity_id:sn,entity_creator_id:un,moderation_payload:dn,config_key:pn,options:mn})}async checkUserProfile(tn,sn){if(!sn.username&&!sn.image)throw new Error("Either username or image must be provided");const un={};return sn.username&&(un.texts=[sn.username]),sn.image&&(un.images=[sn.image]),await this.check(MODERATION_ENTITY_TYPES.userprofile,tn,tn,un,"user_profile:default",{force_sync:!0,test_mode:!0})}async addCustomFlags(tn,sn,un,dn,pn){return await this.client.post(this.client.baseURL+"/api/v2/moderation/custom_check",{entity_type:tn,entity_id:sn,entity_creator_id:un,moderation_payload:dn,flags:pn})}async addCustomMessageFlags(tn,sn){return await this.addCustomFlags(MODERATION_ENTITY_TYPES.message,tn,"",{},sn)}},DEFAULT_CONNECTION_RECOVERY_THROTTLE_DURATION=1e3,MAX_QUERY_THREADS_LIMIT=25,THREAD_MANAGER_INITIAL_STATE={active:!1,isThreadOrderStale:!1,threads:[],unreadThreadCount:0,unseenThreadIds:[],lastConnectionDropAt:null,pagination:{isLoading:!1,isLoadingNext:!1,nextCursor:null},ready:!1},ThreadManager=class extends WithSubscriptions{constructor({client:tn}){super(),this.resetState=()=>{this.state.next(THREAD_MANAGER_INITIAL_STATE)},this.activate=()=>{this.state.partialNext({active:!0})},this.deactivate=()=>{this.state.partialNext({active:!1})},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeUnreadThreadsCountChange()),this.addUnsubscribeFunction(this.subscribeManageThreadSubscriptions()),this.addUnsubscribeFunction(this.subscribeReloadOnActivation()),this.addUnsubscribeFunction(this.subscribeNewReplies()),this.addUnsubscribeFunction(this.subscribeRecoverAfterConnectionDrop()),this.addUnsubscribeFunction(this.subscribeChannelDeleted()))},this.subscribeUnreadThreadsCountChange=()=>{const{unread_threads:sn=0}=this.client.user??{};this.state.partialNext({unreadThreadCount:sn});const un=["health.check","notification.mark_read","notification.thread_message_new","notification.channel_deleted"].map(dn=>this.client.on(dn,pn=>{const{unread_threads:mn}=pn.me??pn;typeof mn=="number"&&this.state.partialNext({unreadThreadCount:mn})}).unsubscribe);return()=>un.forEach(dn=>dn())},this.subscribeChannelDeleted=()=>this.client.on("notification.channel_deleted",sn=>{const{cid:un}=sn,{threads:dn}=this.state.getLatestValue(),pn=dn.filter(mn=>mn.channel.cid!==un);this.state.partialNext({threads:pn})}).unsubscribe,this.subscribeManageThreadSubscriptions=()=>this.state.subscribeWithSelector(sn=>({threads:sn.threads}),({threads:sn},un)=>{const{threads:dn=[]}=un??{},pn=dn.filter(mn=>mn!==this.threadsById[mn.id]);sn.forEach(mn=>mn.registerSubscriptions()),pn.forEach(mn=>mn.unregisterSubscriptions())}),this.subscribeReloadOnActivation=()=>this.state.subscribeWithSelector(sn=>({active:sn.active}),({active:sn})=>{sn&&this.reload()}),this.subscribeNewReplies=()=>this.client.on("notification.thread_message_new",sn=>{var mn;const un=(mn=sn.message)==null?void 0:mn.parent_id;if(!un)return;const{unseenThreadIds:dn,ready:pn}=this.state.getLatestValue();pn&&(this.threadsById[un]?this.state.partialNext({isThreadOrderStale:!0}):dn.includes(un)||this.state.partialNext({unseenThreadIds:dn.concat(un)}))}).unsubscribe,this.subscribeRecoverAfterConnectionDrop=()=>{const sn=this.client.on("connection.changed",pn=>{pn.online===!1&&this.state.next(mn=>mn.lastConnectionDropAt?mn:{...mn,lastConnectionDropAt:new Date})}).unsubscribe,un=throttle$2(()=>{const{lastConnectionDropAt:pn}=this.state.getLatestValue();pn&&this.reload({force:!0})},DEFAULT_CONNECTION_RECOVERY_THROTTLE_DURATION,{trailing:!0}),dn=this.client.on("connection.recovered",un).unsubscribe;return()=>{sn(),dn()}},this.unregisterSubscriptions=()=>(this.state.getLatestValue().threads.forEach(sn=>sn.unregisterSubscriptions()),super.unregisterSubscriptions()),this.reload=async({force:sn=!1}={})=>{const{threads:un,unseenThreadIds:dn,isThreadOrderStale:pn,pagination:mn,ready:hn}=this.state.getLatestValue();if(mn.isLoading||!sn&&hn&&!dn.length&&!pn)return;const fn=un.length+dn.length;try{this.state.next(yn=>({...yn,pagination:{...yn.pagination,isLoading:!0}}));const gn=await this.queryThreads({limit:Math.min(fn,MAX_QUERY_THREADS_LIMIT)||MAX_QUERY_THREADS_LIMIT}),xn=[];for(const yn of gn.threads){const vn=this.threadsById[yn.id];vn?(xn.push(vn),vn.hasStaleState&&vn.hydrateState(yn)):xn.push(yn)}this.state.next(yn=>({...yn,threads:xn,unseenThreadIds:[],isThreadOrderStale:!1,pagination:{...yn.pagination,isLoading:!1,nextCursor:gn.next??null},ready:!0}))}catch(gn){this.client.logger("error",gn.message),this.state.next(xn=>({...xn,pagination:{...xn.pagination,isLoading:!1}}))}},this.queryThreads=(sn={})=>this.client.queryThreads({limit:25,participant_limit:10,reply_limit:10,watch:!0,...sn}),this.loadNextPage=async(sn={})=>{const{pagination:un}=this.state.getLatestValue();if(!(un.isLoadingNext||!un.nextCursor))try{this.state.partialNext({pagination:{...un,isLoadingNext:!0}});const dn=await this.queryThreads({...sn,next:un.nextCursor});this.state.next(pn=>({...pn,threads:dn.threads.length?pn.threads.concat(dn.threads):pn.threads,pagination:{...pn.pagination,nextCursor:dn.next??null,isLoadingNext:!1}}))}catch(dn){this.client.logger("error",dn.message),this.state.next(pn=>({...pn,pagination:{...pn.pagination,isLoadingNext:!1}}))}},this.client=tn,this.state=new StateStore(THREAD_MANAGER_INITIAL_STATE),this.threadsByIdGetterCache={threads:[],threadsById:{}}}get threadsById(){const{threads:tn}=this.state.getLatestValue();if(tn===this.threadsByIdGetterCache.threads)return this.threadsByIdGetterCache.threadsById;const sn=tn.reduce((un,dn)=>(un[dn.id]=dn,un),{});return this.threadsByIdGetterCache.threads=tn,this.threadsByIdGetterCache.threadsById=sn,sn}},isPollUpdatedEvent=tn=>tn.type==="poll.updated",isPollClosedEventEvent=tn=>tn.type==="poll.closed",isPollVoteCastedEvent=tn=>tn.type==="poll.vote_casted",isPollVoteChangedEvent=tn=>tn.type==="poll.vote_changed",isPollVoteRemovedEvent=tn=>tn.type==="poll.vote_removed",isVoteAnswer=tn=>!!(tn!=null&&tn.answer_text),Poll$d=class{constructor({client:sn,poll:un}){this.getInitialStateFromPollResponse=dn=>{const{own_votes:pn,id:mn,...hn}=dn,{ownAnswer:fn,ownVotes:gn}=(pn==null?void 0:pn.reduce((xn,yn)=>(isVoteAnswer(yn)?xn.ownAnswer=yn:xn.ownVotes.push(yn),xn),{ownVotes:[]}))??{ownVotes:[]};return{...hn,lastActivityAt:new Date,maxVotedOptionIds:getMaxVotedOptionIds(hn.vote_counts_by_option),ownAnswer:fn,ownVotesByOptionId:getOwnVotesByOptionId(gn)}},this.upsertOfflineDb=()=>{var dn;(dn=this.client.offlineDb)==null||dn.executeQuerySafely(pn=>pn.upsertPoll({poll:mapPollStateToResponse(this)}),{method:"upsertPoll"})},this.reinitializeState=dn=>{this.state.partialNext(this.getInitialStateFromPollResponse(dn))},this.handlePollUpdated=dn=>{var hn;if((hn=dn.poll)!=null&&hn.id&&dn.poll.id!==this.id||!isPollUpdatedEvent(dn))return;const{id:pn,...mn}=extractPollData(dn.poll);this.state.partialNext({...mn,lastActivityAt:new Date(dn.created_at)}),this.upsertOfflineDb()},this.handlePollClosed=dn=>{var pn;(pn=dn.poll)!=null&&pn.id&&dn.poll.id!==this.id||isPollClosedEventEvent(dn)&&(this.state.partialNext({is_closed:!0,lastActivityAt:new Date(dn.created_at)}),this.upsertOfflineDb())},this.handleVoteCasted=dn=>{var vn;if((vn=dn.poll)!=null&&vn.id&&dn.poll.id!==this.id||!isPollVoteCastedEvent(dn))return;const pn=this.data,mn=dn.poll_vote.user_id===this.client.userID;let hn=[...pn.latest_answers],fn=pn.ownAnswer;const gn=pn.ownVotesByOptionId;let xn=pn.maxVotedOptionIds;mn&&(isVoteAnswer(dn.poll_vote)?fn=dn.poll_vote:dn.poll_vote.option_id&&(gn[dn.poll_vote.option_id]=dn.poll_vote)),isVoteAnswer(dn.poll_vote)?hn=[dn.poll_vote,...hn]:xn=getMaxVotedOptionIds(dn.poll.vote_counts_by_option);const yn=extractPollEnrichedData(dn.poll);this.state.partialNext({...yn,latest_answers:hn,lastActivityAt:new Date(dn.created_at),ownAnswer:fn,ownVotesByOptionId:gn,maxVotedOptionIds:xn}),this.upsertOfflineDb()},this.handleVoteChanged=dn=>{var vn;if((vn=dn.poll)!=null&&vn.id&&dn.poll.id!==this.id||!isPollVoteChangedEvent(dn))return;const pn=this.data,mn=dn.poll_vote.user_id===this.client.userID;let hn=[...pn.latest_answers],fn=pn.ownAnswer,gn=pn.ownVotesByOptionId,xn=pn.maxVotedOptionIds;mn?isVoteAnswer(dn.poll_vote)?(hn=[dn.poll_vote,...hn.filter(En=>En.id!==dn.poll_vote.id)],fn=dn.poll_vote):dn.poll_vote.option_id&&(dn.poll.enforce_unique_vote?gn={[dn.poll_vote.option_id]:dn.poll_vote}:(gn=Object.entries(gn).reduce((En,[bn,wn])=>(bn!==dn.poll_vote.option_id&&wn.id===dn.poll_vote.id||(En[bn]=wn),En),{}),gn[dn.poll_vote.option_id]=dn.poll_vote),(fn==null?void 0:fn.id)===dn.poll_vote.id&&(fn=void 0),xn=getMaxVotedOptionIds(dn.poll.vote_counts_by_option)):isVoteAnswer(dn.poll_vote)?hn=[dn.poll_vote,...hn]:xn=getMaxVotedOptionIds(dn.poll.vote_counts_by_option);const yn=extractPollEnrichedData(dn.poll);this.state.partialNext({...yn,latest_answers:hn,lastActivityAt:new Date(dn.created_at),ownAnswer:fn,ownVotesByOptionId:gn,maxVotedOptionIds:xn}),this.upsertOfflineDb()},this.handleVoteRemoved=dn=>{var vn;if((vn=dn.poll)!=null&&vn.id&&dn.poll.id!==this.id||!isPollVoteRemovedEvent(dn))return;const pn=this.data,mn=dn.poll_vote.user_id===this.client.userID;let hn=[...pn.latest_answers],fn=pn.ownAnswer;const gn={...pn.ownVotesByOptionId};let xn=pn.maxVotedOptionIds;isVoteAnswer(dn.poll_vote)?(hn=hn.filter(En=>En.id!==dn.poll_vote.id),mn&&(fn=void 0)):(xn=getMaxVotedOptionIds(dn.poll.vote_counts_by_option),mn&&dn.poll_vote.option_id&&delete gn[dn.poll_vote.option_id]);const yn=extractPollEnrichedData(dn.poll);this.state.partialNext({...yn,latest_answers:hn,lastActivityAt:new Date(dn.created_at),ownAnswer:fn,ownVotesByOptionId:gn,maxVotedOptionIds:xn}),this.upsertOfflineDb()},this.query=async dn=>{const{poll:pn}=await this.client.getPoll(dn);return this.state.partialNext({...pn,lastActivityAt:new Date}),pn},this.update=async dn=>await this.client.updatePoll({...dn,id:this.id}),this.partialUpdate=async dn=>await this.client.partialUpdatePoll(this.id,dn),this.close=async()=>await this.client.closePoll(this.id),this.delete=async()=>await this.client.deletePoll(this.id),this.createOption=async dn=>await this.client.createPollOption(this.id,dn),this.updateOption=async dn=>await this.client.updatePollOption(this.id,dn),this.deleteOption=async dn=>await this.client.deletePollOption(this.id,dn),this.castVote=async(dn,pn)=>{const{max_votes_allowed:mn,ownVotesByOptionId:hn}=this.data;if(mn&&mn===Object.keys(hn).length){let gn=Object.values(hn)[0];Object.values(hn).slice(1).forEach(xn=>{(!(gn!=null&&gn.created_at)||new Date(xn.created_at)<new Date(gn.created_at))&&(gn=xn)}),gn!=null&&gn.id&&await this.removeVote(gn.id,pn)}return await this.client.castPollVote(pn,this.id,{option_id:dn})},this.removeVote=async(dn,pn)=>await this.client.removePollVote(pn,this.id,dn),this.addAnswer=async(dn,pn)=>await this.client.addPollAnswer(pn,this.id,dn),this.removeAnswer=async(dn,pn)=>await this.client.removePollVote(pn,this.id,dn),this.queryAnswers=async dn=>await this.client.queryPollAnswers(this.id,dn.filter,dn.sort,dn.options),this.queryOptionVotes=async dn=>await this.client.queryPollVotes(this.id,dn.filter,dn.sort,dn.options),this.client=sn,this.id=un.id,this.state=new StateStore(this.getInitialStateFromPollResponse(un))}get data(){return this.state.getLatestValue()}};function getMaxVotedOptionIds(tn){let sn=0,un=[];for(const[dn,pn]of Object.entries(tn??{}))pn>sn?(un=[dn],sn=pn):pn===sn&&un.push(dn);return un}function getOwnVotesByOptionId(tn){return tn?tn.reduce((sn,un)=>(isVoteAnswer(un)||!un.option_id||(sn[un.option_id]=un),sn),{}):{}}function extractPollData(tn){return{allow_answers:tn.allow_answers,allow_user_suggested_options:tn.allow_user_suggested_options,description:tn.description,enforce_unique_vote:tn.enforce_unique_vote,id:tn.id,is_closed:tn.is_closed,max_votes_allowed:tn.max_votes_allowed,name:tn.name,options:tn.options,voting_visibility:tn.voting_visibility}}function mapPollStateToResponse(tn){const{lastActivityAt:sn,maxVotedOptionIds:un,ownVotesByOptionId:dn,ownAnswer:pn,...mn}=tn.data,hn=[...Object.values(dn),...pn?[pn]:[]].sort((fn,gn)=>Date.parse(fn.created_at)-Date.parse(gn.created_at));return{...mn,own_votes:hn,id:tn.id}}function extractPollEnrichedData(tn){return{answers_count:tn.answers_count,latest_votes_by_option:tn.latest_votes_by_option,vote_count:tn.vote_count,vote_counts_by_option:tn.vote_counts_by_option}}var PollManager=class extends WithSubscriptions{constructor({client:tn}){super(),this.pollCache=new Map,this.fromState=sn=>this.pollCache.get(sn),this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeMessageNew()),this.addUnsubscribeFunction(this.subscribePollUpdated()),this.addUnsubscribeFunction(this.subscribePollClosed()),this.addUnsubscribeFunction(this.subscribeVoteCasted()),this.addUnsubscribeFunction(this.subscribeVoteChanged()),this.addUnsubscribeFunction(this.subscribeVoteRemoved()))},this.createPoll=async sn=>{const{poll:un}=await this.client.createPoll(sn);return un.vote_counts_by_option||(un.vote_counts_by_option={}),this.setOrOverwriteInCache(un),this.fromState(un.id)},this.getPoll=async sn=>{const un=this.fromState(sn);if(un)return this.client.getPoll(sn).then(({poll:pn})=>this.setOrOverwriteInCache(pn,!0)),un;const{poll:dn}=await this.client.getPoll(sn);return this.setOrOverwriteInCache(dn),this.fromState(sn)},this.queryPolls=async(sn,un=[],dn={})=>{const{polls:pn,next:mn}=await this.client.queryPolls(sn,un,dn);return{polls:pn.map(fn=>(this.setOrOverwriteInCache(fn,!0),this.fromState(fn.id))),next:mn}},this.hydratePollCache=(sn,un)=>{for(const dn of sn){if(!dn.poll)continue;const pn=dn.poll;this.setOrOverwriteInCache(pn,un)}},this.setOrOverwriteInCache=(sn,un)=>{if(!this.client._cacheEnabled())return;const dn=this.fromState(sn.id);if(dn)un&&dn.reinitializeState(sn);else{const pn=new Poll$d({client:this.client,poll:sn});this.pollCache.set(pn.id,pn)}},this.subscribePollUpdated=()=>this.client.on("poll.updated",sn=>{var un,dn;(un=sn.poll)!=null&&un.id&&((dn=this.fromState(sn.poll.id))==null||dn.handlePollUpdated(sn))}).unsubscribe,this.subscribePollClosed=()=>this.client.on("poll.closed",sn=>{var un,dn;(un=sn.poll)!=null&&un.id&&((dn=this.fromState(sn.poll.id))==null||dn.handlePollClosed(sn))}).unsubscribe,this.subscribeVoteCasted=()=>this.client.on("poll.vote_casted",sn=>{var un,dn;(un=sn.poll)!=null&&un.id&&((dn=this.fromState(sn.poll.id))==null||dn.handleVoteCasted(sn))}).unsubscribe,this.subscribeVoteChanged=()=>this.client.on("poll.vote_changed",sn=>{var un,dn;(un=sn.poll)!=null&&un.id&&((dn=this.fromState(sn.poll.id))==null||dn.handleVoteChanged(sn))}).unsubscribe,this.subscribeVoteRemoved=()=>this.client.on("poll.vote_removed",sn=>{var un,dn;(un=sn.poll)!=null&&un.id&&((dn=this.fromState(sn.poll.id))==null||dn.handleVoteRemoved(sn))}).unsubscribe,this.subscribeMessageNew=()=>this.client.on("message.new",sn=>{const{message:un}=sn;if(un){const dn=formatMessage(un);this.hydratePollCache([dn])}}).unsubscribe,this.client=tn}get data(){return this.pollCache}},channelManagerEventToHandlerMapping={"channel.deleted":"channelDeletedHandler","channel.hidden":"channelHiddenHandler","channel.truncated":"channelTruncatedHandler","channel.updated":"channelUpdatedHandler","channel.visible":"channelVisibleHandler","message.new":"newMessageHandler","member.updated":"memberUpdatedHandler","notification.added_to_channel":"notificationAddedToChannelHandler","notification.message_new":"notificationNewMessageHandler","notification.removed_from_channel":"notificationRemovedFromChannelHandler"},DEFAULT_CHANNEL_MANAGER_OPTIONS={abortInFlightQuery:!1,allowNotLoadedChannelPromotionForEvent:{"channel.visible":!0,"message.new":!0,"notification.added_to_channel":!0,"notification.message_new":!0},lockChannelOrder:!1},DEFAULT_CHANNEL_MANAGER_PAGINATION_OPTIONS={limit:10,offset:0},ChannelManager=class extends WithSubscriptions{constructor({client:tn,eventHandlerOverrides:sn={},options:un={}}){super(),this.eventHandlers=new Map,this.eventHandlerOverrides=new Map,this.options={},this.stateOptions={},this.setChannels=dn=>{var fn;this.state.next(gn=>{const{channels:xn}=gn,yn=isPatch(dn)?dn(xn):dn;return xn===yn?gn:{...gn,channels:yn}});const{channels:pn,pagination:{filters:mn,sort:hn}}=this.state.getLatestValue();(fn=this.client.offlineDb)==null||fn.executeQuerySafely(gn=>gn.upsertCidsForQuery({cids:pn.map(xn=>xn.cid),filters:mn,sort:hn}),{method:"upsertCidsForQuery"})},this.setEventHandlerOverrides=(dn={})=>{const pn=Object.entries(dn).reduce((mn,[hn,fn])=>(fn&&(mn[hn]=fn),mn),{});this.eventHandlerOverrides=new Map(Object.entries(pn))},this.setOptions=(dn={})=>{this.options={...DEFAULT_CHANNEL_MANAGER_OPTIONS,...dn}},this.executeChannelsQuery=async(dn,pn=0)=>{var vn;const{filters:mn,sort:hn,options:fn,stateOptions:gn}=dn,{offset:xn,limit:yn}={...DEFAULT_CHANNEL_MANAGER_PAGINATION_OPTIONS,...fn};try{const En=await this.client.queryChannels(mn,hn,fn,gn),bn=xn+((En==null?void 0:En.length)??0),wn={...fn,offset:bn},{pagination:Sn}=this.state.getLatestValue();this.state.partialNext({channels:En,pagination:{...Sn,hasNext:((En==null?void 0:En.length)??0)>=yn,isLoading:!1,options:wn},initialized:!0,error:void 0}),(vn=this.client.offlineDb)==null||vn.executeQuerySafely(Rn=>Rn.upsertCidsForQuery({cids:En.map(_n=>_n.cid),filters:Sn.filters,sort:Sn.sort}),{method:"upsertCidsForQuery"})}catch(En){if(pn>=DEFAULT_QUERY_CHANNELS_RETRY_COUNT){console.warn(En);const bn=new Error(`Maximum number of retries reached in queryChannels. Last error message is: ${En}`);this.state.partialNext({error:bn});return}return await sleep(DEFAULT_QUERY_CHANNELS_MS_BETWEEN_RETRIES),this.executeChannelsQuery(dn,pn+1)}},this.queryChannels=async(dn,pn=[],mn={},hn={})=>{var vn,En;const{pagination:{isLoading:fn,filters:gn},initialized:xn}=this.state.getLatestValue();if(fn&&!this.options.abortInFlightQuery&&JSON.stringify(gn)===JSON.stringify(dn))return;const yn={filters:dn,sort:pn,options:mn,stateOptions:hn};try{if(this.stateOptions=hn,this.state.next(bn=>({...bn,pagination:{...bn.pagination,isLoading:!0,isLoadingNext:!1,filters:dn,sort:pn,options:mn},error:void 0})),(vn=this.client.offlineDb)!=null&&vn.getChannelsForQuery&&((En=this.client.user)!=null&&En.id)){if(!xn){const bn=await this.client.offlineDb.getChannelsForQuery({userId:this.client.user.id,filters:dn,sort:pn});if(bn){const wn=this.client.hydrateActiveChannels(bn,{offlineMode:!0,skipInitialization:[]});this.state.partialNext({channels:wn})}}if(!this.client.offlineDb.syncManager.syncStatus){this.client.offlineDb.syncManager.scheduleSyncStatusChangeCallback(this.id,async()=>{await this.executeChannelsQuery(yn)});return}}await this.executeChannelsQuery(yn)}catch(bn){throw this.client.logger("error",bn.message),this.state.next(wn=>({...wn,pagination:{...wn.pagination,isLoading:!1}})),bn}},this.loadNext=async()=>{const{pagination:dn,initialized:pn}=this.state.getLatestValue(),{filters:mn,sort:hn,options:fn,isLoadingNext:gn,hasNext:xn}=dn;if(!(!pn||gn||!xn))try{const{offset:yn,limit:vn}={...DEFAULT_CHANNEL_MANAGER_PAGINATION_OPTIONS,...fn};this.state.partialNext({pagination:{...dn,isLoading:!1,isLoadingNext:!0}});const En=await this.client.queryChannels(mn,hn,fn,this.stateOptions),{channels:bn}=this.state.getLatestValue(),wn=yn+((En==null?void 0:En.length)??0),Sn={...fn,offset:wn};this.state.partialNext({channels:uniqBy$1([...bn||[],...En],"cid"),pagination:{...dn,hasNext:((En==null?void 0:En.length)??0)>=vn,isLoading:!1,isLoadingNext:!1,options:Sn}})}catch(yn){throw this.client.logger("error",yn.message),this.state.next(vn=>({...vn,pagination:{...vn.pagination,isLoadingNext:!1}})),yn}},this.notificationAddedToChannelHandler=async dn=>{var vn;const{id:pn,type:mn,members:hn}=(dn==null?void 0:dn.channel)??{};if(!mn||!((vn=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&vn["notification.added_to_channel"]))return;const fn=await getAndWatchChannel({client:this.client,id:pn,members:hn==null?void 0:hn.reduce((En,{user:bn,user_id:wn})=>{const Sn=wn||(bn==null?void 0:bn.id);return Sn&&En.push(Sn),En},[]),type:mn}),{pagination:gn,channels:xn}=this.state.getLatestValue();if(!xn)return;const{sort:yn}=gn??{};this.setChannels(promoteChannel({channels:xn,channelToMove:fn,sort:yn}))},this.channelDeletedHandler=dn=>{const{channels:pn}=this.state.getLatestValue();if(!pn)return;const mn=[...pn],hn=mn.findIndex(fn=>{var gn;return fn.cid===(dn.cid||((gn=dn.channel)==null?void 0:gn.cid))});hn<0||(mn.splice(hn,1),this.setChannels(mn))},this.channelHiddenHandler=this.channelDeletedHandler,this.newMessageHandler=dn=>{var _n;const{pagination:pn,channels:mn}=this.state.getLatestValue();if(!mn)return;const{filters:hn,sort:fn}=pn??{},gn=dn.channel_type,xn=dn.channel_id;if(!gn||!xn)return;const yn=this.client.channel(gn,xn),vn=mn.indexOf(yn),En=vn>=0,bn=isChannelPinned$1(yn),wn=isChannelArchived$1(yn),Sn=shouldConsiderArchivedChannels$1(hn),Rn=shouldConsiderPinnedChannels$1(fn);Sn&&wn&&!hn.archived||Sn&&!wn&&hn.archived||Rn&&bn||this.options.lockChannelOrder||!En&&!((_n=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&_n["message.new"])||this.setChannels(promoteChannel({channels:mn,channelToMove:yn,channelToMoveIndexWithinChannels:vn,sort:fn}))},this.notificationNewMessageHandler=async dn=>{var bn;const{id:pn,type:mn}=(dn==null?void 0:dn.channel)??{};if(!pn||!mn)return;const hn=await getAndWatchChannel({client:this.client,id:pn,type:mn}),{channels:fn,pagination:gn}=this.state.getLatestValue(),{filters:xn,sort:yn}=gn??{},vn=shouldConsiderArchivedChannels$1(xn),En=isChannelArchived$1(hn);!fn||vn&&En&&!xn.archived||vn&&!En&&xn.archived||!((bn=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&bn["notification.message_new"])||this.setChannels(promoteChannel({channels:fn,channelToMove:hn,sort:yn}))},this.channelVisibleHandler=async dn=>{var bn;const{channel_type:pn,channel_id:mn}=dn;if(!pn||!mn)return;const hn=await getAndWatchChannel({client:this.client,id:dn.channel_id,type:dn.channel_type}),{channels:fn,pagination:gn}=this.state.getLatestValue(),{sort:xn,filters:yn}=gn??{},vn=shouldConsiderArchivedChannels$1(yn),En=isChannelArchived$1(hn);!fn||vn&&En&&!yn.archived||vn&&!En&&yn.archived||!((bn=this.options.allowNotLoadedChannelPromotionForEvent)!=null&&bn["channel.visible"])||this.setChannels(promoteChannel({channels:fn,channelToMove:hn,sort:xn}))},this.notificationRemovedFromChannelHandler=this.channelDeletedHandler,this.memberUpdatedHandler=dn=>{var Tn;const{pagination:pn,channels:mn}=this.state.getLatestValue(),{filters:hn,sort:fn}=pn;if(!((Tn=dn.member)!=null&&Tn.user)||dn.member.user.id!==this.client.userID||!dn.channel_type||!dn.channel_id)return;const gn=dn.channel_type,xn=dn.channel_id,yn=shouldConsiderPinnedChannels$1(fn),vn=shouldConsiderArchivedChannels$1(hn),En=extractSortValue$1({atIndex:0,sort:fn,targetKey:"pinned_at"});if(!mn||!yn&&!vn||this.options.lockChannelOrder)return;const bn=this.client.channel(gn,xn),wn=mn.indexOf(bn),Sn=wn>=0,Rn=isChannelPinned$1(bn),_n=isChannelArchived$1(bn),jn=[...mn];if(Sn&&jn.splice(wn,1),vn&&!_n&&(hn!=null&&hn.archived)||vn&&_n&&!(hn!=null&&hn.archived)){this.setChannels(jn);return}let Cn=null;(En===1||En===-1&&!Rn)&&(Cn=findLastPinnedChannelIndex$1({channels:jn}));const An=typeof Cn=="number"?Cn+1:0;mn[An]!==bn&&(jn.splice(An,0,bn),this.setChannels(jn))},this.subscriptionOrOverride=dn=>{const pn=channelManagerEventToHandlerMapping[dn.type],mn=this.eventHandlers.get(pn),hn=this.eventHandlerOverrides.get(pn);if(hn&&typeof hn=="function"){hn(this.setChannels,dn);return}mn&&typeof mn=="function"&&mn(dn)},this.registerSubscriptions=()=>{if(!this.hasSubscriptions)for(const dn of Object.keys(channelManagerEventToHandlerMapping))this.addUnsubscribeFunction(this.client.on(dn,this.subscriptionOrOverride).unsubscribe)},this.id=`channel-manager-${generateUUIDv4()}`,this.client=tn,this.state=new StateStore({channels:[],pagination:{isLoading:!1,isLoadingNext:!1,hasNext:!1,filters:{},sort:{},options:DEFAULT_CHANNEL_MANAGER_PAGINATION_OPTIONS},initialized:!1,error:void 0}),this.setEventHandlerOverrides(sn),this.setOptions(un),this.eventHandlers=new Map(Object.entries({channelDeletedHandler:this.channelDeletedHandler,channelHiddenHandler:this.channelHiddenHandler,channelVisibleHandler:this.channelVisibleHandler,memberUpdatedHandler:this.memberUpdatedHandler,newMessageHandler:this.newMessageHandler,notificationAddedToChannelHandler:this.notificationAddedToChannelHandler,notificationNewMessageHandler:this.notificationNewMessageHandler,notificationRemovedFromChannelHandler:this.notificationRemovedFromChannelHandler}))}},DURATION_MS=3e3,DEFAULT_NOTIFICATION_MANAGER_CONFIG={durations:{error:DURATION_MS,info:DURATION_MS,success:DURATION_MS,warning:DURATION_MS}},NotificationManager=class{constructor(tn={}){this.timeouts=new Map,this.store=new StateStore({notifications:[]}),this.config=mergeWith$1(DEFAULT_NOTIFICATION_MANAGER_CONFIG,tn)}get notifications(){return this.store.getLatestValue().notifications}get warning(){return this.notifications.filter(tn=>tn.severity==="warning")}get error(){return this.notifications.filter(tn=>tn.severity==="error")}get info(){return this.notifications.filter(tn=>tn.severity==="info")}get success(){return this.notifications.filter(tn=>tn.severity==="success")}add({message:tn,origin:sn,options:un={}}){const dn=generateUUIDv4(),pn=Date.now(),mn=un.severity||"info",hn=un.duration??this.config.durations[mn],fn={id:dn,message:tn,origin:sn,type:un==null?void 0:un.type,severity:mn,createdAt:pn,expiresAt:pn+hn,actions:un.actions,metadata:un.metadata,originalError:un.originalError};if(this.store.partialNext({notifications:[...this.store.getLatestValue().notifications,fn]}),fn.expiresAt){const gn=setTimeout(()=>{this.remove(dn)},un.duration||this.config.durations[fn.severity]);this.timeouts.set(dn,gn)}return dn}addError({message:tn,origin:sn,options:un}){return this.add({message:tn,origin:sn,options:{...un,severity:"error"}})}addWarning({message:tn,origin:sn,options:un}){return this.add({message:tn,origin:sn,options:{...un,severity:"warning"}})}addInfo({message:tn,origin:sn,options:un}){return this.add({message:tn,origin:sn,options:{...un,severity:"info"}})}addSuccess({message:tn,origin:sn,options:un}){return this.add({message:tn,origin:sn,options:{...un,severity:"success"}})}remove(tn){const sn=this.timeouts.get(tn);sn&&(clearTimeout(sn),this.timeouts.delete(tn)),this.store.partialNext({notifications:this.store.getLatestValue().notifications.filter(un=>un.id!==tn)})}clear(){this.timeouts.forEach(tn=>clearTimeout(tn)),this.timeouts.clear(),this.store.partialNext({notifications:[]})}},oneMinute=60*1e3,oneHour=60*oneMinute,oneDay=24*oneHour,oneWeek=7*oneDay,GROUP_BOUNDS={minute:{lower:oneMinute,upper:oneHour},hour:{upper:oneDay}},DEFAULT_STOP_REFRESH_BOUNDARY_MS=2*oneWeek,ReminderTimer=class{constructor({reminder:tn,config:sn}){this.timeout=null,this.stopRefreshBoundaryMs=DEFAULT_STOP_REFRESH_BOUNDARY_MS,this.getRefreshIntervalLength=()=>{if(!this.reminder.remindAt)return null;const un=Math.abs(timeLeftMs(this.reminder.remindAt.getTime()));let dn;return un===0?dn=oneMinute:un<GROUP_BOUNDS.minute.lower?dn=un:un<=GROUP_BOUNDS.minute.upper?dn=oneMinute:un<=GROUP_BOUNDS.hour.upper?dn=oneHour:dn=oneDay,dn},this.init=()=>{var mn;if(!this.reminder.remindAt)return null;const un=this.getRefreshIntervalLength();if(un===null)return null;if(((mn=this.reminder.remindAt)==null?void 0:mn.getTime())+this.stopRefreshBoundaryMs-Date.now()<=0){this.timeout=null;return}this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.reminder.refreshTimeLeft(),this.init()},un)},this.clear=()=>{this.timeout&&(clearInterval(this.timeout),this.timeout=null)},this.reminder=tn,typeof(sn==null?void 0:sn.stopRefreshBoundaryMs)=="number"&&(this.stopRefreshBoundaryMs=sn.stopRefreshBoundaryMs)}},timeLeftMs=tn=>tn-new Date().getTime(),_Reminder=class Ou{constructor({data:sn,config:un}){this.setState=dn=>{this.state.next(pn=>{const mn={...pn,...Ou.toStateValue(dn)};return mn.remind_at&&(mn.timeLeftMs=timeLeftMs(mn.remind_at.getTime())),mn}),dn.remind_at?this.initTimer():dn.remind_at||this.clearTimer()},this.refreshTimeLeft=()=>{this.remindAt&&this.state.partialNext({timeLeftMs:timeLeftMs(this.remindAt.getTime())})},this.initTimer=()=>{this.timer.init()},this.clearTimer=()=>{this.timer.clear()},this.state=new StateStore(Ou.toStateValue(sn)),this.timer=new ReminderTimer({reminder:this,config:un}),this.initTimer()}get id(){return this.state.getLatestValue().message_id}get remindAt(){return this.state.getLatestValue().remind_at}get timeLeftMs(){return this.state.getLatestValue().timeLeftMs}};_Reminder.toStateValue=tn=>({...tn,created_at:new Date(tn.created_at),message:tn.message||null,remind_at:tn.remind_at?new Date(tn.remind_at):null,timeLeftMs:tn.remind_at?timeLeftMs(new Date(tn.remind_at).getTime()):null,updated_at:new Date(tn.updated_at),user:tn.user||null});var Reminder=_Reminder,DEFAULT_PAGINATION_OPTIONS={debounceMs:300,pageSize:10},BasePaginator=class{constructor(tn){this._isCursorPagination=!1,this.setDebounceOptions=({debounceMs:dn})=>{this._executeQueryDebounced=debounce$4(this.executeQuery.bind(this),dn)},this.canExecuteQuery=dn=>!this.isLoading&&dn==="next"&&this.hasNext||dn==="prev"&&this.hasPrev,this.next=()=>this.executeQuery({direction:"next"}),this.prev=()=>this.executeQuery({direction:"prev"}),this.nextDebounced=()=>{this._executeQueryDebounced({direction:"next"})},this.prevDebounced=()=>{this._executeQueryDebounced({direction:"prev"})};const{debounceMs:sn,pageSize:un}={...DEFAULT_PAGINATION_OPTIONS,...tn};this.pageSize=un,this.state=new StateStore(this.initialState),this.setDebounceOptions({debounceMs:sn})}get lastQueryError(){return this.state.getLatestValue().lastQueryError}get hasNext(){return this.state.getLatestValue().hasNext}get hasPrev(){return this.state.getLatestValue().hasPrev}get hasResults(){return Array.isArray(this.state.getLatestValue().items)}get isLoading(){return this.state.getLatestValue().isLoading}get initialState(){return{hasNext:!0,hasPrev:!0,isLoading:!1,items:void 0,lastQueryError:void 0,cursor:void 0,offset:0}}get items(){return this.state.getLatestValue().items}get cursor(){return this.state.getLatestValue().cursor}get offset(){return this.state.getLatestValue().offset}getStateBeforeFirstQuery(){return{...this.initialState,isLoading:!0}}getStateAfterQuery(tn,sn){return{...this.state.getLatestValue(),lastQueryError:void 0,...tn,isLoading:!1,items:sn?tn.items:[...this.items??[],...tn.items||[]]}}async executeQuery({direction:tn}){if(!this.canExecuteQuery(tn))return;const sn=typeof this.items>"u";sn?this.state.next(this.getStateBeforeFirstQuery()):this.state.partialNext({isLoading:!0});const un={};try{const dn=await this.query({direction:tn});if(!dn)return;const{items:pn,next:mn,prev:hn}=dn;sn&&(mn||hn)&&(this._isCursorPagination=!0),this._isCursorPagination?(un.cursor={next:mn||null,prev:hn||null},un.hasNext=!!mn,un.hasPrev=!!hn):(un.offset=(this.offset??0)+pn.length,un.hasNext=pn.length===this.pageSize),un.items=await this.filterQueryResults(pn)}catch(dn){un.lastQueryError=dn}finally{this.state.next(this.getStateAfterQuery(un,sn))}}cancelScheduledQuery(){this._executeQueryDebounced.cancel()}resetState(){this.state.next(this.initialState)}},ReminderPaginator=class extends BasePaginator{constructor(tn,sn){super(sn),this.query=async({direction:un})=>{var fn;const dn=(fn=this.cursor)==null?void 0:fn[un],{reminders:pn,next:mn,prev:hn}=await this.client.queryReminders({filter:this.filters,sort:this.sort,limit:this.pageSize,[un]:dn});return{items:pn,next:mn,prev:hn}},this.filterQueryResults=un=>un,this.client=tn}get filters(){return this._filters}get sort(){return this._sort}set filters(tn){this._filters=tn,this.resetState()}set sort(tn){this._sort=tn,this.resetState()}},oneMinute2=60*1e3,oneHour2=60*oneMinute2,oneDay2=24*oneHour2,DEFAULT_REMINDER_MANAGER_CONFIG={scheduledOffsetsMs:[2*oneMinute2,30*oneMinute2,oneHour2,2*oneHour2,8*oneHour2,oneDay2],stopTimerRefreshBoundaryMs:DEFAULT_STOP_REFRESH_BOUNDARY_MS},isReminderExistsError=tn=>tn.message.match("already has reminder created for this message_id"),isReminderDoesNotExistError=tn=>tn.message.match("reminder does not exist"),_ReminderManager=class wu extends WithSubscriptions{constructor({client:sn,config:un}){super(),this.upsertToState=({data:dn,overwrite:pn=!0})=>{if(!this.client._cacheEnabled())return;const mn=this.getFromState(dn.message_id);if(mn)pn&&mn.setState(dn);else{const hn=new Reminder({data:dn,config:{stopRefreshBoundaryMs:this.stopTimerRefreshBoundaryMs}});this.state.partialNext({reminders:new Map(this.reminders.set(dn.message_id,hn))})}return mn},this.removeFromState=dn=>{const pn=this.getFromState(dn);if(!pn)return;pn.clearTimer();const mn=this.reminders;mn.delete(dn),this.state.partialNext({reminders:new Map(mn)})},this.hydrateState=dn=>{dn.forEach(({reminder:pn})=>{pn&&this.upsertToState({data:pn})})},this.initTimers=()=>{this.reminders.forEach(dn=>dn.initTimer())},this.clearTimers=()=>{this.reminders.forEach(dn=>dn.clearTimer())},this.registerSubscriptions=()=>{this.hasSubscriptions||(this.addUnsubscribeFunction(this.subscribeReminderCreated()),this.addUnsubscribeFunction(this.subscribeReminderUpdated()),this.addUnsubscribeFunction(this.subscribeReminderDeleted()),this.addUnsubscribeFunction(this.subscribeNotificationReminderDue()),this.addUnsubscribeFunction(this.subscribeMessageDeleted()),this.addUnsubscribeFunction(this.subscribeMessageUndeleted()),this.addUnsubscribeFunction(this.subscribePaginatorStateUpdated()),this.addUnsubscribeFunction(this.subscribeConfigStateUpdated()))},this.subscribeReminderCreated=()=>this.client.on("reminder.created",dn=>{if(!wu.isReminderWsEventPayload(dn))return;const{reminder:pn}=dn;this.upsertToState({data:pn})}).unsubscribe,this.subscribeReminderUpdated=()=>this.client.on("reminder.updated",dn=>{if(!wu.isReminderWsEventPayload(dn))return;const{reminder:pn}=dn;this.upsertToState({data:pn})}).unsubscribe,this.subscribeReminderDeleted=()=>this.client.on("reminder.deleted",dn=>{wu.isReminderWsEventPayload(dn)&&this.removeFromState(dn.message_id)}).unsubscribe,this.subscribeMessageDeleted=()=>this.client.on("message.deleted",dn=>{var pn;(pn=dn.message)!=null&&pn.id&&this.removeFromState(dn.message.id)}).unsubscribe,this.subscribeMessageUndeleted=()=>this.client.on("message.undeleted",dn=>{var pn;(pn=dn.message)!=null&&pn.reminder&&this.upsertToState({data:dn.message.reminder})}).unsubscribe,this.subscribeNotificationReminderDue=()=>this.client.on("notification.reminder_due",()=>null).unsubscribe,this.subscribePaginatorStateUpdated=()=>this.paginator.state.subscribeWithSelector(({items:dn})=>[dn],([dn])=>{if(dn)for(const pn of dn)this.upsertToState({data:pn})}),this.subscribeConfigStateUpdated=()=>this.configState.subscribeWithSelector(({stopTimerRefreshBoundaryMs:dn})=>({stopTimerRefreshBoundaryMs:dn}),({stopTimerRefreshBoundaryMs:dn},pn)=>{typeof dn=="number"&&dn!==(pn==null?void 0:pn.stopTimerRefreshBoundaryMs)&&this.reminders.forEach(mn=>{mn.timer&&(mn.timer.stopRefreshBoundaryMs=dn)})}),this.upsertReminder=async dn=>{const{messageId:pn}=dn;if(this.getFromState(pn))try{return await this.updateReminder(dn)}catch(mn){if(isReminderDoesNotExistError(mn))return await this.createReminder(dn);throw mn}else try{return await this.createReminder(dn)}catch(mn){if(isReminderExistsError(mn))return await this.updateReminder(dn);throw mn}},this.createReminder=async dn=>{const{reminder:pn}=await this.client.createReminder(dn);return this.upsertToState({data:pn,overwrite:!1})},this.updateReminder=async dn=>{const{reminder:pn}=await this.client.updateReminder(dn);return this.upsertToState({data:pn})},this.deleteReminder=async dn=>{await this.client.deleteReminder(dn),this.removeFromState(dn)},this.queryNextReminders=async()=>{await this.paginator.next()},this.queryPreviousReminders=async()=>{await this.paginator.prev()},this.client=sn,this.configState=new StateStore({scheduledOffsetsMs:(un==null?void 0:un.scheduledOffsetsMs)??DEFAULT_REMINDER_MANAGER_CONFIG.scheduledOffsetsMs,stopTimerRefreshBoundaryMs:(un==null?void 0:un.stopTimerRefreshBoundaryMs)??DEFAULT_REMINDER_MANAGER_CONFIG.stopTimerRefreshBoundaryMs}),this.state=new StateStore({reminders:new Map}),this.paginator=new ReminderPaginator(sn)}updateConfig(sn){typeof sn.stopTimerRefreshBoundaryMs=="number"&&sn.stopTimerRefreshBoundaryMs!==this.stopTimerRefreshBoundaryMs&&this.reminders.forEach(un=>{un.timer.stopRefreshBoundaryMs=sn==null?void 0:sn.stopTimerRefreshBoundaryMs}),this.configState.partialNext(sn)}get stopTimerRefreshBoundaryMs(){return this.configState.getLatestValue().stopTimerRefreshBoundaryMs}get scheduledOffsetsMs(){return this.configState.getLatestValue().scheduledOffsetsMs}get reminders(){return this.state.getLatestValue().reminders}getFromState(sn){return this.reminders.get(sn)}};_ReminderManager.isReminderWsEventPayload=tn=>!!tn.reminder&&(tn.type.startsWith("reminder.")||tn.type==="notification.reminder_due");var ReminderManager=_ReminderManager;function isString3(tn){return typeof tn=="string"||tn instanceof String}var StreamChat=class _l{constructor(sn,un,dn){var mn;this.nextRequestAbortController=null,this._messageComposerSetupState=new StateStore({setupFunction:null}),this._getConnectionID=()=>{var hn,fn;return((hn=this.wsConnection)==null?void 0:hn.connectionID)||((fn=this.wsFallback)==null?void 0:fn.connectionID)},this._hasConnectionID=()=>!!this._getConnectionID(),this.setMessageComposerSetupFunction=hn=>{this._messageComposerSetupState.partialNext({setupFunction:hn})},this.connectUser=async(hn,fn)=>{if(!hn.id)throw new Error('The "id" field on the user is missing');if(this.userID===hn.id&&this.setUserPromise)return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=hn.id,this.anonymous=!1;const gn=this._setToken(hn,fn);this._setUser(hn);const xn=this.openConnection();this.setUserPromise=Promise.all([gn,xn]).then(yn=>yn[1]);try{return await this.setUserPromise}catch(yn){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),yn}},this.setUser=this.connectUser,this._setToken=(hn,fn)=>this.tokenManager.setTokenOrProvider(fn,hn),this.closeConnection=async hn=>{var fn,gn,xn;return this.cleaningIntervalRef!=null&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([(fn=this.wsConnection)==null?void 0:fn.disconnect(hn),(gn=this.wsFallback)==null?void 0:gn.disconnect(hn)]),(xn=this.offlineDb)==null||xn.executeQuerySafely(async yn=>{this.userID&&await yn.upsertUserSyncStatus({userId:this.userID,lastSyncedAt:new Date().toString()})},{method:"upsertUserSyncStatus"}),Promise.resolve()},this.createChannelManager=({eventHandlerOverrides:hn={},options:fn={}})=>new ChannelManager({client:this,eventHandlerOverrides:hn,options:fn}),this.openConnection=()=>{var hn,fn,gn;if(!this.userID)throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");if((hn=this.wsConnection)!=null&&hn.isConnecting&&this.wsPromise)return this.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),this.wsPromise;if(((fn=this.wsConnection)!=null&&fn.isHealthy||(gn=this.wsFallback)!=null&&gn.isHealthy())&&this._hasConnectionID()){this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]});return}return this.clientID=`${this.userID}--${randomId()}`,this.wsPromise=this.connect(),this._startCleaning(),this.wsPromise},this._setupConnection=this.openConnection,this._normalizeDate=hn=>{if(hn instanceof Date&&(hn=hn.toISOString()),hn==="")throw new Error("Don't pass blank string for since, use null instead if resetting the token revoke");return hn},this.disconnectUser=hn=>{this.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete this.user,delete this._user,delete this.userID,this.anonymous=!1;const fn=this.closeConnection(hn);for(const gn of Object.values(this.activeChannels))gn._disconnect();return this.activeChannels={},this.state=new ClientState({client:this}),this.threads.resetState(),setTimeout(this.tokenManager.reset),fn},this.disconnect=this.disconnectUser,this.connectAnonymousUser=()=>{(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.anonymous=!0,this.userID=randomId();const hn={id:this.userID,anon:!0};return this._setToken(hn,""),this._setUser(hn),this._setupConnection()},this.setAnonymousUser=this.connectAnonymousUser,this.doAxiosRequest=async(hn,fn,gn,xn={})=>{var vn;await this.tokenManager.tokenReady();const yn=this._enrichAxiosOptions(xn);try{let En;switch(this._logApiRequest(hn,fn,gn,yn),hn){case"get":En=await this.axiosInstance.get(fn,yn);break;case"delete":En=await this.axiosInstance.delete(fn,yn);break;case"post":En=await this.axiosInstance.post(fn,gn,yn);break;case"postForm":En=await this.axiosInstance.postForm(fn,gn,yn);break;case"put":En=await this.axiosInstance.put(fn,gn,yn);break;case"patch":En=await this.axiosInstance.patch(fn,gn,yn);break;case"options":En=await this.axiosInstance.options(fn,yn);break;default:throw new Error("Invalid request type")}return this._logApiResponse(hn,fn,En),this.consecutiveFailures=0,this.handleResponse(En)}catch(En){if(En.client_request_id=(vn=yn.headers)==null?void 0:vn["x-client-request-id"],this._logApiError(hn,fn,En),this.consecutiveFailures+=1,En.response)return En.response.data.code===chatCodes.TOKEN_EXPIRED&&!this.tokenManager.isStatic()?(this.consecutiveFailures>1&&await sleep(retryInterval(this.consecutiveFailures)),this.tokenManager.loadToken(),await this.doAxiosRequest(hn,fn,gn,xn)):this.handleResponse(En.response);throw En}},this.dispatchEvent=hn=>{var yn;hn.received_at||(hn.received_at=new Date);const fn=this._handleClientEvent(hn),gn=hn.cid,xn=gn?this.activeChannels[gn]:void 0;xn&&xn._handleChannelEvent(hn),this._callClientListeners(hn),xn&&xn._callChannelListeners(hn),fn.forEach(vn=>vn()),(yn=this.offlineDb)==null||yn.executeQuerySafely(vn=>vn.handleEvent({event:hn}),{method:`handleEvent;${hn.type}`})},this.handleEvent=hn=>{const fn=hn.data,gn=JSON.parse(fn);this.dispatchEvent(gn)},this._updateMemberWatcherReferences=hn=>{const fn=this.state.userChannelReferences[hn.id]||{};for(const gn in fn){const xn=this.activeChannels[gn];xn!=null&&xn.state&&(xn.state.members[hn.id]&&(xn.state.members[hn.id].user=hn),xn.state.watchers[hn.id]&&(xn.state.watchers[hn.id]=hn),xn.state.read[hn.id]&&(xn.state.read[hn.id].user=hn))}},this._updateUserReferences=this._updateMemberWatcherReferences,this._updateUserMessageReferences=hn=>{const fn=this.state.userChannelReferences[hn.id]||{};for(const gn in fn){const xn=this.activeChannels[gn];if(!xn)continue;const yn=xn.state;yn==null||yn.updateUserMessages(hn)}},this._deleteUserMessageReference=(hn,fn=!1)=>{const gn=this.state.userChannelReferences[hn.id]||{};for(const xn in gn){const yn=this.activeChannels[xn];if(yn){const vn=yn.state;vn==null||vn.deleteUserMessages(hn,fn)}}},this._handleUserEvent=hn=>{if(hn.user){if(hn.type==="user.presence.changed"||hn.type==="user.updated"){if(hn.user.id===this.userID){const fn={...this.user},gn={...this._user};for(const xn in this.user){if(xn in hn.user||isOwnUserBaseProperty(xn))continue;const yn=xn;delete fn[yn],delete gn[yn]}for(const xn in gn){const yn=xn;yn in hn.user&&(gn[yn]=hn.user[yn])}this._user=gn,this.user={...fn,...hn.user}}this.state.updateUser(hn.user),this._updateMemberWatcherReferences(hn.user)}hn.type==="user.updated"&&this._updateUserMessageReferences(hn.user),hn.type==="user.deleted"&&hn.user.deleted_at&&(hn.mark_messages_deleted||hn.hard_delete)&&this._deleteUserMessageReference(hn.user,hn.hard_delete)}},this._callClientListeners=hn=>{const fn=this,gn=[];fn.listeners.all&&gn.push(...fn.listeners.all),fn.listeners[hn.type]&&gn.push(...fn.listeners[hn.type]);for(const xn of gn)xn(hn)},this.recoverState=async()=>{this.logger("info",`client:recoverState() - Start of recoverState with connectionID ${this._getConnectionID()}`,{tags:["connection"]});const hn=Object.keys(this.activeChannels);hn.length&&this.recoverStateOnReconnect?(this.logger("info",`client:recoverState() - Start the querying of ${hn.length} channels`,{tags:["connection","client"]}),await this.queryChannels({cid:{$in:hn}},{last_message_at:-1},{limit:30}),this.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),this.dispatchEvent({type:"connection.recovered"})):this.dispatchEvent({type:"connection.recovered"}),this.wsPromise=Promise.resolve(),this.setUserPromise=Promise.resolve()},this.getChannelByMembers=(hn,fn)=>{const gn=(fn.members??[]).map(En=>typeof En=="string"?En:En.user_id??""),xn=gn.sort().join(","),yn=generateChannelTempCid$1(hn,gn);if(!yn)throw Error("Please specify atleast one member when creating unique conversation");for(const En in this.activeChannels){const bn=this.activeChannels[En];if(!bn.disconnected&&(En===yn||En.indexOf(`${hn}:!members-`)===0&&Object.keys(bn.state.members).sort().join(",")===xn))return bn}const vn=new Channel$1(this,hn,void 0,fn);return this._cacheEnabled()&&(this.activeChannels[yn]=vn),vn},this.getChannelById=(hn,fn,gn)=>{if(typeof fn=="string"&&~fn.indexOf(":"))throw Error(`Invalid channel id ${fn}, can't contain the : character`);const xn=`${hn}:${fn}`;if(xn in this.activeChannels&&this.activeChannels[xn]&&!this.activeChannels[xn].disconnected){const vn=this.activeChannels[xn];return Object.keys(gn).length>0&&(vn.data={...vn.data,...gn},vn._data={...vn._data,...gn}),vn}const yn=new Channel$1(this,hn,fn,gn);return this._cacheEnabled()&&(this.activeChannels[yn.cid]=yn),yn},this.updateUsers=this.upsertUsers,this.updateUser=this.upsertUser,this._unblockMessage=this.unblockMessage,this.markAllRead=this.markChannelsRead,this._isUsingServerAuth=()=>!!this.secret,this._cacheEnabled=()=>!this._isUsingServerAuth()||!this.options.disableCache,this._buildWSPayload=hn=>JSON.stringify({user_id:this.userID,user_details:this._user,device:this.options.device,client_request_id:hn}),this.key=sn,this.listeners={},this.state=new ClientState({client:this}),this.mutedChannels=[],this.mutedUsers=[],this.moderation=new Moderation(this),this.notifications=(dn==null?void 0:dn.notifications)??new NotificationManager,un&&isString3(un)&&(this.secret=un);const pn=dn||(un&&!isString3(un)?un:{});this.browser=typeof pn.browser<"u"?pn.browser:typeof window<"u",this.node=!this.browser,this.options={timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0,disableCache:!1,wsUrlParams:new URLSearchParams({}),...pn},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new import_https.default.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=axios_default.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),typeof process<"u"&&"env"in process&&define_process_env_default.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),typeof process<"u"&&"env"in process&&define_process_env_default.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+define_process_env_default.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=(mn=this.options)==null?void 0:mn.persistUserOnConnectionFailure,this.tokenManager=new TokenManager(this.secret),this.consecutiveFailures=0,this.insightMetrics=new InsightMetrics,this.defaultWSTimeoutWithFallback=6*1e3,this.defaultWSTimeout=15*1e3,this.axiosInstance.defaults.paramsSerializer=axiosParamsSerializer,this.logger=isFunction2(pn.logger)?pn.logger:()=>null,this.recoverStateOnReconnect=this.options.recoverStateOnReconnect,this.threads=new ThreadManager({client:this}),this.polls=new PollManager({client:this}),this.reminders=new ReminderManager({client:this})}static getInstance(sn,un,dn){return _l._instance||(typeof un=="string"?_l._instance=new _l(sn,un,dn):_l._instance=new _l(sn,un)),_l._instance}setOfflineDBApi(sn){this.offlineDb||(this.offlineDb=sn)}devToken(sn){return DevToken(sn)}getAuthType(){return this.anonymous?"anonymous":"jwt"}setBaseURL(sn){this.baseURL=sn,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}_setUser(sn){this.user=sn,this.userID=sn.id,this._user={...sn}}async updateAppSettings(sn){const un=sn.apn_config;return un!=null&&un.p12_cert&&(sn={...sn,apn_config:{...un,p12_cert:Buffer.from(un.p12_cert).toString("base64")}}),await this.patch(this.baseURL+"/app",sn)}async revokeTokens(sn){return await this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(sn)})}async revokeUserToken(sn,un){return await this.revokeUsersToken([sn],un)}async revokeUsersToken(sn,un){un===void 0?un=new Date().toISOString():un=this._normalizeDate(un);const dn=[];for(const pn of sn)dn.push({id:pn,set:{revoke_tokens_issued_before:un}});return await this.partialUpdateUsers(dn)}async getAppSettings(){return this.appSettingsPromise=this.get(this.baseURL+"/app"),await this.appSettingsPromise}async testPushSettings(sn,un={}){return await this.post(this.baseURL+"/check_push",{user_id:sn,...un.messageID?{message_id:un.messageID}:{},...un.apnTemplate?{apn_template:un.apnTemplate}:{},...un.firebaseTemplate?{firebase_template:un.firebaseTemplate}:{},...un.firebaseDataTemplate?{firebase_data_template:un.firebaseDataTemplate}:{},...un.skipDevices?{skip_devices:!0}:{},...un.pushProviderName?{push_provider_name:un.pushProviderName}:{},...un.pushProviderType?{push_provider_type:un.pushProviderType}:{}})}async testSQSSettings(sn={}){return await this.post(this.baseURL+"/check_sqs",sn)}async testSNSSettings(sn={}){return await this.post(this.baseURL+"/check_sns",sn)}async setGuestUser(sn){let un;this.anonymous=!0;try{un=await this.post(this.baseURL+"/guest",{user:sn})}catch(gn){throw this.anonymous=!1,gn}this.anonymous=!1;const{created_at:dn,updated_at:pn,last_active:mn,online:hn,...fn}=un.user;return await this.connectUser(fn,un.access_token)}createToken(sn,un,dn){if(this.secret==null)throw Error("tokens can only be created server-side using the API Secret");const pn={};return un&&(pn.exp=un),dn&&(pn.iat=dn),JWTUserToken(this.secret,sn,pn,{})}on(sn,un){const dn=un?sn:"all",pn=un||sn;return dn in this.listeners||(this.listeners[dn]=[]),this.logger("info",`Attaching listener for ${dn} event`,{tags:["event","client"]}),this.listeners[dn].push(pn),{unsubscribe:()=>{this.logger("info",`Removing listener for ${dn} event`,{tags:["event","client"]}),this.listeners[dn]=this.listeners[dn].filter(mn=>mn!==pn)}}}off(sn,un){const dn=un?sn:"all",pn=un||sn;dn in this.listeners||(this.listeners[dn]=[]),this.logger("info",`Removing listener for ${dn} event`,{tags:["event","client"]}),this.listeners[dn]=this.listeners[dn].filter(mn=>mn!==pn)}_logApiRequest(sn,un,dn,pn){this.logger("info",`client: ${sn} - Request - ${un}`,{tags:["api","api_request","client"],url:un,payload:dn,config:pn})}_logApiResponse(sn,un,dn){this.logger("info",`client:${sn} - Response - url: ${un} > status ${dn.status}`,{tags:["api","api_response","client"],url:un,response:dn})}_logApiError(sn,un,dn){this.logger("error",`client:${sn} - Error - url: ${un}`,{tags:["api","api_response","client"],url:un,error:dn})}get(sn,un){return this.doAxiosRequest("get",sn,null,{params:un})}put(sn,un){return this.doAxiosRequest("put",sn,un)}post(sn,un){return this.doAxiosRequest("post",sn,un)}patch(sn,un){return this.doAxiosRequest("patch",sn,un)}delete(sn,un){return this.doAxiosRequest("delete",sn,null,{params:un})}sendFile(sn,un,dn,pn,mn){const hn=addFileToFormData(un,dn,pn||"multipart/form-data");return mn!=null&&hn.append("user",JSON.stringify(mn)),this.doAxiosRequest("postForm",sn,hn,{headers:hn.getHeaders?hn.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}errorFromResponse(sn){const un=typeof sn.data.code<"u"?`StreamChat error code ${sn.data.code}: ${sn.data.message}`:`StreamChat error HTTP code: ${sn.status}`;return new ErrorFromResponse(un,{code:sn.data.code??null,response:sn,status:sn.status})}handleResponse(sn){const un=sn.data;if(isErrorResponse(sn))throw this.errorFromResponse(sn);return un}_handleClientEvent(sn){var pn,mn,hn;const un=this,dn=[];if(this.logger("info",`client:_handleClientEvent - Received event of type { ${sn.type} }`,{tags:["event","client"],event:sn}),(sn.type==="user.presence.changed"||sn.type==="user.updated"||sn.type==="user.deleted")&&this._handleUserEvent(sn),sn.type==="health.check"&&sn.me&&(un.user=sn.me,un.state.updateUser(sn.me),un.mutedChannels=sn.me.channel_mutes,un.mutedUsers=sn.me.mutes),sn.channel&&sn.type==="notification.message_new"){const{channel:fn}=sn;this._addChannelConfig(fn)}if(sn.type==="notification.channel_mutes_updated"&&((pn=sn.me)!=null&&pn.channel_mutes)&&(this.mutedChannels=sn.me.channel_mutes),sn.type==="notification.mutes_updated"&&((mn=sn.me)!=null&&mn.mutes)&&(this.mutedUsers=sn.me.mutes),sn.type==="notification.mark_read"&&sn.unread_channels===0&&Object.keys(this.activeChannels).forEach(gn=>this.activeChannels[gn].state.unreadCount=0),(sn.type==="channel.deleted"||sn.type==="notification.channel_deleted")&&sn.cid){const{cid:fn}=sn;un.state.deleteAllChannelReference(fn),(hn=this.activeChannels[sn.cid])==null||hn._disconnect(),dn.push(()=>{fn&&delete this.activeChannels[fn]})}return dn}_muteStatus(sn){var dn;let un;for(let pn=0;pn<this.mutedChannels.length;pn++){const mn=this.mutedChannels[pn];if(((dn=mn.channel)==null?void 0:dn.cid)===sn){un={muted:mn.expires?new Date(mn.expires).getTime()>new Date().getTime():!0,createdAt:mn.created_at?new Date(mn.created_at):new Date,expiresAt:mn.expires?new Date(mn.expires):null};break}}return un||{muted:!1,createdAt:null,expiresAt:null}}async connect(){if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new StableWSConnection({client:this});try{return this.wsFallback?await this.wsFallback.connect():await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(sn){if(this.options.enableWSFallback&&isWSFailure(sn)&&isOnline())return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new WSConnectionFallback({client:this}),await this.wsFallback.connect();throw sn}}_sayHi(){const sn=randomId(),un={headers:{"x-client-request-id":sn}};this.doAxiosRequest("get",this.baseURL+"/hi",null,un).catch(dn=>{this.options.enableInsights&&postInsights("http_hi_failed",{api_key:this.key,err:dn,client_request_id:sn})})}async queryUsers(sn,un=[],dn={}){const pn={presence:!1};await this.wsPromise,this._hasConnectionID()||(pn.presence=!1);const mn=await this.get(this.baseURL+"/users",{payload:{filter_conditions:sn,sort:normalizeQuerySort(un),...pn,...dn}});return this.state.updateUsers(mn.users),mn}async queryBannedUsers(sn={},un=[],dn={}){return await this.get(this.baseURL+"/query_banned_users",{payload:{filter_conditions:sn,sort:normalizeQuerySort(un),...dn}})}async queryMessageFlags(sn={},un={}){return await this.get(this.baseURL+"/moderation/flags/message",{payload:{filter_conditions:sn,...un}})}async queryChannelsRequest(sn,un=[],dn={}){const pn={state:!0,watch:!0,presence:!1};await this.wsPromise,this._hasConnectionID()||(pn.watch=!1);const mn={filter_conditions:sn,sort:normalizeQuerySort(un),...pn,...dn};return(await this.post(this.baseURL+"/channels",mn)).channels}async queryChannels(sn,un=[],dn={},pn={}){var hn;const mn=await this.queryChannelsRequest(sn,un,dn);return this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:mn,isLatestMessageSet:!0}}),mn!=null&&mn.length&&((hn=this.offlineDb)!=null&&hn.upsertChannels)&&await this.offlineDb.upsertChannels({channels:mn,isLatestMessagesSet:!0}),this.hydrateActiveChannels(mn,pn,dn)}async queryReactions(sn,un,dn=[],pn={}){var hn;const mn={filter:un,sort:normalizeQuerySort(dn),...pn};if((hn=this.offlineDb)!=null&&hn.getReactions&&!pn.next)try{const fn=await this.offlineDb.getReactions({messageId:sn,filters:un,sort:dn,limit:pn.limit});fn&&this.dispatchEvent({type:"offline_reactions.queried",offlineReactions:fn})}catch(fn){this.logger("warn","An error has occurred while querying offline reactions",{error:fn})}return await this.wsPromise,await this.post(this.baseURL+"/messages/"+encodeURIComponent(sn)+"/reactions",mn)}hydrateActiveChannels(sn=[],un={},dn){const{skipInitialization:pn,offlineMode:mn=!1}=un,hn=[];for(const fn of sn){this._addChannelConfig(fn.channel);const gn=this.channel(fn.channel.type,fn.channel.id);gn.data=fn.channel,gn.offlineMode=mn,gn.initialized=!mn,gn.push_preferences=fn.push_preferences;let xn;if(pn===void 0){const{messageSet:yn}=gn._initializeState(fn,"latest");xn=yn}else if(!pn.includes(fn.channel.id)){gn.state.clearMessages();const{messageSet:yn}=gn._initializeState(fn,"latest");xn=yn}xn&&(xn.pagination={...xn.pagination,...messageSetPagination({parentSet:xn,requestedPageSize:(dn==null?void 0:dn.message_limit)||DEFAULT_QUERY_CHANNELS_MESSAGE_LIST_PAGE_SIZE,returnedPage:fn.messages,logger:this.logger})},this.polls.hydratePollCache(fn.messages,!0),this.reminders.hydrateState(fn.messages)),gn.messageComposer.initStateFromChannelResponse(fn),hn.push(gn)}return hn}async search(sn,un,dn={}){if(dn.offset&&dn.next)throw Error("Cannot specify offset with next");const pn={filter_conditions:sn,...dn,sort:dn.sort?normalizeQuerySort(dn.sort):void 0};if(typeof un=="string")pn.query=un;else if(typeof un=="object")pn.message_filter_conditions=un;else throw Error(`Invalid type ${typeof un} for query parameter`);return await this.wsPromise,await this.get(this.baseURL+"/search",{payload:pn})}setLocalDevice(sn){var un,dn,pn;if((un=this.wsConnection)!=null&&un.isConnecting&&this.wsPromise||((dn=this.wsConnection)!=null&&dn.isHealthy||(pn=this.wsFallback)!=null&&pn.isHealthy())&&this._hasConnectionID())throw new Error("you can only set device before opening a websocket connection");this.options.device=sn}async addDevice(sn,un,dn,pn){return await this.post(this.baseURL+"/devices",{id:sn,push_provider:un,...dn!=null?{user_id:dn}:{},...pn!=null?{push_provider_name:pn}:{}})}async getDevices(sn){return await this.get(this.baseURL+"/devices",sn?{user_id:sn}:{})}async getUnreadCount(sn){return await this.get(this.baseURL+"/unread",sn?{user_id:sn}:{})}async getUnreadCountBatch(sn){return await this.post(this.baseURL+"/unread_batch",{user_ids:sn})}async setPushPreferences(sn){return await this.post(this.baseURL+"/push_preferences",{preferences:sn})}async removeDevice(sn,un){return await this.delete(this.baseURL+"/devices",{id:sn,...un?{user_id:un}:{}})}getRateLimits(sn){const{serverSide:un,web:dn,android:pn,ios:mn,endpoints:hn}=sn||{};return this.get(this.baseURL+"/rate_limits",{server_side:un,web:dn,android:pn,ios:mn,endpoints:hn?hn.join(","):void 0})}_addChannelConfig({cid:sn,config:un}){this._cacheEnabled()&&(this.configs[sn]=un)}channel(sn,un,dn={}){var pn;if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~sn.indexOf(":"))throw new Error(`Invalid channel group ${sn}, can't contain the : character`);return un&&typeof un=="object"?this.getChannelByMembers(sn,un):!un&&typeof dn=="object"&&((pn=dn.members)!=null&&pn.length)?this.getChannelByMembers(sn,dn):un?this.getChannelById(sn,un,dn):new Channel$1(this,sn,void 0,dn)}async partialUpdateUser(sn){return await this.partialUpdateUsers([sn])}async upsertUsers(sn){const un={};for(const dn of sn){if(!dn.id)throw Error("User ID is required when updating a user");un[dn.id]=dn}return await this.post(this.baseURL+"/users",{users:un})}upsertUser(sn){return this.upsertUsers([sn])}async partialUpdateUsers(sn){for(const un of sn)if(!un.id)throw Error("User ID is required when updating a user");return await this.patch(this.baseURL+"/users",{users:sn})}async deleteUser(sn,un){return await this.delete(this.baseURL+`/users/${encodeURIComponent(sn)}`,un)}async restoreUsers(sn){return await this.post(this.baseURL+"/users/restore",{user_ids:sn})}async reactivateUser(sn,un){return await this.post(this.baseURL+`/users/${encodeURIComponent(sn)}/reactivate`,{...un})}async reactivateUsers(sn,un){return await this.post(this.baseURL+"/users/reactivate",{user_ids:sn,...un})}async deactivateUser(sn,un){return await this.post(this.baseURL+`/users/${encodeURIComponent(sn)}/deactivate`,{...un})}async deactivateUsers(sn,un){return await this.post(this.baseURL+"/users/deactivate",{user_ids:sn,...un})}async exportUser(sn,un){return await this.get(this.baseURL+`/users/${encodeURIComponent(sn)}/export`,{...un})}async banUser(sn,un){return await this.post(this.baseURL+"/moderation/ban",{target_user_id:sn,...un})}async unbanUser(sn,un){return await this.delete(this.baseURL+"/moderation/ban",{target_user_id:sn,...un})}async shadowBan(sn,un){return await this.banUser(sn,{shadow:!0,...un})}async removeShadowBan(sn,un){return await this.unbanUser(sn,{shadow:!0,...un})}async blockUser(sn,un){return await this.post(this.baseURL+"/users/block",{blocked_user_id:sn,...un?{user_id:un}:{}})}async getBlockedUsers(sn){return await this.get(this.baseURL+"/users/block",{...sn?{user_id:sn}:{}})}async unBlockUser(sn,un){return await this.post(this.baseURL+"/users/unblock",{blocked_user_id:sn,...un?{user_id:un}:{}})}async getSharedLocations(){return await this.get(this.baseURL+"/users/live_locations")}async muteUser(sn,un,dn={}){return await this.post(this.baseURL+"/moderation/mute",{target_id:sn,...un?{user_id:un}:{},...dn})}async unmuteUser(sn,un){return await this.post(this.baseURL+"/moderation/unmute",{target_id:sn,...un?{user_id:un}:{}})}userMuteStatus(sn){if(!this.user||!this.wsPromise)throw new Error("Make sure to await connectUser() first.");for(let un=0;un<this.mutedUsers.length;un+=1)if(this.mutedUsers[un].target.id===sn)return!0;return!1}async flagMessage(sn,un={}){return await this.post(this.baseURL+"/moderation/flag",{target_message_id:sn,...un})}async flagUser(sn,un={}){return await this.post(this.baseURL+"/moderation/flag",{target_user_id:sn,...un})}async unflagMessage(sn,un={}){return await this.post(this.baseURL+"/moderation/unflag",{target_message_id:sn,...un})}async unflagUser(sn,un={}){return await this.post(this.baseURL+"/moderation/unflag",{target_user_id:sn,...un})}async _queryFlags(sn={},un={}){return await this.post(this.baseURL+"/moderation/flags",{filter_conditions:sn,...un})}async _queryFlagReports(sn={},un={}){return await this.post(this.baseURL+"/moderation/reports",{filter_conditions:sn,...un})}async _reviewFlagReport(sn,un,dn={}){return await this.patch(this.baseURL+`/moderation/reports/${encodeURIComponent(sn)}`,{review_result:un,...dn})}async unblockMessage(sn,un={}){return await this.post(this.baseURL+"/moderation/unblock_message",{target_message_id:sn,...un})}async markChannelsRead(sn={}){await this.post(this.baseURL+"/channels/read",{...sn})}createCommand(sn){return this.post(this.baseURL+"/commands",sn)}getCommand(sn){return this.get(this.baseURL+`/commands/${encodeURIComponent(sn)}`)}updateCommand(sn,un){return this.put(this.baseURL+`/commands/${encodeURIComponent(sn)}`,un)}deleteCommand(sn){return this.delete(this.baseURL+`/commands/${encodeURIComponent(sn)}`)}listCommands(){return this.get(this.baseURL+"/commands")}createChannelType(sn){const un=Object.assign({},{commands:["all"]},sn);return this.post(this.baseURL+"/channeltypes",un)}getChannelType(sn){return this.get(this.baseURL+`/channeltypes/${encodeURIComponent(sn)}`)}updateChannelType(sn,un){return this.put(this.baseURL+`/channeltypes/${encodeURIComponent(sn)}`,un)}deleteChannelType(sn){return this.delete(this.baseURL+`/channeltypes/${encodeURIComponent(sn)}`)}listChannelTypes(){return this.get(this.baseURL+"/channeltypes")}async translateMessage(sn,un){return await this.post(this.baseURL+`/messages/${encodeURIComponent(sn)}/translate`,{language:un})}async translate(sn,un,dn){return await this.post(this.baseURL+"/translate",{text:sn,source_language:dn,destination_language:un})}_normalizeExpiration(sn){let un=null;if(typeof sn=="number"){const dn=new Date;dn.setSeconds(dn.getSeconds()+sn),un=dn.toISOString()}else isString3(sn)?un=sn:sn instanceof Date&&(un=sn.toISOString());return un}_validateAndGetMessageId(sn,un){let dn;if(typeof sn=="string")dn=sn;else{if(!sn.id)throw Error(un);dn=sn.id}return dn}pinMessage(sn,un,dn,pn){const mn=this._validateAndGetMessageId(sn,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(mn,{set:{pinned:!0,pin_expires:this._normalizeExpiration(un),pinned_at:this._normalizeExpiration(pn)}},dn)}unpinMessage(sn,un){const dn=this._validateAndGetMessageId(sn,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(dn,{set:{pinned:!1}},un)}async updateMessage(sn,un,dn){if(!sn.id)throw Error("Please specify the message.id when calling updateMessage");const pn=toUpdatedMessagePayload(sn);return typeof un=="string"?pn.user_id=un:typeof(un==null?void 0:un.id)=="string"&&(pn.user_id=un.id),await this.post(this.baseURL+`/messages/${encodeURIComponent(sn.id)}`,{message:pn,...dn})}async partialUpdateMessage(sn,un,dn,pn){if(!sn)throw Error("Please specify the message.id when calling partialUpdateMessage");let mn;return typeof dn=="string"?mn={id:dn}:typeof(dn==null?void 0:dn.id)=="string"&&(mn={id:dn.id}),await this.put(this.baseURL+`/messages/${encodeURIComponent(sn)}`,{...un,...pn,user:mn})}async deleteMessage(sn,un){try{if(this.offlineDb)return un?await this.offlineDb.hardDeleteMessage({id:sn}):await this.offlineDb.softDeleteMessage({id:sn}),await this.offlineDb.queueTask({task:{messageId:sn,payload:[sn,un],type:"delete-message"}})}catch(dn){this.logger("error","offlineDb:deleteMessage",{tags:["channel","offlineDb"],error:dn})}return this._deleteMessage(sn,un)}async _deleteMessage(sn,un){let dn={};return un&&(dn={hard:!0}),await this.delete(this.baseURL+`/messages/${encodeURIComponent(sn)}`,dn)}async undeleteMessage(sn,un){return await this.post(this.baseURL+`/messages/${encodeURIComponent(sn)}/undelete`,{undeleted_by:un})}async getMessage(sn,un){return await this.get(this.baseURL+`/messages/${encodeURIComponent(sn)}`,{...un})}async queryThreads(sn={}){const un={limit:10,participant_limit:10,reply_limit:3,watch:!0,...sn},dn={...un};un.filter&&Object.keys(un.filter).length>0&&(dn.filter=un.filter),un.sort&&(Array.isArray(un.sort)?un.sort.length>0:Object.keys(un.sort).length>0)&&(dn.sort=normalizeQuerySort(un.sort));const pn=await this.post(`${this.baseURL}/threads`,dn);return{threads:pn.threads.map(mn=>new Thread$d({client:this,threadData:mn})),next:pn.next}}async getThread(sn,un={}){if(!sn)throw new Error("Please specify the messageId when calling getThread");const dn={participant_limit:100,reply_limit:3,watch:!0,...un},pn=await this.get(`${this.baseURL}/threads/${encodeURIComponent(sn)}`,dn);return new Thread$d({client:this,threadData:pn.thread})}async partialUpdateThread(sn,un){if(!sn)throw Error("Please specify the message id when calling partialUpdateThread");const dn=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel","custom"];for(const pn in{...un.set,...un.unset})if(dn.includes(pn))throw Error(`You cannot set ${pn} field on Thread object. ${pn} is reserved for server-side use. Please omit ${pn} from your set object.`);return await this.patch(`${this.baseURL}/threads/${encodeURIComponent(sn)}`,un)}getUserAgent(){if(this.userAgent)return this.userAgent;const sn="9.11.0",un="browser-esm";let dn="";this.sdkIdentifier?dn=`stream-chat-${this.sdkIdentifier.name}-v${this.sdkIdentifier.version}-llc-v${sn}`:dn=`stream-chat-js-v${sn}-${this.node?"node":"browser"}`;const{os:pn,model:mn}=this.deviceIdentifier??{};return[["os",pn],["device_model",mn],["client_bundle",un]].reduce((hn,[fn,gn])=>gn&&gn.length>0?hn.concat(`|${fn}=${gn}`):hn,dn)}setUserAgent(sn){this.userAgent=sn}_enrichAxiosOptions(sn={params:{},headers:{},config:{}}){var gn;const un=this._getToken(),dn=un?{Authorization:un}:void 0;let pn=null;this.nextRequestAbortController!==null&&(pn=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),(gn=sn.headers)!=null&&gn["x-client-request-id"]||(sn.headers={...sn.headers,"x-client-request-id":randomId()});const{params:mn,headers:hn,...fn}=this.options.axiosRequestConfig||{};return{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...sn.params,...mn||{}},headers:{...dn,"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...sn.headers,...hn||{}},...pn?{signal:pn}:{},...sn.config,...fn||{}}}_getToken(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}_startCleaning(){const sn=this;this.cleaningIntervalRef==null&&(this.cleaningIntervalRef=setInterval(()=>{for(const un of Object.values(sn.activeChannels))un.clean()},500))}verifyWebhook(sn,un){return!!this.secret&&CheckSignature(sn,this.secret,un)}getPermission(sn){return this.get(`${this.baseURL}/permissions/${encodeURIComponent(sn)}`)}createPermission(sn){return this.post(`${this.baseURL}/permissions`,{...sn})}updatePermission(sn,un){return this.put(`${this.baseURL}/permissions/${encodeURIComponent(sn)}`,{...un})}deletePermission(sn){return this.delete(`${this.baseURL}/permissions/${encodeURIComponent(sn)}`)}listPermissions(){return this.get(`${this.baseURL}/permissions`)}createRole(sn){return this.post(`${this.baseURL}/roles`,{name:sn})}listRoles(){return this.get(`${this.baseURL}/roles`)}deleteRole(sn){return this.delete(`${this.baseURL}/roles/${encodeURIComponent(sn)}`)}sync(sn,un,dn={}){return this.post(`${this.baseURL}/sync`,{channel_cids:sn,last_sync_at:un,...dn})}async sendUserCustomEvent(sn,un){return await this.post(`${this.baseURL}/users/${encodeURIComponent(sn)}/event`,{event:un})}createBlockList(sn){return this.post(`${this.baseURL}/blocklists`,sn)}listBlockLists(sn){return this.get(`${this.baseURL}/blocklists`,sn)}getBlockList(sn,un){return this.get(`${this.baseURL}/blocklists/${encodeURIComponent(sn)}`,un)}updateBlockList(sn,un){return this.put(`${this.baseURL}/blocklists/${encodeURIComponent(sn)}`,un)}deleteBlockList(sn,un){return this.delete(`${this.baseURL}/blocklists/${encodeURIComponent(sn)}`,un)}exportChannels(sn,un={}){const dn={channels:sn,...un};return this.post(`${this.baseURL}/export_channels`,dn)}exportUsers(sn){return this.post(`${this.baseURL}/export/users`,sn)}exportChannel(sn,un){return this.exportChannels([sn],un)}getExportChannelStatus(sn){return this.get(`${this.baseURL}/export_channels/${encodeURIComponent(sn)}`)}campaign(sn,un){return sn&&typeof sn=="object"?new Campaign(this,null,sn):new Campaign(this,sn,un)}segment(sn,un,dn){return typeof un=="string"?new Segment(this,sn,un,dn):new Segment(this,sn,null,un)}validateServerSideAuth(){if(!this.secret)throw new Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}createSegment(sn,un,dn){this.validateServerSideAuth();const pn={id:un,type:sn,...dn};return this.post(this.baseURL+"/segments",pn)}createUserSegment(sn,un){return this.validateServerSideAuth(),this.createSegment("user",sn,un)}createChannelSegment(sn,un){return this.validateServerSideAuth(),this.createSegment("channel",sn,un)}getSegment(sn){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(sn)}`)}updateSegment(sn,un){return this.validateServerSideAuth(),this.put(this.baseURL+`/segments/${encodeURIComponent(sn)}`,un)}addSegmentTargets(sn,un){this.validateServerSideAuth();const dn={target_ids:un};return this.post(this.baseURL+`/segments/${encodeURIComponent(sn)}/addtargets`,dn)}querySegmentTargets(sn,un={},dn=[],pn={}){return this.validateServerSideAuth(),this.post(this.baseURL+`/segments/${encodeURIComponent(sn)}/targets/query`,{filter:un||{},sort:dn||[],...pn})}removeSegmentTargets(sn,un){this.validateServerSideAuth();const dn={target_ids:un};return this.post(this.baseURL+`/segments/${encodeURIComponent(sn)}/deletetargets`,dn)}querySegments(sn,un,dn={}){return this.validateServerSideAuth(),this.post(this.baseURL+"/segments/query",{filter:sn,sort:un,...dn})}deleteSegment(sn){return this.validateServerSideAuth(),this.delete(this.baseURL+`/segments/${encodeURIComponent(sn)}`)}segmentTargetExists(sn,un){return this.validateServerSideAuth(),this.get(this.baseURL+`/segments/${encodeURIComponent(sn)}/target/${encodeURIComponent(un)}`)}createCampaign(sn){return this.validateServerSideAuth(),this.post(this.baseURL+"/campaigns",{...sn})}getCampaign(sn,un){return this.validateServerSideAuth(),this.get(this.baseURL+`/campaigns/${encodeURIComponent(sn)}`,{...un==null?void 0:un.users})}startCampaign(sn,un){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(sn)}/start`,{scheduled_for:un==null?void 0:un.scheduledFor,stop_at:un==null?void 0:un.stopAt})}async queryCampaigns(sn,un,dn){return this.validateServerSideAuth(),await this.post(this.baseURL+"/campaigns/query",{filter:sn,sort:un,...dn||{}})}updateCampaign(sn,un){return this.validateServerSideAuth(),this.put(this.baseURL+`/campaigns/${encodeURIComponent(sn)}`,un)}deleteCampaign(sn){return this.validateServerSideAuth(),this.delete(this.baseURL+`/campaigns/${encodeURIComponent(sn)}`)}stopCampaign(sn){return this.validateServerSideAuth(),this.post(this.baseURL+`/campaigns/${encodeURIComponent(sn)}/stop`)}enrichURL(sn){return this.get(this.baseURL+"/og",{url:sn})}getTask(sn){return this.get(`${this.baseURL}/tasks/${encodeURIComponent(sn)}`)}async deleteChannels(sn,un={}){return await this.post(this.baseURL+"/channels/delete",{cids:sn,...un})}async deleteUsers(sn,un={}){if(typeof un.user<"u"&&!["soft","hard","pruning"].includes(un.user))throw new Error("Invalid delete user options. user must be one of [soft hard pruning]");if(typeof un.conversations<"u"&&!["soft","hard"].includes(un.conversations))throw new Error("Invalid delete user options. conversations must be one of [soft hard]");if(typeof un.messages<"u"&&!["soft","hard","pruning"].includes(un.messages))throw new Error("Invalid delete user options. messages must be one of [soft hard pruning]");return await this.post(this.baseURL+"/users/delete",{user_ids:sn,...un})}async _createImportURL(sn){return await this.post(this.baseURL+"/import_urls",{filename:sn})}async _createImport(sn,un={mode:"upsert"}){return await this.post(this.baseURL+"/imports",{path:sn,...un})}async _getImport(sn){return await this.get(this.baseURL+`/imports/${encodeURIComponent(sn)}`)}async _listImports(sn){return await this.get(this.baseURL+"/imports",sn)}async upsertPushProvider(sn){return await this.post(this.baseURL+"/push_providers",{push_provider:sn})}async deletePushProvider({type:sn,name:un}){return await this.delete(this.baseURL+`/push_providers/${encodeURIComponent(sn)}/${encodeURIComponent(un)}`)}async listPushProviders(){return await this.get(this.baseURL+"/push_providers")}createAbortControllerForNextRequest(){return this.nextRequestAbortController=new AbortController}async commitMessage(sn){return await this.post(this.baseURL+`/messages/${encodeURIComponent(sn)}/commit`)}async createPoll(sn,un){return await this.post(this.baseURL+"/polls",{...sn,...un?{user_id:un}:{}})}async getPoll(sn,un){return await this.get(this.baseURL+`/polls/${encodeURIComponent(sn)}`,un?{user_id:un}:{})}async updatePoll(sn,un){return await this.put(this.baseURL+"/polls",{...sn,...un?{user_id:un}:{}})}async partialUpdatePoll(sn,un,dn){return await this.patch(this.baseURL+`/polls/${encodeURIComponent(sn)}`,{...un,...dn?{user_id:dn}:{}})}async deletePoll(sn,un){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(sn)}`,{...un?{user_id:un}:{}})}closePoll(sn,un){return this.partialUpdatePoll(sn,{set:{is_closed:!0}},un)}async createPollOption(sn,un,dn){return await this.post(this.baseURL+`/polls/${encodeURIComponent(sn)}/options`,{...un,...dn?{user_id:dn}:{}})}async getPollOption(sn,un,dn){return await this.get(this.baseURL+`/polls/${encodeURIComponent(sn)}/options/${encodeURIComponent(un)}`,dn?{user_id:dn}:{})}async updatePollOption(sn,un,dn){return await this.put(this.baseURL+`/polls/${encodeURIComponent(sn)}/options`,{...un,...dn?{user_id:dn}:{}})}async deletePollOption(sn,un,dn){return await this.delete(this.baseURL+`/polls/${encodeURIComponent(sn)}/options/${encodeURIComponent(un)}`,dn?{user_id:dn}:{})}async castPollVote(sn,un,dn,pn){return await this.post(this.baseURL+`/messages/${encodeURIComponent(sn)}/polls/${encodeURIComponent(un)}/vote`,{vote:dn,...pn?{user_id:pn}:{}})}addPollAnswer(sn,un,dn,pn){return this.castPollVote(sn,un,{answer_text:dn},pn)}async removePollVote(sn,un,dn,pn){return await this.delete(this.baseURL+`/messages/${encodeURIComponent(sn)}/polls/${encodeURIComponent(un)}/vote/${encodeURIComponent(dn)}`,{...pn?{user_id:pn}:{}})}async queryPolls(sn={},un=[],dn={},pn){const mn=pn?`?user_id=${pn}`:"";return await this.post(this.baseURL+`/polls/query${mn}`,{filter:sn,sort:normalizeQuerySort(un),...dn})}async queryPollVotes(sn,un={},dn=[],pn={},mn){const hn=mn?`?user_id=${mn}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(sn)}/votes${hn}`,{filter:un,sort:normalizeQuerySort(dn),...pn})}async queryPollAnswers(sn,un={},dn=[],pn={},mn){const hn=mn?`?user_id=${mn}`:"";return await this.post(this.baseURL+`/polls/${encodeURIComponent(sn)}/votes${hn}`,{filter:{...un,is_answer:!0},sort:normalizeQuerySort(dn),...pn})}async queryMessageHistory(sn={},un=[],dn={}){return await this.post(this.baseURL+"/messages/history",{filter:sn,sort:normalizeQuerySort(un),...dn})}async updateFlags(sn,un,dn={}){return await this.post(this.baseURL+"/automod/v1/moderation/update_flags",{message_ids:sn,reviewed_by:un,...dn})}async queryDrafts(sn={}){const un={...sn,sort:sn.sort?normalizeQuerySort(sn.sort):void 0};return await this.post(this.baseURL+"/drafts/query",un)}async createReminder({messageId:sn,...un}){return await this.post(`${this.baseURL}/messages/${sn}/reminders`,un)}async updateReminder({messageId:sn,...un}){return await this.patch(`${this.baseURL}/messages/${sn}/reminders`,un)}async deleteReminder(sn,un){return await this.delete(`${this.baseURL}/messages/${sn}/reminders`,un?{user_id:un}:{})}async queryReminders({filter:sn,sort:un,...dn}={}){return await this.post(`${this.baseURL}/reminders/query`,{filter:sn,sort:un&&normalizeQuerySort(un),...dn})}async updateLocation(sn){return await this.put(this.baseURL+"/users/live_locations",sn)}uploadFile(sn,un,dn,pn){return this.sendFile(`${this.baseURL}/uploads/file`,sn,un,dn,pn)}uploadImage(sn,un,dn,pn){return this.sendFile(`${this.baseURL}/uploads/image`,sn,un,dn,pn)}deleteFile(sn){return this.delete(`${this.baseURL}/uploads/file`,{url:sn})}deleteImage(sn){return this.delete(`${this.baseURL}/uploads/image`,{url:sn})}},FixedSizeQueueCache=class{constructor(tn,sn){if(!tn)throw new Error("Size must be greater than 0");this.keys=[],this.size=tn,this.map=new Map,this.dispose=(sn==null?void 0:sn.dispose)??null}add(tn,sn){var dn;if(this.keys.indexOf(tn)>-1)this.keys.splice(this.keys.indexOf(tn),1);else if(this.keys.length>=this.size){const pn=this.keys.shift();if(pn){const mn=this.peek(pn);mn&&((dn=this.dispose)==null||dn.call(this,pn,mn)),this.map.delete(pn)}}this.keys.push(tn),this.map.set(tn,sn)}peek(tn){return this.map.get(tn)}get(tn){const sn=this.peek(tn);return sn&&this.keys.indexOf(tn)!==this.size-1&&(this.keys.splice(this.keys.indexOf(tn),1),this.keys.push(tn)),sn}},lib={},players={},utils={},loadScript=function tn(sn,un,dn){var pn=document.head||document.getElementsByTagName("head")[0],mn=document.createElement("script");typeof un=="function"&&(dn=un,un={}),un=un||{},dn=dn||function(){},mn.type=un.type||"text/javascript",mn.charset=un.charset||"utf8",mn.async="async"in un?!!un.async:!0,mn.src=sn,un.attrs&&setAttributes(mn,un.attrs),un.text&&(mn.text=""+un.text);var hn="onload"in mn?stdOnEnd:ieOnEnd;hn(mn,dn),mn.onload||stdOnEnd(mn,dn),pn.appendChild(mn)};function setAttributes(tn,sn){for(var un in sn)tn.setAttribute(un,sn[un])}function stdOnEnd(tn,sn){tn.onload=function(){this.onerror=this.onload=null,sn(null,tn)},tn.onerror=function(){this.onerror=this.onload=null,sn(new Error("Failed to load "+this.src),tn)}}function ieOnEnd(tn,sn){tn.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,sn(null,tn))}}var isMergeableObject=function tn(sn){return isNonNullObject(sn)&&!isSpecial(sn)};function isNonNullObject(tn){return!!tn&&typeof tn=="object"}function isSpecial(tn){var sn=Object.prototype.toString.call(tn);return sn==="[object RegExp]"||sn==="[object Date]"||isReactElement(tn)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(tn){return tn.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(tn){return Array.isArray(tn)?[]:{}}function cloneUnlessOtherwiseSpecified(tn,sn){return sn.clone!==!1&&sn.isMergeableObject(tn)?deepmerge(emptyTarget(tn),tn,sn):tn}function defaultArrayMerge(tn,sn,un){return tn.concat(sn).map(function(dn){return cloneUnlessOtherwiseSpecified(dn,un)})}function getMergeFunction(tn,sn){if(!sn.customMerge)return deepmerge;var un=sn.customMerge(tn);return typeof un=="function"?un:deepmerge}function getEnumerableOwnPropertySymbols(tn){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(tn).filter(function(sn){return Object.propertyIsEnumerable.call(tn,sn)}):[]}function getKeys(tn){return Object.keys(tn).concat(getEnumerableOwnPropertySymbols(tn))}function propertyIsOnObject(tn,sn){try{return sn in tn}catch{return!1}}function propertyIsUnsafe(tn,sn){return propertyIsOnObject(tn,sn)&&!(Object.hasOwnProperty.call(tn,sn)&&Object.propertyIsEnumerable.call(tn,sn))}function mergeObject(tn,sn,un){var dn={};return un.isMergeableObject(tn)&&getKeys(tn).forEach(function(pn){dn[pn]=cloneUnlessOtherwiseSpecified(tn[pn],un)}),getKeys(sn).forEach(function(pn){propertyIsUnsafe(tn,pn)||(propertyIsOnObject(tn,pn)&&un.isMergeableObject(sn[pn])?dn[pn]=getMergeFunction(pn,un)(tn[pn],sn[pn],un):dn[pn]=cloneUnlessOtherwiseSpecified(sn[pn],un))}),dn}function deepmerge(tn,sn,un){un=un||{},un.arrayMerge=un.arrayMerge||defaultArrayMerge,un.isMergeableObject=un.isMergeableObject||isMergeableObject,un.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var dn=Array.isArray(sn),pn=Array.isArray(tn),mn=dn===pn;return mn?dn?un.arrayMerge(tn,sn,un):mergeObject(tn,sn,un):cloneUnlessOtherwiseSpecified(sn,un)}deepmerge.all=function tn(sn,un){if(!Array.isArray(sn))throw new Error("first argument should be an array");return sn.reduce(function(dn,pn){return deepmerge(dn,pn,un)},{})};var deepmerge_1=deepmerge,cjs$2=deepmerge_1;Object.defineProperty(utils,"__esModule",{value:!0});utils.parseStartTime=parseStartTime;utils.parseEndTime=parseEndTime;utils.randomString=randomString;utils.queryString=queryString;utils.getSDK=getSDK;utils.getConfig=getConfig;utils.omit=omit$1;utils.callPlayer=callPlayer;utils.isMediaStream=isMediaStream;utils.isBlobUrl=isBlobUrl;utils.supportsWebKitPresentationMode=supportsWebKitPresentationMode;var _loadScript=_interopRequireDefault$2(loadScript),_deepmerge$1=_interopRequireDefault$2(cjs$2);function _interopRequireDefault$2(tn){return tn&&tn.__esModule?tn:{default:tn}}function _slicedToArray$2(tn,sn){return _arrayWithHoles$2(tn)||_iterableToArrayLimit$2(tn,sn)||_unsupportedIterableToArray$5(tn,sn)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$5(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$5(tn,sn)}}function _arrayLikeToArray$5(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$2(tn,sn){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(tn)))){var un=[],dn=!0,pn=!1,mn=void 0;try{for(var hn=tn[Symbol.iterator](),fn;!(dn=(fn=hn.next()).done)&&(un.push(fn.value),!(sn&&un.length===sn));dn=!0);}catch(gn){pn=!0,mn=gn}finally{try{!dn&&hn.return!=null&&hn.return()}finally{if(pn)throw mn}}return un}}function _arrayWithHoles$2(tn){if(Array.isArray(tn))return tn}var MATCH_START_QUERY=/[?&#](?:start|t)=([0-9hms]+)/,MATCH_END_QUERY=/[?&#]end=([0-9hms]+)/,MATCH_START_STAMP=/(\d+)(h|m|s)/g,MATCH_NUMERIC=/^\d+$/;function parseTimeParam(tn,sn){if(!(tn instanceof Array)){var un=tn.match(sn);if(un){var dn=un[1];if(dn.match(MATCH_START_STAMP))return parseTimeString(dn);if(MATCH_NUMERIC.test(dn))return parseInt(dn)}}}function parseTimeString(tn){for(var sn=0,un=MATCH_START_STAMP.exec(tn);un!==null;){var dn=un,pn=_slicedToArray$2(dn,3),mn=pn[1],hn=pn[2];hn==="h"&&(sn+=parseInt(mn,10)*60*60),hn==="m"&&(sn+=parseInt(mn,10)*60),hn==="s"&&(sn+=parseInt(mn,10)),un=MATCH_START_STAMP.exec(tn)}return sn}function parseStartTime(tn){return parseTimeParam(tn,MATCH_START_QUERY)}function parseEndTime(tn){return parseTimeParam(tn,MATCH_END_QUERY)}function randomString(){return Math.random().toString(36).substr(2,5)}function queryString(tn){return Object.keys(tn).map(function(sn){return"".concat(sn,"=").concat(tn[sn])}).join("&")}function getGlobal(tn){return window[tn]?window[tn]:window.exports&&window.exports[tn]?window.exports[tn]:window.module&&window.module.exports&&window.module.exports[tn]?window.module.exports[tn]:null}var requests={};function getSDK(tn,sn){var un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,dn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},pn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_loadScript.default,mn=getGlobal(sn);return mn&&dn(mn)?Promise.resolve(mn):new Promise(function(hn,fn){if(requests[tn]){requests[tn].push({resolve:hn,reject:fn});return}requests[tn]=[{resolve:hn,reject:fn}];var gn=function(vn){requests[tn].forEach(function(En){return En.resolve(vn)})};if(un){var xn=window[un];window[un]=function(){xn&&xn(),gn(getGlobal(sn))}}pn(tn,function(yn){yn?(requests[tn].forEach(function(vn){return vn.reject(yn)}),requests[tn]=null):un||gn(getGlobal(sn))})})}function getConfig(tn,sn){return(0,_deepmerge$1.default)(sn.config,tn.config)}function omit$1(tn){for(var sn,un=arguments.length,dn=new Array(un>1?un-1:0),pn=1;pn<un;pn++)dn[pn-1]=arguments[pn];for(var mn=(sn=[]).concat.apply(sn,dn),hn={},fn=Object.keys(tn),gn=0,xn=fn;gn<xn.length;gn++){var yn=xn[gn];mn.indexOf(yn)===-1&&(hn[yn]=tn[yn])}return hn}function callPlayer(tn){var sn;if(!this.player||!this.player[tn]){var un="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(tn,"%c – ");return this.player?this.player[tn]||(un+="The method was not available"):un+="The player was not available",console.warn(un,"font-weight: bold",""),null}for(var dn=arguments.length,pn=new Array(dn>1?dn-1:0),mn=1;mn<dn;mn++)pn[mn-1]=arguments[mn];return(sn=this.player)[tn].apply(sn,pn)}function isMediaStream(tn){return typeof window<"u"&&typeof window.MediaStream<"u"&&tn instanceof window.MediaStream}function isBlobUrl(tn){return/^blob:/.test(tn)}function supportsWebKitPresentationMode(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),sn=/iPhone|iPod/.test(navigator.userAgent)===!1;return tn.webkitSupportsPresentationMode&&typeof tn.webkitSetPresentationMode=="function"&&sn}var patterns={};Object.defineProperty(patterns,"__esModule",{value:!0});patterns.canPlay=patterns.FLV_EXTENSIONS=patterns.DASH_EXTENSIONS=patterns.HLS_EXTENSIONS=patterns.VIDEO_EXTENSIONS=patterns.AUDIO_EXTENSIONS=patterns.MATCH_URL_KALTURA=patterns.MATCH_URL_VIDYARD=patterns.MATCH_URL_MIXCLOUD=patterns.MATCH_URL_DAILYMOTION=patterns.MATCH_URL_TWITCH_CHANNEL=patterns.MATCH_URL_TWITCH_VIDEO=patterns.MATCH_URL_WISTIA=patterns.MATCH_URL_STREAMABLE=patterns.MATCH_URL_FACEBOOK_WATCH=patterns.MATCH_URL_FACEBOOK=patterns.MATCH_URL_VIMEO=patterns.MATCH_URL_SOUNDCLOUD=patterns.MATCH_URL_YOUTUBE=void 0;var _utils$1=utils;function _createForOfIteratorHelper(tn,sn){var un;if(typeof Symbol>"u"||tn[Symbol.iterator]==null){if(Array.isArray(tn)||(un=_unsupportedIterableToArray$4(tn))||sn){un&&(tn=un);var dn=0,pn=function(){};return{s:pn,n:function(){return dn>=tn.length?{done:!0}:{done:!1,value:tn[dn++]}},e:function(xn){throw xn},f:pn}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mn=!0,hn=!1,fn;return{s:function(){un=tn[Symbol.iterator]()},n:function(){var xn=un.next();return mn=xn.done,xn},e:function(xn){hn=!0,fn=xn},f:function(){try{!mn&&un.return!=null&&un.return()}finally{if(hn)throw fn}}}}function _unsupportedIterableToArray$4(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$4(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$4(tn,sn)}}function _arrayLikeToArray$4(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}var MATCH_URL_YOUTUBE=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;patterns.MATCH_URL_YOUTUBE=MATCH_URL_YOUTUBE;var MATCH_URL_SOUNDCLOUD=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;patterns.MATCH_URL_SOUNDCLOUD=MATCH_URL_SOUNDCLOUD;var MATCH_URL_VIMEO=/vimeo\.com\/(?!progressive_redirect).+/;patterns.MATCH_URL_VIMEO=MATCH_URL_VIMEO;var MATCH_URL_FACEBOOK=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;patterns.MATCH_URL_FACEBOOK=MATCH_URL_FACEBOOK;var MATCH_URL_FACEBOOK_WATCH=/^https?:\/\/fb\.watch\/.+$/;patterns.MATCH_URL_FACEBOOK_WATCH=MATCH_URL_FACEBOOK_WATCH;var MATCH_URL_STREAMABLE=/streamable\.com\/([a-z0-9]+)$/;patterns.MATCH_URL_STREAMABLE=MATCH_URL_STREAMABLE;var MATCH_URL_WISTIA=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;patterns.MATCH_URL_WISTIA=MATCH_URL_WISTIA;var MATCH_URL_TWITCH_VIDEO=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;patterns.MATCH_URL_TWITCH_VIDEO=MATCH_URL_TWITCH_VIDEO;var MATCH_URL_TWITCH_CHANNEL=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;patterns.MATCH_URL_TWITCH_CHANNEL=MATCH_URL_TWITCH_CHANNEL;var MATCH_URL_DAILYMOTION=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;patterns.MATCH_URL_DAILYMOTION=MATCH_URL_DAILYMOTION;var MATCH_URL_MIXCLOUD=/mixcloud\.com\/([^/]+\/[^/]+)/;patterns.MATCH_URL_MIXCLOUD=MATCH_URL_MIXCLOUD;var MATCH_URL_VIDYARD=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;patterns.MATCH_URL_VIDYARD=MATCH_URL_VIDYARD;var MATCH_URL_KALTURA=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;patterns.MATCH_URL_KALTURA=MATCH_URL_KALTURA;var AUDIO_EXTENSIONS=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;patterns.AUDIO_EXTENSIONS=AUDIO_EXTENSIONS;var VIDEO_EXTENSIONS=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;patterns.VIDEO_EXTENSIONS=VIDEO_EXTENSIONS;var HLS_EXTENSIONS=/\.(m3u8)($|\?)/i;patterns.HLS_EXTENSIONS=HLS_EXTENSIONS;var DASH_EXTENSIONS=/\.(mpd)($|\?)/i;patterns.DASH_EXTENSIONS=DASH_EXTENSIONS;var FLV_EXTENSIONS=/\.(flv)($|\?)/i;patterns.FLV_EXTENSIONS=FLV_EXTENSIONS;var canPlayFile=function tn(sn){if(sn instanceof Array){var un=_createForOfIteratorHelper(sn),dn;try{for(un.s();!(dn=un.n()).done;){var pn=dn.value;if(typeof pn=="string"&&tn(pn)||tn(pn.src))return!0}}catch(mn){un.e(mn)}finally{un.f()}return!1}return(0,_utils$1.isMediaStream)(sn)||(0,_utils$1.isBlobUrl)(sn)?!0:AUDIO_EXTENSIONS.test(sn)||VIDEO_EXTENSIONS.test(sn)||HLS_EXTENSIONS.test(sn)||DASH_EXTENSIONS.test(sn)||FLV_EXTENSIONS.test(sn)},canPlay={youtube:function tn(sn){return sn instanceof Array?sn.every(function(un){return MATCH_URL_YOUTUBE.test(un)}):MATCH_URL_YOUTUBE.test(sn)},soundcloud:function tn(sn){return MATCH_URL_SOUNDCLOUD.test(sn)&&!AUDIO_EXTENSIONS.test(sn)},vimeo:function tn(sn){return MATCH_URL_VIMEO.test(sn)&&!VIDEO_EXTENSIONS.test(sn)&&!HLS_EXTENSIONS.test(sn)},facebook:function tn(sn){return MATCH_URL_FACEBOOK.test(sn)||MATCH_URL_FACEBOOK_WATCH.test(sn)},streamable:function tn(sn){return MATCH_URL_STREAMABLE.test(sn)},wistia:function tn(sn){return MATCH_URL_WISTIA.test(sn)},twitch:function tn(sn){return MATCH_URL_TWITCH_VIDEO.test(sn)||MATCH_URL_TWITCH_CHANNEL.test(sn)},dailymotion:function tn(sn){return MATCH_URL_DAILYMOTION.test(sn)},mixcloud:function tn(sn){return MATCH_URL_MIXCLOUD.test(sn)},vidyard:function tn(sn){return MATCH_URL_VIDYARD.test(sn)},kaltura:function tn(sn){return MATCH_URL_KALTURA.test(sn)},file:canPlayFile};patterns.canPlay=canPlay;var YouTube={},hasRequiredYouTube;function requireYouTube(){return hasRequiredYouTube||(hasRequiredYouTube=1,function(tn){function sn(Ln){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Bn){return typeof Bn}:sn=function(Bn){return Bn&&typeof Symbol=="function"&&Bn.constructor===Symbol&&Bn!==Symbol.prototype?"symbol":typeof Bn},sn(Ln)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Ln=new WeakMap;return mn=function(){return Ln},Ln}function hn(Ln){if(Ln&&Ln.__esModule)return Ln;if(Ln===null||sn(Ln)!=="object"&&typeof Ln!="function")return{default:Ln};var zn=mn();if(zn&&zn.has(Ln))return zn.get(Ln);var Bn={},Fn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Gn in Ln)if(Object.prototype.hasOwnProperty.call(Ln,Gn)){var qn=Fn?Object.getOwnPropertyDescriptor(Ln,Gn):null;qn&&(qn.get||qn.set)?Object.defineProperty(Bn,Gn,qn):Bn[Gn]=Ln[Gn]}return Bn.default=Ln,zn&&zn.set(Ln,Bn),Bn}function fn(Ln,zn){var Bn=Object.keys(Ln);if(Object.getOwnPropertySymbols){var Fn=Object.getOwnPropertySymbols(Ln);zn&&(Fn=Fn.filter(function(Gn){return Object.getOwnPropertyDescriptor(Ln,Gn).enumerable})),Bn.push.apply(Bn,Fn)}return Bn}function gn(Ln){for(var zn=1;zn<arguments.length;zn++){var Bn=arguments[zn]!=null?arguments[zn]:{};zn%2?fn(Object(Bn),!0).forEach(function(Fn){kn(Ln,Fn,Bn[Fn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ln,Object.getOwnPropertyDescriptors(Bn)):fn(Object(Bn)).forEach(function(Fn){Object.defineProperty(Ln,Fn,Object.getOwnPropertyDescriptor(Bn,Fn))})}return Ln}function xn(Ln,zn){return wn(Ln)||bn(Ln,zn)||vn(Ln,zn)||yn()}function yn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vn(Ln,zn){if(Ln){if(typeof Ln=="string")return En(Ln,zn);var Bn=Object.prototype.toString.call(Ln).slice(8,-1);if(Bn==="Object"&&Ln.constructor&&(Bn=Ln.constructor.name),Bn==="Map"||Bn==="Set")return Array.from(Ln);if(Bn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Bn))return En(Ln,zn)}}function En(Ln,zn){(zn==null||zn>Ln.length)&&(zn=Ln.length);for(var Bn=0,Fn=new Array(zn);Bn<zn;Bn++)Fn[Bn]=Ln[Bn];return Fn}function bn(Ln,zn){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ln)))){var Bn=[],Fn=!0,Gn=!1,qn=void 0;try{for(var Jn=Ln[Symbol.iterator](),dr;!(Fn=(dr=Jn.next()).done)&&(Bn.push(dr.value),!(zn&&Bn.length===zn));Fn=!0);}catch(br){Gn=!0,qn=br}finally{try{!Fn&&Jn.return!=null&&Jn.return()}finally{if(Gn)throw qn}}return Bn}}function wn(Ln){if(Array.isArray(Ln))return Ln}function Sn(Ln,zn){if(!(Ln instanceof zn))throw new TypeError("Cannot call a class as a function")}function Rn(Ln,zn){for(var Bn=0;Bn<zn.length;Bn++){var Fn=zn[Bn];Fn.enumerable=Fn.enumerable||!1,Fn.configurable=!0,"value"in Fn&&(Fn.writable=!0),Object.defineProperty(Ln,Fn.key,Fn)}}function _n(Ln,zn,Bn){return zn&&Rn(Ln.prototype,zn),Ln}function jn(Ln,zn){if(typeof zn!="function"&&zn!==null)throw new TypeError("Super expression must either be null or a function");Ln.prototype=Object.create(zn&&zn.prototype,{constructor:{value:Ln,writable:!0,configurable:!0}}),zn&&Cn(Ln,zn)}function Cn(Ln,zn){return Cn=Object.setPrototypeOf||function(Fn,Gn){return Fn.__proto__=Gn,Fn},Cn(Ln,zn)}function An(Ln){var zn=Dn();return function(){var Fn=Nn(Ln),Gn;if(zn){var qn=Nn(this).constructor;Gn=Reflect.construct(Fn,arguments,qn)}else Gn=Fn.apply(this,arguments);return Tn(this,Gn)}}function Tn(Ln,zn){return zn&&(sn(zn)==="object"||typeof zn=="function")?zn:$n(Ln)}function $n(Ln){if(Ln===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ln}function Dn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nn(Ln){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(Bn){return Bn.__proto__||Object.getPrototypeOf(Bn)},Nn(Ln)}function kn(Ln,zn,Bn){return zn in Ln?Object.defineProperty(Ln,zn,{value:Bn,enumerable:!0,configurable:!0,writable:!0}):Ln[zn]=Bn,Ln}var Pn="https://www.youtube.com/iframe_api",Mn="YT",On="onYouTubeIframeAPIReady",Wn=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,In=/user\/([a-zA-Z0-9_-]+)\/?/,Un=/youtube-nocookie\.com/,Vn="https://www.youtube-nocookie.com",Hn=function(Ln){jn(Bn,Ln);var zn=An(Bn);function Bn(){var Fn;Sn(this,Bn);for(var Gn=arguments.length,qn=new Array(Gn),Jn=0;Jn<Gn;Jn++)qn[Jn]=arguments[Jn];return Fn=zn.call.apply(zn,[this].concat(qn)),kn($n(Fn),"callPlayer",dn.callPlayer),kn($n(Fn),"parsePlaylist",function(dr){if(dr instanceof Array)return{listType:"playlist",playlist:dr.map(Fn.getID).join(",")};if(Wn.test(dr)){var br=dr.match(Wn),Er=xn(br,2),yr=Er[1];return{listType:"playlist",list:yr.replace(/^UC/,"UU")}}if(In.test(dr)){var xr=dr.match(In),vr=xn(xr,2),nr=vr[1];return{listType:"user_uploads",list:nr}}return{}}),kn($n(Fn),"onStateChange",function(dr){var br=dr.data,Er=Fn.props,yr=Er.onPlay,xr=Er.onPause,vr=Er.onBuffer,nr=Er.onBufferEnd,sr=Er.onEnded,Rr=Er.onReady,Ar=Er.loop,Lr=Er.config,Or=Lr.playerVars,Zn=Lr.onUnstarted,Cr=window[Mn].PlayerState,Fr=Cr.UNSTARTED,Pr=Cr.PLAYING,Br=Cr.PAUSED,ar=Cr.BUFFERING,pr=Cr.ENDED,Xn=Cr.CUED;if(br===Fr&&Zn(),br===Pr&&(yr(),nr()),br===Br&&xr(),br===ar&&vr(),br===pr){var $r=!!Fn.callPlayer("getPlaylist");Ar&&!$r&&(Or.start?Fn.seekTo(Or.start):Fn.play()),sr()}br===Xn&&Rr()}),kn($n(Fn),"mute",function(){Fn.callPlayer("mute")}),kn($n(Fn),"unmute",function(){Fn.callPlayer("unMute")}),kn($n(Fn),"ref",function(dr){Fn.container=dr}),Fn}return _n(Bn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(Gn){return!Gn||Gn instanceof Array||Wn.test(Gn)?null:Gn.match(pn.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(Gn,qn){var Jn=this,dr=this.props,br=dr.playing,Er=dr.muted,yr=dr.playsinline,xr=dr.controls,vr=dr.loop,nr=dr.config,sr=dr.onError,Rr=nr.playerVars,Ar=nr.embedOptions,Lr=this.getID(Gn);if(qn){if(Wn.test(Gn)||In.test(Gn)||Gn instanceof Array){this.player.loadPlaylist(this.parsePlaylist(Gn));return}this.player.cueVideoById({videoId:Lr,startSeconds:(0,dn.parseStartTime)(Gn)||Rr.start,endSeconds:(0,dn.parseEndTime)(Gn)||Rr.end});return}(0,dn.getSDK)(Pn,Mn,On,function(Or){return Or.loaded}).then(function(Or){Jn.container&&(Jn.player=new Or.Player(Jn.container,gn({width:"100%",height:"100%",videoId:Lr,playerVars:gn(gn({autoplay:br?1:0,mute:Er?1:0,controls:xr?1:0,start:(0,dn.parseStartTime)(Gn),end:(0,dn.parseEndTime)(Gn),origin:window.location.origin,playsinline:yr?1:0},Jn.parsePlaylist(Gn)),Rr),events:{onReady:function(){vr&&Jn.player.setLoop(!0),Jn.props.onReady()},onPlaybackRateChange:function(Cr){return Jn.props.onPlaybackRateChange(Cr.data)},onStateChange:Jn.onStateChange,onError:function(Cr){return sr(Cr.data)}},host:Un.test(Gn)?Vn:void 0},Ar)))},sr),Ar.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(Gn){this.callPlayer("seekTo",Gn),this.props.playing||this.pause()}},{key:"setVolume",value:function(Gn){this.callPlayer("setVolume",Gn*100)}},{key:"setPlaybackRate",value:function(Gn){this.callPlayer("setPlaybackRate",Gn)}},{key:"setLoop",value:function(Gn){this.callPlayer("setLoop",Gn)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var Gn=this.props.display,qn={width:"100%",height:"100%",display:Gn};return un.default.createElement("div",{style:qn},un.default.createElement("div",{ref:this.ref}))}}]),Bn}(un.Component);tn.default=Hn,kn(Hn,"displayName","YouTube"),kn(Hn,"canPlay",pn.canPlay.youtube)}(YouTube)),YouTube}var SoundCloud={},hasRequiredSoundCloud;function requireSoundCloud(){return hasRequiredSoundCloud||(hasRequiredSoundCloud=1,function(tn){function sn(Dn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(kn){return typeof kn}:sn=function(kn){return kn&&typeof Symbol=="function"&&kn.constructor===Symbol&&kn!==Symbol.prototype?"symbol":typeof kn},sn(Dn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Dn=new WeakMap;return mn=function(){return Dn},Dn}function hn(Dn){if(Dn&&Dn.__esModule)return Dn;if(Dn===null||sn(Dn)!=="object"&&typeof Dn!="function")return{default:Dn};var Nn=mn();if(Nn&&Nn.has(Dn))return Nn.get(Dn);var kn={},Pn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mn in Dn)if(Object.prototype.hasOwnProperty.call(Dn,Mn)){var On=Pn?Object.getOwnPropertyDescriptor(Dn,Mn):null;On&&(On.get||On.set)?Object.defineProperty(kn,Mn,On):kn[Mn]=Dn[Mn]}return kn.default=Dn,Nn&&Nn.set(Dn,kn),kn}function fn(Dn,Nn){var kn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var Pn=Object.getOwnPropertySymbols(Dn);Nn&&(Pn=Pn.filter(function(Mn){return Object.getOwnPropertyDescriptor(Dn,Mn).enumerable})),kn.push.apply(kn,Pn)}return kn}function gn(Dn){for(var Nn=1;Nn<arguments.length;Nn++){var kn=arguments[Nn]!=null?arguments[Nn]:{};Nn%2?fn(Object(kn),!0).forEach(function(Pn){Cn(Dn,Pn,kn[Pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(kn)):fn(Object(kn)).forEach(function(Pn){Object.defineProperty(Dn,Pn,Object.getOwnPropertyDescriptor(kn,Pn))})}return Dn}function xn(Dn,Nn){if(!(Dn instanceof Nn))throw new TypeError("Cannot call a class as a function")}function yn(Dn,Nn){for(var kn=0;kn<Nn.length;kn++){var Pn=Nn[kn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(Dn,Pn.key,Pn)}}function vn(Dn,Nn,kn){return Nn&&yn(Dn.prototype,Nn),Dn}function En(Dn,Nn){if(typeof Nn!="function"&&Nn!==null)throw new TypeError("Super expression must either be null or a function");Dn.prototype=Object.create(Nn&&Nn.prototype,{constructor:{value:Dn,writable:!0,configurable:!0}}),Nn&&bn(Dn,Nn)}function bn(Dn,Nn){return bn=Object.setPrototypeOf||function(Pn,Mn){return Pn.__proto__=Mn,Pn},bn(Dn,Nn)}function wn(Dn){var Nn=_n();return function(){var Pn=jn(Dn),Mn;if(Nn){var On=jn(this).constructor;Mn=Reflect.construct(Pn,arguments,On)}else Mn=Pn.apply(this,arguments);return Sn(this,Mn)}}function Sn(Dn,Nn){return Nn&&(sn(Nn)==="object"||typeof Nn=="function")?Nn:Rn(Dn)}function Rn(Dn){if(Dn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dn}function _n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jn(Dn){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(kn){return kn.__proto__||Object.getPrototypeOf(kn)},jn(Dn)}function Cn(Dn,Nn,kn){return Nn in Dn?Object.defineProperty(Dn,Nn,{value:kn,enumerable:!0,configurable:!0,writable:!0}):Dn[Nn]=kn,Dn}var An="https://w.soundcloud.com/player/api.js",Tn="SC",$n=function(Dn){En(kn,Dn);var Nn=wn(kn);function kn(){var Pn;xn(this,kn);for(var Mn=arguments.length,On=new Array(Mn),Wn=0;Wn<Mn;Wn++)On[Wn]=arguments[Wn];return Pn=Nn.call.apply(Nn,[this].concat(On)),Cn(Rn(Pn),"callPlayer",dn.callPlayer),Cn(Rn(Pn),"duration",null),Cn(Rn(Pn),"currentTime",null),Cn(Rn(Pn),"fractionLoaded",null),Cn(Rn(Pn),"mute",function(){Pn.setVolume(0)}),Cn(Rn(Pn),"unmute",function(){Pn.props.volume!==null&&Pn.setVolume(Pn.props.volume)}),Cn(Rn(Pn),"ref",function(In){Pn.iframe=In}),Pn}return vn(kn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Mn,On){var Wn=this;(0,dn.getSDK)(An,Tn).then(function(In){if(Wn.iframe){var Un=In.Widget.Events,Vn=Un.PLAY,Hn=Un.PLAY_PROGRESS,Ln=Un.PAUSE,zn=Un.FINISH,Bn=Un.ERROR;On||(Wn.player=In.Widget(Wn.iframe),Wn.player.bind(Vn,Wn.props.onPlay),Wn.player.bind(Ln,function(){var Fn=Wn.duration-Wn.currentTime;Fn<.05||Wn.props.onPause()}),Wn.player.bind(Hn,function(Fn){Wn.currentTime=Fn.currentPosition/1e3,Wn.fractionLoaded=Fn.loadedProgress}),Wn.player.bind(zn,function(){return Wn.props.onEnded()}),Wn.player.bind(Bn,function(Fn){return Wn.props.onError(Fn)})),Wn.player.load(Mn,gn(gn({},Wn.props.config.options),{},{callback:function(){Wn.player.getDuration(function(Gn){Wn.duration=Gn/1e3,Wn.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Mn){this.callPlayer("seekTo",Mn*1e3)}},{key:"setVolume",value:function(Mn){this.callPlayer("setVolume",Mn*100)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var Mn=this.props.display,On={width:"100%",height:"100%",display:Mn};return un.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:On,frameBorder:0,allow:"autoplay"})}}]),kn}(un.Component);tn.default=$n,Cn($n,"displayName","SoundCloud"),Cn($n,"canPlay",pn.canPlay.soundcloud),Cn($n,"loopOnEnded",!0)}(SoundCloud)),SoundCloud}var Vimeo={},hasRequiredVimeo;function requireVimeo(){return hasRequiredVimeo||(hasRequiredVimeo=1,function(tn){function sn(Dn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(kn){return typeof kn}:sn=function(kn){return kn&&typeof Symbol=="function"&&kn.constructor===Symbol&&kn!==Symbol.prototype?"symbol":typeof kn},sn(Dn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Dn=new WeakMap;return mn=function(){return Dn},Dn}function hn(Dn){if(Dn&&Dn.__esModule)return Dn;if(Dn===null||sn(Dn)!=="object"&&typeof Dn!="function")return{default:Dn};var Nn=mn();if(Nn&&Nn.has(Dn))return Nn.get(Dn);var kn={},Pn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mn in Dn)if(Object.prototype.hasOwnProperty.call(Dn,Mn)){var On=Pn?Object.getOwnPropertyDescriptor(Dn,Mn):null;On&&(On.get||On.set)?Object.defineProperty(kn,Mn,On):kn[Mn]=Dn[Mn]}return kn.default=Dn,Nn&&Nn.set(Dn,kn),kn}function fn(Dn,Nn){var kn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var Pn=Object.getOwnPropertySymbols(Dn);Nn&&(Pn=Pn.filter(function(Mn){return Object.getOwnPropertyDescriptor(Dn,Mn).enumerable})),kn.push.apply(kn,Pn)}return kn}function gn(Dn){for(var Nn=1;Nn<arguments.length;Nn++){var kn=arguments[Nn]!=null?arguments[Nn]:{};Nn%2?fn(Object(kn),!0).forEach(function(Pn){Cn(Dn,Pn,kn[Pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(kn)):fn(Object(kn)).forEach(function(Pn){Object.defineProperty(Dn,Pn,Object.getOwnPropertyDescriptor(kn,Pn))})}return Dn}function xn(Dn,Nn){if(!(Dn instanceof Nn))throw new TypeError("Cannot call a class as a function")}function yn(Dn,Nn){for(var kn=0;kn<Nn.length;kn++){var Pn=Nn[kn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(Dn,Pn.key,Pn)}}function vn(Dn,Nn,kn){return Nn&&yn(Dn.prototype,Nn),Dn}function En(Dn,Nn){if(typeof Nn!="function"&&Nn!==null)throw new TypeError("Super expression must either be null or a function");Dn.prototype=Object.create(Nn&&Nn.prototype,{constructor:{value:Dn,writable:!0,configurable:!0}}),Nn&&bn(Dn,Nn)}function bn(Dn,Nn){return bn=Object.setPrototypeOf||function(Pn,Mn){return Pn.__proto__=Mn,Pn},bn(Dn,Nn)}function wn(Dn){var Nn=_n();return function(){var Pn=jn(Dn),Mn;if(Nn){var On=jn(this).constructor;Mn=Reflect.construct(Pn,arguments,On)}else Mn=Pn.apply(this,arguments);return Sn(this,Mn)}}function Sn(Dn,Nn){return Nn&&(sn(Nn)==="object"||typeof Nn=="function")?Nn:Rn(Dn)}function Rn(Dn){if(Dn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dn}function _n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jn(Dn){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(kn){return kn.__proto__||Object.getPrototypeOf(kn)},jn(Dn)}function Cn(Dn,Nn,kn){return Nn in Dn?Object.defineProperty(Dn,Nn,{value:kn,enumerable:!0,configurable:!0,writable:!0}):Dn[Nn]=kn,Dn}var An="https://player.vimeo.com/api/player.js",Tn="Vimeo",$n=function(Dn){En(kn,Dn);var Nn=wn(kn);function kn(){var Pn;xn(this,kn);for(var Mn=arguments.length,On=new Array(Mn),Wn=0;Wn<Mn;Wn++)On[Wn]=arguments[Wn];return Pn=Nn.call.apply(Nn,[this].concat(On)),Cn(Rn(Pn),"callPlayer",dn.callPlayer),Cn(Rn(Pn),"duration",null),Cn(Rn(Pn),"currentTime",null),Cn(Rn(Pn),"secondsLoaded",null),Cn(Rn(Pn),"mute",function(){Pn.setVolume(0)}),Cn(Rn(Pn),"unmute",function(){Pn.props.volume!==null&&Pn.setVolume(Pn.props.volume)}),Cn(Rn(Pn),"ref",function(In){Pn.container=In}),Pn}return vn(kn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Mn){var On=this;this.duration=null,(0,dn.getSDK)(An,Tn).then(function(Wn){if(On.container){var In=On.props.config,Un=In.playerOptions,Vn=In.title;On.player=new Wn.Player(On.container,gn({url:Mn,autoplay:On.props.playing,muted:On.props.muted,loop:On.props.loop,playsinline:On.props.playsinline,controls:On.props.controls},Un)),On.player.ready().then(function(){var Hn=On.container.querySelector("iframe");Hn.style.width="100%",Hn.style.height="100%",Vn&&(Hn.title=Vn)}).catch(On.props.onError),On.player.on("loaded",function(){On.props.onReady(),On.refreshDuration()}),On.player.on("play",function(){On.props.onPlay(),On.refreshDuration()}),On.player.on("pause",On.props.onPause),On.player.on("seeked",function(Hn){return On.props.onSeek(Hn.seconds)}),On.player.on("ended",On.props.onEnded),On.player.on("error",On.props.onError),On.player.on("timeupdate",function(Hn){var Ln=Hn.seconds;On.currentTime=Ln}),On.player.on("progress",function(Hn){var Ln=Hn.seconds;On.secondsLoaded=Ln}),On.player.on("bufferstart",On.props.onBuffer),On.player.on("bufferend",On.props.onBufferEnd)}},this.props.onError)}},{key:"refreshDuration",value:function(){var Mn=this;this.player.getDuration().then(function(On){Mn.duration=On})}},{key:"play",value:function(){var Mn=this.callPlayer("play");Mn&&Mn.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(Mn){this.callPlayer("setCurrentTime",Mn)}},{key:"setVolume",value:function(Mn){this.callPlayer("setVolume",Mn)}},{key:"setLoop",value:function(Mn){this.callPlayer("setLoop",Mn)}},{key:"setPlaybackRate",value:function(Mn){this.callPlayer("setPlaybackRate",Mn)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var Mn=this.props.display,On={width:"100%",height:"100%",overflow:"hidden",display:Mn};return un.default.createElement("div",{key:this.props.url,ref:this.ref,style:On})}}]),kn}(un.Component);tn.default=$n,Cn($n,"displayName","Vimeo"),Cn($n,"canPlay",pn.canPlay.vimeo),Cn($n,"forceLoad",!0)}(Vimeo)),Vimeo}var Facebook={},hasRequiredFacebook;function requireFacebook(){return hasRequiredFacebook||(hasRequiredFacebook=1,function(tn){function sn(Nn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Pn){return typeof Pn}:sn=function(Pn){return Pn&&typeof Symbol=="function"&&Pn.constructor===Symbol&&Pn!==Symbol.prototype?"symbol":typeof Pn},sn(Nn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Nn=new WeakMap;return mn=function(){return Nn},Nn}function hn(Nn){if(Nn&&Nn.__esModule)return Nn;if(Nn===null||sn(Nn)!=="object"&&typeof Nn!="function")return{default:Nn};var kn=mn();if(kn&&kn.has(Nn))return kn.get(Nn);var Pn={},Mn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var On in Nn)if(Object.prototype.hasOwnProperty.call(Nn,On)){var Wn=Mn?Object.getOwnPropertyDescriptor(Nn,On):null;Wn&&(Wn.get||Wn.set)?Object.defineProperty(Pn,On,Wn):Pn[On]=Nn[On]}return Pn.default=Nn,kn&&kn.set(Nn,Pn),Pn}function fn(){return fn=Object.assign||function(Nn){for(var kn=1;kn<arguments.length;kn++){var Pn=arguments[kn];for(var Mn in Pn)Object.prototype.hasOwnProperty.call(Pn,Mn)&&(Nn[Mn]=Pn[Mn])}return Nn},fn.apply(this,arguments)}function gn(Nn,kn){if(!(Nn instanceof kn))throw new TypeError("Cannot call a class as a function")}function xn(Nn,kn){for(var Pn=0;Pn<kn.length;Pn++){var Mn=kn[Pn];Mn.enumerable=Mn.enumerable||!1,Mn.configurable=!0,"value"in Mn&&(Mn.writable=!0),Object.defineProperty(Nn,Mn.key,Mn)}}function yn(Nn,kn,Pn){return kn&&xn(Nn.prototype,kn),Nn}function vn(Nn,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function");Nn.prototype=Object.create(kn&&kn.prototype,{constructor:{value:Nn,writable:!0,configurable:!0}}),kn&&En(Nn,kn)}function En(Nn,kn){return En=Object.setPrototypeOf||function(Mn,On){return Mn.__proto__=On,Mn},En(Nn,kn)}function bn(Nn){var kn=Rn();return function(){var Mn=_n(Nn),On;if(kn){var Wn=_n(this).constructor;On=Reflect.construct(Mn,arguments,Wn)}else On=Mn.apply(this,arguments);return wn(this,On)}}function wn(Nn,kn){return kn&&(sn(kn)==="object"||typeof kn=="function")?kn:Sn(Nn)}function Sn(Nn){if(Nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nn}function Rn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _n(Nn){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(Pn){return Pn.__proto__||Object.getPrototypeOf(Pn)},_n(Nn)}function jn(Nn,kn,Pn){return kn in Nn?Object.defineProperty(Nn,kn,{value:Pn,enumerable:!0,configurable:!0,writable:!0}):Nn[kn]=Pn,Nn}var Cn="https://connect.facebook.net/en_US/sdk.js",An="FB",Tn="fbAsyncInit",$n="facebook-player-",Dn=function(Nn){vn(Pn,Nn);var kn=bn(Pn);function Pn(){var Mn;gn(this,Pn);for(var On=arguments.length,Wn=new Array(On),In=0;In<On;In++)Wn[In]=arguments[In];return Mn=kn.call.apply(kn,[this].concat(Wn)),jn(Sn(Mn),"callPlayer",dn.callPlayer),jn(Sn(Mn),"playerID",Mn.props.config.playerId||"".concat($n).concat((0,dn.randomString)())),jn(Sn(Mn),"mute",function(){Mn.callPlayer("mute")}),jn(Sn(Mn),"unmute",function(){Mn.callPlayer("unmute")}),Mn}return yn(Pn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(On,Wn){var In=this;if(Wn){(0,dn.getSDK)(Cn,An,Tn).then(function(Un){return Un.XFBML.parse()});return}(0,dn.getSDK)(Cn,An,Tn).then(function(Un){Un.init({appId:In.props.config.appId,xfbml:!0,version:In.props.config.version}),Un.Event.subscribe("xfbml.render",function(Vn){In.props.onLoaded()}),Un.Event.subscribe("xfbml.ready",function(Vn){Vn.type==="video"&&Vn.id===In.playerID&&(In.player=Vn.instance,In.player.subscribe("startedPlaying",In.props.onPlay),In.player.subscribe("paused",In.props.onPause),In.player.subscribe("finishedPlaying",In.props.onEnded),In.player.subscribe("startedBuffering",In.props.onBuffer),In.player.subscribe("finishedBuffering",In.props.onBufferEnd),In.player.subscribe("error",In.props.onError),In.props.muted?In.callPlayer("mute"):In.callPlayer("unmute"),In.props.onReady(),document.getElementById(In.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(On){this.callPlayer("seek",On)}},{key:"setVolume",value:function(On){this.callPlayer("setVolume",On)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var On=this.props.config.attributes,Wn={width:"100%",height:"100%"};return un.default.createElement("div",fn({style:Wn,id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},On))}}]),Pn}(un.Component);tn.default=Dn,jn(Dn,"displayName","Facebook"),jn(Dn,"canPlay",pn.canPlay.facebook),jn(Dn,"loopOnEnded",!0)}(Facebook)),Facebook}var Streamable={},hasRequiredStreamable;function requireStreamable(){return hasRequiredStreamable||(hasRequiredStreamable=1,function(tn){function sn(Tn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Dn){return typeof Dn}:sn=function(Dn){return Dn&&typeof Symbol=="function"&&Dn.constructor===Symbol&&Dn!==Symbol.prototype?"symbol":typeof Dn},sn(Tn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Tn=new WeakMap;return mn=function(){return Tn},Tn}function hn(Tn){if(Tn&&Tn.__esModule)return Tn;if(Tn===null||sn(Tn)!=="object"&&typeof Tn!="function")return{default:Tn};var $n=mn();if($n&&$n.has(Tn))return $n.get(Tn);var Dn={},Nn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var kn in Tn)if(Object.prototype.hasOwnProperty.call(Tn,kn)){var Pn=Nn?Object.getOwnPropertyDescriptor(Tn,kn):null;Pn&&(Pn.get||Pn.set)?Object.defineProperty(Dn,kn,Pn):Dn[kn]=Tn[kn]}return Dn.default=Tn,$n&&$n.set(Tn,Dn),Dn}function fn(Tn,$n){if(!(Tn instanceof $n))throw new TypeError("Cannot call a class as a function")}function gn(Tn,$n){for(var Dn=0;Dn<$n.length;Dn++){var Nn=$n[Dn];Nn.enumerable=Nn.enumerable||!1,Nn.configurable=!0,"value"in Nn&&(Nn.writable=!0),Object.defineProperty(Tn,Nn.key,Nn)}}function xn(Tn,$n,Dn){return $n&&gn(Tn.prototype,$n),Tn}function yn(Tn,$n){if(typeof $n!="function"&&$n!==null)throw new TypeError("Super expression must either be null or a function");Tn.prototype=Object.create($n&&$n.prototype,{constructor:{value:Tn,writable:!0,configurable:!0}}),$n&&vn(Tn,$n)}function vn(Tn,$n){return vn=Object.setPrototypeOf||function(Nn,kn){return Nn.__proto__=kn,Nn},vn(Tn,$n)}function En(Tn){var $n=Sn();return function(){var Nn=Rn(Tn),kn;if($n){var Pn=Rn(this).constructor;kn=Reflect.construct(Nn,arguments,Pn)}else kn=Nn.apply(this,arguments);return bn(this,kn)}}function bn(Tn,$n){return $n&&(sn($n)==="object"||typeof $n=="function")?$n:wn(Tn)}function wn(Tn){if(Tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tn}function Sn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rn(Tn){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(Dn){return Dn.__proto__||Object.getPrototypeOf(Dn)},Rn(Tn)}function _n(Tn,$n,Dn){return $n in Tn?Object.defineProperty(Tn,$n,{value:Dn,enumerable:!0,configurable:!0,writable:!0}):Tn[$n]=Dn,Tn}var jn="https://cdn.embed.ly/player-0.1.0.min.js",Cn="playerjs",An=function(Tn){yn(Dn,Tn);var $n=En(Dn);function Dn(){var Nn;fn(this,Dn);for(var kn=arguments.length,Pn=new Array(kn),Mn=0;Mn<kn;Mn++)Pn[Mn]=arguments[Mn];return Nn=$n.call.apply($n,[this].concat(Pn)),_n(wn(Nn),"callPlayer",dn.callPlayer),_n(wn(Nn),"duration",null),_n(wn(Nn),"currentTime",null),_n(wn(Nn),"secondsLoaded",null),_n(wn(Nn),"mute",function(){Nn.callPlayer("mute")}),_n(wn(Nn),"unmute",function(){Nn.callPlayer("unmute")}),_n(wn(Nn),"ref",function(On){Nn.iframe=On}),Nn}return xn(Dn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(kn){var Pn=this;(0,dn.getSDK)(jn,Cn).then(function(Mn){Pn.iframe&&(Pn.player=new Mn.Player(Pn.iframe),Pn.player.setLoop(Pn.props.loop),Pn.player.on("ready",Pn.props.onReady),Pn.player.on("play",Pn.props.onPlay),Pn.player.on("pause",Pn.props.onPause),Pn.player.on("seeked",Pn.props.onSeek),Pn.player.on("ended",Pn.props.onEnded),Pn.player.on("error",Pn.props.onError),Pn.player.on("timeupdate",function(On){var Wn=On.duration,In=On.seconds;Pn.duration=Wn,Pn.currentTime=In}),Pn.player.on("buffered",function(On){var Wn=On.percent;Pn.duration&&(Pn.secondsLoaded=Pn.duration*Wn)}),Pn.props.muted&&Pn.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(kn){this.callPlayer("setCurrentTime",kn)}},{key:"setVolume",value:function(kn){this.callPlayer("setVolume",kn*100)}},{key:"setLoop",value:function(kn){this.callPlayer("setLoop",kn)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var kn=this.props.url.match(pn.MATCH_URL_STREAMABLE)[1],Pn={width:"100%",height:"100%"};return un.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(kn),frameBorder:"0",scrolling:"no",style:Pn,allow:"encrypted-media; autoplay; fullscreen;"})}}]),Dn}(un.Component);tn.default=An,_n(An,"displayName","Streamable"),_n(An,"canPlay",pn.canPlay.streamable)}(Streamable)),Streamable}var Wistia={},hasRequiredWistia;function requireWistia(){return hasRequiredWistia||(hasRequiredWistia=1,function(tn){function sn(Nn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Pn){return typeof Pn}:sn=function(Pn){return Pn&&typeof Symbol=="function"&&Pn.constructor===Symbol&&Pn!==Symbol.prototype?"symbol":typeof Pn},sn(Nn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Nn=new WeakMap;return mn=function(){return Nn},Nn}function hn(Nn){if(Nn&&Nn.__esModule)return Nn;if(Nn===null||sn(Nn)!=="object"&&typeof Nn!="function")return{default:Nn};var kn=mn();if(kn&&kn.has(Nn))return kn.get(Nn);var Pn={},Mn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var On in Nn)if(Object.prototype.hasOwnProperty.call(Nn,On)){var Wn=Mn?Object.getOwnPropertyDescriptor(Nn,On):null;Wn&&(Wn.get||Wn.set)?Object.defineProperty(Pn,On,Wn):Pn[On]=Nn[On]}return Pn.default=Nn,kn&&kn.set(Nn,Pn),Pn}function fn(Nn,kn){var Pn=Object.keys(Nn);if(Object.getOwnPropertySymbols){var Mn=Object.getOwnPropertySymbols(Nn);kn&&(Mn=Mn.filter(function(On){return Object.getOwnPropertyDescriptor(Nn,On).enumerable})),Pn.push.apply(Pn,Mn)}return Pn}function gn(Nn){for(var kn=1;kn<arguments.length;kn++){var Pn=arguments[kn]!=null?arguments[kn]:{};kn%2?fn(Object(Pn),!0).forEach(function(Mn){Cn(Nn,Mn,Pn[Mn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nn,Object.getOwnPropertyDescriptors(Pn)):fn(Object(Pn)).forEach(function(Mn){Object.defineProperty(Nn,Mn,Object.getOwnPropertyDescriptor(Pn,Mn))})}return Nn}function xn(Nn,kn){if(!(Nn instanceof kn))throw new TypeError("Cannot call a class as a function")}function yn(Nn,kn){for(var Pn=0;Pn<kn.length;Pn++){var Mn=kn[Pn];Mn.enumerable=Mn.enumerable||!1,Mn.configurable=!0,"value"in Mn&&(Mn.writable=!0),Object.defineProperty(Nn,Mn.key,Mn)}}function vn(Nn,kn,Pn){return kn&&yn(Nn.prototype,kn),Nn}function En(Nn,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function");Nn.prototype=Object.create(kn&&kn.prototype,{constructor:{value:Nn,writable:!0,configurable:!0}}),kn&&bn(Nn,kn)}function bn(Nn,kn){return bn=Object.setPrototypeOf||function(Mn,On){return Mn.__proto__=On,Mn},bn(Nn,kn)}function wn(Nn){var kn=_n();return function(){var Mn=jn(Nn),On;if(kn){var Wn=jn(this).constructor;On=Reflect.construct(Mn,arguments,Wn)}else On=Mn.apply(this,arguments);return Sn(this,On)}}function Sn(Nn,kn){return kn&&(sn(kn)==="object"||typeof kn=="function")?kn:Rn(Nn)}function Rn(Nn){if(Nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nn}function _n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jn(Nn){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(Pn){return Pn.__proto__||Object.getPrototypeOf(Pn)},jn(Nn)}function Cn(Nn,kn,Pn){return kn in Nn?Object.defineProperty(Nn,kn,{value:Pn,enumerable:!0,configurable:!0,writable:!0}):Nn[kn]=Pn,Nn}var An="https://fast.wistia.com/assets/external/E-v1.js",Tn="Wistia",$n="wistia-player-",Dn=function(Nn){En(Pn,Nn);var kn=wn(Pn);function Pn(){var Mn;xn(this,Pn);for(var On=arguments.length,Wn=new Array(On),In=0;In<On;In++)Wn[In]=arguments[In];return Mn=kn.call.apply(kn,[this].concat(Wn)),Cn(Rn(Mn),"callPlayer",dn.callPlayer),Cn(Rn(Mn),"playerID",Mn.props.config.playerId||"".concat($n).concat((0,dn.randomString)())),Cn(Rn(Mn),"onPlay",function(){var Un;return(Un=Mn.props).onPlay.apply(Un,arguments)}),Cn(Rn(Mn),"onPause",function(){var Un;return(Un=Mn.props).onPause.apply(Un,arguments)}),Cn(Rn(Mn),"onSeek",function(){var Un;return(Un=Mn.props).onSeek.apply(Un,arguments)}),Cn(Rn(Mn),"onEnded",function(){var Un;return(Un=Mn.props).onEnded.apply(Un,arguments)}),Cn(Rn(Mn),"onPlaybackRateChange",function(){var Un;return(Un=Mn.props).onPlaybackRateChange.apply(Un,arguments)}),Cn(Rn(Mn),"mute",function(){Mn.callPlayer("mute")}),Cn(Rn(Mn),"unmute",function(){Mn.callPlayer("unmute")}),Mn}return vn(Pn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(On){var Wn=this,In=this.props,Un=In.playing,Vn=In.muted,Hn=In.controls,Ln=In.onReady,zn=In.config,Bn=In.onError;(0,dn.getSDK)(An,Tn).then(function(Fn){zn.customControls&&zn.customControls.forEach(function(Gn){return Fn.defineControl(Gn)}),window._wq=window._wq||[],window._wq.push({id:Wn.playerID,options:gn({autoPlay:Un,silentAutoPlay:"allow",muted:Vn,controlsVisibleOnLoad:Hn,fullscreenButton:Hn,playbar:Hn,playbackRateControl:Hn,qualityControl:Hn,volumeControl:Hn,settingsControl:Hn,smallPlayButton:Hn},zn.options),onReady:function(qn){Wn.player=qn,Wn.unbind(),Wn.player.bind("play",Wn.onPlay),Wn.player.bind("pause",Wn.onPause),Wn.player.bind("seek",Wn.onSeek),Wn.player.bind("end",Wn.onEnded),Wn.player.bind("playbackratechange",Wn.onPlaybackRateChange),Ln()}})},Bn)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(On){this.callPlayer("time",On)}},{key:"setVolume",value:function(On){this.callPlayer("volume",On)}},{key:"setPlaybackRate",value:function(On){this.callPlayer("playbackRate",On)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var On=this.props.url,Wn=On&&On.match(pn.MATCH_URL_WISTIA)[1],In="wistia_embed wistia_async_".concat(Wn),Un={width:"100%",height:"100%"};return un.default.createElement("div",{id:this.playerID,key:Wn,className:In,style:Un})}}]),Pn}(un.Component);tn.default=Dn,Cn(Dn,"displayName","Wistia"),Cn(Dn,"canPlay",pn.canPlay.wistia),Cn(Dn,"loopOnEnded",!0)}(Wistia)),Wistia}var Twitch={},hasRequiredTwitch;function requireTwitch(){return hasRequiredTwitch||(hasRequiredTwitch=1,function(tn){function sn(Nn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Pn){return typeof Pn}:sn=function(Pn){return Pn&&typeof Symbol=="function"&&Pn.constructor===Symbol&&Pn!==Symbol.prototype?"symbol":typeof Pn},sn(Nn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Nn=new WeakMap;return mn=function(){return Nn},Nn}function hn(Nn){if(Nn&&Nn.__esModule)return Nn;if(Nn===null||sn(Nn)!=="object"&&typeof Nn!="function")return{default:Nn};var kn=mn();if(kn&&kn.has(Nn))return kn.get(Nn);var Pn={},Mn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var On in Nn)if(Object.prototype.hasOwnProperty.call(Nn,On)){var Wn=Mn?Object.getOwnPropertyDescriptor(Nn,On):null;Wn&&(Wn.get||Wn.set)?Object.defineProperty(Pn,On,Wn):Pn[On]=Nn[On]}return Pn.default=Nn,kn&&kn.set(Nn,Pn),Pn}function fn(Nn,kn){var Pn=Object.keys(Nn);if(Object.getOwnPropertySymbols){var Mn=Object.getOwnPropertySymbols(Nn);kn&&(Mn=Mn.filter(function(On){return Object.getOwnPropertyDescriptor(Nn,On).enumerable})),Pn.push.apply(Pn,Mn)}return Pn}function gn(Nn){for(var kn=1;kn<arguments.length;kn++){var Pn=arguments[kn]!=null?arguments[kn]:{};kn%2?fn(Object(Pn),!0).forEach(function(Mn){Cn(Nn,Mn,Pn[Mn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nn,Object.getOwnPropertyDescriptors(Pn)):fn(Object(Pn)).forEach(function(Mn){Object.defineProperty(Nn,Mn,Object.getOwnPropertyDescriptor(Pn,Mn))})}return Nn}function xn(Nn,kn){if(!(Nn instanceof kn))throw new TypeError("Cannot call a class as a function")}function yn(Nn,kn){for(var Pn=0;Pn<kn.length;Pn++){var Mn=kn[Pn];Mn.enumerable=Mn.enumerable||!1,Mn.configurable=!0,"value"in Mn&&(Mn.writable=!0),Object.defineProperty(Nn,Mn.key,Mn)}}function vn(Nn,kn,Pn){return kn&&yn(Nn.prototype,kn),Nn}function En(Nn,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function");Nn.prototype=Object.create(kn&&kn.prototype,{constructor:{value:Nn,writable:!0,configurable:!0}}),kn&&bn(Nn,kn)}function bn(Nn,kn){return bn=Object.setPrototypeOf||function(Mn,On){return Mn.__proto__=On,Mn},bn(Nn,kn)}function wn(Nn){var kn=_n();return function(){var Mn=jn(Nn),On;if(kn){var Wn=jn(this).constructor;On=Reflect.construct(Mn,arguments,Wn)}else On=Mn.apply(this,arguments);return Sn(this,On)}}function Sn(Nn,kn){return kn&&(sn(kn)==="object"||typeof kn=="function")?kn:Rn(Nn)}function Rn(Nn){if(Nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nn}function _n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jn(Nn){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(Pn){return Pn.__proto__||Object.getPrototypeOf(Pn)},jn(Nn)}function Cn(Nn,kn,Pn){return kn in Nn?Object.defineProperty(Nn,kn,{value:Pn,enumerable:!0,configurable:!0,writable:!0}):Nn[kn]=Pn,Nn}var An="https://player.twitch.tv/js/embed/v1.js",Tn="Twitch",$n="twitch-player-",Dn=function(Nn){En(Pn,Nn);var kn=wn(Pn);function Pn(){var Mn;xn(this,Pn);for(var On=arguments.length,Wn=new Array(On),In=0;In<On;In++)Wn[In]=arguments[In];return Mn=kn.call.apply(kn,[this].concat(Wn)),Cn(Rn(Mn),"callPlayer",dn.callPlayer),Cn(Rn(Mn),"playerID",Mn.props.config.playerId||"".concat($n).concat((0,dn.randomString)())),Cn(Rn(Mn),"mute",function(){Mn.callPlayer("setMuted",!0)}),Cn(Rn(Mn),"unmute",function(){Mn.callPlayer("setMuted",!1)}),Mn}return vn(Pn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(On,Wn){var In=this,Un=this.props,Vn=Un.playsinline,Hn=Un.onError,Ln=Un.config,zn=Un.controls,Bn=pn.MATCH_URL_TWITCH_CHANNEL.test(On),Fn=Bn?On.match(pn.MATCH_URL_TWITCH_CHANNEL)[1]:On.match(pn.MATCH_URL_TWITCH_VIDEO)[1];if(Wn){Bn?this.player.setChannel(Fn):this.player.setVideo("v"+Fn);return}(0,dn.getSDK)(An,Tn).then(function(Gn){In.player=new Gn.Player(In.playerID,gn({video:Bn?"":Fn,channel:Bn?Fn:"",height:"100%",width:"100%",playsinline:Vn,autoplay:In.props.playing,muted:In.props.muted,controls:Bn?!0:zn,time:(0,dn.parseStartTime)(On)},Ln.options));var qn=Gn.Player,Jn=qn.READY,dr=qn.PLAYING,br=qn.PAUSE,Er=qn.ENDED,yr=qn.ONLINE,xr=qn.OFFLINE,vr=qn.SEEK;In.player.addEventListener(Jn,In.props.onReady),In.player.addEventListener(dr,In.props.onPlay),In.player.addEventListener(br,In.props.onPause),In.player.addEventListener(Er,In.props.onEnded),In.player.addEventListener(vr,In.props.onSeek),In.player.addEventListener(yr,In.props.onLoaded),In.player.addEventListener(xr,In.props.onLoaded)},Hn)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(On){this.callPlayer("seek",On)}},{key:"setVolume",value:function(On){this.callPlayer("setVolume",On)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var On={width:"100%",height:"100%"};return un.default.createElement("div",{style:On,id:this.playerID})}}]),Pn}(un.Component);tn.default=Dn,Cn(Dn,"displayName","Twitch"),Cn(Dn,"canPlay",pn.canPlay.twitch),Cn(Dn,"loopOnEnded",!0)}(Twitch)),Twitch}var DailyMotion={},hasRequiredDailyMotion;function requireDailyMotion(){return hasRequiredDailyMotion||(hasRequiredDailyMotion=1,function(tn){function sn(In){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Vn){return typeof Vn}:sn=function(Vn){return Vn&&typeof Symbol=="function"&&Vn.constructor===Symbol&&Vn!==Symbol.prototype?"symbol":typeof Vn},sn(In)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var In=new WeakMap;return mn=function(){return In},In}function hn(In){if(In&&In.__esModule)return In;if(In===null||sn(In)!=="object"&&typeof In!="function")return{default:In};var Un=mn();if(Un&&Un.has(In))return Un.get(In);var Vn={},Hn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ln in In)if(Object.prototype.hasOwnProperty.call(In,Ln)){var zn=Hn?Object.getOwnPropertyDescriptor(In,Ln):null;zn&&(zn.get||zn.set)?Object.defineProperty(Vn,Ln,zn):Vn[Ln]=In[Ln]}return Vn.default=In,Un&&Un.set(In,Vn),Vn}function fn(In,Un){var Vn=Object.keys(In);if(Object.getOwnPropertySymbols){var Hn=Object.getOwnPropertySymbols(In);Un&&(Hn=Hn.filter(function(Ln){return Object.getOwnPropertyDescriptor(In,Ln).enumerable})),Vn.push.apply(Vn,Hn)}return Vn}function gn(In){for(var Un=1;Un<arguments.length;Un++){var Vn=arguments[Un]!=null?arguments[Un]:{};Un%2?fn(Object(Vn),!0).forEach(function(Hn){kn(In,Hn,Vn[Hn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(In,Object.getOwnPropertyDescriptors(Vn)):fn(Object(Vn)).forEach(function(Hn){Object.defineProperty(In,Hn,Object.getOwnPropertyDescriptor(Vn,Hn))})}return In}function xn(In,Un){return wn(In)||bn(In,Un)||vn(In,Un)||yn()}function yn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vn(In,Un){if(In){if(typeof In=="string")return En(In,Un);var Vn=Object.prototype.toString.call(In).slice(8,-1);if(Vn==="Object"&&In.constructor&&(Vn=In.constructor.name),Vn==="Map"||Vn==="Set")return Array.from(In);if(Vn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Vn))return En(In,Un)}}function En(In,Un){(Un==null||Un>In.length)&&(Un=In.length);for(var Vn=0,Hn=new Array(Un);Vn<Un;Vn++)Hn[Vn]=In[Vn];return Hn}function bn(In,Un){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(In)))){var Vn=[],Hn=!0,Ln=!1,zn=void 0;try{for(var Bn=In[Symbol.iterator](),Fn;!(Hn=(Fn=Bn.next()).done)&&(Vn.push(Fn.value),!(Un&&Vn.length===Un));Hn=!0);}catch(Gn){Ln=!0,zn=Gn}finally{try{!Hn&&Bn.return!=null&&Bn.return()}finally{if(Ln)throw zn}}return Vn}}function wn(In){if(Array.isArray(In))return In}function Sn(In,Un){if(!(In instanceof Un))throw new TypeError("Cannot call a class as a function")}function Rn(In,Un){for(var Vn=0;Vn<Un.length;Vn++){var Hn=Un[Vn];Hn.enumerable=Hn.enumerable||!1,Hn.configurable=!0,"value"in Hn&&(Hn.writable=!0),Object.defineProperty(In,Hn.key,Hn)}}function _n(In,Un,Vn){return Un&&Rn(In.prototype,Un),In}function jn(In,Un){if(typeof Un!="function"&&Un!==null)throw new TypeError("Super expression must either be null or a function");In.prototype=Object.create(Un&&Un.prototype,{constructor:{value:In,writable:!0,configurable:!0}}),Un&&Cn(In,Un)}function Cn(In,Un){return Cn=Object.setPrototypeOf||function(Hn,Ln){return Hn.__proto__=Ln,Hn},Cn(In,Un)}function An(In){var Un=Dn();return function(){var Hn=Nn(In),Ln;if(Un){var zn=Nn(this).constructor;Ln=Reflect.construct(Hn,arguments,zn)}else Ln=Hn.apply(this,arguments);return Tn(this,Ln)}}function Tn(In,Un){return Un&&(sn(Un)==="object"||typeof Un=="function")?Un:$n(In)}function $n(In){if(In===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return In}function Dn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nn(In){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(Vn){return Vn.__proto__||Object.getPrototypeOf(Vn)},Nn(In)}function kn(In,Un,Vn){return Un in In?Object.defineProperty(In,Un,{value:Vn,enumerable:!0,configurable:!0,writable:!0}):In[Un]=Vn,In}var Pn="https://api.dmcdn.net/all.js",Mn="DM",On="dmAsyncInit",Wn=function(In){jn(Vn,In);var Un=An(Vn);function Vn(){var Hn;Sn(this,Vn);for(var Ln=arguments.length,zn=new Array(Ln),Bn=0;Bn<Ln;Bn++)zn[Bn]=arguments[Bn];return Hn=Un.call.apply(Un,[this].concat(zn)),kn($n(Hn),"callPlayer",dn.callPlayer),kn($n(Hn),"onDurationChange",function(){var Fn=Hn.getDuration();Hn.props.onDuration(Fn)}),kn($n(Hn),"mute",function(){Hn.callPlayer("setMuted",!0)}),kn($n(Hn),"unmute",function(){Hn.callPlayer("setMuted",!1)}),kn($n(Hn),"ref",function(Fn){Hn.container=Fn}),Hn}return _n(Vn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Ln){var zn=this,Bn=this.props,Fn=Bn.controls,Gn=Bn.config,qn=Bn.onError,Jn=Bn.playing,dr=Ln.match(pn.MATCH_URL_DAILYMOTION),br=xn(dr,2),Er=br[1];if(this.player){this.player.load(Er,{start:(0,dn.parseStartTime)(Ln),autoplay:Jn});return}(0,dn.getSDK)(Pn,Mn,On,function(yr){return yr.player}).then(function(yr){if(zn.container){var xr=yr.player;zn.player=new xr(zn.container,{width:"100%",height:"100%",video:Er,params:gn({controls:Fn,autoplay:zn.props.playing,mute:zn.props.muted,start:(0,dn.parseStartTime)(Ln),origin:window.location.origin},Gn.params),events:{apiready:zn.props.onReady,seeked:function(){return zn.props.onSeek(zn.player.currentTime)},video_end:zn.props.onEnded,durationchange:zn.onDurationChange,pause:zn.props.onPause,playing:zn.props.onPlay,waiting:zn.props.onBuffer,error:function(nr){return qn(nr)}}})}},qn)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Ln){this.callPlayer("seek",Ln)}},{key:"setVolume",value:function(Ln){this.callPlayer("setVolume",Ln)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var Ln=this.props.display,zn={width:"100%",height:"100%",display:Ln};return un.default.createElement("div",{style:zn},un.default.createElement("div",{ref:this.ref}))}}]),Vn}(un.Component);tn.default=Wn,kn(Wn,"displayName","DailyMotion"),kn(Wn,"canPlay",pn.canPlay.dailymotion),kn(Wn,"loopOnEnded",!0)}(DailyMotion)),DailyMotion}var Mixcloud={},hasRequiredMixcloud;function requireMixcloud(){return hasRequiredMixcloud||(hasRequiredMixcloud=1,function(tn){function sn(Dn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(kn){return typeof kn}:sn=function(kn){return kn&&typeof Symbol=="function"&&kn.constructor===Symbol&&kn!==Symbol.prototype?"symbol":typeof kn},sn(Dn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Dn=new WeakMap;return mn=function(){return Dn},Dn}function hn(Dn){if(Dn&&Dn.__esModule)return Dn;if(Dn===null||sn(Dn)!=="object"&&typeof Dn!="function")return{default:Dn};var Nn=mn();if(Nn&&Nn.has(Dn))return Nn.get(Dn);var kn={},Pn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mn in Dn)if(Object.prototype.hasOwnProperty.call(Dn,Mn)){var On=Pn?Object.getOwnPropertyDescriptor(Dn,Mn):null;On&&(On.get||On.set)?Object.defineProperty(kn,Mn,On):kn[Mn]=Dn[Mn]}return kn.default=Dn,Nn&&Nn.set(Dn,kn),kn}function fn(Dn,Nn){var kn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var Pn=Object.getOwnPropertySymbols(Dn);Nn&&(Pn=Pn.filter(function(Mn){return Object.getOwnPropertyDescriptor(Dn,Mn).enumerable})),kn.push.apply(kn,Pn)}return kn}function gn(Dn){for(var Nn=1;Nn<arguments.length;Nn++){var kn=arguments[Nn]!=null?arguments[Nn]:{};Nn%2?fn(Object(kn),!0).forEach(function(Pn){Cn(Dn,Pn,kn[Pn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(kn)):fn(Object(kn)).forEach(function(Pn){Object.defineProperty(Dn,Pn,Object.getOwnPropertyDescriptor(kn,Pn))})}return Dn}function xn(Dn,Nn){if(!(Dn instanceof Nn))throw new TypeError("Cannot call a class as a function")}function yn(Dn,Nn){for(var kn=0;kn<Nn.length;kn++){var Pn=Nn[kn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(Dn,Pn.key,Pn)}}function vn(Dn,Nn,kn){return Nn&&yn(Dn.prototype,Nn),Dn}function En(Dn,Nn){if(typeof Nn!="function"&&Nn!==null)throw new TypeError("Super expression must either be null or a function");Dn.prototype=Object.create(Nn&&Nn.prototype,{constructor:{value:Dn,writable:!0,configurable:!0}}),Nn&&bn(Dn,Nn)}function bn(Dn,Nn){return bn=Object.setPrototypeOf||function(Pn,Mn){return Pn.__proto__=Mn,Pn},bn(Dn,Nn)}function wn(Dn){var Nn=_n();return function(){var Pn=jn(Dn),Mn;if(Nn){var On=jn(this).constructor;Mn=Reflect.construct(Pn,arguments,On)}else Mn=Pn.apply(this,arguments);return Sn(this,Mn)}}function Sn(Dn,Nn){return Nn&&(sn(Nn)==="object"||typeof Nn=="function")?Nn:Rn(Dn)}function Rn(Dn){if(Dn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dn}function _n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jn(Dn){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(kn){return kn.__proto__||Object.getPrototypeOf(kn)},jn(Dn)}function Cn(Dn,Nn,kn){return Nn in Dn?Object.defineProperty(Dn,Nn,{value:kn,enumerable:!0,configurable:!0,writable:!0}):Dn[Nn]=kn,Dn}var An="https://widget.mixcloud.com/media/js/widgetApi.js",Tn="Mixcloud",$n=function(Dn){En(kn,Dn);var Nn=wn(kn);function kn(){var Pn;xn(this,kn);for(var Mn=arguments.length,On=new Array(Mn),Wn=0;Wn<Mn;Wn++)On[Wn]=arguments[Wn];return Pn=Nn.call.apply(Nn,[this].concat(On)),Cn(Rn(Pn),"callPlayer",dn.callPlayer),Cn(Rn(Pn),"duration",null),Cn(Rn(Pn),"currentTime",null),Cn(Rn(Pn),"secondsLoaded",null),Cn(Rn(Pn),"mute",function(){}),Cn(Rn(Pn),"unmute",function(){}),Cn(Rn(Pn),"ref",function(In){Pn.iframe=In}),Pn}return vn(kn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(Mn){var On=this;(0,dn.getSDK)(An,Tn).then(function(Wn){On.player=Wn.PlayerWidget(On.iframe),On.player.ready.then(function(){On.player.events.play.on(On.props.onPlay),On.player.events.pause.on(On.props.onPause),On.player.events.ended.on(On.props.onEnded),On.player.events.error.on(On.props.error),On.player.events.progress.on(function(In,Un){On.currentTime=In,On.duration=Un}),On.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(Mn){this.callPlayer("seek",Mn)}},{key:"setVolume",value:function(Mn){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var Mn=this.props,On=Mn.url,Wn=Mn.config,In=On.match(pn.MATCH_URL_MIXCLOUD)[1],Un={width:"100%",height:"100%"},Vn=(0,dn.queryString)(gn(gn({},Wn.options),{},{feed:"/".concat(In,"/")}));return un.default.createElement("iframe",{key:In,ref:this.ref,style:Un,src:"https://www.mixcloud.com/widget/iframe/?".concat(Vn),frameBorder:"0"})}}]),kn}(un.Component);tn.default=$n,Cn($n,"displayName","Mixcloud"),Cn($n,"canPlay",pn.canPlay.mixcloud),Cn($n,"loopOnEnded",!0)}(Mixcloud)),Mixcloud}var Vidyard={},hasRequiredVidyard;function requireVidyard(){return hasRequiredVidyard||(hasRequiredVidyard=1,function(tn){function sn(Nn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Pn){return typeof Pn}:sn=function(Pn){return Pn&&typeof Symbol=="function"&&Pn.constructor===Symbol&&Pn!==Symbol.prototype?"symbol":typeof Pn},sn(Nn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Nn=new WeakMap;return mn=function(){return Nn},Nn}function hn(Nn){if(Nn&&Nn.__esModule)return Nn;if(Nn===null||sn(Nn)!=="object"&&typeof Nn!="function")return{default:Nn};var kn=mn();if(kn&&kn.has(Nn))return kn.get(Nn);var Pn={},Mn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var On in Nn)if(Object.prototype.hasOwnProperty.call(Nn,On)){var Wn=Mn?Object.getOwnPropertyDescriptor(Nn,On):null;Wn&&(Wn.get||Wn.set)?Object.defineProperty(Pn,On,Wn):Pn[On]=Nn[On]}return Pn.default=Nn,kn&&kn.set(Nn,Pn),Pn}function fn(Nn,kn){var Pn=Object.keys(Nn);if(Object.getOwnPropertySymbols){var Mn=Object.getOwnPropertySymbols(Nn);kn&&(Mn=Mn.filter(function(On){return Object.getOwnPropertyDescriptor(Nn,On).enumerable})),Pn.push.apply(Pn,Mn)}return Pn}function gn(Nn){for(var kn=1;kn<arguments.length;kn++){var Pn=arguments[kn]!=null?arguments[kn]:{};kn%2?fn(Object(Pn),!0).forEach(function(Mn){Cn(Nn,Mn,Pn[Mn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nn,Object.getOwnPropertyDescriptors(Pn)):fn(Object(Pn)).forEach(function(Mn){Object.defineProperty(Nn,Mn,Object.getOwnPropertyDescriptor(Pn,Mn))})}return Nn}function xn(Nn,kn){if(!(Nn instanceof kn))throw new TypeError("Cannot call a class as a function")}function yn(Nn,kn){for(var Pn=0;Pn<kn.length;Pn++){var Mn=kn[Pn];Mn.enumerable=Mn.enumerable||!1,Mn.configurable=!0,"value"in Mn&&(Mn.writable=!0),Object.defineProperty(Nn,Mn.key,Mn)}}function vn(Nn,kn,Pn){return kn&&yn(Nn.prototype,kn),Nn}function En(Nn,kn){if(typeof kn!="function"&&kn!==null)throw new TypeError("Super expression must either be null or a function");Nn.prototype=Object.create(kn&&kn.prototype,{constructor:{value:Nn,writable:!0,configurable:!0}}),kn&&bn(Nn,kn)}function bn(Nn,kn){return bn=Object.setPrototypeOf||function(Mn,On){return Mn.__proto__=On,Mn},bn(Nn,kn)}function wn(Nn){var kn=_n();return function(){var Mn=jn(Nn),On;if(kn){var Wn=jn(this).constructor;On=Reflect.construct(Mn,arguments,Wn)}else On=Mn.apply(this,arguments);return Sn(this,On)}}function Sn(Nn,kn){return kn&&(sn(kn)==="object"||typeof kn=="function")?kn:Rn(Nn)}function Rn(Nn){if(Nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nn}function _n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jn(Nn){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(Pn){return Pn.__proto__||Object.getPrototypeOf(Pn)},jn(Nn)}function Cn(Nn,kn,Pn){return kn in Nn?Object.defineProperty(Nn,kn,{value:Pn,enumerable:!0,configurable:!0,writable:!0}):Nn[kn]=Pn,Nn}var An="https://play.vidyard.com/embed/v4.js",Tn="VidyardV4",$n="onVidyardAPI",Dn=function(Nn){En(Pn,Nn);var kn=wn(Pn);function Pn(){var Mn;xn(this,Pn);for(var On=arguments.length,Wn=new Array(On),In=0;In<On;In++)Wn[In]=arguments[In];return Mn=kn.call.apply(kn,[this].concat(Wn)),Cn(Rn(Mn),"callPlayer",dn.callPlayer),Cn(Rn(Mn),"mute",function(){Mn.setVolume(0)}),Cn(Rn(Mn),"unmute",function(){Mn.props.volume!==null&&Mn.setVolume(Mn.props.volume)}),Cn(Rn(Mn),"ref",function(Un){Mn.container=Un}),Mn}return vn(Pn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(On){var Wn=this,In=this.props,Un=In.playing,Vn=In.config,Hn=In.onError,Ln=In.onDuration,zn=On&&On.match(pn.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,dn.getSDK)(An,Tn,$n).then(function(Bn){Wn.container&&(Bn.api.addReadyListener(function(Fn,Gn){Wn.player||(Wn.player=Gn,Wn.player.on("ready",Wn.props.onReady),Wn.player.on("play",Wn.props.onPlay),Wn.player.on("pause",Wn.props.onPause),Wn.player.on("seek",Wn.props.onSeek),Wn.player.on("playerComplete",Wn.props.onEnded))},zn),Bn.api.renderPlayer(gn({uuid:zn,container:Wn.container,autoplay:Un?1:0},Vn.options)),Bn.api.getPlayerMetadata(zn).then(function(Fn){Wn.duration=Fn.length_in_seconds,Ln(Fn.length_in_seconds)}))},Hn)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(On){this.callPlayer("seek",On)}},{key:"setVolume",value:function(On){this.callPlayer("setVolume",On)}},{key:"setPlaybackRate",value:function(On){this.callPlayer("setPlaybackSpeed",On)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var On=this.props.display,Wn={width:"100%",height:"100%",display:On};return un.default.createElement("div",{style:Wn},un.default.createElement("div",{ref:this.ref}))}}]),Pn}(un.Component);tn.default=Dn,Cn(Dn,"displayName","Vidyard"),Cn(Dn,"canPlay",pn.canPlay.vidyard)}(Vidyard)),Vidyard}var Kaltura={},hasRequiredKaltura;function requireKaltura(){return hasRequiredKaltura||(hasRequiredKaltura=1,function(tn){function sn(Tn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Dn){return typeof Dn}:sn=function(Dn){return Dn&&typeof Symbol=="function"&&Dn.constructor===Symbol&&Dn!==Symbol.prototype?"symbol":typeof Dn},sn(Tn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Tn=new WeakMap;return mn=function(){return Tn},Tn}function hn(Tn){if(Tn&&Tn.__esModule)return Tn;if(Tn===null||sn(Tn)!=="object"&&typeof Tn!="function")return{default:Tn};var $n=mn();if($n&&$n.has(Tn))return $n.get(Tn);var Dn={},Nn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var kn in Tn)if(Object.prototype.hasOwnProperty.call(Tn,kn)){var Pn=Nn?Object.getOwnPropertyDescriptor(Tn,kn):null;Pn&&(Pn.get||Pn.set)?Object.defineProperty(Dn,kn,Pn):Dn[kn]=Tn[kn]}return Dn.default=Tn,$n&&$n.set(Tn,Dn),Dn}function fn(Tn,$n){if(!(Tn instanceof $n))throw new TypeError("Cannot call a class as a function")}function gn(Tn,$n){for(var Dn=0;Dn<$n.length;Dn++){var Nn=$n[Dn];Nn.enumerable=Nn.enumerable||!1,Nn.configurable=!0,"value"in Nn&&(Nn.writable=!0),Object.defineProperty(Tn,Nn.key,Nn)}}function xn(Tn,$n,Dn){return $n&&gn(Tn.prototype,$n),Tn}function yn(Tn,$n){if(typeof $n!="function"&&$n!==null)throw new TypeError("Super expression must either be null or a function");Tn.prototype=Object.create($n&&$n.prototype,{constructor:{value:Tn,writable:!0,configurable:!0}}),$n&&vn(Tn,$n)}function vn(Tn,$n){return vn=Object.setPrototypeOf||function(Nn,kn){return Nn.__proto__=kn,Nn},vn(Tn,$n)}function En(Tn){var $n=Sn();return function(){var Nn=Rn(Tn),kn;if($n){var Pn=Rn(this).constructor;kn=Reflect.construct(Nn,arguments,Pn)}else kn=Nn.apply(this,arguments);return bn(this,kn)}}function bn(Tn,$n){return $n&&(sn($n)==="object"||typeof $n=="function")?$n:wn(Tn)}function wn(Tn){if(Tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tn}function Sn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rn(Tn){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(Dn){return Dn.__proto__||Object.getPrototypeOf(Dn)},Rn(Tn)}function _n(Tn,$n,Dn){return $n in Tn?Object.defineProperty(Tn,$n,{value:Dn,enumerable:!0,configurable:!0,writable:!0}):Tn[$n]=Dn,Tn}var jn="https://cdn.embed.ly/player-0.1.0.min.js",Cn="playerjs",An=function(Tn){yn(Dn,Tn);var $n=En(Dn);function Dn(){var Nn;fn(this,Dn);for(var kn=arguments.length,Pn=new Array(kn),Mn=0;Mn<kn;Mn++)Pn[Mn]=arguments[Mn];return Nn=$n.call.apply($n,[this].concat(Pn)),_n(wn(Nn),"callPlayer",dn.callPlayer),_n(wn(Nn),"duration",null),_n(wn(Nn),"currentTime",null),_n(wn(Nn),"secondsLoaded",null),_n(wn(Nn),"mute",function(){Nn.callPlayer("mute")}),_n(wn(Nn),"unmute",function(){Nn.callPlayer("unmute")}),_n(wn(Nn),"ref",function(On){Nn.iframe=On}),Nn}return xn(Dn,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(kn){var Pn=this;(0,dn.getSDK)(jn,Cn).then(function(Mn){Pn.iframe&&(Pn.player=new Mn.Player(Pn.iframe),Pn.player.on("ready",function(){setTimeout(function(){Pn.player.isReady=!0,Pn.player.setLoop(Pn.props.loop),Pn.props.muted&&Pn.player.mute(),Pn.addListeners(Pn.player,Pn.props),Pn.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(kn,Pn){var Mn=this;kn.on("play",Pn.onPlay),kn.on("pause",Pn.onPause),kn.on("ended",Pn.onEnded),kn.on("error",Pn.onError),kn.on("timeupdate",function(On){var Wn=On.duration,In=On.seconds;Mn.duration=Wn,Mn.currentTime=In})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(kn){this.callPlayer("setCurrentTime",kn)}},{key:"setVolume",value:function(kn){this.callPlayer("setVolume",kn)}},{key:"setLoop",value:function(kn){this.callPlayer("setLoop",kn)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var kn={width:"100%",height:"100%"};return un.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:kn,allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}]),Dn}(un.Component);tn.default=An,_n(An,"displayName","Kaltura"),_n(An,"canPlay",pn.canPlay.kaltura)}(Kaltura)),Kaltura}var FilePlayer={},hasRequiredFilePlayer;function requireFilePlayer(){return hasRequiredFilePlayer||(hasRequiredFilePlayer=1,function(tn){function sn(Vn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Ln){return typeof Ln}:sn=function(Ln){return Ln&&typeof Symbol=="function"&&Ln.constructor===Symbol&&Ln!==Symbol.prototype?"symbol":typeof Ln},sn(Vn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=hn(reactExports),dn=utils,pn=patterns;function mn(){if(typeof WeakMap!="function")return null;var Vn=new WeakMap;return mn=function(){return Vn},Vn}function hn(Vn){if(Vn&&Vn.__esModule)return Vn;if(Vn===null||sn(Vn)!=="object"&&typeof Vn!="function")return{default:Vn};var Hn=mn();if(Hn&&Hn.has(Vn))return Hn.get(Vn);var Ln={},zn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Bn in Vn)if(Object.prototype.hasOwnProperty.call(Vn,Bn)){var Fn=zn?Object.getOwnPropertyDescriptor(Vn,Bn):null;Fn&&(Fn.get||Fn.set)?Object.defineProperty(Ln,Bn,Fn):Ln[Bn]=Vn[Bn]}return Ln.default=Vn,Hn&&Hn.set(Vn,Ln),Ln}function fn(){return fn=Object.assign||function(Vn){for(var Hn=1;Hn<arguments.length;Hn++){var Ln=arguments[Hn];for(var zn in Ln)Object.prototype.hasOwnProperty.call(Ln,zn)&&(Vn[zn]=Ln[zn])}return Vn},fn.apply(this,arguments)}function gn(Vn,Hn){if(!(Vn instanceof Hn))throw new TypeError("Cannot call a class as a function")}function xn(Vn,Hn){for(var Ln=0;Ln<Hn.length;Ln++){var zn=Hn[Ln];zn.enumerable=zn.enumerable||!1,zn.configurable=!0,"value"in zn&&(zn.writable=!0),Object.defineProperty(Vn,zn.key,zn)}}function yn(Vn,Hn,Ln){return Hn&&xn(Vn.prototype,Hn),Vn}function vn(Vn,Hn){if(typeof Hn!="function"&&Hn!==null)throw new TypeError("Super expression must either be null or a function");Vn.prototype=Object.create(Hn&&Hn.prototype,{constructor:{value:Vn,writable:!0,configurable:!0}}),Hn&&En(Vn,Hn)}function En(Vn,Hn){return En=Object.setPrototypeOf||function(zn,Bn){return zn.__proto__=Bn,zn},En(Vn,Hn)}function bn(Vn){var Hn=Rn();return function(){var zn=_n(Vn),Bn;if(Hn){var Fn=_n(this).constructor;Bn=Reflect.construct(zn,arguments,Fn)}else Bn=zn.apply(this,arguments);return wn(this,Bn)}}function wn(Vn,Hn){return Hn&&(sn(Hn)==="object"||typeof Hn=="function")?Hn:Sn(Vn)}function Sn(Vn){if(Vn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vn}function Rn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _n(Vn){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(Ln){return Ln.__proto__||Object.getPrototypeOf(Ln)},_n(Vn)}function jn(Vn,Hn,Ln){return Hn in Vn?Object.defineProperty(Vn,Hn,{value:Ln,enumerable:!0,configurable:!0,writable:!0}):Vn[Hn]=Ln,Vn}var Cn=typeof navigator<"u",An=Cn&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Tn=Cn&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||An)&&!window.MSStream,$n="https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js",Dn="Hls",Nn="https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js",kn="dashjs",Pn="https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js",Mn="flvjs",On=/www\.dropbox\.com\/.+/,Wn=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,In="https://videodelivery.net/{id}/manifest/video.m3u8",Un=function(Vn){vn(Ln,Vn);var Hn=bn(Ln);function Ln(){var zn;gn(this,Ln);for(var Bn=arguments.length,Fn=new Array(Bn),Gn=0;Gn<Bn;Gn++)Fn[Gn]=arguments[Gn];return zn=Hn.call.apply(Hn,[this].concat(Fn)),jn(Sn(zn),"onReady",function(){var qn;return(qn=zn.props).onReady.apply(qn,arguments)}),jn(Sn(zn),"onPlay",function(){var qn;return(qn=zn.props).onPlay.apply(qn,arguments)}),jn(Sn(zn),"onBuffer",function(){var qn;return(qn=zn.props).onBuffer.apply(qn,arguments)}),jn(Sn(zn),"onBufferEnd",function(){var qn;return(qn=zn.props).onBufferEnd.apply(qn,arguments)}),jn(Sn(zn),"onPause",function(){var qn;return(qn=zn.props).onPause.apply(qn,arguments)}),jn(Sn(zn),"onEnded",function(){var qn;return(qn=zn.props).onEnded.apply(qn,arguments)}),jn(Sn(zn),"onError",function(){var qn;return(qn=zn.props).onError.apply(qn,arguments)}),jn(Sn(zn),"onPlayBackRateChange",function(qn){return zn.props.onPlaybackRateChange(qn.target.playbackRate)}),jn(Sn(zn),"onEnablePIP",function(){var qn;return(qn=zn.props).onEnablePIP.apply(qn,arguments)}),jn(Sn(zn),"onDisablePIP",function(qn){var Jn=zn.props,dr=Jn.onDisablePIP,br=Jn.playing;dr(qn),br&&zn.play()}),jn(Sn(zn),"onPresentationModeChange",function(qn){if(zn.player&&(0,dn.supportsWebKitPresentationMode)(zn.player)){var Jn=zn.player.webkitPresentationMode;Jn==="picture-in-picture"?zn.onEnablePIP(qn):Jn==="inline"&&zn.onDisablePIP(qn)}}),jn(Sn(zn),"onSeek",function(qn){zn.props.onSeek(qn.target.currentTime)}),jn(Sn(zn),"mute",function(){zn.player.muted=!0}),jn(Sn(zn),"unmute",function(){zn.player.muted=!1}),jn(Sn(zn),"renderSourceElement",function(qn,Jn){return typeof qn=="string"?un.default.createElement("source",{key:Jn,src:qn}):un.default.createElement("source",fn({key:Jn},qn))}),jn(Sn(zn),"renderTrack",function(qn,Jn){return un.default.createElement("track",fn({key:Jn},qn))}),jn(Sn(zn),"ref",function(qn){zn.player&&(zn.prevPlayer=zn.player),zn.player=qn}),zn}return yn(Ln,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),Tn&&this.player.load()}},{key:"componentDidUpdate",value:function(Bn){this.shouldUseAudio(this.props)!==this.shouldUseAudio(Bn)&&(this.removeListeners(this.prevPlayer,Bn.url),this.addListeners(this.player)),this.props.url!==Bn.url&&!(0,dn.isMediaStream)(this.props.url)&&(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(Bn){var Fn=this.props,Gn=Fn.url,qn=Fn.playsinline;Bn.addEventListener("play",this.onPlay),Bn.addEventListener("waiting",this.onBuffer),Bn.addEventListener("playing",this.onBufferEnd),Bn.addEventListener("pause",this.onPause),Bn.addEventListener("seeked",this.onSeek),Bn.addEventListener("ended",this.onEnded),Bn.addEventListener("error",this.onError),Bn.addEventListener("ratechange",this.onPlayBackRateChange),Bn.addEventListener("enterpictureinpicture",this.onEnablePIP),Bn.addEventListener("leavepictureinpicture",this.onDisablePIP),Bn.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(Gn)||Bn.addEventListener("canplay",this.onReady),qn&&(Bn.setAttribute("playsinline",""),Bn.setAttribute("webkit-playsinline",""),Bn.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(Bn,Fn){Bn.removeEventListener("canplay",this.onReady),Bn.removeEventListener("play",this.onPlay),Bn.removeEventListener("waiting",this.onBuffer),Bn.removeEventListener("playing",this.onBufferEnd),Bn.removeEventListener("pause",this.onPause),Bn.removeEventListener("seeked",this.onSeek),Bn.removeEventListener("ended",this.onEnded),Bn.removeEventListener("error",this.onError),Bn.removeEventListener("ratechange",this.onPlayBackRateChange),Bn.removeEventListener("enterpictureinpicture",this.onEnablePIP),Bn.removeEventListener("leavepictureinpicture",this.onDisablePIP),Bn.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(Fn)||Bn.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(Bn){return Bn.config.forceVideo||Bn.config.attributes.poster?!1:pn.AUDIO_EXTENSIONS.test(Bn.url)||Bn.config.forceAudio}},{key:"shouldUseHLS",value:function(Bn){return this.props.config.forceHLS?!0:Tn?!1:pn.HLS_EXTENSIONS.test(Bn)||Wn.test(Bn)}},{key:"shouldUseDASH",value:function(Bn){return pn.DASH_EXTENSIONS.test(Bn)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(Bn){return pn.FLV_EXTENSIONS.test(Bn)||this.props.config.forceFLV}},{key:"load",value:function(Bn){var Fn=this,Gn=this.props.config,qn=Gn.hlsVersion,Jn=Gn.hlsOptions,dr=Gn.dashVersion,br=Gn.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(Bn)&&(0,dn.getSDK)($n.replace("VERSION",qn),Dn).then(function(Er){if(Fn.hls=new Er(Jn),Fn.hls.on(Er.Events.MANIFEST_PARSED,function(){Fn.props.onReady()}),Fn.hls.on(Er.Events.ERROR,function(xr,vr){Fn.props.onError(xr,vr,Fn.hls,Er)}),Wn.test(Bn)){var yr=Bn.match(Wn)[1];Fn.hls.loadSource(In.replace("{id}",yr))}else Fn.hls.loadSource(Bn);Fn.hls.attachMedia(Fn.player),Fn.props.onLoaded()}),this.shouldUseDASH(Bn)&&(0,dn.getSDK)(Nn.replace("VERSION",dr),kn).then(function(Er){Fn.dash=Er.MediaPlayer().create(),Fn.dash.initialize(Fn.player,Bn,Fn.props.playing),Fn.dash.on("error",Fn.props.onError),parseInt(dr)<3?Fn.dash.getDebug().setLogToBrowserConsole(!1):Fn.dash.updateSettings({debug:{logLevel:Er.Debug.LOG_LEVEL_NONE}}),Fn.props.onLoaded()}),this.shouldUseFLV(Bn)&&(0,dn.getSDK)(Pn.replace("VERSION",br),Mn).then(function(Er){Fn.flv=Er.createPlayer({type:"flv",url:Bn}),Fn.flv.attachMediaElement(Fn.player),Fn.flv.on(Er.Events.ERROR,function(yr,xr){Fn.props.onError(yr,xr,Fn.flv,Er)}),Fn.flv.load(),Fn.props.onLoaded()}),Bn instanceof Array)this.player.load();else if((0,dn.isMediaStream)(Bn))try{this.player.srcObject=Bn}catch{this.player.src=window.URL.createObjectURL(Bn)}}},{key:"play",value:function(){var Bn=this.player.play();Bn&&Bn.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(Bn){this.player.currentTime=Bn}},{key:"setVolume",value:function(Bn){this.player.volume=Bn}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,dn.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="picture-in-picture"&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,dn.supportsWebKitPresentationMode)(this.player)&&this.player.webkitPresentationMode!=="inline"&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(Bn){try{this.player.playbackRate=Bn}catch(Fn){this.props.onError(Fn)}}},{key:"getDuration",value:function(){if(!this.player)return null;var Bn=this.player,Fn=Bn.duration,Gn=Bn.seekable;return Fn===1/0&&Gn.length>0?Gn.end(Gn.length-1):Fn}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var Bn=this.player.buffered;if(Bn.length===0)return 0;var Fn=Bn.end(Bn.length-1),Gn=this.getDuration();return Fn>Gn?Gn:Fn}},{key:"getSource",value:function(Bn){var Fn=this.shouldUseHLS(Bn),Gn=this.shouldUseDASH(Bn),qn=this.shouldUseFLV(Bn);if(!(Bn instanceof Array||(0,dn.isMediaStream)(Bn)||Fn||Gn||qn))return On.test(Bn)?Bn.replace("www.dropbox.com","dl.dropboxusercontent.com"):Bn}},{key:"render",value:function(){var Bn=this.props,Fn=Bn.url,Gn=Bn.playing,qn=Bn.loop,Jn=Bn.controls,dr=Bn.muted,br=Bn.config,Er=Bn.width,yr=Bn.height,xr=this.shouldUseAudio(this.props),vr=xr?"audio":"video",nr={width:Er==="auto"?Er:"100%",height:yr==="auto"?yr:"100%"};return un.default.createElement(vr,fn({ref:this.ref,src:this.getSource(Fn),style:nr,preload:"auto",autoPlay:Gn||void 0,controls:Jn,muted:dr,loop:qn},br.attributes),Fn instanceof Array&&Fn.map(this.renderSourceElement),br.tracks.map(this.renderTrack))}}]),Ln}(un.Component);tn.default=Un,jn(Un,"displayName","FilePlayer"),jn(Un,"canPlay",pn.canPlay.file)}(FilePlayer)),FilePlayer}(function(tn){Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var sn=reactExports,un=utils,dn=patterns;function pn(gn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pn=function(yn){return typeof yn}:pn=function(yn){return yn&&typeof Symbol=="function"&&yn.constructor===Symbol&&yn!==Symbol.prototype?"symbol":typeof yn},pn(gn)}function mn(){if(typeof WeakMap!="function")return null;var gn=new WeakMap;return mn=function(){return gn},gn}function hn(gn){if(gn&&gn.__esModule)return gn;if(gn===null||pn(gn)!=="object"&&typeof gn!="function")return{default:gn};var xn=mn();if(xn&&xn.has(gn))return xn.get(gn);var yn={},vn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var En in gn)if(Object.prototype.hasOwnProperty.call(gn,En)){var bn=vn?Object.getOwnPropertyDescriptor(gn,En):null;bn&&(bn.get||bn.set)?Object.defineProperty(yn,En,bn):yn[En]=gn[En]}return yn.default=gn,xn&&xn.set(gn,yn),yn}var fn=[{key:"youtube",name:"YouTube",canPlay:dn.canPlay.youtube,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireYouTube())})})},{key:"soundcloud",name:"SoundCloud",canPlay:dn.canPlay.soundcloud,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireSoundCloud())})})},{key:"vimeo",name:"Vimeo",canPlay:dn.canPlay.vimeo,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireVimeo())})})},{key:"facebook",name:"Facebook",canPlay:dn.canPlay.facebook,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireFacebook())})})},{key:"streamable",name:"Streamable",canPlay:dn.canPlay.streamable,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireStreamable())})})},{key:"wistia",name:"Wistia",canPlay:dn.canPlay.wistia,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireWistia())})})},{key:"twitch",name:"Twitch",canPlay:dn.canPlay.twitch,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireTwitch())})})},{key:"dailymotion",name:"DailyMotion",canPlay:dn.canPlay.dailymotion,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireDailyMotion())})})},{key:"mixcloud",name:"Mixcloud",canPlay:dn.canPlay.mixcloud,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireMixcloud())})})},{key:"vidyard",name:"Vidyard",canPlay:dn.canPlay.vidyard,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireVidyard())})})},{key:"kaltura",name:"Kaltura",canPlay:dn.canPlay.kaltura,lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireKaltura())})})},{key:"file",name:"FilePlayer",canPlay:dn.canPlay.file,canEnablePIP:function(xn){return dn.canPlay.file(xn)&&(document.pictureInPictureEnabled||(0,un.supportsWebKitPresentationMode)())&&!dn.AUDIO_EXTENSIONS.test(xn)},lazyPlayer:(0,sn.lazy)(function(){return Promise.resolve().then(function(){return hn(requireFilePlayer())})})}];tn.default=fn})(players);var ReactPlayer$1={},safeIsNaN=Number.isNaN||function tn(sn){return typeof sn=="number"&&sn!==sn};function isEqual$1(tn,sn){return!!(tn===sn||safeIsNaN(tn)&&safeIsNaN(sn))}function areInputsEqual(tn,sn){if(tn.length!==sn.length)return!1;for(var un=0;un<tn.length;un++)if(!isEqual$1(tn[un],sn[un]))return!1;return!0}function memoizeOne(tn,sn){sn===void 0&&(sn=areInputsEqual);var un,dn=[],pn,mn=!1;function hn(){for(var fn=[],gn=0;gn<arguments.length;gn++)fn[gn]=arguments[gn];return mn&&un===this&&sn(fn,dn)||(pn=tn.apply(this,fn),mn=!0,un=this,dn=fn),pn}return hn}const memoizeOne_esm=Object.freeze(Object.defineProperty({__proto__:null,default:memoizeOne},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(memoizeOne_esm);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(tn,sn){if(tn===sn)return!0;if(tn&&sn&&typeof tn=="object"&&typeof sn=="object"){if(tn.constructor!==sn.constructor)return!1;var un,dn,pn;if(Array.isArray(tn)){if(un=tn.length,un!=sn.length)return!1;for(dn=un;dn--!==0;)if(!equal(tn[dn],sn[dn]))return!1;return!0}var mn;if(hasMap&&tn instanceof Map&&sn instanceof Map){if(tn.size!==sn.size)return!1;for(mn=tn.entries();!(dn=mn.next()).done;)if(!sn.has(dn.value[0]))return!1;for(mn=tn.entries();!(dn=mn.next()).done;)if(!equal(dn.value[1],sn.get(dn.value[0])))return!1;return!0}if(hasSet&&tn instanceof Set&&sn instanceof Set){if(tn.size!==sn.size)return!1;for(mn=tn.entries();!(dn=mn.next()).done;)if(!sn.has(dn.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(tn)&&ArrayBuffer.isView(sn)){if(un=tn.length,un!=sn.length)return!1;for(dn=un;dn--!==0;)if(tn[dn]!==sn[dn])return!1;return!0}if(tn.constructor===RegExp)return tn.source===sn.source&&tn.flags===sn.flags;if(tn.valueOf!==Object.prototype.valueOf&&typeof tn.valueOf=="function"&&typeof sn.valueOf=="function")return tn.valueOf()===sn.valueOf();if(tn.toString!==Object.prototype.toString&&typeof tn.toString=="function"&&typeof sn.toString=="function")return tn.toString()===sn.toString();if(pn=Object.keys(tn),un=pn.length,un!==Object.keys(sn).length)return!1;for(dn=un;dn--!==0;)if(!Object.prototype.hasOwnProperty.call(sn,pn[dn]))return!1;if(hasElementType&&tn instanceof Element)return!1;for(dn=un;dn--!==0;)if(!((pn[dn]==="_owner"||pn[dn]==="__v"||pn[dn]==="__o")&&tn.$$typeof)&&!equal(tn[pn[dn]],sn[pn[dn]]))return!1;return!0}return tn!==tn&&sn!==sn}var reactFastCompare=function tn(sn,un){try{return equal(sn,un)}catch(dn){if((dn.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw dn}};const isEqual=getDefaultExportFromCjs(reactFastCompare);var props={};Object.defineProperty(props,"__esModule",{value:!0});props.defaultProps=props.propTypes=void 0;var _propTypes=_interopRequireDefault$1(propTypesExports);function _interopRequireDefault$1(tn){return tn&&tn.__esModule?tn:{default:tn}}var string$2=_propTypes.default.string,bool=_propTypes.default.bool,number$1=_propTypes.default.number,array=_propTypes.default.array,oneOfType=_propTypes.default.oneOfType,shape=_propTypes.default.shape,object=_propTypes.default.object,func=_propTypes.default.func,node$1=_propTypes.default.node,propTypes={url:oneOfType([string$2,array,object]),playing:bool,loop:bool,controls:bool,volume:number$1,muted:bool,playbackRate:number$1,width:oneOfType([string$2,number$1]),height:oneOfType([string$2,number$1]),style:object,progressInterval:number$1,playsinline:bool,pip:bool,stopOnUnmount:bool,light:oneOfType([bool,string$2]),playIcon:node$1,previewTabIndex:number$1,fallback:node$1,oEmbedUrl:string$2,wrapper:oneOfType([string$2,func,shape({render:func.isRequired})]),config:shape({soundcloud:shape({options:object}),youtube:shape({playerVars:object,embedOptions:object,onUnstarted:func}),facebook:shape({appId:string$2,version:string$2,playerId:string$2,attributes:object}),dailymotion:shape({params:object}),vimeo:shape({playerOptions:object,title:string$2}),file:shape({attributes:object,tracks:array,forceVideo:bool,forceAudio:bool,forceHLS:bool,forceDASH:bool,forceFLV:bool,hlsOptions:object,hlsVersion:string$2,dashVersion:string$2,flvVersion:string$2}),wistia:shape({options:object,playerId:string$2,customControls:array}),mixcloud:shape({options:object}),twitch:shape({options:object,playerId:string$2}),vidyard:shape({options:object})}),onReady:func,onStart:func,onPlay:func,onPause:func,onBuffer:func,onBufferEnd:func,onEnded:func,onError:func,onDuration:func,onSeek:func,onPlaybackRateChange:func,onProgress:func,onClickPreview:func,onEnablePIP:func,onDisablePIP:func};props.propTypes=propTypes;var noop$7=function tn(){},defaultProps$1={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:noop$7},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:noop$7,onStart:noop$7,onPlay:noop$7,onPause:noop$7,onBuffer:noop$7,onBufferEnd:noop$7,onEnded:noop$7,onError:noop$7,onDuration:noop$7,onSeek:noop$7,onPlaybackRateChange:noop$7,onProgress:noop$7,onClickPreview:noop$7,onEnablePIP:noop$7,onDisablePIP:noop$7};props.defaultProps=defaultProps$1;var Player={};(function(tn){function sn(Dn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(kn){return typeof kn}:sn=function(kn){return kn&&typeof Symbol=="function"&&kn.constructor===Symbol&&kn!==Symbol.prototype?"symbol":typeof kn},sn(Dn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=gn(reactExports),dn=hn(reactFastCompare),pn=props,mn=utils;function hn(Dn){return Dn&&Dn.__esModule?Dn:{default:Dn}}function fn(){if(typeof WeakMap!="function")return null;var Dn=new WeakMap;return fn=function(){return Dn},Dn}function gn(Dn){if(Dn&&Dn.__esModule)return Dn;if(Dn===null||sn(Dn)!=="object"&&typeof Dn!="function")return{default:Dn};var Nn=fn();if(Nn&&Nn.has(Dn))return Nn.get(Dn);var kn={},Pn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Mn in Dn)if(Object.prototype.hasOwnProperty.call(Dn,Mn)){var On=Pn?Object.getOwnPropertyDescriptor(Dn,Mn):null;On&&(On.get||On.set)?Object.defineProperty(kn,Mn,On):kn[Mn]=Dn[Mn]}return kn.default=Dn,Nn&&Nn.set(Dn,kn),kn}function xn(){return xn=Object.assign||function(Dn){for(var Nn=1;Nn<arguments.length;Nn++){var kn=arguments[Nn];for(var Pn in kn)Object.prototype.hasOwnProperty.call(kn,Pn)&&(Dn[Pn]=kn[Pn])}return Dn},xn.apply(this,arguments)}function yn(Dn,Nn){if(!(Dn instanceof Nn))throw new TypeError("Cannot call a class as a function")}function vn(Dn,Nn){for(var kn=0;kn<Nn.length;kn++){var Pn=Nn[kn];Pn.enumerable=Pn.enumerable||!1,Pn.configurable=!0,"value"in Pn&&(Pn.writable=!0),Object.defineProperty(Dn,Pn.key,Pn)}}function En(Dn,Nn,kn){return Nn&&vn(Dn.prototype,Nn),Dn}function bn(Dn,Nn){if(typeof Nn!="function"&&Nn!==null)throw new TypeError("Super expression must either be null or a function");Dn.prototype=Object.create(Nn&&Nn.prototype,{constructor:{value:Dn,writable:!0,configurable:!0}}),Nn&&wn(Dn,Nn)}function wn(Dn,Nn){return wn=Object.setPrototypeOf||function(Pn,Mn){return Pn.__proto__=Mn,Pn},wn(Dn,Nn)}function Sn(Dn){var Nn=jn();return function(){var Pn=Cn(Dn),Mn;if(Nn){var On=Cn(this).constructor;Mn=Reflect.construct(Pn,arguments,On)}else Mn=Pn.apply(this,arguments);return Rn(this,Mn)}}function Rn(Dn,Nn){return Nn&&(sn(Nn)==="object"||typeof Nn=="function")?Nn:_n(Dn)}function _n(Dn){if(Dn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dn}function jn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Cn(Dn){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(kn){return kn.__proto__||Object.getPrototypeOf(kn)},Cn(Dn)}function An(Dn,Nn,kn){return Nn in Dn?Object.defineProperty(Dn,Nn,{value:kn,enumerable:!0,configurable:!0,writable:!0}):Dn[Nn]=kn,Dn}var Tn=5e3,$n=function(Dn){bn(kn,Dn);var Nn=Sn(kn);function kn(){var Pn;yn(this,kn);for(var Mn=arguments.length,On=new Array(Mn),Wn=0;Wn<Mn;Wn++)On[Wn]=arguments[Wn];return Pn=Nn.call.apply(Nn,[this].concat(On)),An(_n(Pn),"mounted",!1),An(_n(Pn),"isReady",!1),An(_n(Pn),"isPlaying",!1),An(_n(Pn),"isLoading",!0),An(_n(Pn),"loadOnReady",null),An(_n(Pn),"startOnPlay",!0),An(_n(Pn),"seekOnPlay",null),An(_n(Pn),"onDurationCalled",!1),An(_n(Pn),"handlePlayerMount",function(In){Pn.player||(Pn.player=In,Pn.player.load(Pn.props.url),Pn.progress())}),An(_n(Pn),"getInternalPlayer",function(In){return Pn.player?Pn.player[In]:null}),An(_n(Pn),"progress",function(){if(Pn.props.url&&Pn.player&&Pn.isReady){var In=Pn.getCurrentTime()||0,Un=Pn.getSecondsLoaded(),Vn=Pn.getDuration();if(Vn){var Hn={playedSeconds:In,played:In/Vn};Un!==null&&(Hn.loadedSeconds=Un,Hn.loaded=Un/Vn),(Hn.playedSeconds!==Pn.prevPlayed||Hn.loadedSeconds!==Pn.prevLoaded)&&Pn.props.onProgress(Hn),Pn.prevPlayed=Hn.playedSeconds,Pn.prevLoaded=Hn.loadedSeconds}}Pn.progressTimeout=setTimeout(Pn.progress,Pn.props.progressFrequency||Pn.props.progressInterval)}),An(_n(Pn),"handleReady",function(){if(Pn.mounted){Pn.isReady=!0,Pn.isLoading=!1;var In=Pn.props,Un=In.onReady,Vn=In.playing,Hn=In.volume,Ln=In.muted;Un(),!Ln&&Hn!==null&&Pn.player.setVolume(Hn),Pn.loadOnReady?(Pn.player.load(Pn.loadOnReady,!0),Pn.loadOnReady=null):Vn&&Pn.player.play(),Pn.handleDurationCheck()}}),An(_n(Pn),"handlePlay",function(){Pn.isPlaying=!0,Pn.isLoading=!1;var In=Pn.props,Un=In.onStart,Vn=In.onPlay,Hn=In.playbackRate;Pn.startOnPlay&&(Pn.player.setPlaybackRate&&Hn!==1&&Pn.player.setPlaybackRate(Hn),Un(),Pn.startOnPlay=!1),Vn(),Pn.seekOnPlay&&(Pn.seekTo(Pn.seekOnPlay),Pn.seekOnPlay=null),Pn.handleDurationCheck()}),An(_n(Pn),"handlePause",function(In){Pn.isPlaying=!1,Pn.isLoading||Pn.props.onPause(In)}),An(_n(Pn),"handleEnded",function(){var In=Pn.props,Un=In.activePlayer,Vn=In.loop,Hn=In.onEnded;Un.loopOnEnded&&Vn&&Pn.seekTo(0),Vn||(Pn.isPlaying=!1,Hn())}),An(_n(Pn),"handleError",function(){var In;Pn.isLoading=!1,(In=Pn.props).onError.apply(In,arguments)}),An(_n(Pn),"handleDurationCheck",function(){clearTimeout(Pn.durationCheckTimeout);var In=Pn.getDuration();In?Pn.onDurationCalled||(Pn.props.onDuration(In),Pn.onDurationCalled=!0):Pn.durationCheckTimeout=setTimeout(Pn.handleDurationCheck,100)}),An(_n(Pn),"handleLoaded",function(){Pn.isLoading=!1}),Pn}return En(kn,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(Mn){var On=this;if(this.player){var Wn=this.props,In=Wn.url,Un=Wn.playing,Vn=Wn.volume,Hn=Wn.muted,Ln=Wn.playbackRate,zn=Wn.pip,Bn=Wn.loop,Fn=Wn.activePlayer,Gn=Wn.disableDeferredLoading;if(!(0,dn.default)(Mn.url,In)){if(this.isLoading&&!Fn.forceLoad&&!Gn&&!(0,mn.isMediaStream)(In)){console.warn("ReactPlayer: the attempt to load ".concat(In," is being deferred until the player has loaded")),this.loadOnReady=In;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(In,this.isReady)}!Mn.playing&&Un&&!this.isPlaying&&this.player.play(),Mn.playing&&!Un&&this.isPlaying&&this.player.pause(),!Mn.pip&&zn&&this.player.enablePIP&&this.player.enablePIP(),Mn.pip&&!zn&&this.player.disablePIP&&this.player.disablePIP(),Mn.volume!==Vn&&Vn!==null&&this.player.setVolume(Vn),Mn.muted!==Hn&&(Hn?this.player.mute():(this.player.unmute(),Vn!==null&&setTimeout(function(){return On.player.setVolume(Vn)}))),Mn.playbackRate!==Ln&&this.player.setPlaybackRate&&this.player.setPlaybackRate(Ln),Mn.loop!==Bn&&this.player.setLoop&&this.player.setLoop(Bn)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(Mn,On){var Wn=this;if(!this.isReady){Mn!==0&&(this.seekOnPlay=Mn,setTimeout(function(){Wn.seekOnPlay=null},Tn));return}var In=On?On==="fraction":Mn>0&&Mn<1;if(In){var Un=this.player.getDuration();if(!Un){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(Un*Mn);return}this.player.seekTo(Mn)}},{key:"render",value:function(){var Mn=this.props.activePlayer;return Mn?un.default.createElement(Mn,xn({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),kn}(un.Component);tn.default=$n,An($n,"displayName","Player"),An($n,"propTypes",pn.propTypes),An($n,"defaultProps",pn.defaultProps)})(Player);var Preview$1={},hasRequiredPreview;function requirePreview(){return hasRequiredPreview||(hasRequiredPreview=1,function(tn){function sn(Tn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(Dn){return typeof Dn}:sn=function(Dn){return Dn&&typeof Symbol=="function"&&Dn.constructor===Symbol&&Dn!==Symbol.prototype?"symbol":typeof Dn},sn(Tn)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var un=pn(reactExports);function dn(){if(typeof WeakMap!="function")return null;var Tn=new WeakMap;return dn=function(){return Tn},Tn}function pn(Tn){if(Tn&&Tn.__esModule)return Tn;if(Tn===null||sn(Tn)!=="object"&&typeof Tn!="function")return{default:Tn};var $n=dn();if($n&&$n.has(Tn))return $n.get(Tn);var Dn={},Nn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var kn in Tn)if(Object.prototype.hasOwnProperty.call(Tn,kn)){var Pn=Nn?Object.getOwnPropertyDescriptor(Tn,kn):null;Pn&&(Pn.get||Pn.set)?Object.defineProperty(Dn,kn,Pn):Dn[kn]=Tn[kn]}return Dn.default=Tn,$n&&$n.set(Tn,Dn),Dn}function mn(Tn,$n){var Dn=Object.keys(Tn);if(Object.getOwnPropertySymbols){var Nn=Object.getOwnPropertySymbols(Tn);$n&&(Nn=Nn.filter(function(kn){return Object.getOwnPropertyDescriptor(Tn,kn).enumerable})),Dn.push.apply(Dn,Nn)}return Dn}function hn(Tn){for(var $n=1;$n<arguments.length;$n++){var Dn=arguments[$n]!=null?arguments[$n]:{};$n%2?mn(Object(Dn),!0).forEach(function(Nn){_n(Tn,Nn,Dn[Nn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tn,Object.getOwnPropertyDescriptors(Dn)):mn(Object(Dn)).forEach(function(Nn){Object.defineProperty(Tn,Nn,Object.getOwnPropertyDescriptor(Dn,Nn))})}return Tn}function fn(Tn,$n){if(!(Tn instanceof $n))throw new TypeError("Cannot call a class as a function")}function gn(Tn,$n){for(var Dn=0;Dn<$n.length;Dn++){var Nn=$n[Dn];Nn.enumerable=Nn.enumerable||!1,Nn.configurable=!0,"value"in Nn&&(Nn.writable=!0),Object.defineProperty(Tn,Nn.key,Nn)}}function xn(Tn,$n,Dn){return $n&&gn(Tn.prototype,$n),Tn}function yn(Tn,$n){if(typeof $n!="function"&&$n!==null)throw new TypeError("Super expression must either be null or a function");Tn.prototype=Object.create($n&&$n.prototype,{constructor:{value:Tn,writable:!0,configurable:!0}}),$n&&vn(Tn,$n)}function vn(Tn,$n){return vn=Object.setPrototypeOf||function(Nn,kn){return Nn.__proto__=kn,Nn},vn(Tn,$n)}function En(Tn){var $n=Sn();return function(){var Nn=Rn(Tn),kn;if($n){var Pn=Rn(this).constructor;kn=Reflect.construct(Nn,arguments,Pn)}else kn=Nn.apply(this,arguments);return bn(this,kn)}}function bn(Tn,$n){return $n&&(sn($n)==="object"||typeof $n=="function")?$n:wn(Tn)}function wn(Tn){if(Tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tn}function Sn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rn(Tn){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(Dn){return Dn.__proto__||Object.getPrototypeOf(Dn)},Rn(Tn)}function _n(Tn,$n,Dn){return $n in Tn?Object.defineProperty(Tn,$n,{value:Dn,enumerable:!0,configurable:!0,writable:!0}):Tn[$n]=Dn,Tn}var jn="64px",Cn={},An=function(Tn){yn(Dn,Tn);var $n=En(Dn);function Dn(){var Nn;fn(this,Dn);for(var kn=arguments.length,Pn=new Array(kn),Mn=0;Mn<kn;Mn++)Pn[Mn]=arguments[Mn];return Nn=$n.call.apply($n,[this].concat(Pn)),_n(wn(Nn),"mounted",!1),_n(wn(Nn),"state",{image:null}),_n(wn(Nn),"handleKeyPress",function(On){(On.key==="Enter"||On.key===" ")&&Nn.props.onClick()}),Nn}return xn(Dn,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(kn){var Pn=this.props,Mn=Pn.url,On=Pn.light;(kn.url!==Mn||kn.light!==On)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(kn){var Pn=this,Mn=kn.url,On=kn.light,Wn=kn.oEmbedUrl;if(typeof On=="string"){this.setState({image:On});return}if(Cn[Mn]){this.setState({image:Cn[Mn]});return}return this.setState({image:null}),window.fetch(Wn.replace("{url}",Mn)).then(function(In){return In.json()}).then(function(In){if(In.thumbnail_url&&Pn.mounted){var Un=In.thumbnail_url.replace("height=100","height=480");Pn.setState({image:Un}),Cn[Mn]=Un}})}},{key:"render",value:function(){var kn=this.props,Pn=kn.onClick,Mn=kn.playIcon,On=kn.previewTabIndex,Wn=this.state.image,In={display:"flex",alignItems:"center",justifyContent:"center"},Un={preview:hn({width:"100%",height:"100%",backgroundImage:Wn?"url(".concat(Wn,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},In),shadow:hn({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:jn,width:jn,height:jn},In),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},Vn=un.default.createElement("div",{style:Un.shadow,className:"react-player__shadow"},un.default.createElement("div",{style:Un.playIcon,className:"react-player__play-icon"}));return un.default.createElement("div",{style:Un.preview,className:"react-player__preview",onClick:Pn,tabIndex:On,onKeyPress:this.handleKeyPress},Mn||Vn)}}]),Dn}(un.Component);tn.default=An}(Preview$1)),Preview$1}Object.defineProperty(ReactPlayer$1,"__esModule",{value:!0});ReactPlayer$1.createReactPlayer=void 0;var _react=_interopRequireWildcard(reactExports),_deepmerge=_interopRequireDefault(cjs$2),_memoizeOne=_interopRequireDefault(require$$2),_reactFastCompare=_interopRequireDefault(reactFastCompare),_props=props,_utils=utils,_Player3=_interopRequireDefault(Player);function _interopRequireDefault(tn){return tn&&tn.__esModule?tn:{default:tn}}function _typeof(tn){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(un){return typeof un}:_typeof=function(un){return un&&typeof Symbol=="function"&&un.constructor===Symbol&&un!==Symbol.prototype?"symbol":typeof un},_typeof(tn)}function ownKeys$2(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$2(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$2(Object(un),!0).forEach(function(dn){_defineProperty$2(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$2(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _extends(){return _extends=Object.assign||function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},_extends.apply(this,arguments)}function _toConsumableArray$2(tn){return _arrayWithoutHoles$2(tn)||_iterableToArray$2(tn)||_unsupportedIterableToArray$3(tn)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$3(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$3(tn,sn)}}function _iterableToArray$2(tn){if(typeof Symbol<"u"&&Symbol.iterator in Object(tn))return Array.from(tn)}function _arrayWithoutHoles$2(tn){if(Array.isArray(tn))return _arrayLikeToArray$3(tn)}function _arrayLikeToArray$3(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _classCallCheck(tn,sn){if(!(tn instanceof sn))throw new TypeError("Cannot call a class as a function")}function _defineProperties(tn,sn){for(var un=0;un<sn.length;un++){var dn=sn[un];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(tn,dn.key,dn)}}function _createClass(tn,sn,un){return sn&&_defineProperties(tn.prototype,sn),tn}function _inherits(tn,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");tn.prototype=Object.create(sn&&sn.prototype,{constructor:{value:tn,writable:!0,configurable:!0}}),sn&&_setPrototypeOf(tn,sn)}function _setPrototypeOf(tn,sn){return _setPrototypeOf=Object.setPrototypeOf||function(dn,pn){return dn.__proto__=pn,dn},_setPrototypeOf(tn,sn)}function _createSuper(tn){var sn=_isNativeReflectConstruct();return function(){var dn=_getPrototypeOf(tn),pn;if(sn){var mn=_getPrototypeOf(this).constructor;pn=Reflect.construct(dn,arguments,mn)}else pn=dn.apply(this,arguments);return _possibleConstructorReturn(this,pn)}}function _possibleConstructorReturn(tn,sn){return sn&&(_typeof(sn)==="object"||typeof sn=="function")?sn:_assertThisInitialized(tn)}function _assertThisInitialized(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(tn){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(un){return un.__proto__||Object.getPrototypeOf(un)},_getPrototypeOf(tn)}function _defineProperty$2(tn,sn,un){return sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _getRequireWildcardCache(){if(typeof WeakMap!="function")return null;var tn=new WeakMap;return _getRequireWildcardCache=function(){return tn},tn}function _interopRequireWildcard(tn){if(tn&&tn.__esModule)return tn;if(tn===null||_typeof(tn)!=="object"&&typeof tn!="function")return{default:tn};var sn=_getRequireWildcardCache();if(sn&&sn.has(tn))return sn.get(tn);var un={},dn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var pn in tn)if(Object.prototype.hasOwnProperty.call(tn,pn)){var mn=dn?Object.getOwnPropertyDescriptor(tn,pn):null;mn&&(mn.get||mn.set)?Object.defineProperty(un,pn,mn):un[pn]=tn[pn]}return un.default=tn,sn&&sn.set(tn,un),un}var Preview=(0,_react.lazy)(function(){return Promise.resolve().then(function(){return _interopRequireWildcard(requirePreview())})}),IS_BROWSER=typeof window<"u"&&window.document,IS_GLOBAL=typeof commonjsGlobal<"u"&&commonjsGlobal.window&&commonjsGlobal.window.document,SUPPORTED_PROPS=Object.keys(_props.propTypes),UniversalSuspense=IS_BROWSER||IS_GLOBAL?_react.Suspense:function(){return null},customPlayers=[],createReactPlayer=function tn(sn,un){var dn,pn;return pn=dn=function(mn){_inherits(fn,mn);var hn=_createSuper(fn);function fn(){var gn;_classCallCheck(this,fn);for(var xn=arguments.length,yn=new Array(xn),vn=0;vn<xn;vn++)yn[vn]=arguments[vn];return gn=hn.call.apply(hn,[this].concat(yn)),_defineProperty$2(_assertThisInitialized(gn),"state",{showPreview:!!gn.props.light}),_defineProperty$2(_assertThisInitialized(gn),"references",{wrapper:function(bn){gn.wrapper=bn},player:function(bn){gn.player=bn}}),_defineProperty$2(_assertThisInitialized(gn),"handleClickPreview",function(En){gn.setState({showPreview:!1}),gn.props.onClickPreview(En)}),_defineProperty$2(_assertThisInitialized(gn),"showPreview",function(){gn.setState({showPreview:!0})}),_defineProperty$2(_assertThisInitialized(gn),"getDuration",function(){return gn.player?gn.player.getDuration():null}),_defineProperty$2(_assertThisInitialized(gn),"getCurrentTime",function(){return gn.player?gn.player.getCurrentTime():null}),_defineProperty$2(_assertThisInitialized(gn),"getSecondsLoaded",function(){return gn.player?gn.player.getSecondsLoaded():null}),_defineProperty$2(_assertThisInitialized(gn),"getInternalPlayer",function(){var En=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return gn.player?gn.player.getInternalPlayer(En):null}),_defineProperty$2(_assertThisInitialized(gn),"seekTo",function(En,bn){if(!gn.player)return null;gn.player.seekTo(En,bn)}),_defineProperty$2(_assertThisInitialized(gn),"handleReady",function(){gn.props.onReady(_assertThisInitialized(gn))}),_defineProperty$2(_assertThisInitialized(gn),"getActivePlayer",(0,_memoizeOne.default)(function(En){for(var bn=0,wn=[].concat(customPlayers,_toConsumableArray$2(sn));bn<wn.length;bn++){var Sn=wn[bn];if(Sn.canPlay(En))return Sn}return un||null})),_defineProperty$2(_assertThisInitialized(gn),"getConfig",(0,_memoizeOne.default)(function(En,bn){var wn=gn.props.config;return _deepmerge.default.all([_props.defaultProps.config,_props.defaultProps.config[bn]||{},wn,wn[bn]||{}])})),_defineProperty$2(_assertThisInitialized(gn),"getAttributes",(0,_memoizeOne.default)(function(En){return(0,_utils.omit)(gn.props,SUPPORTED_PROPS)})),_defineProperty$2(_assertThisInitialized(gn),"renderActivePlayer",function(En){if(!En)return null;var bn=gn.getActivePlayer(En);if(!bn)return null;var wn=gn.getConfig(En,bn.key);return _react.default.createElement(_Player3.default,_extends({},gn.props,{key:bn.key,ref:gn.references.player,config:wn,activePlayer:bn.lazyPlayer||bn,onReady:gn.handleReady}))}),gn}return _createClass(fn,[{key:"shouldComponentUpdate",value:function(xn,yn){return!(0,_reactFastCompare.default)(this.props,xn)||!(0,_reactFastCompare.default)(this.state,yn)}},{key:"componentDidUpdate",value:function(xn){var yn=this.props.light;!xn.light&&yn&&this.setState({showPreview:!0}),xn.light&&!yn&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(xn){if(!xn)return null;var yn=this.props,vn=yn.light,En=yn.playIcon,bn=yn.previewTabIndex,wn=yn.oEmbedUrl;return _react.default.createElement(Preview,{url:xn,light:vn,playIcon:En,previewTabIndex:bn,oEmbedUrl:wn,onClick:this.handleClickPreview})}},{key:"render",value:function(){var xn=this.props,yn=xn.url,vn=xn.style,En=xn.width,bn=xn.height,wn=xn.fallback,Sn=xn.wrapper,Rn=this.state.showPreview,_n=this.getAttributes(yn);return _react.default.createElement(Sn,_extends({ref:this.references.wrapper,style:_objectSpread$2(_objectSpread$2({},vn),{},{width:En,height:bn})},_n),_react.default.createElement(UniversalSuspense,{fallback:wn},Rn?this.renderPreview(yn):this.renderActivePlayer(yn)))}}]),fn}(_react.Component),_defineProperty$2(dn,"displayName","ReactPlayer"),_defineProperty$2(dn,"propTypes",_props.propTypes),_defineProperty$2(dn,"defaultProps",_props.defaultProps),_defineProperty$2(dn,"addCustomPlayer",function(mn){customPlayers.push(mn)}),_defineProperty$2(dn,"removeCustomPlayers",function(){customPlayers.length=0}),_defineProperty$2(dn,"canPlay",function(mn){for(var hn=0,fn=[].concat(customPlayers,_toConsumableArray$2(sn));hn<fn.length;hn++){var gn=fn[hn];if(gn.canPlay(mn))return!0}return!1}),_defineProperty$2(dn,"canEnablePIP",function(mn){for(var hn=0,fn=[].concat(customPlayers,_toConsumableArray$2(sn));hn<fn.length;hn++){var gn=fn[hn];if(gn.canEnablePIP&&gn.canEnablePIP(mn))return!0}return!1}),pn};ReactPlayer$1.createReactPlayer=createReactPlayer;(function(tn){Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var sn=dn(players),un=ReactPlayer$1;function dn(hn){return hn&&hn.__esModule?hn:{default:hn}}var pn=sn.default[sn.default.length-1],mn=(0,un.createReactPlayer)(sn.default,pn);tn.default=mn})(lib);const ReactPlayer=getDefaultExportFromCjs(lib),encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",assign=(tn,sn)=>{for(const un in sn)tn[un]=sn[un];return tn},numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain$1="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace$1="whitespace";function registerGroup(tn,sn){return tn in sn||(sn[tn]=[]),sn[tn]}function addToGroups(tn,sn,un){sn[numeric]&&(sn[asciinumeric]=!0,sn[alphanumeric]=!0),sn[ascii]&&(sn[asciinumeric]=!0,sn[alpha]=!0),sn[asciinumeric]&&(sn[alphanumeric]=!0),sn[alpha]&&(sn[alphanumeric]=!0),sn[alphanumeric]&&(sn[domain$1]=!0),sn[emoji]&&(sn[domain$1]=!0);for(const dn in sn){const pn=registerGroup(dn,un);pn.indexOf(tn)<0&&pn.push(tn)}}function flagsForToken(tn,sn){const un={};for(const dn in sn)sn[dn].indexOf(tn)>=0&&(un[dn]=!0);return un}function State(tn=null){this.j={},this.jr=[],this.jd=null,this.t=tn}State.groups={};State.prototype={accepts(){return!!this.t},go(tn){const sn=this,un=sn.j[tn];if(un)return un;for(let dn=0;dn<sn.jr.length;dn++){const pn=sn.jr[dn][0],mn=sn.jr[dn][1];if(mn&&pn.test(tn))return mn}return sn.jd},has(tn,sn=!1){return sn?tn in this.j:!!this.go(tn)},ta(tn,sn,un,dn){for(let pn=0;pn<tn.length;pn++)this.tt(tn[pn],sn,un,dn)},tr(tn,sn,un,dn){dn=dn||State.groups;let pn;return sn&&sn.j?pn=sn:(pn=new State(sn),un&&dn&&addToGroups(sn,un,dn)),this.jr.push([tn,pn]),pn},ts(tn,sn,un,dn){let pn=this;const mn=tn.length;if(!mn)return pn;for(let hn=0;hn<mn-1;hn++)pn=pn.tt(tn[hn]);return pn.tt(tn[mn-1],sn,un,dn)},tt(tn,sn,un,dn){dn=dn||State.groups;const pn=this;if(sn&&sn.j)return pn.j[tn]=sn,sn;const mn=sn;let hn,fn=pn.go(tn);if(fn?(hn=new State,assign(hn.j,fn.j),hn.jr.push.apply(hn.jr,fn.jr),hn.jd=fn.jd,hn.t=fn.t):hn=new State,mn){if(dn)if(hn.t&&typeof hn.t=="string"){const gn=assign(flagsForToken(hn.t,dn),un);addToGroups(mn,gn,dn)}else un&&addToGroups(mn,un,dn);hn.t=mn}return pn.j[tn]=hn,hn}};const ta=(tn,sn,un,dn,pn)=>tn.ta(sn,un,dn,pn),tr$1=(tn,sn,un,dn,pn)=>tn.tr(sn,un,dn,pn),ts=(tn,sn,un,dn,pn)=>tn.ts(sn,un,dn,pn),tt$1=(tn,sn,un,dn,pn)=>tn.tt(sn,un,dn,pn),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK$1="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK:ASTERISK$1,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="️",EMOJI_JOINER="‍",OBJECT_REPLACEMENT="￼";let tlds=null,utlds=null;function init$2(tn=[]){const sn={};State.groups=sn;const un=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt$1(un,"'",APOSTROPHE),tt$1(un,"{",OPENBRACE),tt$1(un,"}",CLOSEBRACE),tt$1(un,"[",OPENBRACKET),tt$1(un,"]",CLOSEBRACKET),tt$1(un,"(",OPENPAREN),tt$1(un,")",CLOSEPAREN),tt$1(un,"<",OPENANGLEBRACKET),tt$1(un,">",CLOSEANGLEBRACKET),tt$1(un,"（",FULLWIDTHLEFTPAREN),tt$1(un,"）",FULLWIDTHRIGHTPAREN),tt$1(un,"「",LEFTCORNERBRACKET),tt$1(un,"」",RIGHTCORNERBRACKET),tt$1(un,"『",LEFTWHITECORNERBRACKET),tt$1(un,"』",RIGHTWHITECORNERBRACKET),tt$1(un,"＜",FULLWIDTHLESSTHAN),tt$1(un,"＞",FULLWIDTHGREATERTHAN),tt$1(un,"&",AMPERSAND),tt$1(un,"*",ASTERISK$1),tt$1(un,"@",AT),tt$1(un,"`",BACKTICK),tt$1(un,"^",CARET),tt$1(un,":",COLON),tt$1(un,",",COMMA),tt$1(un,"$",DOLLAR),tt$1(un,".",DOT),tt$1(un,"=",EQUALS),tt$1(un,"!",EXCLAMATION),tt$1(un,"-",HYPHEN),tt$1(un,"%",PERCENT),tt$1(un,"|",PIPE),tt$1(un,"+",PLUS),tt$1(un,"#",POUND),tt$1(un,"?",QUERY),tt$1(un,'"',QUOTE),tt$1(un,"/",SLASH),tt$1(un,";",SEMI),tt$1(un,"~",TILDE),tt$1(un,"_",UNDERSCORE),tt$1(un,"\\",BACKSLASH),tt$1(un,"・",FULLWIDTHMIDDLEDOT);const dn=tr$1(un,DIGIT,NUM,{[numeric]:!0});tr$1(dn,DIGIT,dn);const pn=tr$1(dn,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),mn=tr$1(dn,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),hn=tr$1(un,ASCII_LETTER,WORD,{[ascii]:!0});tr$1(hn,DIGIT,pn),tr$1(hn,ASCII_LETTER,hn),tr$1(pn,DIGIT,pn),tr$1(pn,ASCII_LETTER,pn);const fn=tr$1(un,LETTER,UWORD,{[alpha]:!0});tr$1(fn,ASCII_LETTER),tr$1(fn,DIGIT,mn),tr$1(fn,LETTER,fn),tr$1(mn,DIGIT,mn),tr$1(mn,ASCII_LETTER),tr$1(mn,LETTER,mn);const gn=tt$1(un,LF,NL,{[whitespace$1]:!0}),xn=tt$1(un,CR,WS,{[whitespace$1]:!0}),yn=tr$1(un,SPACE,WS,{[whitespace$1]:!0});tt$1(un,OBJECT_REPLACEMENT,yn),tt$1(xn,LF,gn),tt$1(xn,OBJECT_REPLACEMENT,yn),tr$1(xn,SPACE,yn),tt$1(yn,CR),tt$1(yn,LF),tr$1(yn,SPACE,yn),tt$1(yn,OBJECT_REPLACEMENT,yn);const vn=tr$1(un,EMOJI,EMOJI$1,{[emoji]:!0});tt$1(vn,"#"),tr$1(vn,EMOJI,vn),tt$1(vn,EMOJI_VARIATION,vn);const En=tt$1(vn,EMOJI_JOINER);tt$1(En,"#"),tr$1(En,EMOJI,vn);const bn=[[ASCII_LETTER,hn],[DIGIT,pn]],wn=[[ASCII_LETTER,null],[LETTER,fn],[DIGIT,mn]];for(let Sn=0;Sn<tlds.length;Sn++)fastts(un,tlds[Sn],TLD,WORD,bn);for(let Sn=0;Sn<utlds.length;Sn++)fastts(un,utlds[Sn],UTLD,UWORD,wn);addToGroups(TLD,{tld:!0,ascii:!0},sn),addToGroups(UTLD,{utld:!0,alpha:!0},sn),fastts(un,"file",SCHEME,WORD,bn),fastts(un,"mailto",SCHEME,WORD,bn),fastts(un,"http",SLASH_SCHEME,WORD,bn),fastts(un,"https",SLASH_SCHEME,WORD,bn),fastts(un,"ftp",SLASH_SCHEME,WORD,bn),fastts(un,"ftps",SLASH_SCHEME,WORD,bn),addToGroups(SCHEME,{scheme:!0,ascii:!0},sn),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},sn),tn=tn.sort((Sn,Rn)=>Sn[0]>Rn[0]?1:-1);for(let Sn=0;Sn<tn.length;Sn++){const Rn=tn[Sn][0],jn=tn[Sn][1]?{[scheme]:!0}:{[slashscheme]:!0};Rn.indexOf("-")>=0?jn[domain$1]=!0:ASCII_LETTER.test(Rn)?DIGIT.test(Rn)?jn[asciinumeric]=!0:jn[ascii]=!0:jn[numeric]=!0,ts(un,Rn,Rn,jn)}return ts(un,"localhost",LOCALHOST,{ascii:!0}),un.jd=new State(SYM),{start:un,tokens:assign({groups:sn},tk)}}function run$1(tn,sn){const un=stringToArray(sn.replace(/[A-Z]/g,fn=>fn.toLowerCase())),dn=un.length,pn=[];let mn=0,hn=0;for(;hn<dn;){let fn=tn,gn=null,xn=0,yn=null,vn=-1,En=-1;for(;hn<dn&&(gn=fn.go(un[hn]));)fn=gn,fn.accepts()?(vn=0,En=0,yn=fn):vn>=0&&(vn+=un[hn].length,En++),xn+=un[hn].length,mn+=un[hn].length,hn++;mn-=vn,hn-=En,xn-=vn,pn.push({t:yn.t,v:sn.slice(mn-xn,mn),s:mn-xn,e:mn})}return pn}function stringToArray(tn){const sn=[],un=tn.length;let dn=0;for(;dn<un;){let pn=tn.charCodeAt(dn),mn,hn=pn<55296||pn>56319||dn+1===un||(mn=tn.charCodeAt(dn+1))<56320||mn>57343?tn[dn]:tn.slice(dn,dn+2);sn.push(hn),dn+=hn.length}return sn}function fastts(tn,sn,un,dn,pn){let mn;const hn=sn.length;for(let fn=0;fn<hn-1;fn++){const gn=sn[fn];tn.j[gn]?mn=tn.j[gn]:(mn=new State(dn),mn.jr=pn.slice(),tn.j[gn]=mn),tn=mn}return mn=new State(un),mn.jr=pn.slice(),tn.j[sn[hn-1]]=mn,mn}function decodeTlds(tn){const sn=[],un=[];let dn=0,pn="0123456789";for(;dn<tn.length;){let mn=0;for(;pn.indexOf(tn[dn+mn])>=0;)mn++;if(mn>0){sn.push(un.join(""));for(let hn=parseInt(tn.substring(dn,dn+mn),10);hn>0;hn--)un.pop();dn+=mn}else un.push(tn[dn]),dn++}return sn}const defaults={defaultProtocol:"http",events:null,format:noop$6,formatHref:noop$6,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options$c(tn,sn=null){let un=assign({},defaults);tn&&(un=assign(un,tn instanceof Options$c?tn.o:tn));const dn=un.ignoreTags,pn=[];for(let mn=0;mn<dn.length;mn++)pn.push(dn[mn].toUpperCase());this.o=un,sn&&(this.defaultRender=sn),this.ignoreTags=pn}Options$c.prototype={o:defaults,ignoreTags:[],defaultRender(tn){return tn},check(tn){return this.get("validate",tn.toString(),tn)},get(tn,sn,un){const dn=sn!=null;let pn=this.o[tn];return pn&&(typeof pn=="object"?(pn=un.t in pn?pn[un.t]:defaults[tn],typeof pn=="function"&&dn&&(pn=pn(sn,un))):typeof pn=="function"&&dn&&(pn=pn(sn,un.t,un)),pn)},getObj(tn,sn,un){let dn=this.o[tn];return typeof dn=="function"&&sn!=null&&(dn=dn(sn,un.t,un)),dn},render(tn){const sn=tn.render(this);return(this.get("render",null,tn)||this.defaultRender)(sn,tn.t,tn)}};function noop$6(tn){return tn}function MultiToken(tn,sn){this.t="token",this.v=tn,this.tk=sn}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(tn){return this.toString()},toFormattedString(tn){const sn=this.toString(),un=tn.get("truncate",sn,this),dn=tn.get("format",sn,this);return un&&dn.length>un?dn.substring(0,un)+"…":dn},toFormattedHref(tn){return tn.get("formatHref",this.toHref(tn.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(tn=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(tn),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(tn){return{type:this.t,value:this.toFormattedString(tn),isLink:this.isLink,href:this.toFormattedHref(tn),start:this.startIndex(),end:this.endIndex()}},validate(tn){return tn.get("validate",this.toString(),this)},render(tn){const sn=this,un=this.toHref(tn.get("defaultProtocol")),dn=tn.get("formatHref",un,this),pn=tn.get("tagName",un,sn),mn=this.toFormattedString(tn),hn={},fn=tn.get("className",un,sn),gn=tn.get("target",un,sn),xn=tn.get("rel",un,sn),yn=tn.getObj("attributes",un,sn),vn=tn.getObj("events",un,sn);return hn.href=dn,fn&&(hn.class=fn),gn&&(hn.target=gn),xn&&(hn.rel=xn),yn&&assign(hn,yn),{tagName:pn,attributes:hn,content:mn,eventListeners:vn}}};function createTokenClass(tn,sn){class un extends MultiToken{constructor(pn,mn){super(pn,mn),this.t=tn}}for(const dn in sn)un.prototype[dn]=sn[dn];return un.t=tn,un}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(tn=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${tn}://${this.v}`},hasProtocol(){const tn=this.tk;return tn.length>=2&&tn[0].t!==LOCALHOST&&tn[1].t===COLON}}),makeState=tn=>new State(tn);function init$1({groups:tn}){const sn=tn.domain.concat([AMPERSAND,ASTERISK$1,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),un=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],dn=[AMPERSAND,APOSTROPHE,ASTERISK$1,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],pn=makeState(),mn=tt$1(pn,TILDE);ta(mn,dn,mn),ta(mn,tn.domain,mn);const hn=makeState(),fn=makeState(),gn=makeState();ta(pn,tn.domain,hn),ta(pn,tn.scheme,fn),ta(pn,tn.slashscheme,gn),ta(hn,dn,mn),ta(hn,tn.domain,hn);const xn=tt$1(hn,AT);tt$1(mn,AT,xn),tt$1(fn,AT,xn),tt$1(gn,AT,xn);const yn=tt$1(mn,DOT);ta(yn,dn,mn),ta(yn,tn.domain,mn);const vn=makeState();ta(xn,tn.domain,vn),ta(vn,tn.domain,vn);const En=tt$1(vn,DOT);ta(En,tn.domain,vn);const bn=makeState(Email);ta(En,tn.tld,bn),ta(En,tn.utld,bn),tt$1(xn,LOCALHOST,bn);const wn=tt$1(vn,HYPHEN);tt$1(wn,HYPHEN,wn),ta(wn,tn.domain,vn),ta(bn,tn.domain,vn),tt$1(bn,DOT,En),tt$1(bn,HYPHEN,wn);const Sn=tt$1(bn,COLON);ta(Sn,tn.numeric,Email);const Rn=tt$1(hn,HYPHEN),_n=tt$1(hn,DOT);tt$1(Rn,HYPHEN,Rn),ta(Rn,tn.domain,hn),ta(_n,dn,mn),ta(_n,tn.domain,hn);const jn=makeState(Url);ta(_n,tn.tld,jn),ta(_n,tn.utld,jn),ta(jn,tn.domain,hn),ta(jn,dn,mn),tt$1(jn,DOT,_n),tt$1(jn,HYPHEN,Rn),tt$1(jn,AT,xn);const Cn=tt$1(jn,COLON),An=makeState(Url);ta(Cn,tn.numeric,An);const Tn=makeState(Url),$n=makeState();ta(Tn,sn,Tn),ta(Tn,un,$n),ta($n,sn,Tn),ta($n,un,$n),tt$1(jn,SLASH,Tn),tt$1(An,SLASH,Tn);const Dn=tt$1(fn,COLON),Nn=tt$1(gn,COLON),kn=tt$1(Nn,SLASH),Pn=tt$1(kn,SLASH);ta(fn,tn.domain,hn),tt$1(fn,DOT,_n),tt$1(fn,HYPHEN,Rn),ta(gn,tn.domain,hn),tt$1(gn,DOT,_n),tt$1(gn,HYPHEN,Rn),ta(Dn,tn.domain,Tn),tt$1(Dn,SLASH,Tn),tt$1(Dn,QUERY,Tn),ta(Pn,tn.domain,Tn),ta(Pn,sn,Tn),tt$1(Pn,SLASH,Tn);const Mn=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let On=0;On<Mn.length;On++){const[Wn,In]=Mn[On],Un=tt$1(Tn,Wn);tt$1($n,Wn,Un),tt$1(Un,In,Tn);const Vn=makeState(Url);ta(Un,sn,Vn);const Hn=makeState();ta(Un,un),ta(Vn,sn,Vn),ta(Vn,un,Hn),ta(Hn,sn,Vn),ta(Hn,un,Hn),tt$1(Vn,In,Tn),tt$1(Hn,In,Tn)}return tt$1(pn,LOCALHOST,jn),tt$1(pn,NL,Nl),{start:pn,tokens:tk}}function run(tn,sn,un){let dn=un.length,pn=0,mn=[],hn=[];for(;pn<dn;){let fn=tn,gn=null,xn=null,yn=0,vn=null,En=-1;for(;pn<dn&&!(gn=fn.go(un[pn].t));)hn.push(un[pn++]);for(;pn<dn&&(xn=gn||fn.go(un[pn].t));)gn=null,fn=xn,fn.accepts()?(En=0,vn=fn):En>=0&&En++,pn++,yn++;if(En<0)pn-=yn,pn<dn&&(hn.push(un[pn]),pn++);else{hn.length>0&&(mn.push(initMultiToken(Text,sn,hn)),hn=[]),pn-=En,yn-=En;const bn=vn.t,wn=un.slice(pn-yn,pn);mn.push(initMultiToken(bn,sn,wn))}}return hn.length>0&&mn.push(initMultiToken(Text,sn,hn)),mn}function initMultiToken(tn,sn,un){const dn=un[0].s,pn=un[un.length-1].e,mn=sn.slice(dn,pn);return new tn(mn,un)}const INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function init$3(){INIT.scanner=init$2(INIT.customSchemes);for(let tn=0;tn<INIT.tokenQueue.length;tn++)INIT.tokenQueue[tn][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let tn=0;tn<INIT.pluginQueue.length;tn++)INIT.pluginQueue[tn][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(tn){return INIT.initialized||init$3(),run(INIT.parser.start,tn,run$1(INIT.scanner.start,tn))}tokenize.scan=run$1;function find$1(tn,sn=null,un=null){if(sn&&typeof sn=="object"){if(un)throw Error(`linkifyjs: Invalid link type ${sn}; must be a string`);un=sn,sn=null}const dn=new Options$c(un),pn=tokenize(tn),mn=[];for(let hn=0;hn<pn.length;hn++){const fn=pn[hn];fn.isLink&&(!sn||fn.t===sn)&&dn.check(fn)&&mn.push(fn.toFormattedObject(dn))}return mn}function test(tn,sn=null){const un=tokenize(tn);return un.length===1&&un[0].isLink&&(!sn||un[0].t===sn)}const ChannelActionContext=React$1.createContext(void 0),ChannelActionProvider=({children:tn,value:sn})=>React$1.createElement(ChannelActionContext.Provider,{value:sn},tn),useChannelActionContext=tn=>{const sn=reactExports.useContext(ChannelActionContext);return sn||(console.warn(`The useChannelActionContext hook was called outside of the ChannelActionContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ${tn} component.`),{})},ChannelListContext=reactExports.createContext(void 0),ChannelListContextProvider=({children:tn,value:sn})=>React$1.createElement(ChannelListContext.Provider,{value:sn},tn),ChannelStateContext=React$1.createContext(void 0),ChannelStateProvider=({children:tn,value:sn})=>React$1.createElement(ChannelStateContext.Provider,{value:sn},tn),useChannelStateContext=tn=>{const sn=reactExports.useContext(ChannelStateContext);return sn||(console.warn(`The useChannelStateContext hook was called outside of the ChannelStateContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ${tn} component.`),{})},ChatContext=React$1.createContext(void 0),ChatProvider=({children:tn,value:sn})=>React$1.createElement(ChatContext.Provider,{value:sn},tn),useChatContext=tn=>{const sn=reactExports.useContext(ChatContext);return sn||(console.warn(`The useChatContext hook was called outside of the ChatContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ${tn} component.`),{})},ComponentContext=React$1.createContext({}),useComponentContext=tn=>reactExports.useContext(ComponentContext);let nanoid=(tn=21)=>crypto.getRandomValues(new Uint8Array(tn)).reduce((sn,un)=>(un&=63,un<36?sn+=un.toString(36):un<62?sn+=(un-26).toString(36).toUpperCase():un>62?sn+="-":sn+="_",sn),"");class DialogManager{constructor({id:sn}={}){this.state=new StateStore({dialogsById:{}}),this.id=sn??nanoid()}get openDialogCount(){return Object.values(this.state.getLatestValue().dialogsById).reduce((sn,un)=>un.isOpen?sn+1:sn,0)}getOrCreate({id:sn}){let un=this.state.getLatestValue().dialogsById[sn];return un||(un={close:()=>{this.close(sn)},id:sn,isOpen:!1,open:()=>{this.open({id:sn})},removalTimeout:void 0,remove:()=>{this.remove(sn)},toggle:(dn=!1)=>{this.toggle({id:sn},dn)}},this.state.next(dn=>({...dn,dialogsById:{...dn.dialogsById,[sn]:un}}))),un.removalTimeout&&(clearTimeout(un.removalTimeout),this.state.next(dn=>({...dn,dialogsById:{...dn.dialogsById,[sn]:{...un,removalTimeout:void 0}}}))),un}open(sn,un){const dn=this.getOrCreate(sn);dn.isOpen||(un&&this.closeAll(),this.state.next(pn=>({...pn,dialogsById:{...pn.dialogsById,[dn.id]:{...dn,isOpen:!0}}})))}close(sn){const un=this.state.getLatestValue().dialogsById[sn];un!=null&&un.isOpen&&this.state.next(dn=>({...dn,dialogsById:{...dn.dialogsById,[un.id]:{...un,isOpen:!1}}}))}closeAll(){Object.values(this.state.getLatestValue().dialogsById).forEach(sn=>sn.close())}toggle(sn,un=!1){var dn;(dn=this.state.getLatestValue().dialogsById[sn.id])!=null&&dn.isOpen?this.close(sn.id):this.open(sn,un)}remove(sn){const dn=this.state.getLatestValue().dialogsById[sn];dn&&(dn.removalTimeout&&clearTimeout(dn.removalTimeout),this.state.next(pn=>{const mn={...pn.dialogsById};return delete mn[sn],{...pn,dialogsById:mn}}))}markForRemoval(sn){const un=this.state.getLatestValue().dialogsById[sn];un&&this.state.next(dn=>({...dn,dialogsById:{...dn.dialogsById,[sn]:{...un,removalTimeout:setTimeout(()=>{this.remove(sn)},16)}}}))}}const noop$5=()=>{};function useStateStore(tn,sn){const un=reactExports.useCallback(mn=>(tn==null?void 0:tn.subscribeWithSelector(sn,mn))??noop$5,[tn,sn]),dn=reactExports.useMemo(()=>{let mn;return()=>{const hn=tn==null?void 0:tn.getLatestValue();if(!hn)return;if(mn&&mn[0]===hn)return mn[1];const fn=sn(hn);if(mn){let gn=!0;for(const xn in mn[1])if(mn[1][xn]!==fn[xn]){gn=!1;break}if(gn)return mn[1]}return mn=[hn,fn],mn[1]}},[tn,sn]);return shimExports.useSyncExternalStore(un,dn)}const useDialog=({id:tn})=>{const{dialogManager:sn}=useDialogManager();return reactExports.useEffect(()=>()=>{sn.markForRemoval(tn)},[sn,tn]),sn.getOrCreate({id:tn})},useDialogIsOpen=tn=>{const{dialogManager:sn}=useDialogManager(),un=reactExports.useCallback(({dialogsById:dn})=>{var pn;return{isOpen:!!((pn=dn[tn])!=null&&pn.isOpen)}},[tn]);return useStateStore(sn.state,un).isOpen},openedDialogCountSelector=tn=>({openedDialogCount:Object.values(tn.dialogsById).reduce((sn,un)=>un.isOpen?sn+1:sn,0)}),useOpenedDialogCount=()=>{const{dialogManager:tn}=useDialogManager();return useStateStore(tn.state,openedDialogCountSelector).openedDialogCount},Portal=({children:tn,getPortalDestination:sn,isOpen:un})=>{const[dn,pn]=reactExports.useState(null);return reactExports.useLayoutEffect(()=>{const mn=sn();!mn||!un||pn(mn)},[sn,un]),dn?reactDomExports.createPortal(tn,dn):null},DialogPortalDestination=()=>{const{dialogManager:tn}=useDialogManager(),sn=useOpenedDialogCount();return React$1.createElement("div",{className:"str-chat__dialog-overlay","data-str-chat__portal-id":tn.id,"data-testid":"str-chat__dialog-overlay",onClick:()=>tn.closeAll(),style:{"--str-chat__dialog-overlay-height":sn>0?"100%":"0"}})},DialogPortalEntry=({children:tn,dialogId:sn})=>{const{dialogManager:un}=useDialogManager(),dn=useDialogIsOpen(sn),pn=reactExports.useCallback(()=>document.querySelector(`div[data-str-chat__portal-id="${un.id}"]`),[un.id]);return React$1.createElement(Portal,{getPortalDestination:pn,isOpen:dn},tn)},DialogManagerProviderContext=React$1.createContext(void 0),DialogManagerProvider=({children:tn,id:sn})=>{const[un]=reactExports.useState(()=>new DialogManager({id:sn}));return React$1.createElement(DialogManagerProviderContext.Provider,{value:{dialogManager:un}},tn,React$1.createElement(DialogPortalDestination,null))},useDialogManager=()=>reactExports.useContext(DialogManagerProviderContext),MessageContext=React$1.createContext(void 0),MessageProvider=({children:tn,value:sn})=>React$1.createElement(MessageContext.Provider,{value:sn},tn),useMessageContext=tn=>{const sn=reactExports.useContext(MessageContext);return sn||{}},MessageBounceContext=reactExports.createContext(void 0);function useMessageBounceContext(tn){const sn=reactExports.useContext(MessageBounceContext);return sn||(console.warn(`The useMessageBounceContext hook was called outside of the MessageBounceContext provider. The errored call is located in the ${tn} component.`),{})}function MessageBounceProvider({children:tn}){const{handleRetry:sn,message:un,setEditingState:dn}=useMessageContext();isMessageBounced(un)||console.warn('The MessageBounceProvider was rendered for a message that is not bounced. Have you missed the "isMessageBounced" check?');const{removeMessage:pn}=useChannelActionContext("MessageBounceProvider"),mn=reactExports.useCallback(()=>{pn(un)},[un,pn]),hn=reactExports.useCallback(xn=>{dn(xn)},[dn]),fn=reactExports.useCallback(()=>{sn(un)},[sn,un]),gn=reactExports.useMemo(()=>({handleDelete:mn,handleEdit:hn,handleRetry:fn,message:un}),[mn,hn,fn,un]);return React$1.createElement(MessageBounceContext.Provider,{value:gn},tn)}const MessageInputContext=reactExports.createContext(void 0),MessageInputContextProvider=({children:tn,value:sn})=>React$1.createElement(MessageInputContext.Provider,{value:sn},tn),useMessageInputContext=tn=>{const sn=reactExports.useContext(MessageInputContext);return sn||{}},MessageListContext=reactExports.createContext(void 0),MessageListContextProvider=({children:tn,value:sn})=>React$1.createElement(MessageListContext.Provider,{value:sn},tn),PollContext=React$1.createContext(void 0),PollProvider=({children:tn,poll:sn})=>sn?React$1.createElement(PollContext.Provider,{value:{poll:sn}},tn):null,usePollContext=()=>reactExports.useContext(PollContext);var dayjs_min={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){var un=1e3,dn=6e4,pn=36e5,mn="millisecond",hn="second",fn="minute",gn="hour",xn="day",yn="week",vn="month",En="quarter",bn="year",wn="date",Sn="Invalid Date",Rn=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_n=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,jn={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(In){var Un=["th","st","nd","rd"],Vn=In%100;return"["+In+(Un[(Vn-20)%10]||Un[Vn]||Un[0])+"]"}},Cn=function(In,Un,Vn){var Hn=String(In);return!Hn||Hn.length>=Un?In:""+Array(Un+1-Hn.length).join(Vn)+In},An={s:Cn,z:function(In){var Un=-In.utcOffset(),Vn=Math.abs(Un),Hn=Math.floor(Vn/60),Ln=Vn%60;return(Un<=0?"+":"-")+Cn(Hn,2,"0")+":"+Cn(Ln,2,"0")},m:function In(Un,Vn){if(Un.date()<Vn.date())return-In(Vn,Un);var Hn=12*(Vn.year()-Un.year())+(Vn.month()-Un.month()),Ln=Un.clone().add(Hn,vn),zn=Vn-Ln<0,Bn=Un.clone().add(Hn+(zn?-1:1),vn);return+(-(Hn+(Vn-Ln)/(zn?Ln-Bn:Bn-Ln))||0)},a:function(In){return In<0?Math.ceil(In)||0:Math.floor(In)},p:function(In){return{M:vn,y:bn,w:yn,d:xn,D:wn,h:gn,m:fn,s:hn,ms:mn,Q:En}[In]||String(In||"").toLowerCase().replace(/s$/,"")},u:function(In){return In===void 0}},Tn="en",$n={};$n[Tn]=jn;var Dn="$isDayjsObject",Nn=function(In){return In instanceof On||!(!In||!In[Dn])},kn=function In(Un,Vn,Hn){var Ln;if(!Un)return Tn;if(typeof Un=="string"){var zn=Un.toLowerCase();$n[zn]&&(Ln=zn),Vn&&($n[zn]=Vn,Ln=zn);var Bn=Un.split("-");if(!Ln&&Bn.length>1)return In(Bn[0])}else{var Fn=Un.name;$n[Fn]=Un,Ln=Fn}return!Hn&&Ln&&(Tn=Ln),Ln||!Hn&&Tn},Pn=function(In,Un){if(Nn(In))return In.clone();var Vn=typeof Un=="object"?Un:{};return Vn.date=In,Vn.args=arguments,new On(Vn)},Mn=An;Mn.l=kn,Mn.i=Nn,Mn.w=function(In,Un){return Pn(In,{locale:Un.$L,utc:Un.$u,x:Un.$x,$offset:Un.$offset})};var On=function(){function In(Vn){this.$L=kn(Vn.locale,null,!0),this.parse(Vn),this.$x=this.$x||Vn.x||{},this[Dn]=!0}var Un=In.prototype;return Un.parse=function(Vn){this.$d=function(Hn){var Ln=Hn.date,zn=Hn.utc;if(Ln===null)return new Date(NaN);if(Mn.u(Ln))return new Date;if(Ln instanceof Date)return new Date(Ln);if(typeof Ln=="string"&&!/Z$/i.test(Ln)){var Bn=Ln.match(Rn);if(Bn){var Fn=Bn[2]-1||0,Gn=(Bn[7]||"0").substring(0,3);return zn?new Date(Date.UTC(Bn[1],Fn,Bn[3]||1,Bn[4]||0,Bn[5]||0,Bn[6]||0,Gn)):new Date(Bn[1],Fn,Bn[3]||1,Bn[4]||0,Bn[5]||0,Bn[6]||0,Gn)}}return new Date(Ln)}(Vn),this.init()},Un.init=function(){var Vn=this.$d;this.$y=Vn.getFullYear(),this.$M=Vn.getMonth(),this.$D=Vn.getDate(),this.$W=Vn.getDay(),this.$H=Vn.getHours(),this.$m=Vn.getMinutes(),this.$s=Vn.getSeconds(),this.$ms=Vn.getMilliseconds()},Un.$utils=function(){return Mn},Un.isValid=function(){return this.$d.toString()!==Sn},Un.isSame=function(Vn,Hn){var Ln=Pn(Vn);return this.startOf(Hn)<=Ln&&Ln<=this.endOf(Hn)},Un.isAfter=function(Vn,Hn){return Pn(Vn)<this.startOf(Hn)},Un.isBefore=function(Vn,Hn){return this.endOf(Hn)<Pn(Vn)},Un.$g=function(Vn,Hn,Ln){return Mn.u(Vn)?this[Hn]:this.set(Ln,Vn)},Un.unix=function(){return Math.floor(this.valueOf()/1e3)},Un.valueOf=function(){return this.$d.getTime()},Un.startOf=function(Vn,Hn){var Ln=this,zn=!!Mn.u(Hn)||Hn,Bn=Mn.p(Vn),Fn=function(xr,vr){var nr=Mn.w(Ln.$u?Date.UTC(Ln.$y,vr,xr):new Date(Ln.$y,vr,xr),Ln);return zn?nr:nr.endOf(xn)},Gn=function(xr,vr){return Mn.w(Ln.toDate()[xr].apply(Ln.toDate("s"),(zn?[0,0,0,0]:[23,59,59,999]).slice(vr)),Ln)},qn=this.$W,Jn=this.$M,dr=this.$D,br="set"+(this.$u?"UTC":"");switch(Bn){case bn:return zn?Fn(1,0):Fn(31,11);case vn:return zn?Fn(1,Jn):Fn(0,Jn+1);case yn:var Er=this.$locale().weekStart||0,yr=(qn<Er?qn+7:qn)-Er;return Fn(zn?dr-yr:dr+(6-yr),Jn);case xn:case wn:return Gn(br+"Hours",0);case gn:return Gn(br+"Minutes",1);case fn:return Gn(br+"Seconds",2);case hn:return Gn(br+"Milliseconds",3);default:return this.clone()}},Un.endOf=function(Vn){return this.startOf(Vn,!1)},Un.$set=function(Vn,Hn){var Ln,zn=Mn.p(Vn),Bn="set"+(this.$u?"UTC":""),Fn=(Ln={},Ln[xn]=Bn+"Date",Ln[wn]=Bn+"Date",Ln[vn]=Bn+"Month",Ln[bn]=Bn+"FullYear",Ln[gn]=Bn+"Hours",Ln[fn]=Bn+"Minutes",Ln[hn]=Bn+"Seconds",Ln[mn]=Bn+"Milliseconds",Ln)[zn],Gn=zn===xn?this.$D+(Hn-this.$W):Hn;if(zn===vn||zn===bn){var qn=this.clone().set(wn,1);qn.$d[Fn](Gn),qn.init(),this.$d=qn.set(wn,Math.min(this.$D,qn.daysInMonth())).$d}else Fn&&this.$d[Fn](Gn);return this.init(),this},Un.set=function(Vn,Hn){return this.clone().$set(Vn,Hn)},Un.get=function(Vn){return this[Mn.p(Vn)]()},Un.add=function(Vn,Hn){var Ln,zn=this;Vn=Number(Vn);var Bn=Mn.p(Hn),Fn=function(Jn){var dr=Pn(zn);return Mn.w(dr.date(dr.date()+Math.round(Jn*Vn)),zn)};if(Bn===vn)return this.set(vn,this.$M+Vn);if(Bn===bn)return this.set(bn,this.$y+Vn);if(Bn===xn)return Fn(1);if(Bn===yn)return Fn(7);var Gn=(Ln={},Ln[fn]=dn,Ln[gn]=pn,Ln[hn]=un,Ln)[Bn]||1,qn=this.$d.getTime()+Vn*Gn;return Mn.w(qn,this)},Un.subtract=function(Vn,Hn){return this.add(-1*Vn,Hn)},Un.format=function(Vn){var Hn=this,Ln=this.$locale();if(!this.isValid())return Ln.invalidDate||Sn;var zn=Vn||"YYYY-MM-DDTHH:mm:ssZ",Bn=Mn.z(this),Fn=this.$H,Gn=this.$m,qn=this.$M,Jn=Ln.weekdays,dr=Ln.months,br=Ln.meridiem,Er=function(vr,nr,sr,Rr){return vr&&(vr[nr]||vr(Hn,zn))||sr[nr].slice(0,Rr)},yr=function(vr){return Mn.s(Fn%12||12,vr,"0")},xr=br||function(vr,nr,sr){var Rr=vr<12?"AM":"PM";return sr?Rr.toLowerCase():Rr};return zn.replace(_n,function(vr,nr){return nr||function(sr){switch(sr){case"YY":return String(Hn.$y).slice(-2);case"YYYY":return Mn.s(Hn.$y,4,"0");case"M":return qn+1;case"MM":return Mn.s(qn+1,2,"0");case"MMM":return Er(Ln.monthsShort,qn,dr,3);case"MMMM":return Er(dr,qn);case"D":return Hn.$D;case"DD":return Mn.s(Hn.$D,2,"0");case"d":return String(Hn.$W);case"dd":return Er(Ln.weekdaysMin,Hn.$W,Jn,2);case"ddd":return Er(Ln.weekdaysShort,Hn.$W,Jn,3);case"dddd":return Jn[Hn.$W];case"H":return String(Fn);case"HH":return Mn.s(Fn,2,"0");case"h":return yr(1);case"hh":return yr(2);case"a":return xr(Fn,Gn,!0);case"A":return xr(Fn,Gn,!1);case"m":return String(Gn);case"mm":return Mn.s(Gn,2,"0");case"s":return String(Hn.$s);case"ss":return Mn.s(Hn.$s,2,"0");case"SSS":return Mn.s(Hn.$ms,3,"0");case"Z":return Bn}return null}(vr)||Bn.replace(":","")})},Un.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Un.diff=function(Vn,Hn,Ln){var zn,Bn=this,Fn=Mn.p(Hn),Gn=Pn(Vn),qn=(Gn.utcOffset()-this.utcOffset())*dn,Jn=this-Gn,dr=function(){return Mn.m(Bn,Gn)};switch(Fn){case bn:zn=dr()/12;break;case vn:zn=dr();break;case En:zn=dr()/3;break;case yn:zn=(Jn-qn)/6048e5;break;case xn:zn=(Jn-qn)/864e5;break;case gn:zn=Jn/pn;break;case fn:zn=Jn/dn;break;case hn:zn=Jn/un;break;default:zn=Jn}return Ln?zn:Mn.a(zn)},Un.daysInMonth=function(){return this.endOf(vn).$D},Un.$locale=function(){return $n[this.$L]},Un.locale=function(Vn,Hn){if(!Vn)return this.$L;var Ln=this.clone(),zn=kn(Vn,Hn,!0);return zn&&(Ln.$L=zn),Ln},Un.clone=function(){return Mn.w(this.$d,this)},Un.toDate=function(){return new Date(this.valueOf())},Un.toJSON=function(){return this.isValid()?this.toISOString():null},Un.toISOString=function(){return this.$d.toISOString()},Un.toString=function(){return this.$d.toUTCString()},In}(),Wn=On.prototype;return Pn.prototype=Wn,[["$ms",mn],["$s",hn],["$m",fn],["$H",gn],["$W",xn],["$M",vn],["$y",bn],["$D",wn]].forEach(function(In){Wn[In[1]]=function(Un){return this.$g(Un,In[0],In[1])}}),Pn.extend=function(In,Un){return In.$i||(In(Un,On,Pn),In.$i=!0),Pn},Pn.locale=kn,Pn.isDayjs=Nn,Pn.unix=function(In){return Pn(1e3*In)},Pn.en=$n[Tn],Pn.Ls=$n,Pn.p={},Pn})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const Dayjs=getDefaultExportFromCjs(dayjs_minExports);var calendar$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){return function(un,dn,pn){var mn="h:mm A",hn={lastDay:"[Yesterday at] "+mn,sameDay:"[Today at] "+mn,nextDay:"[Tomorrow at] "+mn,nextWeek:"dddd [at] "+mn,lastWeek:"[Last] dddd [at] "+mn,sameElse:"MM/DD/YYYY"};dn.prototype.calendar=function(fn,gn){var xn=gn||this.$locale().calendar||hn,yn=pn(fn||void 0).startOf("d"),vn=this.diff(yn,"d",!0),En="sameElse",bn=vn<-6?En:vn<-1?"lastWeek":vn<0?"lastDay":vn<1?"sameDay":vn<2?"nextDay":vn<7?"nextWeek":En,wn=xn[bn]||hn[bn];return typeof wn=="function"?wn.call(this,pn()):this.format(wn)}}})})(calendar$1);var calendarExports=calendar$1.exports;const calendar=getDefaultExportFromCjs(calendarExports);var localizedFormat={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){var un={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(dn,pn,mn){var hn=pn.prototype,fn=hn.format;mn.en.formats=un,hn.format=function(gn){gn===void 0&&(gn="YYYY-MM-DDTHH:mm:ssZ");var xn=this.$locale().formats,yn=function(vn,En){return vn.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(bn,wn,Sn){var Rn=Sn&&Sn.toUpperCase();return wn||En[Sn]||un[Sn]||En[Rn].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_n,jn,Cn){return jn||Cn.slice(1)})})}(gn,xn===void 0?{}:xn);return fn.call(this,yn)}}})})(localizedFormat);var localizedFormatExports=localizedFormat.exports;const LocalizedFormat=getDefaultExportFromCjs(localizedFormatExports),notValidDateWarning="MessageTimestamp was called without a message, or message has invalid created_at date.",noParsingFunctionWarning="MessageTimestamp was called but there is no datetime parsing function available",isNumberOrString=tn=>typeof tn=="string"||typeof tn=="number",isDayOrMoment=tn=>!!(tn!=null&&tn.isSame),isDate=tn=>tn!==null&&typeof tn=="object"&&typeof tn.getTime=="function";function getDateString({calendar:tn,calendarFormats:sn,format:un,formatDate:dn,messageCreatedAt:pn,t:mn,tDateTimeParser:hn,timestampTranslationKey:fn}){if(!pn||typeof pn=="string"&&!Date.parse(pn))return console.warn(notValidDateWarning),null;if(typeof dn=="function")return dn(new Date(pn));if(mn&&fn){const xn={};typeof tn<"u"&&tn!==null&&(xn.calendar=tn),typeof sn<"u"&&sn!==null&&(xn.calendarFormats=sn),typeof un<"u"&&un!==null&&(xn.format=un);const yn=mn(fn,{...xn,timestamp:new Date(pn)});if(fn!==yn)return yn}if(!hn)return console.warn(noParsingFunctionWarning),null;const gn=hn(pn);return isDayOrMoment(gn)?tn&&gn.calendar?gn.calendar(void 0,sn||void 0):gn.format(un||void 0):isDate(gn)?gn.toDateString():isNumberOrString(gn)?gn:null}const predefinedFormatters={durationFormatter:tn=>(sn,un,{format:dn,withSuffix:pn})=>dn&&dayjs_minExports.isDayjs(tn.DateTimeParser)?tn.DateTimeParser.duration(sn).format(dn):tn.DateTimeParser.duration(sn).humanize(!!pn),timestampFormatter:tn=>(sn,un,{calendarFormats:dn,...pn})=>{let mn;try{pn.calendar?typeof dn=="string"?mn=JSON.parse(dn):typeof dn=="object"&&(mn=dn):mn={}}catch(fn){console.error("[TIMESTAMP FORMATTER]",fn)}const hn=getDateString({...pn,calendarFormats:mn,messageCreatedAt:sn,tDateTimeParser:tn.tDateTimeParser});return!hn||typeof hn=="number"?JSON.stringify(sn):hn}},defaultTranslatorFunction=tn=>tn,defaultDateTimeParser=tn=>Dayjs(tn),isLanguageSupported=tn=>["de","en","es","fr","hi","it","ja","ko","nl","pt","ru","tr"].some(un=>tn===un);Dayjs.extend(calendar);Dayjs.extend(LocalizedFormat);const TranslationContext=React$1.createContext({t:defaultTranslatorFunction,tDateTimeParser:defaultDateTimeParser,userLanguage:"en"}),TranslationProvider=({children:tn,value:sn})=>React$1.createElement(TranslationContext.Provider,{value:sn},tn),useTranslationContext=tn=>{const sn=reactExports.useContext(TranslationContext);return sn||(console.warn(`The useTranslationContext hook was called outside of the TranslationContext provider. Make sure this hook is called within a child of the Chat component. The errored call is located in the ${tn} component.`),{})},TypingContext=React$1.createContext(void 0),TypingProvider=({children:tn,value:sn})=>React$1.createElement(TypingContext.Provider,{value:sn},tn),useTypingContext=tn=>{const sn=reactExports.useContext(TypingContext);return sn||(console.warn(`The useTypingContext hook was called outside of the TypingContext provider. Make sure this hook is called within a child of the Channel component. The errored call is located in the ${tn} component.`),{})};function WithComponents({children:tn,overrides:sn}){const dn={...reactExports.useContext(ComponentContext),...sn};return React$1.createElement(ComponentContext.Provider,{value:dn},tn)}const UnMemoizedAttachmentActions=tn=>{const{actionHandler:sn,actions:un,id:dn,text:pn}=tn,{t:mn}=useTranslationContext("UnMemoizedAttachmentActions"),hn=(fn,gn,xn)=>sn==null?void 0:sn(gn,xn,fn);return React$1.createElement("div",{className:"str-chat__message-attachment-actions"},React$1.createElement("div",{className:"str-chat__message-attachment-actions-form"},React$1.createElement("span",null,pn),un.map(fn=>React$1.createElement("button",{className:`str-chat__message-attachment-actions-button str-chat__message-attachment-actions-button--${fn.style}`,"data-testid":`${fn.name}`,"data-value":fn.value,key:`${dn}-${fn.value}`,onClick:gn=>hn(gn,fn.name,fn.value)},fn.text?mn(fn.text):null))))},AttachmentActions=React$1.memo(UnMemoizedAttachmentActions),DownloadIcon$1=({className:tn})=>React$1.createElement("svg",{className:tn,"data-testid":"download",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z",fill:"black"})),PlayTriangleIcon=()=>React$1.createElement("svg",{fill:"none",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M0.5 0V14L11.5 7L0.5 0Z",fill:"#080707"})),PauseIcon$1=()=>React$1.createElement("svg",{fill:"none",viewBox:"0 0 12 14",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M0 14H4V0H0V14ZM8 0V14H12V0H8Z",fill:"#080707"}));var dist={};(function(tn){Object.defineProperty(tn,"__esModule",{value:!0}),tn.sanitizeUrl=tn.BLANK_URL=void 0;var sn=/^([^\w]*)(javascript|data|vbscript)/im,un=/&#(\w+)(^\w|;)?/g,dn=/&(newline|tab);/gi,pn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,mn=/^.+(:|&colon;)/gim,hn=[".","/"];tn.BLANK_URL="about:blank";function fn(yn){return hn.indexOf(yn[0])>-1}function gn(yn){var vn=yn.replace(pn,"");return vn.replace(un,function(En,bn){return String.fromCharCode(bn)})}function xn(yn){if(!yn)return tn.BLANK_URL;var vn=gn(yn).replace(dn,"").replace(pn,"").trim();if(!vn)return tn.BLANK_URL;if(fn(vn))return vn;var En=vn.match(mn);if(!En)return vn;var bn=En[0];return sn.test(bn)?tn.BLANK_URL:vn}tn.sanitizeUrl=xn})(dist);const UnMemoizedSafeAnchor=tn=>{const{children:sn,className:un,download:dn,href:pn,rel:mn,target:hn}=tn,{t:fn}=useTranslationContext("SafeAnchor");if(!pn)return null;const gn=dist.sanitizeUrl(pn);return React$1.createElement("a",{"aria-label":fn("aria/Attachment"),className:un,download:dn,href:gn,rel:mn,target:hn},sn)},SafeAnchor=React$1.memo(UnMemoizedSafeAnchor),DownloadButton=({assetUrl:tn})=>React$1.createElement(SafeAnchor,{className:"str-chat__message-attachment-file--item-download",download:!0,href:tn,target:"_blank"},React$1.createElement(DownloadIcon$1,{className:"str-chat__message-attachment-download-icon"}));function prettifyFileSize(tn,sn=3){const un=["B","kB","MB","GB"],dn=Math.min(Math.floor(Math.log(tn)/Math.log(1024)),un.length-1),pn=tn/1024**dn;return`${sn===0?Math.round(pn).toString():pn.toPrecision(sn)} ${un[dn]}`}const FileSizeIndicator=({fileSize:tn,maximumFractionDigits:sn})=>{const un=typeof tn=="string"?parseFloat(tn):tn;return typeof un>"u"||!Number.isFinite(Number(un))?null:React$1.createElement("span",{className:"str-chat__message-attachment-file--item-size","data-testid":"file-size-indicator"},prettifyFileSize(un,sn))},ProgressBar=({className:tn,onClick:sn,progress:un})=>React$1.createElement("div",{className:clsx("str-chat__message-attachment-audio-widget--progress-track",tn),"data-progress":un,"data-testid":"audio-progress",onClick:sn,role:"progressbar",style:{"--str-chat__message-attachment-audio-widget-progress":un+"%"}},React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--progress-slider",style:{left:`${un}px`}})),PlaybackRateButton=({children:tn,onClick:sn})=>React$1.createElement("button",{className:"str-chat__message_attachment__playback-rate-button","data-testid":"playback-rate-button",onClick:sn},tn),PlayButton=({isPlaying:tn,onClick:sn})=>React$1.createElement("button",{className:"str-chat__message-attachment-audio-widget--play-button","data-testid":tn?"pause-audio":"play-audio",onClick:sn},tn?React$1.createElement(PauseIcon$1,null):React$1.createElement(PlayTriangleIcon,null));var FUNC_ERROR_TEXT$1="Expected a function",NAN$1=NaN,symbolTag$1="[object Symbol]",reTrim$1=/^\s+|\s+$/g,reIsBadHex$1=/^[-+]0x[0-9a-f]+$/i,reIsBinary$1=/^0b[01]+$/i,reIsOctal$1=/^0o[0-7]+$/i,freeParseInt$1=parseInt,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal$1||freeSelf$1||Function("return this")(),objectProto$1=Object.prototype,objectToString$1=objectProto$1.toString,nativeMax$1=Math.max,nativeMin$1=Math.min,now$1=function(){return root$4.Date.now()};function debounce$3(tn,sn,un){var dn,pn,mn,hn,fn,gn,xn=0,yn=!1,vn=!1,En=!0;if(typeof tn!="function")throw new TypeError(FUNC_ERROR_TEXT$1);sn=toNumber$1(sn)||0,isObject$2(un)&&(yn=!!un.leading,vn="maxWait"in un,mn=vn?nativeMax$1(toNumber$1(un.maxWait)||0,sn):mn,En="trailing"in un?!!un.trailing:En);function bn($n){var Dn=dn,Nn=pn;return dn=pn=void 0,xn=$n,hn=tn.apply(Nn,Dn),hn}function wn($n){return xn=$n,fn=setTimeout(_n,sn),yn?bn($n):hn}function Sn($n){var Dn=$n-gn,Nn=$n-xn,kn=sn-Dn;return vn?nativeMin$1(kn,mn-Nn):kn}function Rn($n){var Dn=$n-gn,Nn=$n-xn;return gn===void 0||Dn>=sn||Dn<0||vn&&Nn>=mn}function _n(){var $n=now$1();if(Rn($n))return jn($n);fn=setTimeout(_n,Sn($n))}function jn($n){return fn=void 0,En&&dn?bn($n):(dn=pn=void 0,hn)}function Cn(){fn!==void 0&&clearTimeout(fn),xn=0,dn=gn=pn=fn=void 0}function An(){return fn===void 0?hn:jn(now$1())}function Tn(){var $n=now$1(),Dn=Rn($n);if(dn=arguments,pn=this,gn=$n,Dn){if(fn===void 0)return wn(gn);if(vn)return fn=setTimeout(_n,sn),bn(gn)}return fn===void 0&&(fn=setTimeout(_n,sn)),hn}return Tn.cancel=Cn,Tn.flush=An,Tn}function throttle(tn,sn,un){var dn=!0,pn=!0;if(typeof tn!="function")throw new TypeError(FUNC_ERROR_TEXT$1);return isObject$2(un)&&(dn="leading"in un?!!un.leading:dn,pn="trailing"in un?!!un.trailing:pn),debounce$3(tn,sn,{leading:dn,maxWait:sn,trailing:pn})}function isObject$2(tn){var sn=typeof tn;return!!tn&&(sn=="object"||sn=="function")}function isObjectLike$1(tn){return!!tn&&typeof tn=="object"}function isSymbol$1(tn){return typeof tn=="symbol"||isObjectLike$1(tn)&&objectToString$1.call(tn)==symbolTag$1}function toNumber$1(tn){if(typeof tn=="number")return tn;if(isSymbol$1(tn))return NAN$1;if(isObject$2(tn)){var sn=typeof tn.valueOf=="function"?tn.valueOf():tn;tn=isObject$2(sn)?sn+"":sn}if(typeof tn!="string")return tn===0?tn:+tn;tn=tn.replace(reTrim$1,"");var un=reIsBinary$1.test(tn);return un||reIsOctal$1.test(tn)?freeParseInt$1(tn.slice(2),un?2:8):reIsBadHex$1.test(tn)?NAN$1:+tn}var lodash_throttle=throttle;const throttle$1=getDefaultExportFromCjs(lodash_throttle),SUPPORTED_VIDEO_FORMATS=["video/mp4","video/ogg","video/webm","video/quicktime"],isGalleryAttachmentType=tn=>Array.isArray(tn.images),isSvgAttachment=tn=>(tn.fallback||"").toLowerCase().endsWith(".svg"),divMod=(tn,sn)=>[Math.floor(tn/sn),tn%sn],displayDuration=tn=>{if(!tn||tn<0)return"00:00";const[sn,un]=divMod(tn,3600),[dn,pn]=divMod(un,60),mn=Math.ceil(pn),hn=sn.toString().length===1?"0":"",fn=dn.toString().length===1?"0":"",gn=mn.toString().length===1?"0":"",xn=`${fn}${dn}:${gn}${mn}`;return sn?`${hn}${sn}:`+xn:xn},resampleWaveformData=(tn,sn)=>tn.length===sn?tn:tn.length>sn?downSample(tn,sn):upSample(tn,sn);function downSample(tn,sn){if(tn.length<=sn||sn===0)return tn;if(sn===1)return[mean(tn)];const un=[],dn=(tn.length-2)/(sn-2);let pn=0;un.push(tn[pn]);let mn,hn,fn;for(let gn=1;gn<sn-1;gn++){const xn=tn[pn],yn=getNextBucketMean(tn,gn,dn),vn=Math.floor((gn-1)*dn)+1,En=Math.floor(gn*dn)+1,bn=1+En-vn;hn=fn=-1;for(let wn=vn;wn<En;wn++){const Sn=Math.abs(wn-vn)+1,Rn=bn-Sn,_n=tn[wn];fn=triangleAreaHeron(triangleBase(Math.abs(xn-_n),Sn),triangleBase(Math.abs(_n-yn),Rn),triangleBase(Math.abs(xn-yn),bn)),fn>hn&&(hn=fn,mn=tn[wn],pn=wn)}typeof mn<"u"&&un.push(mn)}return un.push(tn[tn.length-1]),un}const triangleAreaHeron=(tn,sn,un)=>{const dn=(tn+sn+un)/2;return Math.sqrt(dn*(dn-tn)*(dn-sn)*(dn-un))},triangleBase=(tn,sn)=>Math.sqrt(Math.pow(tn,2)+Math.pow(sn,2)),mean=tn=>tn.reduce((sn,un)=>sn+un,0)/tn.length,getNextBucketMean=(tn,sn,un)=>{const dn=Math.floor(sn*un)+1;let pn=Math.floor((sn+1)*un)+1;return pn=pn<tn.length?pn:tn.length,mean(tn.slice(dn,pn))},upSample=(tn,sn)=>{if(!tn.length)return console.warn("Cannot extend empty array of amplitudes."),tn;if(tn.length>sn)return console.warn("Requested to extend the waveformData that is longer than the target list size"),tn;if(sn===tn.length)return tn;let[un,dn]=divMod(sn,tn.length);const pn=[];for(let mn=0;mn<tn.length;mn++){const hn=dn&&dn--?1:0;pn.push(...Array(un+hn).fill(tn[mn]))}return pn},WaveProgressBar=({amplitudesCount:tn=40,progress:sn=0,relativeAmplitudeBarWidth:un=2,relativeAmplitudeGap:dn=1,seek:pn,waveformData:mn})=>{const[hn,fn]=reactExports.useState(null),gn=reactExports.useRef(!1),[xn,yn]=reactExports.useState(null),[vn,En]=reactExports.useState(),bn=reactExports.useRef(void 0),wn=Cn=>{Cn.preventDefault(),hn&&(gn.current=!0,hn.style.cursor="grabbing")},Sn=Cn=>{gn.current&&pn({...Cn})},Rn=reactExports.useCallback(()=>{hn&&(gn.current=!1,hn.style.removeProperty("cursor"))},[hn]),_n=reactExports.useMemo(()=>throttle$1(Cn=>{if(Cn===bn.current)return;bn.current=Cn;const An=Math.floor(Cn/(dn+un)),$n=An<tn?An:tn,Dn=un/(un+dn),Nn=$n&&Cn/$n*Dn;En({barCount:$n,barWidth:Nn,gap:Nn*(dn/un)})},1),[un,dn,tn]),jn=reactExports.useMemo(()=>vn?resampleWaveformData(mn,vn.barCount):[],[vn,mn]);return reactExports.useEffect(()=>(document.addEventListener("pointerup",Rn),()=>{document.removeEventListener("pointerup",Rn)}),[Rn]),reactExports.useEffect(()=>{if(!xn||typeof ResizeObserver>"u")return;const Cn=new ResizeObserver(([An])=>{_n(An.contentRect.width)});return Cn.observe(xn),()=>{Cn.disconnect()}},[_n,xn]),reactExports.useLayoutEffect(()=>{if(!xn)return;const{width:Cn}=xn.getBoundingClientRect();_n(Cn)},[_n,xn]),!mn.length||(vn==null?void 0:vn.barCount)===0?null:React$1.createElement("div",{className:"str-chat__wave-progress-bar__track","data-testid":"wave-progress-bar-track",onClick:pn,onPointerDown:wn,onPointerMove:Sn,onPointerUp:Rn,ref:yn,role:"progressbar",style:{"--str-chat__voice-recording-amplitude-bar-gap-width":(vn==null?void 0:vn.gap)+"px"}},jn.map((Cn,An)=>React$1.createElement("div",{className:clsx("str-chat__wave-progress-bar__amplitude-bar",{"str-chat__wave-progress-bar__amplitude-bar--active":sn>An/jn.length*100}),"data-testid":"amplitude-bar",key:`amplitude-${An}`,style:{"--str-chat__voice-recording-amplitude-bar-width":(vn==null?void 0:vn.barWidth)+"px","--str-chat__wave-progress-bar__amplitude-bar-height":Cn?Cn*100+"%":"0%"}})),React$1.createElement("div",{className:"str-chat__wave-progress-bar__progress-indicator","data-testid":"wave-progress-bar-progress-indicator",ref:fn,style:{left:`${sn<0?0:sn>100?100:sn}%`}}))},isSeekable=tn=>!(tn.duration===1/0||isNaN(tn.duration)),elementIsPlaying=tn=>tn&&!(tn.paused||tn.ended),logError$2=tn=>console.error("[AUDIO PLAYER]",tn),DEFAULT_PLAYBACK_RATES=[1,1.5,2],useAudioController=({durationSeconds:tn,mimeType:sn,playbackRates:un=DEFAULT_PLAYBACK_RATES}={})=>{const{addNotification:dn}=useChannelActionContext("useAudioController"),{t:pn}=useTranslationContext("useAudioController"),[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(),[xn,yn]=reactExports.useState(!0),[vn,En]=reactExports.useState(0),[bn,wn]=reactExports.useState(0),Sn=reactExports.useRef(void 0),Rn=reactExports.useRef(null),_n=reactExports.useCallback(Tn=>{logError$2(Tn),gn(Tn),dn(Tn.message,"error")},[dn]),jn=reactExports.useCallback(async()=>{if(Rn.current){if(clearTimeout(Sn.current),Sn.current=void 0,sn&&!Rn.current.canPlayType(sn)){_n(new Error(pn("Recording format is not supported and cannot be reproduced"))),yn(!1);return}if(elementIsPlaying(Rn.current))Rn.current.pause(),hn(!1);else{Sn.current=setTimeout(()=>{if(Rn.current)try{Rn.current.pause(),hn(!1)}catch{_n(new Error(pn("Failed to play the recording")))}},2e3);try{await Rn.current.play(),hn(!0)}catch(Tn){_n(Tn),hn(!1)}finally{clearTimeout(Sn.current),Sn.current=void 0}}}},[sn,_n,pn]),Cn=()=>{wn(Tn=>{if(!Rn.current)return Tn;const $n=Tn===un.length-1?0:Tn+1;return Rn.current.playbackRate=un[$n],$n})},An=reactExports.useMemo(()=>throttle$1(({clientX:Tn,currentTarget:$n})=>{if(!($n&&Rn.current))return;if(!isSeekable(Rn.current)){_n(new Error(pn("Cannot seek in the recording")));return}const{width:Dn,x:Nn}=$n.getBoundingClientRect(),kn=(Tn-Nn)/Dn;if(kn>1||kn<0)return;const Pn=kn*Rn.current.duration;En(Pn),Rn.current.currentTime=Pn},16),[_n,pn]);return reactExports.useEffect(()=>{if(!Rn.current)return;const Tn=Rn.current,$n=()=>{En((Tn==null?void 0:Tn.duration)??tn??0),hn(!1)};Tn.addEventListener("ended",$n);const Dn=()=>{dn(pn("Error reproducing the recording"),"error"),hn(!1)};Tn.addEventListener("error",Dn);const Nn=()=>{En(Tn==null?void 0:Tn.currentTime)};return Tn.addEventListener("timeupdate",Nn),()=>{Tn.pause(),Tn.removeEventListener("ended",$n),Tn.removeEventListener("error",Dn),Tn.removeEventListener("timeupdate",Nn)}},[dn,tn,pn]),{audioRef:Rn,canPlayRecord:xn,increasePlaybackRate:Cn,isPlaying:mn,playbackError:fn,playbackRate:un[bn],progress:Rn.current&&vn?vn/Rn.current.duration*100:0,secondsElapsed:vn,seek:An,togglePlay:jn}},UnMemoizedAudio=tn=>{const{og:{asset_url:sn,file_size:un,mime_type:dn,title:pn}}=tn,{audioRef:mn,isPlaying:hn,progress:fn,seek:gn,togglePlay:xn}=useAudioController({mimeType:dn});return sn?React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget","data-testid":"audio-widget"},React$1.createElement("audio",{ref:mn},React$1.createElement("source",{"data-testid":"audio-source",src:sn,type:"audio/mp3"})),React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--play-controls"},React$1.createElement(PlayButton,{isPlaying:hn,onClick:xn})),React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--text"},React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--text-first-row"},React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--title"},pn),React$1.createElement(DownloadButton,{assetUrl:sn})),React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--text-second-row"},React$1.createElement(FileSizeIndicator,{fileSize:un}),React$1.createElement(ProgressBar,{onClick:gn,progress:fn})))):null},Audio=React$1.memo(UnMemoizedAudio),DEFAULT_SIZE=40,FilePdfIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-pdf",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#E71A01"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M16.39 8.90641C16.215 8.27341 15.787 7.95841 15.426 8.00441C14.99 8.06141 14.526 8.32041 14.34 8.72941C13.854 9.82141 14.768 12.8934 15.028 13.7674L15.073 13.9194C14.015 17.1134 10.394 23.4264 8.62002 23.8534C8.58302 23.4364 8.80602 22.2294 11.146 20.7244C11.266 20.5944 11.406 20.4374 11.471 20.3344C9.49302 21.3004 6.93108 22.8514 8.47102 24.0114C8.55602 24.0774 8.68502 24.1314 8.83402 24.1874C10.014 24.6244 11.666 23.1954 13.327 19.9544C15.157 19.3504 16.633 18.8964 18.722 18.5804C21.005 20.1304 22.538 20.4464 23.578 20.0474C23.866 19.9354 24.32 19.5734 24.45 19.1004C24.515 18.8774 24.608 18.5154 24.432 18.2274C23.842 17.2664 21.452 17.5954 20.032 17.7904C19.779 17.8254 19.557 17.8564 19.381 17.8744C17.552 16.7704 16.289 14.8014 15.778 13.3804C15.857 13.0784 15.936 12.7894 16.012 12.5124C16.397 11.1124 16.701 10.0064 16.392 8.90641H16.39ZM24.45 19.1004C23.605 20.1404 21.628 19.4164 20.05 18.4224C21.507 18.2644 23.01 18.1724 23.661 18.3764C24.488 18.6364 24.459 19.0444 24.451 19.1004H24.45ZM15.601 12.7404C15.296 11.6544 14.868 9.24041 15.555 8.46041C16.701 9.11641 16.266 10.5384 15.825 11.9834C15.748 12.2364 15.671 12.4894 15.601 12.7404ZM13.439 19.5834C15.156 18.9054 16.354 18.4494 18.118 18.1254C16.818 16.9554 16.028 15.6834 15.378 14.3834C14.915 16.0554 13.948 18.5894 13.438 19.5834H13.439Z",fill:"#E71A01",fillRule:"evenodd"}),React$1.createElement("path",{d:"M13.1719 33.0127V37.4219H12.1875V32.3018H13.1001L13.1719 33.0127ZM15.5132 34.1099V34.1816C15.5132 34.4505 15.4813 34.7 15.4175 34.9302C15.356 35.1603 15.2648 35.3608 15.144 35.5317C15.0233 35.7004 14.8729 35.8325 14.6929 35.9282C14.5151 36.0216 14.3101 36.0684 14.0776 36.0684C13.8521 36.0684 13.6561 36.0228 13.4897 35.9316C13.3234 35.8405 13.1833 35.7129 13.0693 35.5488C12.9577 35.3825 12.8677 35.1899 12.7993 34.9712C12.731 34.7524 12.6785 34.5177 12.6421 34.2671V34.0791C12.6785 33.8102 12.731 33.5641 12.7993 33.3408C12.8677 33.1152 12.9577 32.9204 13.0693 32.7563C13.1833 32.59 13.3223 32.4613 13.4863 32.3701C13.6527 32.279 13.8475 32.2334 14.0708 32.2334C14.3055 32.2334 14.5117 32.2778 14.6895 32.3667C14.8695 32.4556 15.0199 32.5832 15.1406 32.7495C15.2637 32.9159 15.356 33.1141 15.4175 33.3442C15.4813 33.5744 15.5132 33.8296 15.5132 34.1099ZM14.5254 34.1816V34.1099C14.5254 33.9526 14.5117 33.8079 14.4844 33.6758C14.4593 33.5413 14.4183 33.424 14.3613 33.3237C14.3066 33.2235 14.2337 33.146 14.1426 33.0913C14.0537 33.0343 13.9455 33.0059 13.8179 33.0059C13.6834 33.0059 13.5684 33.0275 13.4727 33.0708C13.3792 33.1141 13.3029 33.1768 13.2437 33.2588C13.1844 33.3408 13.14 33.4388 13.1104 33.5527C13.0807 33.6667 13.0625 33.7954 13.0557 33.939V34.4141C13.0671 34.5827 13.099 34.7342 13.1514 34.8687C13.2038 35.0008 13.2847 35.1056 13.394 35.1831C13.5034 35.2606 13.647 35.2993 13.8247 35.2993C13.9546 35.2993 14.064 35.2708 14.1528 35.2139C14.2417 35.1546 14.3135 35.0737 14.3682 34.9712C14.4251 34.8687 14.465 34.7502 14.4878 34.6157C14.5129 34.4813 14.5254 34.3366 14.5254 34.1816ZM18.3091 35.1934V30.75H19.3003V36H18.4082L18.3091 35.1934ZM15.9712 34.1953V34.1235C15.9712 33.841 16.0031 33.5846 16.0669 33.3545C16.1307 33.1221 16.2241 32.9227 16.3472 32.7563C16.4702 32.59 16.6217 32.4613 16.8018 32.3701C16.9818 32.279 17.1868 32.2334 17.417 32.2334C17.6335 32.2334 17.8226 32.279 17.9844 32.3701C18.1484 32.4613 18.2874 32.5911 18.4014 32.7598C18.5176 32.9261 18.611 33.1232 18.6816 33.3511C18.7523 33.5767 18.8035 33.8239 18.8354 34.0928V34.25C18.8035 34.5075 18.7523 34.7467 18.6816 34.9678C18.611 35.1888 18.5176 35.3825 18.4014 35.5488C18.2874 35.7129 18.1484 35.8405 17.9844 35.9316C17.8203 36.0228 17.6289 36.0684 17.4102 36.0684C17.18 36.0684 16.9749 36.0216 16.7949 35.9282C16.6172 35.8348 16.4668 35.7038 16.3438 35.5352C16.223 35.3665 16.1307 35.1683 16.0669 34.9404C16.0031 34.7126 15.9712 34.4642 15.9712 34.1953ZM16.9556 34.1235V34.1953C16.9556 34.348 16.967 34.4904 16.9897 34.6226C17.0148 34.7547 17.0547 34.8721 17.1094 34.9746C17.1663 35.0749 17.2393 35.1535 17.3281 35.2104C17.4193 35.2651 17.5298 35.2925 17.6597 35.2925C17.8283 35.2925 17.9673 35.2549 18.0767 35.1797C18.186 35.1022 18.2692 34.9963 18.3262 34.8618C18.3854 34.7274 18.4196 34.5724 18.4287 34.397V33.9492C18.4219 33.8057 18.4014 33.6769 18.3672 33.563C18.3353 33.4468 18.2874 33.3477 18.2236 33.2656C18.1621 33.1836 18.0846 33.1198 17.9912 33.0742C17.9001 33.0286 17.7918 33.0059 17.6665 33.0059C17.5389 33.0059 17.4295 33.0355 17.3384 33.0947C17.2472 33.1517 17.1732 33.2303 17.1162 33.3306C17.0615 33.4308 17.0205 33.5493 16.9932 33.686C16.9681 33.8205 16.9556 33.9663 16.9556 34.1235ZM21.3237 36H20.3325V31.9736C20.3325 31.6934 20.3872 31.4575 20.4966 31.2661C20.6082 31.0724 20.7643 30.9266 20.9648 30.8286C21.1676 30.7284 21.408 30.6782 21.686 30.6782C21.7772 30.6782 21.8649 30.6851 21.9492 30.6987C22.0335 30.7101 22.1156 30.7249 22.1953 30.7432L22.1851 31.4849C22.1418 31.4735 22.0962 31.4655 22.0483 31.4609C22.0005 31.4564 21.9447 31.4541 21.8809 31.4541C21.7624 31.4541 21.661 31.4746 21.5767 31.5156C21.4946 31.5544 21.432 31.6125 21.3887 31.6899C21.3454 31.7674 21.3237 31.862 21.3237 31.9736V36ZM22.062 32.3018V32.999H19.7822V32.3018H22.062Z",fill:"white"})),FileWordIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-word",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#4285F4"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#4285F4",fillRule:"evenodd"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#4285F4",fillRule:"evenodd"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#4285F4",fillRule:"evenodd"})),FileWordIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-word-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_64)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#3670D3"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#C1D8FF",fillRule:"evenodd"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#C1D8FF",fillRule:"evenodd"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#C1D8FF",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_64",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#79A4F2"}),React$1.createElement("stop",{offset:"1",stopColor:"#3375E2"})))),FilePowerPointIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-powerpoint",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#D65537"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M7 12C7 10.8954 7.89543 10 9 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H9C7.89543 20 7 19.1046 7 18V12ZM9 12H19V18H9V12ZM25 22C25 23.1046 24.1046 24 23 24H11V22H23V15H25V22Z",fill:"#D65537",fillRule:"evenodd"})),FilePowerPointIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-powerpoint-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_76)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#AB381D"}),React$1.createElement("path",{clipRule:"evenodd",d:"M7 12C7 10.8954 7.89543 10 9 10H19C20.1046 10 21 10.8954 21 12V18C21 19.1046 20.1046 20 19 20H9C7.89543 20 7 19.1046 7 18V12ZM9 12H19V18H9V12ZM25 22C25 23.1046 24.1046 24 23 24H11V22H23V15H25V22Z",fill:"#FFB3A0",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_76",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#DC7259"}),React$1.createElement("stop",{offset:"1",stopColor:"#D14423"})))),FileExcelIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-excel",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#0F9D58"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M12 13H7V15H12V13ZM12 17H7V19H12V17ZM7 21H12V23H7V21ZM23 13H14V15H23V13ZM14 17H23V19H14V17ZM23 21H14V23H23V21Z",fill:"#0F9D58",fillRule:"evenodd"})),FileExcelIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-excel-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11084_326)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#0C864B"}),React$1.createElement("path",{clipRule:"evenodd",d:"M12 13H7V15H12V13ZM12 17H7V19H12V17ZM7 21H12V23H7V21ZM23 13H14V15H23V13ZM14 17H23V19H14V17ZM23 21H14V23H23V21Z",fill:"#A8E7C9",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11084_326",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#64AD8A"}),React$1.createElement("stop",{offset:"1",stopColor:"#0C864B"})))),FileArchiveIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-archive",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#F8B859"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M10 0H8V2H10V4H8V6H10V8H8V10H10V12H8V14H10V12H12V10H10V8H12V6H10V4H12V2H10V0ZM8 17C8 16.4477 8.44771 16 9 16H11C11.5523 16 12 16.4477 12 17V23C12 23.5523 11.5523 24 11 24H9C8.44771 24 8 23.5523 8 23V17ZM9 23V20H11V23H9Z",fill:"#F8B859",fillRule:"evenodd"})),FileArchiveIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-archive-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_246)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#B67A24"}),React$1.createElement("path",{clipRule:"evenodd",d:"M10 0H8V2H10V4H8V6H10V8H8V10H10V12H8V14H10V12H12V10H10V8H12V6H10V4H12V2H10V0ZM8 17C8 16.4477 8.44771 16 9 16H11C11.5523 16 12 16.4477 12 17V23C12 23.5523 11.5523 24 11 24H9C8.44771 24 8 23.5523 8 23V17ZM9 23V20H11V23H9Z",fill:"#FFE9C8",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_246",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#FFC775"}),React$1.createElement("stop",{offset:"1",stopColor:"#E69E34"})))),FileCodeIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-code",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#00ACA1"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M15 21V18.984L11.5 18L15 17V15L9 17V19L15 21ZM19 15V17.016L22.5 18L19 19V21L25 19V17L19 15Z",fill:"#00ACA1",fillRule:"evenodd"})),FileCodeIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-code-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_611)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#00ACA1"}),React$1.createElement("path",{clipRule:"evenodd",d:"M15 21V18.984L11.5 18L15 17V15L9 17V19L15 21ZM19 15V17.016L22.5 18L19 19V21L25 19V17L19 15Z",fill:"#A3DCD8",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_611",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#7FC4BD"}),React$1.createElement("stop",{offset:"1",stopColor:"#00ACA1"})))),FileAudioIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-audio",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#2727B0"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8.87912 21.941H12.298L16.9521 24.7493C17.0307 24.8138 17.1293 24.849 17.2311 24.849C17.4738 24.8488 17.6705 24.6519 17.6703 24.4092V12.4399C17.6704 12.3381 17.6352 12.2396 17.5707 12.1609C17.4168 11.9732 17.1398 11.9457 16.9521 12.0996L12.298 14.908H8.87912C8.3936 14.908 8 15.3016 8 15.7871V21.0619C8 21.5474 8.3936 21.941 8.87912 21.941ZM12.9258 16.6664L15.9122 15.2224V21.6268L12.9258 20.1829H9.7583V16.6664H12.9258ZM19.8511 16.3517C19.474 16.4092 19.2397 16.6637 19.3283 16.9191L19.3262 16.92C19.5295 17.4995 19.6305 18.098 19.6284 18.6953C19.6305 19.2975 19.5237 19.9014 19.3196 20.4909C19.229 20.7462 19.4682 20.9996 19.8474 21.06C19.9008 21.0683 19.9542 21.072 20.0076 21.072C20.3259 21.072 20.6156 20.9234 20.6922 20.7057C20.9194 20.0451 21.0337 19.37 21.0374 18.6953C21.0349 18.0251 20.9211 17.3575 20.6955 16.7035C20.6053 16.4477 20.229 16.2908 19.8511 16.3517ZM22.1605 14.6028C22.5252 14.5163 22.9259 14.6454 23.055 14.8938C23.6891 16.1157 24 17.4042 24 18.6923C24.0004 19.9895 23.6796 21.2839 23.0521 22.5153C22.9503 22.7123 22.6763 22.8344 22.3828 22.8344C22.3071 22.8344 22.2301 22.8261 22.1543 22.8092C21.7863 22.7251 21.5914 22.4536 21.7185 22.2077C22.2988 21.0761 22.5922 19.8836 22.5931 18.6919C22.5931 17.5056 22.3054 16.3222 21.7276 15.2025C21.6001 14.9563 21.795 14.686 22.1605 14.6028Z",fill:"#2727B0",fillRule:"evenodd"})),FileAudioIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-audio-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_11086_420)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#1919A5"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8.87912 21.941H12.298L16.9521 24.7493C17.0307 24.8138 17.1293 24.849 17.2311 24.849C17.4738 24.8488 17.6705 24.6519 17.6703 24.4092V12.4399C17.6704 12.3381 17.6352 12.2396 17.5707 12.1609C17.4168 11.9732 17.1398 11.9457 16.9521 12.0996L12.298 14.908H8.87912C8.3936 14.908 8 15.3016 8 15.7871V21.0619C8 21.5474 8.3936 21.941 8.87912 21.941ZM12.9258 16.6664L15.9122 15.2224V21.6268L12.9258 20.1829H9.7583V16.6664H12.9258ZM19.8511 16.3517C19.474 16.4092 19.2397 16.6637 19.3283 16.9191L19.3262 16.92C19.5295 17.4995 19.6305 18.098 19.6284 18.6953C19.6305 19.2975 19.5237 19.9014 19.3196 20.4909C19.229 20.7462 19.4682 20.9996 19.8474 21.06C19.9008 21.0683 19.9542 21.072 20.0076 21.072C20.3259 21.072 20.6156 20.9234 20.6922 20.7057C20.9194 20.0451 21.0337 19.37 21.0374 18.6953C21.0349 18.0251 20.9211 17.3575 20.6955 16.7035C20.6053 16.4477 20.229 16.2908 19.8511 16.3517ZM22.1605 14.6028C22.5252 14.5163 22.9259 14.6454 23.055 14.8938C23.6891 16.1157 24 17.4042 24 18.6923C24.0004 19.9895 23.6796 21.2839 23.0521 22.5153C22.9503 22.7123 22.6763 22.8344 22.3828 22.8344C22.3071 22.8344 22.2301 22.8261 22.1543 22.8092C21.7863 22.7251 21.5914 22.4536 21.7185 22.2077C22.2988 21.0761 22.5922 19.8836 22.5931 18.6919C22.5931 17.5056 22.3054 16.3222 21.7276 15.2025C21.6001 14.9563 21.795 14.686 22.1605 14.6028Z",fill:"#AAAAFF",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_11086_420",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#4A4AB8"}),React$1.createElement("stop",{offset:"1",stopColor:"#2727B0"})))),FileVideoIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-video",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{clipRule:"evenodd",d:"M17.7168 33.172C18.2348 33.172 18.4238 33.655 18.4238 34.18C18.4238 34.642 18.2978 35.195 17.7168 35.195C17.1708 35.195 16.9888 34.642 16.9888 34.145C16.9888 33.683 17.1708 33.172 17.7168 33.172ZM19.5718 31.002H18.3818V32.7589H18.3678C18.1228 32.43 17.7798 32.262 17.3318 32.262C16.3028 32.262 15.7988 33.158 15.7988 34.103C15.7988 35.125 16.2818 36.1049 17.4228 36.1049C17.8428 36.1049 18.1928 35.923 18.4238 35.58H18.4378V36H19.5718V31.002ZM12.7095 34.1872C12.7095 33.7252 12.8775 33.1722 13.4305 33.1722C13.9835 33.1722 14.1585 33.7252 14.1585 34.1872C14.1585 34.6492 13.9835 35.1952 13.4305 35.1952C12.8775 35.1952 12.7095 34.6492 12.7095 34.1872ZM11.5195 34.1872C11.5195 35.2792 12.3035 36.1052 13.4305 36.1052C14.5575 36.1052 15.3485 35.2792 15.3485 34.1872C15.3485 33.0952 14.5575 32.2622 13.4305 32.2622C12.3035 32.2622 11.5195 33.0952 11.5195 34.1872ZM21.839 32.3671H22.574V33.1371H21.839V34.7891C21.839 35.0761 22.007 35.1391 22.266 35.1391C22.3142 35.1391 22.364 35.1357 22.4147 35.1323C22.4672 35.1287 22.5206 35.1251 22.574 35.1251V36.0001C22.481 36.0031 22.388 36.0099 22.295 36.0168C22.171 36.0259 22.047 36.0351 21.923 36.0351C20.908 36.0351 20.649 35.7411 20.649 34.7541V33.1371H20.047V32.3671H20.649V31.2681H21.839V32.3671Z",fill:"white",fillRule:"evenodd"}),React$1.createElement("path",{d:"M0 28H34V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V28Z",fill:"#9D27B0"}),React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V28H0V3Z",fill:"#F5F5F5"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{d:"M9 17H25V24H9V17ZM27 14C27 12.8954 26.1046 12 25 12H22L24 15H21L19 12H17L19 15H16L14 12H12L14 15H11L9 12C7.9 12 7.01 12.9 7.01 14L7 24C7 25.1 7.9 26 9 26H25C26.1 26 27 25.1 27 24V14Z",fill:"#9D27B0"})),FileVideoIconAlt=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-video-alt",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear_18604_164254)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#7A1589"}),React$1.createElement("path",{d:"M9 17H25V24H9V17ZM27 14C27 12.8954 26.1046 12 25 12H22L24 15H21L19 12H17L19 15H16L14 12H12L14 15H11L9 12C7.9 12 7.01 12.9 7.01 14L7 24C7 25.1 7.9 26 9 26H25C26.1 26 27 25.1 27 24V14Z",fill:"#F3A8FF"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_18604_164254",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"#A94AB8"}),React$1.createElement("stop",{offset:"1",stopColor:"#9D27B0"})))),FileFallbackIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-fallback ",tn),fill:"none",height:sn,viewBox:"0 0 34 40",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M0 3C0 1.34315 1.34315 0 3 0H23L34 11V37C34 38.6569 32.6569 40 31 40H3C1.34315 40 0 38.6569 0 37V3Z",fill:"url(#paint0_linear)"}),React$1.createElement("path",{d:"M34 11L26 11C24.3431 11 23 9.65685 23 8V0L34 11Z",fill:"#DBDBDB"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 13H23V15H8V13Z",fill:"#CFCFCF",fillRule:"evenodd"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 17H18V19H8V17Z",fill:"#CFCFCF",fillRule:"evenodd"}),React$1.createElement("path",{clipRule:"evenodd",d:"M8 21H23V23H8V21Z",fill:"#CFCFCF",fillRule:"evenodd"}),React$1.createElement("defs",null,React$1.createElement("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear",x1:"0",x2:"0",y1:"0",y2:"40"},React$1.createElement("stop",{stopColor:"white"}),React$1.createElement("stop",{offset:"1",stopColor:"#DBDBDB"})))),FileImageIcon=({className:tn="",size:sn=DEFAULT_SIZE,...un})=>React$1.createElement("svg",{className:clsx("rfu-file-image",tn),height:sn,viewBox:"0 0 384 512",width:sn,xmlns:"http://www.w3.org/2000/svg",...un},React$1.createElement("path",{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",fill:"#414D54"})),wordMimeTypes=["application/msword","application/msword-template","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-flat-xml"],excelMimeTypes=["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.spreadsheet-flat-xml"],powerpointMimeTypes=["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.presentation-flat-xml"],archiveFileTypes=["application/zip","application/x-7z-compressed","application/x-archive","application/x-tar","application/gzip","application/x-compress","application/x-bzip","application/x-lzip","application/x-lz4","application/x-lzma","application/x-lzop","application/x-xz","application/x-webarchive","application/vnd.rar"],codeFileTypes=["text/html","text/css","application/x-javascript","text/javascript","application/json","text/x-python","text/x-go","text/x-csrc","text/x-c++src","application/x-ruby","text/rust","text/x-java","application/x-php","text/x-csharp","text/x-scala","text/x-erlang","application/x-shellscript"];function generateMimeTypeToIconMap({FileArchiveIcon:tn,FileCodeIcon:sn,FileExcelIcon:un,FilePdfIcon:dn,FilePowerPointIcon:pn,FileWordIcon:mn}){const hn={"application/pdf":dn};for(const fn of wordMimeTypes)hn[fn]=mn;for(const fn of excelMimeTypes)hn[fn]=un;for(const fn of powerpointMimeTypes)hn[fn]=pn;for(const fn of archiveFileTypes)hn[fn]=tn;for(const fn of codeFileTypes)hn[fn]=sn;return hn}function generateGeneralTypeToIconMap({FileAltIcon:tn,FileAudioIcon:sn,FileImageIcon:un,FileVideoIcon:dn}){return{"audio/":sn,"image/":un,"text/":tn,"video/":dn}}const iconMap={alt:{...generateMimeTypeToIconMap({FileArchiveIcon:FileArchiveIconAlt,FileCodeIcon:FileCodeIconAlt,FileExcelIcon:FileExcelIconAlt,FilePdfIcon,FilePowerPointIcon:FilePowerPointIconAlt,FileWordIcon:FileWordIconAlt}),...generateGeneralTypeToIconMap({FileAltIcon:FileFallbackIcon,FileAudioIcon:FileAudioIconAlt,FileImageIcon,FileVideoIcon:FileVideoIconAlt}),fallback:FileFallbackIcon},standard:{...generateMimeTypeToIconMap({FileArchiveIcon,FileCodeIcon,FileExcelIcon,FilePdfIcon,FilePowerPointIcon,FileWordIcon}),...generateGeneralTypeToIconMap({FileAltIcon:FileFallbackIcon,FileAudioIcon,FileImageIcon,FileVideoIcon}),fallback:FileFallbackIcon}};function mimeTypeToIcon(tn="standard",sn){const un=iconMap[tn]||iconMap.standard;if(!sn)return un.fallback;const dn=un[sn];return dn||(sn.startsWith("audio/")?un["audio/"]:sn.startsWith("video/")?un["video/"]:sn.startsWith("image/")?un["image/"]:sn.startsWith("text/")?un["text/"]:un.fallback)}const FileIcon=tn=>{const{big:sn=!1,mimeType:un,size:dn=50,sizeSmall:pn=20,type:mn="standard",...hn}=tn,fn=mimeTypeToIcon(mn,un);return React$1.createElement(fn,{...hn,size:sn?dn:pn})},useHandleFileChangeWrapper=(tn=!1,sn)=>reactExports.useCallback(({currentTarget:un})=>{const{files:dn}=un;if(dn){try{sn==null||sn(Array.from(dn))}catch(pn){console.error(pn)}tn&&(un.value="")}},[sn,tn]);async function dataTransferItemsToFiles(tn){if(!tn||!tn.length)return[];const sn=getFileLikes(tn);if(sn.length)return sn;const un=[];for(const dn of tn)dn.type==="text/html"&&un.push(new Promise(pn=>{dn.getAsString(async mn=>{const hn=extractImageSources(mn).map(fn=>getImageSource(sn,fn));await Promise.all(hn),pn()})}));return await Promise.all(un),sn}function getFileLikes(tn){const sn=[];for(const un of tn)if(un.kind==="file"){const dn=un.getAsFile();dn&&sn.push(dn)}return sn}async function getImageSource(tn,sn){let un;try{un=await fetch(sn)}catch{return}const dn=un.headers.get("Content-type")||"application/octet-stream",pn=await un.arrayBuffer(),mn=new Blob([pn],{type:dn});tn.push(mn)}const extractImageSources=tn=>{const sn=new DOMParser().parseFromString(tn,"text/html").getElementsByTagName("img");return Array.from(sn,un=>un.src).filter(un=>un)},createFileFromBlobs=({blobsArray:tn,fileName:sn,mimeType:un})=>{const dn=new Blob(tn,{type:un});return new File([dn],sn,{type:dn.type})},getExtensionFromMimeType=tn=>{const sn=tn.match(/\/([^/;]+)/);return sn&&sn[1]},getRecordedMediaTypeFromMimeType=tn=>{const sn=tn.match(/^(audio|video)\/.*$/);return sn&&sn[1]},readFileAsArrayBuffer=tn=>new Promise((sn,un)=>{const dn=new FileReader;dn.onload=()=>{sn(dn.result)},dn.onerror=()=>{un(dn.error)},dn.readAsArrayBuffer(tn)}),LoadingIndicatorIcon=({size:tn=20})=>{const sn=reactExports.useMemo(()=>nanoid(),[]);return React$1.createElement("div",{className:"str-chat__loading-indicator"},React$1.createElement("svg",{"data-testid":"loading-indicator",height:tn,viewBox:"0 0 30 30",width:tn,xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("defs",null,React$1.createElement("linearGradient",{id:`${sn}-linear-gradient`,x1:"50%",x2:"50%",y1:"0%",y2:"100%"},React$1.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0"}),React$1.createElement("stop",{"data-testid":"stop-color",offset:"100%",stopOpacity:"1"}))),React$1.createElement("path",{d:"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z",fill:`url(#${sn}-linear-gradient)`,fillRule:"evenodd"})))},UploadIcon=()=>{const{t:tn}=useTranslationContext("UploadIcon");return React$1.createElement("svg",{"data-testid":"attach-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("title",null,tn("Attach files")),React$1.createElement("g",{clipPath:"url(#clip0_10878_5)"},React$1.createElement("path",{d:"M12.9997 6.99993L10.9997 6.99993L10.9997 10.9999L6.99972 10.9999L6.99972 12.9999L10.9997 12.9999L10.9997 16.9999L12.9997 16.9999L12.9997 12.9999L16.9997 12.9999L16.9997 10.9999L12.9997 10.9999L12.9997 6.99993ZM11.9997 1.99992C6.47972 1.99992 1.99972 6.47993 1.99972 11.9999C1.99972 17.5199 6.47972 21.9999 11.9997 21.9999C17.5197 21.9999 21.9997 17.5199 21.9997 11.9999C21.9997 6.47993 17.5197 1.99992 11.9997 1.99992ZM11.9997 19.9999C7.58972 19.9999 3.99972 16.4099 3.99972 11.9999C3.99972 7.58993 7.58972 3.99993 11.9997 3.99993C16.4097 3.99993 19.9997 7.58993 19.9997 11.9999C19.9997 16.4099 16.4097 19.9999 11.9997 19.9999Z",fill:"black"})),React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clip0_10878_5"},React$1.createElement("rect",{fill:"white",height:"24",width:"24"}))))},CloseIcon$2=()=>React$1.createElement("svg",{"data-testid":"close-no-outline",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"black"})),RetryIcon=()=>React$1.createElement("svg",{"data-testid":"retry",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M17.6449 6.35C16.1949 4.9 14.2049 4 11.9949 4C7.57488 4 4.00488 7.58 4.00488 12C4.00488 16.42 7.57488 20 11.9949 20C15.7249 20 18.8349 17.45 19.7249 14H17.6449C16.8249 16.33 14.6049 18 11.9949 18C8.68488 18 5.99488 15.31 5.99488 12C5.99488 8.69 8.68488 6 11.9949 6C13.6549 6 15.1349 6.69 16.2149 7.78L12.9949 11H19.9949V4L17.6449 6.35Z",fill:"black"})),DownloadIcon=()=>React$1.createElement("svg",{"data-testid":"download",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4C9.11 4 6.6 5.64 5.35 8.04C2.34 8.36 0 10.91 0 14C0 17.31 2.69 20 6 20H19C21.76 20 24 17.76 24 15C24 12.36 21.95 10.22 19.35 10.04ZM19 18H6C3.79 18 2 16.21 2 14C2 11.95 3.53 10.24 5.56 10.03L6.63 9.92L7.13 8.97C8.08 7.14 9.94 6 12 6C14.62 6 16.88 7.86 17.39 10.43L17.69 11.93L19.22 12.04C20.78 12.14 22 13.45 22 15C22 16.65 20.65 18 19 18ZM13.45 10H10.55V13H8L12 17L16 13H13.45V10Z",fill:"black"})),LinkIcon=()=>React$1.createElement("svg",{fill:"none",height:"11",viewBox:"0 0 20 11",width:"20",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{clipRule:"evenodd",d:"M1.9 5.5C1.9 3.79 3.29 2.4 5 2.4H8.05C8.57467 2.4 9 1.97467 9 1.45C9 0.925329 8.57467 0.5 8.05 0.5H5C2.24 0.5 0 2.74 0 5.5C0 8.26 2.24 10.5 5 10.5H8.05C8.57467 10.5 9 10.0747 9 9.55C9 9.02533 8.57467 8.6 8.05 8.6H5C3.29 8.6 1.9 7.21 1.9 5.5ZM6 5.5C6 6.05228 6.44772 6.5 7 6.5H13C13.5523 6.5 14 6.05228 14 5.5C14 4.94772 13.5523 4.5 13 4.5H7C6.44772 4.5 6 4.94772 6 5.5ZM15 0.5H11.95C11.4253 0.5 11 0.925329 11 1.45C11 1.97467 11.4253 2.4 11.95 2.4H15C16.71 2.4 18.1 3.79 18.1 5.5C18.1 7.21 16.71 8.6 15 8.6H11.95C11.4253 8.6 11 9.02533 11 9.55C11 10.0747 11.4253 10.5 11.95 10.5H15C17.76 10.5 20 8.26 20 5.5C20 2.74 17.76 0.5 15 0.5Z",fill:"#005DFF",fillRule:"evenodd"})),SendIcon=()=>{const{t:tn}=useTranslationContext("SendButton");return React$1.createElement("svg",{"data-testid":"send",fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("title",null,tn("Send")),React$1.createElement("path",{d:"M4.00952 22L24 12L4.00952 2L4 9.77778L18.2857 12L4 14.2222L4.00952 22Z"}))},MicIcon=()=>React$1.createElement("svg",{fill:"currentColor",viewBox:"0 0 14 20",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M7 12.5C8.66 12.5 10 11.16 10 9.5V3.5C10 1.84 8.66 0.5 7 0.5C5.34 0.5 4 1.84 4 3.5V9.5C4 11.16 5.34 12.5 7 12.5Z"}),React$1.createElement("path",{d:"M12 9.5C12 12.26 9.76 14.5 7 14.5C4.24 14.5 2 12.26 2 9.5H0C0 13.03 2.61 15.93 6 16.42V19.5H8V16.42C11.39 15.93 14 13.03 14 9.5H12Z"})),BinIcon=()=>React$1.createElement("svg",{fill:"currentColor",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M8.00033 25.3333C8.00033 26.8 9.20033 28 10.667 28H21.3337C22.8003 28 24.0003 26.8 24.0003 25.3333V12C24.0003 10.5333 22.8003 9.33333 21.3337 9.33333H10.667C9.20033 9.33333 8.00033 10.5333 8.00033 12V25.3333ZM24.0003 5.33333H20.667L19.7203 4.38667C19.4803 4.14667 19.1337 4 18.787 4H13.2137C12.867 4 12.5203 4.14667 12.2803 4.38667L11.3337 5.33333H8.00033C7.26699 5.33333 6.66699 5.93333 6.66699 6.66667C6.66699 7.4 7.26699 8 8.00033 8H24.0003C24.7337 8 25.3337 7.4 25.3337 6.66667C25.3337 5.93333 24.7337 5.33333 24.0003 5.33333Z"})),PauseIcon=()=>React$1.createElement("svg",{"data-testid":"str-chat__pause-icon",fill:"currentColor",viewBox:"0 0 16 20",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M0 19.3333H5.33333V0.666626H0V19.3333ZM10.6667 0.666626V19.3333H16V0.666626H10.6667Z"})),PlayIcon=()=>React$1.createElement("svg",{"data-testid":"str-chat__play-icon",fill:"currentColor",viewBox:"0 0 14 18",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M0.236328 2.09338V15.9067C0.236328 16.9601 1.39633 17.6001 2.28966 17.0267L13.143 10.1201C13.9697 9.60005 13.9697 8.40005 13.143 7.86672L2.28966 0.973385C1.39633 0.400051 0.236328 1.04005 0.236328 2.09338Z"})),CheckSignIcon=()=>React$1.createElement("svg",{fill:"currentColor",viewBox:"0 0 18 14",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M5.79457 10.875L2.32457 7.40502C1.93457 7.01502 1.30457 7.01502 0.91457 7.40502C0.52457 7.79502 0.52457 8.42502 0.91457 8.81502L5.09457 12.995C5.48457 13.385 6.11457 13.385 6.50457 12.995L17.0846 2.41502C17.4746 2.02502 17.4746 1.39502 17.0846 1.00502C16.6946 0.615024 16.0646 0.615024 15.6746 1.00502L5.79457 10.875Z"})),ThreadContext=reactExports.createContext(void 0),useThreadContext=()=>reactExports.useContext(ThreadContext);var PUBLISH=0,SUBSCRIBE=1,RESET=2,VALUE=4;function compose(tn,sn){return function(un){return tn(sn(un))}}function thrush(tn,sn){return sn(tn)}function curry2to1(tn,sn){return function(un){return tn(sn,un)}}function curry1to0(tn,sn){return function(){return tn(sn)}}function tap(tn,sn){return sn(tn),tn}function tup(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];return sn}function call(tn){tn()}function always(tn){return function(){return tn}}function joinProc(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];return function(){sn.map(call)}}function noop$4(){}function subscribe(tn,sn){return tn(SUBSCRIBE,sn)}function publish(tn,sn){tn(PUBLISH,sn)}function reset(tn){tn(RESET)}function getValue(tn){return tn(VALUE)}function connect(tn,sn){return subscribe(tn,curry2to1(sn,PUBLISH))}function handleNext(tn,sn){var un=tn(SUBSCRIBE,function(dn){un(),sn(dn)});return un}function stream(){var tn=[];return function(sn,un){switch(sn){case RESET:tn.splice(0,tn.length);return;case SUBSCRIBE:return tn.push(un),function(){var dn=tn.indexOf(un);dn>-1&&tn.splice(dn,1)};case PUBLISH:tn.slice().forEach(function(dn){dn(un)});return;default:throw new Error("unrecognized action "+sn)}}}function statefulStream(tn){var sn=tn,un=stream();return function(dn,pn){switch(dn){case SUBSCRIBE:var mn=pn;mn(sn);break;case PUBLISH:sn=pn;break;case VALUE:return sn}return un(dn,pn)}}function eventHandler(tn){var sn,un,dn=function(){return sn&&sn()};return function(pn,mn){switch(pn){case SUBSCRIBE:return mn?un===mn?void 0:(dn(),un=mn,sn=subscribe(tn,mn),sn):(dn(),noop$4);case RESET:dn(),un=null;return;default:throw new Error("unrecognized action "+pn)}}}function streamFromEmitter(tn){return tap(stream(),function(sn){return connect(tn,sn)})}function statefulStreamFromEmitter(tn,sn){return tap(statefulStream(sn),function(un){return connect(tn,un)})}function combineOperators(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];return function(dn){return sn.reduceRight(thrush,dn)}}function pipe(tn){for(var sn=arguments.length,un=new Array(sn>1?sn-1:0),dn=1;dn<sn;dn++)un[dn-1]=arguments[dn];var pn=combineOperators.apply(void 0,un);return function(mn,hn){switch(mn){case SUBSCRIBE:return subscribe(tn,pn(hn));case RESET:reset(tn);return;default:throw new Error("unrecognized action "+mn)}}}function defaultComparator(tn,sn){return tn===sn}function distinctUntilChanged(tn){tn===void 0&&(tn=defaultComparator);var sn;return function(un){return function(dn){tn(sn,dn)||(sn=dn,un(dn))}}}function filter(tn){return function(sn){return function(un){tn(un)&&sn(un)}}}function map$2(tn){return function(sn){return compose(sn,tn)}}function mapTo(tn){return function(sn){return function(){return sn(tn)}}}function scan(tn,sn){return function(un){return function(dn){return un(sn=tn(sn,dn))}}}function skip(tn){return function(sn){return function(un){tn>0?tn--:sn(un)}}}function throttleTime(tn){var sn,un;return function(dn){return function(pn){sn=pn,!un&&(un=setTimeout(function(){un=void 0,dn(sn)},tn))}}}function debounceTime(tn){var sn,un;return function(dn){return function(pn){sn=pn,un&&clearTimeout(un),un=setTimeout(function(){dn(sn)},tn)}}}function withLatestFrom(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];var dn=new Array(sn.length),pn=0,mn=null,hn=Math.pow(2,sn.length)-1;return sn.forEach(function(fn,gn){var xn=Math.pow(2,gn);subscribe(fn,function(yn){var vn=pn;pn=pn|xn,dn[gn]=yn,vn!==hn&&pn===hn&&mn&&(mn(),mn=null)})}),function(fn){return function(gn){var xn=function(){return fn([gn].concat(dn))};pn===hn?xn():mn=xn}}}function merge$1(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];return function(dn,pn){switch(dn){case SUBSCRIBE:return joinProc.apply(void 0,sn.map(function(mn){return subscribe(mn,pn)}));case RESET:return;default:throw new Error("unrecognized action "+dn)}}}function duc(tn,sn){return sn===void 0&&(sn=defaultComparator),pipe(tn,distinctUntilChanged(sn))}function combineLatest(){for(var tn=stream(),sn=arguments.length,un=new Array(sn),dn=0;dn<sn;dn++)un[dn]=arguments[dn];var pn=new Array(un.length),mn=0,hn=Math.pow(2,un.length)-1;return un.forEach(function(fn,gn){var xn=Math.pow(2,gn);subscribe(fn,function(yn){pn[gn]=yn,mn=mn|xn,mn===hn&&publish(tn,pn)})}),function(fn,gn){switch(fn){case SUBSCRIBE:return mn===hn&&gn(pn),subscribe(tn,gn);case RESET:return reset(tn);default:throw new Error("unrecognized action "+fn)}}}function system(tn,sn,un){sn===void 0&&(sn=[]);var dn=un===void 0?{singleton:!0}:un,pn=dn.singleton;return{id:id(),constructor:tn,dependencies:sn,singleton:pn}}var id=function tn(){return Symbol()};function init(tn){var sn=new Map,un=function dn(pn){var mn=pn.id,hn=pn.constructor,fn=pn.dependencies,gn=pn.singleton;if(gn&&sn.has(mn))return sn.get(mn);var xn=hn(fn.map(function(yn){return dn(yn)}));return gn&&sn.set(mn,xn),xn};return un(tn)}function _objectWithoutPropertiesLoose$1(tn,sn){if(tn==null)return{};var un={},dn=Object.keys(tn),pn,mn;for(mn=0;mn<dn.length;mn++)pn=dn[mn],!(sn.indexOf(pn)>=0)&&(un[pn]=tn[pn]);return un}function _unsupportedIterableToArray$2(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$2(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$2(tn,sn)}}function _arrayLikeToArray$2(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _createForOfIteratorHelperLoose(tn,sn){var un=typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un)return(un=un.call(tn)).next.bind(un);if(Array.isArray(tn)||(un=_unsupportedIterableToArray$2(tn))||sn){un&&(tn=un);var dn=0;return function(){return dn>=tn.length?{done:!0}:{done:!1,value:tn[dn++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _excluded$2=["children"];function omit(tn,sn){for(var un={},dn={},pn=0,mn=tn.length;pn<mn;)dn[tn[pn]]=1,pn+=1;for(var hn in sn)dn.hasOwnProperty(hn)||(un[hn]=sn[hn]);return un}var useIsomorphicLayoutEffect$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function systemToComponent(tn,sn,un){var dn=Object.keys(sn.required||{}),pn=Object.keys(sn.optional||{}),mn=Object.keys(sn.methods||{}),hn=Object.keys(sn.events||{}),fn=reactExports.createContext({});function gn(Sn,Rn){Sn.propsReady&&publish(Sn.propsReady,!1);for(var _n=_createForOfIteratorHelperLoose(dn),jn;!(jn=_n()).done;){var Cn=jn.value,An=Sn[sn.required[Cn]];publish(An,Rn[Cn])}for(var Tn=_createForOfIteratorHelperLoose(pn),$n;!($n=Tn()).done;){var Dn=$n.value;if(Dn in Rn){var Nn=Sn[sn.optional[Dn]];publish(Nn,Rn[Dn])}}Sn.propsReady&&publish(Sn.propsReady,!0)}function xn(Sn){return mn.reduce(function(Rn,_n){return Rn[_n]=function(jn){var Cn=Sn[sn.methods[_n]];publish(Cn,jn)},Rn},{})}function yn(Sn){return hn.reduce(function(Rn,_n){return Rn[_n]=eventHandler(Sn[sn.events[_n]]),Rn},{})}var vn=reactExports.forwardRef(function(Sn,Rn){var _n=Sn.children,jn=_objectWithoutPropertiesLoose$1(Sn,_excluded$2),Cn=reactExports.useState(function(){return tap(init(tn),function(Dn){return gn(Dn,jn)})}),An=Cn[0],Tn=reactExports.useState(curry1to0(yn,An)),$n=Tn[0];return useIsomorphicLayoutEffect$1(function(){for(var Dn=_createForOfIteratorHelperLoose(hn),Nn;!(Nn=Dn()).done;){var kn=Nn.value;kn in jn&&subscribe($n[kn],jn[kn])}return function(){Object.values($n).map(reset)}},[jn,$n,An]),useIsomorphicLayoutEffect$1(function(){gn(An,jn)}),reactExports.useImperativeHandle(Rn,always(xn(An))),reactExports.createElement(fn.Provider,{value:An},un?reactExports.createElement(un,omit([].concat(dn,pn,hn),jn),_n):_n)}),En=function(Rn){return reactExports.useCallback(curry2to1(publish,reactExports.useContext(fn)[Rn]),[Rn])},bn=function(Rn){var _n=reactExports.useContext(fn),jn=_n[Rn],Cn=reactExports.useState(curry1to0(getValue,jn)),An=Cn[0],Tn=Cn[1];return useIsomorphicLayoutEffect$1(function(){return subscribe(jn,function($n){$n!==An&&Tn(always($n))})},[jn,An]),An},wn=function(Rn,_n){var jn=reactExports.useContext(fn),Cn=jn[Rn];useIsomorphicLayoutEffect$1(function(){return subscribe(Cn,_n)},[_n,Cn])};return{Component:vn,usePublisher:En,useEmitterValue:bn,useEmitter:wn}}function c(){return c=Object.assign||function(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn];for(var dn in un)Object.prototype.hasOwnProperty.call(un,dn)&&(tn[dn]=un[dn])}return tn},c.apply(this,arguments)}function m(tn,sn){if(tn==null)return{};var un,dn,pn={},mn=Object.keys(tn);for(dn=0;dn<mn.length;dn++)sn.indexOf(un=mn[dn])>=0||(pn[un]=tn[un]);return pn}function d(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function f(tn,sn){var un=typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un)return(un=un.call(tn)).next.bind(un);if(Array.isArray(tn)||(un=function(pn,mn){if(pn){if(typeof pn=="string")return d(pn,mn);var hn=Object.prototype.toString.call(pn).slice(8,-1);return hn==="Object"&&pn.constructor&&(hn=pn.constructor.name),hn==="Map"||hn==="Set"?Array.from(pn):hn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(hn)?d(pn,mn):void 0}}(tn))||sn){un&&(tn=un);var dn=0;return function(){return dn>=tn.length?{done:!0}:{done:!1,value:tn[dn++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,h,g=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;(function(tn){tn[tn.DEBUG=0]="DEBUG",tn[tn.INFO=1]="INFO",tn[tn.WARN=2]="WARN",tn[tn.ERROR=3]="ERROR"})(h||(h={}));var v=((p={})[h.DEBUG]="debug",p[h.INFO]="log",p[h.WARN]="warn",p[h.ERROR]="error",p),S=system(function(){var tn=statefulStream(h.ERROR);return{log:statefulStream(function(sn,un,dn){var pn;dn===void 0&&(dn=h.INFO),dn>=((pn=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)!=null?pn:getValue(tn))&&console[v[dn]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",sn,un)}),logLevel:tn}},[],{singleton:!0});function I(tn,sn){sn===void 0&&(sn=!0);var un=reactExports.useRef(null),dn=function(mn){};if(typeof ResizeObserver<"u"){var pn=new ResizeObserver(function(mn){var hn=mn[0].target;hn.offsetParent!==null&&tn(hn)});dn=function(mn){mn&&sn?(pn.observe(mn),un.current=mn):(un.current&&pn.unobserve(un.current),un.current=null)}}return{ref:un,callbackRef:dn}}function C(tn,sn){return sn===void 0&&(sn=!0),I(tn,sn).callbackRef}function T(tn,sn,un,dn,pn,mn,hn){return I(function(fn){for(var gn=function(wn,Sn,Rn,_n){var jn=wn.length;if(jn===0)return null;for(var Cn=[],An=0;An<jn;An++){var Tn=wn.item(An);if(Tn&&Tn.dataset.index!==void 0){var $n=parseInt(Tn.dataset.index),Dn=parseFloat(Tn.dataset.knownSize),Nn=Sn(Tn,"offsetHeight");if(Nn===0&&_n("Zero-sized element, this should not happen",{child:Tn},h.ERROR),Nn!==Dn){var kn=Cn[Cn.length-1];Cn.length===0||kn.size!==Nn||kn.endIndex!==$n-1?Cn.push({startIndex:$n,endIndex:$n,size:Nn}):Cn[Cn.length-1].endIndex++}}}return Cn}(fn.children,sn,0,pn),xn=fn.parentElement;!xn.dataset.virtuosoScroller;)xn=xn.parentElement;var yn=xn.firstElementChild.dataset.viewportType==="window",vn=hn?hn.scrollTop:yn?window.pageYOffset||document.documentElement.scrollTop:xn.scrollTop,En=hn?hn.scrollHeight:yn?document.documentElement.scrollHeight:xn.scrollHeight,bn=hn?hn.offsetHeight:yn?window.innerHeight:xn.offsetHeight;dn({scrollTop:Math.max(vn,0),scrollHeight:En,viewportHeight:bn}),mn==null||mn(function(wn,Sn,Rn){return Sn==="normal"||Sn!=null&&Sn.endsWith("px")||Rn("row-gap was not resolved to pixel value correctly",Sn,h.WARN),Sn==="normal"?0:parseInt(Sn??"0",10)}(0,getComputedStyle(fn).rowGap,pn)),gn!==null&&tn(gn)},un)}function w(tn,sn){return Math.round(tn.getBoundingClientRect()[sn])}function x(tn,sn){return Math.abs(tn-sn)<1.01}function b(tn,sn,un,dn,pn){dn===void 0&&(dn=noop$4);var mn=reactExports.useRef(null),hn=reactExports.useRef(null),fn=reactExports.useRef(null),gn=reactExports.useRef(!1),xn=reactExports.useCallback(function(yn){var vn=yn.target,En=vn===window||vn===document,bn=En?window.pageYOffset||document.documentElement.scrollTop:vn.scrollTop,wn=En?document.documentElement.scrollHeight:vn.scrollHeight,Sn=En?window.innerHeight:vn.offsetHeight,Rn=function(){tn({scrollTop:Math.max(bn,0),scrollHeight:wn,viewportHeight:Sn})};gn.current?reactDomExports.flushSync(Rn):Rn(),gn.current=!1,hn.current!==null&&(bn===hn.current||bn<=0||bn===wn-Sn)&&(hn.current=null,sn(!0),fn.current&&(clearTimeout(fn.current),fn.current=null))},[tn,sn]);return reactExports.useEffect(function(){var yn=pn||mn.current;return dn(pn||mn.current),xn({target:yn}),yn.addEventListener("scroll",xn,{passive:!0}),function(){dn(null),yn.removeEventListener("scroll",xn)}},[mn,xn,un,dn,pn]),{scrollerRef:mn,scrollByCallback:function(yn){gn.current=!0,mn.current.scrollBy(yn)},scrollToCallback:function(yn){var vn=mn.current;if(vn&&(!("offsetHeight"in vn)||vn.offsetHeight!==0)){var En,bn,wn,Sn=yn.behavior==="smooth";if(vn===window?(bn=Math.max(w(document.documentElement,"height"),document.documentElement.scrollHeight),En=window.innerHeight,wn=document.documentElement.scrollTop):(bn=vn.scrollHeight,En=w(vn,"height"),wn=vn.scrollTop),yn.top=Math.ceil(Math.max(Math.min(bn-En,yn.top),0)),x(En,bn)||yn.top===wn)return tn({scrollTop:wn,scrollHeight:bn,viewportHeight:En}),void(Sn&&sn(!0));Sn?(hn.current=yn.top,fn.current&&clearTimeout(fn.current),fn.current=setTimeout(function(){fn.current=null,hn.current=null,sn(!0)},1e3)):hn.current=null,vn.scrollTo(yn)}}}}var y=system(function(){var tn=stream(),sn=stream(),un=statefulStream(0),dn=stream(),pn=statefulStream(0),mn=stream(),hn=stream(),fn=statefulStream(0),gn=statefulStream(0),xn=statefulStream(0),yn=statefulStream(0),vn=stream(),En=stream(),bn=statefulStream(!1),wn=statefulStream(!1);return connect(pipe(tn,map$2(function(Sn){return Sn.scrollTop})),sn),connect(pipe(tn,map$2(function(Sn){return Sn.scrollHeight})),hn),connect(sn,pn),{scrollContainerState:tn,scrollTop:sn,viewportHeight:mn,headerHeight:fn,fixedHeaderHeight:gn,fixedFooterHeight:xn,footerHeight:yn,scrollHeight:hn,smoothScrollTargetReached:dn,react18ConcurrentRendering:wn,scrollTo:vn,scrollBy:En,statefulScrollTop:pn,deviation:un,scrollingInProgress:bn}},[],{singleton:!0}),H={lvl:0};function E(tn,sn,un,dn,pn){return dn===void 0&&(dn=H),pn===void 0&&(pn=H),{k:tn,v:sn,lvl:un,l:dn,r:pn}}function R(tn){return tn===H}function L(){return H}function k(tn,sn){if(R(tn))return H;var un=tn.k,dn=tn.l,pn=tn.r;if(sn===un){if(R(dn))return pn;if(R(pn))return dn;var mn=O(dn);return A(V(tn,{k:mn[0],v:mn[1],l:M(dn)}))}return A(V(tn,sn<un?{l:k(dn,sn)}:{r:k(pn,sn)}))}function F(tn,sn,un){if(un===void 0&&(un="k"),R(tn))return[-1/0,void 0];if(tn[un]===sn)return[tn.k,tn.v];if(tn[un]<sn){var dn=F(tn.r,sn,un);return dn[0]===-1/0?[tn.k,tn.v]:dn}return F(tn.l,sn,un)}function z(tn,sn,un){return R(tn)?E(sn,un,1):sn===tn.k?V(tn,{k:sn,v:un}):function(dn){return D(G(dn))}(V(tn,sn<tn.k?{l:z(tn.l,sn,un)}:{r:z(tn.r,sn,un)}))}function B(tn,sn,un){if(R(tn))return[];var dn=tn.k,pn=tn.v,mn=tn.r,hn=[];return dn>sn&&(hn=hn.concat(B(tn.l,sn,un))),dn>=sn&&dn<=un&&hn.push({k:dn,v:pn}),dn<=un&&(hn=hn.concat(B(mn,sn,un))),hn}function P(tn){return R(tn)?[]:[].concat(P(tn.l),[{k:tn.k,v:tn.v}],P(tn.r))}function O(tn){return R(tn.r)?[tn.k,tn.v]:O(tn.r)}function M(tn){return R(tn.r)?tn.l:A(V(tn,{r:M(tn.r)}))}function V(tn,sn){return E(sn.k!==void 0?sn.k:tn.k,sn.v!==void 0?sn.v:tn.v,sn.lvl!==void 0?sn.lvl:tn.lvl,sn.l!==void 0?sn.l:tn.l,sn.r!==void 0?sn.r:tn.r)}function U(tn){return R(tn)||tn.lvl>tn.r.lvl}function A(tn){var sn=tn.l,un=tn.r,dn=tn.lvl;if(un.lvl>=dn-1&&sn.lvl>=dn-1)return tn;if(dn>un.lvl+1){if(U(sn))return G(V(tn,{lvl:dn-1}));if(R(sn)||R(sn.r))throw new Error("Unexpected empty nodes");return V(sn.r,{l:V(sn,{r:sn.r.l}),r:V(tn,{l:sn.r.r,lvl:dn-1}),lvl:dn})}if(U(tn))return D(V(tn,{lvl:dn-1}));if(R(un)||R(un.l))throw new Error("Unexpected empty nodes");var pn=un.l,mn=U(pn)?un.lvl-1:un.lvl;return V(pn,{l:V(tn,{r:pn.l,lvl:dn-1}),r:D(V(un,{l:pn.r,lvl:mn})),lvl:pn.lvl+1})}function W(tn,sn,un){return R(tn)?[]:N(B(tn,F(tn,sn)[0],un),function(dn){return{index:dn.k,value:dn.v}})}function N(tn,sn){var un=tn.length;if(un===0)return[];for(var dn=sn(tn[0]),pn=dn.index,mn=dn.value,hn=[],fn=1;fn<un;fn++){var gn=sn(tn[fn]),xn=gn.index,yn=gn.value;hn.push({start:pn,end:xn-1,value:mn}),pn=xn,mn=yn}return hn.push({start:pn,end:1/0,value:mn}),hn}function D(tn){var sn=tn.r,un=tn.lvl;return R(sn)||R(sn.r)||sn.lvl!==un||sn.r.lvl!==un?tn:V(sn,{l:V(tn,{r:sn.l}),lvl:un+1})}function G(tn){var sn=tn.l;return R(sn)||sn.lvl!==tn.lvl?tn:V(sn,{r:V(tn,{l:sn.r})})}function _(tn,sn,un,dn){dn===void 0&&(dn=0);for(var pn=tn.length-1;dn<=pn;){var mn=Math.floor((dn+pn)/2),hn=un(tn[mn],sn);if(hn===0)return mn;if(hn===-1){if(pn-dn<2)return mn-1;pn=mn-1}else{if(pn===dn)return mn;dn=mn+1}}throw new Error("Failed binary finding record in array - "+tn.join(",")+", searched for "+sn)}function j(tn,sn,un){return tn[_(tn,sn,un)]}var K=system(function(){return{recalcInProgress:statefulStream(!1)}},[],{singleton:!0});function Y(tn){var sn=tn.size,un=tn.startIndex,dn=tn.endIndex;return function(pn){return pn.start===un&&(pn.end===dn||pn.end===1/0)&&pn.value===sn}}function q(tn,sn){var un=tn.index;return sn===un?0:sn<un?-1:1}function Z(tn,sn){var un=tn.offset;return sn===un?0:sn<un?-1:1}function J(tn){return{index:tn.index,value:tn}}function $(tn,sn,un,dn){var pn=tn,mn=0,hn=0,fn=0,gn=0;if(sn!==0){fn=pn[gn=_(pn,sn-1,q)].offset;var xn=F(un,sn-1);mn=xn[0],hn=xn[1],pn.length&&pn[gn].size===F(un,sn)[1]&&(gn-=1),pn=pn.slice(0,gn+1)}else pn=[];for(var yn,vn=f(W(un,sn,1/0));!(yn=vn()).done;){var En=yn.value,bn=En.start,wn=En.value,Sn=bn-mn,Rn=Sn*hn+fn+Sn*dn;pn.push({offset:Rn,size:wn,index:bn}),mn=bn,fn=Rn,hn=wn}return{offsetTree:pn,lastIndex:mn,lastOffset:fn,lastSize:hn}}function Q(tn,sn){var un=sn[0],dn=sn[1],pn=sn[3];un.length>0&&(0,sn[2])("received item sizes",un,h.DEBUG);var mn=tn.sizeTree,hn=mn,fn=0;if(dn.length>0&&R(mn)&&un.length===2){var gn=un[0].size,xn=un[1].size;hn=dn.reduce(function(bn,wn){return z(z(bn,wn,gn),wn+1,xn)},hn)}else{var yn=function(bn,wn){for(var Sn,Rn=R(bn)?0:1/0,_n=f(wn);!(Sn=_n()).done;){var jn=Sn.value,Cn=jn.size,An=jn.startIndex,Tn=jn.endIndex;if(Rn=Math.min(Rn,An),R(bn))bn=z(bn,0,Cn);else{var $n=W(bn,An-1,Tn+1);if(!$n.some(Y(jn))){for(var Dn,Nn=!1,kn=!1,Pn=f($n);!(Dn=Pn()).done;){var Mn=Dn.value,On=Mn.start,Wn=Mn.end,In=Mn.value;Nn?(Tn>=On||Cn===In)&&(bn=k(bn,On)):(kn=In!==Cn,Nn=!0),Wn>Tn&&Tn>=On&&In!==Cn&&(bn=z(bn,Tn+1,In))}kn&&(bn=z(bn,An,Cn))}}}return[bn,Rn]}(hn,un);hn=yn[0],fn=yn[1]}if(hn===mn)return tn;var vn=$(tn.offsetTree,fn,hn,pn),En=vn.offsetTree;return{sizeTree:hn,offsetTree:En,lastIndex:vn.lastIndex,lastOffset:vn.lastOffset,lastSize:vn.lastSize,groupOffsetTree:dn.reduce(function(bn,wn){return z(bn,wn,X(wn,En,pn))},L()),groupIndices:dn}}function X(tn,sn,un){if(sn.length===0)return 0;var dn=j(sn,tn,q),pn=tn-dn.index,mn=dn.size*pn+(pn-1)*un+dn.offset;return mn>0?mn+un:mn}function tt(tn,sn,un){if(function(pn){return pn.groupIndex!==void 0}(tn))return sn.groupIndices[tn.groupIndex]+1;var dn=et(tn.index==="LAST"?un:tn.index,sn);return Math.max(0,dn,Math.min(un,dn))}function et(tn,sn){if(!nt(sn))return tn;for(var un=0;sn.groupIndices[un]<=tn+un;)un++;return tn+un}function nt(tn){return!R(tn.groupOffsetTree)}var ot={offsetHeight:"height",offsetWidth:"width"},rt=system(function(tn){var sn=tn[0].log,un=tn[1].recalcInProgress,dn=stream(),pn=stream(),mn=statefulStreamFromEmitter(pn,0),hn=stream(),fn=stream(),gn=statefulStream(0),xn=statefulStream([]),yn=statefulStream(void 0),vn=statefulStream(void 0),En=statefulStream(function(Tn,$n){return w(Tn,ot[$n])}),bn=statefulStream(void 0),wn=statefulStream(0),Sn={offsetTree:[],sizeTree:L(),groupOffsetTree:L(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},Rn=statefulStreamFromEmitter(pipe(dn,withLatestFrom(xn,sn,wn),scan(Q,Sn),distinctUntilChanged()),Sn);connect(pipe(xn,filter(function(Tn){return Tn.length>0}),withLatestFrom(Rn,wn),map$2(function(Tn){var $n=Tn[0],Dn=Tn[1],Nn=Tn[2],kn=$n.reduce(function(Pn,Mn,On){return z(Pn,Mn,X(Mn,Dn.offsetTree,Nn)||On)},L());return c({},Dn,{groupIndices:$n,groupOffsetTree:kn})})),Rn),connect(pipe(pn,withLatestFrom(Rn),filter(function(Tn){return Tn[0]<Tn[1].lastIndex}),map$2(function(Tn){var $n=Tn[1];return[{startIndex:Tn[0],endIndex:$n.lastIndex,size:$n.lastSize}]})),dn),connect(yn,vn);var _n=statefulStreamFromEmitter(pipe(yn,map$2(function(Tn){return Tn===void 0})),!0);connect(pipe(vn,filter(function(Tn){return Tn!==void 0&&R(getValue(Rn).sizeTree)}),map$2(function(Tn){return[{startIndex:0,endIndex:0,size:Tn}]})),dn);var jn=streamFromEmitter(pipe(dn,withLatestFrom(Rn),scan(function(Tn,$n){var Dn=$n[1];return{changed:Dn!==Tn.sizes,sizes:Dn}},{changed:!1,sizes:Sn}),map$2(function(Tn){return Tn.changed})));subscribe(pipe(gn,scan(function(Tn,$n){return{diff:Tn.prev-$n,prev:$n}},{diff:0,prev:0}),map$2(function(Tn){return Tn.diff})),function(Tn){Tn>0?(publish(un,!0),publish(hn,Tn)):Tn<0&&publish(fn,Tn)}),subscribe(pipe(gn,withLatestFrom(sn)),function(Tn){Tn[0]<0&&(0,Tn[1])("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:gn},h.ERROR)});var Cn=streamFromEmitter(hn);connect(pipe(hn,withLatestFrom(Rn),map$2(function(Tn){var $n=Tn[0],Dn=Tn[1];if(Dn.groupIndices.length>0)throw new Error("Virtuoso: prepending items does not work with groups");return P(Dn.sizeTree).reduce(function(Nn,kn){var Pn=kn.k,Mn=kn.v;return{ranges:[].concat(Nn.ranges,[{startIndex:Nn.prevIndex,endIndex:Pn+$n-1,size:Nn.prevSize}]),prevIndex:Pn+$n,prevSize:Mn}},{ranges:[],prevIndex:0,prevSize:Dn.lastSize}).ranges})),dn);var An=streamFromEmitter(pipe(fn,withLatestFrom(Rn,wn),map$2(function(Tn){return X(-Tn[0],Tn[1].offsetTree,Tn[2])})));return connect(pipe(fn,withLatestFrom(Rn,wn),map$2(function(Tn){var $n=Tn[0],Dn=Tn[1],Nn=Tn[2];if(Dn.groupIndices.length>0)throw new Error("Virtuoso: shifting items does not work with groups");var kn=P(Dn.sizeTree).reduce(function(Pn,Mn){var On=Mn.v;return z(Pn,Math.max(0,Mn.k+$n),On)},L());return c({},Dn,{sizeTree:kn},$(Dn.offsetTree,0,kn,Nn))})),Rn),{data:bn,totalCount:pn,sizeRanges:dn,groupIndices:xn,defaultItemSize:vn,fixedItemSize:yn,unshiftWith:hn,shiftWith:fn,shiftWithOffset:An,beforeUnshiftWith:Cn,firstItemIndex:gn,gap:wn,sizes:Rn,listRefresh:jn,statefulTotalCount:mn,trackItemSizes:_n,itemSize:En}},tup(S,K),{singleton:!0}),it$1=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function at(tn){var sn=typeof tn=="number"?{index:tn}:tn;return sn.align||(sn.align="start"),sn.behavior&&it$1||(sn.behavior="auto"),sn.offset||(sn.offset=0),sn}var lt=system(function(tn){var sn=tn[0],un=sn.sizes,dn=sn.totalCount,pn=sn.listRefresh,mn=sn.gap,hn=tn[1],fn=hn.scrollingInProgress,gn=hn.viewportHeight,xn=hn.scrollTo,yn=hn.smoothScrollTargetReached,vn=hn.headerHeight,En=hn.footerHeight,bn=hn.fixedHeaderHeight,wn=hn.fixedFooterHeight,Sn=tn[2].log,Rn=stream(),_n=statefulStream(0),jn=null,Cn=null,An=null;function Tn(){jn&&(jn(),jn=null),An&&(An(),An=null),Cn&&(clearTimeout(Cn),Cn=null),publish(fn,!1)}return connect(pipe(Rn,withLatestFrom(un,gn,dn,_n,vn,En,Sn),withLatestFrom(mn,bn,wn),map$2(function($n){var Dn=$n[0],Nn=Dn[0],kn=Dn[1],Pn=Dn[2],Mn=Dn[3],On=Dn[4],Wn=Dn[5],In=Dn[6],Un=Dn[7],Vn=$n[1],Hn=$n[2],Ln=$n[3],zn=at(Nn),Bn=zn.align,Fn=zn.behavior,Gn=zn.offset,qn=Mn-1,Jn=tt(zn,kn,qn),dr=X(Jn,kn.offsetTree,Vn)+Wn;Bn==="end"?(dr+=Hn+F(kn.sizeTree,Jn)[1]-Pn+Ln,Jn===qn&&(dr+=In)):Bn==="center"?dr+=(Hn+F(kn.sizeTree,Jn)[1]-Pn+Ln)/2:dr-=On,Gn&&(dr+=Gn);var br=function(yr){Tn(),yr?(Un("retrying to scroll to",{location:Nn},h.DEBUG),publish(Rn,Nn)):Un("list did not change, scroll successful",{},h.DEBUG)};if(Tn(),Fn==="smooth"){var Er=!1;An=subscribe(pn,function(yr){Er=Er||yr}),jn=handleNext(yn,function(){br(Er)})}else jn=handleNext(pipe(pn,function(yr){var xr=setTimeout(function(){yr(!1)},150);return function(vr){vr&&(yr(!0),clearTimeout(xr))}}),br);return Cn=setTimeout(function(){Tn()},1200),publish(fn,!0),Un("scrolling from index to",{index:Jn,top:dr,behavior:Fn},h.DEBUG),{top:dr,behavior:Fn}})),xn),{scrollToIndex:Rn,topListHeight:_n}},tup(rt,y,S),{singleton:!0}),st="up",ut={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},ct=system(function(tn){var sn=tn[0],un=sn.scrollContainerState,dn=sn.scrollTop,pn=sn.viewportHeight,mn=sn.headerHeight,hn=sn.footerHeight,fn=sn.scrollBy,gn=statefulStream(!1),xn=statefulStream(!0),yn=stream(),vn=stream(),En=statefulStream(4),bn=statefulStream(0),wn=statefulStreamFromEmitter(pipe(merge$1(pipe(duc(dn),skip(1),mapTo(!0)),pipe(duc(dn),skip(1),mapTo(!1),debounceTime(100))),distinctUntilChanged()),!1),Sn=statefulStreamFromEmitter(pipe(merge$1(pipe(fn,mapTo(!0)),pipe(fn,mapTo(!1),debounceTime(200))),distinctUntilChanged()),!1);connect(pipe(combineLatest(duc(dn),duc(bn)),map$2(function(An){return An[0]<=An[1]}),distinctUntilChanged()),xn),connect(pipe(xn,throttleTime(50)),vn);var Rn=streamFromEmitter(pipe(combineLatest(un,duc(pn),duc(mn),duc(hn),duc(En)),scan(function(An,Tn){var $n,Dn,Nn=Tn[0],kn=Nn.scrollTop,Pn=Nn.scrollHeight,Mn=Tn[1],On={viewportHeight:Mn,scrollTop:kn,scrollHeight:Pn};return kn+Mn-Pn>-Tn[4]?(kn>An.state.scrollTop?($n="SCROLLED_DOWN",Dn=An.state.scrollTop-kn):($n="SIZE_DECREASED",Dn=An.state.scrollTop-kn||An.scrollTopDelta),{atBottom:!0,state:On,atBottomBecause:$n,scrollTopDelta:Dn}):{atBottom:!1,notAtBottomBecause:On.scrollHeight>An.state.scrollHeight?"SIZE_INCREASED":Mn<An.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":kn<An.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:On}},ut),distinctUntilChanged(function(An,Tn){return An&&An.atBottom===Tn.atBottom}))),_n=statefulStreamFromEmitter(pipe(un,scan(function(An,Tn){var $n=Tn.scrollTop,Dn=Tn.scrollHeight,Nn=Tn.viewportHeight;return x(An.scrollHeight,Dn)?{scrollTop:$n,scrollHeight:Dn,jump:0,changed:!1}:An.scrollTop!==$n&&Dn-($n+Nn)<1?{scrollHeight:Dn,scrollTop:$n,jump:An.scrollTop-$n,changed:!0}:{scrollHeight:Dn,scrollTop:$n,jump:0,changed:!0}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),filter(function(An){return An.changed}),map$2(function(An){return An.jump})),0);connect(pipe(Rn,map$2(function(An){return An.atBottom})),gn),connect(pipe(gn,throttleTime(50)),yn);var jn=statefulStream("down");connect(pipe(un,map$2(function(An){return An.scrollTop}),distinctUntilChanged(),scan(function(An,Tn){return getValue(Sn)?{direction:An.direction,prevScrollTop:Tn}:{direction:Tn<An.prevScrollTop?st:"down",prevScrollTop:Tn}},{direction:"down",prevScrollTop:0}),map$2(function(An){return An.direction})),jn),connect(pipe(un,throttleTime(50),mapTo("none")),jn);var Cn=statefulStream(0);return connect(pipe(wn,filter(function(An){return!An}),mapTo(0)),Cn),connect(pipe(dn,throttleTime(100),withLatestFrom(wn),filter(function(An){return!!An[1]}),scan(function(An,Tn){return[An[1],Tn[0]]},[0,0]),map$2(function(An){return An[1]-An[0]})),Cn),{isScrolling:wn,isAtTop:xn,isAtBottom:gn,atBottomState:Rn,atTopStateChange:vn,atBottomStateChange:yn,scrollDirection:jn,atBottomThreshold:En,atTopThreshold:bn,scrollVelocity:Cn,lastJumpDueToItemResize:_n}},tup(y)),mt=system(function(tn){var sn=tn[0].log,un=statefulStream(!1),dn=streamFromEmitter(pipe(un,filter(function(pn){return pn}),distinctUntilChanged()));return subscribe(un,function(pn){pn&&getValue(sn)("props updated",{},h.DEBUG)}),{propsReady:un,didMount:dn}},tup(S),{singleton:!0}),dt=system(function(tn){var sn=tn[0],un=sn.sizes,dn=sn.listRefresh,pn=sn.defaultItemSize,mn=tn[1].scrollTop,hn=tn[2].scrollToIndex,fn=tn[3].didMount,gn=statefulStream(!0),xn=statefulStream(0);return connect(pipe(fn,withLatestFrom(xn),filter(function(yn){return!!yn[1]}),mapTo(!1)),gn),subscribe(pipe(combineLatest(dn,fn),withLatestFrom(gn,un,pn),filter(function(yn){var vn=yn[1],En=yn[3];return yn[0][1]&&(!R(yn[2].sizeTree)||En!==void 0)&&!vn}),withLatestFrom(xn)),function(yn){var vn=yn[1];setTimeout(function(){handleNext(mn,function(){publish(gn,!0)}),publish(hn,vn)})}),{scrolledToInitialItem:gn,initialTopMostItemIndex:xn}},tup(rt,y,lt,mt),{singleton:!0});function ft(tn){return!!tn&&(tn==="smooth"?"smooth":"auto")}var pt$1=system(function(tn){var sn=tn[0],un=sn.totalCount,dn=sn.listRefresh,pn=tn[1],mn=pn.isAtBottom,hn=pn.atBottomState,fn=tn[2].scrollToIndex,gn=tn[3].scrolledToInitialItem,xn=tn[4],yn=xn.propsReady,vn=xn.didMount,En=tn[5].log,bn=tn[6].scrollingInProgress,wn=statefulStream(!1),Sn=stream(),Rn=null;function _n(Cn){publish(fn,{index:"LAST",align:"end",behavior:Cn})}function jn(Cn){var An=handleNext(hn,function(Tn){!Cn||Tn.atBottom||Tn.notAtBottomBecause!=="SIZE_INCREASED"||Rn||(getValue(En)("scrolling to bottom due to increased size",{},h.DEBUG),_n("auto"))});setTimeout(An,100)}return subscribe(pipe(combineLatest(pipe(duc(un),skip(1)),vn),withLatestFrom(duc(wn),mn,gn,bn),map$2(function(Cn){var An=Cn[0],Tn=An[0],$n=An[1]&&Cn[3],Dn="auto";return $n&&(Dn=function(Nn,kn){return typeof Nn=="function"?ft(Nn(kn)):kn&&ft(Nn)}(Cn[1],Cn[2]||Cn[4]),$n=$n&&!!Dn),{totalCount:Tn,shouldFollow:$n,followOutputBehavior:Dn}}),filter(function(Cn){return Cn.shouldFollow})),function(Cn){var An=Cn.totalCount,Tn=Cn.followOutputBehavior;Rn&&(Rn(),Rn=null),Rn=handleNext(dn,function(){getValue(En)("following output to ",{totalCount:An},h.DEBUG),_n(Tn),Rn=null})}),subscribe(pipe(combineLatest(duc(wn),un,yn),filter(function(Cn){return Cn[0]&&Cn[2]}),scan(function(Cn,An){var Tn=An[1];return{refreshed:Cn.value===Tn,value:Tn}},{refreshed:!1,value:0}),filter(function(Cn){return Cn.refreshed}),withLatestFrom(wn,un)),function(Cn){jn(Cn[1]!==!1)}),subscribe(Sn,function(){jn(getValue(wn)!==!1)}),subscribe(combineLatest(duc(wn),hn),function(Cn){var An=Cn[1];Cn[0]&&!An.atBottom&&An.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&_n("auto")}),{followOutput:wn,autoscrollToBottom:Sn}},tup(rt,ct,lt,dt,mt,S,y));function ht(tn){return tn.reduce(function(sn,un){return sn.groupIndices.push(sn.totalCount),sn.totalCount+=un+1,sn},{totalCount:0,groupIndices:[]})}var gt=system(function(tn){var sn=tn[0],un=sn.totalCount,dn=sn.groupIndices,pn=sn.sizes,mn=tn[1],hn=mn.scrollTop,fn=mn.headerHeight,gn=stream(),xn=stream(),yn=streamFromEmitter(pipe(gn,map$2(ht)));return connect(pipe(yn,map$2(function(vn){return vn.totalCount})),un),connect(pipe(yn,map$2(function(vn){return vn.groupIndices})),dn),connect(pipe(combineLatest(hn,pn,fn),filter(function(vn){return nt(vn[1])}),map$2(function(vn){return F(vn[1].groupOffsetTree,Math.max(vn[0]-vn[2],0),"v")[0]}),distinctUntilChanged(),map$2(function(vn){return[vn]})),xn),{groupCounts:gn,topItemsIndexes:xn}},tup(rt,y));function vt(tn,sn){return!(!tn||tn[0]!==sn[0]||tn[1]!==sn[1])}function St(tn,sn){return!(!tn||tn.startIndex!==sn.startIndex||tn.endIndex!==sn.endIndex)}function It(tn,sn,un){return typeof tn=="number"?un===st&&sn==="top"||un==="down"&&sn==="bottom"?tn:0:un===st?sn==="top"?tn.main:tn.reverse:sn==="bottom"?tn.main:tn.reverse}function Ct(tn,sn){return typeof tn=="number"?tn:tn[sn]||0}var Tt=system(function(tn){var sn=tn[0],un=sn.scrollTop,dn=sn.viewportHeight,pn=sn.deviation,mn=sn.headerHeight,hn=sn.fixedHeaderHeight,fn=stream(),gn=statefulStream(0),xn=statefulStream(0),yn=statefulStream(0),vn=statefulStreamFromEmitter(pipe(combineLatest(duc(un),duc(dn),duc(mn),duc(fn,vt),duc(yn),duc(gn),duc(hn),duc(pn),duc(xn)),map$2(function(En){var bn=En[0],wn=En[1],Sn=En[2],Rn=En[3],_n=Rn[0],jn=Rn[1],Cn=En[4],An=En[6],Tn=En[7],$n=En[8],Dn=bn-Tn,Nn=En[5]+An,kn=Math.max(Sn-Dn,0),Pn="none",Mn=Ct($n,"top"),On=Ct($n,"bottom");return _n-=Tn,jn+=Sn+An,(_n+=Sn+An)>bn+Nn-Mn&&(Pn=st),(jn-=Tn)<bn-kn+wn+On&&(Pn="down"),Pn!=="none"?[Math.max(Dn-Sn-It(Cn,"top",Pn)-Mn,0),Dn-kn-An+wn+It(Cn,"bottom",Pn)+On]:null}),filter(function(En){return En!=null}),distinctUntilChanged(vt)),[0,0]);return{listBoundary:fn,overscan:yn,topListHeight:gn,increaseViewportBy:xn,visibleRange:vn}},tup(y),{singleton:!0}),wt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function xt(tn,sn,un){if(tn.length===0)return[];if(!nt(sn))return tn.map(function(yn){return c({},yn,{index:yn.index+un,originalIndex:yn.index})});for(var dn,pn=[],mn=W(sn.groupOffsetTree,tn[0].index,tn[tn.length-1].index),hn=void 0,fn=0,gn=f(tn);!(dn=gn()).done;){var xn=dn.value;(!hn||hn.end<xn.index)&&(hn=mn.shift(),fn=sn.groupIndices.indexOf(hn.start)),pn.push(c({},xn.index===hn.start?{type:"group",index:fn}:{index:xn.index-(fn+1)+un,groupIndex:fn},{size:xn.size,offset:xn.offset,originalIndex:xn.index,data:xn.data}))}return pn}function bt(tn,sn,un,dn,pn,mn){var hn=0,fn=0;if(tn.length>0){hn=tn[0].offset;var gn=tn[tn.length-1];fn=gn.offset+gn.size}var xn=un-pn.lastIndex,yn=hn,vn=pn.lastOffset+xn*pn.lastSize+(xn-1)*dn-fn;return{items:xt(tn,pn,mn),topItems:xt(sn,pn,mn),topListHeight:sn.reduce(function(En,bn){return bn.size+En},0),offsetTop:hn,offsetBottom:vn,top:yn,bottom:fn,totalCount:un,firstItemIndex:mn}}var yt=system(function(tn){var sn=tn[0],un=sn.sizes,dn=sn.totalCount,pn=sn.data,mn=sn.firstItemIndex,hn=sn.gap,fn=tn[1],gn=tn[2],xn=gn.visibleRange,yn=gn.listBoundary,vn=gn.topListHeight,En=tn[3],bn=En.scrolledToInitialItem,wn=En.initialTopMostItemIndex,Sn=tn[4].topListHeight,Rn=tn[5],_n=tn[6].didMount,jn=tn[7].recalcInProgress,Cn=statefulStream([]),An=stream();connect(fn.topItemsIndexes,Cn);var Tn=statefulStreamFromEmitter(pipe(combineLatest(_n,jn,duc(xn,vt),duc(dn),duc(un),duc(wn),bn,duc(Cn),duc(mn),duc(hn),pn),filter(function($n){return $n[0]&&!$n[1]}),map$2(function($n){var Dn=$n[2],Nn=Dn[0],kn=Dn[1],Pn=$n[3],Mn=$n[5],On=$n[6],Wn=$n[7],In=$n[8],Un=$n[9],Vn=$n[10],Hn=$n[4],Ln=Hn.sizeTree,zn=Hn.offsetTree;if(Pn===0||Nn===0&&kn===0)return c({},wt,{totalCount:Pn});if(R(Ln))return bt(function(Ar,Lr,Or){if(nt(Lr)){var Zn=et(Ar,Lr);return[{index:F(Lr.groupOffsetTree,Zn)[0],size:0,offset:0},{index:Zn,size:0,offset:0,data:Or&&Or[0]}]}return[{index:Ar,size:0,offset:0,data:Or&&Or[0]}]}(function(Ar,Lr){return typeof Ar=="number"?Ar:Ar.index==="LAST"?Lr-1:Ar.index}(Mn,Pn),Hn,Vn),[],Pn,Un,Hn,In);var Bn=[];if(Wn.length>0)for(var Fn,Gn=Wn[0],qn=Wn[Wn.length-1],Jn=0,dr=f(W(Ln,Gn,qn));!(Fn=dr()).done;)for(var br=Fn.value,Er=br.value,yr=Math.max(br.start,Gn),xr=Math.min(br.end,qn),vr=yr;vr<=xr;vr++)Bn.push({index:vr,size:Er,offset:Jn,data:Vn&&Vn[vr]}),Jn+=Er;if(!On)return bt([],Bn,Pn,Un,Hn,In);var nr=Wn.length>0?Wn[Wn.length-1]+1:0,sr=function(Ar,Lr,Or,Zn){return Zn===void 0&&(Zn=0),Zn>0&&(Lr=Math.max(Lr,j(Ar,Zn,q).offset)),N((Fr=Or,Br=_(Cr=Ar,Lr,Pr=Z),ar=_(Cr,Fr,Pr,Br),Cr.slice(Br,ar+1)),J);var Cr,Fr,Pr,Br,ar}(zn,Nn,kn,nr);if(sr.length===0)return null;var Rr=Pn-1;return bt(tap([],function(Ar){for(var Lr,Or=f(sr);!(Lr=Or()).done;){var Zn=Lr.value,Cr=Zn.value,Fr=Cr.offset,Pr=Zn.start,Br=Cr.size;if(Cr.offset<Nn){var ar=(Pr+=Math.floor((Nn-Cr.offset+Un)/(Br+Un)))-Zn.start;Fr+=ar*Br+ar*Un}Pr<nr&&(Fr+=(nr-Pr)*Br,Pr=nr);for(var pr=Math.min(Zn.end,Rr),Xn=Pr;Xn<=pr&&!(Fr>=kn);Xn++)Ar.push({index:Xn,size:Br,offset:Fr,data:Vn&&Vn[Xn]}),Fr+=Br+Un}}),Bn,Pn,Un,Hn,In)}),filter(function($n){return $n!==null}),distinctUntilChanged()),wt);return connect(pipe(pn,filter(function($n){return $n!==void 0}),map$2(function($n){return $n.length})),dn),connect(pipe(Tn,map$2(function($n){return $n.topListHeight})),Sn),connect(Sn,vn),connect(pipe(Tn,map$2(function($n){return[$n.top,$n.bottom]})),yn),connect(pipe(Tn,map$2(function($n){return $n.items})),An),c({listState:Tn,topItemsIndexes:Cn,endReached:streamFromEmitter(pipe(Tn,filter(function($n){return $n.items.length>0}),withLatestFrom(dn,pn),filter(function($n){var Dn=$n[0].items;return Dn[Dn.length-1].originalIndex===$n[1]-1}),map$2(function($n){return[$n[1]-1,$n[2]]}),distinctUntilChanged(vt),map$2(function($n){return $n[0]}))),startReached:streamFromEmitter(pipe(Tn,throttleTime(200),filter(function($n){var Dn=$n.items;return Dn.length>0&&Dn[0].originalIndex===$n.topItems.length}),map$2(function($n){return $n.items[0].index}),distinctUntilChanged())),rangeChanged:streamFromEmitter(pipe(Tn,filter(function($n){return $n.items.length>0}),map$2(function($n){for(var Dn=$n.items,Nn=0,kn=Dn.length-1;Dn[Nn].type==="group"&&Nn<kn;)Nn++;for(;Dn[kn].type==="group"&&kn>Nn;)kn--;return{startIndex:Dn[Nn].index,endIndex:Dn[kn].index}}),distinctUntilChanged(St))),itemsRendered:An},Rn)},tup(rt,gt,Tt,dt,lt,ct,mt,K),{singleton:!0}),Ht=system(function(tn){var sn=tn[0],un=sn.sizes,dn=sn.firstItemIndex,pn=sn.data,mn=sn.gap,hn=tn[1].listState,fn=tn[2].didMount,gn=statefulStream(0);return connect(pipe(fn,withLatestFrom(gn),filter(function(xn){return xn[1]!==0}),withLatestFrom(un,dn,mn,pn),map$2(function(xn){var yn=xn[0][1],vn=xn[1],En=xn[2],bn=xn[3],wn=xn[4],Sn=wn===void 0?[]:wn,Rn=0;if(vn.groupIndices.length>0)for(var _n,jn=f(vn.groupIndices);!((_n=jn()).done||_n.value-Rn>=yn);)Rn++;var Cn=yn+Rn;return bt(Array.from({length:Cn}).map(function(An,Tn){return{index:Tn,size:0,offset:0,data:Sn[Tn]}}),[],Cn,bn,vn,En)})),hn),{initialItemCount:gn}},tup(rt,yt,mt),{singleton:!0}),Et=system(function(tn){var sn=tn[0].scrollVelocity,un=statefulStream(!1),dn=stream(),pn=statefulStream(!1);return connect(pipe(sn,withLatestFrom(pn,un,dn),filter(function(mn){return!!mn[1]}),map$2(function(mn){var hn=mn[0],fn=mn[1],gn=mn[2],xn=mn[3],yn=fn.enter;if(gn){if((0,fn.exit)(hn,xn))return!1}else if(yn(hn,xn))return!0;return gn}),distinctUntilChanged()),un),subscribe(pipe(combineLatest(un,sn,dn),withLatestFrom(pn)),function(mn){var hn=mn[0],fn=mn[1];return hn[0]&&fn&&fn.change&&fn.change(hn[1],hn[2])}),{isSeeking:un,scrollSeekConfiguration:pn,scrollVelocity:sn,scrollSeekRangeChanged:dn}},tup(ct),{singleton:!0}),Rt=system(function(tn){var sn=tn[0].topItemsIndexes,un=statefulStream(0);return connect(pipe(un,filter(function(dn){return dn>0}),map$2(function(dn){return Array.from({length:dn}).map(function(pn,mn){return mn})})),sn),{topItemCount:un}},tup(yt)),Lt=system(function(tn){var sn=tn[0],un=sn.footerHeight,dn=sn.headerHeight,pn=sn.fixedHeaderHeight,mn=sn.fixedFooterHeight,hn=tn[1].listState,fn=stream(),gn=statefulStreamFromEmitter(pipe(combineLatest(un,mn,dn,pn,hn),map$2(function(xn){var yn=xn[4];return xn[0]+xn[1]+xn[2]+xn[3]+yn.offsetBottom+yn.bottom})),0);return connect(duc(gn),fn),{totalListHeight:gn,totalListHeightChanged:fn}},tup(y,yt),{singleton:!0});function kt(tn){var sn,un=!1;return function(){return un||(un=!0,sn=tn()),sn}}var Ft=kt(function(){return/iP(ad|hone|od).+Version\/[\d.]+.*Safari/i.test(navigator.userAgent)}),zt=system(function(tn){var sn=tn[0],un=sn.scrollBy,dn=sn.scrollTop,pn=sn.deviation,mn=sn.scrollingInProgress,hn=tn[1],fn=hn.isScrolling,gn=hn.isAtBottom,xn=hn.scrollDirection,yn=tn[3],vn=yn.beforeUnshiftWith,En=yn.shiftWithOffset,bn=yn.sizes,wn=yn.gap,Sn=tn[4].log,Rn=tn[5].recalcInProgress,_n=streamFromEmitter(pipe(tn[2].listState,withLatestFrom(hn.lastJumpDueToItemResize),scan(function(Cn,An){var Tn=Cn[1],$n=An[0],Dn=$n.items,Nn=$n.totalCount,kn=$n.bottom+$n.offsetBottom,Pn=0;return Cn[2]===Nn&&Tn.length>0&&Dn.length>0&&(Dn[0].originalIndex===0&&Tn[0].originalIndex===0||(Pn=kn-Cn[3])!=0&&(Pn+=An[1])),[Pn,Dn,Nn,kn]},[0,[],0,0]),filter(function(Cn){return Cn[0]!==0}),withLatestFrom(dn,xn,mn,gn,Sn),filter(function(Cn){return!Cn[3]&&Cn[1]!==0&&Cn[2]===st}),map$2(function(Cn){var An=Cn[0][0];return(0,Cn[5])("Upward scrolling compensation",{amount:An},h.DEBUG),An})));function jn(Cn){Cn>0?(publish(un,{top:-Cn,behavior:"auto"}),publish(pn,0)):(publish(pn,0),publish(un,{top:-Cn,behavior:"auto"}))}return subscribe(pipe(_n,withLatestFrom(pn,fn)),function(Cn){var An=Cn[0],Tn=Cn[1];Cn[2]&&Ft()?publish(pn,Tn-An):jn(-An)}),subscribe(pipe(combineLatest(statefulStreamFromEmitter(fn,!1),pn,Rn),filter(function(Cn){return!Cn[0]&&!Cn[2]&&Cn[1]!==0}),map$2(function(Cn){return Cn[1]}),throttleTime(1)),jn),connect(pipe(En,map$2(function(Cn){return{top:-Cn}})),un),subscribe(pipe(vn,withLatestFrom(bn,wn),map$2(function(Cn){var An=Cn[0];return An*Cn[1].lastSize+An*Cn[2]})),function(Cn){publish(pn,Cn),requestAnimationFrame(function(){publish(un,{top:Cn}),requestAnimationFrame(function(){publish(pn,0),publish(Rn,!1)})})}),{deviation:pn}},tup(y,ct,yt,rt,S,K)),Bt=system(function(tn){var sn=tn[0].totalListHeight,un=tn[1].didMount,dn=tn[2].scrollTo,pn=statefulStream(0);return subscribe(pipe(un,withLatestFrom(pn),filter(function(mn){return mn[1]!==0}),map$2(function(mn){return{top:mn[1]}})),function(mn){handleNext(pipe(sn,filter(function(hn){return hn!==0})),function(){setTimeout(function(){publish(dn,mn)})})}),{initialScrollTop:pn}},tup(Lt,mt,y),{singleton:!0}),Pt=system(function(tn){var sn=tn[0].viewportHeight,un=tn[1].totalListHeight,dn=statefulStream(!1);return{alignToBottom:dn,paddingTopAddition:statefulStreamFromEmitter(pipe(combineLatest(dn,sn,un),filter(function(pn){return pn[0]}),map$2(function(pn){return Math.max(0,pn[1]-pn[2])}),distinctUntilChanged()),0)}},tup(y,Lt),{singleton:!0}),Ot=system(function(tn){var sn=tn[0],un=sn.scrollTo,dn=sn.scrollContainerState,pn=stream(),mn=stream(),hn=stream(),fn=statefulStream(!1),gn=statefulStream(void 0);return connect(pipe(combineLatest(pn,mn),map$2(function(xn){var yn=xn[0],vn=yn.viewportHeight,En=yn.scrollHeight;return{scrollTop:Math.max(0,yn.scrollTop-xn[1].offsetTop),scrollHeight:En,viewportHeight:vn}})),dn),connect(pipe(un,withLatestFrom(mn),map$2(function(xn){var yn=xn[0];return c({},yn,{top:yn.top+xn[1].offsetTop})})),hn),{useWindowScroll:fn,customScrollParent:gn,windowScrollContainerState:pn,windowViewportRect:mn,windowScrollTo:hn}},tup(y)),Mt=["done","behavior","align"],Vt=system(function(tn){var sn=tn[0],un=sn.sizes,dn=sn.totalCount,pn=sn.gap,mn=tn[1],hn=mn.scrollTop,fn=mn.viewportHeight,gn=mn.headerHeight,xn=mn.fixedHeaderHeight,yn=mn.fixedFooterHeight,vn=mn.scrollingInProgress,En=tn[2].scrollToIndex,bn=stream();return connect(pipe(bn,withLatestFrom(un,fn,dn,gn,xn,yn,hn),withLatestFrom(pn),map$2(function(wn){var Sn=wn[0],Rn=Sn[0],_n=Sn[1],jn=Sn[2],Cn=Sn[3],An=Sn[4],Tn=Sn[5],$n=Sn[6],Dn=Sn[7],Nn=wn[1],kn=Rn.done,Pn=Rn.behavior,Mn=Rn.align,On=m(Rn,Mt),Wn=null,In=tt(Rn,_n,Cn-1),Un=X(In,_n.offsetTree,Nn)+An+Tn;return Un<Dn+Tn?Wn=c({},On,{behavior:Pn,align:Mn??"start"}):Un+F(_n.sizeTree,In)[1]>Dn+jn-$n&&(Wn=c({},On,{behavior:Pn,align:Mn??"end"})),Wn?kn&&handleNext(pipe(vn,skip(1),filter(function(Vn){return Vn===!1})),kn):kn&&kn(),Wn}),filter(function(wn){return wn!==null})),En),{scrollIntoView:bn}},tup(rt,y,lt,yt,S),{singleton:!0}),Ut=["listState","topItemsIndexes"],At=system(function(tn){return c({},tn[0],tn[1],tn[2],tn[3],tn[4],tn[5],tn[6],tn[7],tn[8])},tup(Tt,Ht,mt,Et,Lt,Bt,Pt,Ot,Vt)),Wt=system(function(tn){var sn=tn[0],un=sn.totalCount,dn=sn.sizeRanges,pn=sn.fixedItemSize,mn=sn.defaultItemSize,hn=sn.trackItemSizes,fn=sn.itemSize,gn=sn.data,xn=sn.firstItemIndex,yn=sn.groupIndices,vn=sn.statefulTotalCount,En=sn.gap,bn=tn[1],wn=bn.initialTopMostItemIndex,Sn=bn.scrolledToInitialItem,Rn=tn[2],_n=tn[3],jn=tn[4],Cn=jn.listState,An=jn.topItemsIndexes,Tn=m(jn,Ut),$n=tn[5].scrollToIndex,Dn=tn[7].topItemCount,Nn=tn[8].groupCounts,kn=tn[9],Pn=tn[10];return connect(Tn.rangeChanged,kn.scrollSeekRangeChanged),connect(pipe(kn.windowViewportRect,map$2(function(Mn){return Mn.visibleHeight})),Rn.viewportHeight),c({totalCount:un,data:gn,firstItemIndex:xn,sizeRanges:dn,initialTopMostItemIndex:wn,scrolledToInitialItem:Sn,topItemsIndexes:An,topItemCount:Dn,groupCounts:Nn,fixedItemHeight:pn,defaultItemHeight:mn,gap:En},_n,{statefulTotalCount:vn,listState:Cn,scrollToIndex:$n,trackItemSizes:hn,itemSize:fn,groupIndices:yn},Tn,kn,Rn,Pn)},tup(rt,dt,y,pt$1,yt,lt,zt,Rt,gt,At,S)),Nt=kt(function(){if(typeof document>"u")return"sticky";var tn=document.createElement("div");return tn.style.position="-webkit-sticky",tn.style.position==="-webkit-sticky"?"-webkit-sticky":"sticky"});function Dt(tn,sn){var un=reactExports.useRef(null),dn=reactExports.useCallback(function(gn){if(gn!==null&&gn.offsetParent){var xn,yn,vn=gn.getBoundingClientRect(),En=vn.width;if(sn){var bn=sn.getBoundingClientRect(),wn=vn.top-bn.top;xn=bn.height-Math.max(0,wn),yn=wn+sn.scrollTop}else xn=window.innerHeight-Math.max(0,vn.top),yn=vn.top+window.pageYOffset;un.current={offsetTop:yn,visibleHeight:xn,visibleWidth:En},tn(un.current)}},[tn,sn]),pn=I(dn),mn=pn.callbackRef,hn=pn.ref,fn=reactExports.useCallback(function(){dn(hn.current)},[dn,hn]);return reactExports.useEffect(function(){if(sn){sn.addEventListener("scroll",fn);var gn=new ResizeObserver(fn);return gn.observe(sn),function(){sn.removeEventListener("scroll",fn),gn.unobserve(sn)}}return window.addEventListener("scroll",fn),window.addEventListener("resize",fn),function(){window.removeEventListener("scroll",fn),window.removeEventListener("resize",fn)}},[fn,sn]),mn}var Gt=reactExports.createContext(void 0),_t=["placeholder"],jt=["style","children"],Kt=["style","children"];function Yt(tn){return tn}var qt=system(function(){var tn=statefulStream(function(gn){return"Item "+gn}),sn=statefulStream(null),un=statefulStream(function(gn){return"Group "+gn}),dn=statefulStream({}),pn=statefulStream(Yt),mn=statefulStream("div"),hn=statefulStream(noop$4),fn=function(gn,xn){return xn===void 0&&(xn=null),statefulStreamFromEmitter(pipe(dn,map$2(function(yn){return yn[gn]}),distinctUntilChanged()),xn)};return{context:sn,itemContent:tn,groupContent:un,components:dn,computeItemKey:pn,headerFooterTag:mn,scrollerRef:hn,FooterComponent:fn("Footer"),HeaderComponent:fn("Header"),TopItemListComponent:fn("TopItemList"),ListComponent:fn("List","div"),ItemComponent:fn("Item","div"),GroupComponent:fn("Group","div"),ScrollerComponent:fn("Scroller","div"),EmptyPlaceholder:fn("EmptyPlaceholder"),ScrollSeekPlaceholder:fn("ScrollSeekPlaceholder")}});function Zt(tn,sn){var un=stream();return subscribe(un,function(){return console.warn("react-virtuoso: You are using a deprecated property. "+sn,"color: red;","color: inherit;","color: blue;")}),connect(un,tn),un}var Jt=system(function(tn){var sn=tn[0],un=tn[1],dn={item:Zt(un.itemContent,"Rename the %citem%c prop to %citemContent."),group:Zt(un.groupContent,"Rename the %cgroup%c prop to %cgroupContent."),topItems:Zt(sn.topItemCount,"Rename the %ctopItems%c prop to %ctopItemCount."),itemHeight:Zt(sn.fixedItemHeight,"Rename the %citemHeight%c prop to %cfixedItemHeight."),scrollingStateChange:Zt(sn.isScrolling,"Rename the %cscrollingStateChange%c prop to %cisScrolling."),adjustForPrependedItems:stream(),maxHeightCacheSize:stream(),footer:stream(),header:stream(),HeaderContainer:stream(),FooterContainer:stream(),ItemContainer:stream(),ScrollContainer:stream(),GroupContainer:stream(),ListContainer:stream(),emptyComponent:stream(),scrollSeek:stream()};function pn(mn,hn,fn){connect(pipe(mn,withLatestFrom(un.components),map$2(function(gn){var xn,yn=gn[0],vn=gn[1];return console.warn("react-virtuoso: "+fn+" property is deprecated. Pass components."+hn+" instead."),c({},vn,((xn={})[hn]=yn,xn))})),un.components)}return subscribe(dn.adjustForPrependedItems,function(){console.warn("react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.","color: red;","color: inherit;","color: blue;")}),subscribe(dn.maxHeightCacheSize,function(){console.warn("react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.")}),subscribe(dn.HeaderContainer,function(){console.warn("react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.")}),subscribe(dn.FooterContainer,function(){console.warn("react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.")}),subscribe(dn.scrollSeek,function(mn){var hn=mn.placeholder,fn=m(mn,_t);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),publish(un.components,c({},getValue(un.components),{ScrollSeekPlaceholder:hn})),publish(sn.scrollSeekConfiguration,fn)}),pn(dn.footer,"Footer","footer"),pn(dn.header,"Header","header"),pn(dn.ItemContainer,"Item","ItemContainer"),pn(dn.ListContainer,"List","ListContainer"),pn(dn.ScrollContainer,"Scroller","ScrollContainer"),pn(dn.emptyComponent,"EmptyPlaceholder","emptyComponent"),pn(dn.GroupContainer,"Group","GroupContainer"),c({},sn,un,dn)},tup(Wt,qt)),$t=function(tn){return reactExports.createElement("div",{style:{height:tn.height}})},Qt={position:Nt(),zIndex:1,overflowAnchor:"none"},Xt={overflowAnchor:"none"},te=reactExports.memo(function(tn){var sn=tn.showTopList,un=sn!==void 0&&sn,dn=he("listState"),pn=pe("sizeRanges"),mn=he("useWindowScroll"),hn=he("customScrollParent"),fn=pe("windowScrollContainerState"),gn=pe("scrollContainerState"),xn=hn||mn?fn:gn,yn=he("itemContent"),vn=he("context"),En=he("groupContent"),bn=he("trackItemSizes"),wn=he("itemSize"),Sn=he("log"),Rn=pe("gap"),_n=T(pn,wn,bn,un?noop$4:xn,Sn,Rn,hn).callbackRef,jn=reactExports.useState(0),Cn=jn[0],An=jn[1];ge("deviation",function(Un){Cn!==Un&&An(Un)});var Tn=he("EmptyPlaceholder"),$n=he("ScrollSeekPlaceholder")||$t,Dn=he("ListComponent"),Nn=he("ItemComponent"),kn=he("GroupComponent"),Pn=he("computeItemKey"),Mn=he("isSeeking"),On=he("groupIndices").length>0,Wn=he("paddingTopAddition"),In=un?{}:{boxSizing:"border-box",paddingTop:dn.offsetTop+Wn,paddingBottom:dn.offsetBottom,marginTop:Cn};return!un&&dn.totalCount===0&&Tn?reactExports.createElement(Tn,re$1(Tn,vn)):reactExports.createElement(Dn,c({},re$1(Dn,vn),{ref:_n,style:In,"data-test-id":un?"virtuoso-top-item-list":"virtuoso-item-list"}),(un?dn.topItems:dn.items).map(function(Un){var Vn=Un.originalIndex,Hn=Pn(Vn+dn.firstItemIndex,Un.data,vn);return Mn?reactExports.createElement($n,c({},re$1($n,vn),{key:Hn,index:Un.index,height:Un.size,type:Un.type||"item"},Un.type==="group"?{}:{groupIndex:Un.groupIndex})):Un.type==="group"?reactExports.createElement(kn,c({},re$1(kn,vn),{key:Hn,"data-index":Vn,"data-known-size":Un.size,"data-item-index":Un.index,style:Qt}),En(Un.index)):reactExports.createElement(Nn,c({},re$1(Nn,vn),{key:Hn,"data-index":Vn,"data-known-size":Un.size,"data-item-index":Un.index,"data-item-group-index":Un.groupIndex,style:Xt}),On?yn(Un.index,Un.groupIndex,Un.data,vn):yn(Un.index,Un.data,vn))}))}),ee={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},ne={width:"100%",height:"100%",position:"absolute",top:0},oe={width:"100%",position:Nt(),top:0};function re$1(tn,sn){if(typeof tn!="string")return{context:sn}}var ie=reactExports.memo(function(){var tn=he("HeaderComponent"),sn=pe("headerHeight"),un=he("headerFooterTag"),dn=C(function(mn){return sn(w(mn,"height"))}),pn=he("context");return tn?reactExports.createElement(un,{ref:dn},reactExports.createElement(tn,re$1(tn,pn))):null}),ae=reactExports.memo(function(){var tn=he("FooterComponent"),sn=pe("footerHeight"),un=he("headerFooterTag"),dn=C(function(mn){return sn(w(mn,"height"))}),pn=he("context");return tn?reactExports.createElement(un,{ref:dn},reactExports.createElement(tn,re$1(tn,pn))):null});function le(tn){var sn=tn.usePublisher,un=tn.useEmitter,dn=tn.useEmitterValue;return reactExports.memo(function(pn){var mn=pn.style,hn=pn.children,fn=m(pn,jt),gn=sn("scrollContainerState"),xn=dn("ScrollerComponent"),yn=sn("smoothScrollTargetReached"),vn=dn("scrollerRef"),En=dn("context"),bn=b(gn,yn,xn,vn),wn=bn.scrollerRef,Sn=bn.scrollByCallback;return un("scrollTo",bn.scrollToCallback),un("scrollBy",Sn),reactExports.createElement(xn,c({ref:wn,style:c({},ee,mn),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},fn,re$1(xn,En)),hn)})}function se(tn){var sn=tn.usePublisher,un=tn.useEmitter,dn=tn.useEmitterValue;return reactExports.memo(function(pn){var mn=pn.style,hn=pn.children,fn=m(pn,Kt),gn=sn("windowScrollContainerState"),xn=dn("ScrollerComponent"),yn=sn("smoothScrollTargetReached"),vn=dn("totalListHeight"),En=dn("deviation"),bn=dn("customScrollParent"),wn=dn("context"),Sn=b(gn,yn,xn,noop$4,bn),Rn=Sn.scrollerRef,_n=Sn.scrollByCallback,jn=Sn.scrollToCallback;return g(function(){return Rn.current=bn||window,function(){Rn.current=null}},[Rn,bn]),un("windowScrollTo",jn),un("scrollBy",_n),reactExports.createElement(xn,c({style:c({position:"relative"},mn,vn!==0?{height:vn+En}:{}),"data-virtuoso-scroller":!0},fn,re$1(xn,wn)),hn)})}var ue=function(tn){var sn=tn.children,un=reactExports.useContext(Gt),dn=pe("viewportHeight"),pn=pe("fixedItemHeight"),mn=C(compose(dn,function(hn){return w(hn,"height")}));return reactExports.useEffect(function(){un&&(dn(un.viewportHeight),pn(un.itemHeight))},[un,dn,pn]),reactExports.createElement("div",{style:ne,ref:mn,"data-viewport-type":"element"},sn)},ce=function(tn){var sn=tn.children,un=reactExports.useContext(Gt),dn=pe("windowViewportRect"),pn=pe("fixedItemHeight"),mn=he("customScrollParent"),hn=Dt(dn,mn);return reactExports.useEffect(function(){un&&(pn(un.itemHeight),dn({offsetTop:0,visibleHeight:un.viewportHeight,visibleWidth:100}))},[un,dn,pn]),reactExports.createElement("div",{ref:hn,style:ne,"data-viewport-type":"window"},sn)},me=function(tn){var sn=tn.children,un=he("TopItemListComponent"),dn=he("headerHeight"),pn=c({},oe,{marginTop:dn+"px"}),mn=he("context");return reactExports.createElement(un||"div",{style:pn,context:mn},sn)},de$1=systemToComponent(Jt,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering",item:"item",group:"group",topItems:"topItems",itemHeight:"itemHeight",scrollingStateChange:"scrollingStateChange",maxHeightCacheSize:"maxHeightCacheSize",footer:"footer",header:"header",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",GroupContainer:"GroupContainer",emptyComponent:"emptyComponent",HeaderContainer:"HeaderContainer",FooterContainer:"FooterContainer",scrollSeek:"scrollSeek"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",adjustForPrependedItems:"adjustForPrependedItems",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},reactExports.memo(function(tn){var sn=he("useWindowScroll"),un=he("topItemsIndexes").length>0,dn=he("customScrollParent"),pn=dn||sn?ce:ue;return reactExports.createElement(dn||sn?Se:ve,c({},tn),reactExports.createElement(pn,null,reactExports.createElement(ie,null),reactExports.createElement(te,null),reactExports.createElement(ae,null)),un&&reactExports.createElement(me,null,reactExports.createElement(te,{showTopList:!0})))})),fe=de$1.Component,pe=de$1.usePublisher,he=de$1.useEmitterValue,ge=de$1.useEmitter,ve=le({usePublisher:pe,useEmitterValue:he,useEmitter:ge}),Se=se({usePublisher:pe,useEmitterValue:he,useEmitter:ge}),Ie={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Ce={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Te=Math.round,we=Math.ceil,xe=Math.floor,be=Math.min,ye=Math.max;function He(tn,sn){return Array.from({length:sn-tn+1}).map(function(un,dn){return{index:dn+tn}})}function Ee(tn,sn){return tn&&tn.column===sn.column&&tn.row===sn.row}var Re=system(function(tn){var sn=tn[0],un=sn.overscan,dn=sn.visibleRange,pn=sn.listBoundary,mn=tn[1],hn=mn.scrollTop,fn=mn.viewportHeight,gn=mn.scrollBy,xn=mn.scrollTo,yn=mn.smoothScrollTargetReached,vn=mn.scrollContainerState,En=tn[2],bn=tn[3],wn=tn[4],Sn=wn.propsReady,Rn=wn.didMount,_n=tn[5],jn=_n.windowViewportRect,Cn=_n.windowScrollTo,An=_n.useWindowScroll,Tn=_n.customScrollParent,$n=_n.windowScrollContainerState,Dn=tn[6],Nn=statefulStream(0),kn=statefulStream(0),Pn=statefulStream(Ie),Mn=statefulStream({height:0,width:0}),On=statefulStream({height:0,width:0}),Wn=stream(),In=stream(),Un=statefulStream(0),Vn=statefulStream({row:0,column:0});connect(pipe(Rn,withLatestFrom(kn),filter(function(Fn){return Fn[1]!==0}),map$2(function(Fn){return{items:He(0,Fn[1]-1),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}})),Pn),connect(pipe(combineLatest(duc(Nn),dn,duc(Vn,Ee),duc(On,function(Fn,Gn){return Fn&&Fn.width===Gn.width&&Fn.height===Gn.height})),withLatestFrom(Mn),map$2(function(Fn){var Gn=Fn[0],qn=Gn[0],Jn=Gn[1],dr=Jn[0],br=Jn[1],Er=Gn[2],yr=Gn[3],xr=Fn[1],vr=Er.row,nr=yr.height,sr=yr.width,Rr=xr.width;if(qn===0||Rr===0)return Ie;if(sr===0)return Ce;var Ar=Fe(Rr,sr,Er.column),Lr=Ar*xe((dr+vr)/(nr+vr)),Or=Ar*we((br+vr)/(nr+vr))-1;Or=ye(0,be(qn-1,Or));var Zn=He(Lr=be(Or,ye(0,Lr)),Or),Cr=Le(xr,Er,yr,Zn),Fr=Cr.top,Pr=Cr.bottom,Br=we(qn/Ar);return{items:Zn,offsetTop:Fr,offsetBottom:Br*nr+(Br-1)*vr-Pr,top:Fr,bottom:Pr,itemHeight:nr,itemWidth:sr}})),Pn),connect(pipe(Mn,map$2(function(Fn){return Fn.height})),fn),connect(pipe(combineLatest(Mn,On,Pn,Vn),map$2(function(Fn){var Gn=Le(Fn[0],Fn[3],Fn[1],Fn[2].items);return[Gn.top,Gn.bottom]}),distinctUntilChanged(vt)),pn);var Hn=streamFromEmitter(pipe(duc(Pn),filter(function(Fn){return Fn.items.length>0}),withLatestFrom(Nn),filter(function(Fn){var Gn=Fn[0].items;return Gn[Gn.length-1].index===Fn[1]-1}),map$2(function(Fn){return Fn[1]-1}),distinctUntilChanged())),Ln=streamFromEmitter(pipe(duc(Pn),filter(function(Fn){var Gn=Fn.items;return Gn.length>0&&Gn[0].index===0}),mapTo(0),distinctUntilChanged())),zn=streamFromEmitter(pipe(duc(Pn),filter(function(Fn){return Fn.items.length>0}),map$2(function(Fn){var Gn=Fn.items;return{startIndex:Gn[0].index,endIndex:Gn[Gn.length-1].index}}),distinctUntilChanged(St)));connect(zn,bn.scrollSeekRangeChanged),connect(pipe(Wn,withLatestFrom(Mn,On,Nn,Vn),map$2(function(Fn){var Gn=Fn[1],qn=Fn[2],Jn=Fn[3],dr=Fn[4],br=at(Fn[0]),Er=br.align,yr=br.behavior,xr=br.offset,vr=br.index;vr==="LAST"&&(vr=Jn-1);var nr=ke(Gn,dr,qn,vr=ye(0,vr,be(Jn-1,vr)));return Er==="end"?nr=Te(nr-Gn.height+qn.height):Er==="center"&&(nr=Te(nr-Gn.height/2+qn.height/2)),xr&&(nr+=xr),{top:nr,behavior:yr}})),xn);var Bn=statefulStreamFromEmitter(pipe(Pn,map$2(function(Fn){return Fn.offsetBottom+Fn.bottom})),0);return connect(pipe(jn,map$2(function(Fn){return{width:Fn.visibleWidth,height:Fn.visibleHeight}})),Mn),c({totalCount:Nn,viewportDimensions:Mn,itemDimensions:On,scrollTop:hn,scrollHeight:In,overscan:un,scrollBy:gn,scrollTo:xn,scrollToIndex:Wn,smoothScrollTargetReached:yn,windowViewportRect:jn,windowScrollTo:Cn,useWindowScroll:An,customScrollParent:Tn,windowScrollContainerState:$n,deviation:Un,scrollContainerState:vn,initialItemCount:kn,gap:Vn},bn,{gridState:Pn,totalListHeight:Bn},En,{startReached:Ln,endReached:Hn,rangeChanged:zn,propsReady:Sn},Dn)},tup(Tt,y,ct,Et,mt,Ot,S));function Le(tn,sn,un,dn){var pn=un.height;return pn===void 0||dn.length===0?{top:0,bottom:0}:{top:ke(tn,sn,un,dn[0].index),bottom:ke(tn,sn,un,dn[dn.length-1].index)+pn}}function ke(tn,sn,un,dn){var pn=Fe(tn.width,un.width,sn.column),mn=xe(dn/pn),hn=mn*un.height+ye(0,mn-1)*sn.row;return hn>0?hn+sn.row:hn}function Fe(tn,sn,un){return ye(1,xe((tn+un)/(sn+un)))}var ze=["placeholder"],Be=system(function(){var tn=statefulStream(function(gn){return"Item "+gn}),sn=statefulStream({}),un=statefulStream(null),dn=statefulStream("virtuoso-grid-item"),pn=statefulStream("virtuoso-grid-list"),mn=statefulStream(Yt),hn=statefulStream(noop$4),fn=function(gn,xn){return statefulStreamFromEmitter(pipe(sn,map$2(function(yn){return yn[gn]}),distinctUntilChanged()),xn)};return{context:un,itemContent:tn,components:sn,computeItemKey:mn,itemClassName:dn,listClassName:pn,scrollerRef:hn,ListComponent:fn("List","div"),ItemComponent:fn("Item","div"),ScrollerComponent:fn("Scroller","div"),ScrollSeekPlaceholder:fn("ScrollSeekPlaceholder","div")}}),Pe=system(function(tn){var sn=tn[0],un=tn[1],dn={item:Zt(un.itemContent,"Rename the %citem%c prop to %citemContent."),ItemContainer:stream(),ScrollContainer:stream(),ListContainer:stream(),emptyComponent:stream(),scrollSeek:stream()};function pn(mn,hn,fn){connect(pipe(mn,withLatestFrom(un.components),map$2(function(gn){var xn,yn=gn[0],vn=gn[1];return console.warn("react-virtuoso: "+fn+" property is deprecated. Pass components."+hn+" instead."),c({},vn,((xn={})[hn]=yn,xn))})),un.components)}return subscribe(dn.scrollSeek,function(mn){var hn=mn.placeholder,fn=m(mn,ze);console.warn("react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead."),publish(un.components,c({},getValue(un.components),{ScrollSeekPlaceholder:hn})),publish(sn.scrollSeekConfiguration,fn)}),pn(dn.ItemContainer,"Item","ItemContainer"),pn(dn.ListContainer,"List","ListContainer"),pn(dn.ScrollContainer,"Scroller","ScrollContainer"),c({},sn,un,dn)},tup(Re,Be)),Oe=reactExports.memo(function(){var tn=Ne("gridState"),sn=Ne("listClassName"),un=Ne("itemClassName"),dn=Ne("itemContent"),pn=Ne("computeItemKey"),mn=Ne("isSeeking"),hn=We("scrollHeight"),fn=Ne("ItemComponent"),gn=Ne("ListComponent"),xn=Ne("ScrollSeekPlaceholder"),yn=Ne("context"),vn=We("itemDimensions"),En=We("gap"),bn=Ne("log"),wn=C(function(Sn){hn(Sn.parentElement.parentElement.scrollHeight);var Rn=Sn.firstChild;Rn&&vn(Rn.getBoundingClientRect()),En({row:je("row-gap",getComputedStyle(Sn).rowGap,bn),column:je("column-gap",getComputedStyle(Sn).columnGap,bn)})});return reactExports.createElement(gn,c({ref:wn,className:sn},re$1(gn,yn),{style:{paddingTop:tn.offsetTop,paddingBottom:tn.offsetBottom}}),tn.items.map(function(Sn){var Rn=pn(Sn.index);return mn?reactExports.createElement(xn,c({key:Rn},re$1(xn,yn),{index:Sn.index,height:tn.itemHeight,width:tn.itemWidth})):reactExports.createElement(fn,c({},re$1(fn,yn),{className:un,"data-index":Sn.index,key:Rn}),dn(Sn.index,yn))}))}),Me=function(tn){var sn=tn.children,un=We("viewportDimensions"),dn=C(function(pn){un(pn.getBoundingClientRect())});return reactExports.createElement("div",{style:ne,ref:dn},sn)},Ve=function(tn){var sn=tn.children,un=Dt(We("windowViewportRect"),Ne("customScrollParent"));return reactExports.createElement("div",{ref:un,style:ne},sn)},Ue=systemToComponent(Pe,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",item:"item",ItemContainer:"ItemContainer",ScrollContainer:"ScrollContainer",ListContainer:"ListContainer",scrollSeek:"scrollSeek"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},reactExports.memo(function(tn){var sn=c({},tn),un=Ne("useWindowScroll"),dn=Ne("customScrollParent"),pn=dn||un?Ve:Me;return reactExports.createElement(dn||un?_e:Ge,c({},sn),reactExports.createElement(pn,null,reactExports.createElement(Oe,null)))})),We=Ue.usePublisher,Ne=Ue.useEmitterValue,De=Ue.useEmitter,Ge=le({usePublisher:We,useEmitterValue:Ne,useEmitter:De}),_e=se({usePublisher:We,useEmitterValue:Ne,useEmitter:De});function je(tn,sn,un){return sn==="normal"||sn!=null&&sn.endsWith("px")||un(tn+" was not resolved to pixel value correctly",sn,h.WARN),sn==="normal"?0:parseInt(sn??"0",10)}var Ke=system(function(){var tn=statefulStream(function(gn){return reactExports.createElement("td",null,"Item $",gn)}),sn=statefulStream(null),un=statefulStream(null),dn=statefulStream(null),pn=statefulStream({}),mn=statefulStream(Yt),hn=statefulStream(noop$4),fn=function(gn,xn){return xn===void 0&&(xn=null),statefulStreamFromEmitter(pipe(pn,map$2(function(yn){return yn[gn]}),distinctUntilChanged()),xn)};return{context:sn,itemContent:tn,fixedHeaderContent:un,fixedFooterContent:dn,components:pn,computeItemKey:mn,scrollerRef:hn,TableComponent:fn("Table","table"),TableHeadComponent:fn("TableHead","thead"),TableFooterComponent:fn("TableFoot","tfoot"),TableBodyComponent:fn("TableBody","tbody"),TableRowComponent:fn("TableRow","tr"),ScrollerComponent:fn("Scroller","div"),EmptyPlaceholder:fn("EmptyPlaceholder"),ScrollSeekPlaceholder:fn("ScrollSeekPlaceholder"),FillerRow:fn("FillerRow")}}),Ye=system(function(tn){return c({},tn[0],tn[1])},tup(Wt,Ke)),qe=function(tn){return reactExports.createElement("tr",null,reactExports.createElement("td",{style:{height:tn.height}}))},Ze=function(tn){return reactExports.createElement("tr",null,reactExports.createElement("td",{style:{height:tn.height,padding:0,border:0}}))},Je=reactExports.memo(function(){var tn=nn("listState"),sn=en$1("sizeRanges"),un=nn("useWindowScroll"),dn=nn("customScrollParent"),pn=en$1("windowScrollContainerState"),mn=en$1("scrollContainerState"),hn=dn||un?pn:mn,fn=nn("itemContent"),gn=nn("trackItemSizes"),xn=T(sn,nn("itemSize"),gn,hn,nn("log"),void 0,dn),yn=xn.callbackRef,vn=xn.ref,En=reactExports.useState(0),bn=En[0],wn=En[1];on("deviation",function(Un){bn!==Un&&(vn.current.style.marginTop=Un+"px",wn(Un))});var Sn=nn("EmptyPlaceholder"),Rn=nn("ScrollSeekPlaceholder")||qe,_n=nn("FillerRow")||Ze,jn=nn("TableBodyComponent"),Cn=nn("TableRowComponent"),An=nn("computeItemKey"),Tn=nn("isSeeking"),$n=nn("paddingTopAddition"),Dn=nn("firstItemIndex"),Nn=nn("statefulTotalCount"),kn=nn("context");if(Nn===0&&Sn)return reactExports.createElement(Sn,re$1(Sn,kn));var Pn=tn.offsetTop+$n+bn,Mn=tn.offsetBottom,On=Pn>0?reactExports.createElement(_n,{height:Pn,key:"padding-top"}):null,Wn=Mn>0?reactExports.createElement(_n,{height:Mn,key:"padding-bottom"}):null,In=tn.items.map(function(Un){var Vn=Un.originalIndex,Hn=An(Vn+Dn,Un.data,kn);return Tn?reactExports.createElement(Rn,c({},re$1(Rn,kn),{key:Hn,index:Un.index,height:Un.size,type:Un.type||"item"})):reactExports.createElement(Cn,c({},re$1(Cn,kn),{key:Hn,"data-index":Vn,"data-known-size":Un.size,"data-item-index":Un.index,style:{overflowAnchor:"none"}}),fn(Un.index,Un.data,kn))});return reactExports.createElement(jn,c({ref:yn,"data-test-id":"virtuoso-item-list"},re$1(jn,kn)),[On].concat(In,[Wn]))}),$e=function(tn){var sn=tn.children,un=reactExports.useContext(Gt),dn=en$1("viewportHeight"),pn=en$1("fixedItemHeight"),mn=C(compose(dn,function(hn){return w(hn,"height")}));return reactExports.useEffect(function(){un&&(dn(un.viewportHeight),pn(un.itemHeight))},[un,dn,pn]),reactExports.createElement("div",{style:ne,ref:mn,"data-viewport-type":"element"},sn)},Qe=function(tn){var sn=tn.children,un=reactExports.useContext(Gt),dn=en$1("windowViewportRect"),pn=en$1("fixedItemHeight"),mn=nn("customScrollParent"),hn=Dt(dn,mn);return reactExports.useEffect(function(){un&&(pn(un.itemHeight),dn({offsetTop:0,visibleHeight:un.viewportHeight,visibleWidth:100}))},[un,dn,pn]),reactExports.createElement("div",{ref:hn,style:ne,"data-viewport-type":"window"},sn)},Xe=systemToComponent(Ye,{required:{},optional:{context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",react18ConcurrentRendering:"react18ConcurrentRendering"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},reactExports.memo(function(tn){var sn=nn("useWindowScroll"),un=nn("customScrollParent"),dn=en$1("fixedHeaderHeight"),pn=en$1("fixedFooterHeight"),mn=nn("fixedHeaderContent"),hn=nn("fixedFooterContent"),fn=nn("context"),gn=C(compose(dn,function(_n){return w(_n,"height")})),xn=C(compose(pn,function(_n){return w(_n,"height")})),yn=un||sn?an:rn,vn=un||sn?Qe:$e,En=nn("TableComponent"),bn=nn("TableHeadComponent"),wn=nn("TableFooterComponent"),Sn=mn?reactExports.createElement(bn,c({key:"TableHead",style:{zIndex:1,position:"sticky",top:0},ref:gn},re$1(bn,fn)),mn()):null,Rn=hn?reactExports.createElement(wn,c({key:"TableFoot",style:{zIndex:1,position:"sticky",bottom:0},ref:xn},re$1(wn,fn)),hn()):null;return reactExports.createElement(yn,c({},tn),reactExports.createElement(vn,null,reactExports.createElement(En,c({style:{borderSpacing:0}},re$1(En,fn)),[Sn,reactExports.createElement(Je,{key:"TableBody"}),Rn])))})),en$1=Xe.usePublisher,nn=Xe.useEmitterValue,on=Xe.useEmitter,rn=le({usePublisher:en$1,useEmitterValue:nn,useEmitter:on}),an=se({usePublisher:en$1,useEmitterValue:nn,useEmitter:on}),ln=fe;function Timestamp(tn){const{calendar:sn,calendarFormats:un,customClass:dn,format:pn,timestamp:mn}=tn,{formatDate:hn}=useMessageContext(),{t:fn,tDateTimeParser:gn}=useTranslationContext("MessageTimestamp"),xn=mn&&isDate(mn)?mn.toISOString():mn,yn=reactExports.useMemo(()=>getDateString({calendar:sn,calendarFormats:un,format:pn,formatDate:hn,messageCreatedAt:xn,t:fn,tDateTimeParser:gn,timestampTranslationKey:"timestamp/MessageTimestamp"}),[sn,un,pn,hn,xn,fn,gn]);return yn?React$1.createElement("time",{className:dn,dateTime:xn,title:xn},yn):null}const Icon$1={User:tn=>React$1.createElement("svg",{className:"str-chat__icon str-chat__icon--user",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...tn},React$1.createElement("path",{d:"M8 2C9.1 2 10 2.9 10 4C10 5.1 9.1 6 8 6C6.9 6 6 5.1 6 4C6 2.9 6.9 2 8 2ZM8 12C10.7 12 13.8 13.29 14 14H2C2.23 13.28 5.31 12 8 12ZM8 0C5.79 0 4 1.79 4 4C4 6.21 5.79 8 8 8C10.21 8 12 6.21 12 4C12 1.79 10.21 0 8 0ZM8 10C5.33 10 0 11.34 0 14V16H16V14C16 11.34 10.67 10 8 10Z",fill:"currentColor"}))},WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL={},getChannel=async({channel:tn,client:sn,id:un,members:dn,options:pn,type:mn})=>{if(!tn&&!mn)throw new Error("Channel or channel type have to be provided to query a channel.");const hn=tn||sn.channel(mn,un,{members:dn}),fn=hn!=null&&hn.id?hn.cid:dn&&dn.length?generateChannelTempCid(hn.type,dn):void 0;if(!fn)throw new Error("Channel ID or channel members array have to be provided to query a channel.");const gn=WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL[fn];if(gn)await gn;else try{WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL[fn]=hn.watch(pn),await WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL[fn]}finally{delete WATCH_QUERY_IN_PROGRESS_FOR_CHANNEL[fn]}return hn},generateChannelTempCid=(tn,sn)=>{if(!sn)return;const un=[...sn].sort().join(",");return`${tn}:!members-${un}`},getWholeChar=(tn,sn)=>{const un=tn.charCodeAt(sn);if(Number.isNaN(un))return"";if(un<55296||un>57343)return tn.charAt(sn);if(55296<=un&&un<=56319){if(tn.length<=sn+1)throw"High surrogate without following low surrogate";const dn=tn.charCodeAt(sn+1);if(56320>dn||dn>57343)throw"High surrogate without following low surrogate";return tn.charAt(sn)+tn.charAt(sn+1)}throw"Low surrogate without preceding high surrogate"},Avatar=tn=>{const{className:sn,image:un,name:dn,onClick:pn=()=>{},onMouseOver:mn=()=>{}}=tn,[hn,fn]=reactExports.useState(!1);reactExports.useEffect(()=>{fn(!1)},[un]);const gn=(dn==null?void 0:dn.toString())||"",xn=getWholeChar(gn,0),yn=un&&!hn;return React$1.createElement("div",{className:clsx("str-chat__avatar str-chat__message-sender-avatar",sn,{"str-chat__avatar--multiple-letters":xn.length>1,"str-chat__avatar--no-letters":!xn.length,"str-chat__avatar--one-letter":xn.length===1}),"data-testid":"avatar",onClick:pn,onMouseOver:mn,role:"button",title:dn},yn?React$1.createElement("img",{alt:xn,className:"str-chat__avatar-image","data-testid":"avatar-img",onError:()=>fn(!0),src:un}):React$1.createElement(React$1.Fragment,null,!!xn.length&&React$1.createElement("div",{className:clsx("str-chat__avatar-fallback"),"data-testid":"avatar-fallback"},xn),!xn.length&&React$1.createElement(Icon$1.User,null)))},useConnectionRecoveredListener=tn=>{const{client:sn}=useChatContext("useConnectionRecoveredListener");reactExports.useEffect(()=>{const un=()=>{tn&&tn()};return sn.on("connection.recovered",un),()=>{sn.off("connection.recovered",un)}},[sn,tn])},useMobileNavigation=(tn,sn,un)=>{reactExports.useEffect(()=>{const dn=pn=>{un&&tn.current&&!tn.current.contains(pn.target)&&sn&&un()};return document.addEventListener("click",dn),()=>{document.removeEventListener("click",dn)}},[tn,un,sn])};var lodash_uniqby={exports:{}};lodash_uniqby.exports;(function(tn,sn){var un=200,dn="Expected a function",pn="__lodash_hash_undefined__",mn=1,hn=2,fn=1/0,gn=9007199254740991,xn="[object Arguments]",yn="[object Array]",vn="[object Boolean]",En="[object Date]",bn="[object Error]",wn="[object Function]",Sn="[object GeneratorFunction]",Rn="[object Map]",_n="[object Number]",jn="[object Object]",Cn="[object Promise]",An="[object RegExp]",Tn="[object Set]",$n="[object String]",Dn="[object Symbol]",Nn="[object WeakMap]",kn="[object ArrayBuffer]",Pn="[object DataView]",Mn="[object Float32Array]",On="[object Float64Array]",Wn="[object Int8Array]",In="[object Int16Array]",Un="[object Int32Array]",Vn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Ln="[object Uint16Array]",zn="[object Uint32Array]",Bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fn=/^\w*$/,Gn=/^\./,qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jn=/[\\^$.*+?()[\]{}|]/g,dr=/\\(\\)?/g,br=/^\[object .+?Constructor\]$/,Er=/^(?:0|[1-9]\d*)$/,yr={};yr[Mn]=yr[On]=yr[Wn]=yr[In]=yr[Un]=yr[Vn]=yr[Hn]=yr[Ln]=yr[zn]=!0,yr[xn]=yr[yn]=yr[kn]=yr[vn]=yr[Pn]=yr[En]=yr[bn]=yr[wn]=yr[Rn]=yr[_n]=yr[jn]=yr[An]=yr[Tn]=yr[$n]=yr[Nn]=!1;var xr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,vr=typeof self=="object"&&self&&self.Object===Object&&self,nr=xr||vr||Function("return this")(),sr=sn&&!sn.nodeType&&sn,Rr=sr&&!0&&tn&&!tn.nodeType&&tn,Ar=Rr&&Rr.exports===sr,Lr=Ar&&xr.process,Or=function(){try{return Lr&&Lr.binding("util")}catch{}}(),Zn=Or&&Or.isTypedArray;function Cr(Qn,cr){var Dr=Qn?Qn.length:0;return!!Dr&&Br(Qn,cr,0)>-1}function Fr(Qn,cr){for(var Dr=-1,Gr=Qn?Qn.length:0;++Dr<Gr;)if(cr(Qn[Dr],Dr,Qn))return!0;return!1}function Pr(Qn,cr,Dr,Gr){for(var vs=Qn.length,rs=Dr+-1;++rs<vs;)if(cr(Qn[rs],rs,Qn))return rs;return-1}function Br(Qn,cr,Dr){if(cr!==cr)return Pr(Qn,ar,Dr);for(var Gr=Dr-1,vs=Qn.length;++Gr<vs;)if(Qn[Gr]===cr)return Gr;return-1}function ar(Qn){return Qn!==Qn}function pr(Qn){return function(cr){return cr==null?void 0:cr[Qn]}}function Xn(Qn,cr){for(var Dr=-1,Gr=Array(Qn);++Dr<Qn;)Gr[Dr]=cr(Dr);return Gr}function $r(Qn){return function(cr){return Qn(cr)}}function lr(Qn,cr){return Qn.has(cr)}function gr(Qn,cr){return Qn==null?void 0:Qn[cr]}function _r(Qn){var cr=!1;if(Qn!=null&&typeof Qn.toString!="function")try{cr=!!(Qn+"")}catch{}return cr}function Hr(Qn){var cr=-1,Dr=Array(Qn.size);return Qn.forEach(function(Gr,vs){Dr[++cr]=[vs,Gr]}),Dr}function Vr(Qn,cr){return function(Dr){return Qn(cr(Dr))}}function ss(Qn){var cr=-1,Dr=Array(Qn.size);return Qn.forEach(function(Gr){Dr[++cr]=Gr}),Dr}var Rs=Array.prototype,Cs=Function.prototype,Ps=Object.prototype,js=nr["__core-js_shared__"],ms=function(){var Qn=/[^.]+$/.exec(js&&js.keys&&js.keys.IE_PROTO||"");return Qn?"Symbol(src)_1."+Qn:""}(),ks=Cs.toString,Nr=Ps.hasOwnProperty,Yr=Ps.toString,ps=RegExp("^"+ks.call(Nr).replace(Jn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),os=nr.Symbol,$s=nr.Uint8Array,as=Ps.propertyIsEnumerable,_s=Rs.splice,Os=Vr(Object.keys,Object),Bs=co(nr,"DataView"),Ts=co(nr,"Map"),fs=co(nr,"Promise"),Qr=co(nr,"Set"),Ls=co(nr,"WeakMap"),Vs=co(Object,"create"),ba=rr(Bs),_i=rr(Ts),eo=rr(fs),hr=rr(Qr),Kn=rr(Ls),ur=os?os.prototype:void 0,jr=ur?ur.valueOf:void 0,Mr=ur?ur.toString:void 0;function qr(Qn){var cr=-1,Dr=Qn?Qn.length:0;for(this.clear();++cr<Dr;){var Gr=Qn[cr];this.set(Gr[0],Gr[1])}}function Kr(){this.__data__=Vs?Vs(null):{}}function er(Qn){return this.has(Qn)&&delete this.__data__[Qn]}function or(Qn){var cr=this.__data__;if(Vs){var Dr=cr[Qn];return Dr===pn?void 0:Dr}return Nr.call(cr,Qn)?cr[Qn]:void 0}function Tr(Qn){var cr=this.__data__;return Vs?cr[Qn]!==void 0:Nr.call(cr,Qn)}function Ir(Qn,cr){var Dr=this.__data__;return Dr[Qn]=Vs&&cr===void 0?pn:cr,this}qr.prototype.clear=Kr,qr.prototype.delete=er,qr.prototype.get=or,qr.prototype.has=Tr,qr.prototype.set=Ir;function zr(Qn){var cr=-1,Dr=Qn?Qn.length:0;for(this.clear();++cr<Dr;){var Gr=Qn[cr];this.set(Gr[0],Gr[1])}}function Wr(){this.__data__=[]}function ls(Qn){var cr=this.__data__,Dr=so(cr,Qn);if(Dr<0)return!1;var Gr=cr.length-1;return Dr==Gr?cr.pop():_s.call(cr,Dr,1),!0}function Xr(Qn){var cr=this.__data__,Dr=so(cr,Qn);return Dr<0?void 0:cr[Dr][1]}function cs(Qn){return so(this.__data__,Qn)>-1}function ys(Qn,cr){var Dr=this.__data__,Gr=so(Dr,Qn);return Gr<0?Dr.push([Qn,cr]):Dr[Gr][1]=cr,this}zr.prototype.clear=Wr,zr.prototype.delete=ls,zr.prototype.get=Xr,zr.prototype.has=cs,zr.prototype.set=ys;function hs(Qn){var cr=-1,Dr=Qn?Qn.length:0;for(this.clear();++cr<Dr;){var Gr=Qn[cr];this.set(Gr[0],Gr[1])}}function gs(){this.__data__={hash:new qr,map:new(Ts||zr),string:new qr}}function Es(Qn){return jo(this,Qn).delete(Qn)}function As(Qn){return jo(this,Qn).get(Qn)}function Us(Qn){return jo(this,Qn).has(Qn)}function Qs(Qn,cr){return jo(this,Qn).set(Qn,cr),this}hs.prototype.clear=gs,hs.prototype.delete=Es,hs.prototype.get=As,hs.prototype.has=Us,hs.prototype.set=Qs;function Ws(Qn){var cr=-1,Dr=Qn?Qn.length:0;for(this.__data__=new hs;++cr<Dr;)this.add(Qn[cr])}function _a(Qn){return this.__data__.set(Qn,pn),this}function Xs(Qn){return this.__data__.has(Qn)}Ws.prototype.add=Ws.prototype.push=_a,Ws.prototype.has=Xs;function Ms(Qn){this.__data__=new zr(Qn)}function Is(){this.__data__=new zr}function wo(Qn){return this.__data__.delete(Qn)}function To(Qn){return this.__data__.get(Qn)}function Ao(Qn){return this.__data__.has(Qn)}function xo(Qn,cr){var Dr=this.__data__;if(Dr instanceof zr){var Gr=Dr.__data__;if(!Ts||Gr.length<un-1)return Gr.push([Qn,cr]),this;Dr=this.__data__=new hs(Gr)}return Dr.set(Qn,cr),this}Ms.prototype.clear=Is,Ms.prototype.delete=wo,Ms.prototype.get=To,Ms.prototype.has=Ao,Ms.prototype.set=xo;function Ro(Qn,cr){var Dr=Ur(Qn)||wr(Qn)?Xn(Qn.length,String):[],Gr=Dr.length,vs=!!Gr;for(var rs in Qn)Nr.call(Qn,rs)&&!(vs&&(rs=="length"||ga(rs,Gr)))&&Dr.push(rs);return Dr}function so(Qn,cr){for(var Dr=Qn.length;Dr--;)if(ir(Qn[Dr][0],cr))return Dr;return-1}function ao(Qn,cr){cr=mo(cr,Qn)?[cr]:Bl(cr);for(var Dr=0,Gr=cr.length;Qn!=null&&Dr<Gr;)Qn=Qn[Uo(cr[Dr++])];return Dr&&Dr==Gr?Qn:void 0}function io(Qn){return Yr.call(Qn)}function uo(Qn,cr){return Qn!=null&&cr in Object(Qn)}function yo(Qn,cr,Dr,Gr,vs){return Qn===cr?!0:Qn==null||cr==null||!bs(Qn)&&!qs(cr)?Qn!==Qn&&cr!==cr:Js(Qn,cr,yo,Dr,Gr,vs)}function Js(Qn,cr,Dr,Gr,vs,rs){var Ns=Ur(Qn),zs=Ur(cr),Hs=yn,na=yn;Ns||(Hs=to(Qn),Hs=Hs==xn?jn:Hs),zs||(na=to(cr),na=na==xn?jn:na);var Gs=Hs==jn&&!_r(Qn),Zs=na==jn&&!_r(cr),xa=Hs==na;if(xa&&!Gs)return rs||(rs=new Ms),Ns||Eo(Qn)?vo(Qn,cr,Dr,Gr,vs,rs):No(Qn,cr,Hs,Dr,Gr,vs,rs);if(!(vs&hn)){var ho=Gs&&Nr.call(Qn,"__wrapped__"),fo=Zs&&Nr.call(cr,"__wrapped__");if(ho||fo){var Vo=ho?Qn.value():Qn,Po=fo?cr.value():cr;return rs||(rs=new Ms),Dr(Vo,Po,Gr,vs,rs)}}return xa?(rs||(rs=new Ms),Do(Qn,cr,Dr,Gr,vs,rs)):!1}function Fo(Qn,cr,Dr,Gr){var vs=Dr.length,rs=vs;if(Qn==null)return!rs;for(Qn=Object(Qn);vs--;){var Ns=Dr[vs];if(Ns[2]?Ns[1]!==Qn[Ns[0]]:!(Ns[0]in Qn))return!1}for(;++vs<rs;){Ns=Dr[vs];var zs=Ns[0],Hs=Qn[zs],na=Ns[1];if(Ns[2]){if(Hs===void 0&&!(zs in Qn))return!1}else{var Gs=new Ms,Zs;if(!(Zs===void 0?yo(na,Hs,Gr,mn|hn,Gs):Zs))return!1}}return!0}function iu(Qn){if(!bs(Qn)||Vl(Qn))return!1;var cr=ds(Qn)||_r(Qn)?ps:br;return cr.test(rr(Qn))}function ou(Qn){return qs(Qn)&&xs(Qn.length)&&!!yr[Yr.call(Qn)]}function Ll(Qn){return typeof Qn=="function"?Qn:Qn==null?Xu:typeof Qn=="object"?Ur(Qn)?cu(Qn[0],Qn[1]):lu(Qn):_d(Qn)}function Fl(Qn){if(!zl(Qn))return Os(Qn);var cr=[];for(var Dr in Object(Qn))Nr.call(Qn,Dr)&&Dr!="constructor"&&cr.push(Dr);return cr}function lu(Qn){var cr=Ul(Qn);return cr.length==1&&cr[0][2]?Sl(cr[0][0],cr[0][1]):function(Dr){return Dr===Qn||Fo(Dr,Qn,cr)}}function cu(Qn,cr){return mo(Qn)&&Wl(cr)?Sl(Uo(Qn),cr):function(Dr){var Gr=du(Dr,Qn);return Gr===void 0&&Gr===cr?xu(Dr,Qn):yo(cr,Gr,void 0,mn|hn)}}function yl(Qn){return function(cr){return ao(cr,Qn)}}function El(Qn){if(typeof Qn=="string")return Qn;if(Ys(Qn))return Mr?Mr.call(Qn):"";var cr=Qn+"";return cr=="0"&&1/Qn==-fn?"-0":cr}function uu(Qn,cr,Dr){var Gr=-1,vs=Cr,rs=Qn.length,Ns=!0,zs=[],Hs=zs;if(rs>=un){var na=cr?null:Bo(Qn);if(na)return ss(na);Ns=!1,vs=lr,Hs=new Ws}else Hs=cr?[]:zs;e:for(;++Gr<rs;){var Gs=Qn[Gr],Zs=cr?cr(Gs):Gs;if(Gs=Gs!==0?Gs:0,Ns&&Zs===Zs){for(var xa=Hs.length;xa--;)if(Hs[xa]===Zs)continue e;cr&&Hs.push(Zs),zs.push(Gs)}else vs(Hs,Zs,Dr)||(Hs!==zs&&Hs.push(Zs),zs.push(Gs))}return zs}function Bl(Qn){return Ur(Qn)?Qn:Gl(Qn)}var Bo=Qr&&1/ss(new Qr([,-0]))[1]==fn?function(Qn){return new Qr(Qn)}:Ju;function vo(Qn,cr,Dr,Gr,vs,rs){var Ns=vs&hn,zs=Qn.length,Hs=cr.length;if(zs!=Hs&&!(Ns&&Hs>zs))return!1;var na=rs.get(Qn);if(na&&rs.get(cr))return na==cr;var Gs=-1,Zs=!0,xa=vs&mn?new Ws:void 0;for(rs.set(Qn,cr),rs.set(cr,Qn);++Gs<zs;){var ho=Qn[Gs],fo=cr[Gs];if(Gr)var Vo=Ns?Gr(fo,ho,Gs,cr,Qn,rs):Gr(ho,fo,Gs,Qn,cr,rs);if(Vo!==void 0){if(Vo)continue;Zs=!1;break}if(xa){if(!Fr(cr,function(Po,wl){if(!xa.has(wl)&&(ho===Po||Dr(ho,Po,Gr,vs,rs)))return xa.add(wl)})){Zs=!1;break}}else if(!(ho===fo||Dr(ho,fo,Gr,vs,rs))){Zs=!1;break}}return rs.delete(Qn),rs.delete(cr),Zs}function No(Qn,cr,Dr,Gr,vs,rs,Ns){switch(Dr){case Pn:if(Qn.byteLength!=cr.byteLength||Qn.byteOffset!=cr.byteOffset)return!1;Qn=Qn.buffer,cr=cr.buffer;case kn:return!(Qn.byteLength!=cr.byteLength||!Gr(new $s(Qn),new $s(cr)));case vn:case En:case _n:return ir(+Qn,+cr);case bn:return Qn.name==cr.name&&Qn.message==cr.message;case An:case $n:return Qn==cr+"";case Rn:var zs=Hr;case Tn:var Hs=rs&hn;if(zs||(zs=ss),Qn.size!=cr.size&&!Hs)return!1;var na=Ns.get(Qn);if(na)return na==cr;rs|=mn,Ns.set(Qn,cr);var Gs=vo(zs(Qn),zs(cr),Gr,vs,rs,Ns);return Ns.delete(Qn),Gs;case Dn:if(jr)return jr.call(Qn)==jr.call(cr)}return!1}function Do(Qn,cr,Dr,Gr,vs,rs){var Ns=vs&hn,zs=Ru(Qn),Hs=zs.length,na=Ru(cr),Gs=na.length;if(Hs!=Gs&&!Ns)return!1;for(var Zs=Hs;Zs--;){var xa=zs[Zs];if(!(Ns?xa in cr:Nr.call(cr,xa)))return!1}var ho=rs.get(Qn);if(ho&&rs.get(cr))return ho==cr;var fo=!0;rs.set(Qn,cr),rs.set(cr,Qn);for(var Vo=Ns;++Zs<Hs;){xa=zs[Zs];var Po=Qn[xa],wl=cr[xa];if(Gr)var Iu=Ns?Gr(wl,Po,xa,cr,Qn,rs):Gr(Po,wl,xa,Qn,cr,rs);if(!(Iu===void 0?Po===wl||Dr(Po,wl,Gr,vs,rs):Iu)){fo=!1;break}Vo||(Vo=xa=="constructor")}if(fo&&!Vo){var yu=Qn.constructor,vu=cr.constructor;yu!=vu&&"constructor"in Qn&&"constructor"in cr&&!(typeof yu=="function"&&yu instanceof yu&&typeof vu=="function"&&vu instanceof vu)&&(fo=!1)}return rs.delete(Qn),rs.delete(cr),fo}function jo(Qn,cr){var Dr=Qn.__data__;return Hl(cr)?Dr[typeof cr=="string"?"string":"hash"]:Dr.map}function Ul(Qn){for(var cr=Ru(Qn),Dr=cr.length;Dr--;){var Gr=cr[Dr],vs=Qn[Gr];cr[Dr]=[Gr,vs,Wl(vs)]}return cr}function co(Qn,cr){var Dr=gr(Qn,cr);return iu(Dr)?Dr:void 0}var to=io;(Bs&&to(new Bs(new ArrayBuffer(1)))!=Pn||Ts&&to(new Ts)!=Rn||fs&&to(fs.resolve())!=Cn||Qr&&to(new Qr)!=Tn||Ls&&to(new Ls)!=Nn)&&(to=function(Qn){var cr=Yr.call(Qn),Dr=cr==jn?Qn.constructor:void 0,Gr=Dr?rr(Dr):void 0;if(Gr)switch(Gr){case ba:return Pn;case _i:return Rn;case eo:return Cn;case hr:return Tn;case Kn:return Nn}return cr});function po(Qn,cr,Dr){cr=mo(cr,Qn)?[cr]:Bl(cr);for(var Gr,vs=-1,Ns=cr.length;++vs<Ns;){var rs=Uo(cr[vs]);if(!(Gr=Qn!=null&&Dr(Qn,rs)))break;Qn=Qn[rs]}if(Gr)return Gr;var Ns=Qn?Qn.length:0;return!!Ns&&xs(Ns)&&ga(rs,Ns)&&(Ur(Qn)||wr(Qn))}function ga(Qn,cr){return cr=cr??gn,!!cr&&(typeof Qn=="number"||Er.test(Qn))&&Qn>-1&&Qn%1==0&&Qn<cr}function mo(Qn,cr){if(Ur(Qn))return!1;var Dr=typeof Qn;return Dr=="number"||Dr=="symbol"||Dr=="boolean"||Qn==null||Ys(Qn)?!0:Fn.test(Qn)||!Bn.test(Qn)||cr!=null&&Qn in Object(cr)}function Hl(Qn){var cr=typeof Qn;return cr=="string"||cr=="number"||cr=="symbol"||cr=="boolean"?Qn!=="__proto__":Qn===null}function Vl(Qn){return!!ms&&ms in Qn}function zl(Qn){var cr=Qn&&Qn.constructor,Dr=typeof cr=="function"&&cr.prototype||Ps;return Qn===Dr}function Wl(Qn){return Qn===Qn&&!bs(Qn)}function Sl(Qn,cr){return function(Dr){return Dr==null?!1:Dr[Qn]===cr&&(cr!==void 0||Qn in Object(Dr))}}var Gl=Yn(function(Qn){Qn=Ho(Qn);var cr=[];return Gn.test(Qn)&&cr.push(""),Qn.replace(qn,function(Dr,Gr,vs,rs){cr.push(vs?rs.replace(dr,"$1"):Gr||Dr)}),cr});function Uo(Qn){if(typeof Qn=="string"||Ys(Qn))return Qn;var cr=Qn+"";return cr=="0"&&1/Qn==-fn?"-0":cr}function rr(Qn){if(Qn!=null){try{return ks.call(Qn)}catch{}try{return Qn+""}catch{}}return""}function Sr(Qn,cr){return Qn&&Qn.length?uu(Qn,Ll(cr)):[]}function Yn(Qn,cr){if(typeof Qn!="function"||cr&&typeof cr!="function")throw new TypeError(dn);var Dr=function(){var Gr=arguments,vs=cr?cr.apply(this,Gr):Gr[0],rs=Dr.cache;if(rs.has(vs))return rs.get(vs);var Ns=Qn.apply(this,Gr);return Dr.cache=rs.set(vs,Ns),Ns};return Dr.cache=new(Yn.Cache||hs),Dr}Yn.Cache=hs;function ir(Qn,cr){return Qn===cr||Qn!==Qn&&cr!==cr}function wr(Qn){return Jr(Qn)&&Nr.call(Qn,"callee")&&(!as.call(Qn,"callee")||Yr.call(Qn)==xn)}var Ur=Array.isArray;function ns(Qn){return Qn!=null&&xs(Qn.length)&&!ds(Qn)}function Jr(Qn){return qs(Qn)&&ns(Qn)}function ds(Qn){var cr=bs(Qn)?Yr.call(Qn):"";return cr==wn||cr==Sn}function xs(Qn){return typeof Qn=="number"&&Qn>-1&&Qn%1==0&&Qn<=gn}function bs(Qn){var cr=typeof Qn;return!!Qn&&(cr=="object"||cr=="function")}function qs(Qn){return!!Qn&&typeof Qn=="object"}function Ys(Qn){return typeof Qn=="symbol"||qs(Qn)&&Yr.call(Qn)==Dn}var Eo=Zn?$r(Zn):ou;function Ho(Qn){return Qn==null?"":El(Qn)}function du(Qn,cr,Dr){var Gr=Qn==null?void 0:ao(Qn,cr);return Gr===void 0?Dr:Gr}function xu(Qn,cr){return Qn!=null&&po(Qn,cr,uo)}function Ru(Qn){return ns(Qn)?Ro(Qn):Fl(Qn)}function Xu(Qn){return Qn}function Ju(){}function _d(Qn){return mo(Qn)?pr(Uo(Qn)):yl(Qn)}tn.exports=Sr})(lodash_uniqby,lodash_uniqby.exports);var lodash_uniqbyExports=lodash_uniqby.exports;const uniqBy=getDefaultExportFromCjs(lodash_uniqbyExports),MAX_QUERY_CHANNELS_LIMIT=30;function findLastPinnedChannelIndex({channels:tn}){let sn=null;for(const un of tn){if(!isChannelPinned(un))break;typeof sn=="number"?sn++:sn=0}return sn}const moveChannelUpwards=({channels:tn,channelToMove:sn,channelToMoveIndexWithinChannels:un,sort:dn})=>{const pn=un??tn.findIndex(vn=>vn.cid===sn.cid),mn=pn>=0,hn=pn===0,fn=shouldConsiderPinnedChannels(dn),gn=isChannelPinned(sn);if(hn||fn&&gn)return tn;const xn=[...tn];mn&&xn.splice(pn,1);let yn=null;return fn&&(yn=findLastPinnedChannelIndex({channels:xn})),xn.splice(typeof yn=="number"?yn+1:0,0,sn),xn},shouldConsiderPinnedChannels=tn=>{const sn=extractSortValue({atIndex:0,sort:tn,targetKey:"pinned_at"});return typeof sn!="number"?!1:Math.abs(sn)===1},extractSortValue=({atIndex:tn,sort:sn,targetKey:un})=>{if(!sn)return null;let dn=null;if(Array.isArray(sn))dn=sn[tn]??null;else for(const pn in sn){if(pn!==un)return null;dn=sn;break}return(dn==null?void 0:dn[un])??null},shouldConsiderArchivedChannels=tn=>tn?typeof tn.archived=="boolean":!1,isChannelPinned=tn=>tn?typeof tn.state.membership.pinned_at=="string":!1,isChannelArchived=tn=>tn?typeof tn.state.membership.archived_at=="string":!1,DEFAULT_INITIAL_CHANNEL_PAGE_SIZE=25,DEFAULT_NEXT_CHANNEL_PAGE_SIZE=100,DEFAULT_JUMP_TO_PAGE_SIZE=100,DEFAULT_THREAD_PAGE_SIZE=50,DEFAULT_LOAD_PAGE_SCROLL_THRESHOLD=250,DEFAULT_HIGHLIGHT_DURATION=500,RECOVER_LOADED_CHANNELS_THROTTLE_INTERVAL_IN_MS=5e3,MIN_RECOVER_LOADED_CHANNELS_THROTTLE_INTERVAL_IN_MS=2e3,usePaginatedChannels=(tn,sn,un,dn,pn,mn=RECOVER_LOADED_CHANNELS_THROTTLE_INTERVAL_IN_MS,hn)=>{const{channelsQueryState:{error:fn,setError:gn,setQueryInProgress:xn}}=useChatContext("usePaginatedChannels"),[yn,vn]=reactExports.useState([]),[En,bn]=reactExports.useState(!0),wn=reactExports.useRef(void 0),Sn=mn<MIN_RECOVER_LOADED_CHANNELS_THROTTLE_INTERVAL_IN_MS?MIN_RECOVER_LOADED_CHANNELS_THROTTLE_INTERVAL_IN_MS:mn??RECOVER_LOADED_CHANNELS_THROTTLE_INTERVAL_IN_MS,Rn=reactExports.useMemo(()=>JSON.stringify(sn),[sn]),_n=reactExports.useMemo(()=>JSON.stringify(un),[un]),jn=async(Tn="load-more")=>{gn(null),Tn==="reload"&&vn([]),xn(Tn);try{if(hn)await hn({currentChannels:yn,queryType:Tn,setChannels:vn,setHasNextPage:bn});else{const $n=Tn==="reload"?0:yn.length,Dn={limit:(dn==null?void 0:dn.limit)??MAX_QUERY_CHANNELS_LIMIT,message_limit:(dn==null?void 0:dn.message_limit)??DEFAULT_INITIAL_CHANNEL_PAGE_SIZE,offset:$n,...dn},Nn=await tn.queryChannels(sn,un||{},Dn),kn=Tn==="reload"?Nn:uniqBy([...yn,...Nn],"cid");vn(kn),bn(Nn.length>=Dn.limit),!$n&&pn&&pn(kn,vn)}}catch($n){console.warn($n),gn($n)}xn(null)},Cn=reactExports.useCallback(()=>{const Tn=Date.now(),$n=!wn.current,Dn=wn.current?Tn-wn.current:0;!$n&&Dn<Sn&&!fn||(wn.current=Tn,jn("reload"))},[fn,jn,Sn]),An=()=>jn();return reactExports.useEffect(()=>{if(tn.recoverStateOnReconnect)return;const{unsubscribe:Tn}=tn.on("connection.recovered",Cn);return()=>{Tn()}},[tn,Cn]),reactExports.useEffect(()=>{jn("reload")},[Rn,_n]),{channels:yn,hasNextPage:En,loadNextPage:An,setChannels:vn}},shared=({customHandler:tn,event:sn,setChannels:un})=>{if(typeof tn=="function")return tn(un,sn);un(dn=>{const pn=dn.findIndex(mn=>mn.cid===sn.cid);return pn<0?dn:(dn.splice(pn,1),[...dn])})},useChannelListShapeDefaults=()=>{const{client:tn}=useChatContext(),sn=reactExports.useCallback(({allowNewMessagesFromUnfilteredChannels:En,customHandler:bn,event:wn,filters:Sn,lockChannelOrder:Rn,setChannels:_n,sort:jn})=>{if(typeof bn=="function")return bn(_n,wn);const Cn=wn.channel_type,An=wn.channel_id;!Cn||!An||_n(Tn=>{const $n=tn.channel(Cn,An),Dn=Tn.indexOf($n),Nn=Dn>=0,kn=isChannelPinned($n),Pn=isChannelArchived($n),Mn=shouldConsiderArchivedChannels(Sn),On=shouldConsiderPinnedChannels(jn);return Mn&&Pn&&!Sn.archived||Mn&&!Pn&&Sn.archived||On&&kn||Rn||!Nn&&!En?Tn:moveChannelUpwards({channels:Tn,channelToMove:$n,channelToMoveIndexWithinChannels:Dn,sort:jn})})},[tn]),un=reactExports.useCallback(async({allowNewMessagesFromUnfilteredChannels:En,customHandler:bn,event:wn,filters:Sn,setChannels:Rn,sort:_n})=>{if(typeof bn=="function")return bn(Rn,wn);if(!wn.channel)return;const jn=await getChannel({client:tn,id:wn.channel.id,type:wn.channel.type}),Cn=shouldConsiderArchivedChannels(Sn);isChannelArchived(jn)&&Cn&&!Sn.archived||En&&Rn(An=>moveChannelUpwards({channels:An,channelToMove:jn,sort:_n}))},[tn]),dn=reactExports.useCallback(async({allowNewMessagesFromUnfilteredChannels:En,customHandler:bn,event:wn,setChannels:Sn,sort:Rn})=>{var jn;if(typeof bn=="function")return bn(Sn,wn);if(!wn.channel||!En)return;const _n=await getChannel({client:tn,id:wn.channel.id,members:(jn=wn.channel.members)==null?void 0:jn.reduce((Cn,{user:An,user_id:Tn})=>{const $n=Tn||(An==null?void 0:An.id);return $n&&Cn.push($n),Cn},[]),type:wn.channel.type});Sn(Cn=>moveChannelUpwards({channels:Cn,channelToMove:_n,sort:Rn}))},[tn]),pn=reactExports.useCallback(({customHandler:En,event:bn,setChannels:wn})=>{if(typeof En=="function")return En(wn,bn);wn(Sn=>Sn.filter(Rn=>{var _n;return Rn.cid!==((_n=bn.channel)==null?void 0:_n.cid)}))},[]),mn=reactExports.useCallback(({event:En,filters:bn,lockChannelOrder:wn,setChannels:Sn,sort:Rn})=>{var $n;if(!(($n=En.member)!=null&&$n.user)||En.member.user.id!==tn.userID||!En.channel_type)return;const _n=En.channel_type,jn=En.channel_id,Cn=shouldConsiderPinnedChannels(Rn),An=shouldConsiderArchivedChannels(bn);if(!Cn&&!An||wn)return;const Tn=extractSortValue({atIndex:0,sort:Rn,targetKey:"pinned_at"});Sn(Dn=>{const Nn=tn.channel(_n,jn),kn=Dn.indexOf(Nn),Pn=kn>=0,Mn=isChannelArchived(Nn),On=isChannelPinned(Nn),Wn=[...Dn];if(Pn&&Wn.splice(kn,1),An&&Mn&&!bn.archived||An&&!Mn&&bn.archived)return Wn;let In=null;(Tn===1||Tn===-1&&!On)&&(In=findLastPinnedChannelIndex({channels:Wn}));const Un=typeof In=="number"?In+1:0;return Dn[Un]===Nn?Dn:(Wn.splice(Un,0,Nn),Wn)})},[tn]),hn=reactExports.useCallback(En=>shared(En),[]),fn=reactExports.useCallback(En=>shared(En),[]),gn=reactExports.useCallback(async({customHandler:En,event:bn,filters:wn,setChannels:Sn,sort:Rn})=>{if(typeof En=="function")return En(Sn,bn);if(!bn.channel_id&&!bn.channel_type)return;const _n=await getChannel({client:tn,id:bn.channel_id,type:bn.channel_type}),jn=shouldConsiderArchivedChannels(wn);isChannelArchived(_n)&&jn&&!wn.archived||Sn(Cn=>moveChannelUpwards({channels:Cn,channelToMove:_n,sort:Rn}))},[tn]),xn=reactExports.useCallback(({customHandler:En,event:bn,setChannels:wn})=>{if(typeof En=="function")return En(wn,bn);wn(Sn=>[...Sn])},[]),yn=reactExports.useCallback(({customHandler:En,event:bn,setChannels:wn})=>{if(typeof En=="function")return En(wn,bn);wn(Sn=>{var _n,jn,Cn,An;const Rn=Sn.findIndex(Tn=>{var $n;return Tn.cid===(($n=bn.channel)==null?void 0:$n.cid)});if(Rn>-1&&bn.channel){const Tn=Sn;return Tn[Rn].data={...bn.channel,hidden:((_n=bn.channel)==null?void 0:_n.hidden)??((jn=Tn[Rn].data)==null?void 0:jn.hidden),own_capabilities:((Cn=bn.channel)==null?void 0:Cn.own_capabilities)??((An=Tn[Rn].data)==null?void 0:An.own_capabilities)},[...Tn]}return Sn})},[]),vn=reactExports.useCallback(({event:En,setChannels:bn})=>{bn(wn=>wn.map(Rn=>{var jn;if(!((jn=En.user)!=null&&jn.id)||!Rn.state.members[En.user.id])return Rn;const _n=Rn;return _n.state.members[En.user.id].user=En.user,_n}))},[]);return reactExports.useMemo(()=>({handleChannelDeleted:hn,handleChannelHidden:fn,handleChannelTruncated:xn,handleChannelUpdated:yn,handleChannelVisible:gn,handleMemberUpdated:mn,handleMessageNew:sn,handleNotificationAddedToChannel:dn,handleNotificationMessageNew:un,handleNotificationRemovedFromChannel:pn,handleUserPresenceChanged:vn}),[hn,fn,xn,yn,gn,mn,sn,dn,un,pn,vn])},usePrepareShapeHandlers=({allowNewMessagesFromUnfilteredChannels:tn,customHandleChannelListShape:sn,filters:un,lockChannelOrder:dn,onAddedToChannel:pn,onChannelDeleted:mn,onChannelHidden:hn,onChannelTruncated:fn,onChannelUpdated:gn,onChannelVisible:xn,onMessageNew:yn,onMessageNewHandler:vn,onRemovedFromChannel:En,setChannels:bn,sort:wn})=>{const Sn=useChannelListShapeDefaults(),Rn=reactExports.useRef(void 0),_n=reactExports.useRef(void 0);_n.current=An=>{sn==null||sn({defaults:Sn,event:An,setChannels:bn})},Rn.current=An=>{switch(An.type){case"message.new":Sn.handleMessageNew({allowNewMessagesFromUnfilteredChannels:tn,customHandler:vn,event:An,filters:un,lockChannelOrder:dn,setChannels:bn,sort:wn});break;case"notification.message_new":Sn.handleNotificationMessageNew({allowNewMessagesFromUnfilteredChannels:tn,customHandler:yn,event:An,filters:un,lockChannelOrder:dn,setChannels:bn,sort:wn});break;case"notification.added_to_channel":Sn.handleNotificationAddedToChannel({allowNewMessagesFromUnfilteredChannels:tn,customHandler:pn,event:An,lockChannelOrder:dn,setChannels:bn,sort:wn});break;case"notification.removed_from_channel":Sn.handleNotificationRemovedFromChannel({customHandler:En,event:An,setChannels:bn});break;case"channel.deleted":Sn.handleChannelDeleted({customHandler:mn,event:An,setChannels:bn});break;case"channel.hidden":Sn.handleChannelHidden({customHandler:hn,event:An,setChannels:bn});break;case"channel.visible":Sn.handleChannelVisible({customHandler:xn,event:An,filters:un,setChannels:bn,sort:wn});break;case"channel.truncated":Sn.handleChannelTruncated({customHandler:fn,event:An,setChannels:bn});break;case"channel.updated":Sn.handleChannelUpdated({customHandler:gn,event:An,setChannels:bn});break;case"user.presence.changed":Sn.handleUserPresenceChanged({event:An,setChannels:bn});break;case"member.updated":Sn.handleMemberUpdated({event:An,filters:un,lockChannelOrder:dn,setChannels:bn,sort:wn});break}};const jn=reactExports.useCallback(An=>{var Tn;(Tn=Rn.current)==null||Tn.call(Rn,An)},[]);return{customHandler:reactExports.useMemo(()=>sn?An=>{var Tn;(Tn=_n.current)==null||Tn.call(_n,An)}:null,[sn]),defaultHandler:jn}},useChannelListShape=tn=>{const{client:sn}=useChatContext();reactExports.useEffect(()=>sn.on("all",tn).unsubscribe,[sn,tn])},LoadingItems=()=>React$1.createElement("div",{className:"str-chat__loading-channels-item str-chat__channel-preview-loading"},React$1.createElement("div",{className:"str-chat__loading-channels-avatar"}),React$1.createElement("div",{className:"str-chat__loading-channels-meta str-chat__channel-preview-end-loading"},React$1.createElement("div",{className:"str-chat__loading-channels-username"}),React$1.createElement("div",{className:"str-chat__loading-channels-status"}))),UnMemoizedLoadingChannels=()=>React$1.createElement("div",{className:"str-chat__loading-channels"},React$1.createElement(LoadingItems,null),React$1.createElement(LoadingItems,null),React$1.createElement(LoadingItems,null)),LoadingChannels=React$1.memo(UnMemoizedLoadingChannels),NullComponent=()=>null;class ErrorBoundary extends reactExports.Component{constructor(sn){super(sn),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(sn,un){console.error(sn,un)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const ChannelListMessenger=tn=>{const{children:sn,error:un=null,loading:dn,LoadingErrorIndicator:pn=NullComponent,LoadingIndicator:mn=LoadingChannels}=tn,{t:hn}=useTranslationContext("ChannelListMessenger");return un?React$1.createElement(pn,{error:un}):dn?React$1.createElement(mn,null):React$1.createElement("div",{className:"str-chat__channel-list-messenger str-chat__channel-list-messenger-react"},React$1.createElement("div",{"aria-label":hn("aria/Channel list"),className:"str-chat__channel-list-messenger__main str-chat__channel-list-messenger-react__main",role:"listbox"},sn))};var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$3=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root$3.Date.now()};function debounce$1(tn,sn,un){var dn,pn,mn,hn,fn,gn,xn=0,yn=!1,vn=!1,En=!0;if(typeof tn!="function")throw new TypeError(FUNC_ERROR_TEXT);sn=toNumber(sn)||0,isObject$1(un)&&(yn=!!un.leading,vn="maxWait"in un,mn=vn?nativeMax(toNumber(un.maxWait)||0,sn):mn,En="trailing"in un?!!un.trailing:En);function bn($n){var Dn=dn,Nn=pn;return dn=pn=void 0,xn=$n,hn=tn.apply(Nn,Dn),hn}function wn($n){return xn=$n,fn=setTimeout(_n,sn),yn?bn($n):hn}function Sn($n){var Dn=$n-gn,Nn=$n-xn,kn=sn-Dn;return vn?nativeMin(kn,mn-Nn):kn}function Rn($n){var Dn=$n-gn,Nn=$n-xn;return gn===void 0||Dn>=sn||Dn<0||vn&&Nn>=mn}function _n(){var $n=now();if(Rn($n))return jn($n);fn=setTimeout(_n,Sn($n))}function jn($n){return fn=void 0,En&&dn?bn($n):(dn=pn=void 0,hn)}function Cn(){fn!==void 0&&clearTimeout(fn),xn=0,dn=gn=pn=fn=void 0}function An(){return fn===void 0?hn:jn(now())}function Tn(){var $n=now(),Dn=Rn($n);if(dn=arguments,pn=this,gn=$n,Dn){if(fn===void 0)return wn(gn);if(vn)return fn=setTimeout(_n,sn),bn(gn)}return fn===void 0&&(fn=setTimeout(_n,sn)),hn}return Tn.cancel=Cn,Tn.flush=An,Tn}function isObject$1(tn){var sn=typeof tn;return!!tn&&(sn=="object"||sn=="function")}function isObjectLike(tn){return!!tn&&typeof tn=="object"}function isSymbol(tn){return typeof tn=="symbol"||isObjectLike(tn)&&objectToString.call(tn)==symbolTag}function toNumber(tn){if(typeof tn=="number")return tn;if(isSymbol(tn))return NAN;if(isObject$1(tn)){var sn=typeof tn.valueOf=="function"?tn.valueOf():tn;tn=isObject$1(sn)?sn+"":sn}if(typeof tn!="string")return tn===0?tn:+tn;tn=tn.replace(reTrim,"");var un=reIsBinary.test(tn);return un||reIsOctal.test(tn)?freeParseInt(tn.slice(2),un?2:8):reIsBadHex.test(tn)?NAN:+tn}var lodash_debounce=debounce$1;const debounce$2=getDefaultExportFromCjs(lodash_debounce),isChannel=tn=>tn.cid!=null,useChannelSearch=({channelType:tn="messaging",clearSearchOnClickOutside:sn=!0,disabled:un=!1,onSearch:dn,onSearchExit:pn,onSelectResult:mn,searchDebounceIntervalMs:hn=300,searchForChannels:fn=!1,searchForUsers:gn=!0,searchFunction:xn,searchQueryParams:yn,setChannels:vn})=>{const{client:En,setActiveChannel:bn}=useChatContext("useChannelSearch"),[wn,Sn]=reactExports.useState(!1),[Rn,_n]=reactExports.useState(""),[jn,Cn]=reactExports.useState([]),[An,Tn]=reactExports.useState(!1),$n=reactExports.useRef(!1),Dn=reactExports.useRef(!1),Nn=reactExports.useRef(null),kn=reactExports.useRef(null),Pn=reactExports.useCallback(()=>{_n(""),Cn([]),Tn(!1),Dn.current=$n.current},[]),Mn=reactExports.useCallback(()=>{Sn(!0)},[]),On=reactExports.useCallback(()=>{var Hn;Sn(!1),(Hn=Nn.current)==null||Hn.blur(),Pn(),pn==null||pn()},[Pn,pn]);reactExports.useEffect(()=>{if(un)return;const Hn=Ln=>{var Bn;!(Ln.target instanceof HTMLElement)||(Bn=kn.current)!=null&&Bn.contains(Ln.target)||(wn&&!Rn||sn)&&On()};return document.addEventListener("click",Hn),()=>document.removeEventListener("click",Hn)},[un,wn,Rn,On,sn]),reactExports.useEffect(()=>{if(!Nn.current||un)return;const Hn=Ln=>{if(Ln.key==="Escape")return On()};return Nn.current.addEventListener("keydown",Hn),()=>{var Ln;(Ln=Nn.current)==null||Ln.removeEventListener("keydown",Hn)}},[un]);const Wn=reactExports.useCallback(async Hn=>{if(!En.userID)return;if(mn){await mn({setQuery:_n,setResults:Cn,setSearching:Tn},Hn);return}let Ln;if(isChannel(Hn))bn(Hn),Ln=Hn;else{const zn=En.channel(tn,{members:[En.userID,Hn.id]});await zn.watch(),bn(zn),Ln=zn}vn==null||vn(zn=>uniqBy([Ln,...zn],"cid")),sn&&On()},[sn,En,On,mn,bn,vn]),In=reactExports.useCallback(async Hn=>{var Bn,Fn,Gn,qn,Jn,dr;if(!fn&&!gn)return;let Ln=[];const zn=[];try{if(fn&&zn.push(En.queryChannels({members:{$in:[En.userID]},name:{$autocomplete:Hn},...(Bn=yn==null?void 0:yn.channelFilters)==null?void 0:Bn.filters},((Fn=yn==null?void 0:yn.channelFilters)==null?void 0:Fn.sort)||{},{limit:5,...(Gn=yn==null?void 0:yn.channelFilters)==null?void 0:Gn.options})),gn&&zn.push(En.queryUsers({$or:[{id:{$autocomplete:Hn}},{name:{$autocomplete:Hn}}],...(qn=yn==null?void 0:yn.userFilters)==null?void 0:qn.filters},{id:1,...(Jn=yn==null?void 0:yn.userFilters)==null?void 0:Jn.sort},{limit:8,...(dr=yn==null?void 0:yn.userFilters)==null?void 0:dr.options})),zn.length){$n.current=!0;const br=await Promise.all(zn);if(fn&&gn){const[Er,{users:yr}]=br;Ln=[...Er,...yr.filter(xr=>{var vr;return xr.id!==((vr=En.user)==null?void 0:vr.id)})]}else if(fn){const[Er]=br;Ln=[...Er]}else if(gn){const[{users:Er}]=br;Ln=[...Er.filter(yr=>{var xr;return yr.id!==((xr=En.user)==null?void 0:xr.id)})]}}}catch(br){console.error(br)}Tn(!1),Dn.current?Dn.current=!1:Cn(Ln),$n.current=!1},[En,fn,gn,yn]),Un=reactExports.useCallback(debounce$2(In,hn),[In,hn]),Vn=reactExports.useCallback(Hn=>{if(Hn.preventDefault(),!un){if(xn)xn({setQuery:_n,setResults:Cn,setSearching:Tn},Hn);else{if(!fn&&!gn)return;Hn.target.value?(Tn(!0),_n(Hn.target.value),Un(Hn.target.value)):Hn.target.value||(Pn(),Un.cancel())}dn==null||dn(Hn)}},[Pn,un,Un,dn,fn,gn,xn]);return{activateSearch:Mn,clearState:Pn,exitSearch:On,inputIsFocused:wn,inputRef:Nn,onSearch:Vn,query:Rn,results:jn,searchBarRef:kn,searching:An,selectResult:Wn}},MenuIcon$1=()=>React$1.createElement("svg",{"data-testid":"menu-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{clipRule:"evenodd",d:"M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z",fill:"black",fillRule:"evenodd"})),ReturnIcon=()=>React$1.createElement("svg",{"data-testid":"return-icon",fill:"none",height:"20",viewBox:"0 0 22 22",width:"20",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M21.6668 9.66666V12.3333H5.6529L12.9932 19.6736L11.1076 21.5592L0.54834 11L11.1076 0.440765L12.9932 2.32638L5.6529 9.66666H21.6668Z",fill:"#080707"})),XIcon=()=>React$1.createElement("svg",{fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"#747881"})),SearchIcon=({className:tn})=>React$1.createElement("svg",{className:tn,fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z",fill:"#747881"})),SearchInput=tn=>{const{disabled:sn,inputRef:un,onSearch:dn,placeholder:pn,query:mn}=tn,{t:hn}=useTranslationContext("SearchInput");return React$1.createElement("input",{className:"str-chat__channel-search-input","data-testid":"search-input",disabled:sn,onChange:dn,placeholder:pn??hn("Search"),ref:un,type:"text",value:mn})},SearchBarButton=({children:tn,className:sn,onClick:un})=>React$1.createElement("button",{className:clsx("str-chat__channel-search-bar-button",sn),"data-testid":"search-bar-button",onClick:un},tn),SearchBar=tn=>{const{activateSearch:sn,AppMenu:un,ClearInputIcon:dn=XIcon,exitSearch:pn,ExitSearchIcon:mn=ReturnIcon,inputIsFocused:hn,MenuIcon:fn=MenuIcon$1,searchBarRef:gn,SearchInput:xn=SearchInput,SearchInputIcon:yn=SearchIcon,...vn}=tn,[En,bn]=reactExports.useState(!1),wn=reactExports.useRef(null);reactExports.useEffect(()=>{if(!wn.current)return;const _n=Cn=>{En&&Cn.key==="Escape"&&bn(!1)},jn=Cn=>{var An;!(Cn.target instanceof HTMLElement)||!En||(An=wn.current)!=null&&An.contains(Cn.target)||bn(!1)};return document.addEventListener("keydown",_n),document.addEventListener("click",jn),()=>{document.removeEventListener("keydown",_n),document.removeEventListener("click",jn)}},[En]),reactExports.useEffect(()=>{if(!tn.inputRef.current)return;const _n=tn.inputRef.current,jn=()=>{sn()},Cn=An=>{An.stopPropagation()};return _n.addEventListener("focus",jn),_n.addEventListener("blur",Cn),()=>{_n.removeEventListener("focus",jn),_n.removeEventListener("blur",Cn)}},[sn,tn.inputRef]);const Sn=reactExports.useCallback(()=>{var _n;pn(),(_n=vn.inputRef.current)==null||_n.focus()},[pn,vn.inputRef]),Rn=reactExports.useCallback(()=>bn(!1),[]);return React$1.createElement("div",{className:"str-chat__channel-search-bar","data-testid":"search-bar",ref:gn},hn?React$1.createElement(SearchBarButton,{className:"str-chat__channel-search-bar-button--exit-search",onClick:pn},React$1.createElement(mn,null)):un?React$1.createElement(SearchBarButton,{className:"str-chat__channel-search-bar-button--menu",onClick:()=>bn(_n=>!_n)},React$1.createElement(fn,null)):null,React$1.createElement("div",{className:clsx("str-chat__channel-search-input--wrapper",vn.query&&"str-chat__channel-search-input--wrapper-active")},React$1.createElement("div",{className:"str-chat__channel-search-input--icon"},React$1.createElement(yn,null)),React$1.createElement(xn,{...vn}),React$1.createElement("button",{className:"str-chat__channel-search-input--clear-button","data-testid":"clear-input-button",disabled:!vn.query,onClick:Sn},React$1.createElement(dn,null))),En&&un&&React$1.createElement("div",{ref:wn},React$1.createElement(un,{close:Rn})))},DefaultSearchEmpty=()=>{const{t:tn}=useTranslationContext("SearchResults");return React$1.createElement("div",{"aria-live":"polite",className:"str-chat__channel-search-container-empty"},React$1.createElement(SearchIcon,null),tn("No results found"))},DefaultSearchResultsHeader=({results:tn})=>{const{t:sn}=useTranslationContext("SearchResultsHeader");return React$1.createElement("div",{className:"str-chat__channel-search-results-header","data-testid":"channel-search-results-header"},sn("searchResultsCount",{count:tn.length}))},DefaultSearchResultsList=tn=>{const{focusedUser:sn,results:un,SearchResultItem:dn,selectResult:pn}=tn;return React$1.createElement(React$1.Fragment,null,un.map((mn,hn)=>React$1.createElement(dn,{focusedUser:sn,index:hn,key:hn,result:mn,selectResult:pn})))},DefaultSearchResultItem=tn=>{const{focusedUser:sn,index:un,result:dn,selectResult:pn}=tn,hn=clsx("str-chat__channel-search-result",sn===un&&"str-chat__channel-search-result--focused");if(isChannel(dn)){const fn=dn;return React$1.createElement(ChannelPreview,{channel:fn,className:hn,onSelect:()=>pn(fn)})}else return React$1.createElement("button",{"aria-label":`Select User Channel: ${dn.name||""}`,className:hn,"data-testid":"channel-search-result-user",onClick:()=>pn(dn),role:"option"},React$1.createElement(Avatar,{className:"str-chat__avatar--channel-preview",image:dn.image,name:dn.name||dn.id,user:dn}),React$1.createElement("div",{className:"str-chat__channel-search-result--display-name"},dn.name||dn.id))},ResultsContainer=({children:tn,popupResults:sn})=>{const{t:un}=useTranslationContext("ResultsContainer");return React$1.createElement("div",{"aria-label":un("aria/Channel search results"),className:clsx("str-chat__channel-search-result-list",sn?"popup":"inline")},tn)},SearchResults=tn=>{const{popupResults:sn,results:un,SearchEmpty:dn=DefaultSearchEmpty,searching:pn,SearchLoading:mn,SearchResultItem:hn=DefaultSearchResultItem,SearchResultsHeader:fn=DefaultSearchResultsHeader,SearchResultsList:gn=DefaultSearchResultsList,selectResult:xn}=tn,{t:yn}=useTranslationContext("SearchResults"),[vn,En]=reactExports.useState(),bn=reactExports.useCallback(wn=>{wn.key==="ArrowUp"&&En(Sn=>Sn===void 0?0:Sn===0?un.length-1:Sn-1),wn.key==="ArrowDown"&&En(Sn=>Sn===void 0||Sn===un.length-1?0:Sn+1),wn.key==="Enter"&&(wn.preventDefault(),En(Sn=>{if(typeof Sn<"u"){xn(un[Sn]);return}return Sn}))},[un,xn]);return reactExports.useEffect(()=>(document.addEventListener("keydown",bn,!1),()=>document.removeEventListener("keydown",bn)),[bn]),pn?React$1.createElement(ResultsContainer,{popupResults:sn},mn?React$1.createElement(mn,null):React$1.createElement("div",{className:"str-chat__channel-search-container-searching","data-testid":"search-in-progress-indicator"},yn("Searching..."))):un.length?React$1.createElement(ResultsContainer,{popupResults:sn},React$1.createElement(fn,{results:un}),React$1.createElement(gn,{focusedUser:vn,results:un,SearchResultItem:hn,selectResult:xn})):React$1.createElement(ResultsContainer,{popupResults:sn},React$1.createElement(dn,null))},UnMemoizedChannelSearch=tn=>{const{AppMenu:sn,ClearInputIcon:un,ExitSearchIcon:dn,MenuIcon:pn,placeholder:mn,popupResults:hn=!1,SearchBar:fn=SearchBar,SearchEmpty:gn,SearchInput:xn=SearchInput,SearchInputIcon:yn,SearchLoading:vn,SearchResultItem:En,SearchResultsHeader:bn,SearchResultsList:wn,...Sn}=tn,{activateSearch:Rn,clearState:_n,exitSearch:jn,inputIsFocused:Cn,inputRef:An,onSearch:Tn,query:$n,results:Dn,searchBarRef:Nn,searching:kn,selectResult:Pn}=useChannelSearch(Sn);return React$1.createElement("div",{className:clsx("str-chat__channel-search",hn?"str-chat__channel-search--popup":"str-chat__channel-search--inline",{"str-chat__channel-search--with-results":Dn.length>0}),"data-testid":"channel-search"},React$1.createElement(fn,{activateSearch:Rn,AppMenu:sn,ClearInputIcon:un,clearState:_n,disabled:Sn.disabled,exitSearch:jn,ExitSearchIcon:dn,inputIsFocused:Cn,inputRef:An,MenuIcon:pn,onSearch:Tn,placeholder:mn,query:$n,searchBarRef:Nn,SearchInput:xn,SearchInputIcon:yn}),$n&&React$1.createElement(SearchResults,{popupResults:hn,results:Dn,SearchEmpty:gn,searching:kn,SearchLoading:vn,SearchResultItem:En,SearchResultsHeader:bn,SearchResultsList:wn,selectResult:Pn}))},ChannelSearch=React$1.memo(UnMemoizedChannelSearch),ChatBubble=()=>React$1.createElement("svg",{"data-testid":"chat-bubble",fill:"none",height:"96",viewBox:"0 0 136 136",width:"96",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M106 24.5H30C24.775 24.5 20.5 28.775 20.5 34V119.5L39.5 100.5H106C111.225 100.5 115.5 96.225 115.5 91V34C115.5 28.775 111.225 24.5 106 24.5ZM106 91H39.5L30 100.5V34H106V91Z",fill:"#B4B7BB"})),UnMemoizedEmptyStateIndicator=tn=>{const{listType:sn}=tn,{t:un}=useTranslationContext("EmptyStateIndicator");if(sn==="thread")return null;if(sn==="channel"){const dn=un("You have no channels currently");return React$1.createElement(React$1.Fragment,null,React$1.createElement("div",{className:"str-chat__channel-list-empty"},React$1.createElement(ChatBubble,null),React$1.createElement("p",{role:"listitem"},dn)))}if(sn==="message"){const dn=un("No chats here yet…");return React$1.createElement("div",{className:"str-chat__empty-channel"},React$1.createElement(ChatBubble,null),React$1.createElement("p",{className:"str-chat__empty-channel-text",role:"listitem"},dn))}return React$1.createElement("p",null,"No items exist")},EmptyStateIndicator=React$1.memo(UnMemoizedEmptyStateIndicator),UnMemoizedLoadingErrorIndicator=({error:tn})=>{const{t:sn}=useTranslationContext("LoadingErrorIndicator");return tn?React$1.createElement("div",null,sn("Error: {{ errorMessage }}",{errorMessage:tn.message})):null},LoadingErrorIndicator=React$1.memo(UnMemoizedLoadingErrorIndicator,(tn,sn)=>{var un,dn;return((un=tn.error)==null?void 0:un.message)===((dn=sn.error)==null?void 0:dn.message)}),UnMemoizedLoadingIndicator=tn=>{const{color:sn="#006CFF",size:un=15}=tn;return React$1.createElement("div",{className:"str-chat__loading-indicator","data-testid":"loading-indicator-wrapper",style:{height:un,width:un}},React$1.createElement("svg",{height:un,viewBox:"0 0 30 30",width:un,xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("defs",null,React$1.createElement("linearGradient",{id:"a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},React$1.createElement("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0"}),React$1.createElement("stop",{"data-testid":"loading-indicator-circle",offset:"100%",stopColor:sn,stopOpacity:"1",style:{stopColor:sn}}))),React$1.createElement("path",{d:"M2.518 23.321l1.664-1.11A12.988 12.988 0 0 0 15 28c7.18 0 13-5.82 13-13S22.18 2 15 2V0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-5.206 0-9.792-2.652-12.482-6.679z",fill:"url(#a)",fillRule:"evenodd"})))},LoadingIndicator=React$1.memo(UnMemoizedLoadingIndicator,(tn,sn)=>tn.color===sn.color&&tn.size===sn.size),deprecationAndReplacementWarning=(tn,sn)=>{tn.forEach(un=>{const[[dn,pn],[mn,hn]]=[Object.entries(un[0])[0],Object.entries(un[1])[0]];(typeof pn<"u"&&typeof hn>"u"||typeof pn<"u"&&typeof hn<"u")&&console.warn(`[Deprecation notice (${sn})]: prefer using prop ${mn} instead of ${dn}`)})},UnMemoizedLoadMoreButton=({children:tn,isLoading:sn,onClick:un,refreshing:dn})=>{const{t:pn}=useTranslationContext("UnMemoizedLoadMoreButton"),mn=tn??pn("Load more"),hn=typeof sn<"u"?sn:dn;return reactExports.useEffect(()=>{deprecationAndReplacementWarning([[{refreshing:dn},{isLoading:sn}]],"LoadMoreButton")},[]),React$1.createElement("div",{className:"str-chat__load-more-button"},React$1.createElement("button",{"aria-label":pn("aria/Load More Channels"),className:"str-chat__load-more-button__button str-chat__cta-button","data-testid":"load-more-button",disabled:hn,onClick:un},hn?React$1.createElement(LoadingIndicator,null):mn))},LoadMoreButton=React$1.memo(UnMemoizedLoadMoreButton),UnMemoizedLoadMorePaginator=tn=>{const{children:sn,hasNextPage:un,isLoading:dn,LoadMoreButton:pn=LoadMoreButton,loadNextPage:mn,refreshing:hn,reverse:fn}=tn,gn=typeof dn<"u"?dn:hn;return reactExports.useEffect(()=>{deprecationAndReplacementWarning([[{refreshing:hn},{isLoading:dn}]],"LoadMorePaginator")},[]),React$1.createElement(React$1.Fragment,null,!fn&&sn,un&&React$1.createElement(pn,{isLoading:gn,onClick:mn}),fn&&sn)},LoadMorePaginator=React$1.memo(UnMemoizedLoadMorePaginator),DEFAULT_FILTERS={},DEFAULT_OPTIONS$1={},DEFAULT_SORT={},searchControllerStateSelector$1=tn=>({searchIsActive:tn.isActive}),UnMemoizedChannelList=tn=>{const{additionalChannelSearchProps:sn,allowNewMessagesFromUnfilteredChannels:un=!0,Avatar:dn=Avatar,channelRenderFilterFn:pn,ChannelSearch:mn=ChannelSearch,customActiveChannel:hn,customQueryChannels:fn,EmptyStateIndicator:gn=EmptyStateIndicator,filters:xn={},getLatestMessagePreview:yn,List:vn=ChannelListMessenger,LoadingErrorIndicator:En=NullComponent,LoadingIndicator:bn=LoadingChannels,lockChannelOrder:wn=!1,onAddedToChannel:Sn,onChannelDeleted:Rn,onChannelHidden:_n,onChannelTruncated:jn,onChannelUpdated:Cn,onChannelVisible:An,onMessageNew:Tn,onMessageNewHandler:$n,onRemovedFromChannel:Dn,options:Nn,Paginator:kn=LoadMorePaginator,Preview:Pn,recoveryThrottleIntervalMs:Mn,renderChannels:On,sendChannelsToList:Wn=!1,setActiveChannelOnMount:In=!0,showChannelSearch:Un=!1,sort:Vn=DEFAULT_SORT,watchers:Hn={}}=tn,{channel:Ln,channelsQueryState:zn,client:Bn,closeMobileNav:Fn,customClasses:Gn,navOpen:qn=!1,searchController:Jn,setActiveChannel:dr,theme:br,useImageFlagEmojisOnWindows:Er}=useChatContext("ChannelList"),{Search:yr}=useComponentContext(),xr=reactExports.useRef(null),[vr,nr]=reactExports.useState(0),[sr,Rr]=reactExports.useState(!1),{searchIsActive:Ar}=useStateStore(Jn.state,searchControllerStateSelector$1),Lr=async(Vr,ss)=>{if(!(!Vr.length||Vr.length>((Nn==null?void 0:Nn.limit)||MAX_QUERY_CHANNELS_LIMIT))){if(hn){let Rs=Vr.find(Cs=>Cs.id===hn);if(Rs||([Rs]=await Bn.queryChannels({id:hn})),Rs){dr(Rs,Hn);const Cs=moveChannelUpwards({channels:Vr,channelToMove:Rs,sort:Vn});ss(Cs)}return}In&&dr(Vr[0],Hn)}},Or=reactExports.useCallback(()=>nr(Vr=>Vr+1),[]),Zn=reactExports.useCallback(Vr=>{var ss;Rr(!!Vr.target.value),(ss=sn==null?void 0:sn.onSearch)==null||ss.call(sn,Vr)},[sn]),Cr=reactExports.useCallback(()=>{var Vr;Rr(!1),(Vr=sn==null?void 0:sn.onSearchExit)==null||Vr.call(sn)},[sn]),{channels:Fr,hasNextPage:Pr,loadNextPage:Br,setChannels:ar}=usePaginatedChannels(Bn,xn||DEFAULT_FILTERS,Vn||DEFAULT_SORT,Nn||DEFAULT_OPTIONS$1,Lr,Mn,fn),pr=pn?pn(Fr):Fr;useMobileNavigation(xr,qn,Fn);const{customHandler:Xn,defaultHandler:$r}=usePrepareShapeHandlers({allowNewMessagesFromUnfilteredChannels:un,filters:xn,lockChannelOrder:wn,onAddedToChannel:Sn,onChannelDeleted:Rn,onChannelHidden:_n,onChannelTruncated:jn,onChannelUpdated:Cn,onChannelVisible:An,onMessageNew:Tn,onMessageNewHandler:$n,onRemovedFromChannel:Dn,setChannels:ar,sort:Vn});useChannelListShape(Xn??$r),useConnectionRecoveredListener(Or),reactExports.useEffect(()=>{const Vr=ss=>{ss.cid===(Ln==null?void 0:Ln.cid)&&dr()};return Bn.on("channel.deleted",Vr),Bn.on("channel.hidden",Vr),()=>{Bn.off("channel.deleted",Vr),Bn.off("channel.hidden",Vr)}},[Ln==null?void 0:Ln.cid]);const lr=Vr=>{const ss={activeChannel:Ln,Avatar:dn,channel:Vr,channelUpdateCount:vr,getLatestMessagePreview:yn,key:Vr.cid,Preview:Pn,setActiveChannel:dr,watchers:Hn};return React$1.createElement(ChannelPreview,{...ss})},gr="str-chat__channel-list",_r=clsx((Gn==null?void 0:Gn.chat)??"str-chat",br,(Gn==null?void 0:Gn.channelList)??`${gr} ${gr}-react`,{"str-chat--windows-flags":Er&&navigator.userAgent.match(/Win/),[`${gr}--open`]:qn}),Hr=!sr&&!Ar||(sn==null?void 0:sn.popupResults);return React$1.createElement(ChannelListContextProvider,{value:{channels:Fr,hasNextPage:Pr,loadNextPage:Br,setChannels:ar}},React$1.createElement("div",{className:_r,ref:xr},Un&&(yr?React$1.createElement(yr,{directMessagingChannelType:sn==null?void 0:sn.channelType,disabled:sn==null?void 0:sn.disabled,exitSearchOnInputBlur:sn==null?void 0:sn.clearSearchOnClickOutside,placeholder:sn==null?void 0:sn.placeholder}):React$1.createElement(mn,{onSearch:Zn,onSearchExit:Cr,setChannels:ar,...sn})),Hr&&React$1.createElement(vn,{error:zn.error,loadedChannels:Wn?pr:void 0,loading:!!zn.queryInProgress&&["reload","uninitialized"].includes(zn.queryInProgress),LoadingErrorIndicator:En,LoadingIndicator:bn,setChannels:ar},pr!=null&&pr.length?React$1.createElement(kn,{hasNextPage:Pr,isLoading:zn.queryInProgress==="load-more",loadNextPage:Br},On?On(pr,lr):pr.map(Vr=>lr(Vr))):React$1.createElement(gn,{listType:"channel"}))))},ChannelList=React$1.memo(UnMemoizedChannelList),noop$3=()=>{};function useSelectedChannelState({channel:tn,selector:sn,stateChangeEventKeys:un=["all"]}){const dn=reactExports.useCallback(mn=>{if(!tn)return noop$3;const hn=un.map(fn=>tn.on(fn,()=>{mn(sn(tn))}));return()=>hn.forEach(fn=>fn.unsubscribe())},[tn,sn,un]),pn=reactExports.useCallback(()=>{if(tn)return sn(tn)},[tn,sn]);return shimExports.useSyncExternalStore(dn,pn)}const selector$2=tn=>tn.state.membership,keys$1=["member.updated"];function useChannelMembershipState(tn){return useSelectedChannelState({channel:tn,selector:selector$2,stateChangeEventKeys:keys$1})}const Icon={ArchiveBox:tn=>React$1.createElement("svg",{className:"str-chat__icon str-chat__icon--archive-box",fill:"currentColor",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",...tn},React$1.createElement("path",{d:"M32 32l448 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96L0 64C0 46.3 14.3 32 32 32zm0 128l448 0 0 256c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64l0-256zm128 80c0 8.8 7.2 16 16 16l160 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-160 0c-8.8 0-16 7.2-16 16z"})),Pin:tn=>React$1.createElement("svg",{className:"str-chat__icon str-chat__icon--pin",fill:"currentColor",viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg",...tn},React$1.createElement("path",{d:"M32 32C32 14.3 46.3 0 64 0L320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-29.5 0 11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8s-15.7 13.3-26 13.3L32 352c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64 64 64C46.3 64 32 49.7 32 32zM160 384l64 0 0 96c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-96z"}))};function ChannelPreviewActionButtons({channel:tn}){const sn=useChannelMembershipState(tn),{t:un}=useTranslationContext();return React$1.createElement("div",{className:"str-chat__channel-preview__action-buttons"},React$1.createElement("button",{"aria-label":sn.pinned_at?un("Unpin"):un("Pin"),className:clsx("str-chat__channel-preview__action-button","str-chat__channel-preview__action-button--pin",sn.pinned_at&&"str-chat__channel-preview__action-button--active"),onClick:dn=>{dn.stopPropagation(),sn.pinned_at?tn.unpin():tn.pin()},title:sn.pinned_at?un("Unpin"):un("Pin")},React$1.createElement(Icon.Pin,null)),React$1.createElement("button",{"aria-label":sn.archived_at?un("Unarchive"):un("Archive"),className:clsx("str-chat__channel-preview__action-button","str-chat__channel-preview__action-button--archive",sn.archived_at&&"str-chat__channel-preview__action-button--active"),onClick:dn=>{dn.stopPropagation(),sn.archived_at?tn.unarchive():tn.archive()},title:sn.archived_at?un("Unarchive"):un("Archive")},React$1.createElement(Icon.ArchiveBox,null)))}const UnMemoizedChannelPreviewMessenger=tn=>{var _n,jn;const{active:sn,Avatar:un=Avatar,channel:dn,className:pn="",displayImage:mn,displayTitle:hn,groupChannelDisplayInfo:fn,latestMessagePreview:gn,onSelect:xn,setActiveChannel:yn,unread:vn,watchers:En}=tn,{ChannelPreviewActionButtons:bn=ChannelPreviewActionButtons}=useComponentContext(),wn=reactExports.useRef(null),Sn=hn||((jn=(_n=dn.state.messages[dn.state.messages.length-1])==null?void 0:_n.user)==null?void 0:jn.id),Rn=Cn=>{xn?xn(Cn):yn&&yn(dn,En),wn!=null&&wn.current&&wn.current.blur()};return React$1.createElement("div",{className:"str-chat__channel-preview-container"},React$1.createElement(bn,{channel:dn}),React$1.createElement("button",{"aria-label":`Select Channel: ${hn||""}`,"aria-selected":sn,className:clsx("str-chat__channel-preview-messenger str-chat__channel-preview",sn&&"str-chat__channel-preview-messenger--active",vn&&vn>=1&&"str-chat__channel-preview-messenger--unread",pn),"data-testid":"channel-preview-button",onClick:Rn,ref:wn,role:"option"},React$1.createElement("div",{className:"str-chat__channel-preview-messenger--left"},React$1.createElement(un,{className:"str-chat__avatar--channel-preview",groupChannelDisplayInfo:fn,image:mn,name:Sn})),React$1.createElement("div",{className:"str-chat__channel-preview-end"},React$1.createElement("div",{className:"str-chat__channel-preview-end-first-row"},React$1.createElement("div",{className:"str-chat__channel-preview-messenger--name"},React$1.createElement("span",null,hn)),!!vn&&React$1.createElement("div",{className:"str-chat__channel-preview-unread-badge","data-testid":"unread-badge"},vn)),React$1.createElement("div",{className:"str-chat__channel-preview-messenger--last-message"},gn))))},ChannelPreviewMessenger=React$1.memo(UnMemoizedChannelPreviewMessenger),useIsChannelMuted=tn=>{const{client:sn}=useChatContext("useIsChannelMuted"),[un,dn]=reactExports.useState(tn.muteStatus());return reactExports.useEffect(()=>{const pn=()=>dn(tn.muteStatus());return sn.on("notification.channel_mutes_updated",pn),()=>sn.off("notification.channel_mutes_updated",pn)},[un]),un};function ok$1(){}function unreachable(){}function stringify$1(tn,sn){const un={};return(tn[tn.length-1]===""?[...tn,""]:tn).join((un.padRight?" ":"")+","+(un.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$4={};function name(tn,sn){return(emptyOptions$4.jsx?nameReJsx:nameRe).test(tn)}const re=/[ \t\n\f\r]/g;function whitespace(tn){return typeof tn=="object"?tn.type==="text"?empty$1(tn.value):!1:empty$1(tn)}function empty$1(tn){return tn.replace(re,"")===""}class Schema{constructor(sn,un,dn){this.normal=un,this.property=sn,dn&&(this.space=dn)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(tn,sn){const un={},dn={};for(const pn of tn)Object.assign(un,pn.property),Object.assign(dn,pn.normal);return new Schema(un,dn,sn)}function normalize$1(tn){return tn.toLowerCase()}class Info{constructor(sn,un){this.attribute=un,this.property=sn}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(sn,un,dn,pn){let mn=-1;if(super(sn,un),mark(this,"space",pn),typeof dn=="number")for(;++mn<checks.length;){const hn=checks[mn];mark(this,checks[mn],(dn&types[hn])===types[hn])}}}DefinedInfo.prototype.defined=!0;function mark(tn,sn,un){un&&(tn[sn]=un)}function create(tn){const sn={},un={};for(const[dn,pn]of Object.entries(tn.properties)){const mn=new DefinedInfo(dn,tn.transform(tn.attributes||{},dn),pn,tn.space);tn.mustUseProperty&&tn.mustUseProperty.includes(dn)&&(mn.mustUseProperty=!0),sn[dn]=mn,un[normalize$1(dn)]=dn,un[normalize$1(mn.attribute)]=dn}return new Schema(sn,un,tn.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(tn,sn){return sn==="role"?sn:"aria-"+sn.slice(4).toLowerCase()}});function caseSensitiveTransform(tn,sn){return sn in tn?tn[sn]:sn}function caseInsensitiveTransform(tn,sn){return caseSensitiveTransform(tn,sn.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(tn,sn){return"xlink:"+sn.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(tn,sn){return"xml:"+sn.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(tn,sn){const un=normalize$1(sn);let dn=sn,pn=Info;if(un in tn.normal)return tn.property[tn.normal[un]];if(un.length>4&&un.slice(0,4)==="data"&&valid.test(sn)){if(sn.charAt(4)==="-"){const mn=sn.slice(5).replace(dash,camelcase);dn="data"+mn.charAt(0).toUpperCase()+mn.slice(1)}else{const mn=sn.slice(4);if(!dash.test(mn)){let hn=mn.replace(cap$1,kebab);hn.charAt(0)!=="-"&&(hn="-"+hn),sn="data"+hn}}pn=DefinedInfo}return new pn(dn,sn)}function kebab(tn){return"-"+tn.toLowerCase()}function camelcase(tn){return tn.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function stringify(tn){return tn.join(" ").trim()}var cjs$1={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(tn,sn){if(typeof tn!="string")throw new TypeError("First argument must be a string");if(!tn)return[];sn=sn||{};var un=1,dn=1;function pn(wn){var Sn=wn.match(NEWLINE_REGEX);Sn&&(un+=Sn.length);var Rn=wn.lastIndexOf(NEWLINE);dn=~Rn?wn.length-Rn:dn+wn.length}function mn(){var wn={line:un,column:dn};return function(Sn){return Sn.position=new hn(wn),xn(),Sn}}function hn(wn){this.start=wn,this.end={line:un,column:dn},this.source=sn.source}hn.prototype.content=tn;function fn(wn){var Sn=new Error(sn.source+":"+un+":"+dn+": "+wn);if(Sn.reason=wn,Sn.filename=sn.source,Sn.line=un,Sn.column=dn,Sn.source=tn,!sn.silent)throw Sn}function gn(wn){var Sn=wn.exec(tn);if(Sn){var Rn=Sn[0];return pn(Rn),tn=tn.slice(Rn.length),Sn}}function xn(){gn(WHITESPACE_REGEX)}function yn(wn){var Sn;for(wn=wn||[];Sn=vn();)Sn!==!1&&wn.push(Sn);return wn}function vn(){var wn=mn();if(!(FORWARD_SLASH!=tn.charAt(0)||ASTERISK!=tn.charAt(1))){for(var Sn=2;EMPTY_STRING!=tn.charAt(Sn)&&(ASTERISK!=tn.charAt(Sn)||FORWARD_SLASH!=tn.charAt(Sn+1));)++Sn;if(Sn+=2,EMPTY_STRING===tn.charAt(Sn-1))return fn("End of comment missing");var Rn=tn.slice(2,Sn-2);return dn+=2,pn(Rn),tn=tn.slice(Sn),dn+=2,wn({type:TYPE_COMMENT,comment:Rn})}}function En(){var wn=mn(),Sn=gn(PROPERTY_REGEX);if(Sn){if(vn(),!gn(COLON_REGEX))return fn("property missing ':'");var Rn=gn(VALUE_REGEX),_n=wn({type:TYPE_DECLARATION,property:trim(Sn[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:Rn?trim(Rn[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return gn(SEMICOLON_REGEX),_n}}function bn(){var wn=[];yn(wn);for(var Sn;Sn=En();)Sn!==!1&&(wn.push(Sn),yn(wn));return wn}return xn(),bn()};function trim(tn){return tn?tn.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}};Object.defineProperty(cjs$1,"__esModule",{value:!0});cjs$1.default=StyleToObject;var inline_style_parser_1=__importDefault$1(inlineStyleParser);function StyleToObject(tn,sn){var un=null;if(!tn||typeof tn!="string")return un;var dn=(0,inline_style_parser_1.default)(tn),pn=typeof sn=="function";return dn.forEach(function(mn){if(mn.type==="declaration"){var hn=mn.property,fn=mn.value;pn?sn(hn,fn,mn):fn&&(un=un||{},un[hn]=fn)}}),un}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(tn){return!tn||NO_HYPHEN_REGEX.test(tn)||CUSTOM_PROPERTY_REGEX.test(tn)},capitalize=function(tn,sn){return sn.toUpperCase()},trimHyphen=function(tn,sn){return"".concat(sn,"-")},camelCase=function(tn,sn){return sn===void 0&&(sn={}),skipCamelCase(tn)?tn:(tn=tn.toLowerCase(),sn.reactCompat?tn=tn.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):tn=tn.replace(VENDOR_PREFIX_REGEX,trimHyphen),tn.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(tn){return tn&&tn.__esModule?tn:{default:tn}},style_to_object_1=__importDefault(cjs$1),utilities_1=utilities;function StyleToJS(tn,sn){var un={};return!tn||typeof tn!="string"||(0,style_to_object_1.default)(tn,function(dn,pn){dn&&pn&&(un[(0,utilities_1.camelCase)(dn,sn)]=pn)}),un}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(tn){return sn;function sn(un){const dn=un&&un.position&&un.position[tn]||{};if(typeof dn.line=="number"&&dn.line>0&&typeof dn.column=="number"&&dn.column>0)return{line:dn.line,column:dn.column,offset:typeof dn.offset=="number"&&dn.offset>-1?dn.offset:void 0}}}function position$1(tn){const sn=pointStart(tn),un=pointEnd(tn);if(sn&&un)return{start:sn,end:un}}function stringifyPosition(tn){return!tn||typeof tn!="object"?"":"position"in tn||"type"in tn?position(tn.position):"start"in tn||"end"in tn?position(tn):"line"in tn||"column"in tn?point$1(tn):""}function point$1(tn){return index$2(tn&&tn.line)+":"+index$2(tn&&tn.column)}function position(tn){return point$1(tn&&tn.start)+"-"+point$1(tn&&tn.end)}function index$2(tn){return tn&&typeof tn=="number"?tn:1}class VFileMessage extends Error{constructor(sn,un,dn){super(),typeof un=="string"&&(dn=un,un=void 0);let pn="",mn={},hn=!1;if(un&&("line"in un&&"column"in un?mn={place:un}:"start"in un&&"end"in un?mn={place:un}:"type"in un?mn={ancestors:[un],place:un.position}:mn={...un}),typeof sn=="string"?pn=sn:!mn.cause&&sn&&(hn=!0,pn=sn.message,mn.cause=sn),!mn.ruleId&&!mn.source&&typeof dn=="string"){const gn=dn.indexOf(":");gn===-1?mn.ruleId=dn:(mn.source=dn.slice(0,gn),mn.ruleId=dn.slice(gn+1))}if(!mn.place&&mn.ancestors&&mn.ancestors){const gn=mn.ancestors[mn.ancestors.length-1];gn&&(mn.place=gn.position)}const fn=mn.place&&"start"in mn.place?mn.place.start:mn.place;this.ancestors=mn.ancestors||void 0,this.cause=mn.cause||void 0,this.column=fn?fn.column:void 0,this.fatal=void 0,this.file,this.message=pn,this.line=fn?fn.line:void 0,this.name=stringifyPosition(mn.place)||"1:1",this.place=mn.place||void 0,this.reason=this.message,this.ruleId=mn.ruleId||void 0,this.source=mn.source||void 0,this.stack=hn&&mn.cause&&typeof mn.cause.stack=="string"?mn.cause.stack:"",this.actual,this.expected,this.note,this.url}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(tn,sn){if(!sn||sn.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const un=sn.filePath||void 0;let dn;if(sn.development){if(typeof sn.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");dn=developmentCreate(un,sn.jsxDEV)}else{if(typeof sn.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof sn.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");dn=productionCreate(un,sn.jsx,sn.jsxs)}const pn={Fragment:sn.Fragment,ancestors:[],components:sn.components||{},create:dn,elementAttributeNameCase:sn.elementAttributeNameCase||"react",evaluater:sn.createEvaluater?sn.createEvaluater():void 0,filePath:un,ignoreInvalidStyle:sn.ignoreInvalidStyle||!1,passKeys:sn.passKeys!==!1,passNode:sn.passNode||!1,schema:sn.space==="svg"?svg:html$2,stylePropertyNameCase:sn.stylePropertyNameCase||"dom",tableCellAlignToStyle:sn.tableCellAlignToStyle!==!1},mn=one$1(pn,tn,void 0);return mn&&typeof mn!="string"?mn:pn.create(tn,pn.Fragment,{children:mn||void 0},void 0)}function one$1(tn,sn,un){if(sn.type==="element")return element$2(tn,sn,un);if(sn.type==="mdxFlowExpression"||sn.type==="mdxTextExpression")return mdxExpression(tn,sn);if(sn.type==="mdxJsxFlowElement"||sn.type==="mdxJsxTextElement")return mdxJsxElement(tn,sn,un);if(sn.type==="mdxjsEsm")return mdxEsm(tn,sn);if(sn.type==="root")return root$2(tn,sn,un);if(sn.type==="text")return text$5(tn,sn)}function element$2(tn,sn,un){const dn=tn.schema;let pn=dn;sn.tagName.toLowerCase()==="svg"&&dn.space==="html"&&(pn=svg,tn.schema=pn),tn.ancestors.push(sn);const mn=findComponentFromName(tn,sn.tagName,!1),hn=createElementProps(tn,sn);let fn=createChildren(tn,sn);return tableElements.has(sn.tagName)&&(fn=fn.filter(function(gn){return typeof gn=="string"?!whitespace(gn):!0})),addNode(tn,hn,mn,sn),addChildren(hn,fn),tn.ancestors.pop(),tn.schema=dn,tn.create(sn,mn,hn,un)}function mdxExpression(tn,sn){if(sn.data&&sn.data.estree&&tn.evaluater){const dn=sn.data.estree.body[0];return dn.type,tn.evaluater.evaluateExpression(dn.expression)}crashEstree(tn,sn.position)}function mdxEsm(tn,sn){if(sn.data&&sn.data.estree&&tn.evaluater)return tn.evaluater.evaluateProgram(sn.data.estree);crashEstree(tn,sn.position)}function mdxJsxElement(tn,sn,un){const dn=tn.schema;let pn=dn;sn.name==="svg"&&dn.space==="html"&&(pn=svg,tn.schema=pn),tn.ancestors.push(sn);const mn=sn.name===null?tn.Fragment:findComponentFromName(tn,sn.name,!0),hn=createJsxElementProps(tn,sn),fn=createChildren(tn,sn);return addNode(tn,hn,mn,sn),addChildren(hn,fn),tn.ancestors.pop(),tn.schema=dn,tn.create(sn,mn,hn,un)}function root$2(tn,sn,un){const dn={};return addChildren(dn,createChildren(tn,sn)),tn.create(sn,tn.Fragment,dn,un)}function text$5(tn,sn){return sn.value}function addNode(tn,sn,un,dn){typeof un!="string"&&un!==tn.Fragment&&tn.passNode&&(sn.node=dn)}function addChildren(tn,sn){if(sn.length>0){const un=sn.length>1?sn:sn[0];un&&(tn.children=un)}}function productionCreate(tn,sn,un){return dn;function dn(pn,mn,hn,fn){const xn=Array.isArray(hn.children)?un:sn;return fn?xn(mn,hn,fn):xn(mn,hn)}}function developmentCreate(tn,sn){return un;function un(dn,pn,mn,hn){const fn=Array.isArray(mn.children),gn=pointStart(dn);return sn(pn,mn,hn,fn,{columnNumber:gn?gn.column-1:void 0,fileName:tn,lineNumber:gn?gn.line:void 0},void 0)}}function createElementProps(tn,sn){const un={};let dn,pn;for(pn in sn.properties)if(pn!=="children"&&own$3.call(sn.properties,pn)){const mn=createProperty(tn,pn,sn.properties[pn]);if(mn){const[hn,fn]=mn;tn.tableCellAlignToStyle&&hn==="align"&&typeof fn=="string"&&tableCellElement.has(sn.tagName)?dn=fn:un[hn]=fn}}if(dn){const mn=un.style||(un.style={});mn[tn.stylePropertyNameCase==="css"?"text-align":"textAlign"]=dn}return un}function createJsxElementProps(tn,sn){const un={};for(const dn of sn.attributes)if(dn.type==="mdxJsxExpressionAttribute")if(dn.data&&dn.data.estree&&tn.evaluater){const mn=dn.data.estree.body[0];mn.type;const hn=mn.expression;hn.type;const fn=hn.properties[0];fn.type,Object.assign(un,tn.evaluater.evaluateExpression(fn.argument))}else crashEstree(tn,sn.position);else{const pn=dn.name;let mn;if(dn.value&&typeof dn.value=="object")if(dn.value.data&&dn.value.data.estree&&tn.evaluater){const fn=dn.value.data.estree.body[0];fn.type,mn=tn.evaluater.evaluateExpression(fn.expression)}else crashEstree(tn,sn.position);else mn=dn.value===null?!0:dn.value;un[pn]=mn}return un}function createChildren(tn,sn){const un=[];let dn=-1;const pn=tn.passKeys?new Map:emptyMap;for(;++dn<sn.children.length;){const mn=sn.children[dn];let hn;if(tn.passKeys){const gn=mn.type==="element"?mn.tagName:mn.type==="mdxJsxFlowElement"||mn.type==="mdxJsxTextElement"?mn.name:void 0;if(gn){const xn=pn.get(gn)||0;hn=gn+"-"+xn,pn.set(gn,xn+1)}}const fn=one$1(tn,mn,hn);fn!==void 0&&un.push(fn)}return un}function createProperty(tn,sn,un){const dn=find(tn.schema,sn);if(!(un==null||typeof un=="number"&&Number.isNaN(un))){if(Array.isArray(un)&&(un=dn.commaSeparated?stringify$1(un):stringify(un)),dn.property==="style"){let pn=typeof un=="object"?un:parseStyle(tn,String(un));return tn.stylePropertyNameCase==="css"&&(pn=transformStylesToCssCasing(pn)),["style",pn]}return[tn.elementAttributeNameCase==="react"&&dn.space?hastToReact[dn.property]||dn.property:dn.attribute,un]}}function parseStyle(tn,sn){try{return styleToJs(sn,{reactCompat:!0})}catch(un){if(tn.ignoreInvalidStyle)return{};const dn=un,pn=new VFileMessage("Cannot parse `style` attribute",{ancestors:tn.ancestors,cause:dn,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw pn.file=tn.filePath||void 0,pn.url=docs+"#cannot-parse-style-attribute",pn}}function findComponentFromName(tn,sn,un){let dn;if(!un)dn={type:"Literal",value:sn};else if(sn.includes(".")){const pn=sn.split(".");let mn=-1,hn;for(;++mn<pn.length;){const fn=name(pn[mn])?{type:"Identifier",name:pn[mn]}:{type:"Literal",value:pn[mn]};hn=hn?{type:"MemberExpression",object:hn,property:fn,computed:!!(mn&&fn.type==="Literal"),optional:!1}:fn}dn=hn}else dn=name(sn)&&!/^[a-z]/.test(sn)?{type:"Identifier",name:sn}:{type:"Literal",value:sn};if(dn.type==="Literal"){const pn=dn.value;return own$3.call(tn.components,pn)?tn.components[pn]:pn}if(tn.evaluater)return tn.evaluater.evaluateExpression(dn);crashEstree(tn)}function crashEstree(tn,sn){const un=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:tn.ancestors,place:sn,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw un.file=tn.filePath||void 0,un.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",un}function transformStylesToCssCasing(tn){const sn={};let un;for(un in tn)own$3.call(tn,un)&&(sn[transformStyleToCssCasing(un)]=tn[un]);return sn}function transformStyleToCssCasing(tn){let sn=tn.replace(cap,toDash);return sn.slice(0,3)==="ms-"&&(sn="-"+sn),sn}function toDash(tn){return"-"+tn.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$3={};function toString$1(tn,sn){const un=emptyOptions$3,dn=typeof un.includeImageAlt=="boolean"?un.includeImageAlt:!0,pn=typeof un.includeHtml=="boolean"?un.includeHtml:!0;return one(tn,dn,pn)}function one(tn,sn,un){if(node(tn)){if("value"in tn)return tn.type==="html"&&!un?"":tn.value;if(sn&&"alt"in tn&&tn.alt)return tn.alt;if("children"in tn)return all(tn.children,sn,un)}return Array.isArray(tn)?all(tn,sn,un):""}function all(tn,sn,un){const dn=[];let pn=-1;for(;++pn<tn.length;)dn[pn]=one(tn[pn],sn,un);return dn.join("")}function node(tn){return!!(tn&&typeof tn=="object")}const element$1=document.createElement("i");function decodeNamedCharacterReference(tn){const sn="&"+tn+";";element$1.innerHTML=sn;const un=element$1.textContent;return un.charCodeAt(un.length-1)===59&&tn!=="semi"||un===sn?!1:un}function splice(tn,sn,un,dn){const pn=tn.length;let mn=0,hn;if(sn<0?sn=-sn>pn?0:pn+sn:sn=sn>pn?pn:sn,un=un>0?un:0,dn.length<1e4)hn=Array.from(dn),hn.unshift(sn,un),tn.splice(...hn);else for(un&&tn.splice(sn,un);mn<dn.length;)hn=dn.slice(mn,mn+1e4),hn.unshift(sn,0),tn.splice(...hn),mn+=1e4,sn+=1e4}function push(tn,sn){return tn.length>0?(splice(tn,tn.length,0,sn),tn):sn}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(tn){const sn={};let un=-1;for(;++un<tn.length;)syntaxExtension(sn,tn[un]);return sn}function syntaxExtension(tn,sn){let un;for(un in sn){const pn=(hasOwnProperty.call(tn,un)?tn[un]:void 0)||(tn[un]={}),mn=sn[un];let hn;if(mn)for(hn in mn){hasOwnProperty.call(pn,hn)||(pn[hn]=[]);const fn=mn[hn];constructs(pn[hn],Array.isArray(fn)?fn:fn?[fn]:[])}}}function constructs(tn,sn){let un=-1;const dn=[];for(;++un<sn.length;)(sn[un].add==="after"?tn:dn).push(sn[un]);splice(tn,0,0,dn)}function decodeNumericCharacterReference(tn,sn){const un=Number.parseInt(tn,sn);return un<9||un===11||un>13&&un<32||un>126&&un<160||un>55295&&un<57344||un>64975&&un<65008||(un&65535)===65535||(un&65535)===65534||un>1114111?"�":String.fromCodePoint(un)}function normalizeIdentifier(tn){return tn.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(tn){return tn!==null&&(tn<32||tn===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(tn){return tn!==null&&tn<-2}function markdownLineEndingOrSpace(tn){return tn!==null&&(tn<0||tn===32)}function markdownSpace(tn){return tn===-2||tn===-1||tn===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(tn){return sn;function sn(un){return un!==null&&un>-1&&tn.test(String.fromCharCode(un))}}function normalizeUri(tn){const sn=[];let un=-1,dn=0,pn=0;for(;++un<tn.length;){const mn=tn.charCodeAt(un);let hn="";if(mn===37&&asciiAlphanumeric(tn.charCodeAt(un+1))&&asciiAlphanumeric(tn.charCodeAt(un+2)))pn=2;else if(mn<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(mn))||(hn=String.fromCharCode(mn));else if(mn>55295&&mn<57344){const fn=tn.charCodeAt(un+1);mn<56320&&fn>56319&&fn<57344?(hn=String.fromCharCode(mn,fn),pn=1):hn="�"}else hn=String.fromCharCode(mn);hn&&(sn.push(tn.slice(dn,un),encodeURIComponent(hn)),dn=un+pn+1,hn=""),pn&&(un+=pn,pn=0)}return sn.join("")+tn.slice(dn)}function factorySpace(tn,sn,un,dn){const pn=dn?dn-1:Number.POSITIVE_INFINITY;let mn=0;return hn;function hn(gn){return markdownSpace(gn)?(tn.enter(un),fn(gn)):sn(gn)}function fn(gn){return markdownSpace(gn)&&mn++<pn?(tn.consume(gn),fn):(tn.exit(un),sn(gn))}}const content$1={tokenize:initializeContent};function initializeContent(tn){const sn=tn.attempt(this.parser.constructs.contentInitial,dn,pn);let un;return sn;function dn(fn){if(fn===null){tn.consume(fn);return}return tn.enter("lineEnding"),tn.consume(fn),tn.exit("lineEnding"),factorySpace(tn,sn,"linePrefix")}function pn(fn){return tn.enter("paragraph"),mn(fn)}function mn(fn){const gn=tn.enter("chunkText",{contentType:"text",previous:un});return un&&(un.next=gn),un=gn,hn(fn)}function hn(fn){if(fn===null){tn.exit("chunkText"),tn.exit("paragraph"),tn.consume(fn);return}return markdownLineEnding(fn)?(tn.consume(fn),tn.exit("chunkText"),mn):(tn.consume(fn),hn)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(tn){const sn=this,un=[];let dn=0,pn,mn,hn;return fn;function fn(Cn){if(dn<un.length){const An=un[dn];return sn.containerState=An[1],tn.attempt(An[0].continuation,gn,xn)(Cn)}return xn(Cn)}function gn(Cn){if(dn++,sn.containerState._closeFlow){sn.containerState._closeFlow=void 0,pn&&jn();const An=sn.events.length;let Tn=An,$n;for(;Tn--;)if(sn.events[Tn][0]==="exit"&&sn.events[Tn][1].type==="chunkFlow"){$n=sn.events[Tn][1].end;break}_n(dn);let Dn=An;for(;Dn<sn.events.length;)sn.events[Dn][1].end={...$n},Dn++;return splice(sn.events,Tn+1,0,sn.events.slice(An)),sn.events.length=Dn,xn(Cn)}return fn(Cn)}function xn(Cn){if(dn===un.length){if(!pn)return En(Cn);if(pn.currentConstruct&&pn.currentConstruct.concrete)return wn(Cn);sn.interrupt=!!(pn.currentConstruct&&!pn._gfmTableDynamicInterruptHack)}return sn.containerState={},tn.check(containerConstruct,yn,vn)(Cn)}function yn(Cn){return pn&&jn(),_n(dn),En(Cn)}function vn(Cn){return sn.parser.lazy[sn.now().line]=dn!==un.length,hn=sn.now().offset,wn(Cn)}function En(Cn){return sn.containerState={},tn.attempt(containerConstruct,bn,wn)(Cn)}function bn(Cn){return dn++,un.push([sn.currentConstruct,sn.containerState]),En(Cn)}function wn(Cn){if(Cn===null){pn&&jn(),_n(0),tn.consume(Cn);return}return pn=pn||sn.parser.flow(sn.now()),tn.enter("chunkFlow",{_tokenizer:pn,contentType:"flow",previous:mn}),Sn(Cn)}function Sn(Cn){if(Cn===null){Rn(tn.exit("chunkFlow"),!0),_n(0),tn.consume(Cn);return}return markdownLineEnding(Cn)?(tn.consume(Cn),Rn(tn.exit("chunkFlow")),dn=0,sn.interrupt=void 0,fn):(tn.consume(Cn),Sn)}function Rn(Cn,An){const Tn=sn.sliceStream(Cn);if(An&&Tn.push(null),Cn.previous=mn,mn&&(mn.next=Cn),mn=Cn,pn.defineSkip(Cn.start),pn.write(Tn),sn.parser.lazy[Cn.start.line]){let $n=pn.events.length;for(;$n--;)if(pn.events[$n][1].start.offset<hn&&(!pn.events[$n][1].end||pn.events[$n][1].end.offset>hn))return;const Dn=sn.events.length;let Nn=Dn,kn,Pn;for(;Nn--;)if(sn.events[Nn][0]==="exit"&&sn.events[Nn][1].type==="chunkFlow"){if(kn){Pn=sn.events[Nn][1].end;break}kn=!0}for(_n(dn),$n=Dn;$n<sn.events.length;)sn.events[$n][1].end={...Pn},$n++;splice(sn.events,Nn+1,0,sn.events.slice(Dn)),sn.events.length=$n}}function _n(Cn){let An=un.length;for(;An-- >Cn;){const Tn=un[An];sn.containerState=Tn[1],Tn[0].exit.call(sn,tn)}un.length=Cn}function jn(){pn.write([null]),mn=void 0,pn=void 0,sn.containerState._closeFlow=void 0}}function tokenizeContainer(tn,sn,un){return factorySpace(tn,tn.attempt(this.parser.constructs.document,sn,un),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(tn){if(tn===null||markdownLineEndingOrSpace(tn)||unicodeWhitespace(tn))return 1;if(unicodePunctuation(tn))return 2}function resolveAll(tn,sn,un){const dn=[];let pn=-1;for(;++pn<tn.length;){const mn=tn[pn].resolveAll;mn&&!dn.includes(mn)&&(sn=mn(sn,un),dn.push(mn))}return sn}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(tn,sn){let un=-1,dn,pn,mn,hn,fn,gn,xn,yn;for(;++un<tn.length;)if(tn[un][0]==="enter"&&tn[un][1].type==="attentionSequence"&&tn[un][1]._close){for(dn=un;dn--;)if(tn[dn][0]==="exit"&&tn[dn][1].type==="attentionSequence"&&tn[dn][1]._open&&sn.sliceSerialize(tn[dn][1]).charCodeAt(0)===sn.sliceSerialize(tn[un][1]).charCodeAt(0)){if((tn[dn][1]._close||tn[un][1]._open)&&(tn[un][1].end.offset-tn[un][1].start.offset)%3&&!((tn[dn][1].end.offset-tn[dn][1].start.offset+tn[un][1].end.offset-tn[un][1].start.offset)%3))continue;gn=tn[dn][1].end.offset-tn[dn][1].start.offset>1&&tn[un][1].end.offset-tn[un][1].start.offset>1?2:1;const vn={...tn[dn][1].end},En={...tn[un][1].start};movePoint(vn,-gn),movePoint(En,gn),hn={type:gn>1?"strongSequence":"emphasisSequence",start:vn,end:{...tn[dn][1].end}},fn={type:gn>1?"strongSequence":"emphasisSequence",start:{...tn[un][1].start},end:En},mn={type:gn>1?"strongText":"emphasisText",start:{...tn[dn][1].end},end:{...tn[un][1].start}},pn={type:gn>1?"strong":"emphasis",start:{...hn.start},end:{...fn.end}},tn[dn][1].end={...hn.start},tn[un][1].start={...fn.end},xn=[],tn[dn][1].end.offset-tn[dn][1].start.offset&&(xn=push(xn,[["enter",tn[dn][1],sn],["exit",tn[dn][1],sn]])),xn=push(xn,[["enter",pn,sn],["enter",hn,sn],["exit",hn,sn],["enter",mn,sn]]),xn=push(xn,resolveAll(sn.parser.constructs.insideSpan.null,tn.slice(dn+1,un),sn)),xn=push(xn,[["exit",mn,sn],["enter",fn,sn],["exit",fn,sn],["exit",pn,sn]]),tn[un][1].end.offset-tn[un][1].start.offset?(yn=2,xn=push(xn,[["enter",tn[un][1],sn],["exit",tn[un][1],sn]])):yn=0,splice(tn,dn-1,un-dn+3,xn),un=dn+xn.length-yn-2;break}}for(un=-1;++un<tn.length;)tn[un][1].type==="attentionSequence"&&(tn[un][1].type="data");return tn}function tokenizeAttention(tn,sn){const un=this.parser.constructs.attentionMarkers.null,dn=this.previous,pn=classifyCharacter(dn);let mn;return hn;function hn(gn){return mn=gn,tn.enter("attentionSequence"),fn(gn)}function fn(gn){if(gn===mn)return tn.consume(gn),fn;const xn=tn.exit("attentionSequence"),yn=classifyCharacter(gn),vn=!yn||yn===2&&pn||un.includes(gn),En=!pn||pn===2&&yn||un.includes(dn);return xn._open=!!(mn===42?vn:vn&&(pn||!En)),xn._close=!!(mn===42?En:En&&(yn||!vn)),sn(gn)}}function movePoint(tn,sn){tn.column+=sn,tn.offset+=sn,tn._bufferIndex+=sn}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(tn,sn,un){let dn=0;return pn;function pn(bn){return tn.enter("autolink"),tn.enter("autolinkMarker"),tn.consume(bn),tn.exit("autolinkMarker"),tn.enter("autolinkProtocol"),mn}function mn(bn){return asciiAlpha(bn)?(tn.consume(bn),hn):bn===64?un(bn):xn(bn)}function hn(bn){return bn===43||bn===45||bn===46||asciiAlphanumeric(bn)?(dn=1,fn(bn)):xn(bn)}function fn(bn){return bn===58?(tn.consume(bn),dn=0,gn):(bn===43||bn===45||bn===46||asciiAlphanumeric(bn))&&dn++<32?(tn.consume(bn),fn):(dn=0,xn(bn))}function gn(bn){return bn===62?(tn.exit("autolinkProtocol"),tn.enter("autolinkMarker"),tn.consume(bn),tn.exit("autolinkMarker"),tn.exit("autolink"),sn):bn===null||bn===32||bn===60||asciiControl(bn)?un(bn):(tn.consume(bn),gn)}function xn(bn){return bn===64?(tn.consume(bn),yn):asciiAtext(bn)?(tn.consume(bn),xn):un(bn)}function yn(bn){return asciiAlphanumeric(bn)?vn(bn):un(bn)}function vn(bn){return bn===46?(tn.consume(bn),dn=0,yn):bn===62?(tn.exit("autolinkProtocol").type="autolinkEmail",tn.enter("autolinkMarker"),tn.consume(bn),tn.exit("autolinkMarker"),tn.exit("autolink"),sn):En(bn)}function En(bn){if((bn===45||asciiAlphanumeric(bn))&&dn++<63){const wn=bn===45?En:vn;return tn.consume(bn),wn}return un(bn)}}const blankLine={partial:!0,tokenize:tokenizeBlankLine};function tokenizeBlankLine(tn,sn,un){return dn;function dn(mn){return markdownSpace(mn)?factorySpace(tn,pn,"linePrefix")(mn):pn(mn)}function pn(mn){return mn===null||markdownLineEnding(mn)?sn(mn):un(mn)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(tn,sn,un){const dn=this;return pn;function pn(hn){if(hn===62){const fn=dn.containerState;return fn.open||(tn.enter("blockQuote",{_container:!0}),fn.open=!0),tn.enter("blockQuotePrefix"),tn.enter("blockQuoteMarker"),tn.consume(hn),tn.exit("blockQuoteMarker"),mn}return un(hn)}function mn(hn){return markdownSpace(hn)?(tn.enter("blockQuotePrefixWhitespace"),tn.consume(hn),tn.exit("blockQuotePrefixWhitespace"),tn.exit("blockQuotePrefix"),sn):(tn.exit("blockQuotePrefix"),sn(hn))}}function tokenizeBlockQuoteContinuation(tn,sn,un){const dn=this;return pn;function pn(hn){return markdownSpace(hn)?factorySpace(tn,mn,"linePrefix",dn.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(hn):mn(hn)}function mn(hn){return tn.attempt(blockQuote,sn,un)(hn)}}function exit$1(tn){tn.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(tn,sn,un){return dn;function dn(mn){return tn.enter("characterEscape"),tn.enter("escapeMarker"),tn.consume(mn),tn.exit("escapeMarker"),pn}function pn(mn){return asciiPunctuation(mn)?(tn.enter("characterEscapeValue"),tn.consume(mn),tn.exit("characterEscapeValue"),tn.exit("characterEscape"),sn):un(mn)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(tn,sn,un){const dn=this;let pn=0,mn,hn;return fn;function fn(vn){return tn.enter("characterReference"),tn.enter("characterReferenceMarker"),tn.consume(vn),tn.exit("characterReferenceMarker"),gn}function gn(vn){return vn===35?(tn.enter("characterReferenceMarkerNumeric"),tn.consume(vn),tn.exit("characterReferenceMarkerNumeric"),xn):(tn.enter("characterReferenceValue"),mn=31,hn=asciiAlphanumeric,yn(vn))}function xn(vn){return vn===88||vn===120?(tn.enter("characterReferenceMarkerHexadecimal"),tn.consume(vn),tn.exit("characterReferenceMarkerHexadecimal"),tn.enter("characterReferenceValue"),mn=6,hn=asciiHexDigit,yn):(tn.enter("characterReferenceValue"),mn=7,hn=asciiDigit,yn(vn))}function yn(vn){if(vn===59&&pn){const En=tn.exit("characterReferenceValue");return hn===asciiAlphanumeric&&!decodeNamedCharacterReference(dn.sliceSerialize(En))?un(vn):(tn.enter("characterReferenceMarker"),tn.consume(vn),tn.exit("characterReferenceMarker"),tn.exit("characterReference"),sn)}return hn(vn)&&pn++<mn?(tn.consume(vn),yn):un(vn)}}const nonLazyContinuation={partial:!0,tokenize:tokenizeNonLazyContinuation},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(tn,sn,un){const dn=this,pn={partial:!0,tokenize:Tn};let mn=0,hn=0,fn;return gn;function gn($n){return xn($n)}function xn($n){const Dn=dn.events[dn.events.length-1];return mn=Dn&&Dn[1].type==="linePrefix"?Dn[2].sliceSerialize(Dn[1],!0).length:0,fn=$n,tn.enter("codeFenced"),tn.enter("codeFencedFence"),tn.enter("codeFencedFenceSequence"),yn($n)}function yn($n){return $n===fn?(hn++,tn.consume($n),yn):hn<3?un($n):(tn.exit("codeFencedFenceSequence"),markdownSpace($n)?factorySpace(tn,vn,"whitespace")($n):vn($n))}function vn($n){return $n===null||markdownLineEnding($n)?(tn.exit("codeFencedFence"),dn.interrupt?sn($n):tn.check(nonLazyContinuation,Sn,An)($n)):(tn.enter("codeFencedFenceInfo"),tn.enter("chunkString",{contentType:"string"}),En($n))}function En($n){return $n===null||markdownLineEnding($n)?(tn.exit("chunkString"),tn.exit("codeFencedFenceInfo"),vn($n)):markdownSpace($n)?(tn.exit("chunkString"),tn.exit("codeFencedFenceInfo"),factorySpace(tn,bn,"whitespace")($n)):$n===96&&$n===fn?un($n):(tn.consume($n),En)}function bn($n){return $n===null||markdownLineEnding($n)?vn($n):(tn.enter("codeFencedFenceMeta"),tn.enter("chunkString",{contentType:"string"}),wn($n))}function wn($n){return $n===null||markdownLineEnding($n)?(tn.exit("chunkString"),tn.exit("codeFencedFenceMeta"),vn($n)):$n===96&&$n===fn?un($n):(tn.consume($n),wn)}function Sn($n){return tn.attempt(pn,An,Rn)($n)}function Rn($n){return tn.enter("lineEnding"),tn.consume($n),tn.exit("lineEnding"),_n}function _n($n){return mn>0&&markdownSpace($n)?factorySpace(tn,jn,"linePrefix",mn+1)($n):jn($n)}function jn($n){return $n===null||markdownLineEnding($n)?tn.check(nonLazyContinuation,Sn,An)($n):(tn.enter("codeFlowValue"),Cn($n))}function Cn($n){return $n===null||markdownLineEnding($n)?(tn.exit("codeFlowValue"),jn($n)):(tn.consume($n),Cn)}function An($n){return tn.exit("codeFenced"),sn($n)}function Tn($n,Dn,Nn){let kn=0;return Pn;function Pn(Un){return $n.enter("lineEnding"),$n.consume(Un),$n.exit("lineEnding"),Mn}function Mn(Un){return $n.enter("codeFencedFence"),markdownSpace(Un)?factorySpace($n,On,"linePrefix",dn.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Un):On(Un)}function On(Un){return Un===fn?($n.enter("codeFencedFenceSequence"),Wn(Un)):Nn(Un)}function Wn(Un){return Un===fn?(kn++,$n.consume(Un),Wn):kn>=hn?($n.exit("codeFencedFenceSequence"),markdownSpace(Un)?factorySpace($n,In,"whitespace")(Un):In(Un)):Nn(Un)}function In(Un){return Un===null||markdownLineEnding(Un)?($n.exit("codeFencedFence"),Dn(Un)):Nn(Un)}}}function tokenizeNonLazyContinuation(tn,sn,un){const dn=this;return pn;function pn(hn){return hn===null?un(hn):(tn.enter("lineEnding"),tn.consume(hn),tn.exit("lineEnding"),mn)}function mn(hn){return dn.parser.lazy[dn.now().line]?un(hn):sn(hn)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(tn,sn,un){const dn=this;return pn;function pn(xn){return tn.enter("codeIndented"),factorySpace(tn,mn,"linePrefix",5)(xn)}function mn(xn){const yn=dn.events[dn.events.length-1];return yn&&yn[1].type==="linePrefix"&&yn[2].sliceSerialize(yn[1],!0).length>=4?hn(xn):un(xn)}function hn(xn){return xn===null?gn(xn):markdownLineEnding(xn)?tn.attempt(furtherStart,hn,gn)(xn):(tn.enter("codeFlowValue"),fn(xn))}function fn(xn){return xn===null||markdownLineEnding(xn)?(tn.exit("codeFlowValue"),hn(xn)):(tn.consume(xn),fn)}function gn(xn){return tn.exit("codeIndented"),sn(xn)}}function tokenizeFurtherStart(tn,sn,un){const dn=this;return pn;function pn(hn){return dn.parser.lazy[dn.now().line]?un(hn):markdownLineEnding(hn)?(tn.enter("lineEnding"),tn.consume(hn),tn.exit("lineEnding"),pn):factorySpace(tn,mn,"linePrefix",5)(hn)}function mn(hn){const fn=dn.events[dn.events.length-1];return fn&&fn[1].type==="linePrefix"&&fn[2].sliceSerialize(fn[1],!0).length>=4?sn(hn):markdownLineEnding(hn)?pn(hn):un(hn)}}const codeText={name:"codeText",previous:previous$1,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(tn){let sn=tn.length-4,un=3,dn,pn;if((tn[un][1].type==="lineEnding"||tn[un][1].type==="space")&&(tn[sn][1].type==="lineEnding"||tn[sn][1].type==="space")){for(dn=un;++dn<sn;)if(tn[dn][1].type==="codeTextData"){tn[un][1].type="codeTextPadding",tn[sn][1].type="codeTextPadding",un+=2,sn-=2;break}}for(dn=un-1,sn++;++dn<=sn;)pn===void 0?dn!==sn&&tn[dn][1].type!=="lineEnding"&&(pn=dn):(dn===sn||tn[dn][1].type==="lineEnding")&&(tn[pn][1].type="codeTextData",dn!==pn+2&&(tn[pn][1].end=tn[dn-1][1].end,tn.splice(pn+2,dn-pn-2),sn-=dn-pn-2,dn=pn+2),pn=void 0);return tn}function previous$1(tn){return tn!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(tn,sn,un){let dn=0,pn,mn;return hn;function hn(vn){return tn.enter("codeText"),tn.enter("codeTextSequence"),fn(vn)}function fn(vn){return vn===96?(tn.consume(vn),dn++,fn):(tn.exit("codeTextSequence"),gn(vn))}function gn(vn){return vn===null?un(vn):vn===32?(tn.enter("space"),tn.consume(vn),tn.exit("space"),gn):vn===96?(mn=tn.enter("codeTextSequence"),pn=0,yn(vn)):markdownLineEnding(vn)?(tn.enter("lineEnding"),tn.consume(vn),tn.exit("lineEnding"),gn):(tn.enter("codeTextData"),xn(vn))}function xn(vn){return vn===null||vn===32||vn===96||markdownLineEnding(vn)?(tn.exit("codeTextData"),gn(vn)):(tn.consume(vn),xn)}function yn(vn){return vn===96?(tn.consume(vn),pn++,yn):pn===dn?(tn.exit("codeTextSequence"),tn.exit("codeText"),sn(vn)):(mn.type="codeTextData",xn(vn))}}class SpliceBuffer{constructor(sn){this.left=sn?[...sn]:[],this.right=[]}get(sn){if(sn<0||sn>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+sn+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return sn<this.left.length?this.left[sn]:this.right[this.right.length-sn+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(sn,un){const dn=un??Number.POSITIVE_INFINITY;return dn<this.left.length?this.left.slice(sn,dn):sn>this.left.length?this.right.slice(this.right.length-dn+this.left.length,this.right.length-sn+this.left.length).reverse():this.left.slice(sn).concat(this.right.slice(this.right.length-dn+this.left.length).reverse())}splice(sn,un,dn){const pn=un||0;this.setCursor(Math.trunc(sn));const mn=this.right.splice(this.right.length-pn,Number.POSITIVE_INFINITY);return dn&&chunkedPush(this.left,dn),mn.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(sn){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(sn)}pushMany(sn){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,sn)}unshift(sn){this.setCursor(0),this.right.push(sn)}unshiftMany(sn){this.setCursor(0),chunkedPush(this.right,sn.reverse())}setCursor(sn){if(!(sn===this.left.length||sn>this.left.length&&this.right.length===0||sn<0&&this.left.length===0))if(sn<this.left.length){const un=this.left.splice(sn,Number.POSITIVE_INFINITY);chunkedPush(this.right,un.reverse())}else{const un=this.right.splice(this.left.length+this.right.length-sn,Number.POSITIVE_INFINITY);chunkedPush(this.left,un.reverse())}}}function chunkedPush(tn,sn){let un=0;if(sn.length<1e4)tn.push(...sn);else for(;un<sn.length;)tn.push(...sn.slice(un,un+1e4)),un+=1e4}function subtokenize(tn){const sn={};let un=-1,dn,pn,mn,hn,fn,gn,xn;const yn=new SpliceBuffer(tn);for(;++un<yn.length;){for(;un in sn;)un=sn[un];if(dn=yn.get(un),un&&dn[1].type==="chunkFlow"&&yn.get(un-1)[1].type==="listItemPrefix"&&(gn=dn[1]._tokenizer.events,mn=0,mn<gn.length&&gn[mn][1].type==="lineEndingBlank"&&(mn+=2),mn<gn.length&&gn[mn][1].type==="content"))for(;++mn<gn.length&&gn[mn][1].type!=="content";)gn[mn][1].type==="chunkText"&&(gn[mn][1]._isInFirstContentOfListItem=!0,mn++);if(dn[0]==="enter")dn[1].contentType&&(Object.assign(sn,subcontent(yn,un)),un=sn[un],xn=!0);else if(dn[1]._container){for(mn=un,pn=void 0;mn--;)if(hn=yn.get(mn),hn[1].type==="lineEnding"||hn[1].type==="lineEndingBlank")hn[0]==="enter"&&(pn&&(yn.get(pn)[1].type="lineEndingBlank"),hn[1].type="lineEnding",pn=mn);else if(!(hn[1].type==="linePrefix"||hn[1].type==="listItemIndent"))break;pn&&(dn[1].end={...yn.get(pn)[1].start},fn=yn.slice(pn,un),fn.unshift(dn),yn.splice(pn,un-pn+1,fn))}}return splice(tn,0,Number.POSITIVE_INFINITY,yn.slice(0)),!xn}function subcontent(tn,sn){const un=tn.get(sn)[1],dn=tn.get(sn)[2];let pn=sn-1;const mn=[];let hn=un._tokenizer;hn||(hn=dn.parser[un.contentType](un.start),un._contentTypeTextTrailing&&(hn._contentTypeTextTrailing=!0));const fn=hn.events,gn=[],xn={};let yn,vn,En=-1,bn=un,wn=0,Sn=0;const Rn=[Sn];for(;bn;){for(;tn.get(++pn)[1]!==bn;);mn.push(pn),bn._tokenizer||(yn=dn.sliceStream(bn),bn.next||yn.push(null),vn&&hn.defineSkip(bn.start),bn._isInFirstContentOfListItem&&(hn._gfmTasklistFirstContentOfListItem=!0),hn.write(yn),bn._isInFirstContentOfListItem&&(hn._gfmTasklistFirstContentOfListItem=void 0)),vn=bn,bn=bn.next}for(bn=un;++En<fn.length;)fn[En][0]==="exit"&&fn[En-1][0]==="enter"&&fn[En][1].type===fn[En-1][1].type&&fn[En][1].start.line!==fn[En][1].end.line&&(Sn=En+1,Rn.push(Sn),bn._tokenizer=void 0,bn.previous=void 0,bn=bn.next);for(hn.events=[],bn?(bn._tokenizer=void 0,bn.previous=void 0):Rn.pop(),En=Rn.length;En--;){const _n=fn.slice(Rn[En],Rn[En+1]),jn=mn.pop();gn.push([jn,jn+_n.length-1]),tn.splice(jn,2,_n)}for(gn.reverse(),En=-1;++En<gn.length;)xn[wn+gn[En][0]]=wn+gn[En][1],wn+=gn[En][1]-gn[En][0]-1;return xn}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(tn){return subtokenize(tn),tn}function tokenizeContent(tn,sn){let un;return dn;function dn(fn){return tn.enter("content"),un=tn.enter("chunkContent",{contentType:"content"}),pn(fn)}function pn(fn){return fn===null?mn(fn):markdownLineEnding(fn)?tn.check(continuationConstruct,hn,mn)(fn):(tn.consume(fn),pn)}function mn(fn){return tn.exit("chunkContent"),tn.exit("content"),sn(fn)}function hn(fn){return tn.consume(fn),tn.exit("chunkContent"),un.next=tn.enter("chunkContent",{contentType:"content",previous:un}),un=un.next,pn}}function tokenizeContinuation(tn,sn,un){const dn=this;return pn;function pn(hn){return tn.exit("chunkContent"),tn.enter("lineEnding"),tn.consume(hn),tn.exit("lineEnding"),factorySpace(tn,mn,"linePrefix")}function mn(hn){if(hn===null||markdownLineEnding(hn))return un(hn);const fn=dn.events[dn.events.length-1];return!dn.parser.constructs.disable.null.includes("codeIndented")&&fn&&fn[1].type==="linePrefix"&&fn[2].sliceSerialize(fn[1],!0).length>=4?sn(hn):tn.interrupt(dn.parser.constructs.flow,un,sn)(hn)}}function factoryDestination(tn,sn,un,dn,pn,mn,hn,fn,gn){const xn=gn||Number.POSITIVE_INFINITY;let yn=0;return vn;function vn(_n){return _n===60?(tn.enter(dn),tn.enter(pn),tn.enter(mn),tn.consume(_n),tn.exit(mn),En):_n===null||_n===32||_n===41||asciiControl(_n)?un(_n):(tn.enter(dn),tn.enter(hn),tn.enter(fn),tn.enter("chunkString",{contentType:"string"}),Sn(_n))}function En(_n){return _n===62?(tn.enter(mn),tn.consume(_n),tn.exit(mn),tn.exit(pn),tn.exit(dn),sn):(tn.enter(fn),tn.enter("chunkString",{contentType:"string"}),bn(_n))}function bn(_n){return _n===62?(tn.exit("chunkString"),tn.exit(fn),En(_n)):_n===null||_n===60||markdownLineEnding(_n)?un(_n):(tn.consume(_n),_n===92?wn:bn)}function wn(_n){return _n===60||_n===62||_n===92?(tn.consume(_n),bn):bn(_n)}function Sn(_n){return!yn&&(_n===null||_n===41||markdownLineEndingOrSpace(_n))?(tn.exit("chunkString"),tn.exit(fn),tn.exit(hn),tn.exit(dn),sn(_n)):yn<xn&&_n===40?(tn.consume(_n),yn++,Sn):_n===41?(tn.consume(_n),yn--,Sn):_n===null||_n===32||_n===40||asciiControl(_n)?un(_n):(tn.consume(_n),_n===92?Rn:Sn)}function Rn(_n){return _n===40||_n===41||_n===92?(tn.consume(_n),Sn):Sn(_n)}}function factoryLabel(tn,sn,un,dn,pn,mn){const hn=this;let fn=0,gn;return xn;function xn(bn){return tn.enter(dn),tn.enter(pn),tn.consume(bn),tn.exit(pn),tn.enter(mn),yn}function yn(bn){return fn>999||bn===null||bn===91||bn===93&&!gn||bn===94&&!fn&&"_hiddenFootnoteSupport"in hn.parser.constructs?un(bn):bn===93?(tn.exit(mn),tn.enter(pn),tn.consume(bn),tn.exit(pn),tn.exit(dn),sn):markdownLineEnding(bn)?(tn.enter("lineEnding"),tn.consume(bn),tn.exit("lineEnding"),yn):(tn.enter("chunkString",{contentType:"string"}),vn(bn))}function vn(bn){return bn===null||bn===91||bn===93||markdownLineEnding(bn)||fn++>999?(tn.exit("chunkString"),yn(bn)):(tn.consume(bn),gn||(gn=!markdownSpace(bn)),bn===92?En:vn)}function En(bn){return bn===91||bn===92||bn===93?(tn.consume(bn),fn++,vn):vn(bn)}}function factoryTitle(tn,sn,un,dn,pn,mn){let hn;return fn;function fn(En){return En===34||En===39||En===40?(tn.enter(dn),tn.enter(pn),tn.consume(En),tn.exit(pn),hn=En===40?41:En,gn):un(En)}function gn(En){return En===hn?(tn.enter(pn),tn.consume(En),tn.exit(pn),tn.exit(dn),sn):(tn.enter(mn),xn(En))}function xn(En){return En===hn?(tn.exit(mn),gn(hn)):En===null?un(En):markdownLineEnding(En)?(tn.enter("lineEnding"),tn.consume(En),tn.exit("lineEnding"),factorySpace(tn,xn,"linePrefix")):(tn.enter("chunkString",{contentType:"string"}),yn(En))}function yn(En){return En===hn||En===null||markdownLineEnding(En)?(tn.exit("chunkString"),xn(En)):(tn.consume(En),En===92?vn:yn)}function vn(En){return En===hn||En===92?(tn.consume(En),yn):yn(En)}}function factoryWhitespace(tn,sn){let un;return dn;function dn(pn){return markdownLineEnding(pn)?(tn.enter("lineEnding"),tn.consume(pn),tn.exit("lineEnding"),un=!0,dn):markdownSpace(pn)?factorySpace(tn,dn,un?"linePrefix":"lineSuffix")(pn):sn(pn)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(tn,sn,un){const dn=this;let pn;return mn;function mn(bn){return tn.enter("definition"),hn(bn)}function hn(bn){return factoryLabel.call(dn,tn,fn,un,"definitionLabel","definitionLabelMarker","definitionLabelString")(bn)}function fn(bn){return pn=normalizeIdentifier(dn.sliceSerialize(dn.events[dn.events.length-1][1]).slice(1,-1)),bn===58?(tn.enter("definitionMarker"),tn.consume(bn),tn.exit("definitionMarker"),gn):un(bn)}function gn(bn){return markdownLineEndingOrSpace(bn)?factoryWhitespace(tn,xn)(bn):xn(bn)}function xn(bn){return factoryDestination(tn,yn,un,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(bn)}function yn(bn){return tn.attempt(titleBefore,vn,vn)(bn)}function vn(bn){return markdownSpace(bn)?factorySpace(tn,En,"whitespace")(bn):En(bn)}function En(bn){return bn===null||markdownLineEnding(bn)?(tn.exit("definition"),dn.parser.defined.push(pn),sn(bn)):un(bn)}}function tokenizeTitleBefore(tn,sn,un){return dn;function dn(fn){return markdownLineEndingOrSpace(fn)?factoryWhitespace(tn,pn)(fn):un(fn)}function pn(fn){return factoryTitle(tn,mn,un,"definitionTitle","definitionTitleMarker","definitionTitleString")(fn)}function mn(fn){return markdownSpace(fn)?factorySpace(tn,hn,"whitespace")(fn):hn(fn)}function hn(fn){return fn===null||markdownLineEnding(fn)?sn(fn):un(fn)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(tn,sn,un){return dn;function dn(mn){return tn.enter("hardBreakEscape"),tn.consume(mn),pn}function pn(mn){return markdownLineEnding(mn)?(tn.exit("hardBreakEscape"),sn(mn)):un(mn)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(tn,sn){let un=tn.length-2,dn=3,pn,mn;return tn[dn][1].type==="whitespace"&&(dn+=2),un-2>dn&&tn[un][1].type==="whitespace"&&(un-=2),tn[un][1].type==="atxHeadingSequence"&&(dn===un-1||un-4>dn&&tn[un-2][1].type==="whitespace")&&(un-=dn+1===un?2:4),un>dn&&(pn={type:"atxHeadingText",start:tn[dn][1].start,end:tn[un][1].end},mn={type:"chunkText",start:tn[dn][1].start,end:tn[un][1].end,contentType:"text"},splice(tn,dn,un-dn+1,[["enter",pn,sn],["enter",mn,sn],["exit",mn,sn],["exit",pn,sn]])),tn}function tokenizeHeadingAtx(tn,sn,un){let dn=0;return pn;function pn(yn){return tn.enter("atxHeading"),mn(yn)}function mn(yn){return tn.enter("atxHeadingSequence"),hn(yn)}function hn(yn){return yn===35&&dn++<6?(tn.consume(yn),hn):yn===null||markdownLineEndingOrSpace(yn)?(tn.exit("atxHeadingSequence"),fn(yn)):un(yn)}function fn(yn){return yn===35?(tn.enter("atxHeadingSequence"),gn(yn)):yn===null||markdownLineEnding(yn)?(tn.exit("atxHeading"),sn(yn)):markdownSpace(yn)?factorySpace(tn,fn,"whitespace")(yn):(tn.enter("atxHeadingText"),xn(yn))}function gn(yn){return yn===35?(tn.consume(yn),gn):(tn.exit("atxHeadingSequence"),fn(yn))}function xn(yn){return yn===null||yn===35||markdownLineEndingOrSpace(yn)?(tn.exit("atxHeadingText"),fn(yn)):(tn.consume(yn),xn)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(tn){let sn=tn.length;for(;sn--&&!(tn[sn][0]==="enter"&&tn[sn][1].type==="htmlFlow"););return sn>1&&tn[sn-2][1].type==="linePrefix"&&(tn[sn][1].start=tn[sn-2][1].start,tn[sn+1][1].start=tn[sn-2][1].start,tn.splice(sn-2,2)),tn}function tokenizeHtmlFlow(tn,sn,un){const dn=this;let pn,mn,hn,fn,gn;return xn;function xn(qn){return yn(qn)}function yn(qn){return tn.enter("htmlFlow"),tn.enter("htmlFlowData"),tn.consume(qn),vn}function vn(qn){return qn===33?(tn.consume(qn),En):qn===47?(tn.consume(qn),mn=!0,Sn):qn===63?(tn.consume(qn),pn=3,dn.interrupt?sn:Bn):asciiAlpha(qn)?(tn.consume(qn),hn=String.fromCharCode(qn),Rn):un(qn)}function En(qn){return qn===45?(tn.consume(qn),pn=2,bn):qn===91?(tn.consume(qn),pn=5,fn=0,wn):asciiAlpha(qn)?(tn.consume(qn),pn=4,dn.interrupt?sn:Bn):un(qn)}function bn(qn){return qn===45?(tn.consume(qn),dn.interrupt?sn:Bn):un(qn)}function wn(qn){const Jn="CDATA[";return qn===Jn.charCodeAt(fn++)?(tn.consume(qn),fn===Jn.length?dn.interrupt?sn:On:wn):un(qn)}function Sn(qn){return asciiAlpha(qn)?(tn.consume(qn),hn=String.fromCharCode(qn),Rn):un(qn)}function Rn(qn){if(qn===null||qn===47||qn===62||markdownLineEndingOrSpace(qn)){const Jn=qn===47,dr=hn.toLowerCase();return!Jn&&!mn&&htmlRawNames.includes(dr)?(pn=1,dn.interrupt?sn(qn):On(qn)):htmlBlockNames.includes(hn.toLowerCase())?(pn=6,Jn?(tn.consume(qn),_n):dn.interrupt?sn(qn):On(qn)):(pn=7,dn.interrupt&&!dn.parser.lazy[dn.now().line]?un(qn):mn?jn(qn):Cn(qn))}return qn===45||asciiAlphanumeric(qn)?(tn.consume(qn),hn+=String.fromCharCode(qn),Rn):un(qn)}function _n(qn){return qn===62?(tn.consume(qn),dn.interrupt?sn:On):un(qn)}function jn(qn){return markdownSpace(qn)?(tn.consume(qn),jn):Pn(qn)}function Cn(qn){return qn===47?(tn.consume(qn),Pn):qn===58||qn===95||asciiAlpha(qn)?(tn.consume(qn),An):markdownSpace(qn)?(tn.consume(qn),Cn):Pn(qn)}function An(qn){return qn===45||qn===46||qn===58||qn===95||asciiAlphanumeric(qn)?(tn.consume(qn),An):Tn(qn)}function Tn(qn){return qn===61?(tn.consume(qn),$n):markdownSpace(qn)?(tn.consume(qn),Tn):Cn(qn)}function $n(qn){return qn===null||qn===60||qn===61||qn===62||qn===96?un(qn):qn===34||qn===39?(tn.consume(qn),gn=qn,Dn):markdownSpace(qn)?(tn.consume(qn),$n):Nn(qn)}function Dn(qn){return qn===gn?(tn.consume(qn),gn=null,kn):qn===null||markdownLineEnding(qn)?un(qn):(tn.consume(qn),Dn)}function Nn(qn){return qn===null||qn===34||qn===39||qn===47||qn===60||qn===61||qn===62||qn===96||markdownLineEndingOrSpace(qn)?Tn(qn):(tn.consume(qn),Nn)}function kn(qn){return qn===47||qn===62||markdownSpace(qn)?Cn(qn):un(qn)}function Pn(qn){return qn===62?(tn.consume(qn),Mn):un(qn)}function Mn(qn){return qn===null||markdownLineEnding(qn)?On(qn):markdownSpace(qn)?(tn.consume(qn),Mn):un(qn)}function On(qn){return qn===45&&pn===2?(tn.consume(qn),Vn):qn===60&&pn===1?(tn.consume(qn),Hn):qn===62&&pn===4?(tn.consume(qn),Fn):qn===63&&pn===3?(tn.consume(qn),Bn):qn===93&&pn===5?(tn.consume(qn),zn):markdownLineEnding(qn)&&(pn===6||pn===7)?(tn.exit("htmlFlowData"),tn.check(blankLineBefore,Gn,Wn)(qn)):qn===null||markdownLineEnding(qn)?(tn.exit("htmlFlowData"),Wn(qn)):(tn.consume(qn),On)}function Wn(qn){return tn.check(nonLazyContinuationStart,In,Gn)(qn)}function In(qn){return tn.enter("lineEnding"),tn.consume(qn),tn.exit("lineEnding"),Un}function Un(qn){return qn===null||markdownLineEnding(qn)?Wn(qn):(tn.enter("htmlFlowData"),On(qn))}function Vn(qn){return qn===45?(tn.consume(qn),Bn):On(qn)}function Hn(qn){return qn===47?(tn.consume(qn),hn="",Ln):On(qn)}function Ln(qn){if(qn===62){const Jn=hn.toLowerCase();return htmlRawNames.includes(Jn)?(tn.consume(qn),Fn):On(qn)}return asciiAlpha(qn)&&hn.length<8?(tn.consume(qn),hn+=String.fromCharCode(qn),Ln):On(qn)}function zn(qn){return qn===93?(tn.consume(qn),Bn):On(qn)}function Bn(qn){return qn===62?(tn.consume(qn),Fn):qn===45&&pn===2?(tn.consume(qn),Bn):On(qn)}function Fn(qn){return qn===null||markdownLineEnding(qn)?(tn.exit("htmlFlowData"),Gn(qn)):(tn.consume(qn),Fn)}function Gn(qn){return tn.exit("htmlFlow"),sn(qn)}}function tokenizeNonLazyContinuationStart(tn,sn,un){const dn=this;return pn;function pn(hn){return markdownLineEnding(hn)?(tn.enter("lineEnding"),tn.consume(hn),tn.exit("lineEnding"),mn):un(hn)}function mn(hn){return dn.parser.lazy[dn.now().line]?un(hn):sn(hn)}}function tokenizeBlankLineBefore(tn,sn,un){return dn;function dn(pn){return tn.enter("lineEnding"),tn.consume(pn),tn.exit("lineEnding"),tn.attempt(blankLine,sn,un)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(tn,sn,un){const dn=this;let pn,mn,hn;return fn;function fn(Bn){return tn.enter("htmlText"),tn.enter("htmlTextData"),tn.consume(Bn),gn}function gn(Bn){return Bn===33?(tn.consume(Bn),xn):Bn===47?(tn.consume(Bn),Tn):Bn===63?(tn.consume(Bn),Cn):asciiAlpha(Bn)?(tn.consume(Bn),Nn):un(Bn)}function xn(Bn){return Bn===45?(tn.consume(Bn),yn):Bn===91?(tn.consume(Bn),mn=0,wn):asciiAlpha(Bn)?(tn.consume(Bn),jn):un(Bn)}function yn(Bn){return Bn===45?(tn.consume(Bn),bn):un(Bn)}function vn(Bn){return Bn===null?un(Bn):Bn===45?(tn.consume(Bn),En):markdownLineEnding(Bn)?(hn=vn,Hn(Bn)):(tn.consume(Bn),vn)}function En(Bn){return Bn===45?(tn.consume(Bn),bn):vn(Bn)}function bn(Bn){return Bn===62?Vn(Bn):Bn===45?En(Bn):vn(Bn)}function wn(Bn){const Fn="CDATA[";return Bn===Fn.charCodeAt(mn++)?(tn.consume(Bn),mn===Fn.length?Sn:wn):un(Bn)}function Sn(Bn){return Bn===null?un(Bn):Bn===93?(tn.consume(Bn),Rn):markdownLineEnding(Bn)?(hn=Sn,Hn(Bn)):(tn.consume(Bn),Sn)}function Rn(Bn){return Bn===93?(tn.consume(Bn),_n):Sn(Bn)}function _n(Bn){return Bn===62?Vn(Bn):Bn===93?(tn.consume(Bn),_n):Sn(Bn)}function jn(Bn){return Bn===null||Bn===62?Vn(Bn):markdownLineEnding(Bn)?(hn=jn,Hn(Bn)):(tn.consume(Bn),jn)}function Cn(Bn){return Bn===null?un(Bn):Bn===63?(tn.consume(Bn),An):markdownLineEnding(Bn)?(hn=Cn,Hn(Bn)):(tn.consume(Bn),Cn)}function An(Bn){return Bn===62?Vn(Bn):Cn(Bn)}function Tn(Bn){return asciiAlpha(Bn)?(tn.consume(Bn),$n):un(Bn)}function $n(Bn){return Bn===45||asciiAlphanumeric(Bn)?(tn.consume(Bn),$n):Dn(Bn)}function Dn(Bn){return markdownLineEnding(Bn)?(hn=Dn,Hn(Bn)):markdownSpace(Bn)?(tn.consume(Bn),Dn):Vn(Bn)}function Nn(Bn){return Bn===45||asciiAlphanumeric(Bn)?(tn.consume(Bn),Nn):Bn===47||Bn===62||markdownLineEndingOrSpace(Bn)?kn(Bn):un(Bn)}function kn(Bn){return Bn===47?(tn.consume(Bn),Vn):Bn===58||Bn===95||asciiAlpha(Bn)?(tn.consume(Bn),Pn):markdownLineEnding(Bn)?(hn=kn,Hn(Bn)):markdownSpace(Bn)?(tn.consume(Bn),kn):Vn(Bn)}function Pn(Bn){return Bn===45||Bn===46||Bn===58||Bn===95||asciiAlphanumeric(Bn)?(tn.consume(Bn),Pn):Mn(Bn)}function Mn(Bn){return Bn===61?(tn.consume(Bn),On):markdownLineEnding(Bn)?(hn=Mn,Hn(Bn)):markdownSpace(Bn)?(tn.consume(Bn),Mn):kn(Bn)}function On(Bn){return Bn===null||Bn===60||Bn===61||Bn===62||Bn===96?un(Bn):Bn===34||Bn===39?(tn.consume(Bn),pn=Bn,Wn):markdownLineEnding(Bn)?(hn=On,Hn(Bn)):markdownSpace(Bn)?(tn.consume(Bn),On):(tn.consume(Bn),In)}function Wn(Bn){return Bn===pn?(tn.consume(Bn),pn=void 0,Un):Bn===null?un(Bn):markdownLineEnding(Bn)?(hn=Wn,Hn(Bn)):(tn.consume(Bn),Wn)}function In(Bn){return Bn===null||Bn===34||Bn===39||Bn===60||Bn===61||Bn===96?un(Bn):Bn===47||Bn===62||markdownLineEndingOrSpace(Bn)?kn(Bn):(tn.consume(Bn),In)}function Un(Bn){return Bn===47||Bn===62||markdownLineEndingOrSpace(Bn)?kn(Bn):un(Bn)}function Vn(Bn){return Bn===62?(tn.consume(Bn),tn.exit("htmlTextData"),tn.exit("htmlText"),sn):un(Bn)}function Hn(Bn){return tn.exit("htmlTextData"),tn.enter("lineEnding"),tn.consume(Bn),tn.exit("lineEnding"),Ln}function Ln(Bn){return markdownSpace(Bn)?factorySpace(tn,zn,"linePrefix",dn.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Bn):zn(Bn)}function zn(Bn){return tn.enter("htmlTextData"),hn(Bn)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(tn){let sn=-1;const un=[];for(;++sn<tn.length;){const dn=tn[sn][1];if(un.push(tn[sn]),dn.type==="labelImage"||dn.type==="labelLink"||dn.type==="labelEnd"){const pn=dn.type==="labelImage"?4:2;dn.type="data",sn+=pn}}return tn.length!==un.length&&splice(tn,0,tn.length,un),tn}function resolveToLabelEnd(tn,sn){let un=tn.length,dn=0,pn,mn,hn,fn;for(;un--;)if(pn=tn[un][1],mn){if(pn.type==="link"||pn.type==="labelLink"&&pn._inactive)break;tn[un][0]==="enter"&&pn.type==="labelLink"&&(pn._inactive=!0)}else if(hn){if(tn[un][0]==="enter"&&(pn.type==="labelImage"||pn.type==="labelLink")&&!pn._balanced&&(mn=un,pn.type!=="labelLink")){dn=2;break}}else pn.type==="labelEnd"&&(hn=un);const gn={type:tn[mn][1].type==="labelLink"?"link":"image",start:{...tn[mn][1].start},end:{...tn[tn.length-1][1].end}},xn={type:"label",start:{...tn[mn][1].start},end:{...tn[hn][1].end}},yn={type:"labelText",start:{...tn[mn+dn+2][1].end},end:{...tn[hn-2][1].start}};return fn=[["enter",gn,sn],["enter",xn,sn]],fn=push(fn,tn.slice(mn+1,mn+dn+3)),fn=push(fn,[["enter",yn,sn]]),fn=push(fn,resolveAll(sn.parser.constructs.insideSpan.null,tn.slice(mn+dn+4,hn-3),sn)),fn=push(fn,[["exit",yn,sn],tn[hn-2],tn[hn-1],["exit",xn,sn]]),fn=push(fn,tn.slice(hn+1)),fn=push(fn,[["exit",gn,sn]]),splice(tn,mn,tn.length,fn),tn}function tokenizeLabelEnd(tn,sn,un){const dn=this;let pn=dn.events.length,mn,hn;for(;pn--;)if((dn.events[pn][1].type==="labelImage"||dn.events[pn][1].type==="labelLink")&&!dn.events[pn][1]._balanced){mn=dn.events[pn][1];break}return fn;function fn(En){return mn?mn._inactive?vn(En):(hn=dn.parser.defined.includes(normalizeIdentifier(dn.sliceSerialize({start:mn.end,end:dn.now()}))),tn.enter("labelEnd"),tn.enter("labelMarker"),tn.consume(En),tn.exit("labelMarker"),tn.exit("labelEnd"),gn):un(En)}function gn(En){return En===40?tn.attempt(resourceConstruct,yn,hn?yn:vn)(En):En===91?tn.attempt(referenceFullConstruct,yn,hn?xn:vn)(En):hn?yn(En):vn(En)}function xn(En){return tn.attempt(referenceCollapsedConstruct,yn,vn)(En)}function yn(En){return sn(En)}function vn(En){return mn._balanced=!0,un(En)}}function tokenizeResource(tn,sn,un){return dn;function dn(vn){return tn.enter("resource"),tn.enter("resourceMarker"),tn.consume(vn),tn.exit("resourceMarker"),pn}function pn(vn){return markdownLineEndingOrSpace(vn)?factoryWhitespace(tn,mn)(vn):mn(vn)}function mn(vn){return vn===41?yn(vn):factoryDestination(tn,hn,fn,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(vn)}function hn(vn){return markdownLineEndingOrSpace(vn)?factoryWhitespace(tn,gn)(vn):yn(vn)}function fn(vn){return un(vn)}function gn(vn){return vn===34||vn===39||vn===40?factoryTitle(tn,xn,un,"resourceTitle","resourceTitleMarker","resourceTitleString")(vn):yn(vn)}function xn(vn){return markdownLineEndingOrSpace(vn)?factoryWhitespace(tn,yn)(vn):yn(vn)}function yn(vn){return vn===41?(tn.enter("resourceMarker"),tn.consume(vn),tn.exit("resourceMarker"),tn.exit("resource"),sn):un(vn)}}function tokenizeReferenceFull(tn,sn,un){const dn=this;return pn;function pn(fn){return factoryLabel.call(dn,tn,mn,hn,"reference","referenceMarker","referenceString")(fn)}function mn(fn){return dn.parser.defined.includes(normalizeIdentifier(dn.sliceSerialize(dn.events[dn.events.length-1][1]).slice(1,-1)))?sn(fn):un(fn)}function hn(fn){return un(fn)}}function tokenizeReferenceCollapsed(tn,sn,un){return dn;function dn(mn){return tn.enter("reference"),tn.enter("referenceMarker"),tn.consume(mn),tn.exit("referenceMarker"),pn}function pn(mn){return mn===93?(tn.enter("referenceMarker"),tn.consume(mn),tn.exit("referenceMarker"),tn.exit("reference"),sn):un(mn)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(tn,sn,un){const dn=this;return pn;function pn(fn){return tn.enter("labelImage"),tn.enter("labelImageMarker"),tn.consume(fn),tn.exit("labelImageMarker"),mn}function mn(fn){return fn===91?(tn.enter("labelMarker"),tn.consume(fn),tn.exit("labelMarker"),tn.exit("labelImage"),hn):un(fn)}function hn(fn){return fn===94&&"_hiddenFootnoteSupport"in dn.parser.constructs?un(fn):sn(fn)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(tn,sn,un){const dn=this;return pn;function pn(hn){return tn.enter("labelLink"),tn.enter("labelMarker"),tn.consume(hn),tn.exit("labelMarker"),tn.exit("labelLink"),mn}function mn(hn){return hn===94&&"_hiddenFootnoteSupport"in dn.parser.constructs?un(hn):sn(hn)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(tn,sn){return un;function un(dn){return tn.enter("lineEnding"),tn.consume(dn),tn.exit("lineEnding"),factorySpace(tn,sn,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(tn,sn,un){let dn=0,pn;return mn;function mn(xn){return tn.enter("thematicBreak"),hn(xn)}function hn(xn){return pn=xn,fn(xn)}function fn(xn){return xn===pn?(tn.enter("thematicBreakSequence"),gn(xn)):dn>=3&&(xn===null||markdownLineEnding(xn))?(tn.exit("thematicBreak"),sn(xn)):un(xn)}function gn(xn){return xn===pn?(tn.consume(xn),dn++,gn):(tn.exit("thematicBreakSequence"),markdownSpace(xn)?factorySpace(tn,fn,"whitespace")(xn):fn(xn))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$1};function tokenizeListStart(tn,sn,un){const dn=this,pn=dn.events[dn.events.length-1];let mn=pn&&pn[1].type==="linePrefix"?pn[2].sliceSerialize(pn[1],!0).length:0,hn=0;return fn;function fn(bn){const wn=dn.containerState.type||(bn===42||bn===43||bn===45?"listUnordered":"listOrdered");if(wn==="listUnordered"?!dn.containerState.marker||bn===dn.containerState.marker:asciiDigit(bn)){if(dn.containerState.type||(dn.containerState.type=wn,tn.enter(wn,{_container:!0})),wn==="listUnordered")return tn.enter("listItemPrefix"),bn===42||bn===45?tn.check(thematicBreak$2,un,xn)(bn):xn(bn);if(!dn.interrupt||bn===49)return tn.enter("listItemPrefix"),tn.enter("listItemValue"),gn(bn)}return un(bn)}function gn(bn){return asciiDigit(bn)&&++hn<10?(tn.consume(bn),gn):(!dn.interrupt||hn<2)&&(dn.containerState.marker?bn===dn.containerState.marker:bn===41||bn===46)?(tn.exit("listItemValue"),xn(bn)):un(bn)}function xn(bn){return tn.enter("listItemMarker"),tn.consume(bn),tn.exit("listItemMarker"),dn.containerState.marker=dn.containerState.marker||bn,tn.check(blankLine,dn.interrupt?un:yn,tn.attempt(listItemPrefixWhitespaceConstruct,En,vn))}function yn(bn){return dn.containerState.initialBlankLine=!0,mn++,En(bn)}function vn(bn){return markdownSpace(bn)?(tn.enter("listItemPrefixWhitespace"),tn.consume(bn),tn.exit("listItemPrefixWhitespace"),En):un(bn)}function En(bn){return dn.containerState.size=mn+dn.sliceSerialize(tn.exit("listItemPrefix"),!0).length,sn(bn)}}function tokenizeListContinuation(tn,sn,un){const dn=this;return dn.containerState._closeFlow=void 0,tn.check(blankLine,pn,mn);function pn(fn){return dn.containerState.furtherBlankLines=dn.containerState.furtherBlankLines||dn.containerState.initialBlankLine,factorySpace(tn,sn,"listItemIndent",dn.containerState.size+1)(fn)}function mn(fn){return dn.containerState.furtherBlankLines||!markdownSpace(fn)?(dn.containerState.furtherBlankLines=void 0,dn.containerState.initialBlankLine=void 0,hn(fn)):(dn.containerState.furtherBlankLines=void 0,dn.containerState.initialBlankLine=void 0,tn.attempt(indentConstruct,sn,hn)(fn))}function hn(fn){return dn.containerState._closeFlow=!0,dn.interrupt=void 0,factorySpace(tn,tn.attempt(list$2,sn,un),"linePrefix",dn.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fn)}}function tokenizeIndent$1(tn,sn,un){const dn=this;return factorySpace(tn,pn,"listItemIndent",dn.containerState.size+1);function pn(mn){const hn=dn.events[dn.events.length-1];return hn&&hn[1].type==="listItemIndent"&&hn[2].sliceSerialize(hn[1],!0).length===dn.containerState.size?sn(mn):un(mn)}}function tokenizeListEnd(tn){tn.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(tn,sn,un){const dn=this;return factorySpace(tn,pn,"listItemPrefixWhitespace",dn.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function pn(mn){const hn=dn.events[dn.events.length-1];return!markdownSpace(mn)&&hn&&hn[1].type==="listItemPrefixWhitespace"?sn(mn):un(mn)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(tn,sn){let un=tn.length,dn,pn,mn;for(;un--;)if(tn[un][0]==="enter"){if(tn[un][1].type==="content"){dn=un;break}tn[un][1].type==="paragraph"&&(pn=un)}else tn[un][1].type==="content"&&tn.splice(un,1),!mn&&tn[un][1].type==="definition"&&(mn=un);const hn={type:"setextHeading",start:{...tn[dn][1].start},end:{...tn[tn.length-1][1].end}};return tn[pn][1].type="setextHeadingText",mn?(tn.splice(pn,0,["enter",hn,sn]),tn.splice(mn+1,0,["exit",tn[dn][1],sn]),tn[dn][1].end={...tn[mn][1].end}):tn[dn][1]=hn,tn.push(["exit",hn,sn]),tn}function tokenizeSetextUnderline(tn,sn,un){const dn=this;let pn;return mn;function mn(xn){let yn=dn.events.length,vn;for(;yn--;)if(dn.events[yn][1].type!=="lineEnding"&&dn.events[yn][1].type!=="linePrefix"&&dn.events[yn][1].type!=="content"){vn=dn.events[yn][1].type==="paragraph";break}return!dn.parser.lazy[dn.now().line]&&(dn.interrupt||vn)?(tn.enter("setextHeadingLine"),pn=xn,hn(xn)):un(xn)}function hn(xn){return tn.enter("setextHeadingLineSequence"),fn(xn)}function fn(xn){return xn===pn?(tn.consume(xn),fn):(tn.exit("setextHeadingLineSequence"),markdownSpace(xn)?factorySpace(tn,gn,"lineSuffix")(xn):gn(xn))}function gn(xn){return xn===null||markdownLineEnding(xn)?(tn.exit("setextHeadingLine"),sn(xn)):un(xn)}}const flow$1={tokenize:initializeFlow};function initializeFlow(tn){const sn=this,un=tn.attempt(blankLine,dn,tn.attempt(this.parser.constructs.flowInitial,pn,factorySpace(tn,tn.attempt(this.parser.constructs.flow,pn,tn.attempt(content,pn)),"linePrefix")));return un;function dn(mn){if(mn===null){tn.consume(mn);return}return tn.enter("lineEndingBlank"),tn.consume(mn),tn.exit("lineEndingBlank"),sn.currentConstruct=void 0,un}function pn(mn){if(mn===null){tn.consume(mn);return}return tn.enter("lineEnding"),tn.consume(mn),tn.exit("lineEnding"),sn.currentConstruct=void 0,un}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$4=initializeFactory("text");function initializeFactory(tn){return{resolveAll:createResolver(tn==="text"?resolveAllLineSuffixes:void 0),tokenize:sn};function sn(un){const dn=this,pn=this.parser.constructs[tn],mn=un.attempt(pn,hn,fn);return hn;function hn(yn){return xn(yn)?mn(yn):fn(yn)}function fn(yn){if(yn===null){un.consume(yn);return}return un.enter("data"),un.consume(yn),gn}function gn(yn){return xn(yn)?(un.exit("data"),mn(yn)):(un.consume(yn),gn)}function xn(yn){if(yn===null)return!0;const vn=pn[yn];let En=-1;if(vn)for(;++En<vn.length;){const bn=vn[En];if(!bn.previous||bn.previous.call(dn,dn.previous))return!0}return!1}}}function createResolver(tn){return sn;function sn(un,dn){let pn=-1,mn;for(;++pn<=un.length;)mn===void 0?un[pn]&&un[pn][1].type==="data"&&(mn=pn,pn++):(!un[pn]||un[pn][1].type!=="data")&&(pn!==mn+2&&(un[mn][1].end=un[pn-1][1].end,un.splice(mn+2,pn-mn-2),pn=mn+2),mn=void 0);return tn?tn(un,dn):un}}function resolveAllLineSuffixes(tn,sn){let un=0;for(;++un<=tn.length;)if((un===tn.length||tn[un][1].type==="lineEnding")&&tn[un-1][1].type==="data"){const dn=tn[un-1][1],pn=sn.sliceStream(dn);let mn=pn.length,hn=-1,fn=0,gn;for(;mn--;){const xn=pn[mn];if(typeof xn=="string"){for(hn=xn.length;xn.charCodeAt(hn-1)===32;)fn++,hn--;if(hn)break;hn=-1}else if(xn===-2)gn=!0,fn++;else if(xn!==-1){mn++;break}}if(sn._contentTypeTextTrailing&&un===tn.length&&(fn=0),fn){const xn={type:un===tn.length||gn||fn<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:mn?hn:dn.start._bufferIndex+hn,_index:dn.start._index+mn,line:dn.end.line,column:dn.end.column-fn,offset:dn.end.offset-fn},end:{...dn.end}};dn.end={...xn.start},dn.start.offset===dn.end.offset?Object.assign(dn,xn):(tn.splice(un,0,["enter",xn,sn],["exit",xn,sn]),un+=2)}un++}return tn}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$3={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$3},Symbol.toStringTag,{value:"Module"}));function createTokenizer(tn,sn,un){let dn={_bufferIndex:-1,_index:0,line:un&&un.line||1,column:un&&un.column||1,offset:un&&un.offset||0};const pn={},mn=[];let hn=[],fn=[];const gn={attempt:Dn(Tn),check:Dn($n),consume:jn,enter:Cn,exit:An,interrupt:Dn($n,{interrupt:!0})},xn={code:null,containerState:{},defineSkip:Sn,events:[],now:wn,parser:tn,previous:null,sliceSerialize:En,sliceStream:bn,write:vn};let yn=sn.tokenize.call(xn,gn);return sn.resolveAll&&mn.push(sn),xn;function vn(Mn){return hn=push(hn,Mn),Rn(),hn[hn.length-1]!==null?[]:(Nn(sn,0),xn.events=resolveAll(mn,xn.events,xn),xn.events)}function En(Mn,On){return serializeChunks(bn(Mn),On)}function bn(Mn){return sliceChunks(hn,Mn)}function wn(){const{_bufferIndex:Mn,_index:On,line:Wn,column:In,offset:Un}=dn;return{_bufferIndex:Mn,_index:On,line:Wn,column:In,offset:Un}}function Sn(Mn){pn[Mn.line]=Mn.column,Pn()}function Rn(){let Mn;for(;dn._index<hn.length;){const On=hn[dn._index];if(typeof On=="string")for(Mn=dn._index,dn._bufferIndex<0&&(dn._bufferIndex=0);dn._index===Mn&&dn._bufferIndex<On.length;)_n(On.charCodeAt(dn._bufferIndex));else _n(On)}}function _n(Mn){yn=yn(Mn)}function jn(Mn){markdownLineEnding(Mn)?(dn.line++,dn.column=1,dn.offset+=Mn===-3?2:1,Pn()):Mn!==-1&&(dn.column++,dn.offset++),dn._bufferIndex<0?dn._index++:(dn._bufferIndex++,dn._bufferIndex===hn[dn._index].length&&(dn._bufferIndex=-1,dn._index++)),xn.previous=Mn}function Cn(Mn,On){const Wn=On||{};return Wn.type=Mn,Wn.start=wn(),xn.events.push(["enter",Wn,xn]),fn.push(Wn),Wn}function An(Mn){const On=fn.pop();return On.end=wn(),xn.events.push(["exit",On,xn]),On}function Tn(Mn,On){Nn(Mn,On.from)}function $n(Mn,On){On.restore()}function Dn(Mn,On){return Wn;function Wn(In,Un,Vn){let Hn,Ln,zn,Bn;return Array.isArray(In)?Gn(In):"tokenize"in In?Gn([In]):Fn(In);function Fn(br){return Er;function Er(yr){const xr=yr!==null&&br[yr],vr=yr!==null&&br.null,nr=[...Array.isArray(xr)?xr:xr?[xr]:[],...Array.isArray(vr)?vr:vr?[vr]:[]];return Gn(nr)(yr)}}function Gn(br){return Hn=br,Ln=0,br.length===0?Vn:qn(br[Ln])}function qn(br){return Er;function Er(yr){return Bn=kn(),zn=br,br.partial||(xn.currentConstruct=br),br.name&&xn.parser.constructs.disable.null.includes(br.name)?dr():br.tokenize.call(On?Object.assign(Object.create(xn),On):xn,gn,Jn,dr)(yr)}}function Jn(br){return Mn(zn,Bn),Un}function dr(br){return Bn.restore(),++Ln<Hn.length?qn(Hn[Ln]):Vn}}}function Nn(Mn,On){Mn.resolveAll&&!mn.includes(Mn)&&mn.push(Mn),Mn.resolve&&splice(xn.events,On,xn.events.length-On,Mn.resolve(xn.events.slice(On),xn)),Mn.resolveTo&&(xn.events=Mn.resolveTo(xn.events,xn))}function kn(){const Mn=wn(),On=xn.previous,Wn=xn.currentConstruct,In=xn.events.length,Un=Array.from(fn);return{from:In,restore:Vn};function Vn(){dn=Mn,xn.previous=On,xn.currentConstruct=Wn,xn.events.length=In,fn=Un,Pn()}}function Pn(){dn.line in pn&&dn.column<2&&(dn.column=pn[dn.line],dn.offset+=pn[dn.line]-1)}}function sliceChunks(tn,sn){const un=sn.start._index,dn=sn.start._bufferIndex,pn=sn.end._index,mn=sn.end._bufferIndex;let hn;if(un===pn)hn=[tn[un].slice(dn,mn)];else{if(hn=tn.slice(un,pn),dn>-1){const fn=hn[0];typeof fn=="string"?hn[0]=fn.slice(dn):hn.shift()}mn>0&&hn.push(tn[pn].slice(0,mn))}return hn}function serializeChunks(tn,sn){let un=-1;const dn=[];let pn;for(;++un<tn.length;){const mn=tn[un];let hn;if(typeof mn=="string")hn=mn;else switch(mn){case-5:{hn="\r";break}case-4:{hn=`
`;break}case-3:{hn=`\r
`;break}case-2:{hn=sn?" ":"	";break}case-1:{if(!sn&&pn)continue;hn=" ";break}default:hn=String.fromCharCode(mn)}pn=mn===-2,dn.push(hn)}return dn.join("")}function parse(tn){const dn={constructs:combineExtensions([defaultConstructs,...(tn||{}).extensions||[]]),content:pn(content$1),defined:[],document:pn(document$2),flow:pn(flow$1),lazy:{},string:pn(string$1),text:pn(text$4)};return dn;function pn(mn){return hn;function hn(fn){return createTokenizer(dn,mn,fn)}}}function postprocess(tn){for(;!subtokenize(tn););return tn}const search=/[\0\t\n\r]/g;function preprocess(){let tn=1,sn="",un=!0,dn;return pn;function pn(mn,hn,fn){const gn=[];let xn,yn,vn,En,bn;for(mn=sn+(typeof mn=="string"?mn.toString():new TextDecoder(hn||void 0).decode(mn)),vn=0,sn="",un&&(mn.charCodeAt(0)===65279&&vn++,un=void 0);vn<mn.length;){if(search.lastIndex=vn,xn=search.exec(mn),En=xn&&xn.index!==void 0?xn.index:mn.length,bn=mn.charCodeAt(En),!xn){sn=mn.slice(vn);break}if(bn===10&&vn===En&&dn)gn.push(-3),dn=void 0;else switch(dn&&(gn.push(-5),dn=void 0),vn<En&&(gn.push(mn.slice(vn,En)),tn+=En-vn),bn){case 0:{gn.push(65533),tn++;break}case 9:{for(yn=Math.ceil(tn/4)*4,gn.push(-2);tn++<yn;)gn.push(-1);break}case 10:{gn.push(-4),tn=1;break}default:dn=!0,tn=1}vn=En+1}return fn&&(dn&&gn.push(-5),sn&&gn.push(sn),gn.push(null)),gn}}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(tn){return tn.replace(characterEscapeOrReference,decode)}function decode(tn,sn,un){if(sn)return sn;if(un.charCodeAt(0)===35){const pn=un.charCodeAt(1),mn=pn===120||pn===88;return decodeNumericCharacterReference(un.slice(mn?2:1),mn?16:10)}return decodeNamedCharacterReference(un)||tn}const own$2={}.hasOwnProperty;function fromMarkdown(tn,sn,un){return typeof sn!="string"&&(un=sn,sn=void 0),compiler(un)(postprocess(parse(un).document().write(preprocess()(tn,sn,!0))))}function compiler(tn){const sn={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:mn(Fr),autolinkProtocol:kn,autolinkEmail:kn,atxHeading:mn(Lr),blockQuote:mn(vr),characterEscape:kn,characterReference:kn,codeFenced:mn(nr),codeFencedFenceInfo:hn,codeFencedFenceMeta:hn,codeIndented:mn(nr,hn),codeText:mn(sr,hn),codeTextData:kn,data:kn,codeFlowValue:kn,definition:mn(Rr),definitionDestinationString:hn,definitionLabelString:hn,definitionTitleString:hn,emphasis:mn(Ar),hardBreakEscape:mn(Or),hardBreakTrailing:mn(Or),htmlFlow:mn(Zn,hn),htmlFlowData:kn,htmlText:mn(Zn,hn),htmlTextData:kn,image:mn(Cr),label:hn,link:mn(Fr),listItem:mn(Br),listItemValue:En,listOrdered:mn(Pr,vn),listUnordered:mn(Pr),paragraph:mn(ar),reference:qn,referenceString:hn,resourceDestinationString:hn,resourceTitleString:hn,setextHeading:mn(Lr),strong:mn(pr),thematicBreak:mn($r)},exit:{atxHeading:gn(),atxHeadingSequence:Tn,autolink:gn(),autolinkEmail:xr,autolinkProtocol:yr,blockQuote:gn(),characterEscapeValue:Pn,characterReferenceMarkerHexadecimal:dr,characterReferenceMarkerNumeric:dr,characterReferenceValue:br,characterReference:Er,codeFenced:gn(Rn),codeFencedFence:Sn,codeFencedFenceInfo:bn,codeFencedFenceMeta:wn,codeFlowValue:Pn,codeIndented:gn(_n),codeText:gn(Un),codeTextData:Pn,data:Pn,definition:gn(),definitionDestinationString:An,definitionLabelString:jn,definitionTitleString:Cn,emphasis:gn(),hardBreakEscape:gn(On),hardBreakTrailing:gn(On),htmlFlow:gn(Wn),htmlFlowData:Pn,htmlText:gn(In),htmlTextData:Pn,image:gn(Hn),label:zn,labelText:Ln,lineEnding:Mn,link:gn(Vn),listItem:gn(),listOrdered:gn(),listUnordered:gn(),paragraph:gn(),referenceString:Jn,resourceDestinationString:Bn,resourceTitleString:Fn,resource:Gn,setextHeading:gn(Nn),setextHeadingLineSequence:Dn,setextHeadingText:$n,strong:gn(),thematicBreak:gn()}};configure(sn,(tn||{}).mdastExtensions||[]);const un={};return dn;function dn(lr){let gr={type:"root",children:[]};const _r={stack:[gr],tokenStack:[],config:sn,enter:fn,exit:xn,buffer:hn,resume:yn,data:un},Hr=[];let Vr=-1;for(;++Vr<lr.length;)if(lr[Vr][1].type==="listOrdered"||lr[Vr][1].type==="listUnordered")if(lr[Vr][0]==="enter")Hr.push(Vr);else{const ss=Hr.pop();Vr=pn(lr,ss,Vr)}for(Vr=-1;++Vr<lr.length;){const ss=sn[lr[Vr][0]];own$2.call(ss,lr[Vr][1].type)&&ss[lr[Vr][1].type].call(Object.assign({sliceSerialize:lr[Vr][2].sliceSerialize},_r),lr[Vr][1])}if(_r.tokenStack.length>0){const ss=_r.tokenStack[_r.tokenStack.length-1];(ss[1]||defaultOnError).call(_r,void 0,ss[0])}for(gr.position={start:point(lr.length>0?lr[0][1].start:{line:1,column:1,offset:0}),end:point(lr.length>0?lr[lr.length-2][1].end:{line:1,column:1,offset:0})},Vr=-1;++Vr<sn.transforms.length;)gr=sn.transforms[Vr](gr)||gr;return gr}function pn(lr,gr,_r){let Hr=gr-1,Vr=-1,ss=!1,Rs,Cs,Ps,js;for(;++Hr<=_r;){const ms=lr[Hr];switch(ms[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ms[0]==="enter"?Vr++:Vr--,js=void 0;break}case"lineEndingBlank":{ms[0]==="enter"&&(Rs&&!js&&!Vr&&!Ps&&(Ps=Hr),js=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:js=void 0}if(!Vr&&ms[0]==="enter"&&ms[1].type==="listItemPrefix"||Vr===-1&&ms[0]==="exit"&&(ms[1].type==="listUnordered"||ms[1].type==="listOrdered")){if(Rs){let ks=Hr;for(Cs=void 0;ks--;){const Nr=lr[ks];if(Nr[1].type==="lineEnding"||Nr[1].type==="lineEndingBlank"){if(Nr[0]==="exit")continue;Cs&&(lr[Cs][1].type="lineEndingBlank",ss=!0),Nr[1].type="lineEnding",Cs=ks}else if(!(Nr[1].type==="linePrefix"||Nr[1].type==="blockQuotePrefix"||Nr[1].type==="blockQuotePrefixWhitespace"||Nr[1].type==="blockQuoteMarker"||Nr[1].type==="listItemIndent"))break}Ps&&(!Cs||Ps<Cs)&&(Rs._spread=!0),Rs.end=Object.assign({},Cs?lr[Cs][1].start:ms[1].end),lr.splice(Cs||Hr,0,["exit",Rs,ms[2]]),Hr++,_r++}if(ms[1].type==="listItemPrefix"){const ks={type:"listItem",_spread:!1,start:Object.assign({},ms[1].start),end:void 0};Rs=ks,lr.splice(Hr,0,["enter",ks,ms[2]]),Hr++,_r++,Ps=void 0,js=!0}}}return lr[gr][1]._spread=ss,_r}function mn(lr,gr){return _r;function _r(Hr){fn.call(this,lr(Hr),Hr),gr&&gr.call(this,Hr)}}function hn(){this.stack.push({type:"fragment",children:[]})}function fn(lr,gr,_r){this.stack[this.stack.length-1].children.push(lr),this.stack.push(lr),this.tokenStack.push([gr,_r||void 0]),lr.position={start:point(gr.start),end:void 0}}function gn(lr){return gr;function gr(_r){lr&&lr.call(this,_r),xn.call(this,_r)}}function xn(lr,gr){const _r=this.stack.pop(),Hr=this.tokenStack.pop();if(Hr)Hr[0].type!==lr.type&&(gr?gr.call(this,lr,Hr[0]):(Hr[1]||defaultOnError).call(this,lr,Hr[0]));else throw new Error("Cannot close `"+lr.type+"` ("+stringifyPosition({start:lr.start,end:lr.end})+"): it’s not open");_r.position.end=point(lr.end)}function yn(){return toString$1(this.stack.pop())}function vn(){this.data.expectingFirstListItemValue=!0}function En(lr){if(this.data.expectingFirstListItemValue){const gr=this.stack[this.stack.length-2];gr.start=Number.parseInt(this.sliceSerialize(lr),10),this.data.expectingFirstListItemValue=void 0}}function bn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.lang=lr}function wn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.meta=lr}function Sn(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function Rn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.value=lr.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _n(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.value=lr.replace(/(\r?\n|\r)$/g,"")}function jn(lr){const gr=this.resume(),_r=this.stack[this.stack.length-1];_r.label=gr,_r.identifier=normalizeIdentifier(this.sliceSerialize(lr)).toLowerCase()}function Cn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.title=lr}function An(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.url=lr}function Tn(lr){const gr=this.stack[this.stack.length-1];if(!gr.depth){const _r=this.sliceSerialize(lr).length;gr.depth=_r}}function $n(){this.data.setextHeadingSlurpLineEnding=!0}function Dn(lr){const gr=this.stack[this.stack.length-1];gr.depth=this.sliceSerialize(lr).codePointAt(0)===61?1:2}function Nn(){this.data.setextHeadingSlurpLineEnding=void 0}function kn(lr){const _r=this.stack[this.stack.length-1].children;let Hr=_r[_r.length-1];(!Hr||Hr.type!=="text")&&(Hr=Xn(),Hr.position={start:point(lr.start),end:void 0},_r.push(Hr)),this.stack.push(Hr)}function Pn(lr){const gr=this.stack.pop();gr.value+=this.sliceSerialize(lr),gr.position.end=point(lr.end)}function Mn(lr){const gr=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _r=gr.children[gr.children.length-1];_r.position.end=point(lr.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&sn.canContainEols.includes(gr.type)&&(kn.call(this,lr),Pn.call(this,lr))}function On(){this.data.atHardBreak=!0}function Wn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.value=lr}function In(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.value=lr}function Un(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.value=lr}function Vn(){const lr=this.stack[this.stack.length-1];if(this.data.inReference){const gr=this.data.referenceType||"shortcut";lr.type+="Reference",lr.referenceType=gr,delete lr.url,delete lr.title}else delete lr.identifier,delete lr.label;this.data.referenceType=void 0}function Hn(){const lr=this.stack[this.stack.length-1];if(this.data.inReference){const gr=this.data.referenceType||"shortcut";lr.type+="Reference",lr.referenceType=gr,delete lr.url,delete lr.title}else delete lr.identifier,delete lr.label;this.data.referenceType=void 0}function Ln(lr){const gr=this.sliceSerialize(lr),_r=this.stack[this.stack.length-2];_r.label=decodeString(gr),_r.identifier=normalizeIdentifier(gr).toLowerCase()}function zn(){const lr=this.stack[this.stack.length-1],gr=this.resume(),_r=this.stack[this.stack.length-1];if(this.data.inReference=!0,_r.type==="link"){const Hr=lr.children;_r.children=Hr}else _r.alt=gr}function Bn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.url=lr}function Fn(){const lr=this.resume(),gr=this.stack[this.stack.length-1];gr.title=lr}function Gn(){this.data.inReference=void 0}function qn(){this.data.referenceType="collapsed"}function Jn(lr){const gr=this.resume(),_r=this.stack[this.stack.length-1];_r.label=gr,_r.identifier=normalizeIdentifier(this.sliceSerialize(lr)).toLowerCase(),this.data.referenceType="full"}function dr(lr){this.data.characterReferenceType=lr.type}function br(lr){const gr=this.sliceSerialize(lr),_r=this.data.characterReferenceType;let Hr;_r?(Hr=decodeNumericCharacterReference(gr,_r==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Hr=decodeNamedCharacterReference(gr);const Vr=this.stack[this.stack.length-1];Vr.value+=Hr}function Er(lr){const gr=this.stack.pop();gr.position.end=point(lr.end)}function yr(lr){Pn.call(this,lr);const gr=this.stack[this.stack.length-1];gr.url=this.sliceSerialize(lr)}function xr(lr){Pn.call(this,lr);const gr=this.stack[this.stack.length-1];gr.url="mailto:"+this.sliceSerialize(lr)}function vr(){return{type:"blockquote",children:[]}}function nr(){return{type:"code",lang:null,meta:null,value:""}}function sr(){return{type:"inlineCode",value:""}}function Rr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ar(){return{type:"emphasis",children:[]}}function Lr(){return{type:"heading",depth:0,children:[]}}function Or(){return{type:"break"}}function Zn(){return{type:"html",value:""}}function Cr(){return{type:"image",title:null,url:"",alt:null}}function Fr(){return{type:"link",title:null,url:"",children:[]}}function Pr(lr){return{type:"list",ordered:lr.type==="listOrdered",start:null,spread:lr._spread,children:[]}}function Br(lr){return{type:"listItem",spread:lr._spread,checked:null,children:[]}}function ar(){return{type:"paragraph",children:[]}}function pr(){return{type:"strong",children:[]}}function Xn(){return{type:"text",value:""}}function $r(){return{type:"thematicBreak"}}}function point(tn){return{line:tn.line,column:tn.column,offset:tn.offset}}function configure(tn,sn){let un=-1;for(;++un<sn.length;){const dn=sn[un];Array.isArray(dn)?configure(tn,dn):extension(tn,dn)}}function extension(tn,sn){let un;for(un in sn)if(own$2.call(sn,un))switch(un){case"canContainEols":{const dn=sn[un];dn&&tn[un].push(...dn);break}case"transforms":{const dn=sn[un];dn&&tn[un].push(...dn);break}case"enter":case"exit":{const dn=sn[un];dn&&Object.assign(tn[un],dn);break}}}function defaultOnError(tn,sn){throw tn?new Error("Cannot close `"+tn.type+"` ("+stringifyPosition({start:tn.start,end:tn.end})+"): a different token (`"+sn.type+"`, "+stringifyPosition({start:sn.start,end:sn.end})+") is open"):new Error("Cannot close document, a token (`"+sn.type+"`, "+stringifyPosition({start:sn.start,end:sn.end})+") is still open")}function remarkParse(tn){const sn=this;sn.parser=un;function un(dn){return fromMarkdown(dn,{...sn.data("settings"),...tn,extensions:sn.data("micromarkExtensions")||[],mdastExtensions:sn.data("fromMarkdownExtensions")||[]})}}function blockquote$1(tn,sn){const un={type:"element",tagName:"blockquote",properties:{},children:tn.wrap(tn.all(sn),!0)};return tn.patch(sn,un),tn.applyData(sn,un)}function hardBreak$1(tn,sn){const un={type:"element",tagName:"br",properties:{},children:[]};return tn.patch(sn,un),[tn.applyData(sn,un),{type:"text",value:`
`}]}function code$2(tn,sn){const un=sn.value?sn.value+`
`:"",dn={};sn.lang&&(dn.className=["language-"+sn.lang]);let pn={type:"element",tagName:"code",properties:dn,children:[{type:"text",value:un}]};return sn.meta&&(pn.data={meta:sn.meta}),tn.patch(sn,pn),pn=tn.applyData(sn,pn),pn={type:"element",tagName:"pre",properties:{},children:[pn]},tn.patch(sn,pn),pn}function strikethrough(tn,sn){const un={type:"element",tagName:"del",properties:{},children:tn.all(sn)};return tn.patch(sn,un),tn.applyData(sn,un)}function emphasis$1(tn,sn){const un={type:"element",tagName:"em",properties:{},children:tn.all(sn)};return tn.patch(sn,un),tn.applyData(sn,un)}function footnoteReference$1(tn,sn){const un=typeof tn.options.clobberPrefix=="string"?tn.options.clobberPrefix:"user-content-",dn=String(sn.identifier).toUpperCase(),pn=normalizeUri(dn.toLowerCase()),mn=tn.footnoteOrder.indexOf(dn);let hn,fn=tn.footnoteCounts.get(dn);fn===void 0?(fn=0,tn.footnoteOrder.push(dn),hn=tn.footnoteOrder.length):hn=mn+1,fn+=1,tn.footnoteCounts.set(dn,fn);const gn={type:"element",tagName:"a",properties:{href:"#"+un+"fn-"+pn,id:un+"fnref-"+pn+(fn>1?"-"+fn:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(hn)}]};tn.patch(sn,gn);const xn={type:"element",tagName:"sup",properties:{},children:[gn]};return tn.patch(sn,xn),tn.applyData(sn,xn)}function heading$1(tn,sn){const un={type:"element",tagName:"h"+sn.depth,properties:{},children:tn.all(sn)};return tn.patch(sn,un),tn.applyData(sn,un)}function html$1(tn,sn){if(tn.options.allowDangerousHtml){const un={type:"raw",value:sn.value};return tn.patch(sn,un),tn.applyData(sn,un)}}function revert(tn,sn){const un=sn.referenceType;let dn="]";if(un==="collapsed"?dn+="[]":un==="full"&&(dn+="["+(sn.label||sn.identifier)+"]"),sn.type==="imageReference")return[{type:"text",value:"!["+sn.alt+dn}];const pn=tn.all(sn),mn=pn[0];mn&&mn.type==="text"?mn.value="["+mn.value:pn.unshift({type:"text",value:"["});const hn=pn[pn.length-1];return hn&&hn.type==="text"?hn.value+=dn:pn.push({type:"text",value:dn}),pn}function imageReference$1(tn,sn){const un=String(sn.identifier).toUpperCase(),dn=tn.definitionById.get(un);if(!dn)return revert(tn,sn);const pn={src:normalizeUri(dn.url||""),alt:sn.alt};dn.title!==null&&dn.title!==void 0&&(pn.title=dn.title);const mn={type:"element",tagName:"img",properties:pn,children:[]};return tn.patch(sn,mn),tn.applyData(sn,mn)}function image$1(tn,sn){const un={src:normalizeUri(sn.url)};sn.alt!==null&&sn.alt!==void 0&&(un.alt=sn.alt),sn.title!==null&&sn.title!==void 0&&(un.title=sn.title);const dn={type:"element",tagName:"img",properties:un,children:[]};return tn.patch(sn,dn),tn.applyData(sn,dn)}function inlineCode$1(tn,sn){const un={type:"text",value:sn.value.replace(/\r?\n|\r/g," ")};tn.patch(sn,un);const dn={type:"element",tagName:"code",properties:{},children:[un]};return tn.patch(sn,dn),tn.applyData(sn,dn)}function linkReference$1(tn,sn){const un=String(sn.identifier).toUpperCase(),dn=tn.definitionById.get(un);if(!dn)return revert(tn,sn);const pn={href:normalizeUri(dn.url||"")};dn.title!==null&&dn.title!==void 0&&(pn.title=dn.title);const mn={type:"element",tagName:"a",properties:pn,children:tn.all(sn)};return tn.patch(sn,mn),tn.applyData(sn,mn)}function link$1(tn,sn){const un={href:normalizeUri(sn.url)};sn.title!==null&&sn.title!==void 0&&(un.title=sn.title);const dn={type:"element",tagName:"a",properties:un,children:tn.all(sn)};return tn.patch(sn,dn),tn.applyData(sn,dn)}function listItem$1(tn,sn,un){const dn=tn.all(sn),pn=un?listLoose(un):listItemLoose(sn),mn={},hn=[];if(typeof sn.checked=="boolean"){const yn=dn[0];let vn;yn&&yn.type==="element"&&yn.tagName==="p"?vn=yn:(vn={type:"element",tagName:"p",properties:{},children:[]},dn.unshift(vn)),vn.children.length>0&&vn.children.unshift({type:"text",value:" "}),vn.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:sn.checked,disabled:!0},children:[]}),mn.className=["task-list-item"]}let fn=-1;for(;++fn<dn.length;){const yn=dn[fn];(pn||fn!==0||yn.type!=="element"||yn.tagName!=="p")&&hn.push({type:"text",value:`
`}),yn.type==="element"&&yn.tagName==="p"&&!pn?hn.push(...yn.children):hn.push(yn)}const gn=dn[dn.length-1];gn&&(pn||gn.type!=="element"||gn.tagName!=="p")&&hn.push({type:"text",value:`
`});const xn={type:"element",tagName:"li",properties:mn,children:hn};return tn.patch(sn,xn),tn.applyData(sn,xn)}function listLoose(tn){let sn=!1;if(tn.type==="list"){sn=tn.spread||!1;const un=tn.children;let dn=-1;for(;!sn&&++dn<un.length;)sn=listItemLoose(un[dn])}return sn}function listItemLoose(tn){const sn=tn.spread;return sn??tn.children.length>1}function list$1(tn,sn){const un={},dn=tn.all(sn);let pn=-1;for(typeof sn.start=="number"&&sn.start!==1&&(un.start=sn.start);++pn<dn.length;){const hn=dn[pn];if(hn.type==="element"&&hn.tagName==="li"&&hn.properties&&Array.isArray(hn.properties.className)&&hn.properties.className.includes("task-list-item")){un.className=["contains-task-list"];break}}const mn={type:"element",tagName:sn.ordered?"ol":"ul",properties:un,children:tn.wrap(dn,!0)};return tn.patch(sn,mn),tn.applyData(sn,mn)}function paragraph$1(tn,sn){const un={type:"element",tagName:"p",properties:{},children:tn.all(sn)};return tn.patch(sn,un),tn.applyData(sn,un)}function root$1(tn,sn){const un={type:"root",children:tn.wrap(tn.all(sn))};return tn.patch(sn,un),tn.applyData(sn,un)}function strong$1(tn,sn){const un={type:"element",tagName:"strong",properties:{},children:tn.all(sn)};return tn.patch(sn,un),tn.applyData(sn,un)}function table(tn,sn){const un=tn.all(sn),dn=un.shift(),pn=[];if(dn){const hn={type:"element",tagName:"thead",properties:{},children:tn.wrap([dn],!0)};tn.patch(sn.children[0],hn),pn.push(hn)}if(un.length>0){const hn={type:"element",tagName:"tbody",properties:{},children:tn.wrap(un,!0)},fn=pointStart(sn.children[1]),gn=pointEnd(sn.children[sn.children.length-1]);fn&&gn&&(hn.position={start:fn,end:gn}),pn.push(hn)}const mn={type:"element",tagName:"table",properties:{},children:tn.wrap(pn,!0)};return tn.patch(sn,mn),tn.applyData(sn,mn)}function tableRow(tn,sn,un){const dn=un?un.children:void 0,mn=(dn?dn.indexOf(sn):1)===0?"th":"td",hn=un&&un.type==="table"?un.align:void 0,fn=hn?hn.length:sn.children.length;let gn=-1;const xn=[];for(;++gn<fn;){const vn=sn.children[gn],En={},bn=hn?hn[gn]:void 0;bn&&(En.align=bn);let wn={type:"element",tagName:mn,properties:En,children:[]};vn&&(wn.children=tn.all(vn),tn.patch(vn,wn),wn=tn.applyData(vn,wn)),xn.push(wn)}const yn={type:"element",tagName:"tr",properties:{},children:tn.wrap(xn,!0)};return tn.patch(sn,yn),tn.applyData(sn,yn)}function tableCell(tn,sn){const un={type:"element",tagName:"td",properties:{},children:tn.all(sn)};return tn.patch(sn,un),tn.applyData(sn,un)}const tab=9,space=32;function trimLines(tn){const sn=String(tn),un=/\r?\n|\r/g;let dn=un.exec(sn),pn=0;const mn=[];for(;dn;)mn.push(trimLine(sn.slice(pn,dn.index),pn>0,!0),dn[0]),pn=dn.index+dn[0].length,dn=un.exec(sn);return mn.push(trimLine(sn.slice(pn),pn>0,!1)),mn.join("")}function trimLine(tn,sn,un){let dn=0,pn=tn.length;if(sn){let mn=tn.codePointAt(dn);for(;mn===tab||mn===space;)dn++,mn=tn.codePointAt(dn)}if(un){let mn=tn.codePointAt(pn-1);for(;mn===tab||mn===space;)pn--,mn=tn.codePointAt(pn-1)}return pn>dn?tn.slice(dn,pn):""}function text$2(tn,sn){const un={type:"text",value:trimLines(String(sn.value))};return tn.patch(sn,un),tn.applyData(sn,un)}function thematicBreak$1(tn,sn){const un={type:"element",tagName:"hr",properties:{},children:[]};return tn.patch(sn,un),tn.applyData(sn,un)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$1,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$1,strong:strong$1,table,tableCell,tableRow,text:text$2,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(tn,sn)=>{const un=(pn,mn)=>(tn.set(mn,pn),pn),dn=pn=>{if(tn.has(pn))return tn.get(pn);const[mn,hn]=sn[pn];switch(mn){case PRIMITIVE:case VOID:return un(hn,pn);case ARRAY:{const fn=un([],pn);for(const gn of hn)fn.push(dn(gn));return fn}case OBJECT:{const fn=un({},pn);for(const[gn,xn]of hn)fn[dn(gn)]=dn(xn);return fn}case DATE:return un(new Date(hn),pn);case REGEXP:{const{source:fn,flags:gn}=hn;return un(new RegExp(fn,gn),pn)}case MAP:{const fn=un(new Map,pn);for(const[gn,xn]of hn)fn.set(dn(gn),dn(xn));return fn}case SET:{const fn=un(new Set,pn);for(const gn of hn)fn.add(dn(gn));return fn}case ERROR:{const{name:fn,message:gn}=hn;return un(new env[fn](gn),pn)}case BIGINT:return un(BigInt(hn),pn);case"BigInt":return un(Object(BigInt(hn)),pn);case"ArrayBuffer":return un(new Uint8Array(hn).buffer,hn);case"DataView":{const{buffer:fn}=new Uint8Array(hn);return un(new DataView(fn),hn)}}return un(new env[mn](hn),pn)};return dn},deserialize=tn=>deserializer(new Map,tn)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=tn=>{const sn=typeof tn;if(sn!=="object"||!tn)return[PRIMITIVE,sn];const un=toString.call(tn).slice(8,-1);switch(un){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,un]}return un.includes("Array")?[ARRAY,un]:un.includes("Error")?[ERROR,un]:[OBJECT,un]},shouldSkip=([tn,sn])=>tn===PRIMITIVE&&(sn==="function"||sn==="symbol"),serializer=(tn,sn,un,dn)=>{const pn=(hn,fn)=>{const gn=dn.push(hn)-1;return un.set(fn,gn),gn},mn=hn=>{if(un.has(hn))return un.get(hn);let[fn,gn]=typeOf(hn);switch(fn){case PRIMITIVE:{let yn=hn;switch(gn){case"bigint":fn=BIGINT,yn=hn.toString();break;case"function":case"symbol":if(tn)throw new TypeError("unable to serialize "+gn);yn=null;break;case"undefined":return pn([VOID],hn)}return pn([fn,yn],hn)}case ARRAY:{if(gn){let En=hn;return gn==="DataView"?En=new Uint8Array(hn.buffer):gn==="ArrayBuffer"&&(En=new Uint8Array(hn)),pn([gn,[...En]],hn)}const yn=[],vn=pn([fn,yn],hn);for(const En of hn)yn.push(mn(En));return vn}case OBJECT:{if(gn)switch(gn){case"BigInt":return pn([gn,hn.toString()],hn);case"Boolean":case"Number":case"String":return pn([gn,hn.valueOf()],hn)}if(sn&&"toJSON"in hn)return mn(hn.toJSON());const yn=[],vn=pn([fn,yn],hn);for(const En of keys(hn))(tn||!shouldSkip(typeOf(hn[En])))&&yn.push([mn(En),mn(hn[En])]);return vn}case DATE:return pn([fn,hn.toISOString()],hn);case REGEXP:{const{source:yn,flags:vn}=hn;return pn([fn,{source:yn,flags:vn}],hn)}case MAP:{const yn=[],vn=pn([fn,yn],hn);for(const[En,bn]of hn)(tn||!(shouldSkip(typeOf(En))||shouldSkip(typeOf(bn))))&&yn.push([mn(En),mn(bn)]);return vn}case SET:{const yn=[],vn=pn([fn,yn],hn);for(const En of hn)(tn||!shouldSkip(typeOf(En)))&&yn.push(mn(En));return vn}}const{message:xn}=hn;return pn([fn,{name:gn,message:xn}],hn)};return mn},serialize$1=(tn,{json:sn,lossy:un}={})=>{const dn=[];return serializer(!(sn||un),!!sn,new Map,dn)(tn),dn},structuredClone$1=typeof structuredClone=="function"?(tn,sn)=>sn&&("json"in sn||"lossy"in sn)?deserialize(serialize$1(tn,sn)):structuredClone(tn):(tn,sn)=>deserialize(serialize$1(tn,sn));function defaultFootnoteBackContent(tn,sn){const un=[{type:"text",value:"↩"}];return sn>1&&un.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(sn)}]}),un}function defaultFootnoteBackLabel(tn,sn){return"Back to reference "+(tn+1)+(sn>1?"-"+sn:"")}function footer(tn){const sn=typeof tn.options.clobberPrefix=="string"?tn.options.clobberPrefix:"user-content-",un=tn.options.footnoteBackContent||defaultFootnoteBackContent,dn=tn.options.footnoteBackLabel||defaultFootnoteBackLabel,pn=tn.options.footnoteLabel||"Footnotes",mn=tn.options.footnoteLabelTagName||"h2",hn=tn.options.footnoteLabelProperties||{className:["sr-only"]},fn=[];let gn=-1;for(;++gn<tn.footnoteOrder.length;){const xn=tn.footnoteById.get(tn.footnoteOrder[gn]);if(!xn)continue;const yn=tn.all(xn),vn=String(xn.identifier).toUpperCase(),En=normalizeUri(vn.toLowerCase());let bn=0;const wn=[],Sn=tn.footnoteCounts.get(vn);for(;Sn!==void 0&&++bn<=Sn;){wn.length>0&&wn.push({type:"text",value:" "});let jn=typeof un=="string"?un:un(gn,bn);typeof jn=="string"&&(jn={type:"text",value:jn}),wn.push({type:"element",tagName:"a",properties:{href:"#"+sn+"fnref-"+En+(bn>1?"-"+bn:""),dataFootnoteBackref:"",ariaLabel:typeof dn=="string"?dn:dn(gn,bn),className:["data-footnote-backref"]},children:Array.isArray(jn)?jn:[jn]})}const Rn=yn[yn.length-1];if(Rn&&Rn.type==="element"&&Rn.tagName==="p"){const jn=Rn.children[Rn.children.length-1];jn&&jn.type==="text"?jn.value+=" ":Rn.children.push({type:"text",value:" "}),Rn.children.push(...wn)}else yn.push(...wn);const _n={type:"element",tagName:"li",properties:{id:sn+"fn-"+En},children:tn.wrap(yn,!0)};tn.patch(xn,_n),fn.push(_n)}if(fn.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:mn,properties:{...structuredClone$1(hn),id:"footnote-label"},children:[{type:"text",value:pn}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:tn.wrap(fn,!0)},{type:"text",value:`
`}]}}const convert=function(tn){if(tn==null)return ok;if(typeof tn=="function")return castFactory$1(tn);if(typeof tn=="object")return Array.isArray(tn)?anyFactory$1(tn):propsFactory(tn);if(typeof tn=="string")return typeFactory(tn);throw new Error("Expected function, string, or object as test")};function anyFactory$1(tn){const sn=[];let un=-1;for(;++un<tn.length;)sn[un]=convert(tn[un]);return castFactory$1(dn);function dn(...pn){let mn=-1;for(;++mn<sn.length;)if(sn[mn].apply(this,pn))return!0;return!1}}function propsFactory(tn){const sn=tn;return castFactory$1(un);function un(dn){const pn=dn;let mn;for(mn in tn)if(pn[mn]!==sn[mn])return!1;return!0}}function typeFactory(tn){return castFactory$1(sn);function sn(un){return un&&un.type===tn}}function castFactory$1(tn){return sn;function sn(un,dn,pn){return!!(looksLikeANode(un)&&tn.call(this,un,typeof dn=="number"?dn:void 0,pn||void 0))}}function ok(){return!0}function looksLikeANode(tn){return tn!==null&&typeof tn=="object"&&"type"in tn}function color(tn){return tn}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(tn,sn,un,dn){let pn;typeof sn=="function"&&typeof un!="function"?(dn=un,un=sn):pn=sn;const mn=convert(pn),hn=dn?-1:1;fn(tn,void 0,[])();function fn(gn,xn,yn){const vn=gn&&typeof gn=="object"?gn:{};if(typeof vn.type=="string"){const bn=typeof vn.tagName=="string"?vn.tagName:typeof vn.name=="string"?vn.name:void 0;Object.defineProperty(En,"name",{value:"node ("+(gn.type+(bn?"<"+bn+">":""))+")"})}return En;function En(){let bn=empty,wn,Sn,Rn;if((!sn||mn(gn,xn,yn[yn.length-1]||void 0))&&(bn=toResult(un(gn,yn)),bn[0]===EXIT))return bn;if("children"in gn&&gn.children){const _n=gn;if(_n.children&&bn[0]!==SKIP)for(Sn=(dn?_n.children.length:-1)+hn,Rn=yn.concat(_n);Sn>-1&&Sn<_n.children.length;){const jn=_n.children[Sn];if(wn=fn(jn,Sn,Rn)(),wn[0]===EXIT)return wn;Sn=typeof wn[1]=="number"?wn[1]:Sn+hn}}return bn}}}function toResult(tn){return Array.isArray(tn)?tn:typeof tn=="number"?[CONTINUE,tn]:tn==null?empty:[tn]}function visit(tn,sn,un,dn){let pn,mn,hn;typeof sn=="function"&&typeof un!="function"?(mn=void 0,hn=sn,pn=un):(mn=sn,hn=un,pn=dn),visitParents(tn,mn,fn,pn);function fn(gn,xn){const yn=xn[xn.length-1],vn=yn?yn.children.indexOf(gn):void 0;return hn(gn,vn,yn)}}const own$1={}.hasOwnProperty,emptyOptions$2={};function createState(tn,sn){const un=sn||emptyOptions$2,dn=new Map,pn=new Map,mn=new Map,hn={...handlers,...un.handlers},fn={all:xn,applyData,definitionById:dn,footnoteById:pn,footnoteCounts:mn,footnoteOrder:[],handlers:hn,one:gn,options:un,patch,wrap:wrap$1};return visit(tn,function(yn){if(yn.type==="definition"||yn.type==="footnoteDefinition"){const vn=yn.type==="definition"?dn:pn,En=String(yn.identifier).toUpperCase();vn.has(En)||vn.set(En,yn)}}),fn;function gn(yn,vn){const En=yn.type,bn=fn.handlers[En];if(own$1.call(fn.handlers,En)&&bn)return bn(fn,yn,vn);if(fn.options.passThrough&&fn.options.passThrough.includes(En)){if("children"in yn){const{children:Sn,...Rn}=yn,_n=structuredClone$1(Rn);return _n.children=fn.all(yn),_n}return structuredClone$1(yn)}return(fn.options.unknownHandler||defaultUnknownHandler)(fn,yn,vn)}function xn(yn){const vn=[];if("children"in yn){const En=yn.children;let bn=-1;for(;++bn<En.length;){const wn=fn.one(En[bn],yn);if(wn){if(bn&&En[bn-1].type==="break"&&(!Array.isArray(wn)&&wn.type==="text"&&(wn.value=trimMarkdownSpaceStart(wn.value)),!Array.isArray(wn)&&wn.type==="element")){const Sn=wn.children[0];Sn&&Sn.type==="text"&&(Sn.value=trimMarkdownSpaceStart(Sn.value))}Array.isArray(wn)?vn.push(...wn):vn.push(wn)}}}return vn}}function patch(tn,sn){tn.position&&(sn.position=position$1(tn))}function applyData(tn,sn){let un=sn;if(tn&&tn.data){const dn=tn.data.hName,pn=tn.data.hChildren,mn=tn.data.hProperties;if(typeof dn=="string")if(un.type==="element")un.tagName=dn;else{const hn="children"in un?un.children:[un];un={type:"element",tagName:dn,properties:{},children:hn}}un.type==="element"&&mn&&Object.assign(un.properties,structuredClone$1(mn)),"children"in un&&un.children&&pn!==null&&pn!==void 0&&(un.children=pn)}return un}function defaultUnknownHandler(tn,sn){const un=sn.data||{},dn="value"in sn&&!(own$1.call(un,"hProperties")||own$1.call(un,"hChildren"))?{type:"text",value:sn.value}:{type:"element",tagName:"div",properties:{},children:tn.all(sn)};return tn.patch(sn,dn),tn.applyData(sn,dn)}function wrap$1(tn,sn){const un=[];let dn=-1;for(sn&&un.push({type:"text",value:`
`});++dn<tn.length;)dn&&un.push({type:"text",value:`
`}),un.push(tn[dn]);return sn&&tn.length>0&&un.push({type:"text",value:`
`}),un}function trimMarkdownSpaceStart(tn){let sn=0,un=tn.charCodeAt(sn);for(;un===9||un===32;)sn++,un=tn.charCodeAt(sn);return tn.slice(sn)}function toHast(tn,sn){const un=createState(tn,sn),dn=un.one(tn,void 0),pn=footer(un),mn=Array.isArray(dn)?{type:"root",children:dn}:dn||{type:"root",children:[]};return pn&&mn.children.push({type:"text",value:`
`},pn),mn}function remarkRehype(tn,sn){return tn&&"run"in tn?async function(un,dn){const pn=toHast(un,{file:dn,...sn});await tn.run(pn,dn)}:function(un,dn){return toHast(un,{file:dn,...tn||sn})}}function bail(tn){if(tn)throw tn}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function tn(sn){return typeof Array.isArray=="function"?Array.isArray(sn):toStr.call(sn)==="[object Array]"},isPlainObject$1=function tn(sn){if(!sn||toStr.call(sn)!=="[object Object]")return!1;var un=hasOwn.call(sn,"constructor"),dn=sn.constructor&&sn.constructor.prototype&&hasOwn.call(sn.constructor.prototype,"isPrototypeOf");if(sn.constructor&&!un&&!dn)return!1;var pn;for(pn in sn);return typeof pn>"u"||hasOwn.call(sn,pn)},setProperty=function tn(sn,un){defineProperty&&un.name==="__proto__"?defineProperty(sn,un.name,{enumerable:!0,configurable:!0,value:un.newValue,writable:!0}):sn[un.name]=un.newValue},getProperty=function tn(sn,un){if(un==="__proto__")if(hasOwn.call(sn,un)){if(gOPD)return gOPD(sn,un).value}else return;return sn[un]},extend=function tn(){var sn,un,dn,pn,mn,hn,fn=arguments[0],gn=1,xn=arguments.length,yn=!1;for(typeof fn=="boolean"&&(yn=fn,fn=arguments[1]||{},gn=2),(fn==null||typeof fn!="object"&&typeof fn!="function")&&(fn={});gn<xn;++gn)if(sn=arguments[gn],sn!=null)for(un in sn)dn=getProperty(fn,un),pn=getProperty(sn,un),fn!==pn&&(yn&&pn&&(isPlainObject$1(pn)||(mn=isArray(pn)))?(mn?(mn=!1,hn=dn&&isArray(dn)?dn:[]):hn=dn&&isPlainObject$1(dn)?dn:{},setProperty(fn,{name:un,newValue:tn(yn,hn,pn)})):typeof pn<"u"&&setProperty(fn,{name:un,newValue:pn}));return fn};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(tn){if(typeof tn!="object"||tn===null)return!1;const sn=Object.getPrototypeOf(tn);return(sn===null||sn===Object.prototype||Object.getPrototypeOf(sn)===null)&&!(Symbol.toStringTag in tn)&&!(Symbol.iterator in tn)}function trough(){const tn=[],sn={run:un,use:dn};return sn;function un(...pn){let mn=-1;const hn=pn.pop();if(typeof hn!="function")throw new TypeError("Expected function as last argument, not "+hn);fn(null,...pn);function fn(gn,...xn){const yn=tn[++mn];let vn=-1;if(gn){hn(gn);return}for(;++vn<pn.length;)(xn[vn]===null||xn[vn]===void 0)&&(xn[vn]=pn[vn]);pn=xn,yn?wrap(yn,fn)(...xn):hn(null,...xn)}}function dn(pn){if(typeof pn!="function")throw new TypeError("Expected `middelware` to be a function, not "+pn);return tn.push(pn),sn}}function wrap(tn,sn){let un;return dn;function dn(...hn){const fn=tn.length>hn.length;let gn;fn&&hn.push(pn);try{gn=tn.apply(this,hn)}catch(xn){const yn=xn;if(fn&&un)throw yn;return pn(yn)}fn||(gn&&gn.then&&typeof gn.then=="function"?gn.then(mn,pn):gn instanceof Error?pn(gn):mn(gn))}function pn(hn,...fn){un||(un=!0,sn(hn,...fn))}function mn(hn){pn(null,hn)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(tn,sn){if(sn!==void 0&&typeof sn!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(tn);let un=0,dn=-1,pn=tn.length,mn;if(sn===void 0||sn.length===0||sn.length>tn.length){for(;pn--;)if(tn.codePointAt(pn)===47){if(mn){un=pn+1;break}}else dn<0&&(mn=!0,dn=pn+1);return dn<0?"":tn.slice(un,dn)}if(sn===tn)return"";let hn=-1,fn=sn.length-1;for(;pn--;)if(tn.codePointAt(pn)===47){if(mn){un=pn+1;break}}else hn<0&&(mn=!0,hn=pn+1),fn>-1&&(tn.codePointAt(pn)===sn.codePointAt(fn--)?fn<0&&(dn=pn):(fn=-1,dn=hn));return un===dn?dn=hn:dn<0&&(dn=tn.length),tn.slice(un,dn)}function dirname(tn){if(assertPath$1(tn),tn.length===0)return".";let sn=-1,un=tn.length,dn;for(;--un;)if(tn.codePointAt(un)===47){if(dn){sn=un;break}}else dn||(dn=!0);return sn<0?tn.codePointAt(0)===47?"/":".":sn===1&&tn.codePointAt(0)===47?"//":tn.slice(0,sn)}function extname(tn){assertPath$1(tn);let sn=tn.length,un=-1,dn=0,pn=-1,mn=0,hn;for(;sn--;){const fn=tn.codePointAt(sn);if(fn===47){if(hn){dn=sn+1;break}continue}un<0&&(hn=!0,un=sn+1),fn===46?pn<0?pn=sn:mn!==1&&(mn=1):pn>-1&&(mn=-1)}return pn<0||un<0||mn===0||mn===1&&pn===un-1&&pn===dn+1?"":tn.slice(pn,un)}function join(...tn){let sn=-1,un;for(;++sn<tn.length;)assertPath$1(tn[sn]),tn[sn]&&(un=un===void 0?tn[sn]:un+"/"+tn[sn]);return un===void 0?".":normalize(un)}function normalize(tn){assertPath$1(tn);const sn=tn.codePointAt(0)===47;let un=normalizeString(tn,!sn);return un.length===0&&!sn&&(un="."),un.length>0&&tn.codePointAt(tn.length-1)===47&&(un+="/"),sn?"/"+un:un}function normalizeString(tn,sn){let un="",dn=0,pn=-1,mn=0,hn=-1,fn,gn;for(;++hn<=tn.length;){if(hn<tn.length)fn=tn.codePointAt(hn);else{if(fn===47)break;fn=47}if(fn===47){if(!(pn===hn-1||mn===1))if(pn!==hn-1&&mn===2){if(un.length<2||dn!==2||un.codePointAt(un.length-1)!==46||un.codePointAt(un.length-2)!==46){if(un.length>2){if(gn=un.lastIndexOf("/"),gn!==un.length-1){gn<0?(un="",dn=0):(un=un.slice(0,gn),dn=un.length-1-un.lastIndexOf("/")),pn=hn,mn=0;continue}}else if(un.length>0){un="",dn=0,pn=hn,mn=0;continue}}sn&&(un=un.length>0?un+"/..":"..",dn=2)}else un.length>0?un+="/"+tn.slice(pn+1,hn):un=tn.slice(pn+1,hn),dn=hn-pn-1;pn=hn,mn=0}else fn===46&&mn>-1?mn++:mn=-1}return un}function assertPath$1(tn){if(typeof tn!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(tn))}const minproc={cwd};function cwd(){return"/"}function isUrl(tn){return!!(tn!==null&&typeof tn=="object"&&"href"in tn&&tn.href&&"protocol"in tn&&tn.protocol&&tn.auth===void 0)}function urlToPath(tn){if(typeof tn=="string")tn=new URL(tn);else if(!isUrl(tn)){const sn=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+tn+"`");throw sn.code="ERR_INVALID_ARG_TYPE",sn}if(tn.protocol!=="file:"){const sn=new TypeError("The URL must be of scheme file");throw sn.code="ERR_INVALID_URL_SCHEME",sn}return getPathFromURLPosix(tn)}function getPathFromURLPosix(tn){if(tn.hostname!==""){const dn=new TypeError('File URL host must be "localhost" or empty on darwin');throw dn.code="ERR_INVALID_FILE_URL_HOST",dn}const sn=tn.pathname;let un=-1;for(;++un<sn.length;)if(sn.codePointAt(un)===37&&sn.codePointAt(un+1)===50){const dn=sn.codePointAt(un+2);if(dn===70||dn===102){const pn=new TypeError("File URL path must not include encoded / characters");throw pn.code="ERR_INVALID_FILE_URL_PATH",pn}}return decodeURIComponent(sn)}const order$1=["history","path","basename","stem","extname","dirname"];class VFile{constructor(sn){let un;sn?isUrl(sn)?un={path:sn}:typeof sn=="string"||isUint8Array$1(sn)?un={value:sn}:un=sn:un={},this.cwd="cwd"in un?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let dn=-1;for(;++dn<order$1.length;){const mn=order$1[dn];mn in un&&un[mn]!==void 0&&un[mn]!==null&&(this[mn]=mn==="history"?[...un[mn]]:un[mn])}let pn;for(pn in un)order$1.includes(pn)||(this[pn]=un[pn])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(sn){assertNonEmpty(sn,"basename"),assertPart(sn,"basename"),this.path=minpath.join(this.dirname||"",sn)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(sn){assertPath(this.basename,"dirname"),this.path=minpath.join(sn||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(sn){if(assertPart(sn,"extname"),assertPath(this.dirname,"extname"),sn){if(sn.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(sn.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(sn||""))}get path(){return this.history[this.history.length-1]}set path(sn){isUrl(sn)&&(sn=urlToPath(sn)),assertNonEmpty(sn,"path"),this.path!==sn&&this.history.push(sn)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(sn){assertNonEmpty(sn,"stem"),assertPart(sn,"stem"),this.path=minpath.join(this.dirname||"",sn+(this.extname||""))}fail(sn,un,dn){const pn=this.message(sn,un,dn);throw pn.fatal=!0,pn}info(sn,un,dn){const pn=this.message(sn,un,dn);return pn.fatal=void 0,pn}message(sn,un,dn){const pn=new VFileMessage(sn,un,dn);return this.path&&(pn.name=this.path+":"+pn.name,pn.file=this.path),pn.fatal=!1,this.messages.push(pn),pn}toString(sn){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(sn||void 0).decode(this.value)}}function assertPart(tn,sn){if(tn&&tn.includes(minpath.sep))throw new Error("`"+sn+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(tn,sn){if(!tn)throw new Error("`"+sn+"` cannot be empty")}function assertPath(tn,sn){if(!tn)throw new Error("Setting `"+sn+"` requires `path` to be set too")}function isUint8Array$1(tn){return!!(tn&&typeof tn=="object"&&"byteLength"in tn&&"byteOffset"in tn)}const CallableInstance=function(tn){const dn=this.constructor.prototype,pn=dn[tn],mn=function(){return pn.apply(mn,arguments)};return Object.setPrototypeOf(mn,dn),mn},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const sn=new Processor;let un=-1;for(;++un<this.attachers.length;){const dn=this.attachers[un];sn.use(...dn)}return sn.data(extend$1(!0,{},this.namespace)),sn}data(sn,un){return typeof sn=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[sn]=un,this):own.call(this.namespace,sn)&&this.namespace[sn]||void 0:sn?(assertUnfrozen("data",this.frozen),this.namespace=sn,this):this.namespace}freeze(){if(this.frozen)return this;const sn=this;for(;++this.freezeIndex<this.attachers.length;){const[un,...dn]=this.attachers[this.freezeIndex];if(dn[0]===!1)continue;dn[0]===!0&&(dn[0]=void 0);const pn=un.call(sn,...dn);typeof pn=="function"&&this.transformers.use(pn)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(sn){this.freeze();const un=vfile(sn),dn=this.parser||this.Parser;return assertParser("parse",dn),dn(String(un),un)}process(sn,un){const dn=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),un?pn(void 0,un):new Promise(pn);function pn(mn,hn){const fn=vfile(sn),gn=dn.parse(fn);dn.run(gn,fn,function(yn,vn,En){if(yn||!vn||!En)return xn(yn);const bn=vn,wn=dn.stringify(bn,En);looksLikeAValue(wn)?En.value=wn:En.result=wn,xn(yn,En)});function xn(yn,vn){yn||!vn?hn(yn):mn?mn(vn):un(void 0,vn)}}}processSync(sn){let un=!1,dn;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(sn,pn),assertDone("processSync","process",un),dn;function pn(mn,hn){un=!0,bail(mn),dn=hn}}run(sn,un,dn){assertNode(sn),this.freeze();const pn=this.transformers;return!dn&&typeof un=="function"&&(dn=un,un=void 0),dn?mn(void 0,dn):new Promise(mn);function mn(hn,fn){const gn=vfile(un);pn.run(sn,gn,xn);function xn(yn,vn,En){const bn=vn||sn;yn?fn(yn):hn?hn(bn):dn(void 0,bn,En)}}}runSync(sn,un){let dn=!1,pn;return this.run(sn,un,mn),assertDone("runSync","run",dn),pn;function mn(hn,fn){bail(hn),pn=fn,dn=!0}}stringify(sn,un){this.freeze();const dn=vfile(un),pn=this.compiler||this.Compiler;return assertCompiler("stringify",pn),assertNode(sn),pn(sn,dn)}use(sn,...un){const dn=this.attachers,pn=this.namespace;if(assertUnfrozen("use",this.frozen),sn!=null)if(typeof sn=="function")gn(sn,un);else if(typeof sn=="object")Array.isArray(sn)?fn(sn):hn(sn);else throw new TypeError("Expected usable value, not `"+sn+"`");return this;function mn(xn){if(typeof xn=="function")gn(xn,[]);else if(typeof xn=="object")if(Array.isArray(xn)){const[yn,...vn]=xn;gn(yn,vn)}else hn(xn);else throw new TypeError("Expected usable value, not `"+xn+"`")}function hn(xn){if(!("plugins"in xn)&&!("settings"in xn))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");fn(xn.plugins),xn.settings&&(pn.settings=extend$1(!0,pn.settings,xn.settings))}function fn(xn){let yn=-1;if(xn!=null)if(Array.isArray(xn))for(;++yn<xn.length;){const vn=xn[yn];mn(vn)}else throw new TypeError("Expected a list of plugins, not `"+xn+"`")}function gn(xn,yn){let vn=-1,En=-1;for(;++vn<dn.length;)if(dn[vn][0]===xn){En=vn;break}if(En===-1)dn.push([xn,...yn]);else if(yn.length>0){let[bn,...wn]=yn;const Sn=dn[En][1];isPlainObject(Sn)&&isPlainObject(bn)&&(bn=extend$1(!0,Sn,bn)),dn[En]=[xn,bn,...wn]}}}}const unified=new Processor().freeze();function assertParser(tn,sn){if(typeof sn!="function")throw new TypeError("Cannot `"+tn+"` without `parser`")}function assertCompiler(tn,sn){if(typeof sn!="function")throw new TypeError("Cannot `"+tn+"` without `compiler`")}function assertUnfrozen(tn,sn){if(sn)throw new Error("Cannot call `"+tn+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(tn){if(!isPlainObject(tn)||typeof tn.type!="string")throw new TypeError("Expected node, got `"+tn+"`")}function assertDone(tn,sn,un){if(!un)throw new Error("`"+tn+"` finished async. Use `"+sn+"` instead")}function vfile(tn){return looksLikeAVFile(tn)?tn:new VFile(tn)}function looksLikeAVFile(tn){return!!(tn&&typeof tn=="object"&&"message"in tn&&"messages"in tn)}function looksLikeAValue(tn){return typeof tn=="string"||isUint8Array(tn)}function isUint8Array(tn){return!!(tn&&typeof tn=="object"&&"byteLength"in tn&&"byteOffset"in tn)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(tn){const sn=createProcessor(tn),un=createFile(tn);return post(sn.runSync(sn.parse(un),un),tn)}function createProcessor(tn){const sn=tn.rehypePlugins||emptyPlugins,un=tn.remarkPlugins||emptyPlugins,dn=tn.remarkRehypeOptions?{...tn.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(un).use(remarkRehype,dn).use(sn)}function createFile(tn){const sn=tn.children||"",un=new VFile;return typeof sn=="string"&&(un.value=sn),un}function post(tn,sn){const un=sn.allowedElements,dn=sn.allowElement,pn=sn.components,mn=sn.disallowedElements,hn=sn.skipHtml,fn=sn.unwrapDisallowed,gn=sn.urlTransform||defaultUrlTransform;for(const yn of deprecations)Object.hasOwn(sn,yn.from)&&(""+yn.from+(yn.to?"use `"+yn.to+"` instead":"remove it")+changelog+yn.id,void 0);return sn.className&&(tn={type:"element",tagName:"div",properties:{className:sn.className},children:tn.type==="root"?tn.children:[tn]}),visit(tn,xn),toJsxRuntime(tn,{Fragment:jsxRuntimeExports.Fragment,components:pn,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function xn(yn,vn,En){if(yn.type==="raw"&&En&&typeof vn=="number")return hn?En.children.splice(vn,1):En.children[vn]={type:"text",value:yn.value},vn;if(yn.type==="element"){let bn;for(bn in urlAttributes)if(Object.hasOwn(urlAttributes,bn)&&Object.hasOwn(yn.properties,bn)){const wn=yn.properties[bn],Sn=urlAttributes[bn];(Sn===null||Sn.includes(yn.tagName))&&(yn.properties[bn]=gn(String(wn||""),bn,yn))}}if(yn.type==="element"){let bn=un?!un.includes(yn.tagName):mn?mn.includes(yn.tagName):!1;if(!bn&&dn&&typeof vn=="number"&&(bn=!dn(yn,vn,En)),bn&&En&&typeof vn=="number")return fn&&yn.children?En.children.splice(vn,1,...yn.children):En.children.splice(vn,1),vn}}}function defaultUrlTransform(tn){const sn=tn.indexOf(":"),un=tn.indexOf("?"),dn=tn.indexOf("#"),pn=tn.indexOf("/");return sn===-1||pn!==-1&&sn>pn||un!==-1&&sn>un||dn!==-1&&sn>dn||safeProtocol.test(tn.slice(0,sn))?tn:""}const renderPreviewText=tn=>React$1.createElement(Markdown,{skipHtml:!0},tn),getLatestPollVote=tn=>{let sn;for(const un of Object.values(tn))un.forEach(dn=>{sn&&new Date(sn.updated_at)>=new Date(dn.created_at)||(sn=dn)});return sn},getLatestMessagePreview=(tn,sn,un="en",dn)=>{var fn,gn,xn,yn,vn,En;const pn=tn.state.latestMessages[tn.state.latestMessages.length-1],mn=((fn=pn==null?void 0:pn.i18n)==null?void 0:fn[`${un}_text`])||(pn==null?void 0:pn.text),hn=pn==null?void 0:pn.poll;if(!pn)return sn("Nothing yet...");if(pn.deleted_at)return sn("Message deleted");if(hn)if(hn.vote_count){const bn=getLatestPollVote(hn.latest_votes_by_option),wn=bn&&hn.options.find(Sn=>Sn.id===bn.option_id);if(wn&&bn)return sn("📊 {{votedBy}} voted: {{pollOptionText}}",{pollOptionText:wn.text,votedBy:((yn=bn==null?void 0:bn.user)==null?void 0:yn.id)===tn.getClient().userID?sn("You"):((vn=bn.user)==null?void 0:vn.name)??sn("Poll")})}else{const bn=((gn=hn.created_by)==null?void 0:gn.id)===tn.getClient().userID?sn("You"):((xn=hn.created_by)==null?void 0:xn.name)??sn("Poll");return sn("📊 {{createdBy}} created: {{ pollName}}",{createdBy:bn,pollName:hn.name})}return mn?dn!=null&&dn(pn)?mn:renderPreviewText(mn):pn.command?`/${pn.command}`:(En=pn.attachments)!=null&&En.length?sn("🏙 Attachment..."):sn("Empty message...")},getGroupChannelDisplayInfo=tn=>{const sn=Object.values(tn.state.members);if(sn.length<=2)return;const un=[];for(let dn=0;dn<sn.length;dn++){const{user:pn}=sn[dn];if(!(!(pn!=null&&pn.name)&&!(pn!=null&&pn.image))&&(un.push({image:pn.image,name:pn.name}),un.length===4))break}return un},getChannelDisplayInfo=(tn,sn,un)=>{var mn,hn;if((mn=sn.data)!=null&&mn[tn])return sn.data[tn];const dn=Object.values(sn.state.members);if(dn.length!==2)return;const pn=dn.find(fn=>{var gn;return((gn=fn.user)==null?void 0:gn.id)!==(un==null?void 0:un.id)});return(hn=pn==null?void 0:pn.user)==null?void 0:hn[tn]},getDisplayTitle=(tn,sn)=>getChannelDisplayInfo("name",tn,sn),getDisplayImage=(tn,sn)=>getChannelDisplayInfo("image",tn,sn),useChannelPreviewInfo=tn=>{const{channel:sn,overrideImage:un,overrideTitle:dn}=tn,{client:pn}=useChatContext("useChannelPreviewInfo"),[mn,hn]=reactExports.useState(()=>dn||getDisplayTitle(sn,pn.user)),[fn,gn]=reactExports.useState(()=>un||getDisplayImage(sn,pn.user)),[xn,yn]=reactExports.useState(()=>getGroupChannelDisplayInfo(sn));return reactExports.useEffect(()=>{if(dn&&un)return;const vn=()=>{dn||hn(getDisplayTitle(sn,pn.user)),un||(gn(getDisplayImage(sn,pn.user)),yn(getGroupChannelDisplayInfo(sn)))};return vn(),pn.on("user.updated",vn),()=>{pn.off("user.updated",vn)}},[sn,sn.data,pn,un,dn]),{displayImage:un||fn,displayTitle:dn||mn,groupChannelDisplayInfo:xn}};var MessageDeliveryStatus;(function(tn){tn.DELIVERED="delivered",tn.READ="read"})(MessageDeliveryStatus||(MessageDeliveryStatus={}));const useMessageDeliveryStatus=({channel:tn,lastMessage:sn})=>{const{client:un}=useChatContext(),[dn,pn]=reactExports.useState(),mn=reactExports.useCallback(hn=>{var fn;return un.user&&((fn=hn==null?void 0:hn.user)==null?void 0:fn.id)===un.user.id},[un]);return reactExports.useEffect(()=>{const hn=mn(sn);if(!(sn!=null&&sn.created_at)||!hn)return;const fn=typeof sn.created_at=="string"?new Date(sn.created_at):sn.created_at,gn=Object.values(tn.state.read).some(({last_read:xn,user:yn})=>un.user&&yn.id!==un.user.id&&fn<xn);pn(gn?MessageDeliveryStatus.READ:MessageDeliveryStatus.DELIVERED)},[tn.state.read,un,mn,sn]),reactExports.useEffect(()=>{const hn=fn=>mn(fn.message)?pn(MessageDeliveryStatus.DELIVERED):pn(void 0);return tn.on("message.new",hn),()=>{tn.off("message.new",hn)}},[tn,un,mn]),reactExports.useEffect(()=>{if(!mn(sn))return;const hn=fn=>{var gn,xn;((gn=fn.user)==null?void 0:gn.id)!==((xn=un.user)==null?void 0:xn.id)&&pn(MessageDeliveryStatus.READ)};return tn.on("message.read",hn),()=>{tn.off("message.read",hn)}},[tn,un,sn,mn]),{messageDeliveryStatus:dn}},ChannelPreview=tn=>{const{active:sn,channel:un,channelUpdateCount:dn,getLatestMessagePreview:pn=getLatestMessagePreview,Preview:mn=ChannelPreviewMessenger}=tn,{channel:hn,client:fn,isMessageAIGenerated:gn,setActiveChannel:xn}=useChatContext("ChannelPreview"),{t:yn,userLanguage:vn}=useTranslationContext("ChannelPreview"),{displayImage:En,displayTitle:bn,groupChannelDisplayInfo:wn}=useChannelPreviewInfo({channel:un}),[Sn,Rn]=reactExports.useState(un.state.messages[un.state.messages.length-1]),[_n,jn]=reactExports.useState(0),{messageDeliveryStatus:Cn}=useMessageDeliveryStatus({channel:un,lastMessage:Sn}),An=typeof sn>"u"?(hn==null?void 0:hn.cid)===un.cid:sn,{muted:Tn}=useIsChannelMuted(un);reactExports.useEffect(()=>{const Nn=kn=>{if(!kn.cid)return jn(0);un.cid===kn.cid&&jn(0)};return fn.on("notification.mark_read",Nn),()=>fn.off("notification.mark_read",Nn)},[un,fn]),reactExports.useEffect(()=>{const Nn=kn=>{var Pn,Mn;un.cid===kn.cid&&((Pn=kn.user)==null?void 0:Pn.id)===((Mn=fn.user)==null?void 0:Mn.id)&&jn(un.countUnread())};return un.on("notification.mark_unread",Nn),()=>{un.off("notification.mark_unread",Nn)}},[un,fn]);const $n=reactExports.useMemo(()=>throttle$1(()=>{jn(Tn?0:un.countUnread())},400),[un,Tn]);if(reactExports.useEffect(()=>{$n();const Nn=()=>{Rn(un.state.latestMessages[un.state.latestMessages.length-1]),$n()};return un.on("message.new",Nn),un.on("message.updated",Nn),un.on("message.deleted",Nn),un.on("message.undeleted",Nn),un.on("channel.truncated",Nn),()=>{un.off("message.new",Nn),un.off("message.updated",Nn),un.off("message.deleted",Nn),un.off("message.undeleted",Nn),un.off("channel.truncated",Nn)}},[un,$n,dn]),!mn)return null;const Dn=pn(un,yn,vn,gn);return React$1.createElement(mn,{...tn,active:An,displayImage:En,displayTitle:bn,groupChannelDisplayInfo:wn,lastMessage:Sn,latestMessage:Dn,latestMessagePreview:Dn,messageDeliveryStatus:Cn,setActiveChannel:xn,unread:_n})},LegacyThreadContext=React$1.createContext({legacyThread:void 0}),useLegacyThreadContext=()=>reactExports.useContext(LegacyThreadContext),handleActionWarning=`Action handler was called, but it is missing one of its required arguments. 
Make sure the ChannelAction and ChannelState contexts are properly set and the hook is initialized with a valid message.`;function useActionHandler(tn){const{removeMessage:sn,updateMessage:un}=useChannelActionContext("useActionHandler"),{channel:dn}=useChannelStateContext("useActionHandler");return async(pn,mn,hn)=>{if(hn&&hn.preventDefault(),!tn||!un||!sn||!dn){console.warn(handleActionWarning);return}const fn=tn.id;let gn={};if(typeof pn=="string"?gn[pn]=mn:gn={...pn},fn){const xn=await dn.sendAction(fn,gn);xn!=null&&xn.message?un(xn.message):sn(tn)}}}var emojiRegex=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};const emojiRegex$1=getDefaultExportFromCjs(emojiRegex),validateAndGetMessage=(tn,sn)=>{if(!tn||typeof tn!="function")return null;Array.isArray(sn)||(sn=[sn]);const un=tn(...sn);return typeof un!="string"?null:un},isUserMuted=(tn,sn)=>!sn||!tn?!1:!!sn.filter(dn=>{var pn;return dn.target.id===((pn=tn.user)==null?void 0:pn.id)}).length,MESSAGE_ACTIONS={delete:"delete",edit:"edit",flag:"flag",markUnread:"markUnread",mute:"mute",pin:"pin",quote:"quote",react:"react",remindMe:"remindMe",reply:"reply",saveForLater:"saveForLater"},defaultPinPermissions={commerce:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!0,user:!1},gaming:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!1,user:!1},livestream:{admin:!0,anonymous:!1,channel_member:!1,channel_moderator:!0,guest:!1,member:!1,moderator:!0,owner:!0,user:!1},messaging:{admin:!0,anonymous:!1,channel_member:!0,channel_moderator:!0,guest:!1,member:!0,moderator:!0,owner:!0,user:!1},team:{admin:!0,anonymous:!1,channel_member:!0,channel_moderator:!0,guest:!1,member:!0,moderator:!0,owner:!0,user:!1}},getMessageActions=(tn,{canDelete:sn,canEdit:un,canFlag:dn,canMarkUnread:pn,canMute:mn,canPin:hn,canQuote:fn,canReact:gn,canReply:xn},yn)=>{const vn=[];let En=[];if(tn&&typeof tn=="boolean")En=Object.keys(MESSAGE_ACTIONS);else if(tn&&tn.length>0)En=[...tn];else return[];return sn&&En.indexOf(MESSAGE_ACTIONS.delete)>-1&&vn.push(MESSAGE_ACTIONS.delete),un&&En.indexOf(MESSAGE_ACTIONS.edit)>-1&&vn.push(MESSAGE_ACTIONS.edit),dn&&En.indexOf(MESSAGE_ACTIONS.flag)>-1&&vn.push(MESSAGE_ACTIONS.flag),pn&&En.indexOf(MESSAGE_ACTIONS.markUnread)>-1&&vn.push(MESSAGE_ACTIONS.markUnread),mn&&En.indexOf(MESSAGE_ACTIONS.mute)>-1&&vn.push(MESSAGE_ACTIONS.mute),hn&&En.indexOf(MESSAGE_ACTIONS.pin)>-1&&vn.push(MESSAGE_ACTIONS.pin),fn&&En.indexOf(MESSAGE_ACTIONS.quote)>-1&&vn.push(MESSAGE_ACTIONS.quote),gn&&En.indexOf(MESSAGE_ACTIONS.react)>-1&&vn.push(MESSAGE_ACTIONS.react),yn!=null&&yn.user_message_reminders&&En.indexOf(MESSAGE_ACTIONS.remindMe)&&vn.push(MESSAGE_ACTIONS.remindMe),xn&&En.indexOf(MESSAGE_ACTIONS.reply)>-1&&vn.push(MESSAGE_ACTIONS.reply),yn!=null&&yn.user_message_reminders&&En.indexOf(MESSAGE_ACTIONS.saveForLater)&&vn.push(MESSAGE_ACTIONS.saveForLater),vn},ACTIONS_NOT_WORKING_IN_THREAD=[MESSAGE_ACTIONS.pin,MESSAGE_ACTIONS.reply,MESSAGE_ACTIONS.markUnread],shouldRenderMessageActions=({customMessageActions:tn,CustomMessageActionsList:sn,inThread:un,messageActions:dn})=>typeof sn<"u"||typeof tn<"u"?!0:!(!dn.length||un&&dn.filter(pn=>!ACTIONS_NOT_WORKING_IN_THREAD.includes(pn)).length===0||dn.length===1&&(dn.includes(MESSAGE_ACTIONS.react)||dn.includes(MESSAGE_ACTIONS.reply))||dn.length===2&&dn.includes(MESSAGE_ACTIONS.react)&&dn.includes(MESSAGE_ACTIONS.reply));function areMessagesEqual(tn,sn){const un=(dn,pn)=>{var mn,hn,fn,gn,xn,yn;return dn.deleted_at===pn.deleted_at&&((mn=dn.latest_reactions)==null?void 0:mn.length)===((hn=pn.latest_reactions)==null?void 0:hn.length)&&((fn=dn.own_reactions)==null?void 0:fn.length)===((gn=pn.own_reactions)==null?void 0:gn.length)&&dn.pinned===pn.pinned&&dn.reply_count===pn.reply_count&&dn.status===pn.status&&dn.text===pn.text&&dn.type===pn.type&&dn.updated_at===pn.updated_at&&((xn=dn.user)==null?void 0:xn.updated_at)===((yn=pn.user)==null?void 0:yn.updated_at)};return un(tn,sn)&&!!tn.quoted_message==!!sn.quoted_message&&(!tn.quoted_message&&!sn.quoted_message||un(tn.quoted_message,sn.quoted_message))}const areMessagePropsEqual=(tn,sn)=>{const{message:un,Message:dn}=tn,{message:pn,Message:mn}=sn;return dn!==mn||tn.endOfGroup!==sn.endOfGroup||sn.showDetailedReactions!==tn.showDetailedReactions||sn.closeReactionSelectorOnClick!==tn.closeReactionSelectorOnClick||!areMessagesEqual(un,pn)||!(isEqual(sn.messageActions,tn.messageActions)&&isEqual(sn.readBy,tn.readBy)&&isEqual(sn.highlighted,tn.highlighted)&&isEqual(sn.groupStyles,tn.groupStyles)&&isEqual(sn.mutes,tn.mutes)&&isEqual(sn.lastReceivedId,tn.lastReceivedId))?!1:tn.messageListRect===sn.messageListRect},areMessageUIPropsEqual=(tn,sn)=>{var hn,fn,gn,xn;const{lastReceivedId:un,message:dn}=tn,{lastReceivedId:pn,message:mn}=sn;return tn.editing!==sn.editing||tn.highlighted!==sn.highlighted||tn.endOfGroup!==sn.endOfGroup||((hn=tn.mutes)==null?void 0:hn.length)!==((fn=sn.mutes)==null?void 0:fn.length)||((gn=tn.readBy)==null?void 0:gn.length)!==((xn=sn.readBy)==null?void 0:xn.length)||tn.groupStyles!==sn.groupStyles||tn.showDetailedReactions!==sn.showDetailedReactions||(dn.id===un||dn.id===pn)&&un!==pn?!1:areMessagesEqual(dn,mn)},messageHasReactions=tn=>Object.values((tn==null?void 0:tn.reaction_groups)??{}).some(({count:sn})=>sn>0),messageHasAttachments=tn=>!!(tn!=null&&tn.attachments)&&!!tn.attachments.length,mapToUserNameOrId=tn=>tn.name||tn.id,getReadByTooltipText=(tn,sn,un,dn)=>{let pn="";if(!sn)throw new Error("getReadByTooltipText was called, but translation function is not available");if(!dn)throw new Error("getReadByTooltipText was called, but tooltipUserNameMapper function is not available");const mn=tn.filter(gn=>gn&&(un==null?void 0:un.user)&&gn.id!==un.user.id).map(dn),hn=mn.slice(0,5),fn=mn.length-hn.length;if(hn.length===1)pn=`${hn[0]} `;else if(hn.length===2)pn=sn("{{ firstUser }} and {{ secondUser }}",{firstUser:hn[0],secondUser:hn[1]});else if(hn.length>2)if(fn===0){const gn=hn.splice(hn.length-1,1);pn=sn("{{ commaSeparatedUsers }}, and {{ lastUser }}",{commaSeparatedUsers:hn.join(", "),lastUser:gn})}else pn=sn("{{ commaSeparatedUsers }} and {{ moreCount }} more",{commaSeparatedUsers:hn.join(", "),moreCount:fn});return pn},isOnlyEmojis=tn=>tn?!tn.replace(emojiRegex$1(),"").replace(/[\s\n]/gm,""):!1,isMessageBounced=tn=>{var sn,un;return tn.type==="error"&&(((sn=tn.moderation_details)==null?void 0:sn.action)==="MESSAGE_RESPONSE_ACTION_BOUNCE"||((un=tn.moderation)==null?void 0:un.action)==="bounce")},isMessageBlocked=tn=>{var sn,un;return tn.type==="error"&&(((sn=tn.moderation_details)==null?void 0:sn.action)==="MESSAGE_RESPONSE_ACTION_REMOVE"||((un=tn.moderation)==null?void 0:un.action)==="remove")},isMessageEdited=tn=>!!tn.message_text_updated_at,useDeleteHandler=(tn,sn={})=>{const{getErrorNotification:un,notify:dn}=sn,{deleteMessage:pn,updateMessage:mn}=useChannelActionContext("useDeleteHandler"),{client:hn}=useChatContext("useDeleteHandler"),{t:fn}=useTranslationContext("useDeleteHandler");return async gn=>{if(gn.preventDefault(),!(!(tn!=null&&tn.id)||!hn||!mn))try{const xn=await pn(tn);mn(xn)}catch{const yn=un&&validateAndGetMessage(un,[tn]);dn&&dn(yn||fn("Error deleting message"),"error")}}},useEditHandler=(tn=!1,sn,un)=>{const[dn,pn]=reactExports.useState(tn);return{clearEdit:fn=>{fn!=null&&fn.preventDefault&&fn.preventDefault(),pn(!1)},editing:dn,setEdit:fn=>{fn!=null&&fn.preventDefault&&fn.preventDefault(),pn(!0)}}},missingUseFlagHandlerParameterWarning="useFlagHandler was called but it is missing one or more necessary parameters.",useFlagHandler=(tn,sn={})=>{const{client:un}=useChatContext("useFlagHandler"),{t:dn}=useTranslationContext("useFlagHandler");return async pn=>{var gn;pn.preventDefault();const{getErrorNotification:mn,getSuccessNotification:hn,notify:fn}=sn;if(!un||!dn||!fn||!(tn!=null&&tn.id)){console.warn(missingUseFlagHandlerParameterWarning);return}if((gn=un.user)!=null&&gn.banned)return fn(dn("Error adding flag"),"error");try{await un.flagMessage(tn.id);const xn=hn&&validateAndGetMessage(hn,[tn]);fn(xn||dn("Message has been successfully flagged"),"success")}catch{const yn=mn&&validateAndGetMessage(mn,[tn]);fn(yn||dn("Error adding flag"),"error")}}};function createEventHandler(tn,sn){return un=>{var dn;typeof tn!="function"||!((dn=sn==null?void 0:sn.mentioned_users)!=null&&dn.length)||tn(un,sn.mentioned_users)}}const useMentionsHandler=(tn,sn)=>{const{onMentionsClick:un,onMentionsHover:dn}=useChannelActionContext("useMentionsHandler"),pn=(sn==null?void 0:sn.onMentionsClick)||un||(()=>null),mn=(sn==null?void 0:sn.onMentionsHover)||dn||(()=>null);return{onMentionsClick:createEventHandler(pn,tn),onMentionsHover:createEventHandler(mn,tn)}},useMarkUnreadHandler=(tn,sn={})=>{const{getErrorNotification:un,getSuccessNotification:dn,notify:pn}=sn,{channel:mn}=useChannelStateContext("useMarkUnreadHandler"),{t:hn}=useTranslationContext("useMarkUnreadHandler");return async fn=>{if(fn.preventDefault(),!(tn!=null&&tn.id)){console.warn("Mark unread handler does not have access to message id");return}try{if(await mn.markUnread({message_id:tn.id}),!pn)return;const gn=dn&&validateAndGetMessage(dn,[tn]);gn&&pn(gn,"success")}catch{if(!pn)return;const xn=un&&validateAndGetMessage(un,[tn]);if(un&&!xn)return;pn(xn||hn("Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages."),"error")}}},missingUseMuteHandlerParamsWarning="useMuteHandler was called but it is missing one or more necessary parameter.",useMuteHandler=(tn,sn={})=>{const{mutes:un}=useChannelStateContext("useMuteHandler"),{client:dn}=useChatContext("useMuteHandler"),{t:pn}=useTranslationContext("useMuteHandler");return async mn=>{mn.preventDefault();const{getErrorNotification:hn,getSuccessNotification:fn,notify:gn}=sn;if(!pn||!(tn!=null&&tn.user)||!gn||!dn){console.warn(missingUseMuteHandlerParamsWarning);return}if(isUserMuted(tn,un))try{await dn.unmuteUser(tn.user.id);const xn=pn("{{ user }} has been unmuted",{user:tn.user.name||tn.user.id}),yn=fn&&validateAndGetMessage(fn,[tn.user])||xn;typeof yn=="string"&&gn(yn,"success")}catch{const yn=hn&&validateAndGetMessage(hn,[tn.user])||pn("Error unmuting a user ...");typeof yn=="string"&&gn(yn,"error")}else try{await dn.muteUser(tn.user.id);const xn=fn&&validateAndGetMessage(fn,[tn.user]);gn(xn||pn("{{ user }} has been muted",{user:tn.user.name||tn.user.id}),"success")}catch{const yn=hn&&validateAndGetMessage(hn,[tn.user]);gn(yn||pn("Error muting a user ..."),"error")}}},useOpenThreadHandler=(tn,sn)=>{const{openThread:un}=useChannelActionContext("useOpenThreadHandler"),dn=sn||un;return pn=>{if(!dn||!tn){console.warn("Open thread handler was called but it is missing one of its parameters");return}dn(tn,pn)}},usePinHandler=(tn,sn=defaultPinPermissions,un={})=>{const{getErrorNotification:dn,notify:pn}=un,{updateMessage:mn}=useChannelActionContext("usePinHandler"),{channelCapabilities:hn={}}=useChannelStateContext("usePinHandler"),{client:fn}=useChatContext("usePinHandler"),{t:gn}=useTranslationContext("usePinHandler");return{canPin:!!hn["pin-message"],handlePin:async vn=>{if(vn.preventDefault(),!!tn)if(tn.pinned)try{const En={...tn,pin_expires:null,pinned:!1,pinned_at:null,pinned_by:null};mn(En),await fn.unpinMessage(tn)}catch{const bn=dn&&validateAndGetMessage(dn,[tn]);pn&&pn(bn||gn("Error removing message pin"),"error"),mn(tn)}else try{const En={...tn,pinned:!0,pinned_at:new Date,pinned_by:fn.user};mn(En),await fn.pinMessage(tn)}catch{const bn=dn&&validateAndGetMessage(dn,[tn]);pn&&pn(bn||gn("Error pinning message"),"error"),mn(tn)}}}},reactionHandlerWarning=`Reaction handler was called, but it is missing one of its required arguments.
Make sure the ChannelAction and ChannelState contexts are properly set and the hook is initialized with a valid message.`,useReactionHandler=tn=>{const sn=useThreadContext(),{updateMessage:un}=useChannelActionContext("useReactionHandler"),{channel:dn,channelCapabilities:pn}=useChannelStateContext("useReactionHandler"),{client:mn}=useChatContext("useReactionHandler"),hn=reactExports.useCallback((xn,yn,vn)=>{var _n,jn;const En=(vn==null?void 0:vn.reaction_groups)||{},bn=yn.type,wn=!!En[bn];if(xn){const Cn=new Date().toISOString();En[bn]=wn?{...En[bn],count:En[bn].count+1}:{count:1,first_reaction_at:Cn,last_reaction_at:Cn,sum_scores:1}}else wn&&En[bn].count>1?En[bn]={...En[bn],count:En[bn].count-1}:delete En[bn];const Sn=xn?[yn,...(vn==null?void 0:vn.latest_reactions)||[]]:(_n=vn.latest_reactions)==null?void 0:_n.filter(Cn=>!(Cn.type===yn.type&&Cn.user_id===yn.user_id)),Rn=xn?[yn,...(vn==null?void 0:vn.own_reactions)||[]]:(jn=vn==null?void 0:vn.own_reactions)==null?void 0:jn.filter(Cn=>Cn.type!==yn.type);return{...vn,latest_reactions:Sn||vn.latest_reactions,own_reactions:Rn,reaction_groups:En}},[mn.user,mn.userID]),fn=xn=>{var yn;return{message_id:tn==null?void 0:tn.id,score:1,type:xn,user:mn.user,user_id:(yn=mn.user)==null?void 0:yn.id}},gn=throttle$1(async(xn,yn,vn)=>{if(!tn||!pn["send-reaction"])return;const En=fn(yn),bn=hn(vn,En,tn);try{un(bn),sn==null||sn.upsertReplyLocally({message:bn});const wn=vn?await dn.sendReaction(xn,{type:yn}):await dn.deleteReaction(xn,yn);un(wn.message)}catch{un(tn),sn==null||sn.upsertReplyLocally({message:tn})}},1e3);return async(xn,yn)=>{if(yn!=null&&yn.preventDefault&&yn.preventDefault(),!tn)return console.warn(reactionHandlerWarning);let vn=null;tn.own_reactions&&tn.own_reactions.forEach(En=>{En.user&&mn.userID===En.user.id&&En.type===xn?vn=En:En.user&&mn.userID!==En.user.id&&console.warn("message.own_reactions contained reactions from a different user, this indicates a bug")});try{vn?await gn(tn.id,vn.type,!1):await gn(tn.id,xn,!0)}catch(En){console.log({error:En})}}},useRetryHandler=tn=>{const{retrySendMessage:sn}=useChannelActionContext("useRetryHandler"),un=tn||sn;return async dn=>{dn&&await un(dn)}},useUserHandler=(tn,sn)=>({onUserClick:un=>{typeof(sn==null?void 0:sn.onUserClickHandler)!="function"||!(tn!=null&&tn.user)||sn.onUserClickHandler(un,tn.user)},onUserHover:un=>{typeof(sn==null?void 0:sn.onUserHoverHandler)!="function"||!(tn!=null&&tn.user)||sn.onUserHoverHandler(un,tn.user)}}),useUserRole=(tn,sn,un)=>{var jn,Cn,An;const{channel:dn,channelCapabilities:pn={}}=useChannelStateContext("useUserRole"),{client:mn}=useChatContext("useUserRole"),hn=((jn=mn.user)==null?void 0:jn.role)==="admin"||dn.state.membership.role==="admin",fn=dn.state.membership.role==="owner",gn=((Cn=mn.user)==null?void 0:Cn.role)==="channel_moderator"||dn.state.membership.role==="channel_moderator"||dn.state.membership.role==="moderator"||dn.state.membership.is_moderator===!0||dn.state.membership.channel_role==="channel_moderator",xn=mn.userID===((An=tn.user)==null?void 0:An.id),yn=!tn.poll&&(!sn&&pn["update-any-message"]||xn&&pn["update-own-message"]),vn=pn["delete-any-message"]||xn&&pn["delete-own-message"],En=!xn&&pn["flag-message"],bn=pn["read-events"],wn=!xn&&pn["mute-channel"],Sn=!un&&pn["quote-message"],Rn=pn["send-reaction"],_n=pn["send-reply"];return{canDelete:vn,canEdit:yn,canFlag:En,canMarkUnread:bn,canMute:wn,canQuote:Sn,canReact:Rn,canReply:_n,isAdmin:hn,isModerator:gn,isMyMessage:xn,isOwner:fn}},MAX_MESSAGE_REACTIONS_TO_FETCH=1e3;function useReactionsFetcher(tn,sn={}){const{client:un}=useChatContext("useRectionsFetcher"),{t:dn}=useTranslationContext("useReactionFetcher"),{getErrorNotification:pn,notify:mn}=sn;return async(hn,fn)=>{try{return await fetchMessageReactions(un,tn.id,hn,fn)}catch(gn){const xn=pn==null?void 0:pn(tn);throw mn==null||mn(xn||dn("Error fetching reactions"),"error"),gn}}}async function fetchMessageReactions(tn,sn,un,dn){const pn=[];let hn,fn=!0;for(;fn&&pn.length<MAX_MESSAGE_REACTIONS_TO_FETCH;){const gn=await tn.queryReactions(sn,un?{type:un}:{},dn,{limit:25,next:hn});pn.push(...gn.reactions),hn=gn.next,fn=!!hn}return pn}const DEFAULT_LETTER_INTERVAL=30,DEFAULT_RENDERING_LETTER_COUNT=2,useMessageTextStreaming=({renderingLetterCount:tn=DEFAULT_RENDERING_LETTER_COUNT,streamingLetterIntervalMs:sn=DEFAULT_LETTER_INTERVAL,text:un})=>{const[dn,pn]=reactExports.useState(un),mn=reactExports.useRef(un.length);return reactExports.useEffect(()=>{const hn=un.length,fn=setInterval(()=>{(!un||mn.current>=hn)&&clearInterval(fn);const gn=mn.current+tn,xn=un.substring(0,gn);mn.current+=xn.length-mn.current,pn(xn)},sn);return()=>{clearInterval(fn)}},[sn,tn,un]),{streamedMessageText:dn}},useMessageReminder=tn=>{const{client:sn}=useChatContext(),un=reactExports.useCallback(pn=>({reminder:pn.reminders.get(tn)}),[tn]),{reminder:dn}=useStateStore(sn.reminders.state,un);return dn},MessageDeleted=tn=>{const{message:sn}=tn,{t:un}=useTranslationContext("MessageDeleted"),{isMyMessage:dn}=useUserRole(sn),pn=dn?"str-chat__message str-chat__message--me str-chat__message-simple str-chat__message-simple--me":"str-chat__message str-chat__message-simple str-chat__message--other";return React$1.createElement("div",{className:`${pn} str-chat__message--deleted ${sn.type} `,"data-testid":"message-deleted-component",key:sn.id},React$1.createElement("div",{className:"str-chat__message--deleted-inner"},un("This message was deleted...")))},UnMemoizedMessageTimestamp=tn=>{const{message:sn,...un}=tn,{message:dn}=useMessageContext(),{Timestamp:pn=Timestamp}=useComponentContext(),mn=sn||dn;return React$1.createElement(pn,{timestamp:mn.created_at,...un})},MessageTimestamp=React$1.memo(UnMemoizedMessageTimestamp),BaseImage=reactExports.forwardRef(function tn({...sn},un){const{className:dn,onError:pn}=sn,[mn,hn]=reactExports.useState(!1);return reactExports.useEffect(()=>()=>{hn(!1)},[sn.src]),React$1.createElement(React$1.Fragment,null,React$1.createElement("img",{"data-testid":"str-chat__base-image",...sn,className:clsx(dn,"str-chat__base-image",{"str-chat__base-image--load-failed":mn}),onError:fn=>{hn(!0),pn==null||pn(fn)},ref:un}),mn&&React$1.createElement(DownloadButton,{assetUrl:sn.src}))}),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React$1.useLayoutEffect:()=>{},$431fbd86ca7dc216$export$b204af158042fbac=tn=>{var sn;return(sn=tn==null?void 0:tn.ownerDocument)!==null&&sn!==void 0?sn:document},$431fbd86ca7dc216$export$f21a1ffae260145a=tn=>tn&&"window"in tn&&tn.window===tn?tn:$431fbd86ca7dc216$export$b204af158042fbac(tn).defaultView||window;function $431fbd86ca7dc216$var$isNode(tn){return tn!==null&&typeof tn=="object"&&"nodeType"in tn&&typeof tn.nodeType=="number"}function $431fbd86ca7dc216$export$af51f0f06c0f328a(tn){return $431fbd86ca7dc216$var$isNode(tn)&&tn.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in tn}let $f4e2df6bd15f8569$var$_shadowDOM=!1;function $f4e2df6bd15f8569$export$98658e8c59125e6a(){return $f4e2df6bd15f8569$var$_shadowDOM}function $d4ee10de306f2510$export$4282f70798064fe0(tn,sn){if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return sn&&tn?tn.contains(sn):!1;if(!tn||!sn)return!1;let un=sn;for(;un!==null;){if(un===tn)return!0;un.tagName==="SLOT"&&un.assignedSlot?un=un.assignedSlot.parentNode:$431fbd86ca7dc216$export$af51f0f06c0f328a(un)?un=un.host:un=un.parentNode}return!1}const $d4ee10de306f2510$export$cd4e5573fbe2b576=(tn=document)=>{var sn;if(!$f4e2df6bd15f8569$export$98658e8c59125e6a())return tn.activeElement;let un=tn.activeElement;for(;un&&"shadowRoot"in un&&(!((sn=un.shadowRoot)===null||sn===void 0)&&sn.activeElement);)un=un.shadowRoot.activeElement;return un};function $d4ee10de306f2510$export$e58f029f0fbfdb29(tn){return $f4e2df6bd15f8569$export$98658e8c59125e6a()&&tn.target.shadowRoot&&tn.composedPath?tn.composedPath()[0]:tn.target}class $dfc540311bf7f109$export$63eb3ababa9c55c4{get currentNode(){return this._currentNode}set currentNode(sn){if(!$d4ee10de306f2510$export$4282f70798064fe0(this.root,sn))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const un=[];let dn=sn,pn=sn;for(this._currentNode=sn;dn&&dn!==this.root;)if(dn.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const hn=dn,fn=this._doc.createTreeWalker(hn,this.whatToShow,{acceptNode:this._acceptNode});un.push(fn),fn.currentNode=pn,this._currentSetFor.add(fn),dn=pn=hn.host}else dn=dn.parentNode;const mn=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});un.push(mn),mn.currentNode=pn,this._currentSetFor.add(mn),this._walkerStack=un}get doc(){return this._doc}firstChild(){let sn=this.currentNode,un=this.nextNode();return $d4ee10de306f2510$export$4282f70798064fe0(sn,un)?(un&&(this.currentNode=un),un):(this.currentNode=sn,null)}lastChild(){let un=this._walkerStack[0].lastChild();return un&&(this.currentNode=un),un}nextNode(){const sn=this._walkerStack[0].nextNode();if(sn){if(sn.shadowRoot){var un;let pn;if(typeof this.filter=="function"?pn=this.filter(sn):!((un=this.filter)===null||un===void 0)&&un.acceptNode&&(pn=this.filter.acceptNode(sn)),pn===NodeFilter.FILTER_ACCEPT)return this.currentNode=sn,sn;let mn=this.nextNode();return mn&&(this.currentNode=mn),mn}return sn&&(this.currentNode=sn),sn}else if(this._walkerStack.length>1){this._walkerStack.shift();let dn=this.nextNode();return dn&&(this.currentNode=dn),dn}else return null}previousNode(){const sn=this._walkerStack[0];if(sn.currentNode===sn.root){if(this._currentSetFor.has(sn))if(this._currentSetFor.delete(sn),this._walkerStack.length>1){this._walkerStack.shift();let pn=this.previousNode();return pn&&(this.currentNode=pn),pn}else return null;return null}const un=sn.previousNode();if(un){if(un.shadowRoot){var dn;let mn;if(typeof this.filter=="function"?mn=this.filter(un):!((dn=this.filter)===null||dn===void 0)&&dn.acceptNode&&(mn=this.filter.acceptNode(un)),mn===NodeFilter.FILTER_ACCEPT)return un&&(this.currentNode=un),un;let hn=this.lastChild();return hn&&(this.currentNode=hn),hn}return un&&(this.currentNode=un),un}else if(this._walkerStack.length>1){this._walkerStack.shift();let pn=this.previousNode();return pn&&(this.currentNode=pn),pn}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(sn,un,dn,pn){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=hn=>{if(hn.nodeType===Node.ELEMENT_NODE){const gn=hn.shadowRoot;if(gn){const xn=this._doc.createTreeWalker(gn,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(xn),NodeFilter.FILTER_ACCEPT}else{var fn;if(typeof this.filter=="function")return this.filter(hn);if(!((fn=this.filter)===null||fn===void 0)&&fn.acceptNode)return this.filter.acceptNode(hn);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=sn,this.root=un,this.filter=pn??null,this.whatToShow=dn??NodeFilter.SHOW_ALL,this._currentNode=un,this._walkerStack.unshift(sn.createTreeWalker(un,dn,this._acceptNode));const mn=un.shadowRoot;if(mn){const hn=this._doc.createTreeWalker(mn,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(hn)}}}function $dfc540311bf7f109$export$4d0f8be8b12a7ef6(tn,sn,un,dn){return $f4e2df6bd15f8569$export$98658e8c59125e6a()?new $dfc540311bf7f109$export$63eb3ababa9c55c4(tn,sn,un,dn):tn.createTreeWalker(sn,un,dn)}function $7215afc6de606d6b$export$de79e2c695e052f3(tn){if($7215afc6de606d6b$var$supportsPreventScroll())tn.focus({preventScroll:!0});else{let sn=$7215afc6de606d6b$var$getScrollableElements(tn);tn.focus(),$7215afc6de606d6b$var$restoreScrollPosition(sn)}}let $7215afc6de606d6b$var$supportsPreventScrollCached=null;function $7215afc6de606d6b$var$supportsPreventScroll(){if($7215afc6de606d6b$var$supportsPreventScrollCached==null){$7215afc6de606d6b$var$supportsPreventScrollCached=!1;try{document.createElement("div").focus({get preventScroll(){return $7215afc6de606d6b$var$supportsPreventScrollCached=!0,!0}})}catch{}}return $7215afc6de606d6b$var$supportsPreventScrollCached}function $7215afc6de606d6b$var$getScrollableElements(tn){let sn=tn.parentNode,un=[],dn=document.scrollingElement||document.documentElement;for(;sn instanceof HTMLElement&&sn!==dn;)(sn.offsetHeight<sn.scrollHeight||sn.offsetWidth<sn.scrollWidth)&&un.push({element:sn,scrollTop:sn.scrollTop,scrollLeft:sn.scrollLeft}),sn=sn.parentNode;return dn instanceof HTMLElement&&un.push({element:dn,scrollTop:dn.scrollTop,scrollLeft:dn.scrollLeft}),un}function $7215afc6de606d6b$var$restoreScrollPosition(tn){for(let{element:sn,scrollTop:un,scrollLeft:dn}of tn)sn.scrollTop=un,sn.scrollLeft=dn}function $c87311424ea30a05$var$testUserAgent(tn){var sn;return typeof window>"u"||window.navigator==null?!1:((sn=window.navigator.userAgentData)===null||sn===void 0?void 0:sn.brands.some(un=>tn.test(un.brand)))||tn.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(tn){var sn;return typeof window<"u"&&window.navigator!=null?tn.test(((sn=window.navigator.userAgentData)===null||sn===void 0?void 0:sn.platform)||window.navigator.platform):!1}function $c87311424ea30a05$var$cached(tn){let sn=null;return()=>(sn==null&&(sn=tn()),sn)}const $c87311424ea30a05$export$9ac100e40613ea10=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}),$c87311424ea30a05$export$6446a186d09e379e=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Chrome/i)}),$c87311424ea30a05$export$a11b0059900ceec8=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Android/i)});let $bbed8b41f857bcc0$var$transitionsByElement=new Map,$bbed8b41f857bcc0$var$transitionCallbacks=new Set;function $bbed8b41f857bcc0$var$setupGlobalEvents(){if(typeof window>"u")return;function tn(dn){return"propertyName"in dn}let sn=dn=>{if(!tn(dn)||!dn.target)return;let pn=$bbed8b41f857bcc0$var$transitionsByElement.get(dn.target);pn||(pn=new Set,$bbed8b41f857bcc0$var$transitionsByElement.set(dn.target,pn),dn.target.addEventListener("transitioncancel",un,{once:!0})),pn.add(dn.propertyName)},un=dn=>{if(!tn(dn)||!dn.target)return;let pn=$bbed8b41f857bcc0$var$transitionsByElement.get(dn.target);if(pn&&(pn.delete(dn.propertyName),pn.size===0&&(dn.target.removeEventListener("transitioncancel",un),$bbed8b41f857bcc0$var$transitionsByElement.delete(dn.target)),$bbed8b41f857bcc0$var$transitionsByElement.size===0)){for(let mn of $bbed8b41f857bcc0$var$transitionCallbacks)mn();$bbed8b41f857bcc0$var$transitionCallbacks.clear()}};document.body.addEventListener("transitionrun",sn),document.body.addEventListener("transitionend",un)}typeof document<"u"&&(document.readyState!=="loading"?$bbed8b41f857bcc0$var$setupGlobalEvents():document.addEventListener("DOMContentLoaded",$bbed8b41f857bcc0$var$setupGlobalEvents));function $bbed8b41f857bcc0$var$cleanupDetachedElements(){for(const[tn]of $bbed8b41f857bcc0$var$transitionsByElement)"isConnected"in tn&&!tn.isConnected&&$bbed8b41f857bcc0$var$transitionsByElement.delete(tn)}function $bbed8b41f857bcc0$export$24490316f764c430(tn){requestAnimationFrame(()=>{$bbed8b41f857bcc0$var$cleanupDetachedElements(),$bbed8b41f857bcc0$var$transitionsByElement.size===0?tn():$bbed8b41f857bcc0$var$transitionCallbacks.add(tn)})}function $6a7db85432448f7f$export$60278871457622de(tn){return tn.mozInputSource===0&&tn.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&tn.pointerType?tn.type==="click"&&tn.buttons===1:tn.detail===0&&!tn.pointerType}const $b4b717babfbb907b$var$focusableElements=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],$b4b717babfbb907b$var$FOCUSABLE_ELEMENT_SELECTOR=$b4b717babfbb907b$var$focusableElements.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";$b4b717babfbb907b$var$focusableElements.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $b4b717babfbb907b$var$TABBABLE_ELEMENT_SELECTOR=$b4b717babfbb907b$var$focusableElements.join(':not([hidden]):not([tabindex="-1"]),');function $b4b717babfbb907b$export$4c063cf1350e6fed(tn){return tn.matches($b4b717babfbb907b$var$FOCUSABLE_ELEMENT_SELECTOR)}function $b4b717babfbb907b$export$bebd5a1431fec25d(tn){return tn.matches($b4b717babfbb907b$var$TABBABLE_ELEMENT_SELECTOR)}function $645f2e67b85a24c9$var$isStyleVisible(tn){const sn=$431fbd86ca7dc216$export$f21a1ffae260145a(tn);if(!(tn instanceof sn.HTMLElement)&&!(tn instanceof sn.SVGElement))return!1;let{display:un,visibility:dn}=tn.style,pn=un!=="none"&&dn!=="hidden"&&dn!=="collapse";if(pn){const{getComputedStyle:mn}=tn.ownerDocument.defaultView;let{display:hn,visibility:fn}=mn(tn);pn=hn!=="none"&&fn!=="hidden"&&fn!=="collapse"}return pn}function $645f2e67b85a24c9$var$isAttributeVisible(tn,sn){return!tn.hasAttribute("hidden")&&!tn.hasAttribute("data-react-aria-prevent-focus")&&(tn.nodeName==="DETAILS"&&sn&&sn.nodeName!=="SUMMARY"?tn.hasAttribute("open"):!0)}function $645f2e67b85a24c9$export$e989c0fffaa6b27a(tn,sn){return tn.nodeName!=="#comment"&&$645f2e67b85a24c9$var$isStyleVisible(tn)&&$645f2e67b85a24c9$var$isAttributeVisible(tn,sn)&&(!tn.parentElement||$645f2e67b85a24c9$export$e989c0fffaa6b27a(tn.parentElement,tn))}let $8a9cb279dc87e130$export$fda7da73ab5d4c48=!1,$507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;function $507fabe10e71c6fb$var$triggerChangeHandlers(tn,sn){for(let un of $507fabe10e71c6fb$var$changeHandlers)un(tn,sn)}function $507fabe10e71c6fb$var$isValidKey(tn){return!(tn.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&tn.altKey||tn.ctrlKey||tn.key==="Control"||tn.key==="Shift"||tn.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(tn){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(tn)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",tn))}function $507fabe10e71c6fb$var$handlePointerEvent(tn){$507fabe10e71c6fb$var$currentModality="pointer",(tn.type==="mousedown"||tn.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",tn))}function $507fabe10e71c6fb$var$handleClickEvent(tn){$6a7db85432448f7f$export$60278871457622de(tn)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(tn){tn.target===window||tn.target===document||$8a9cb279dc87e130$export$fda7da73ab5d4c48||!tn.isTrusted||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",tn)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(tn){if(typeof window>"u"||typeof document>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(tn)))return;const sn=$431fbd86ca7dc216$export$f21a1ffae260145a(tn),un=$431fbd86ca7dc216$export$b204af158042fbac(tn);let dn=sn.HTMLElement.prototype.focus;sn.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,dn.apply(this,arguments)},un.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),un.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),un.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),sn.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),sn.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(un.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),un.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),un.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),sn.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(tn)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(sn,{focus:dn})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(tn,sn)=>{const un=$431fbd86ca7dc216$export$f21a1ffae260145a(tn),dn=$431fbd86ca7dc216$export$b204af158042fbac(tn);sn&&dn.removeEventListener("DOMContentLoaded",sn),$507fabe10e71c6fb$export$d90243b58daecda7.has(un)&&(un.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(un).focus,dn.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),dn.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),dn.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),un.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),un.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"&&(dn.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),dn.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),dn.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(un))};function $507fabe10e71c6fb$export$2f1888112f558a7d(tn){const sn=$431fbd86ca7dc216$export$b204af158042fbac(tn);let un;return sn.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(tn):(un=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(tn)},sn.addEventListener("DOMContentLoaded",un)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(tn,un)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$630ff653c5ada6a9(){return $507fabe10e71c6fb$var$currentModality}function $3ad3f6e1647bc98d$export$80f3e147d781571c(tn){const sn=$431fbd86ca7dc216$export$b204af158042fbac(tn),un=$d4ee10de306f2510$export$cd4e5573fbe2b576(sn);if($507fabe10e71c6fb$export$630ff653c5ada6a9()==="virtual"){let dn=un;$bbed8b41f857bcc0$export$24490316f764c430(()=>{$d4ee10de306f2510$export$cd4e5573fbe2b576(sn)===dn&&tn.isConnected&&$7215afc6de606d6b$export$de79e2c695e052f3(tn)})}else $7215afc6de606d6b$export$de79e2c695e052f3(tn)}const $9bf71ea28793e738$var$FocusContext=React$1.createContext(null),$9bf71ea28793e738$var$RESTORE_FOCUS_EVENT="react-aria-focus-scope-restore";let $9bf71ea28793e738$var$activeScope=null;function $9bf71ea28793e738$export$20e40289641fbbb6(tn){let{children:sn,contain:un,restoreFocus:dn,autoFocus:pn}=tn,mn=reactExports.useRef(null),hn=reactExports.useRef(null),fn=reactExports.useRef([]),{parentNode:gn}=reactExports.useContext($9bf71ea28793e738$var$FocusContext)||{},xn=reactExports.useMemo(()=>new $9bf71ea28793e738$var$TreeNode({scopeRef:fn}),[fn]);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let En=gn||$9bf71ea28793e738$export$d06fae2ee68b101e.root;if($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(En.scopeRef)&&$9bf71ea28793e738$var$activeScope&&!$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,En.scopeRef)){let bn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);bn&&(En=bn)}En.addChild(xn),$9bf71ea28793e738$export$d06fae2ee68b101e.addNode(xn)},[xn,gn]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let En=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(fn);En&&(En.contain=!!un)},[un]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{var En;let bn=(En=mn.current)===null||En===void 0?void 0:En.nextSibling,wn=[],Sn=Rn=>Rn.stopPropagation();for(;bn&&bn!==hn.current;)wn.push(bn),bn.addEventListener($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,Sn),bn=bn.nextSibling;return fn.current=wn,()=>{for(let Rn of wn)Rn.removeEventListener($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,Sn)}},[sn]),$9bf71ea28793e738$var$useActiveScopeTracker(fn,dn,un),$9bf71ea28793e738$var$useFocusContainment(fn,un),$9bf71ea28793e738$var$useRestoreFocus(fn,dn,un),$9bf71ea28793e738$var$useAutoFocus(fn,pn),reactExports.useEffect(()=>{const En=$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(fn.current?fn.current[0]:void 0));let bn=null;if($9bf71ea28793e738$var$isElementInScope(En,fn.current)){for(let wn of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse())wn.scopeRef&&$9bf71ea28793e738$var$isElementInScope(En,wn.scopeRef.current)&&(bn=wn);bn===$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(fn)&&($9bf71ea28793e738$var$activeScope=bn.scopeRef)}},[fn]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{var En,bn,wn;let Sn=(wn=(bn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(fn))===null||bn===void 0||(En=bn.parent)===null||En===void 0?void 0:En.scopeRef)!==null&&wn!==void 0?wn:null;(fn===$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope(fn,$9bf71ea28793e738$var$activeScope))&&(!Sn||$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(Sn))&&($9bf71ea28793e738$var$activeScope=Sn),$9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(fn)},[fn]);let yn=reactExports.useMemo(()=>$9bf71ea28793e738$var$createFocusManagerForScope(fn),[]),vn=reactExports.useMemo(()=>({focusManager:yn,parentNode:xn}),[xn,yn]);return React$1.createElement($9bf71ea28793e738$var$FocusContext.Provider,{value:vn},React$1.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:mn}),sn,React$1.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:hn}))}function $9bf71ea28793e738$var$createFocusManagerForScope(tn){return{focusNext(sn={}){let un=tn.current,{from:dn,tabbable:pn,wrap:mn,accept:hn}=sn;var fn;let gn=dn||$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac((fn=un[0])!==null&&fn!==void 0?fn:void 0)),xn=un[0].previousElementSibling,yn=$9bf71ea28793e738$var$getScopeRoot(un),vn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(yn,{tabbable:pn,accept:hn},un);vn.currentNode=$9bf71ea28793e738$var$isElementInScope(gn,un)?gn:xn;let En=vn.nextNode();return!En&&mn&&(vn.currentNode=xn,En=vn.nextNode()),En&&$9bf71ea28793e738$var$focusElement(En,!0),En},focusPrevious(sn={}){let un=tn.current,{from:dn,tabbable:pn,wrap:mn,accept:hn}=sn;var fn;let gn=dn||$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac((fn=un[0])!==null&&fn!==void 0?fn:void 0)),xn=un[un.length-1].nextElementSibling,yn=$9bf71ea28793e738$var$getScopeRoot(un),vn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(yn,{tabbable:pn,accept:hn},un);vn.currentNode=$9bf71ea28793e738$var$isElementInScope(gn,un)?gn:xn;let En=vn.previousNode();return!En&&mn&&(vn.currentNode=xn,En=vn.previousNode()),En&&$9bf71ea28793e738$var$focusElement(En,!0),En},focusFirst(sn={}){let un=tn.current,{tabbable:dn,accept:pn}=sn,mn=$9bf71ea28793e738$var$getScopeRoot(un),hn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(mn,{tabbable:dn,accept:pn},un);hn.currentNode=un[0].previousElementSibling;let fn=hn.nextNode();return fn&&$9bf71ea28793e738$var$focusElement(fn,!0),fn},focusLast(sn={}){let un=tn.current,{tabbable:dn,accept:pn}=sn,mn=$9bf71ea28793e738$var$getScopeRoot(un),hn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(mn,{tabbable:dn,accept:pn},un);hn.currentNode=un[un.length-1].nextElementSibling;let fn=hn.previousNode();return fn&&$9bf71ea28793e738$var$focusElement(fn,!0),fn}}}function $9bf71ea28793e738$var$getScopeRoot(tn){return tn[0].parentElement}function $9bf71ea28793e738$var$shouldContainFocus(tn){let sn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;sn&&sn.scopeRef!==tn;){if(sn.contain)return!1;sn=sn.parent}return!0}function $9bf71ea28793e738$var$useFocusContainment(tn,sn){let un=reactExports.useRef(void 0),dn=reactExports.useRef(void 0);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let pn=tn.current;if(!sn){dn.current&&(cancelAnimationFrame(dn.current),dn.current=void 0);return}const mn=$431fbd86ca7dc216$export$b204af158042fbac(pn?pn[0]:void 0);let hn=xn=>{if(xn.key!=="Tab"||xn.altKey||xn.ctrlKey||xn.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(tn)||xn.isComposing)return;let yn=$d4ee10de306f2510$export$cd4e5573fbe2b576(mn),vn=tn.current;if(!vn||!$9bf71ea28793e738$var$isElementInScope(yn,vn))return;let En=$9bf71ea28793e738$var$getScopeRoot(vn),bn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(En,{tabbable:!0},vn);if(!yn)return;bn.currentNode=yn;let wn=xn.shiftKey?bn.previousNode():bn.nextNode();wn||(bn.currentNode=xn.shiftKey?vn[vn.length-1].nextElementSibling:vn[0].previousElementSibling,wn=xn.shiftKey?bn.previousNode():bn.nextNode()),xn.preventDefault(),wn&&$9bf71ea28793e738$var$focusElement(wn,!0)},fn=xn=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,tn))&&$9bf71ea28793e738$var$isElementInScope($d4ee10de306f2510$export$e58f029f0fbfdb29(xn),tn.current)?($9bf71ea28793e738$var$activeScope=tn,un.current=$d4ee10de306f2510$export$e58f029f0fbfdb29(xn)):$9bf71ea28793e738$var$shouldContainFocus(tn)&&!$9bf71ea28793e738$var$isElementInChildScope($d4ee10de306f2510$export$e58f029f0fbfdb29(xn),tn)?un.current?un.current.focus():$9bf71ea28793e738$var$activeScope&&$9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current):$9bf71ea28793e738$var$shouldContainFocus(tn)&&(un.current=$d4ee10de306f2510$export$e58f029f0fbfdb29(xn))},gn=xn=>{dn.current&&cancelAnimationFrame(dn.current),dn.current=requestAnimationFrame(()=>{let yn=$507fabe10e71c6fb$export$630ff653c5ada6a9(),vn=(yn==="virtual"||yn===null)&&$c87311424ea30a05$export$a11b0059900ceec8()&&$c87311424ea30a05$export$6446a186d09e379e(),En=$d4ee10de306f2510$export$cd4e5573fbe2b576(mn);if(!vn&&En&&$9bf71ea28793e738$var$shouldContainFocus(tn)&&!$9bf71ea28793e738$var$isElementInChildScope(En,tn)){$9bf71ea28793e738$var$activeScope=tn;let wn=$d4ee10de306f2510$export$e58f029f0fbfdb29(xn);if(wn&&wn.isConnected){var bn;un.current=wn,(bn=un.current)===null||bn===void 0||bn.focus()}else $9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current)}})};return mn.addEventListener("keydown",hn,!1),mn.addEventListener("focusin",fn,!1),pn==null||pn.forEach(xn=>xn.addEventListener("focusin",fn,!1)),pn==null||pn.forEach(xn=>xn.addEventListener("focusout",gn,!1)),()=>{mn.removeEventListener("keydown",hn,!1),mn.removeEventListener("focusin",fn,!1),pn==null||pn.forEach(xn=>xn.removeEventListener("focusin",fn,!1)),pn==null||pn.forEach(xn=>xn.removeEventListener("focusout",gn,!1))}},[tn,sn]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{dn.current&&cancelAnimationFrame(dn.current)},[dn])}function $9bf71ea28793e738$var$isElementInAnyScope(tn){return $9bf71ea28793e738$var$isElementInChildScope(tn)}function $9bf71ea28793e738$var$isElementInScope(tn,sn){return!tn||!sn?!1:sn.some(un=>un.contains(tn))}function $9bf71ea28793e738$var$isElementInChildScope(tn,sn=null){if(tn instanceof Element&&tn.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:un}of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(sn)))if(un&&$9bf71ea28793e738$var$isElementInScope(tn,un.current))return!0;return!1}function $9bf71ea28793e738$var$isAncestorScope(tn,sn){var un;let dn=(un=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(sn))===null||un===void 0?void 0:un.parent;for(;dn;){if(dn.scopeRef===tn)return!0;dn=dn.parent}return!1}function $9bf71ea28793e738$var$focusElement(tn,sn=!1){if(tn!=null&&!sn)try{$3ad3f6e1647bc98d$export$80f3e147d781571c(tn)}catch{}else if(tn!=null)try{tn.focus()}catch{}}function $9bf71ea28793e738$var$getFirstInScope(tn,sn=!0){let un=tn[0].previousElementSibling,dn=$9bf71ea28793e738$var$getScopeRoot(tn),pn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(dn,{tabbable:sn},tn);pn.currentNode=un;let mn=pn.nextNode();return sn&&!mn&&(dn=$9bf71ea28793e738$var$getScopeRoot(tn),pn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(dn,{tabbable:!1},tn),pn.currentNode=un,mn=pn.nextNode()),mn}function $9bf71ea28793e738$var$focusFirstInScope(tn,sn=!0){$9bf71ea28793e738$var$focusElement($9bf71ea28793e738$var$getFirstInScope(tn,sn))}function $9bf71ea28793e738$var$useAutoFocus(tn,sn){const un=React$1.useRef(sn);reactExports.useEffect(()=>{if(un.current){$9bf71ea28793e738$var$activeScope=tn;const dn=$431fbd86ca7dc216$export$b204af158042fbac(tn.current?tn.current[0]:void 0);!$9bf71ea28793e738$var$isElementInScope($d4ee10de306f2510$export$cd4e5573fbe2b576(dn),$9bf71ea28793e738$var$activeScope.current)&&tn.current&&$9bf71ea28793e738$var$focusFirstInScope(tn.current)}un.current=!1},[tn])}function $9bf71ea28793e738$var$useActiveScopeTracker(tn,sn,un){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(sn||un)return;let dn=tn.current;const pn=$431fbd86ca7dc216$export$b204af158042fbac(dn?dn[0]:void 0);let mn=hn=>{let fn=$d4ee10de306f2510$export$e58f029f0fbfdb29(hn);$9bf71ea28793e738$var$isElementInScope(fn,tn.current)?$9bf71ea28793e738$var$activeScope=tn:$9bf71ea28793e738$var$isElementInAnyScope(fn)||($9bf71ea28793e738$var$activeScope=null)};return pn.addEventListener("focusin",mn,!1),dn==null||dn.forEach(hn=>hn.addEventListener("focusin",mn,!1)),()=>{pn.removeEventListener("focusin",mn,!1),dn==null||dn.forEach(hn=>hn.removeEventListener("focusin",mn,!1))}},[tn,sn,un])}function $9bf71ea28793e738$var$shouldRestoreFocus(tn){let sn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;sn&&sn.scopeRef!==tn;){if(sn.nodeToRestore)return!1;sn=sn.parent}return(sn==null?void 0:sn.scopeRef)===tn}function $9bf71ea28793e738$var$useRestoreFocus(tn,sn,un){const dn=reactExports.useRef(typeof document<"u"?$d4ee10de306f2510$export$cd4e5573fbe2b576($431fbd86ca7dc216$export$b204af158042fbac(tn.current?tn.current[0]:void 0)):null);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let pn=tn.current;const mn=$431fbd86ca7dc216$export$b204af158042fbac(pn?pn[0]:void 0);if(!sn||un)return;let hn=()=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,tn))&&$9bf71ea28793e738$var$isElementInScope($d4ee10de306f2510$export$cd4e5573fbe2b576(mn),tn.current)&&($9bf71ea28793e738$var$activeScope=tn)};return mn.addEventListener("focusin",hn,!1),pn==null||pn.forEach(fn=>fn.addEventListener("focusin",hn,!1)),()=>{mn.removeEventListener("focusin",hn,!1),pn==null||pn.forEach(fn=>fn.removeEventListener("focusin",hn,!1))}},[tn,un]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const pn=$431fbd86ca7dc216$export$b204af158042fbac(tn.current?tn.current[0]:void 0);if(!sn)return;let mn=hn=>{if(hn.key!=="Tab"||hn.altKey||hn.ctrlKey||hn.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(tn)||hn.isComposing)return;let fn=pn.activeElement;if(!$9bf71ea28793e738$var$isElementInChildScope(fn,tn)||!$9bf71ea28793e738$var$shouldRestoreFocus(tn))return;let gn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(tn);if(!gn)return;let xn=gn.nodeToRestore,yn=$9bf71ea28793e738$export$2d6ec8fc375ceafa(pn.body,{tabbable:!0});yn.currentNode=fn;let vn=hn.shiftKey?yn.previousNode():yn.nextNode();if((!xn||!xn.isConnected||xn===pn.body)&&(xn=void 0,gn.nodeToRestore=void 0),(!vn||!$9bf71ea28793e738$var$isElementInChildScope(vn,tn))&&xn){yn.currentNode=xn;do vn=hn.shiftKey?yn.previousNode():yn.nextNode();while($9bf71ea28793e738$var$isElementInChildScope(vn,tn));hn.preventDefault(),hn.stopPropagation(),vn?$9bf71ea28793e738$var$focusElement(vn,!0):$9bf71ea28793e738$var$isElementInAnyScope(xn)?$9bf71ea28793e738$var$focusElement(xn,!0):fn.blur()}};return un||pn.addEventListener("keydown",mn,!0),()=>{un||pn.removeEventListener("keydown",mn,!0)}},[tn,sn,un]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const pn=$431fbd86ca7dc216$export$b204af158042fbac(tn.current?tn.current[0]:void 0);if(!sn)return;let mn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(tn);if(mn){var hn;return mn.nodeToRestore=(hn=dn.current)!==null&&hn!==void 0?hn:void 0,()=>{let fn=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(tn);if(!fn)return;let gn=fn.nodeToRestore,xn=$d4ee10de306f2510$export$cd4e5573fbe2b576(pn);if(sn&&gn&&(xn&&$9bf71ea28793e738$var$isElementInChildScope(xn,tn)||xn===pn.body&&$9bf71ea28793e738$var$shouldRestoreFocus(tn))){let yn=$9bf71ea28793e738$export$d06fae2ee68b101e.clone();requestAnimationFrame(()=>{if(pn.activeElement===pn.body){let vn=yn.getTreeNode(tn);for(;vn;){if(vn.nodeToRestore&&vn.nodeToRestore.isConnected){$9bf71ea28793e738$var$restoreFocusToElement(vn.nodeToRestore);return}vn=vn.parent}for(vn=yn.getTreeNode(tn);vn;){if(vn.scopeRef&&vn.scopeRef.current&&$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(vn.scopeRef)){let En=$9bf71ea28793e738$var$getFirstInScope(vn.scopeRef.current,!0);$9bf71ea28793e738$var$restoreFocusToElement(En);return}vn=vn.parent}}})}}}},[tn,sn])}function $9bf71ea28793e738$var$restoreFocusToElement(tn){tn.dispatchEvent(new CustomEvent($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,{bubbles:!0,cancelable:!0}))&&$9bf71ea28793e738$var$focusElement(tn)}function $9bf71ea28793e738$export$2d6ec8fc375ceafa(tn,sn,un){let dn=sn!=null&&sn.tabbable?$b4b717babfbb907b$export$bebd5a1431fec25d:$b4b717babfbb907b$export$4c063cf1350e6fed,pn=(tn==null?void 0:tn.nodeType)===Node.ELEMENT_NODE?tn:null,mn=$431fbd86ca7dc216$export$b204af158042fbac(pn),hn=$dfc540311bf7f109$export$4d0f8be8b12a7ef6(mn,tn||mn,NodeFilter.SHOW_ELEMENT,{acceptNode(fn){var gn;return!(sn==null||(gn=sn.from)===null||gn===void 0)&&gn.contains(fn)?NodeFilter.FILTER_REJECT:dn(fn)&&$645f2e67b85a24c9$export$e989c0fffaa6b27a(fn)&&(!un||$9bf71ea28793e738$var$isElementInScope(fn,un))&&(!(sn!=null&&sn.accept)||sn.accept(fn))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return sn!=null&&sn.from&&(hn.currentNode=sn.from),hn}class $9bf71ea28793e738$var$Tree{get size(){return this.fastMap.size}getTreeNode(sn){return this.fastMap.get(sn)}addTreeNode(sn,un,dn){let pn=this.fastMap.get(un??null);if(!pn)return;let mn=new $9bf71ea28793e738$var$TreeNode({scopeRef:sn});pn.addChild(mn),mn.parent=pn,this.fastMap.set(sn,mn),dn&&(mn.nodeToRestore=dn)}addNode(sn){this.fastMap.set(sn.scopeRef,sn)}removeTreeNode(sn){if(sn===null)return;let un=this.fastMap.get(sn);if(!un)return;let dn=un.parent;for(let mn of this.traverse())mn!==un&&un.nodeToRestore&&mn.nodeToRestore&&un.scopeRef&&un.scopeRef.current&&$9bf71ea28793e738$var$isElementInScope(mn.nodeToRestore,un.scopeRef.current)&&(mn.nodeToRestore=un.nodeToRestore);let pn=un.children;dn&&(dn.removeChild(un),pn.size>0&&pn.forEach(mn=>dn&&dn.addChild(mn))),this.fastMap.delete(un.scopeRef)}*traverse(sn=this.root){if(sn.scopeRef!=null&&(yield sn),sn.children.size>0)for(let un of sn.children)yield*this.traverse(un)}clone(){var sn;let un=new $9bf71ea28793e738$var$Tree;var dn;for(let pn of this.traverse())un.addTreeNode(pn.scopeRef,(dn=(sn=pn.parent)===null||sn===void 0?void 0:sn.scopeRef)!==null&&dn!==void 0?dn:null,pn.nodeToRestore);return un}constructor(){this.fastMap=new Map,this.root=new $9bf71ea28793e738$var$TreeNode({scopeRef:null}),this.fastMap.set(null,this.root)}}class $9bf71ea28793e738$var$TreeNode{addChild(sn){this.children.add(sn),sn.parent=this}removeChild(sn){this.children.delete(sn),sn.parent=void 0}constructor(sn){this.children=new Set,this.contain=!1,this.scopeRef=sn.scopeRef}}let $9bf71ea28793e738$export$d06fae2ee68b101e=new $9bf71ea28793e738$var$Tree;const CloseIconRound=()=>React$1.createElement("svg",{"data-testid":"close-icon-round",fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("rect",{fill:"#72767E",height:"28",rx:"14",width:"28"}),React$1.createElement("circle",{cx:"14",cy:"14",fill:"#72767E",r:"12"}),React$1.createElement("path",{clipRule:"evenodd",d:"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14ZM26 14C26 20.6274 20.6274 26 14 26C7.37258 26 2 20.6274 2 14C2 7.37258 7.37258 2 14 2C20.6274 2 26 7.37258 26 14ZM19.59 7L21 8.41L15.41 14L21 19.59L19.59 21L14 15.41L8.41 21L7 19.59L12.59 14L7 8.41L8.41 7L14 12.59L19.59 7Z",fill:"white",fillRule:"evenodd"})),Modal=({children:tn,className:sn,onClose:un,open:dn})=>{const{t:pn}=useTranslationContext("Modal"),mn=reactExports.useRef(null),hn=reactExports.useRef(null),fn=gn=>{const xn=gn.target;!mn.current||!hn.current||(!mn.current.contains(xn)||hn.current.contains(xn))&&(un==null||un(gn))};return reactExports.useEffect(()=>{if(!dn)return;const gn=xn=>{xn.key==="Escape"&&(un==null||un(xn))};return document.addEventListener("keydown",gn),()=>document.removeEventListener("keydown",gn)},[un,dn]),dn?React$1.createElement("div",{className:clsx("str-chat__modal str-chat__modal--open",sn),onClick:fn},React$1.createElement($9bf71ea28793e738$export$20e40289641fbbb6,{autoFocus:!0,contain:!0},React$1.createElement("button",{className:"str-chat__modal__close-button",ref:hn,title:pn("Close")},React$1.createElement(CloseIconRound,null)),React$1.createElement("div",{className:"str-chat__modal__inner str-chat-react__modal__inner",ref:mn},tn))):null};var imageGallery={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(reactExports)})(commonjsGlobal,function(un){return(()=>{var dn={703:(fn,gn,xn)=>{var yn=xn(414);function vn(){}function En(){}En.resetWarningCache=vn,fn.exports=function(){function bn(Rn,_n,jn,Cn,An,Tn){if(Tn!==yn){var $n=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw $n.name="Invariant Violation",$n}}function wn(){return bn}bn.isRequired=bn;var Sn={array:bn,bool:bn,func:bn,number:bn,object:bn,string:bn,symbol:bn,any:bn,arrayOf:wn,element:bn,elementType:bn,instanceOf:wn,node:bn,objectOf:wn,oneOf:wn,oneOfType:wn,shape:wn,exact:wn,checkPropTypes:En,resetWarningCache:vn};return Sn.PropTypes=Sn,Sn}},697:(fn,gn,xn)=>{fn.exports=xn(703)()},414:fn=>{fn.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:fn=>{var gn=typeof Element<"u",xn=typeof Map=="function",yn=typeof Set=="function",vn=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function En(bn,wn){if(bn===wn)return!0;if(bn&&wn&&typeof bn=="object"&&typeof wn=="object"){if(bn.constructor!==wn.constructor)return!1;var Sn,Rn,_n,jn;if(Array.isArray(bn)){if((Sn=bn.length)!=wn.length)return!1;for(Rn=Sn;Rn--!=0;)if(!En(bn[Rn],wn[Rn]))return!1;return!0}if(xn&&bn instanceof Map&&wn instanceof Map){if(bn.size!==wn.size)return!1;for(jn=bn.entries();!(Rn=jn.next()).done;)if(!wn.has(Rn.value[0]))return!1;for(jn=bn.entries();!(Rn=jn.next()).done;)if(!En(Rn.value[1],wn.get(Rn.value[0])))return!1;return!0}if(yn&&bn instanceof Set&&wn instanceof Set){if(bn.size!==wn.size)return!1;for(jn=bn.entries();!(Rn=jn.next()).done;)if(!wn.has(Rn.value[0]))return!1;return!0}if(vn&&ArrayBuffer.isView(bn)&&ArrayBuffer.isView(wn)){if((Sn=bn.length)!=wn.length)return!1;for(Rn=Sn;Rn--!=0;)if(bn[Rn]!==wn[Rn])return!1;return!0}if(bn.constructor===RegExp)return bn.source===wn.source&&bn.flags===wn.flags;if(bn.valueOf!==Object.prototype.valueOf)return bn.valueOf()===wn.valueOf();if(bn.toString!==Object.prototype.toString)return bn.toString()===wn.toString();if((Sn=(_n=Object.keys(bn)).length)!==Object.keys(wn).length)return!1;for(Rn=Sn;Rn--!=0;)if(!Object.prototype.hasOwnProperty.call(wn,_n[Rn]))return!1;if(gn&&bn instanceof Element)return!1;for(Rn=Sn;Rn--!=0;)if((_n[Rn]!=="_owner"&&_n[Rn]!=="__v"&&_n[Rn]!=="__o"||!bn.$$typeof)&&!En(bn[_n[Rn]],wn[_n[Rn]]))return!1;return!0}return bn!=bn&&wn!=wn}fn.exports=function(bn,wn){try{return En(bn,wn)}catch(Sn){if((Sn.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw Sn}}},37:function(fn,gn,xn){(function(yn,vn){function En(){return En=Object.assign||function($n){for(var Dn=1;Dn<arguments.length;Dn++){var Nn=arguments[Dn];for(var kn in Nn)Object.prototype.hasOwnProperty.call(Nn,kn)&&($n[kn]=Nn[kn])}return $n},En.apply(this,arguments)}var bn="Left",wn="Right",Sn="Down",Rn={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},_n={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},jn="mousemove",Cn="mouseup";function An($n,Dn){if(Dn===0)return $n;var Nn=Math.PI/180*Dn;return[$n[0]*Math.cos(Nn)+$n[1]*Math.sin(Nn),$n[1]*Math.cos(Nn)-$n[0]*Math.sin(Nn)]}function Tn($n,Dn){var Nn=function(In){In&&"touches"in In&&In.touches.length>1||$n(function(Un,Vn){Vn.trackMouse&&(document.addEventListener(jn,kn),document.addEventListener(Cn,Mn));var Hn="touches"in In?In.touches[0]:In,Ln=An([Hn.clientX,Hn.clientY],Vn.rotationAngle);return En({},Un,_n,{initial:[].concat(Ln),xy:Ln,start:In.timeStamp||0})})},kn=function(In){$n(function(Un,Vn){if("touches"in In&&In.touches.length>1)return Un;var Hn="touches"in In?In.touches[0]:In,Ln=An([Hn.clientX,Hn.clientY],Vn.rotationAngle),zn=Ln[0],Bn=Ln[1],Fn=zn-Un.xy[0],Gn=Bn-Un.xy[1],qn=Math.abs(Fn),Jn=Math.abs(Gn),dr=(In.timeStamp||0)-Un.start,br=Math.sqrt(qn*qn+Jn*Jn)/(dr||1),Er=[Fn/(dr||1),Gn/(dr||1)];if(qn<Vn.delta&&Jn<Vn.delta&&!Un.swiping)return Un;var yr=function(nr,sr,Rr,Ar){return nr>sr?Rr>0?wn:bn:Ar>0?Sn:"Up"}(qn,Jn,Fn,Gn),xr={absX:qn,absY:Jn,deltaX:Fn,deltaY:Gn,dir:yr,event:In,first:Un.first,initial:Un.initial,velocity:br,vxvy:Er};Vn.onSwiping&&Vn.onSwiping(xr);var vr=!1;return(Vn.onSwiping||Vn.onSwiped||"onSwiped"+yr in Vn)&&(vr=!0),vr&&Vn.preventDefaultTouchmoveEvent&&Vn.trackTouch&&In.cancelable&&In.preventDefault(),En({},Un,{first:!1,eventData:xr,swiping:!0})})},Pn=function(In){$n(function(Un,Vn){var Hn;if(Un.swiping&&Un.eventData){Hn=En({},Un.eventData,{event:In}),Vn.onSwiped&&Vn.onSwiped(Hn);var Ln="onSwiped"+Hn.dir;Ln in Vn&&Vn[Ln](Hn)}else Vn.onTap&&Vn.onTap({event:In});return En({},Un,_n,{eventData:Hn})})},Mn=function(In){document.removeEventListener(jn,kn),document.removeEventListener(Cn,Mn),Pn(In)},On=function(In,Un){var Vn=function(){};if(In&&In.addEventListener){var Hn=[["touchstart",Nn],["touchmove",kn],["touchend",Pn]];Hn.forEach(function(Ln){var zn=Ln[0],Bn=Ln[1];return In.addEventListener(zn,Bn,{passive:Un})}),Vn=function(){return Hn.forEach(function(Ln){var zn=Ln[0],Bn=Ln[1];return In.removeEventListener(zn,Bn)})}}return Vn},Wn={ref:function(In){In!==null&&$n(function(Un,Vn){if(Un.el===In)return Un;var Hn={};return Un.el&&Un.el!==In&&Un.cleanUpTouch&&(Un.cleanUpTouch(),Hn.cleanUpTouch=void 0),Vn.trackTouch&&In&&(Hn.cleanUpTouch=On(In,!Vn.preventDefaultTouchmoveEvent)),En({},Un,{el:In},Hn)})}};return Dn.trackMouse&&(Wn.onMouseDown=Nn),[Wn,On]}yn.DOWN=Sn,yn.LEFT=bn,yn.RIGHT=wn,yn.UP="Up",yn.useSwipeable=function($n){var Dn=$n.trackMouse,Nn=vn.useRef(En({},_n)),kn=vn.useRef(En({},Rn));kn.current=En({},Rn,$n);var Pn=vn.useMemo(function(){return Tn(function(Wn){return Nn.current=Wn(Nn.current,kn.current)},{trackMouse:Dn})},[Dn]),Mn=Pn[0],On=Pn[1];return Nn.current=function(Wn,In,Un){var Vn={};return!In.trackTouch&&Wn.cleanUpTouch?(Wn.cleanUpTouch(),Vn.cleanUpTouch=void 0):In.trackTouch&&!Wn.cleanUpTouch&&Wn.el&&(Vn.cleanUpTouch=Un(Wn.el,!In.preventDefaultTouchmoveEvent)),En({},Wn,Vn)}(Nn.current,kn.current,On),Mn}})(gn,xn(888))},888:fn=>{fn.exports=un}},pn={};function mn(fn){var gn=pn[fn];if(gn!==void 0)return gn.exports;var xn=pn[fn]={exports:{}};return dn[fn].call(xn.exports,xn,xn.exports,mn),xn.exports}mn.n=fn=>{var gn=fn&&fn.__esModule?()=>fn.default:()=>fn;return mn.d(gn,{a:gn}),gn},mn.d=(fn,gn)=>{for(var xn in gn)mn.o(gn,xn)&&!mn.o(fn,xn)&&Object.defineProperty(fn,xn,{enumerable:!0,get:gn[xn]})},mn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),mn.o=(fn,gn)=>Object.prototype.hasOwnProperty.call(fn,gn),mn.r=fn=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(fn,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fn,"__esModule",{value:!0})};var hn={};return(()=>{function fn(hr){var Kn,ur,jr="";if(typeof hr=="string"||typeof hr=="number")jr+=hr;else if(typeof hr=="object")if(Array.isArray(hr))for(Kn=0;Kn<hr.length;Kn++)hr[Kn]&&(ur=fn(hr[Kn]))&&(jr&&(jr+=" "),jr+=ur);else for(Kn in hr)hr[Kn]&&(jr&&(jr+=" "),jr+=Kn);return jr}function gn(){for(var hr,Kn,ur=0,jr="";ur<arguments.length;)(hr=arguments[ur++])&&(Kn=fn(hr))&&(jr&&(jr+=" "),jr+=Kn);return jr}mn.r(hn),mn.d(hn,{default:()=>eo});var xn=mn(888),yn=mn.n(xn);const vn=function(hr){var Kn=typeof hr;return hr!=null&&(Kn=="object"||Kn=="function")},En=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var bn=typeof self=="object"&&self&&self.Object===Object&&self;const wn=En||bn||Function("return this")(),Sn=function(){return wn.Date.now()};var Rn=/\s/,_n=/^\s+/;const jn=function(hr){return hr&&hr.slice(0,function(Kn){for(var ur=Kn.length;ur--&&Rn.test(Kn.charAt(ur)););return ur}(hr)+1).replace(_n,"")},Cn=wn.Symbol;var An=Object.prototype,Tn=An.hasOwnProperty,$n=An.toString,Dn=Cn?Cn.toStringTag:void 0,Nn=Object.prototype.toString,kn=Cn?Cn.toStringTag:void 0;const Pn=function(hr){return hr==null?hr===void 0?"[object Undefined]":"[object Null]":kn&&kn in Object(hr)?function(Kn){var ur=Tn.call(Kn,Dn),jr=Kn[Dn];try{Kn[Dn]=void 0;var Mr=!0}catch{}var qr=$n.call(Kn);return Mr&&(ur?Kn[Dn]=jr:delete Kn[Dn]),qr}(hr):function(Kn){return Nn.call(Kn)}(hr)};var Mn=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,Wn=/^0o[0-7]+$/i,In=parseInt;const Un=function(hr){if(typeof hr=="number")return hr;if(function(jr){return typeof jr=="symbol"||function(Mr){return Mr!=null&&typeof Mr=="object"}(jr)&&Pn(jr)=="[object Symbol]"}(hr))return NaN;if(vn(hr)){var Kn=typeof hr.valueOf=="function"?hr.valueOf():hr;hr=vn(Kn)?Kn+"":Kn}if(typeof hr!="string")return hr===0?hr:+hr;hr=jn(hr);var ur=On.test(hr);return ur||Wn.test(hr)?In(hr.slice(2),ur?2:8):Mn.test(hr)?NaN:+hr};var Vn=Math.max,Hn=Math.min;const Ln=function(hr,Kn,ur){var jr,Mr,qr,Kr,er,or,Tr=0,Ir=!1,zr=!1,Wr=!0;if(typeof hr!="function")throw new TypeError("Expected a function");function ls(Es){var As=jr,Us=Mr;return jr=Mr=void 0,Tr=Es,Kr=hr.apply(Us,As)}function Xr(Es){return Tr=Es,er=setTimeout(ys,Kn),Ir?ls(Es):Kr}function cs(Es){var As=Es-or;return or===void 0||As>=Kn||As<0||zr&&Es-Tr>=qr}function ys(){var Es=Sn();if(cs(Es))return hs(Es);er=setTimeout(ys,function(As){var Us=Kn-(As-or);return zr?Hn(Us,qr-(As-Tr)):Us}(Es))}function hs(Es){return er=void 0,Wr&&jr?ls(Es):(jr=Mr=void 0,Kr)}function gs(){var Es=Sn(),As=cs(Es);if(jr=arguments,Mr=this,or=Es,As){if(er===void 0)return Xr(or);if(zr)return clearTimeout(er),er=setTimeout(ys,Kn),ls(or)}return er===void 0&&(er=setTimeout(ys,Kn)),Kr}return Kn=Un(Kn)||0,vn(ur)&&(Ir=!!ur.leading,qr=(zr="maxWait"in ur)?Vn(Un(ur.maxWait)||0,Kn):qr,Wr="trailing"in ur?!!ur.trailing:Wr),gs.cancel=function(){er!==void 0&&clearTimeout(er),Tr=0,jr=or=Mr=er=void 0},gs.flush=function(){return er===void 0?Kr:hs(Sn())},gs},zn=function(hr,Kn,ur){var jr=!0,Mr=!0;if(typeof hr!="function")throw new TypeError("Expected a function");return vn(ur)&&(jr="leading"in ur?!!ur.leading:jr,Mr="trailing"in ur?!!ur.trailing:Mr),Ln(hr,Kn,{leading:jr,maxWait:Kn,trailing:Mr})};var Bn=mn(590),Fn=mn.n(Bn),Gn=function(){if(typeof Map<"u")return Map;function hr(Kn,ur){var jr=-1;return Kn.some(function(Mr,qr){return Mr[0]===ur&&(jr=qr,!0)}),jr}return function(){function Kn(){this.__entries__=[]}return Object.defineProperty(Kn.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),Kn.prototype.get=function(ur){var jr=hr(this.__entries__,ur),Mr=this.__entries__[jr];return Mr&&Mr[1]},Kn.prototype.set=function(ur,jr){var Mr=hr(this.__entries__,ur);~Mr?this.__entries__[Mr][1]=jr:this.__entries__.push([ur,jr])},Kn.prototype.delete=function(ur){var jr=this.__entries__,Mr=hr(jr,ur);~Mr&&jr.splice(Mr,1)},Kn.prototype.has=function(ur){return!!~hr(this.__entries__,ur)},Kn.prototype.clear=function(){this.__entries__.splice(0)},Kn.prototype.forEach=function(ur,jr){jr===void 0&&(jr=null);for(var Mr=0,qr=this.__entries__;Mr<qr.length;Mr++){var Kr=qr[Mr];ur.call(jr,Kr[1],Kr[0])}},Kn}()}(),qn=typeof window<"u"&&typeof document<"u"&&window.document===document,Jn=mn.g!==void 0&&mn.g.Math===Math?mn.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),dr=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Jn):function(hr){return setTimeout(function(){return hr(Date.now())},1e3/60)},br=["top","right","bottom","left","width","height","size","weight"],Er=typeof MutationObserver<"u",yr=function(){function hr(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(Kn,ur){var jr=!1,Mr=!1,qr=0;function Kr(){jr&&(jr=!1,Kn()),Mr&&or()}function er(){dr(Kr)}function or(){var Tr=Date.now();if(jr){if(Tr-qr<2)return;Mr=!0}else jr=!0,Mr=!1,setTimeout(er,20);qr=Tr}return or}(this.refresh.bind(this))}return hr.prototype.addObserver=function(Kn){~this.observers_.indexOf(Kn)||this.observers_.push(Kn),this.connected_||this.connect_()},hr.prototype.removeObserver=function(Kn){var ur=this.observers_,jr=ur.indexOf(Kn);~jr&&ur.splice(jr,1),!ur.length&&this.connected_&&this.disconnect_()},hr.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},hr.prototype.updateObservers_=function(){var Kn=this.observers_.filter(function(ur){return ur.gatherActive(),ur.hasActive()});return Kn.forEach(function(ur){return ur.broadcastActive()}),Kn.length>0},hr.prototype.connect_=function(){qn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Er?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},hr.prototype.disconnect_=function(){qn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},hr.prototype.onTransitionEnd_=function(Kn){var ur=Kn.propertyName,jr=ur===void 0?"":ur;br.some(function(Mr){return!!~jr.indexOf(Mr)})&&this.refresh()},hr.getInstance=function(){return this.instance_||(this.instance_=new hr),this.instance_},hr.instance_=null,hr}(),xr=function(hr,Kn){for(var ur=0,jr=Object.keys(Kn);ur<jr.length;ur++){var Mr=jr[ur];Object.defineProperty(hr,Mr,{value:Kn[Mr],enumerable:!1,writable:!1,configurable:!0})}return hr},vr=function(hr){return hr&&hr.ownerDocument&&hr.ownerDocument.defaultView||Jn},nr=Or(0,0,0,0);function sr(hr){return parseFloat(hr)||0}function Rr(hr){for(var Kn=[],ur=1;ur<arguments.length;ur++)Kn[ur-1]=arguments[ur];return Kn.reduce(function(jr,Mr){return jr+sr(hr["border-"+Mr+"-width"])},0)}var Ar=typeof SVGGraphicsElement<"u"?function(hr){return hr instanceof vr(hr).SVGGraphicsElement}:function(hr){return hr instanceof vr(hr).SVGElement&&typeof hr.getBBox=="function"};function Lr(hr){return qn?Ar(hr)?function(Kn){var ur=Kn.getBBox();return Or(0,0,ur.width,ur.height)}(hr):function(Kn){var ur=Kn.clientWidth,jr=Kn.clientHeight;if(!ur&&!jr)return nr;var Mr=vr(Kn).getComputedStyle(Kn),qr=function(Wr){for(var ls={},Xr=0,cs=["top","right","bottom","left"];Xr<cs.length;Xr++){var ys=cs[Xr],hs=Wr["padding-"+ys];ls[ys]=sr(hs)}return ls}(Mr),Kr=qr.left+qr.right,er=qr.top+qr.bottom,or=sr(Mr.width),Tr=sr(Mr.height);if(Mr.boxSizing==="border-box"&&(Math.round(or+Kr)!==ur&&(or-=Rr(Mr,"left","right")+Kr),Math.round(Tr+er)!==jr&&(Tr-=Rr(Mr,"top","bottom")+er)),!function(Wr){return Wr===vr(Wr).document.documentElement}(Kn)){var Ir=Math.round(or+Kr)-ur,zr=Math.round(Tr+er)-jr;Math.abs(Ir)!==1&&(or-=Ir),Math.abs(zr)!==1&&(Tr-=zr)}return Or(qr.left,qr.top,or,Tr)}(hr):nr}function Or(hr,Kn,ur,jr){return{x:hr,y:Kn,width:ur,height:jr}}var Zn=function(){function hr(Kn){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Or(0,0,0,0),this.target=Kn}return hr.prototype.isActive=function(){var Kn=Lr(this.target);return this.contentRect_=Kn,Kn.width!==this.broadcastWidth||Kn.height!==this.broadcastHeight},hr.prototype.broadcastRect=function(){var Kn=this.contentRect_;return this.broadcastWidth=Kn.width,this.broadcastHeight=Kn.height,Kn},hr}(),Cr=function(hr,Kn){var ur,jr,Mr,qr,Kr,er,or,Tr=(jr=(ur=Kn).x,Mr=ur.y,qr=ur.width,Kr=ur.height,er=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,or=Object.create(er.prototype),xr(or,{x:jr,y:Mr,width:qr,height:Kr,top:Mr,right:jr+qr,bottom:Kr+Mr,left:jr}),or);xr(this,{target:hr,contentRect:Tr})},Fr=function(){function hr(Kn,ur,jr){if(this.activeObservations_=[],this.observations_=new Gn,typeof Kn!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=Kn,this.controller_=ur,this.callbackCtx_=jr}return hr.prototype.observe=function(Kn){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(Kn instanceof vr(Kn).Element))throw new TypeError('parameter 1 is not of type "Element".');var ur=this.observations_;ur.has(Kn)||(ur.set(Kn,new Zn(Kn)),this.controller_.addObserver(this),this.controller_.refresh())}},hr.prototype.unobserve=function(Kn){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(Kn instanceof vr(Kn).Element))throw new TypeError('parameter 1 is not of type "Element".');var ur=this.observations_;ur.has(Kn)&&(ur.delete(Kn),ur.size||this.controller_.removeObserver(this))}},hr.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},hr.prototype.gatherActive=function(){var Kn=this;this.clearActive(),this.observations_.forEach(function(ur){ur.isActive()&&Kn.activeObservations_.push(ur)})},hr.prototype.broadcastActive=function(){if(this.hasActive()){var Kn=this.callbackCtx_,ur=this.activeObservations_.map(function(jr){return new Cr(jr.target,jr.broadcastRect())});this.callback_.call(Kn,ur,Kn),this.clearActive()}},hr.prototype.clearActive=function(){this.activeObservations_.splice(0)},hr.prototype.hasActive=function(){return this.activeObservations_.length>0},hr}(),Pr=typeof WeakMap<"u"?new WeakMap:new Gn,Br=function hr(Kn){if(!(this instanceof hr))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var ur=yr.getInstance(),jr=new Fr(Kn,ur,this);Pr.set(this,jr)};["observe","unobserve","disconnect"].forEach(function(hr){Br.prototype[hr]=function(){var Kn;return(Kn=Pr.get(this))[hr].apply(Kn,arguments)}});const ar=Jn.ResizeObserver!==void 0?Jn.ResizeObserver:Br;var pr=mn(37),Xn=mn(697),$r=yn().memo(function(hr){var Kn=hr.description,ur=hr.fullscreen,jr=hr.handleImageLoaded,Mr=hr.isFullscreen,qr=hr.onImageError,Kr=hr.original,er=hr.originalAlt,or=hr.originalHeight,Tr=hr.originalWidth,Ir=hr.originalTitle,zr=hr.sizes,Wr=hr.srcSet,ls=hr.loading,Xr=Mr&&ur||Kr;return yn().createElement(yn().Fragment,null,yn().createElement("img",{className:"image-gallery-image",src:Xr,alt:er,srcSet:Wr,height:or,width:Tr,sizes:zr,title:Ir,onLoad:function(cs){return jr(cs,Kr)},onError:qr,loading:ls}),Kn&&yn().createElement("span",{className:"image-gallery-description"},Kn))});$r.displayName="Item",$r.propTypes={description:Xn.string,fullscreen:Xn.string,handleImageLoaded:Xn.func.isRequired,isFullscreen:Xn.bool,onImageError:Xn.func.isRequired,original:Xn.string.isRequired,originalAlt:Xn.string,originalHeight:Xn.string,originalWidth:Xn.string,originalTitle:Xn.string,sizes:Xn.string,srcSet:Xn.string,loading:Xn.string},$r.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"};const lr=$r;var gr={left:yn().createElement("polyline",{points:"15 18 9 12 15 6"}),right:yn().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:yn().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:yn().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:yn().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:yn().createElement(yn().Fragment,null,yn().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),yn().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},_r=function(hr){var Kn=hr.strokeWidth,ur=hr.viewBox,jr=hr.icon;return yn().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:ur,fill:"none",stroke:"currentColor",strokeWidth:Kn,strokeLinecap:"round",strokeLinejoin:"round"},gr[jr])};_r.propTypes={strokeWidth:Xn.number,viewBox:Xn.string,icon:(0,Xn.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},_r.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};const Hr=_r;var Vr=yn().memo(function(hr){var Kn=hr.isFullscreen,ur=hr.onClick;return yn().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:ur,"aria-label":"Open Fullscreen"},yn().createElement(Hr,{strokeWidth:2,icon:Kn?"minimize":"maximize"}))});Vr.displayName="Fullscreen",Vr.propTypes={isFullscreen:Xn.bool.isRequired,onClick:Xn.func.isRequired};const ss=Vr;var Rs=yn().memo(function(hr){var Kn=hr.disabled,ur=hr.onClick;return yn().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:Kn,onClick:ur,"aria-label":"Previous Slide"},yn().createElement(Hr,{icon:"left",viewBox:"6 0 12 24"}))});Rs.displayName="LeftNav",Rs.propTypes={disabled:Xn.bool.isRequired,onClick:Xn.func.isRequired};const Cs=Rs;var Ps=yn().memo(function(hr){var Kn=hr.disabled,ur=hr.onClick;return yn().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:Kn,onClick:ur,"aria-label":"Next Slide"},yn().createElement(Hr,{icon:"right",viewBox:"6 0 12 24"}))});Ps.displayName="RightNav",Ps.propTypes={disabled:Xn.bool.isRequired,onClick:Xn.func.isRequired};const js=Ps;var ms=yn().memo(function(hr){var Kn=hr.isPlaying,ur=hr.onClick;return yn().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:ur,"aria-label":"Play or Pause Slideshow"},yn().createElement(Hr,{strokeWidth:2,icon:Kn?"pause":"play"}))});ms.displayName="PlayPause",ms.propTypes={isPlaying:Xn.bool.isRequired,onClick:Xn.func.isRequired};const ks=ms;function Nr(){return Nr=Object.assign||function(hr){for(var Kn=1;Kn<arguments.length;Kn++){var ur=arguments[Kn];for(var jr in ur)Object.prototype.hasOwnProperty.call(ur,jr)&&(hr[jr]=ur[jr])}return hr},Nr.apply(this,arguments)}var Yr=function(hr){var Kn=hr.children,ur=hr.className,jr=hr.delta,Mr=hr.onSwiping,qr=hr.onSwiped,Kr=(0,pr.useSwipeable)({delta:jr,onSwiping:Mr,onSwiped:qr});return yn().createElement("div",Nr({},Kr,{className:ur}),Kn)};Yr.propTypes={children:Xn.node.isRequired,className:Xn.string,delta:Xn.number,onSwiped:Xn.func,onSwiping:Xn.func},Yr.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};const ps=Yr;function os(hr){return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kn){return typeof Kn}:function(Kn){return Kn&&typeof Symbol=="function"&&Kn.constructor===Symbol&&Kn!==Symbol.prototype?"symbol":typeof Kn},os(hr)}function $s(hr,Kn){var ur=Object.keys(hr);if(Object.getOwnPropertySymbols){var jr=Object.getOwnPropertySymbols(hr);Kn&&(jr=jr.filter(function(Mr){return Object.getOwnPropertyDescriptor(hr,Mr).enumerable})),ur.push.apply(ur,jr)}return ur}function as(hr){for(var Kn=1;Kn<arguments.length;Kn++){var ur=arguments[Kn]!=null?arguments[Kn]:{};Kn%2?$s(Object(ur),!0).forEach(function(jr){_s(hr,jr,ur[jr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(hr,Object.getOwnPropertyDescriptors(ur)):$s(Object(ur)).forEach(function(jr){Object.defineProperty(hr,jr,Object.getOwnPropertyDescriptor(ur,jr))})}return hr}function _s(hr,Kn,ur){return Kn in hr?Object.defineProperty(hr,Kn,{value:ur,enumerable:!0,configurable:!0,writable:!0}):hr[Kn]=ur,hr}function Os(hr,Kn){for(var ur=0;ur<Kn.length;ur++){var jr=Kn[ur];jr.enumerable=jr.enumerable||!1,jr.configurable=!0,"value"in jr&&(jr.writable=!0),Object.defineProperty(hr,jr.key,jr)}}function Bs(hr,Kn){return Bs=Object.setPrototypeOf||function(ur,jr){return ur.__proto__=jr,ur},Bs(hr,Kn)}function Ts(hr,Kn){return!Kn||os(Kn)!=="object"&&typeof Kn!="function"?fs(hr):Kn}function fs(hr){if(hr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return hr}function Qr(hr){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(Kn){return Kn.__proto__||Object.getPrototypeOf(Kn)},Qr(hr)}var Ls=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],Vs=(0,Xn.arrayOf)((0,Xn.shape)({srcSet:Xn.string,media:Xn.string}));function ba(hr){var Kn=parseInt(hr.keyCode||hr.which||0,10);return Kn===66||Kn===62}var _i=function(hr){(function(er,or){if(typeof or!="function"&&or!==null)throw new TypeError("Super expression must either be null or a function");er.prototype=Object.create(or&&or.prototype,{constructor:{value:er,writable:!0,configurable:!0}}),or&&Bs(er,or)})(Kr,hr);var Kn,ur,jr,Mr,qr=(jr=Kr,Mr=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var er,or=Qr(jr);if(Mr){var Tr=Qr(this).constructor;er=Reflect.construct(or,arguments,Tr)}else er=or.apply(this,arguments);return Ts(this,er)});function Kr(er){var or;return function(Tr,Ir){if(!(Tr instanceof Ir))throw new TypeError("Cannot call a class as a function")}(this,Kr),(or=qr.call(this,er)).state={currentIndex:er.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(er.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},or.loadedImages={},or.imageGallery=yn().createRef(),or.thumbnailsWrapper=yn().createRef(),or.thumbnails=yn().createRef(),or.imageGallerySlideWrapper=yn().createRef(),or.handleImageLoaded=or.handleImageLoaded.bind(fs(or)),or.handleKeyDown=or.handleKeyDown.bind(fs(or)),or.handleMouseDown=or.handleMouseDown.bind(fs(or)),or.handleResize=or.handleResize.bind(fs(or)),or.handleTouchMove=or.handleTouchMove.bind(fs(or)),or.handleOnSwiped=or.handleOnSwiped.bind(fs(or)),or.handleScreenChange=or.handleScreenChange.bind(fs(or)),or.handleSwiping=or.handleSwiping.bind(fs(or)),or.handleThumbnailSwiping=or.handleThumbnailSwiping.bind(fs(or)),or.handleOnThumbnailSwiped=or.handleOnThumbnailSwiped.bind(fs(or)),or.onThumbnailMouseLeave=or.onThumbnailMouseLeave.bind(fs(or)),or.handleImageError=or.handleImageError.bind(fs(or)),or.pauseOrPlay=or.pauseOrPlay.bind(fs(or)),or.renderThumbInner=or.renderThumbInner.bind(fs(or)),or.renderItem=or.renderItem.bind(fs(or)),or.slideLeft=or.slideLeft.bind(fs(or)),or.slideRight=or.slideRight.bind(fs(or)),or.toggleFullScreen=or.toggleFullScreen.bind(fs(or)),or.togglePlay=or.togglePlay.bind(fs(or)),or.unthrottledSlideToIndex=or.slideToIndex,or.slideToIndex=zn(or.unthrottledSlideToIndex,er.slideDuration,{trailing:!1}),er.lazyLoad&&(or.lazyLoaded=[]),or}return Kn=Kr,ur=[{key:"componentDidMount",value:function(){var er=this.props,or=er.autoPlay,Tr=er.useWindowKeyDown;or&&this.play(),Tr?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(er,or){var Tr=this.props,Ir=Tr.items,zr=Tr.lazyLoad,Wr=Tr.slideDuration,ls=Tr.slideInterval,Xr=Tr.startIndex,cs=Tr.thumbnailPosition,ys=Tr.showThumbnails,hs=Tr.useWindowKeyDown,gs=this.state,Es=gs.currentIndex,As=gs.isPlaying,Us=er.items.length!==Ir.length,Qs=!Fn()(er.items,Ir),Ws=er.startIndex!==Xr,_a=er.thumbnailPosition!==cs,Xs=er.showThumbnails!==ys;ls===er.slideInterval&&Wr===er.slideDuration||As&&(this.pause(),this.play()),_a&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),Xs&&ys&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),Xs&&!ys&&this.removeThumbnailsResizeObserver(),(Us||Xs)&&this.handleResize(),or.currentIndex!==Es&&this.slideThumbnailBar(),er.slideDuration!==Wr&&(this.slideToIndex=zn(this.unthrottledSlideToIndex,Wr,{trailing:!1})),!zr||er.lazyLoad&&!Qs||(this.lazyLoaded=[]),hs!==er.useWindowKeyDown&&(hs?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(Ws||Qs)&&this.setState({currentIndex:Xr,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var er=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),er?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var er=this,or=this.state,Tr=or.currentIndex,Ir=or.isTransitioning,zr=this.props,Wr=zr.onSlide,ls=zr.slideDuration;this.transitionTimer=window.setTimeout(function(){Ir&&(er.setState({isTransitioning:!Ir,isSwipingThumbnail:!1}),Wr&&Wr(Tr))},ls+50)}},{key:"onThumbnailClick",value:function(er,or){var Tr=this.props.onThumbnailClick;er.target.parentNode.parentNode.blur(),this.slideToIndex(or,er),Tr&&Tr(er,or)}},{key:"onThumbnailMouseOver",value:function(er,or){var Tr=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){Tr.slideToIndex(or),Tr.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var er=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,er&&this.play()}}},{key:"setThumbsTranslate",value:function(er){this.setState({thumbsTranslate:er})}},{key:"setModalFullscreen",value:function(er){var or=this.props.onScreenChange;this.setState({modalFullscreen:er}),or&&or(er)}},{key:"getThumbsTranslate",value:function(er){var or,Tr=this.props,Ir=Tr.disableThumbnailScroll,zr=Tr.items,Wr=this.state,ls=Wr.thumbnailsWrapperWidth,Xr=Wr.thumbnailsWrapperHeight,cs=this.thumbnails&&this.thumbnails.current;if(Ir)return 0;if(cs){if(this.isThumbnailVertical()){if(cs.scrollHeight<=Xr)return 0;or=cs.scrollHeight-Xr}else{if(cs.scrollWidth<=ls||ls<=0)return 0;or=cs.scrollWidth-ls}return er*(or/(zr.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(er){switch(er){case"left":er=" ".concat("image-gallery-thumbnails-left");break;case"right":er=" ".concat("image-gallery-thumbnails-right");break;case"bottom":er=" ".concat("image-gallery-thumbnails-bottom");break;case"top":er=" ".concat("image-gallery-thumbnails-top")}return er}},{key:"getAlignmentClassName",value:function(er){var or=this.state.currentIndex,Tr=this.props,Ir=Tr.infinite,zr=Tr.items,Wr="",ls="image-gallery-left",Xr="image-gallery-right";switch(er){case or-1:Wr=" ".concat(ls);break;case or:Wr=" ".concat("image-gallery-center");break;case or+1:Wr=" ".concat(Xr)}return zr.length>=3&&Ir&&(er===0&&or===zr.length-1?Wr=" ".concat(Xr):er===zr.length-1&&or===0&&(Wr=" ".concat(ls))),Wr}},{key:"getTranslateXForTwoSlide",value:function(er){var or=this.state,Tr=or.currentIndex,Ir=or.currentSlideOffset,zr=or.previousIndex,Wr=Tr!==zr,ls=er===0&&zr===0,Xr=er===1&&zr===1,cs=er===0&&Tr===1,ys=er===1&&Tr===0,hs=Ir===0,gs=-100*Tr+100*er+Ir;return Ir>0?this.direction="left":Ir<0&&(this.direction="right"),ys&&Ir>0&&(gs=-100+Ir),cs&&Ir<0&&(gs=100+Ir),Wr?ls&&hs&&this.direction==="left"?gs=100:Xr&&hs&&this.direction==="right"&&(gs=-100):(ys&&hs&&this.direction==="left"&&(gs=-100),cs&&hs&&this.direction==="right"&&(gs=100)),gs}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(er){var or=this.state,Tr=or.currentIndex,Ir=or.currentSlideOffset,zr=or.slideStyle,Wr=this.props,ls=Wr.infinite,Xr=Wr.items,cs=Wr.useTranslate3D,ys=Wr.isRTL,hs=-100*Tr,gs=Xr.length-1,Es=(hs+100*er)*(ys?-1:1)+Ir;ls&&Xr.length>2&&(Tr===0&&er===gs?Es=-100*(ys?-1:1)+Ir:Tr===gs&&er===0&&(Es=100*(ys?-1:1)+Ir)),ls&&Xr.length===2&&(Es=this.getTranslateXForTwoSlide(er));var As="translate(".concat(Es,"%, 0)");return cs&&(As="translate3d(".concat(Es,"%, 0, 0)")),as({display:this.isSlideVisible(er)?"inherit":"none",WebkitTransform:As,MozTransform:As,msTransform:As,OTransform:As,transform:As},zr)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var er,or=this.props,Tr=or.useTranslate3D,Ir=or.isRTL,zr=this.state,Wr=zr.thumbsTranslate,ls=zr.thumbsStyle,Xr=Ir?-1*Wr:Wr;return this.isThumbnailVertical()?(er="translate(0, ".concat(Wr,"px)"),Tr&&(er="translate3d(0, ".concat(Wr,"px, 0)"))):(er="translate(".concat(Xr,"px, 0)"),Tr&&(er="translate3d(".concat(Xr,"px, 0, 0)"))),as({WebkitTransform:er,MozTransform:er,msTransform:er,OTransform:er,transform:er},ls)}},{key:"getSlideItems",value:function(){var er=this,or=this.state.currentIndex,Tr=this.props,Ir=Tr.items,zr=Tr.slideOnThumbnailOver,Wr=Tr.onClick,ls=Tr.lazyLoad,Xr=Tr.onTouchMove,cs=Tr.onTouchEnd,ys=Tr.onTouchStart,hs=Tr.onMouseOver,gs=Tr.onMouseLeave,Es=Tr.renderItem,As=Tr.renderThumbInner,Us=Tr.showThumbnails,Qs=Tr.showBullets,Ws=[],_a=[],Xs=[];return Ir.forEach(function(Ms,Is){var wo=er.getAlignmentClassName(Is),To=Ms.originalClass?" ".concat(Ms.originalClass):"",Ao=Ms.thumbnailClass?" ".concat(Ms.thumbnailClass):"",xo=Ms.renderItem||Es||er.renderItem,Ro=Ms.renderThumbInner||As||er.renderThumbInner,so=!ls||wo||er.lazyLoaded[Is];so&&ls&&!er.lazyLoaded[Is]&&(er.lazyLoaded[Is]=!0);var ao=er.getSlideStyle(Is),io=yn().createElement("div",{"aria-label":"Go to Slide ".concat(Is+1),key:"slide-".concat(Is),tabIndex:"-1",className:"image-gallery-slide ".concat(wo," ").concat(To),style:ao,onClick:Wr,onKeyUp:er.handleSlideKeyUp,onTouchMove:Xr,onTouchEnd:cs,onTouchStart:ys,onMouseOver:hs,onFocus:hs,onMouseLeave:gs,role:"button"},so?xo(Ms):yn().createElement("div",{style:{height:"100%"}}));if(Ws.push(io),Us&&Ms.thumbnail){var uo=gn("image-gallery-thumbnail",Ao,{active:or===Is});_a.push(yn().createElement("button",{key:"thumbnail-".concat(Is),type:"button",tabIndex:"0","aria-pressed":or===Is?"true":"false","aria-label":"Go to Slide ".concat(Is+1),className:uo,onMouseLeave:zr?er.onThumbnailMouseLeave:null,onMouseOver:function(Js){return er.handleThumbnailMouseOver(Js,Is)},onFocus:function(Js){return er.handleThumbnailMouseOver(Js,Is)},onKeyUp:function(Js){return er.handleThumbnailKeyUp(Js,Is)},onClick:function(Js){return er.onThumbnailClick(Js,Is)}},Ro(Ms)))}if(Qs){var yo=gn("image-gallery-bullet",Ms.bulletClass,{active:or===Is});Xs.push(yn().createElement("button",{type:"button",key:"bullet-".concat(Is),className:yo,onClick:function(Js){return Ms.bulletOnClick&&Ms.bulletOnClick({item:Ms,itemIndex:Is,currentIndex:or}),Js.target.blur(),er.slideToIndex.call(er,Is,Js)},"aria-pressed":or===Is?"true":"false","aria-label":"Go to Slide ".concat(Is+1)}))}}),{slides:Ws,thumbnails:_a,bullets:Xs}}},{key:"ignoreIsTransitioning",value:function(){var er=this.props.items,or=this.state,Tr=or.previousIndex,Ir=or.currentIndex,zr=er.length-1;return Math.abs(Tr-Ir)>1&&!(Tr===0&&Ir===zr)&&!(Tr===zr&&Ir===0)}},{key:"isFirstOrLastSlide",value:function(er){return er===this.props.items.length-1||er===0}},{key:"slideIsTransitioning",value:function(er){var or=this.state,Tr=or.isTransitioning,Ir=or.previousIndex,zr=or.currentIndex;return Tr&&!(er===Ir||er===zr)}},{key:"isSlideVisible",value:function(er){return!this.slideIsTransitioning(er)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(er)}},{key:"slideThumbnailBar",value:function(){var er=this.state,or=er.currentIndex,Tr=er.isSwipingThumbnail,Ir=-this.getThumbsTranslate(or);Tr||(or===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:Ir,thumbsSwipedTranslate:Ir}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var er=this.props,or=er.infinite,Tr=er.isRTL;return or||(Tr?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var er=this.props,or=er.infinite,Tr=er.isRTL;return or||(Tr?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(er){var or=er.event,Tr=er.absX,Ir=er.dir,zr=this.props,Wr=zr.disableSwipe,ls=zr.stopPropagation,Xr=this.state,cs=Xr.galleryWidth,ys=Xr.isTransitioning,hs=Xr.swipingUpDown,gs=Xr.swipingLeftRight;if(Ir!==pr.UP&&Ir!==pr.DOWN&&!hs||gs){if(Ir!==pr.LEFT&&Ir!==pr.RIGHT||gs||this.setState({swipingLeftRight:!0}),!Wr){var Es=this.props.swipingTransitionDuration;if(ls&&or.preventDefault(),ys)this.setState({currentSlideOffset:0});else{var As=Ir===pr.RIGHT?1:-1,Us=Tr/cs*100;Math.abs(Us)>=100&&(Us=100);var Qs={transition:"transform ".concat(Es,"ms ease-out")};this.setState({currentSlideOffset:As*Us,slideStyle:Qs})}}}else hs||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(er){var or=er.event,Tr=er.absX,Ir=er.absY,zr=er.dir,Wr=this.props,ls=Wr.stopPropagation,Xr=Wr.swipingThumbnailTransitionDuration,cs=this.state,ys=cs.thumbsSwipedTranslate,hs=cs.thumbnailsWrapperHeight,gs=cs.thumbnailsWrapperWidth,Es=cs.swipingUpDown,As=cs.swipingLeftRight;if(this.isThumbnailVertical()){if((zr===pr.LEFT||zr===pr.RIGHT||As)&&!Es)return void(As||this.setState({swipingLeftRight:!0}));zr!==pr.UP&&zr!==pr.DOWN||Es||this.setState({swipingUpDown:!0})}else{if((zr===pr.UP||zr===pr.DOWN||Es)&&!As)return void(Es||this.setState({swipingUpDown:!0}));zr!==pr.LEFT&&zr!==pr.RIGHT||As||this.setState({swipingLeftRight:!0})}var Us,Qs,Ws,_a,Xs,Ms=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(Us=ys+(zr===pr.DOWN?Ir:-Ir),Qs=Ms.scrollHeight-hs+20,Ws=Math.abs(Us)>Qs,_a=Us>20,Xs=Ms.scrollHeight<=hs):(Us=ys+(zr===pr.RIGHT?Tr:-Tr),Qs=Ms.scrollWidth-gs+20,Ws=Math.abs(Us)>Qs,_a=Us>20,Xs=Ms.scrollWidth<=gs),!Xs&&(zr!==pr.LEFT&&zr!==pr.UP||!Ws)&&(zr!==pr.RIGHT&&zr!==pr.DOWN||!_a)){ls&&or.stopPropagation();var Is={transition:"transform ".concat(Xr,"ms ease-out")};this.setState({thumbsTranslate:Us,thumbsStyle:Is})}}},{key:"handleOnThumbnailSwiped",value:function(){var er=this.state.thumbsTranslate,or=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:er,thumbsStyle:{transition:"all ".concat(or,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var er=this.state.currentSlideOffset,or=this.props.swipeThreshold;return Math.abs(er)>or}},{key:"resetSwipingDirection",value:function(){var er=this.state,or=er.swipingUpDown,Tr=er.swipingLeftRight;or&&this.setState({swipingUpDown:!1}),Tr&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(er){var or=er.event,Tr=er.dir,Ir=er.velocity,zr=this.props,Wr=zr.disableSwipe,ls=zr.stopPropagation,Xr=zr.flickThreshold;if(!Wr){var cs=this.props.isRTL;ls&&or.stopPropagation(),this.resetSwipingDirection();var ys=(Tr===pr.LEFT?1:-1)*(cs?-1:1),hs=Tr===pr.UP||Tr===pr.DOWN,gs=Ir>Xr&&!hs;this.handleOnSwipedTo(ys,gs)}}},{key:"handleOnSwipedTo",value:function(er,or){var Tr=this.state,Ir=Tr.currentIndex,zr=Tr.isTransitioning,Wr=Ir;!this.sufficientSwipe()&&!or||zr||(Wr+=er),(er===-1&&!this.canSlideLeft()||er===1&&!this.canSlideRight())&&(Wr=Ir),this.unthrottledSlideToIndex(Wr)}},{key:"handleTouchMove",value:function(er){this.state.swipingLeftRight&&er.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(er){var or=this.props,Tr=or.disableKeyDown,Ir=or.useBrowserFullscreen,zr=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!Tr)switch(parseInt(er.keyCode||er.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(er);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(er);break;case 27:zr&&!Ir&&this.exitFullScreen()}}},{key:"handleImageError",value:function(er){var or=this.props.onErrorImageURL;or&&er.target.src.indexOf(or)===-1&&(er.target.src=or)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var er=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(er)))}},{key:"initSlideWrapperResizeObserver",value:function(er){var or=this;er&&!er.current||(this.resizeSlideWrapperObserver=new ar(Ln(function(Tr){Tr&&Tr.forEach(function(Ir){or.setState({thumbnailsWrapperWidth:Ir.contentRect.width},or.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(er.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(er){var or=this;er&&!er.current||(this.resizeThumbnailWrapperObserver=new ar(Ln(function(Tr){Tr&&Tr.forEach(function(Ir){or.setState({thumbnailsWrapperHeight:Ir.contentRect.height},or.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(er.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var er=this.props,or=er.onScreenChange,Tr=er.useBrowserFullscreen,Ir=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,zr=this.imageGallery.current===Ir;or&&or(zr),Tr&&this.setState({isFullscreen:zr})}},{key:"slideToIndex",value:function(er,or){var Tr=this.state,Ir=Tr.currentIndex,zr=Tr.isTransitioning,Wr=this.props,ls=Wr.items,Xr=Wr.slideDuration,cs=Wr.onBeforeSlide;if(!zr){or&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var ys=ls.length-1,hs=er;er<0?hs=ys:er>ys&&(hs=0),cs&&hs!==Ir&&cs(hs),this.setState({previousIndex:Ir,currentIndex:hs,isTransitioning:hs!==Ir,currentSlideOffset:0,slideStyle:{transition:"all ".concat(Xr,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(er){var or=this.props.isRTL;this.slideTo(er,or?"right":"left")}},{key:"slideRight",value:function(er){var or=this.props.isRTL;this.slideTo(er,or?"left":"right")}},{key:"slideTo",value:function(er,or){var Tr=this,Ir=this.state,zr=Ir.currentIndex,Wr=Ir.currentSlideOffset,ls=Ir.isTransitioning,Xr=this.props.items,cs=zr+(or==="left"?-1:1);ls||(Xr.length===2?this.setState({currentSlideOffset:Wr+(or==="left"?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return Tr.slideToIndex(cs,er)},25)}):this.slideToIndex(cs,er))}},{key:"handleThumbnailMouseOver",value:function(er,or){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(er,or)}},{key:"handleThumbnailKeyUp",value:function(er,or){ba(er)&&this.onThumbnailClick(er,or)}},{key:"handleSlideKeyUp",value:function(er){ba(er)&&(0,this.props.onClick)(er)}},{key:"isThumbnailVertical",value:function(){var er=this.props.thumbnailPosition;return er==="left"||er==="right"}},{key:"addScreenChangeEvent",value:function(){var er=this;Ls.forEach(function(or){document.addEventListener(or,er.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var er=this;Ls.forEach(function(or){document.removeEventListener(or,er.handleScreenChange)})}},{key:"fullScreen",value:function(){var er=this.props.useBrowserFullscreen,or=this.imageGallery.current;er?or.requestFullscreen?or.requestFullscreen():or.msRequestFullscreen?or.msRequestFullscreen():or.mozRequestFullScreen?or.mozRequestFullScreen():or.webkitRequestFullscreen?or.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var er=this.state.isFullscreen,or=this.props.useBrowserFullscreen;er&&(or?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var er=this.props.infinite,or=this.state.currentIndex;er||this.canSlideRight()?this.slideToIndex(or+1):this.pause()}},{key:"play",value:function(){var er=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],or=this.props,Tr=or.onPlay,Ir=or.slideInterval,zr=or.slideDuration,Wr=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(Ir,zr)),Tr&&er&&Tr(Wr))}},{key:"pause",value:function(){var er=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],or=this.props.onPause,Tr=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),or&&er&&or(Tr))}},{key:"isImageLoaded",value:function(er){return!!this.loadedImages[er.original]||(this.loadedImages[er.original]=!0,!1)}},{key:"handleImageLoaded",value:function(er,or){var Tr=this.props.onImageLoad;!this.loadedImages[or]&&Tr&&(this.loadedImages[or]=!0,Tr(er))}},{key:"renderItem",value:function(er){var or=this.state.isFullscreen,Tr=this.props.onImageError||this.handleImageError;return yn().createElement(lr,{description:er.description,fullscreen:er.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:or,onImageError:Tr,original:er.original,originalAlt:er.originalAlt,originalHeight:er.originalHeight,originalWidth:er.originalWidth,originalTitle:er.originalTitle,sizes:er.sizes,loading:er.loading,srcSet:er.srcSet})}},{key:"renderThumbInner",value:function(er){var or=this.props.onThumbnailError||this.handleImageError;return yn().createElement("span",{className:"image-gallery-thumbnail-inner"},yn().createElement("img",{className:"image-gallery-thumbnail-image",src:er.thumbnail,height:er.thumbnailHeight,width:er.thumbnailWidth,alt:er.thumbnailAlt,title:er.thumbnailTitle,loading:er.thumbnailLoading,onError:or}),er.thumbnailLabel&&yn().createElement("div",{className:"image-gallery-thumbnail-label"},er.thumbnailLabel))}},{key:"render",value:function(){var er=this.state,or=er.currentIndex,Tr=er.isFullscreen,Ir=er.modalFullscreen,zr=er.isPlaying,Wr=this.props,ls=Wr.additionalClass,Xr=Wr.disableThumbnailSwipe,cs=Wr.indexSeparator,ys=Wr.isRTL,hs=Wr.items,gs=Wr.thumbnailPosition,Es=Wr.renderFullscreenButton,As=Wr.renderCustomControls,Us=Wr.renderLeftNav,Qs=Wr.renderRightNav,Ws=Wr.showBullets,_a=Wr.showFullscreenButton,Xs=Wr.showIndex,Ms=Wr.showThumbnails,Is=Wr.showNav,wo=Wr.showPlayButton,To=Wr.renderPlayPauseButton,Ao=this.getThumbnailStyle(),xo=this.getSlideItems(),Ro=xo.slides,so=xo.thumbnails,ao=xo.bullets,io=gn("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(gs),{"image-gallery-rtl":ys}),uo=yn().createElement("div",{ref:this.imageGallerySlideWrapper,className:io},As&&As(),this.canSlide()?yn().createElement(yn().Fragment,null,Is&&yn().createElement(yn().Fragment,null,Us(this.slideLeft,!this.canSlideLeft()),Qs(this.slideRight,!this.canSlideRight())),yn().createElement(ps,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},yn().createElement("div",{className:"image-gallery-slides"},Ro))):yn().createElement("div",{className:"image-gallery-slides"},Ro),wo&&To(this.togglePlay,zr),Ws&&yn().createElement("div",{className:"image-gallery-bullets"},yn().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},ao)),_a&&Es(this.toggleFullScreen,Tr),Xs&&yn().createElement("div",{className:"image-gallery-index"},yn().createElement("span",{className:"image-gallery-index-current"},or+1),yn().createElement("span",{className:"image-gallery-index-separator"},cs),yn().createElement("span",{className:"image-gallery-index-total"},hs.length))),yo=gn("image-gallery",ls,{"fullscreen-modal":Ir}),Js=gn("image-gallery-content",this.getThumbnailPositionClassName(gs),{fullscreen:Tr}),Fo=gn("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(gs),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&ys},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!Xr},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!Xr});return yn().createElement("div",{ref:this.imageGallery,className:yo,"aria-live":"polite"},yn().createElement("div",{className:Js},(gs==="bottom"||gs==="right")&&uo,Ms&&so.length>0?yn().createElement(ps,{className:Fo,delta:0,onSwiping:!Xr&&this.handleThumbnailSwiping,onSwiped:!Xr&&this.handleOnThumbnailSwiped},yn().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},yn().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:Ao,"aria-label":"Thumbnail Navigation"},so))):null,(gs==="top"||gs==="left")&&uo))}}],ur&&Os(Kn.prototype,ur),Kr}(yn().Component);_i.propTypes={flickThreshold:Xn.number,items:(0,Xn.arrayOf)((0,Xn.shape)({bulletClass:Xn.string,bulletOnClick:Xn.func,description:Xn.string,original:Xn.string,originalHeight:Xn.number,originalWidth:Xn.number,loading:Xn.string,thumbnailHeight:Xn.number,thumbnailWidth:Xn.number,thumbnailLoading:Xn.string,fullscreen:Xn.string,originalAlt:Xn.string,originalTitle:Xn.string,thumbnail:Xn.string,thumbnailAlt:Xn.string,thumbnailLabel:Xn.string,thumbnailTitle:Xn.string,originalClass:Xn.string,thumbnailClass:Xn.string,renderItem:Xn.func,renderThumbInner:Xn.func,imageSet:Vs,srcSet:Xn.string,sizes:Xn.string})).isRequired,showNav:Xn.bool,autoPlay:Xn.bool,lazyLoad:Xn.bool,infinite:Xn.bool,showIndex:Xn.bool,showBullets:Xn.bool,showThumbnails:Xn.bool,showPlayButton:Xn.bool,showFullscreenButton:Xn.bool,disableThumbnailScroll:Xn.bool,disableKeyDown:Xn.bool,disableSwipe:Xn.bool,disableThumbnailSwipe:Xn.bool,useBrowserFullscreen:Xn.bool,onErrorImageURL:Xn.string,indexSeparator:Xn.string,thumbnailPosition:(0,Xn.oneOf)(["top","bottom","left","right"]),startIndex:Xn.number,slideDuration:Xn.number,slideInterval:Xn.number,slideOnThumbnailOver:Xn.bool,swipeThreshold:Xn.number,swipingTransitionDuration:Xn.number,swipingThumbnailTransitionDuration:Xn.number,onSlide:Xn.func,onBeforeSlide:Xn.func,onScreenChange:Xn.func,onPause:Xn.func,onPlay:Xn.func,onClick:Xn.func,onImageLoad:Xn.func,onImageError:Xn.func,onTouchMove:Xn.func,onTouchEnd:Xn.func,onTouchStart:Xn.func,onMouseOver:Xn.func,onMouseLeave:Xn.func,onThumbnailError:Xn.func,onThumbnailClick:Xn.func,renderCustomControls:Xn.func,renderLeftNav:Xn.func,renderRightNav:Xn.func,renderPlayPauseButton:Xn.func,renderFullscreenButton:Xn.func,renderItem:Xn.func,renderThumbInner:Xn.func,stopPropagation:Xn.bool,additionalClass:Xn.string,useTranslate3D:Xn.bool,isRTL:Xn.bool,useWindowKeyDown:Xn.bool},_i.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(hr,Kn){return yn().createElement(Cs,{onClick:hr,disabled:Kn})},renderRightNav:function(hr,Kn){return yn().createElement(js,{onClick:hr,disabled:Kn})},renderPlayPauseButton:function(hr,Kn){return yn().createElement(ks,{onClick:hr,isPlaying:Kn})},renderFullscreenButton:function(hr,Kn){return yn().createElement(ss,{onClick:hr,isFullscreen:Kn})},useWindowKeyDown:!0};const eo=_i})(),hn})()})})(imageGallery);var imageGalleryExports=imageGallery.exports;const ImageGallery=getDefaultExportFromCjs(imageGalleryExports),onError=tn=>{tn.target.alt=""},renderItem=({original:tn,originalAlt:sn})=>React$1.createElement(BaseImage,{alt:sn,className:"image-gallery-image",onError,src:tn}),ModalGallery=tn=>{const{images:sn,index:un}=tn,{t:dn}=useTranslationContext("ModalGallery"),pn=reactExports.useMemo(()=>sn.map(mn=>{const hn=mn.image_url||mn.thumb_url||"";return{original:hn,originalAlt:dn("User uploaded content"),source:hn}}),[sn,dn]);return React$1.createElement(ImageGallery,{items:pn,renderItem,showIndex:!0,showPlayButton:!1,showThumbnails:!1,startIndex:un})},UnMemoizedGallery=tn=>{const{images:sn,innerRefs:un}=tn,[dn,pn]=reactExports.useState(0),[mn,hn]=reactExports.useState(!1),{BaseImage:fn=BaseImage,ModalGallery:gn=ModalGallery}=useComponentContext(),{t:xn}=useTranslationContext("Gallery"),yn=xn("User uploaded content"),vn=4,En=vn-1,bn=Rn=>{mn?hn(!1):(pn(Rn),hn(!0))},wn=sn.slice(0,vn).map((Rn,_n)=>_n===En&&sn.length>vn?React$1.createElement("button",{className:"str-chat__gallery-placeholder","data-testid":"gallery-image-last",key:`gallery-image-${_n}`,onClick:()=>bn(_n),style:{backgroundImage:`url(${sn[En].previewUrl||sn[En].image_url||sn[En].thumb_url})`,...Rn.style},...(un==null?void 0:un.current)&&{ref:jn=>{un.current[_n]=jn}}},React$1.createElement("p",null,xn("{{ imageCount }} more",{imageCount:sn.length-vn}))):React$1.createElement("button",{className:"str-chat__gallery-image","data-testid":"gallery-image",key:`gallery-image-${_n}`,onClick:()=>bn(_n)},React$1.createElement(fn,{alt:(Rn==null?void 0:Rn.fallback)||yn,src:dist.sanitizeUrl(Rn.previewUrl||Rn.image_url||Rn.thumb_url),style:Rn.style,title:(Rn==null?void 0:Rn.fallback)||yn,...(un==null?void 0:un.current)&&{ref:jn=>{un.current[_n]=jn}}}))),Sn=clsx("str-chat__gallery",{"str-chat__gallery--square":sn.length>En,"str-chat__gallery-two-rows":sn.length>2});return React$1.createElement("div",{className:Sn},wn,React$1.createElement(Modal,{className:"str-chat__gallery-modal",onClose:()=>hn(Rn=>!Rn),open:mn},React$1.createElement(gn,{images:sn,index:dn})))},Gallery=React$1.memo(UnMemoizedGallery),ImageComponent=tn=>{const{dimensions:sn={},fallback:un,image_url:dn,innerRef:pn,previewUrl:mn,style:hn,thumb_url:fn}=tn,[gn,xn]=reactExports.useState(!1),{BaseImage:yn=BaseImage,ModalGallery:vn=ModalGallery}=useComponentContext(),En=dist.sanitizeUrl(mn||dn||fn),bn=()=>xn(wn=>!wn);return React$1.createElement(React$1.Fragment,null,React$1.createElement(yn,{alt:un,className:"str-chat__message-attachment--img","data-testid":"image-test",onClick:bn,src:En,style:hn,tabIndex:0,title:un,...sn,...pn&&{ref:pn}}),React$1.createElement(Modal,{className:"str-chat__image-modal",onClose:bn,open:gn},React$1.createElement(vn,{images:[tn],index:0})))},CustomMessageActionsList=tn=>{const{customMessageActions:sn,message:un}=tn;if(!sn)return null;const dn=Object.keys(sn);return React$1.createElement(React$1.Fragment,null,dn.map(pn=>{const mn=sn[pn];return React$1.createElement("button",{"aria-selected":"false",className:"str-chat__message-actions-list-item str-chat__message-actions-list-item-button",key:pn,onClick:hn=>mn(un,hn),role:"option"},pn)}))};var fromEntries=function tn(sn){return sn.reduce(function(un,dn){var pn=dn[0],mn=dn[1];return un[pn]=mn,un},{})},useIsomorphicLayoutEffect=typeof window<"u"&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(tn,sn){return tn.concat([sn+"-"+start,sn+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(tn,sn){return tn.concat([sn,sn+"-"+start,sn+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(tn){return tn?(tn.nodeName||"").toLowerCase():null}function getWindow(tn){if(tn==null)return window;if(tn.toString()!=="[object Window]"){var sn=tn.ownerDocument;return sn&&sn.defaultView||window}return tn}function isElement(tn){var sn=getWindow(tn).Element;return tn instanceof sn||tn instanceof Element}function isHTMLElement(tn){var sn=getWindow(tn).HTMLElement;return tn instanceof sn||tn instanceof HTMLElement}function isShadowRoot(tn){if(typeof ShadowRoot>"u")return!1;var sn=getWindow(tn).ShadowRoot;return tn instanceof sn||tn instanceof ShadowRoot}function applyStyles(tn){var sn=tn.state;Object.keys(sn.elements).forEach(function(un){var dn=sn.styles[un]||{},pn=sn.attributes[un]||{},mn=sn.elements[un];!isHTMLElement(mn)||!getNodeName(mn)||(Object.assign(mn.style,dn),Object.keys(pn).forEach(function(hn){var fn=pn[hn];fn===!1?mn.removeAttribute(hn):mn.setAttribute(hn,fn===!0?"":fn)}))})}function effect$2(tn){var sn=tn.state,un={popper:{position:sn.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(sn.elements.popper.style,un.popper),sn.styles=un,sn.elements.arrow&&Object.assign(sn.elements.arrow.style,un.arrow),function(){Object.keys(sn.elements).forEach(function(dn){var pn=sn.elements[dn],mn=sn.attributes[dn]||{},hn=Object.keys(sn.styles.hasOwnProperty(dn)?sn.styles[dn]:un[dn]),fn=hn.reduce(function(gn,xn){return gn[xn]="",gn},{});!isHTMLElement(pn)||!getNodeName(pn)||(Object.assign(pn.style,fn),Object.keys(mn).forEach(function(gn){pn.removeAttribute(gn)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(tn){return tn.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var tn=navigator.userAgentData;return tn!=null&&tn.brands&&Array.isArray(tn.brands)?tn.brands.map(function(sn){return sn.brand+"/"+sn.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(tn,sn,un){sn===void 0&&(sn=!1),un===void 0&&(un=!1);var dn=tn.getBoundingClientRect(),pn=1,mn=1;sn&&isHTMLElement(tn)&&(pn=tn.offsetWidth>0&&round(dn.width)/tn.offsetWidth||1,mn=tn.offsetHeight>0&&round(dn.height)/tn.offsetHeight||1);var hn=isElement(tn)?getWindow(tn):window,fn=hn.visualViewport,gn=!isLayoutViewport()&&un,xn=(dn.left+(gn&&fn?fn.offsetLeft:0))/pn,yn=(dn.top+(gn&&fn?fn.offsetTop:0))/mn,vn=dn.width/pn,En=dn.height/mn;return{width:vn,height:En,top:yn,right:xn+vn,bottom:yn+En,left:xn,x:xn,y:yn}}function getLayoutRect(tn){var sn=getBoundingClientRect(tn),un=tn.offsetWidth,dn=tn.offsetHeight;return Math.abs(sn.width-un)<=1&&(un=sn.width),Math.abs(sn.height-dn)<=1&&(dn=sn.height),{x:tn.offsetLeft,y:tn.offsetTop,width:un,height:dn}}function contains(tn,sn){var un=sn.getRootNode&&sn.getRootNode();if(tn.contains(sn))return!0;if(un&&isShadowRoot(un)){var dn=sn;do{if(dn&&tn.isSameNode(dn))return!0;dn=dn.parentNode||dn.host}while(dn)}return!1}function getComputedStyle$1(tn){return getWindow(tn).getComputedStyle(tn)}function isTableElement(tn){return["table","td","th"].indexOf(getNodeName(tn))>=0}function getDocumentElement(tn){return((isElement(tn)?tn.ownerDocument:tn.document)||window.document).documentElement}function getParentNode(tn){return getNodeName(tn)==="html"?tn:tn.assignedSlot||tn.parentNode||(isShadowRoot(tn)?tn.host:null)||getDocumentElement(tn)}function getTrueOffsetParent(tn){return!isHTMLElement(tn)||getComputedStyle$1(tn).position==="fixed"?null:tn.offsetParent}function getContainingBlock(tn){var sn=/firefox/i.test(getUAString()),un=/Trident/i.test(getUAString());if(un&&isHTMLElement(tn)){var dn=getComputedStyle$1(tn);if(dn.position==="fixed")return null}var pn=getParentNode(tn);for(isShadowRoot(pn)&&(pn=pn.host);isHTMLElement(pn)&&["html","body"].indexOf(getNodeName(pn))<0;){var mn=getComputedStyle$1(pn);if(mn.transform!=="none"||mn.perspective!=="none"||mn.contain==="paint"||["transform","perspective"].indexOf(mn.willChange)!==-1||sn&&mn.willChange==="filter"||sn&&mn.filter&&mn.filter!=="none")return pn;pn=pn.parentNode}return null}function getOffsetParent(tn){for(var sn=getWindow(tn),un=getTrueOffsetParent(tn);un&&isTableElement(un)&&getComputedStyle$1(un).position==="static";)un=getTrueOffsetParent(un);return un&&(getNodeName(un)==="html"||getNodeName(un)==="body"&&getComputedStyle$1(un).position==="static")?sn:un||getContainingBlock(tn)||sn}function getMainAxisFromPlacement(tn){return["top","bottom"].indexOf(tn)>=0?"x":"y"}function within(tn,sn,un){return max(tn,min(sn,un))}function withinMaxClamp(tn,sn,un){var dn=within(tn,sn,un);return dn>un?un:dn}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(tn){return Object.assign({},getFreshSideObject(),tn)}function expandToHashMap(tn,sn){return sn.reduce(function(un,dn){return un[dn]=tn,un},{})}var toPaddingObject=function tn(sn,un){return sn=typeof sn=="function"?sn(Object.assign({},un.rects,{placement:un.placement})):sn,mergePaddingObject(typeof sn!="number"?sn:expandToHashMap(sn,basePlacements))};function arrow(tn){var sn,un=tn.state,dn=tn.name,pn=tn.options,mn=un.elements.arrow,hn=un.modifiersData.popperOffsets,fn=getBasePlacement(un.placement),gn=getMainAxisFromPlacement(fn),xn=[left,right].indexOf(fn)>=0,yn=xn?"height":"width";if(!(!mn||!hn)){var vn=toPaddingObject(pn.padding,un),En=getLayoutRect(mn),bn=gn==="y"?top:left,wn=gn==="y"?bottom:right,Sn=un.rects.reference[yn]+un.rects.reference[gn]-hn[gn]-un.rects.popper[yn],Rn=hn[gn]-un.rects.reference[gn],_n=getOffsetParent(mn),jn=_n?gn==="y"?_n.clientHeight||0:_n.clientWidth||0:0,Cn=Sn/2-Rn/2,An=vn[bn],Tn=jn-En[yn]-vn[wn],$n=jn/2-En[yn]/2+Cn,Dn=within(An,$n,Tn),Nn=gn;un.modifiersData[dn]=(sn={},sn[Nn]=Dn,sn.centerOffset=Dn-$n,sn)}}function effect$1(tn){var sn=tn.state,un=tn.options,dn=un.element,pn=dn===void 0?"[data-popper-arrow]":dn;pn!=null&&(typeof pn=="string"&&(pn=sn.elements.popper.querySelector(pn),!pn)||contains(sn.elements.popper,pn)&&(sn.elements.arrow=pn))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(tn){return tn.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(tn,sn){var un=tn.x,dn=tn.y,pn=sn.devicePixelRatio||1;return{x:round(un*pn)/pn||0,y:round(dn*pn)/pn||0}}function mapToStyles(tn){var sn,un=tn.popper,dn=tn.popperRect,pn=tn.placement,mn=tn.variation,hn=tn.offsets,fn=tn.position,gn=tn.gpuAcceleration,xn=tn.adaptive,yn=tn.roundOffsets,vn=tn.isFixed,En=hn.x,bn=En===void 0?0:En,wn=hn.y,Sn=wn===void 0?0:wn,Rn=typeof yn=="function"?yn({x:bn,y:Sn}):{x:bn,y:Sn};bn=Rn.x,Sn=Rn.y;var _n=hn.hasOwnProperty("x"),jn=hn.hasOwnProperty("y"),Cn=left,An=top,Tn=window;if(xn){var $n=getOffsetParent(un),Dn="clientHeight",Nn="clientWidth";if($n===getWindow(un)&&($n=getDocumentElement(un),getComputedStyle$1($n).position!=="static"&&fn==="absolute"&&(Dn="scrollHeight",Nn="scrollWidth")),$n=$n,pn===top||(pn===left||pn===right)&&mn===end){An=bottom;var kn=vn&&$n===Tn&&Tn.visualViewport?Tn.visualViewport.height:$n[Dn];Sn-=kn-dn.height,Sn*=gn?1:-1}if(pn===left||(pn===top||pn===bottom)&&mn===end){Cn=right;var Pn=vn&&$n===Tn&&Tn.visualViewport?Tn.visualViewport.width:$n[Nn];bn-=Pn-dn.width,bn*=gn?1:-1}}var Mn=Object.assign({position:fn},xn&&unsetSides),On=yn===!0?roundOffsetsByDPR({x:bn,y:Sn},getWindow(un)):{x:bn,y:Sn};if(bn=On.x,Sn=On.y,gn){var Wn;return Object.assign({},Mn,(Wn={},Wn[An]=jn?"0":"",Wn[Cn]=_n?"0":"",Wn.transform=(Tn.devicePixelRatio||1)<=1?"translate("+bn+"px, "+Sn+"px)":"translate3d("+bn+"px, "+Sn+"px, 0)",Wn))}return Object.assign({},Mn,(sn={},sn[An]=jn?Sn+"px":"",sn[Cn]=_n?bn+"px":"",sn.transform="",sn))}function computeStyles(tn){var sn=tn.state,un=tn.options,dn=un.gpuAcceleration,pn=dn===void 0?!0:dn,mn=un.adaptive,hn=mn===void 0?!0:mn,fn=un.roundOffsets,gn=fn===void 0?!0:fn,xn={placement:getBasePlacement(sn.placement),variation:getVariation(sn.placement),popper:sn.elements.popper,popperRect:sn.rects.popper,gpuAcceleration:pn,isFixed:sn.options.strategy==="fixed"};sn.modifiersData.popperOffsets!=null&&(sn.styles.popper=Object.assign({},sn.styles.popper,mapToStyles(Object.assign({},xn,{offsets:sn.modifiersData.popperOffsets,position:sn.options.strategy,adaptive:hn,roundOffsets:gn})))),sn.modifiersData.arrow!=null&&(sn.styles.arrow=Object.assign({},sn.styles.arrow,mapToStyles(Object.assign({},xn,{offsets:sn.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:gn})))),sn.attributes.popper=Object.assign({},sn.attributes.popper,{"data-popper-placement":sn.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(tn){var sn=tn.state,un=tn.instance,dn=tn.options,pn=dn.scroll,mn=pn===void 0?!0:pn,hn=dn.resize,fn=hn===void 0?!0:hn,gn=getWindow(sn.elements.popper),xn=[].concat(sn.scrollParents.reference,sn.scrollParents.popper);return mn&&xn.forEach(function(yn){yn.addEventListener("scroll",un.update,passive)}),fn&&gn.addEventListener("resize",un.update,passive),function(){mn&&xn.forEach(function(yn){yn.removeEventListener("scroll",un.update,passive)}),fn&&gn.removeEventListener("resize",un.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function tn(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(tn){return tn.replace(/left|right|bottom|top/g,function(sn){return hash$1[sn]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(tn){return tn.replace(/start|end/g,function(sn){return hash[sn]})}function getWindowScroll(tn){var sn=getWindow(tn),un=sn.pageXOffset,dn=sn.pageYOffset;return{scrollLeft:un,scrollTop:dn}}function getWindowScrollBarX(tn){return getBoundingClientRect(getDocumentElement(tn)).left+getWindowScroll(tn).scrollLeft}function getViewportRect(tn,sn){var un=getWindow(tn),dn=getDocumentElement(tn),pn=un.visualViewport,mn=dn.clientWidth,hn=dn.clientHeight,fn=0,gn=0;if(pn){mn=pn.width,hn=pn.height;var xn=isLayoutViewport();(xn||!xn&&sn==="fixed")&&(fn=pn.offsetLeft,gn=pn.offsetTop)}return{width:mn,height:hn,x:fn+getWindowScrollBarX(tn),y:gn}}function getDocumentRect(tn){var sn,un=getDocumentElement(tn),dn=getWindowScroll(tn),pn=(sn=tn.ownerDocument)==null?void 0:sn.body,mn=max(un.scrollWidth,un.clientWidth,pn?pn.scrollWidth:0,pn?pn.clientWidth:0),hn=max(un.scrollHeight,un.clientHeight,pn?pn.scrollHeight:0,pn?pn.clientHeight:0),fn=-dn.scrollLeft+getWindowScrollBarX(tn),gn=-dn.scrollTop;return getComputedStyle$1(pn||un).direction==="rtl"&&(fn+=max(un.clientWidth,pn?pn.clientWidth:0)-mn),{width:mn,height:hn,x:fn,y:gn}}function isScrollParent(tn){var sn=getComputedStyle$1(tn),un=sn.overflow,dn=sn.overflowX,pn=sn.overflowY;return/auto|scroll|overlay|hidden/.test(un+pn+dn)}function getScrollParent(tn){return["html","body","#document"].indexOf(getNodeName(tn))>=0?tn.ownerDocument.body:isHTMLElement(tn)&&isScrollParent(tn)?tn:getScrollParent(getParentNode(tn))}function listScrollParents(tn,sn){var un;sn===void 0&&(sn=[]);var dn=getScrollParent(tn),pn=dn===((un=tn.ownerDocument)==null?void 0:un.body),mn=getWindow(dn),hn=pn?[mn].concat(mn.visualViewport||[],isScrollParent(dn)?dn:[]):dn,fn=sn.concat(hn);return pn?fn:fn.concat(listScrollParents(getParentNode(hn)))}function rectToClientRect(tn){return Object.assign({},tn,{left:tn.x,top:tn.y,right:tn.x+tn.width,bottom:tn.y+tn.height})}function getInnerBoundingClientRect(tn,sn){var un=getBoundingClientRect(tn,!1,sn==="fixed");return un.top=un.top+tn.clientTop,un.left=un.left+tn.clientLeft,un.bottom=un.top+tn.clientHeight,un.right=un.left+tn.clientWidth,un.width=tn.clientWidth,un.height=tn.clientHeight,un.x=un.left,un.y=un.top,un}function getClientRectFromMixedType(tn,sn,un){return sn===viewport?rectToClientRect(getViewportRect(tn,un)):isElement(sn)?getInnerBoundingClientRect(sn,un):rectToClientRect(getDocumentRect(getDocumentElement(tn)))}function getClippingParents(tn){var sn=listScrollParents(getParentNode(tn)),un=["absolute","fixed"].indexOf(getComputedStyle$1(tn).position)>=0,dn=un&&isHTMLElement(tn)?getOffsetParent(tn):tn;return isElement(dn)?sn.filter(function(pn){return isElement(pn)&&contains(pn,dn)&&getNodeName(pn)!=="body"}):[]}function getClippingRect(tn,sn,un,dn){var pn=sn==="clippingParents"?getClippingParents(tn):[].concat(sn),mn=[].concat(pn,[un]),hn=mn[0],fn=mn.reduce(function(gn,xn){var yn=getClientRectFromMixedType(tn,xn,dn);return gn.top=max(yn.top,gn.top),gn.right=min(yn.right,gn.right),gn.bottom=min(yn.bottom,gn.bottom),gn.left=max(yn.left,gn.left),gn},getClientRectFromMixedType(tn,hn,dn));return fn.width=fn.right-fn.left,fn.height=fn.bottom-fn.top,fn.x=fn.left,fn.y=fn.top,fn}function computeOffsets(tn){var sn=tn.reference,un=tn.element,dn=tn.placement,pn=dn?getBasePlacement(dn):null,mn=dn?getVariation(dn):null,hn=sn.x+sn.width/2-un.width/2,fn=sn.y+sn.height/2-un.height/2,gn;switch(pn){case top:gn={x:hn,y:sn.y-un.height};break;case bottom:gn={x:hn,y:sn.y+sn.height};break;case right:gn={x:sn.x+sn.width,y:fn};break;case left:gn={x:sn.x-un.width,y:fn};break;default:gn={x:sn.x,y:sn.y}}var xn=pn?getMainAxisFromPlacement(pn):null;if(xn!=null){var yn=xn==="y"?"height":"width";switch(mn){case start:gn[xn]=gn[xn]-(sn[yn]/2-un[yn]/2);break;case end:gn[xn]=gn[xn]+(sn[yn]/2-un[yn]/2);break}}return gn}function detectOverflow(tn,sn){sn===void 0&&(sn={});var un=sn,dn=un.placement,pn=dn===void 0?tn.placement:dn,mn=un.strategy,hn=mn===void 0?tn.strategy:mn,fn=un.boundary,gn=fn===void 0?clippingParents:fn,xn=un.rootBoundary,yn=xn===void 0?viewport:xn,vn=un.elementContext,En=vn===void 0?popper:vn,bn=un.altBoundary,wn=bn===void 0?!1:bn,Sn=un.padding,Rn=Sn===void 0?0:Sn,_n=mergePaddingObject(typeof Rn!="number"?Rn:expandToHashMap(Rn,basePlacements)),jn=En===popper?reference:popper,Cn=tn.rects.popper,An=tn.elements[wn?jn:En],Tn=getClippingRect(isElement(An)?An:An.contextElement||getDocumentElement(tn.elements.popper),gn,yn,hn),$n=getBoundingClientRect(tn.elements.reference),Dn=computeOffsets({reference:$n,element:Cn,placement:pn}),Nn=rectToClientRect(Object.assign({},Cn,Dn)),kn=En===popper?Nn:$n,Pn={top:Tn.top-kn.top+_n.top,bottom:kn.bottom-Tn.bottom+_n.bottom,left:Tn.left-kn.left+_n.left,right:kn.right-Tn.right+_n.right},Mn=tn.modifiersData.offset;if(En===popper&&Mn){var On=Mn[pn];Object.keys(Pn).forEach(function(Wn){var In=[right,bottom].indexOf(Wn)>=0?1:-1,Un=[top,bottom].indexOf(Wn)>=0?"y":"x";Pn[Wn]+=On[Un]*In})}return Pn}function computeAutoPlacement(tn,sn){sn===void 0&&(sn={});var un=sn,dn=un.placement,pn=un.boundary,mn=un.rootBoundary,hn=un.padding,fn=un.flipVariations,gn=un.allowedAutoPlacements,xn=gn===void 0?placements:gn,yn=getVariation(dn),vn=yn?fn?variationPlacements:variationPlacements.filter(function(wn){return getVariation(wn)===yn}):basePlacements,En=vn.filter(function(wn){return xn.indexOf(wn)>=0});En.length===0&&(En=vn);var bn=En.reduce(function(wn,Sn){return wn[Sn]=detectOverflow(tn,{placement:Sn,boundary:pn,rootBoundary:mn,padding:hn})[getBasePlacement(Sn)],wn},{});return Object.keys(bn).sort(function(wn,Sn){return bn[wn]-bn[Sn]})}function getExpandedFallbackPlacements(tn){if(getBasePlacement(tn)===auto)return[];var sn=getOppositePlacement(tn);return[getOppositeVariationPlacement(tn),sn,getOppositeVariationPlacement(sn)]}function flip(tn){var sn=tn.state,un=tn.options,dn=tn.name;if(!sn.modifiersData[dn]._skip){for(var pn=un.mainAxis,mn=pn===void 0?!0:pn,hn=un.altAxis,fn=hn===void 0?!0:hn,gn=un.fallbackPlacements,xn=un.padding,yn=un.boundary,vn=un.rootBoundary,En=un.altBoundary,bn=un.flipVariations,wn=bn===void 0?!0:bn,Sn=un.allowedAutoPlacements,Rn=sn.options.placement,_n=getBasePlacement(Rn),jn=_n===Rn,Cn=gn||(jn||!wn?[getOppositePlacement(Rn)]:getExpandedFallbackPlacements(Rn)),An=[Rn].concat(Cn).reduce(function(Jn,dr){return Jn.concat(getBasePlacement(dr)===auto?computeAutoPlacement(sn,{placement:dr,boundary:yn,rootBoundary:vn,padding:xn,flipVariations:wn,allowedAutoPlacements:Sn}):dr)},[]),Tn=sn.rects.reference,$n=sn.rects.popper,Dn=new Map,Nn=!0,kn=An[0],Pn=0;Pn<An.length;Pn++){var Mn=An[Pn],On=getBasePlacement(Mn),Wn=getVariation(Mn)===start,In=[top,bottom].indexOf(On)>=0,Un=In?"width":"height",Vn=detectOverflow(sn,{placement:Mn,boundary:yn,rootBoundary:vn,altBoundary:En,padding:xn}),Hn=In?Wn?right:left:Wn?bottom:top;Tn[Un]>$n[Un]&&(Hn=getOppositePlacement(Hn));var Ln=getOppositePlacement(Hn),zn=[];if(mn&&zn.push(Vn[On]<=0),fn&&zn.push(Vn[Hn]<=0,Vn[Ln]<=0),zn.every(function(Jn){return Jn})){kn=Mn,Nn=!1;break}Dn.set(Mn,zn)}if(Nn)for(var Bn=wn?3:1,Fn=function(dr){var br=An.find(function(Er){var yr=Dn.get(Er);if(yr)return yr.slice(0,dr).every(function(xr){return xr})});if(br)return kn=br,"break"},Gn=Bn;Gn>0;Gn--){var qn=Fn(Gn);if(qn==="break")break}sn.placement!==kn&&(sn.modifiersData[dn]._skip=!0,sn.placement=kn,sn.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(tn,sn,un){return un===void 0&&(un={x:0,y:0}),{top:tn.top-sn.height-un.y,right:tn.right-sn.width+un.x,bottom:tn.bottom-sn.height+un.y,left:tn.left-sn.width-un.x}}function isAnySideFullyClipped(tn){return[top,right,bottom,left].some(function(sn){return tn[sn]>=0})}function hide(tn){var sn=tn.state,un=tn.name,dn=sn.rects.reference,pn=sn.rects.popper,mn=sn.modifiersData.preventOverflow,hn=detectOverflow(sn,{elementContext:"reference"}),fn=detectOverflow(sn,{altBoundary:!0}),gn=getSideOffsets(hn,dn),xn=getSideOffsets(fn,pn,mn),yn=isAnySideFullyClipped(gn),vn=isAnySideFullyClipped(xn);sn.modifiersData[un]={referenceClippingOffsets:gn,popperEscapeOffsets:xn,isReferenceHidden:yn,hasPopperEscaped:vn},sn.attributes.popper=Object.assign({},sn.attributes.popper,{"data-popper-reference-hidden":yn,"data-popper-escaped":vn})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(tn,sn,un){var dn=getBasePlacement(tn),pn=[left,top].indexOf(dn)>=0?-1:1,mn=typeof un=="function"?un(Object.assign({},sn,{placement:tn})):un,hn=mn[0],fn=mn[1];return hn=hn||0,fn=(fn||0)*pn,[left,right].indexOf(dn)>=0?{x:fn,y:hn}:{x:hn,y:fn}}function offset(tn){var sn=tn.state,un=tn.options,dn=tn.name,pn=un.offset,mn=pn===void 0?[0,0]:pn,hn=placements.reduce(function(yn,vn){return yn[vn]=distanceAndSkiddingToXY(vn,sn.rects,mn),yn},{}),fn=hn[sn.placement],gn=fn.x,xn=fn.y;sn.modifiersData.popperOffsets!=null&&(sn.modifiersData.popperOffsets.x+=gn,sn.modifiersData.popperOffsets.y+=xn),sn.modifiersData[dn]=hn}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(tn){var sn=tn.state,un=tn.name;sn.modifiersData[un]=computeOffsets({reference:sn.rects.reference,element:sn.rects.popper,placement:sn.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(tn){return tn==="x"?"y":"x"}function preventOverflow(tn){var sn=tn.state,un=tn.options,dn=tn.name,pn=un.mainAxis,mn=pn===void 0?!0:pn,hn=un.altAxis,fn=hn===void 0?!1:hn,gn=un.boundary,xn=un.rootBoundary,yn=un.altBoundary,vn=un.padding,En=un.tether,bn=En===void 0?!0:En,wn=un.tetherOffset,Sn=wn===void 0?0:wn,Rn=detectOverflow(sn,{boundary:gn,rootBoundary:xn,padding:vn,altBoundary:yn}),_n=getBasePlacement(sn.placement),jn=getVariation(sn.placement),Cn=!jn,An=getMainAxisFromPlacement(_n),Tn=getAltAxis(An),$n=sn.modifiersData.popperOffsets,Dn=sn.rects.reference,Nn=sn.rects.popper,kn=typeof Sn=="function"?Sn(Object.assign({},sn.rects,{placement:sn.placement})):Sn,Pn=typeof kn=="number"?{mainAxis:kn,altAxis:kn}:Object.assign({mainAxis:0,altAxis:0},kn),Mn=sn.modifiersData.offset?sn.modifiersData.offset[sn.placement]:null,On={x:0,y:0};if($n){if(mn){var Wn,In=An==="y"?top:left,Un=An==="y"?bottom:right,Vn=An==="y"?"height":"width",Hn=$n[An],Ln=Hn+Rn[In],zn=Hn-Rn[Un],Bn=bn?-Nn[Vn]/2:0,Fn=jn===start?Dn[Vn]:Nn[Vn],Gn=jn===start?-Nn[Vn]:-Dn[Vn],qn=sn.elements.arrow,Jn=bn&&qn?getLayoutRect(qn):{width:0,height:0},dr=sn.modifiersData["arrow#persistent"]?sn.modifiersData["arrow#persistent"].padding:getFreshSideObject(),br=dr[In],Er=dr[Un],yr=within(0,Dn[Vn],Jn[Vn]),xr=Cn?Dn[Vn]/2-Bn-yr-br-Pn.mainAxis:Fn-yr-br-Pn.mainAxis,vr=Cn?-Dn[Vn]/2+Bn+yr+Er+Pn.mainAxis:Gn+yr+Er+Pn.mainAxis,nr=sn.elements.arrow&&getOffsetParent(sn.elements.arrow),sr=nr?An==="y"?nr.clientTop||0:nr.clientLeft||0:0,Rr=(Wn=Mn==null?void 0:Mn[An])!=null?Wn:0,Ar=Hn+xr-Rr-sr,Lr=Hn+vr-Rr,Or=within(bn?min(Ln,Ar):Ln,Hn,bn?max(zn,Lr):zn);$n[An]=Or,On[An]=Or-Hn}if(fn){var Zn,Cr=An==="x"?top:left,Fr=An==="x"?bottom:right,Pr=$n[Tn],Br=Tn==="y"?"height":"width",ar=Pr+Rn[Cr],pr=Pr-Rn[Fr],Xn=[top,left].indexOf(_n)!==-1,$r=(Zn=Mn==null?void 0:Mn[Tn])!=null?Zn:0,lr=Xn?ar:Pr-Dn[Br]-Nn[Br]-$r+Pn.altAxis,gr=Xn?Pr+Dn[Br]+Nn[Br]-$r-Pn.altAxis:pr,_r=bn&&Xn?withinMaxClamp(lr,Pr,gr):within(bn?lr:ar,Pr,bn?gr:pr);$n[Tn]=_r,On[Tn]=_r-Pr}sn.modifiersData[dn]=On}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(tn){return{scrollLeft:tn.scrollLeft,scrollTop:tn.scrollTop}}function getNodeScroll(tn){return tn===getWindow(tn)||!isHTMLElement(tn)?getWindowScroll(tn):getHTMLElementScroll(tn)}function isElementScaled(tn){var sn=tn.getBoundingClientRect(),un=round(sn.width)/tn.offsetWidth||1,dn=round(sn.height)/tn.offsetHeight||1;return un!==1||dn!==1}function getCompositeRect(tn,sn,un){un===void 0&&(un=!1);var dn=isHTMLElement(sn),pn=isHTMLElement(sn)&&isElementScaled(sn),mn=getDocumentElement(sn),hn=getBoundingClientRect(tn,pn,un),fn={scrollLeft:0,scrollTop:0},gn={x:0,y:0};return(dn||!dn&&!un)&&((getNodeName(sn)!=="body"||isScrollParent(mn))&&(fn=getNodeScroll(sn)),isHTMLElement(sn)?(gn=getBoundingClientRect(sn,!0),gn.x+=sn.clientLeft,gn.y+=sn.clientTop):mn&&(gn.x=getWindowScrollBarX(mn))),{x:hn.left+fn.scrollLeft-gn.x,y:hn.top+fn.scrollTop-gn.y,width:hn.width,height:hn.height}}function order(tn){var sn=new Map,un=new Set,dn=[];tn.forEach(function(mn){sn.set(mn.name,mn)});function pn(mn){un.add(mn.name);var hn=[].concat(mn.requires||[],mn.requiresIfExists||[]);hn.forEach(function(fn){if(!un.has(fn)){var gn=sn.get(fn);gn&&pn(gn)}}),dn.push(mn)}return tn.forEach(function(mn){un.has(mn.name)||pn(mn)}),dn}function orderModifiers(tn){var sn=order(tn);return modifierPhases.reduce(function(un,dn){return un.concat(sn.filter(function(pn){return pn.phase===dn}))},[])}function debounce(tn){var sn;return function(){return sn||(sn=new Promise(function(un){Promise.resolve().then(function(){sn=void 0,un(tn())})})),sn}}function mergeByName(tn){var sn=tn.reduce(function(un,dn){var pn=un[dn.name];return un[dn.name]=pn?Object.assign({},pn,dn,{options:Object.assign({},pn.options,dn.options),data:Object.assign({},pn.data,dn.data)}):dn,un},{});return Object.keys(sn).map(function(un){return sn[un]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];return!sn.some(function(dn){return!(dn&&typeof dn.getBoundingClientRect=="function")})}function popperGenerator(tn){tn===void 0&&(tn={});var sn=tn,un=sn.defaultModifiers,dn=un===void 0?[]:un,pn=sn.defaultOptions,mn=pn===void 0?DEFAULT_OPTIONS:pn;return function(fn,gn,xn){xn===void 0&&(xn=mn);var yn={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,mn),modifiersData:{},elements:{reference:fn,popper:gn},attributes:{},styles:{}},vn=[],En=!1,bn={state:yn,setOptions:function(_n){var jn=typeof _n=="function"?_n(yn.options):_n;Sn(),yn.options=Object.assign({},mn,yn.options,jn),yn.scrollParents={reference:isElement(fn)?listScrollParents(fn):fn.contextElement?listScrollParents(fn.contextElement):[],popper:listScrollParents(gn)};var Cn=orderModifiers(mergeByName([].concat(dn,yn.options.modifiers)));return yn.orderedModifiers=Cn.filter(function(An){return An.enabled}),wn(),bn.update()},forceUpdate:function(){if(!En){var _n=yn.elements,jn=_n.reference,Cn=_n.popper;if(areValidElements(jn,Cn)){yn.rects={reference:getCompositeRect(jn,getOffsetParent(Cn),yn.options.strategy==="fixed"),popper:getLayoutRect(Cn)},yn.reset=!1,yn.placement=yn.options.placement,yn.orderedModifiers.forEach(function(Pn){return yn.modifiersData[Pn.name]=Object.assign({},Pn.data)});for(var An=0;An<yn.orderedModifiers.length;An++){if(yn.reset===!0){yn.reset=!1,An=-1;continue}var Tn=yn.orderedModifiers[An],$n=Tn.fn,Dn=Tn.options,Nn=Dn===void 0?{}:Dn,kn=Tn.name;typeof $n=="function"&&(yn=$n({state:yn,options:Nn,name:kn,instance:bn})||yn)}}}},update:debounce(function(){return new Promise(function(Rn){bn.forceUpdate(),Rn(yn)})}),destroy:function(){Sn(),En=!0}};if(!areValidElements(fn,gn))return bn;bn.setOptions(xn).then(function(Rn){!En&&xn.onFirstUpdate&&xn.onFirstUpdate(Rn)});function wn(){yn.orderedModifiers.forEach(function(Rn){var _n=Rn.name,jn=Rn.options,Cn=jn===void 0?{}:jn,An=Rn.effect;if(typeof An=="function"){var Tn=An({state:yn,name:_n,instance:bn,options:Cn}),$n=function(){};vn.push(Tn||$n)}})}function Sn(){vn.forEach(function(Rn){return Rn()}),vn=[]}return bn}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),EMPTY_MODIFIERS=[],usePopper=function tn(sn,un,dn){dn===void 0&&(dn={});var pn=reactExports.useRef(null),mn={onFirstUpdate:dn.onFirstUpdate,placement:dn.placement||"bottom",strategy:dn.strategy||"absolute",modifiers:dn.modifiers||EMPTY_MODIFIERS},hn=reactExports.useState({styles:{popper:{position:mn.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),fn=hn[0],gn=hn[1],xn=reactExports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(bn){var wn=bn.state,Sn=Object.keys(wn.elements);reactDomExports.flushSync(function(){gn({styles:fromEntries(Sn.map(function(Rn){return[Rn,wn.styles[Rn]||{}]})),attributes:fromEntries(Sn.map(function(Rn){return[Rn,wn.attributes[Rn]]}))})})},requires:["computeStyles"]}},[]),yn=reactExports.useMemo(function(){var En={onFirstUpdate:mn.onFirstUpdate,placement:mn.placement,strategy:mn.strategy,modifiers:[].concat(mn.modifiers,[xn,{name:"applyStyles",enabled:!1}])};return isEqual(pn.current,En)?pn.current||En:(pn.current=En,En)},[mn.onFirstUpdate,mn.placement,mn.strategy,mn.modifiers,xn]),vn=reactExports.useRef();return useIsomorphicLayoutEffect(function(){vn.current&&vn.current.setOptions(yn)},[yn]),useIsomorphicLayoutEffect(function(){if(!(sn==null||un==null)){var En=dn.createPopper||createPopper,bn=En(sn,un,yn);return vn.current=bn,function(){bn.destroy(),vn.current=null}}},[sn,un,dn.createPopper]),{state:vn.current?vn.current.state:null,styles:fn.styles,attributes:fn.attributes,update:vn.current?vn.current.update:null,forceUpdate:vn.current?vn.current.forceUpdate:null}};function useDialogAnchor({open:tn,placement:sn,referenceElement:un}){const[dn,pn]=reactExports.useState(null),{attributes:mn,styles:hn,update:fn}=usePopper(un,dn,{modifiers:[{name:"eventListeners",options:{resize:!1,scroll:!1}}],placement:sn});return reactExports.useEffect(()=>{tn&&dn&&(fn==null||fn())},[tn,dn,fn]),dn&&!tn&&pn(null),{attributes:mn,setPopperElement:pn,styles:hn}}const DialogAnchor=({children:tn,className:sn,focus:un=!0,id:dn,placement:pn="auto",referenceElement:mn=null,tabIndex:hn,trapFocus:fn,...gn})=>{const xn=useDialog({id:dn}),yn=useDialogIsOpen(dn),{attributes:vn,setPopperElement:En,styles:bn}=useDialogAnchor({open:yn,placement:pn,referenceElement:mn});return reactExports.useEffect(()=>{if(!yn)return;const wn=Sn=>{Sn.key==="Escape"&&(xn==null||xn.close())};return document.addEventListener("keyup",wn),()=>{document.removeEventListener("keyup",wn)}},[xn,yn]),yn?React$1.createElement(DialogPortalEntry,{dialogId:dn},React$1.createElement($9bf71ea28793e738$export$20e40289641fbbb6,{autoFocus:un,contain:fn,restoreFocus:!0},React$1.createElement("div",{...gn,...vn.popper,className:clsx("str-chat__dialog-contents",sn),"data-testid":"str-chat__dialog-contents",ref:En,style:bn.popper,tabIndex:typeof hn<"u"?hn:0},tn))):null},ButtonWithSubmenu=({children:tn,className:sn,placement:un,Submenu:dn,submenuContainerProps:pn,...mn})=>{const hn=reactExports.useRef(null),[fn,gn]=reactExports.useState(null),xn=reactExports.useRef(!1),yn=reactExports.useRef(null),vn=reactExports.useMemo(()=>`submenu-${Math.random().toString(36).slice(2)}`,[]),En=useDialog({id:vn}),bn=useDialogIsOpen(vn),{attributes:wn,setPopperElement:Sn,styles:Rn}=useDialogAnchor({open:bn,placement:un,referenceElement:hn.current}),_n=reactExports.useCallback(()=>{yn.current&&clearTimeout(yn.current),yn.current=setTimeout(()=>{xn.current||En.close()},100)},[En]),jn=reactExports.useCallback(An=>{const Tn=hn.current;!bn||!Tn||(An.stopPropagation(),_n(),Tn.focus())},[_n,bn,hn]),Cn=()=>{bn||(En.open(),xn.current=!0)};return reactExports.useEffect(()=>{const An=hn.current;if(!bn||!An)return;const Tn=$n=>{$n.key==="Escape"&&(jn($n),xn.current=!1)};return document.addEventListener("keyup",Tn,{capture:!0}),()=>{document.removeEventListener("keyup",Tn,{capture:!0})}},[bn,jn]),React$1.createElement(React$1.Fragment,null,React$1.createElement("button",{"aria-selected":"false",className:clsx(sn,"str_chat__button-with-submenu",{"str_chat__button-with-submenu--submenu-open":bn}),onBlur:()=>{xn.current=!1,_n()},onClick:An=>{An.stopPropagation(),En.toggle()},onFocus:Cn,onMouseEnter:Cn,onMouseLeave:()=>{xn.current=!1,_n()},ref:hn,role:"option",...mn},tn),bn&&React$1.createElement("div",{...wn.popper,onBlur:An=>{An.relatedTarget instanceof Node&&(fn!=null&&fn.contains(An.relatedTarget))||(xn.current=!1,_n())},onFocus:()=>{xn.current=!0},onMouseEnter:()=>{xn.current=!0},onMouseLeave:()=>{xn.current=!1,_n()},ref:An=>{Sn(An),gn(An)},style:Rn.popper,tabIndex:-1,...pn},React$1.createElement(dn,null)))},RemindMeActionButton=({className:tn,isMine:sn})=>{const{t:un}=useTranslationContext();return React$1.createElement(ButtonWithSubmenu,{"aria-selected":"false",className:tn,placement:sn?"left-start":"right-start",Submenu:RemindMeSubmenu},un("Remind Me"))},RemindMeSubmenu=()=>{const{t:tn}=useTranslationContext(),{client:sn}=useChatContext(),{message:un}=useMessageContext();return React$1.createElement("div",{"aria-label":tn("aria/Remind Me Options"),className:"str-chat__message-actions-box__submenu",role:"listbox"},sn.reminders.scheduledOffsetsMs.map(dn=>React$1.createElement("button",{className:"str-chat__message-actions-list-item-button",key:`reminder-offset-option--${dn}`,onClick:()=>{sn.reminders.upsertReminder({messageId:un.id,remind_at:new Date(new Date().getTime()+dn).toISOString()})}},tn("duration/Remind Me",{milliseconds:dn}))))},UnMemoizedMessageActionsBox=tn=>{const{className:sn,getMessageActions:un,handleDelete:dn,handleEdit:pn,handleFlag:mn,handleMarkUnread:hn,handleMute:fn,handlePin:gn,isUserMuted:xn,mine:yn,open:vn,...En}=tn,{client:bn}=useChatContext(),{CustomMessageActionsList:wn=CustomMessageActionsList}=useComponentContext(),{customMessageActions:Sn,message:Rn,threadList:_n}=useMessageContext(),{t:jn}=useTranslationContext("MessageActionsBox"),Cn=useMessageComposer(),An=useMessageReminder(Rn.id),Tn=un(),$n=()=>{Cn.setQuotedMessage(Rn);const Pn=(Rn.parent_id?document.querySelectorAll(".str-chat__thread .str-chat__textarea__textarea"):document.getElementsByClassName("str-chat__textarea__textarea")).item(0);Pn instanceof HTMLTextAreaElement&&Pn.focus()},Dn=clsx("str-chat__message-actions-box",sn,{"str-chat__message-actions-box--open":vn}),Nn="str-chat__message-actions-list-item str-chat__message-actions-list-item-button";return React$1.createElement("div",{...En,className:Dn,"data-testid":"message-actions-box"},React$1.createElement("div",{"aria-label":jn("aria/Message Options"),className:"str-chat__message-actions-list",role:"listbox"},React$1.createElement(wn,{customMessageActions:Sn,message:Rn}),Tn.indexOf(MESSAGE_ACTIONS.quote)>-1&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:$n,role:"option"},jn("Reply")),Tn.indexOf(MESSAGE_ACTIONS.pin)>-1&&!Rn.parent_id&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:gn,role:"option"},Rn.pinned?jn("Unpin"):jn("Pin")),Tn.indexOf(MESSAGE_ACTIONS.markUnread)>-1&&!_n&&!!Rn.id&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:hn,role:"option"},jn("Mark as unread")),Tn.indexOf(MESSAGE_ACTIONS.flag)>-1&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:mn,role:"option"},jn("Flag")),Tn.indexOf(MESSAGE_ACTIONS.mute)>-1&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:fn,role:"option"},xn()?jn("Unmute"):jn("Mute")),Tn.indexOf(MESSAGE_ACTIONS.edit)>-1&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:pn,role:"option"},jn("Edit Message")),Tn.indexOf(MESSAGE_ACTIONS.delete)>-1&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:dn,role:"option"},jn("Delete")),Tn.indexOf(MESSAGE_ACTIONS.remindMe)>-1&&React$1.createElement(RemindMeActionButton,{className:Nn,isMine:yn}),Tn.indexOf(MESSAGE_ACTIONS.saveForLater)>-1&&React$1.createElement("button",{"aria-selected":"false",className:Nn,onClick:()=>An?bn.reminders.deleteReminder(An.id):bn.reminders.createReminder({messageId:Rn.id}),role:"option"},jn(An?"Remove reminder":"Save for later"))))},MessageActionsBox=React$1.memo(UnMemoizedMessageActionsBox),ActionsIcon=({className:tn=""})=>React$1.createElement("svg",{className:tn,height:"4",viewBox:"0 0 11 4",width:"11",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z",fillRule:"nonzero"})),ReactionIcon=({className:tn=""})=>React$1.createElement("svg",{className:tn,height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},React$1.createElement("path",{d:"M6 1.2C3.3 1.2 1.2 3.3 1.2 6c0 2.7 2.1 4.8 4.8 4.8 2.7 0 4.8-2.1 4.8-4.8 0-2.7-2.1-4.8-4.8-4.8zM0 6c0-3.3 2.7-6 6-6s6 2.7 6 6-2.7 6-6 6-6-2.7-6-6z"}),React$1.createElement("path",{d:"M5.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM8.4 4.5c0 .5-.4.9-.9.9s-.9-.4-.9-.9.4-.9.9-.9.9.4.9.9zM3.3 6.7c.3-.2.6-.1.8.1.3.4.8.9 1.5 1 .6.2 1.4.1 2.4-1 .2-.2.6-.3.8 0 .2.2.3.6 0 .8-1.1 1.3-2.4 1.7-3.5 1.5-1-.2-1.8-.9-2.2-1.5-.2-.3-.1-.7.2-.9z"}))),ThreadIcon=({className:tn=""})=>React$1.createElement("svg",{className:tn,height:"10",width:"14",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M8.516 3c4.78 0 4.972 6.5 4.972 6.5-1.6-2.906-2.847-3.184-4.972-3.184v2.872L3.772 4.994 8.516.5V3zM.484 5l4.5-4.237v1.78L2.416 5l2.568 2.125v1.828L.484 5z",fillRule:"evenodd"})),MessageDeliveredIcon=()=>React$1.createElement("svg",{"data-testid":"delivered-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{clipRule:"evenodd",d:"M8.9999 16.2L4.7999 12L3.3999 13.4L8.9999 19L20.9999 6.99998L19.5999 5.59998L8.9999 16.2Z",fill:"black",fillRule:"evenodd"})),MessageErrorIcon=()=>React$1.createElement("div",{className:"str-chat__message-error-icon"},React$1.createElement("svg",{"data-testid":"error",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2Z",fill:"black",id:"background"}),React$1.createElement("path",{d:"M13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"white"}))),MessageActions=tn=>{const{ActionsIcon:sn=ActionsIcon,customWrapperClass:un="",getMessageActions:dn,handleDelete:pn,handleFlag:mn,handleMarkUnread:hn,handleMute:fn,handlePin:gn,inline:xn,message:yn,mine:vn}=tn,{mutes:En}=useChatContext("MessageActions"),{customMessageActions:bn,getMessageActions:wn,handleDelete:Sn,handleFlag:Rn,handleMarkUnread:_n,handleMute:jn,handlePin:Cn,isMyMessage:An,message:Tn,setEditingState:$n,threadList:Dn}=useMessageContext(),{CustomMessageActionsList:Nn}=useComponentContext(),{t:kn}=useTranslationContext("MessageActions"),Pn=dn||wn,Mn=pn||Sn,On=mn||Rn,Wn=hn||_n,In=fn||jn,Un=gn||Cn,Vn=yn||Tn,Hn=vn?vn():An(),Ln=reactExports.useCallback(()=>isUserMuted(Vn,En),[Vn,En]),zn=`message-actions--${Vn.id}`,Bn=useDialog({id:zn}),Fn=useDialogIsOpen(zn),Gn=Pn(),qn=shouldRenderMessageActions({customMessageActions:bn,CustomMessageActionsList:Nn,inThread:Dn,messageActions:Gn}),Jn=reactExports.useRef(null);return qn?React$1.createElement(MessageActionsWrapper,{customWrapperClass:un,inline:xn,toggleOpen:Bn==null?void 0:Bn.toggle},React$1.createElement(DialogAnchor,{id:zn,placement:Hn?"top-end":"top-start",referenceElement:Jn.current,tabIndex:-1,trapFocus:!0},React$1.createElement(MessageActionsBox,{getMessageActions:Pn,handleDelete:Mn,handleEdit:$n,handleFlag:On,handleMarkUnread:Wn,handleMute:In,handlePin:Un,isUserMuted:Ln,mine:Hn,open:Fn})),React$1.createElement("button",{"aria-expanded":Fn,"aria-haspopup":"true","aria-label":kn("aria/Open Message Actions Menu"),className:"str-chat__message-actions-box-button","data-testid":"message-actions-toggle-button",ref:Jn},React$1.createElement(sn,{className:"str-chat__message-action-icon"}))):null},MessageActionsWrapper=tn=>{const{children:sn,customWrapperClass:un,inline:dn,toggleOpen:pn}=tn,mn=clsx("str-chat__message-simple__actions__action","str-chat__message-simple__actions__action--options","str-chat__message-actions-container"),hn={className:un||mn,"data-testid":"message-actions",onClick:pn};return dn?React$1.createElement("span",{...hn},sn):React$1.createElement("div",{...hn},sn)};function escapeRegExp(tn){return tn.replace(/[-[\]{}()*+?.,/\\^$|#]/g,"\\$&")}const detectHttp=/(http(s?):\/\/)?(www\.)?/,messageCodeBlocks=tn=>{const sn=/```[a-z]*\n[\s\S]*?\n```|`[a-z]*[\s\S]*?`/gm;return tn.match(sn)||[]},matchMarkdownLinks=tn=>{const sn=/\[([^[]+)\](\(.*\))/gm,un=tn.match(sn),dn=/\[([^[]+)\]\((.*)\)/;return(un?un.map(mn=>{const hn=dn.exec(mn);return hn&&[hn[1],hn[2]]}):[]).flat()},convertElement=function(tn){if(tn==null)return element;if(typeof tn=="string")return tagNameFactory(tn);if(typeof tn=="object")return anyFactory(tn);if(typeof tn=="function")return castFactory(tn);throw new Error("Expected function, string, or array as `test`")};function anyFactory(tn){const sn=[];let un=-1;for(;++un<tn.length;)sn[un]=convertElement(tn[un]);return castFactory(dn);function dn(...pn){let mn=-1;for(;++mn<sn.length;)if(sn[mn].apply(this,pn))return!0;return!1}}function tagNameFactory(tn){return castFactory(sn);function sn(un){return un.tagName===tn}}function castFactory(tn){return sn;function sn(un,dn,pn){return!!(looksLikeAnElement(un)&&tn.call(this,un,typeof dn=="number"?dn:void 0,pn||void 0))}}function element(tn){return!!(tn&&typeof tn=="object"&&"type"in tn&&tn.type==="element"&&"tagName"in tn&&typeof tn.tagName=="string")}function looksLikeAnElement(tn){return tn!==null&&typeof tn=="object"&&"type"in tn&&"tagName"in tn}function escapeStringRegexp$1(tn){if(typeof tn!="string")throw new TypeError("Expected a string");return tn.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const emptyOptions$1={},defaultIgnore=["math","script","style","svg","title"];function findAndReplace$1(tn,sn,un){const pn=convertElement(emptyOptions$1.ignore||defaultIgnore),mn=toPairs$1(sn);let hn=-1;for(;++hn<mn.length;)visitParents(tn,"text",fn);function fn(xn,yn){let vn=-1,En;for(;++vn<yn.length;){const bn=yn[vn],wn=En?En.children:void 0;if(pn(bn,wn?wn.indexOf(bn):void 0,En))return;En=bn}if(En)return gn(xn,yn)}function gn(xn,yn){const vn=yn[yn.length-1],En=mn[hn][0],bn=mn[hn][1];let wn=0;const Rn=vn.children.indexOf(xn);let _n=!1,jn=[];En.lastIndex=0;let Cn=En.exec(xn.value);for(;Cn;){const An=Cn.index,Tn={index:Cn.index,input:Cn.input,stack:[...yn,xn]};let $n=bn(...Cn,Tn);if(typeof $n=="string"&&($n=$n.length>0?{type:"text",value:$n}:void 0),$n===!1?En.lastIndex=An+1:(wn!==An&&jn.push({type:"text",value:xn.value.slice(wn,An)}),Array.isArray($n)?jn.push(...$n):$n&&jn.push($n),wn=An+Cn[0].length,_n=!0),!En.global)break;Cn=En.exec(xn.value)}return _n?(wn<xn.value.length&&jn.push({type:"text",value:xn.value.slice(wn)}),vn.children.splice(Rn,1,...jn)):jn=[xn],Rn+jn.length}}function toPairs$1(tn){const sn=[];if(!Array.isArray(tn))throw new TypeError("Expected find and replace tuple or list of tuples");const un=!tn[0]||Array.isArray(tn[0])?tn:[tn];let dn=-1;for(;++dn<un.length;){const pn=un[dn];sn.push([toExpression$1(pn[0]),toFunction$1(pn[1])])}return sn}function toExpression$1(tn){return typeof tn=="string"?new RegExp(escapeStringRegexp$1(tn),"g"):tn}function toFunction$1(tn){return typeof tn=="function"?tn:function(){return tn}}function u(tn,sn,un){const dn={type:String(tn)};return un==null&&(typeof sn=="string"||Array.isArray(sn))?un=sn:Object.assign(dn,sn),Array.isArray(un)?dn.children=un:un!=null&&(dn.value=String(un)),dn}const emojiMarkdownPlugin=()=>{const tn=un=>u("element",{properties:{},tagName:"emoji"},[u("text",un)]);return un=>findAndReplace$1(un,[emojiRegex$1(),tn])},mentionsMarkdownPlugin=tn=>()=>{const sn=tn.map(mn=>mn.name||mn.id).filter(Boolean).map(escapeRegExp),un=new RegExp(sn.map(mn=>`@${mn}`).join("|"),"g"),dn=mn=>{const hn=mn.replace("@",""),fn=tn.find(({id:gn,name:xn})=>xn===hn||gn===hn);return u("element",{mentionedUser:fn,properties:{},tagName:"mention"},[u("text",mn)])};return mn=>{sn.length&&(visit(mn,(hn,fn,gn)=>{var vn;if(typeof fn>"u"||!gn)return;const xn=gn.children.at(fn+1),yn=(vn=xn==null?void 0:xn.properties)==null?void 0:vn.href;if(hn.type==="text"&&/.?\s?@$|^@$/.test(hn.value)&&(yn!=null&&yn.startsWith("mailto:"))){const En=hn.value.replace(/@$/,""),bn=yn.replace("mailto:","");gn.children[fn]=u("text",En),gn.children[fn+1]=u("text",`@${bn}`)}}),findAndReplace$1(mn,[un,dn]))}},visitor$1=tn=>{tn.type==="html"&&(tn.type="text")},transform$1=tn=>{visit(tn,visitor$1)},htmlToTextPlugin=()=>transform$1,visitor=(tn,sn,un)=>{if(!(sn&&un&&tn.position))return;const dn=un.children.at(sn-1);if(!(dn!=null&&dn.position)||tn.position.start.line===dn.position.start.line)return;const pn=tn.position.start.line,mn=dn.position.end.line,hn=pn-mn-1;if(hn<1)return;const fn=Array.from({length:hn},()=>u("break",{tagName:"br"}));un.children=[...un.children.slice(0,sn),...fn,...un.children.slice(sn)]},transform=tn=>{visit(tn,visitor)},keepLineBreaksPlugin=()=>transform;function ccount(tn,sn){const un=String(tn);if(typeof sn!="string")throw new TypeError("Expected character");let dn=0,pn=un.indexOf(sn);for(;pn!==-1;)dn++,pn=un.indexOf(sn,pn+sn.length);return dn}function escapeStringRegexp(tn){if(typeof tn!="string")throw new TypeError("Expected a string");return tn.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(tn,sn,un){const pn=convert((un||{}).ignore||[]),mn=toPairs(sn);let hn=-1;for(;++hn<mn.length;)visitParents(tn,"text",fn);function fn(xn,yn){let vn=-1,En;for(;++vn<yn.length;){const bn=yn[vn],wn=En?En.children:void 0;if(pn(bn,wn?wn.indexOf(bn):void 0,En))return;En=bn}if(En)return gn(xn,yn)}function gn(xn,yn){const vn=yn[yn.length-1],En=mn[hn][0],bn=mn[hn][1];let wn=0;const Rn=vn.children.indexOf(xn);let _n=!1,jn=[];En.lastIndex=0;let Cn=En.exec(xn.value);for(;Cn;){const An=Cn.index,Tn={index:Cn.index,input:Cn.input,stack:[...yn,xn]};let $n=bn(...Cn,Tn);if(typeof $n=="string"&&($n=$n.length>0?{type:"text",value:$n}:void 0),$n===!1?En.lastIndex=An+1:(wn!==An&&jn.push({type:"text",value:xn.value.slice(wn,An)}),Array.isArray($n)?jn.push(...$n):$n&&jn.push($n),wn=An+Cn[0].length,_n=!0),!En.global)break;Cn=En.exec(xn.value)}return _n?(wn<xn.value.length&&jn.push({type:"text",value:xn.value.slice(wn)}),vn.children.splice(Rn,1,...jn)):jn=[xn],Rn+jn.length}}function toPairs(tn){const sn=[];if(!Array.isArray(tn))throw new TypeError("Expected find and replace tuple or list of tuples");const un=!tn[0]||Array.isArray(tn[0])?tn:[tn];let dn=-1;for(;++dn<un.length;){const pn=un[dn];sn.push([toExpression(pn[0]),toFunction(pn[1])])}return sn}function toExpression(tn){return typeof tn=="string"?new RegExp(escapeStringRegexp(tn),"g"):tn}function toFunction(tn){return typeof tn=="function"?tn:function(){return tn}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(tn){this.enter({type:"link",title:null,url:"",children:[]},tn)}function enterLiteralAutolinkValue(tn){this.config.enter.autolinkProtocol.call(this,tn)}function exitLiteralAutolinkHttp(tn){this.config.exit.autolinkProtocol.call(this,tn)}function exitLiteralAutolinkWww(tn){this.config.exit.data.call(this,tn);const sn=this.stack[this.stack.length-1];sn.type,sn.url="http://"+this.sliceSerialize(tn)}function exitLiteralAutolinkEmail(tn){this.config.exit.autolinkEmail.call(this,tn)}function exitLiteralAutolink(tn){this.exit(tn)}function transformGfmAutolinkLiterals(tn){findAndReplace(tn,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(tn,sn,un,dn,pn){let mn="";if(!previous(pn)||(/^w/i.test(sn)&&(un=sn+un,sn="",mn="http://"),!isCorrectDomain(un)))return!1;const hn=splitUrl(un+dn);if(!hn[0])return!1;const fn={type:"link",title:null,url:mn+sn+hn[0],children:[{type:"text",value:sn+hn[0]}]};return hn[1]?[fn,{type:"text",value:hn[1]}]:fn}function findEmail(tn,sn,un,dn){return!previous(dn,!0)||/[-\d_]$/.test(un)?!1:{type:"link",title:null,url:"mailto:"+sn+"@"+un,children:[{type:"text",value:sn+"@"+un}]}}function isCorrectDomain(tn){const sn=tn.split(".");return!(sn.length<2||sn[sn.length-1]&&(/_/.test(sn[sn.length-1])||!/[a-zA-Z\d]/.test(sn[sn.length-1]))||sn[sn.length-2]&&(/_/.test(sn[sn.length-2])||!/[a-zA-Z\d]/.test(sn[sn.length-2])))}function splitUrl(tn){const sn=/[!"&'),.:;<>?\]}]+$/.exec(tn);if(!sn)return[tn,void 0];tn=tn.slice(0,sn.index);let un=sn[0],dn=un.indexOf(")");const pn=ccount(tn,"(");let mn=ccount(tn,")");for(;dn!==-1&&pn>mn;)tn+=un.slice(0,dn+1),un=un.slice(dn+1),dn=un.indexOf(")"),mn++;return[tn,un]}function previous(tn,sn){const un=tn.input.charCodeAt(tn.index-1);return(tn.index===0||unicodeWhitespace(un)||unicodePunctuation(un))&&(!sn||un!==47)}footnoteReference.peek=footnoteReferencePeek;function enterFootnoteCallString(){this.buffer()}function enterFootnoteCall(tn){this.enter({type:"footnoteReference",identifier:"",label:""},tn)}function enterFootnoteDefinitionLabelString(){this.buffer()}function enterFootnoteDefinition(tn){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},tn)}function exitFootnoteCallString(tn){const sn=this.resume(),un=this.stack[this.stack.length-1];un.type,un.identifier=normalizeIdentifier(this.sliceSerialize(tn)).toLowerCase(),un.label=sn}function exitFootnoteCall(tn){this.exit(tn)}function exitFootnoteDefinitionLabelString(tn){const sn=this.resume(),un=this.stack[this.stack.length-1];un.type,un.identifier=normalizeIdentifier(this.sliceSerialize(tn)).toLowerCase(),un.label=sn}function exitFootnoteDefinition(tn){this.exit(tn)}function footnoteReferencePeek(){return"["}function footnoteReference(tn,sn,un,dn){const pn=un.createTracker(dn);let mn=pn.move("[^");const hn=un.enter("footnoteReference"),fn=un.enter("reference");return mn+=pn.move(un.safe(un.associationId(tn),{after:"]",before:mn})),fn(),hn(),mn+=pn.move("]"),mn}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString,gfmFootnoteCall:enterFootnoteCall,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,gfmFootnoteDefinition:enterFootnoteDefinition},exit:{gfmFootnoteCallString:exitFootnoteCallString,gfmFootnoteCall:exitFootnoteCall,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,gfmFootnoteDefinition:exitFootnoteDefinition}}}function gfmFootnoteToMarkdown(tn){let sn=!1;return tn&&tn.firstLineBlank&&(sn=!0),{handlers:{footnoteDefinition:un,footnoteReference},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function un(dn,pn,mn,hn){const fn=mn.createTracker(hn);let gn=fn.move("[^");const xn=mn.enter("footnoteDefinition"),yn=mn.enter("label");return gn+=fn.move(mn.safe(mn.associationId(dn),{before:gn,after:"]"})),yn(),gn+=fn.move("]:"),dn.children&&dn.children.length>0&&(fn.shift(4),gn+=fn.move((sn?`
`:" ")+mn.indentLines(mn.containerFlow(dn,fn.current()),sn?mapAll:mapExceptFirst))),xn(),gn}}function mapExceptFirst(tn,sn,un){return sn===0?tn:mapAll(tn,sn,un)}function mapAll(tn,sn,un){return(un?"":"    ")+tn}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(tn){this.enter({type:"delete",children:[]},tn)}function exitStrikethrough(tn){this.exit(tn)}function handleDelete(tn,sn,un,dn){const pn=un.createTracker(dn),mn=un.enter("strikethrough");let hn=pn.move("~~");return hn+=un.containerPhrasing(tn,{...pn.current(),before:hn,after:"~"}),hn+=pn.move("~~"),mn(),hn}function peekDelete(){return"~"}function defaultStringLength(tn){return tn.length}function markdownTable(tn,sn){const un=sn||{},dn=(un.align||[]).concat(),pn=un.stringLength||defaultStringLength,mn=[],hn=[],fn=[],gn=[];let xn=0,yn=-1;for(;++yn<tn.length;){const Sn=[],Rn=[];let _n=-1;for(tn[yn].length>xn&&(xn=tn[yn].length);++_n<tn[yn].length;){const jn=serialize(tn[yn][_n]);if(un.alignDelimiters!==!1){const Cn=pn(jn);Rn[_n]=Cn,(gn[_n]===void 0||Cn>gn[_n])&&(gn[_n]=Cn)}Sn.push(jn)}hn[yn]=Sn,fn[yn]=Rn}let vn=-1;if(typeof dn=="object"&&"length"in dn)for(;++vn<xn;)mn[vn]=toAlignment(dn[vn]);else{const Sn=toAlignment(dn);for(;++vn<xn;)mn[vn]=Sn}vn=-1;const En=[],bn=[];for(;++vn<xn;){const Sn=mn[vn];let Rn="",_n="";Sn===99?(Rn=":",_n=":"):Sn===108?Rn=":":Sn===114&&(_n=":");let jn=un.alignDelimiters===!1?1:Math.max(1,gn[vn]-Rn.length-_n.length);const Cn=Rn+"-".repeat(jn)+_n;un.alignDelimiters!==!1&&(jn=Rn.length+jn+_n.length,jn>gn[vn]&&(gn[vn]=jn),bn[vn]=jn),En[vn]=Cn}hn.splice(1,0,En),fn.splice(1,0,bn),yn=-1;const wn=[];for(;++yn<hn.length;){const Sn=hn[yn],Rn=fn[yn];vn=-1;const _n=[];for(;++vn<xn;){const jn=Sn[vn]||"";let Cn="",An="";if(un.alignDelimiters!==!1){const Tn=gn[vn]-(Rn[vn]||0),$n=mn[vn];$n===114?Cn=" ".repeat(Tn):$n===99?Tn%2?(Cn=" ".repeat(Tn/2+.5),An=" ".repeat(Tn/2-.5)):(Cn=" ".repeat(Tn/2),An=Cn):An=" ".repeat(Tn)}un.delimiterStart!==!1&&!vn&&_n.push("|"),un.padding!==!1&&!(un.alignDelimiters===!1&&jn==="")&&(un.delimiterStart!==!1||vn)&&_n.push(" "),un.alignDelimiters!==!1&&_n.push(Cn),_n.push(jn),un.alignDelimiters!==!1&&_n.push(An),un.padding!==!1&&_n.push(" "),(un.delimiterEnd!==!1||vn!==xn-1)&&_n.push("|")}wn.push(un.delimiterEnd===!1?_n.join("").replace(/ +$/,""):_n.join(""))}return wn.join(`
`)}function serialize(tn){return tn==null?"":String(tn)}function toAlignment(tn){const sn=typeof tn=="string"?tn.codePointAt(0):0;return sn===67||sn===99?99:sn===76||sn===108?108:sn===82||sn===114?114:0}function blockquote(tn,sn,un,dn){const pn=un.enter("blockquote"),mn=un.createTracker(dn);mn.move("> "),mn.shift(2);const hn=un.indentLines(un.containerFlow(tn,mn.current()),map$1);return pn(),hn}function map$1(tn,sn,un){return">"+(un?"":" ")+tn}function patternInScope(tn,sn){return listInScope(tn,sn.inConstruct,!0)&&!listInScope(tn,sn.notInConstruct,!1)}function listInScope(tn,sn,un){if(typeof sn=="string"&&(sn=[sn]),!sn||sn.length===0)return un;let dn=-1;for(;++dn<sn.length;)if(tn.includes(sn[dn]))return!0;return!1}function hardBreak(tn,sn,un,dn){let pn=-1;for(;++pn<un.unsafe.length;)if(un.unsafe[pn].character===`
`&&patternInScope(un.stack,un.unsafe[pn]))return/[ \t]/.test(dn.before)?"":" ";return`\\
`}function longestStreak(tn,sn){const un=String(tn);let dn=un.indexOf(sn),pn=dn,mn=0,hn=0;if(typeof sn!="string")throw new TypeError("Expected substring");for(;dn!==-1;)dn===pn?++mn>hn&&(hn=mn):mn=1,pn=dn+sn.length,dn=un.indexOf(sn,pn);return hn}function formatCodeAsIndented(tn,sn){return!!(sn.options.fences===!1&&tn.value&&!tn.lang&&/[^ \r\n]/.test(tn.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(tn.value))}function checkFence(tn){const sn=tn.options.fence||"`";if(sn!=="`"&&sn!=="~")throw new Error("Cannot serialize code with `"+sn+"` for `options.fence`, expected `` ` `` or `~`");return sn}function code$1(tn,sn,un,dn){const pn=checkFence(un),mn=tn.value||"",hn=pn==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(tn,un)){const vn=un.enter("codeIndented"),En=un.indentLines(mn,map);return vn(),En}const fn=un.createTracker(dn),gn=pn.repeat(Math.max(longestStreak(mn,pn)+1,3)),xn=un.enter("codeFenced");let yn=fn.move(gn);if(tn.lang){const vn=un.enter(`codeFencedLang${hn}`);yn+=fn.move(un.safe(tn.lang,{before:yn,after:" ",encode:["`"],...fn.current()})),vn()}if(tn.lang&&tn.meta){const vn=un.enter(`codeFencedMeta${hn}`);yn+=fn.move(" "),yn+=fn.move(un.safe(tn.meta,{before:yn,after:`
`,encode:["`"],...fn.current()})),vn()}return yn+=fn.move(`
`),mn&&(yn+=fn.move(mn+`
`)),yn+=fn.move(gn),xn(),yn}function map(tn,sn,un){return(un?"":"    ")+tn}function checkQuote(tn){const sn=tn.options.quote||'"';if(sn!=='"'&&sn!=="'")throw new Error("Cannot serialize title with `"+sn+"` for `options.quote`, expected `\"`, or `'`");return sn}function definition(tn,sn,un,dn){const pn=checkQuote(un),mn=pn==='"'?"Quote":"Apostrophe",hn=un.enter("definition");let fn=un.enter("label");const gn=un.createTracker(dn);let xn=gn.move("[");return xn+=gn.move(un.safe(un.associationId(tn),{before:xn,after:"]",...gn.current()})),xn+=gn.move("]: "),fn(),!tn.url||/[\0- \u007F]/.test(tn.url)?(fn=un.enter("destinationLiteral"),xn+=gn.move("<"),xn+=gn.move(un.safe(tn.url,{before:xn,after:">",...gn.current()})),xn+=gn.move(">")):(fn=un.enter("destinationRaw"),xn+=gn.move(un.safe(tn.url,{before:xn,after:tn.title?" ":`
`,...gn.current()}))),fn(),tn.title&&(fn=un.enter(`title${mn}`),xn+=gn.move(" "+pn),xn+=gn.move(un.safe(tn.title,{before:xn,after:pn,...gn.current()})),xn+=gn.move(pn),fn()),hn(),xn}function checkEmphasis(tn){const sn=tn.options.emphasis||"*";if(sn!=="*"&&sn!=="_")throw new Error("Cannot serialize emphasis with `"+sn+"` for `options.emphasis`, expected `*`, or `_`");return sn}function encodeCharacterReference(tn){return"&#x"+tn.toString(16).toUpperCase()+";"}function encodeInfo(tn,sn,un){const dn=classifyCharacter(tn),pn=classifyCharacter(sn);return dn===void 0?pn===void 0?un==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:pn===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:dn===1?pn===void 0?{inside:!1,outside:!1}:pn===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:pn===void 0?{inside:!1,outside:!1}:pn===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(tn,sn,un,dn){const pn=checkEmphasis(un),mn=un.enter("emphasis"),hn=un.createTracker(dn),fn=hn.move(pn);let gn=hn.move(un.containerPhrasing(tn,{after:pn,before:fn,...hn.current()}));const xn=gn.charCodeAt(0),yn=encodeInfo(dn.before.charCodeAt(dn.before.length-1),xn,pn);yn.inside&&(gn=encodeCharacterReference(xn)+gn.slice(1));const vn=gn.charCodeAt(gn.length-1),En=encodeInfo(dn.after.charCodeAt(0),vn,pn);En.inside&&(gn=gn.slice(0,-1)+encodeCharacterReference(vn));const bn=hn.move(pn);return mn(),un.attentionEncodeSurroundingInfo={after:En.outside,before:yn.outside},fn+gn+bn}function emphasisPeek(tn,sn,un){return un.options.emphasis||"*"}function formatHeadingAsSetext(tn,sn){let un=!1;return visit(tn,function(dn){if("value"in dn&&/\r?\n|\r/.test(dn.value)||dn.type==="break")return un=!0,EXIT}),!!((!tn.depth||tn.depth<3)&&toString$1(tn)&&(sn.options.setext||un))}function heading(tn,sn,un,dn){const pn=Math.max(Math.min(6,tn.depth||1),1),mn=un.createTracker(dn);if(formatHeadingAsSetext(tn,un)){const yn=un.enter("headingSetext"),vn=un.enter("phrasing"),En=un.containerPhrasing(tn,{...mn.current(),before:`
`,after:`
`});return vn(),yn(),En+`
`+(pn===1?"=":"-").repeat(En.length-(Math.max(En.lastIndexOf("\r"),En.lastIndexOf(`
`))+1))}const hn="#".repeat(pn),fn=un.enter("headingAtx"),gn=un.enter("phrasing");mn.move(hn+" ");let xn=un.containerPhrasing(tn,{before:"# ",after:`
`,...mn.current()});return/^[\t ]/.test(xn)&&(xn=encodeCharacterReference(xn.charCodeAt(0))+xn.slice(1)),xn=xn?hn+" "+xn:hn,un.options.closeAtx&&(xn+=" "+hn),gn(),fn(),xn}html.peek=htmlPeek;function html(tn){return tn.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(tn,sn,un,dn){const pn=checkQuote(un),mn=pn==='"'?"Quote":"Apostrophe",hn=un.enter("image");let fn=un.enter("label");const gn=un.createTracker(dn);let xn=gn.move("![");return xn+=gn.move(un.safe(tn.alt,{before:xn,after:"]",...gn.current()})),xn+=gn.move("]("),fn(),!tn.url&&tn.title||/[\0- \u007F]/.test(tn.url)?(fn=un.enter("destinationLiteral"),xn+=gn.move("<"),xn+=gn.move(un.safe(tn.url,{before:xn,after:">",...gn.current()})),xn+=gn.move(">")):(fn=un.enter("destinationRaw"),xn+=gn.move(un.safe(tn.url,{before:xn,after:tn.title?" ":")",...gn.current()}))),fn(),tn.title&&(fn=un.enter(`title${mn}`),xn+=gn.move(" "+pn),xn+=gn.move(un.safe(tn.title,{before:xn,after:pn,...gn.current()})),xn+=gn.move(pn),fn()),xn+=gn.move(")"),hn(),xn}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(tn,sn,un,dn){const pn=tn.referenceType,mn=un.enter("imageReference");let hn=un.enter("label");const fn=un.createTracker(dn);let gn=fn.move("![");const xn=un.safe(tn.alt,{before:gn,after:"]",...fn.current()});gn+=fn.move(xn+"]["),hn();const yn=un.stack;un.stack=[],hn=un.enter("reference");const vn=un.safe(un.associationId(tn),{before:gn,after:"]",...fn.current()});return hn(),un.stack=yn,mn(),pn==="full"||!xn||xn!==vn?gn+=fn.move(vn+"]"):pn==="shortcut"?gn=gn.slice(0,-1):gn+=fn.move("]"),gn}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(tn,sn,un){let dn=tn.value||"",pn="`",mn=-1;for(;new RegExp("(^|[^`])"+pn+"([^`]|$)").test(dn);)pn+="`";for(/[^ \r\n]/.test(dn)&&(/^[ \r\n]/.test(dn)&&/[ \r\n]$/.test(dn)||/^`|`$/.test(dn))&&(dn=" "+dn+" ");++mn<un.unsafe.length;){const hn=un.unsafe[mn],fn=un.compilePattern(hn);let gn;if(hn.atBreak)for(;gn=fn.exec(dn);){let xn=gn.index;dn.charCodeAt(xn)===10&&dn.charCodeAt(xn-1)===13&&xn--,dn=dn.slice(0,xn)+" "+dn.slice(gn.index+1)}}return pn+dn+pn}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(tn,sn){const un=toString$1(tn);return!!(!sn.options.resourceLink&&tn.url&&!tn.title&&tn.children&&tn.children.length===1&&tn.children[0].type==="text"&&(un===tn.url||"mailto:"+un===tn.url)&&/^[a-z][a-z+.-]+:/i.test(tn.url)&&!/[\0- <>\u007F]/.test(tn.url))}link.peek=linkPeek;function link(tn,sn,un,dn){const pn=checkQuote(un),mn=pn==='"'?"Quote":"Apostrophe",hn=un.createTracker(dn);let fn,gn;if(formatLinkAsAutolink(tn,un)){const yn=un.stack;un.stack=[],fn=un.enter("autolink");let vn=hn.move("<");return vn+=hn.move(un.containerPhrasing(tn,{before:vn,after:">",...hn.current()})),vn+=hn.move(">"),fn(),un.stack=yn,vn}fn=un.enter("link"),gn=un.enter("label");let xn=hn.move("[");return xn+=hn.move(un.containerPhrasing(tn,{before:xn,after:"](",...hn.current()})),xn+=hn.move("]("),gn(),!tn.url&&tn.title||/[\0- \u007F]/.test(tn.url)?(gn=un.enter("destinationLiteral"),xn+=hn.move("<"),xn+=hn.move(un.safe(tn.url,{before:xn,after:">",...hn.current()})),xn+=hn.move(">")):(gn=un.enter("destinationRaw"),xn+=hn.move(un.safe(tn.url,{before:xn,after:tn.title?" ":")",...hn.current()}))),gn(),tn.title&&(gn=un.enter(`title${mn}`),xn+=hn.move(" "+pn),xn+=hn.move(un.safe(tn.title,{before:xn,after:pn,...hn.current()})),xn+=hn.move(pn),gn()),xn+=hn.move(")"),fn(),xn}function linkPeek(tn,sn,un){return formatLinkAsAutolink(tn,un)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(tn,sn,un,dn){const pn=tn.referenceType,mn=un.enter("linkReference");let hn=un.enter("label");const fn=un.createTracker(dn);let gn=fn.move("[");const xn=un.containerPhrasing(tn,{before:gn,after:"]",...fn.current()});gn+=fn.move(xn+"]["),hn();const yn=un.stack;un.stack=[],hn=un.enter("reference");const vn=un.safe(un.associationId(tn),{before:gn,after:"]",...fn.current()});return hn(),un.stack=yn,mn(),pn==="full"||!xn||xn!==vn?gn+=fn.move(vn+"]"):pn==="shortcut"?gn=gn.slice(0,-1):gn+=fn.move("]"),gn}function linkReferencePeek(){return"["}function checkBullet(tn){const sn=tn.options.bullet||"*";if(sn!=="*"&&sn!=="+"&&sn!=="-")throw new Error("Cannot serialize items with `"+sn+"` for `options.bullet`, expected `*`, `+`, or `-`");return sn}function checkBulletOther(tn){const sn=checkBullet(tn),un=tn.options.bulletOther;if(!un)return sn==="*"?"-":"*";if(un!=="*"&&un!=="+"&&un!=="-")throw new Error("Cannot serialize items with `"+un+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(un===sn)throw new Error("Expected `bullet` (`"+sn+"`) and `bulletOther` (`"+un+"`) to be different");return un}function checkBulletOrdered(tn){const sn=tn.options.bulletOrdered||".";if(sn!=="."&&sn!==")")throw new Error("Cannot serialize items with `"+sn+"` for `options.bulletOrdered`, expected `.` or `)`");return sn}function checkRule(tn){const sn=tn.options.rule||"*";if(sn!=="*"&&sn!=="-"&&sn!=="_")throw new Error("Cannot serialize rules with `"+sn+"` for `options.rule`, expected `*`, `-`, or `_`");return sn}function list(tn,sn,un,dn){const pn=un.enter("list"),mn=un.bulletCurrent;let hn=tn.ordered?checkBulletOrdered(un):checkBullet(un);const fn=tn.ordered?hn==="."?")":".":checkBulletOther(un);let gn=sn&&un.bulletLastUsed?hn===un.bulletLastUsed:!1;if(!tn.ordered){const yn=tn.children?tn.children[0]:void 0;if((hn==="*"||hn==="-")&&yn&&(!yn.children||!yn.children[0])&&un.stack[un.stack.length-1]==="list"&&un.stack[un.stack.length-2]==="listItem"&&un.stack[un.stack.length-3]==="list"&&un.stack[un.stack.length-4]==="listItem"&&un.indexStack[un.indexStack.length-1]===0&&un.indexStack[un.indexStack.length-2]===0&&un.indexStack[un.indexStack.length-3]===0&&(gn=!0),checkRule(un)===hn&&yn){let vn=-1;for(;++vn<tn.children.length;){const En=tn.children[vn];if(En&&En.type==="listItem"&&En.children&&En.children[0]&&En.children[0].type==="thematicBreak"){gn=!0;break}}}}gn&&(hn=fn),un.bulletCurrent=hn;const xn=un.containerFlow(tn,dn);return un.bulletLastUsed=hn,un.bulletCurrent=mn,pn(),xn}function checkListItemIndent(tn){const sn=tn.options.listItemIndent||"one";if(sn!=="tab"&&sn!=="one"&&sn!=="mixed")throw new Error("Cannot serialize items with `"+sn+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return sn}function listItem(tn,sn,un,dn){const pn=checkListItemIndent(un);let mn=un.bulletCurrent||checkBullet(un);sn&&sn.type==="list"&&sn.ordered&&(mn=(typeof sn.start=="number"&&sn.start>-1?sn.start:1)+(un.options.incrementListMarker===!1?0:sn.children.indexOf(tn))+mn);let hn=mn.length+1;(pn==="tab"||pn==="mixed"&&(sn&&sn.type==="list"&&sn.spread||tn.spread))&&(hn=Math.ceil(hn/4)*4);const fn=un.createTracker(dn);fn.move(mn+" ".repeat(hn-mn.length)),fn.shift(hn);const gn=un.enter("listItem"),xn=un.indentLines(un.containerFlow(tn,fn.current()),yn);return gn(),xn;function yn(vn,En,bn){return En?(bn?"":" ".repeat(hn))+vn:(bn?mn:mn+" ".repeat(hn-mn.length))+vn}}function paragraph(tn,sn,un,dn){const pn=un.enter("paragraph"),mn=un.enter("phrasing"),hn=un.containerPhrasing(tn,dn);return mn(),pn(),hn}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(tn,sn,un,dn){return(tn.children.some(function(hn){return phrasing(hn)})?un.containerPhrasing:un.containerFlow).call(un,tn,dn)}function checkStrong(tn){const sn=tn.options.strong||"*";if(sn!=="*"&&sn!=="_")throw new Error("Cannot serialize strong with `"+sn+"` for `options.strong`, expected `*`, or `_`");return sn}strong.peek=strongPeek;function strong(tn,sn,un,dn){const pn=checkStrong(un),mn=un.enter("strong"),hn=un.createTracker(dn),fn=hn.move(pn+pn);let gn=hn.move(un.containerPhrasing(tn,{after:pn,before:fn,...hn.current()}));const xn=gn.charCodeAt(0),yn=encodeInfo(dn.before.charCodeAt(dn.before.length-1),xn,pn);yn.inside&&(gn=encodeCharacterReference(xn)+gn.slice(1));const vn=gn.charCodeAt(gn.length-1),En=encodeInfo(dn.after.charCodeAt(0),vn,pn);En.inside&&(gn=gn.slice(0,-1)+encodeCharacterReference(vn));const bn=hn.move(pn+pn);return mn(),un.attentionEncodeSurroundingInfo={after:En.outside,before:yn.outside},fn+gn+bn}function strongPeek(tn,sn,un){return un.options.strong||"*"}function text$1(tn,sn,un,dn){return un.safe(tn.value,dn)}function checkRuleRepetition(tn){const sn=tn.options.ruleRepetition||3;if(sn<3)throw new Error("Cannot serialize rules with repetition `"+sn+"` for `options.ruleRepetition`, expected `3` or more");return sn}function thematicBreak(tn,sn,un){const dn=(checkRule(un)+(un.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(un));return un.options.ruleSpaces?dn.slice(0,-1):dn}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(tn){const sn=tn._align;this.enter({type:"table",align:sn.map(function(un){return un==="none"?null:un}),children:[]},tn),this.data.inTable=!0}function exitTable(tn){this.exit(tn),this.data.inTable=void 0}function enterRow(tn){this.enter({type:"tableRow",children:[]},tn)}function exit(tn){this.exit(tn)}function enterCell(tn){this.enter({type:"tableCell",children:[]},tn)}function exitCodeText(tn){let sn=this.resume();this.data.inTable&&(sn=sn.replace(/\\([\\|])/g,replace));const un=this.stack[this.stack.length-1];un.type,un.value=sn,this.exit(tn)}function replace(tn,sn){return sn==="|"?sn:tn}function gfmTableToMarkdown(tn){const sn=tn||{},un=sn.tableCellPadding,dn=sn.tablePipeAlign,pn=sn.stringLength,mn=un?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:En,table:hn,tableCell:gn,tableRow:fn}};function hn(bn,wn,Sn,Rn){return xn(yn(bn,Sn,Rn),bn.align)}function fn(bn,wn,Sn,Rn){const _n=vn(bn,Sn,Rn),jn=xn([_n]);return jn.slice(0,jn.indexOf(`
`))}function gn(bn,wn,Sn,Rn){const _n=Sn.enter("tableCell"),jn=Sn.enter("phrasing"),Cn=Sn.containerPhrasing(bn,{...Rn,before:mn,after:mn});return jn(),_n(),Cn}function xn(bn,wn){return markdownTable(bn,{align:wn,alignDelimiters:dn,padding:un,stringLength:pn})}function yn(bn,wn,Sn){const Rn=bn.children;let _n=-1;const jn=[],Cn=wn.enter("table");for(;++_n<Rn.length;)jn[_n]=vn(Rn[_n],wn,Sn);return Cn(),jn}function vn(bn,wn,Sn){const Rn=bn.children;let _n=-1;const jn=[],Cn=wn.enter("tableRow");for(;++_n<Rn.length;)jn[_n]=gn(Rn[_n],bn,wn,Sn);return Cn(),jn}function En(bn,wn,Sn){let Rn=handle.inlineCode(bn,wn,Sn);return Sn.stack.includes("tableCell")&&(Rn=Rn.replace(/\|/g,"\\$&")),Rn}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(tn){const sn=this.stack[this.stack.length-2];sn.type,sn.checked=tn.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(tn){const sn=this.stack[this.stack.length-2];if(sn&&sn.type==="listItem"&&typeof sn.checked=="boolean"){const un=this.stack[this.stack.length-1];un.type;const dn=un.children[0];if(dn&&dn.type==="text"){const pn=sn.children;let mn=-1,hn;for(;++mn<pn.length;){const fn=pn[mn];if(fn.type==="paragraph"){hn=fn;break}}hn===un&&(dn.value=dn.value.slice(1),dn.value.length===0?un.children.shift():un.position&&dn.position&&typeof dn.position.start.offset=="number"&&(dn.position.start.column++,dn.position.start.offset++,un.position.start=Object.assign({},dn.position.start)))}}this.exit(tn)}function listItemWithTaskListItem(tn,sn,un,dn){const pn=tn.children[0],mn=typeof tn.checked=="boolean"&&pn&&pn.type==="paragraph",hn="["+(tn.checked?"x":" ")+"] ",fn=un.createTracker(dn);mn&&fn.move(hn);let gn=handle.listItem(tn,sn,un,{...dn,...fn.current()});return mn&&(gn=gn.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,xn)),gn;function xn(yn){return yn+hn}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(tn){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(tn),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(tn),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(tn,sn,un){const dn=this;let pn,mn;return hn;function hn(vn){return!gfmAtext(vn)||!previousEmail.call(dn,dn.previous)||previousUnbalanced(dn.events)?un(vn):(tn.enter("literalAutolink"),tn.enter("literalAutolinkEmail"),fn(vn))}function fn(vn){return gfmAtext(vn)?(tn.consume(vn),fn):vn===64?(tn.consume(vn),gn):un(vn)}function gn(vn){return vn===46?tn.check(emailDomainDotTrail,yn,xn)(vn):vn===45||vn===95||asciiAlphanumeric(vn)?(mn=!0,tn.consume(vn),gn):yn(vn)}function xn(vn){return tn.consume(vn),pn=!0,gn}function yn(vn){return mn&&pn&&asciiAlpha(dn.previous)?(tn.exit("literalAutolinkEmail"),tn.exit("literalAutolink"),sn(vn)):un(vn)}}function tokenizeWwwAutolink(tn,sn,un){const dn=this;return pn;function pn(hn){return hn!==87&&hn!==119||!previousWww.call(dn,dn.previous)||previousUnbalanced(dn.events)?un(hn):(tn.enter("literalAutolink"),tn.enter("literalAutolinkWww"),tn.check(wwwPrefix,tn.attempt(domain,tn.attempt(path,mn),un),un)(hn))}function mn(hn){return tn.exit("literalAutolinkWww"),tn.exit("literalAutolink"),sn(hn)}}function tokenizeProtocolAutolink(tn,sn,un){const dn=this;let pn="",mn=!1;return hn;function hn(vn){return(vn===72||vn===104)&&previousProtocol.call(dn,dn.previous)&&!previousUnbalanced(dn.events)?(tn.enter("literalAutolink"),tn.enter("literalAutolinkHttp"),pn+=String.fromCodePoint(vn),tn.consume(vn),fn):un(vn)}function fn(vn){if(asciiAlpha(vn)&&pn.length<5)return pn+=String.fromCodePoint(vn),tn.consume(vn),fn;if(vn===58){const En=pn.toLowerCase();if(En==="http"||En==="https")return tn.consume(vn),gn}return un(vn)}function gn(vn){return vn===47?(tn.consume(vn),mn?xn:(mn=!0,gn)):un(vn)}function xn(vn){return vn===null||asciiControl(vn)||markdownLineEndingOrSpace(vn)||unicodeWhitespace(vn)||unicodePunctuation(vn)?un(vn):tn.attempt(domain,tn.attempt(path,yn),un)(vn)}function yn(vn){return tn.exit("literalAutolinkHttp"),tn.exit("literalAutolink"),sn(vn)}}function tokenizeWwwPrefix(tn,sn,un){let dn=0;return pn;function pn(hn){return(hn===87||hn===119)&&dn<3?(dn++,tn.consume(hn),pn):hn===46&&dn===3?(tn.consume(hn),mn):un(hn)}function mn(hn){return hn===null?un(hn):sn(hn)}}function tokenizeDomain(tn,sn,un){let dn,pn,mn;return hn;function hn(xn){return xn===46||xn===95?tn.check(trail,gn,fn)(xn):xn===null||markdownLineEndingOrSpace(xn)||unicodeWhitespace(xn)||xn!==45&&unicodePunctuation(xn)?gn(xn):(mn=!0,tn.consume(xn),hn)}function fn(xn){return xn===95?dn=!0:(pn=dn,dn=void 0),tn.consume(xn),hn}function gn(xn){return pn||dn||!mn?un(xn):sn(xn)}}function tokenizePath(tn,sn){let un=0,dn=0;return pn;function pn(hn){return hn===40?(un++,tn.consume(hn),pn):hn===41&&dn<un?mn(hn):hn===33||hn===34||hn===38||hn===39||hn===41||hn===42||hn===44||hn===46||hn===58||hn===59||hn===60||hn===63||hn===93||hn===95||hn===126?tn.check(trail,sn,mn)(hn):hn===null||markdownLineEndingOrSpace(hn)||unicodeWhitespace(hn)?sn(hn):(tn.consume(hn),pn)}function mn(hn){return hn===41&&dn++,tn.consume(hn),pn}}function tokenizeTrail(tn,sn,un){return dn;function dn(fn){return fn===33||fn===34||fn===39||fn===41||fn===42||fn===44||fn===46||fn===58||fn===59||fn===63||fn===95||fn===126?(tn.consume(fn),dn):fn===38?(tn.consume(fn),mn):fn===93?(tn.consume(fn),pn):fn===60||fn===null||markdownLineEndingOrSpace(fn)||unicodeWhitespace(fn)?sn(fn):un(fn)}function pn(fn){return fn===null||fn===40||fn===91||markdownLineEndingOrSpace(fn)||unicodeWhitespace(fn)?sn(fn):dn(fn)}function mn(fn){return asciiAlpha(fn)?hn(fn):un(fn)}function hn(fn){return fn===59?(tn.consume(fn),dn):asciiAlpha(fn)?(tn.consume(fn),hn):un(fn)}}function tokenizeEmailDomainDotTrail(tn,sn,un){return dn;function dn(mn){return tn.consume(mn),pn}function pn(mn){return asciiAlphanumeric(mn)?un(mn):sn(mn)}}function previousWww(tn){return tn===null||tn===40||tn===42||tn===95||tn===91||tn===93||tn===126||markdownLineEndingOrSpace(tn)}function previousProtocol(tn){return!asciiAlpha(tn)}function previousEmail(tn){return!(tn===47||gfmAtext(tn))}function gfmAtext(tn){return tn===43||tn===45||tn===46||tn===95||asciiAlphanumeric(tn)}function previousUnbalanced(tn){let sn=tn.length,un=!1;for(;sn--;){const dn=tn[sn][1];if((dn.type==="labelLink"||dn.type==="labelImage")&&!dn._balanced){un=!0;break}if(dn._gfmAutolinkLiteralWalkedInto){un=!1;break}}return tn.length>0&&!un&&(tn[tn.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),un}const indent={tokenize:tokenizeIndent,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(tn,sn,un){const dn=this;let pn=dn.events.length;const mn=dn.parser.gfmFootnotes||(dn.parser.gfmFootnotes=[]);let hn;for(;pn--;){const gn=dn.events[pn][1];if(gn.type==="labelImage"){hn=gn;break}if(gn.type==="gfmFootnoteCall"||gn.type==="labelLink"||gn.type==="label"||gn.type==="image"||gn.type==="link")break}return fn;function fn(gn){if(!hn||!hn._balanced)return un(gn);const xn=normalizeIdentifier(dn.sliceSerialize({start:hn.end,end:dn.now()}));return xn.codePointAt(0)!==94||!mn.includes(xn.slice(1))?un(gn):(tn.enter("gfmFootnoteCallLabelMarker"),tn.consume(gn),tn.exit("gfmFootnoteCallLabelMarker"),sn(gn))}}function resolveToPotentialGfmFootnoteCall(tn,sn){let un=tn.length;for(;un--;)if(tn[un][1].type==="labelImage"&&tn[un][0]==="enter"){tn[un][1];break}tn[un+1][1].type="data",tn[un+3][1].type="gfmFootnoteCallLabelMarker";const dn={type:"gfmFootnoteCall",start:Object.assign({},tn[un+3][1].start),end:Object.assign({},tn[tn.length-1][1].end)},pn={type:"gfmFootnoteCallMarker",start:Object.assign({},tn[un+3][1].end),end:Object.assign({},tn[un+3][1].end)};pn.end.column++,pn.end.offset++,pn.end._bufferIndex++;const mn={type:"gfmFootnoteCallString",start:Object.assign({},pn.end),end:Object.assign({},tn[tn.length-1][1].start)},hn={type:"chunkString",contentType:"string",start:Object.assign({},mn.start),end:Object.assign({},mn.end)},fn=[tn[un+1],tn[un+2],["enter",dn,sn],tn[un+3],tn[un+4],["enter",pn,sn],["exit",pn,sn],["enter",mn,sn],["enter",hn,sn],["exit",hn,sn],["exit",mn,sn],tn[tn.length-2],tn[tn.length-1],["exit",dn,sn]];return tn.splice(un,tn.length-un+1,...fn),tn}function tokenizeGfmFootnoteCall(tn,sn,un){const dn=this,pn=dn.parser.gfmFootnotes||(dn.parser.gfmFootnotes=[]);let mn=0,hn;return fn;function fn(vn){return tn.enter("gfmFootnoteCall"),tn.enter("gfmFootnoteCallLabelMarker"),tn.consume(vn),tn.exit("gfmFootnoteCallLabelMarker"),gn}function gn(vn){return vn!==94?un(vn):(tn.enter("gfmFootnoteCallMarker"),tn.consume(vn),tn.exit("gfmFootnoteCallMarker"),tn.enter("gfmFootnoteCallString"),tn.enter("chunkString").contentType="string",xn)}function xn(vn){if(mn>999||vn===93&&!hn||vn===null||vn===91||markdownLineEndingOrSpace(vn))return un(vn);if(vn===93){tn.exit("chunkString");const En=tn.exit("gfmFootnoteCallString");return pn.includes(normalizeIdentifier(dn.sliceSerialize(En)))?(tn.enter("gfmFootnoteCallLabelMarker"),tn.consume(vn),tn.exit("gfmFootnoteCallLabelMarker"),tn.exit("gfmFootnoteCall"),sn):un(vn)}return markdownLineEndingOrSpace(vn)||(hn=!0),mn++,tn.consume(vn),vn===92?yn:xn}function yn(vn){return vn===91||vn===92||vn===93?(tn.consume(vn),mn++,xn):xn(vn)}}function tokenizeDefinitionStart(tn,sn,un){const dn=this,pn=dn.parser.gfmFootnotes||(dn.parser.gfmFootnotes=[]);let mn,hn=0,fn;return gn;function gn(wn){return tn.enter("gfmFootnoteDefinition")._container=!0,tn.enter("gfmFootnoteDefinitionLabel"),tn.enter("gfmFootnoteDefinitionLabelMarker"),tn.consume(wn),tn.exit("gfmFootnoteDefinitionLabelMarker"),xn}function xn(wn){return wn===94?(tn.enter("gfmFootnoteDefinitionMarker"),tn.consume(wn),tn.exit("gfmFootnoteDefinitionMarker"),tn.enter("gfmFootnoteDefinitionLabelString"),tn.enter("chunkString").contentType="string",yn):un(wn)}function yn(wn){if(hn>999||wn===93&&!fn||wn===null||wn===91||markdownLineEndingOrSpace(wn))return un(wn);if(wn===93){tn.exit("chunkString");const Sn=tn.exit("gfmFootnoteDefinitionLabelString");return mn=normalizeIdentifier(dn.sliceSerialize(Sn)),tn.enter("gfmFootnoteDefinitionLabelMarker"),tn.consume(wn),tn.exit("gfmFootnoteDefinitionLabelMarker"),tn.exit("gfmFootnoteDefinitionLabel"),En}return markdownLineEndingOrSpace(wn)||(fn=!0),hn++,tn.consume(wn),wn===92?vn:yn}function vn(wn){return wn===91||wn===92||wn===93?(tn.consume(wn),hn++,yn):yn(wn)}function En(wn){return wn===58?(tn.enter("definitionMarker"),tn.consume(wn),tn.exit("definitionMarker"),pn.includes(mn)||pn.push(mn),factorySpace(tn,bn,"gfmFootnoteDefinitionWhitespace")):un(wn)}function bn(wn){return sn(wn)}}function tokenizeDefinitionContinuation(tn,sn,un){return tn.check(blankLine,sn,tn.attempt(indent,sn,un))}function gfmFootnoteDefinitionEnd(tn){tn.exit("gfmFootnoteDefinition")}function tokenizeIndent(tn,sn,un){const dn=this;return factorySpace(tn,pn,"gfmFootnoteDefinitionIndent",5);function pn(mn){const hn=dn.events[dn.events.length-1];return hn&&hn[1].type==="gfmFootnoteDefinitionIndent"&&hn[2].sliceSerialize(hn[1],!0).length===4?sn(mn):un(mn)}}function gfmStrikethrough(tn){let un=(tn||{}).singleTilde;const dn={name:"strikethrough",tokenize:mn,resolveAll:pn};return un==null&&(un=!0),{text:{126:dn},insideSpan:{null:[dn]},attentionMarkers:{null:[126]}};function pn(hn,fn){let gn=-1;for(;++gn<hn.length;)if(hn[gn][0]==="enter"&&hn[gn][1].type==="strikethroughSequenceTemporary"&&hn[gn][1]._close){let xn=gn;for(;xn--;)if(hn[xn][0]==="exit"&&hn[xn][1].type==="strikethroughSequenceTemporary"&&hn[xn][1]._open&&hn[gn][1].end.offset-hn[gn][1].start.offset===hn[xn][1].end.offset-hn[xn][1].start.offset){hn[gn][1].type="strikethroughSequence",hn[xn][1].type="strikethroughSequence";const yn={type:"strikethrough",start:Object.assign({},hn[xn][1].start),end:Object.assign({},hn[gn][1].end)},vn={type:"strikethroughText",start:Object.assign({},hn[xn][1].end),end:Object.assign({},hn[gn][1].start)},En=[["enter",yn,fn],["enter",hn[xn][1],fn],["exit",hn[xn][1],fn],["enter",vn,fn]],bn=fn.parser.constructs.insideSpan.null;bn&&splice(En,En.length,0,resolveAll(bn,hn.slice(xn+1,gn),fn)),splice(En,En.length,0,[["exit",vn,fn],["enter",hn[gn][1],fn],["exit",hn[gn][1],fn],["exit",yn,fn]]),splice(hn,xn-1,gn-xn+3,En),gn=xn+En.length-2;break}}for(gn=-1;++gn<hn.length;)hn[gn][1].type==="strikethroughSequenceTemporary"&&(hn[gn][1].type="data");return hn}function mn(hn,fn,gn){const xn=this.previous,yn=this.events;let vn=0;return En;function En(wn){return xn===126&&yn[yn.length-1][1].type!=="characterEscape"?gn(wn):(hn.enter("strikethroughSequenceTemporary"),bn(wn))}function bn(wn){const Sn=classifyCharacter(xn);if(wn===126)return vn>1?gn(wn):(hn.consume(wn),vn++,bn);if(vn<2&&!un)return gn(wn);const Rn=hn.exit("strikethroughSequenceTemporary"),_n=classifyCharacter(wn);return Rn._open=!_n||_n===2&&!!Sn,Rn._close=!Sn||Sn===2&&!!_n,fn(wn)}}}class EditMap{constructor(){this.map=[]}add(sn,un,dn){addImplementation(this,sn,un,dn)}consume(sn){if(this.map.sort(function(mn,hn){return mn[0]-hn[0]}),this.map.length===0)return;let un=this.map.length;const dn=[];for(;un>0;)un-=1,dn.push(sn.slice(this.map[un][0]+this.map[un][1]),this.map[un][2]),sn.length=this.map[un][0];dn.push(sn.slice()),sn.length=0;let pn=dn.pop();for(;pn;){for(const mn of pn)sn.push(mn);pn=dn.pop()}this.map.length=0}}function addImplementation(tn,sn,un,dn){let pn=0;if(!(un===0&&dn.length===0)){for(;pn<tn.map.length;){if(tn.map[pn][0]===sn){tn.map[pn][1]+=un,tn.map[pn][2].push(...dn);return}pn+=1}tn.map.push([sn,un,dn])}}function gfmTableAlign(tn,sn){let un=!1;const dn=[];for(;sn<tn.length;){const pn=tn[sn];if(un){if(pn[0]==="enter")pn[1].type==="tableContent"&&dn.push(tn[sn+1][1].type==="tableDelimiterMarker"?"left":"none");else if(pn[1].type==="tableContent"){if(tn[sn-1][1].type==="tableDelimiterMarker"){const mn=dn.length-1;dn[mn]=dn[mn]==="left"?"center":"right"}}else if(pn[1].type==="tableDelimiterRow")break}else pn[0]==="enter"&&pn[1].type==="tableDelimiterRow"&&(un=!0);sn+=1}return dn}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(tn,sn,un){const dn=this;let pn=0,mn=0,hn;return fn;function fn(Pn){let Mn=dn.events.length-1;for(;Mn>-1;){const In=dn.events[Mn][1].type;if(In==="lineEnding"||In==="linePrefix")Mn--;else break}const On=Mn>-1?dn.events[Mn][1].type:null,Wn=On==="tableHead"||On==="tableRow"?$n:gn;return Wn===$n&&dn.parser.lazy[dn.now().line]?un(Pn):Wn(Pn)}function gn(Pn){return tn.enter("tableHead"),tn.enter("tableRow"),xn(Pn)}function xn(Pn){return Pn===124||(hn=!0,mn+=1),yn(Pn)}function yn(Pn){return Pn===null?un(Pn):markdownLineEnding(Pn)?mn>1?(mn=0,dn.interrupt=!0,tn.exit("tableRow"),tn.enter("lineEnding"),tn.consume(Pn),tn.exit("lineEnding"),bn):un(Pn):markdownSpace(Pn)?factorySpace(tn,yn,"whitespace")(Pn):(mn+=1,hn&&(hn=!1,pn+=1),Pn===124?(tn.enter("tableCellDivider"),tn.consume(Pn),tn.exit("tableCellDivider"),hn=!0,yn):(tn.enter("data"),vn(Pn)))}function vn(Pn){return Pn===null||Pn===124||markdownLineEndingOrSpace(Pn)?(tn.exit("data"),yn(Pn)):(tn.consume(Pn),Pn===92?En:vn)}function En(Pn){return Pn===92||Pn===124?(tn.consume(Pn),vn):vn(Pn)}function bn(Pn){return dn.interrupt=!1,dn.parser.lazy[dn.now().line]?un(Pn):(tn.enter("tableDelimiterRow"),hn=!1,markdownSpace(Pn)?factorySpace(tn,wn,"linePrefix",dn.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Pn):wn(Pn))}function wn(Pn){return Pn===45||Pn===58?Rn(Pn):Pn===124?(hn=!0,tn.enter("tableCellDivider"),tn.consume(Pn),tn.exit("tableCellDivider"),Sn):Tn(Pn)}function Sn(Pn){return markdownSpace(Pn)?factorySpace(tn,Rn,"whitespace")(Pn):Rn(Pn)}function Rn(Pn){return Pn===58?(mn+=1,hn=!0,tn.enter("tableDelimiterMarker"),tn.consume(Pn),tn.exit("tableDelimiterMarker"),_n):Pn===45?(mn+=1,_n(Pn)):Pn===null||markdownLineEnding(Pn)?An(Pn):Tn(Pn)}function _n(Pn){return Pn===45?(tn.enter("tableDelimiterFiller"),jn(Pn)):Tn(Pn)}function jn(Pn){return Pn===45?(tn.consume(Pn),jn):Pn===58?(hn=!0,tn.exit("tableDelimiterFiller"),tn.enter("tableDelimiterMarker"),tn.consume(Pn),tn.exit("tableDelimiterMarker"),Cn):(tn.exit("tableDelimiterFiller"),Cn(Pn))}function Cn(Pn){return markdownSpace(Pn)?factorySpace(tn,An,"whitespace")(Pn):An(Pn)}function An(Pn){return Pn===124?wn(Pn):Pn===null||markdownLineEnding(Pn)?!hn||pn!==mn?Tn(Pn):(tn.exit("tableDelimiterRow"),tn.exit("tableHead"),sn(Pn)):Tn(Pn)}function Tn(Pn){return un(Pn)}function $n(Pn){return tn.enter("tableRow"),Dn(Pn)}function Dn(Pn){return Pn===124?(tn.enter("tableCellDivider"),tn.consume(Pn),tn.exit("tableCellDivider"),Dn):Pn===null||markdownLineEnding(Pn)?(tn.exit("tableRow"),sn(Pn)):markdownSpace(Pn)?factorySpace(tn,Dn,"whitespace")(Pn):(tn.enter("data"),Nn(Pn))}function Nn(Pn){return Pn===null||Pn===124||markdownLineEndingOrSpace(Pn)?(tn.exit("data"),Dn(Pn)):(tn.consume(Pn),Pn===92?kn:Nn)}function kn(Pn){return Pn===92||Pn===124?(tn.consume(Pn),Nn):Nn(Pn)}}function resolveTable(tn,sn){let un=-1,dn=!0,pn=0,mn=[0,0,0,0],hn=[0,0,0,0],fn=!1,gn=0,xn,yn,vn;const En=new EditMap;for(;++un<tn.length;){const bn=tn[un],wn=bn[1];bn[0]==="enter"?wn.type==="tableHead"?(fn=!1,gn!==0&&(flushTableEnd(En,sn,gn,xn,yn),yn=void 0,gn=0),xn={type:"table",start:Object.assign({},wn.start),end:Object.assign({},wn.end)},En.add(un,0,[["enter",xn,sn]])):wn.type==="tableRow"||wn.type==="tableDelimiterRow"?(dn=!0,vn=void 0,mn=[0,0,0,0],hn=[0,un+1,0,0],fn&&(fn=!1,yn={type:"tableBody",start:Object.assign({},wn.start),end:Object.assign({},wn.end)},En.add(un,0,[["enter",yn,sn]])),pn=wn.type==="tableDelimiterRow"?2:yn?3:1):pn&&(wn.type==="data"||wn.type==="tableDelimiterMarker"||wn.type==="tableDelimiterFiller")?(dn=!1,hn[2]===0&&(mn[1]!==0&&(hn[0]=hn[1],vn=flushCell(En,sn,mn,pn,void 0,vn),mn=[0,0,0,0]),hn[2]=un)):wn.type==="tableCellDivider"&&(dn?dn=!1:(mn[1]!==0&&(hn[0]=hn[1],vn=flushCell(En,sn,mn,pn,void 0,vn)),mn=hn,hn=[mn[1],un,0,0])):wn.type==="tableHead"?(fn=!0,gn=un):wn.type==="tableRow"||wn.type==="tableDelimiterRow"?(gn=un,mn[1]!==0?(hn[0]=hn[1],vn=flushCell(En,sn,mn,pn,un,vn)):hn[1]!==0&&(vn=flushCell(En,sn,hn,pn,un,vn)),pn=0):pn&&(wn.type==="data"||wn.type==="tableDelimiterMarker"||wn.type==="tableDelimiterFiller")&&(hn[3]=un)}for(gn!==0&&flushTableEnd(En,sn,gn,xn,yn),En.consume(sn.events),un=-1;++un<sn.events.length;){const bn=sn.events[un];bn[0]==="enter"&&bn[1].type==="table"&&(bn[1]._align=gfmTableAlign(sn.events,un))}return tn}function flushCell(tn,sn,un,dn,pn,mn){const hn=dn===1?"tableHeader":dn===2?"tableDelimiter":"tableData",fn="tableContent";un[0]!==0&&(mn.end=Object.assign({},getPoint(sn.events,un[0])),tn.add(un[0],0,[["exit",mn,sn]]));const gn=getPoint(sn.events,un[1]);if(mn={type:hn,start:Object.assign({},gn),end:Object.assign({},gn)},tn.add(un[1],0,[["enter",mn,sn]]),un[2]!==0){const xn=getPoint(sn.events,un[2]),yn=getPoint(sn.events,un[3]),vn={type:fn,start:Object.assign({},xn),end:Object.assign({},yn)};if(tn.add(un[2],0,[["enter",vn,sn]]),dn!==2){const En=sn.events[un[2]],bn=sn.events[un[3]];if(En[1].end=Object.assign({},bn[1].end),En[1].type="chunkText",En[1].contentType="text",un[3]>un[2]+1){const wn=un[2]+1,Sn=un[3]-un[2]-1;tn.add(wn,Sn,[])}}tn.add(un[3]+1,0,[["exit",vn,sn]])}return pn!==void 0&&(mn.end=Object.assign({},getPoint(sn.events,pn)),tn.add(pn,0,[["exit",mn,sn]]),mn=void 0),mn}function flushTableEnd(tn,sn,un,dn,pn){const mn=[],hn=getPoint(sn.events,un);pn&&(pn.end=Object.assign({},hn),mn.push(["exit",pn,sn])),dn.end=Object.assign({},hn),mn.push(["exit",dn,sn]),tn.add(un+1,0,mn)}function getPoint(tn,sn){const un=tn[sn],dn=un[0]==="enter"?"start":"end";return un[1][dn]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(tn,sn,un){const dn=this;return pn;function pn(gn){return dn.previous!==null||!dn._gfmTasklistFirstContentOfListItem?un(gn):(tn.enter("taskListCheck"),tn.enter("taskListCheckMarker"),tn.consume(gn),tn.exit("taskListCheckMarker"),mn)}function mn(gn){return markdownLineEndingOrSpace(gn)?(tn.enter("taskListCheckValueUnchecked"),tn.consume(gn),tn.exit("taskListCheckValueUnchecked"),hn):gn===88||gn===120?(tn.enter("taskListCheckValueChecked"),tn.consume(gn),tn.exit("taskListCheckValueChecked"),hn):un(gn)}function hn(gn){return gn===93?(tn.enter("taskListCheckMarker"),tn.consume(gn),tn.exit("taskListCheckMarker"),tn.exit("taskListCheck"),fn):un(gn)}function fn(gn){return markdownLineEnding(gn)?sn(gn):markdownSpace(gn)?tn.check({tokenize:spaceThenNonSpace},sn,un)(gn):un(gn)}}function spaceThenNonSpace(tn,sn,un){return factorySpace(tn,dn,"whitespace");function dn(pn){return pn===null?un(pn):sn(pn)}}function gfm(tn){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(tn),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(tn){const sn=this,un=tn||emptyOptions,dn=sn.data(),pn=dn.micromarkExtensions||(dn.micromarkExtensions=[]),mn=dn.fromMarkdownExtensions||(dn.fromMarkdownExtensions=[]),hn=dn.toMarkdownExtensions||(dn.toMarkdownExtensions=[]);pn.push(gfm(un)),mn.push(gfmFromMarkdown()),hn.push(gfmToMarkdown(un))}const Anchor=({children:tn,href:sn})=>{const un=sn==null?void 0:sn.startsWith("mailto:"),dn=sn==null?void 0:sn.startsWith("http");return!sn||!un&&!dn?React$1.createElement(React$1.Fragment,null,tn):React$1.createElement("a",{className:clsx({"str-chat__message-url-link":dn}),href:sn,rel:"nofollow noreferrer noopener",target:"_blank"},tn)},Emoji=({children:tn})=>React$1.createElement("span",{className:"inline-text-emoji","data-testid":"inline-text-emoji"},tn),Mention=({children:tn,node:{mentionedUser:sn}})=>React$1.createElement("span",{className:"str-chat__message-mention","data-user-id":sn.id},tn),defaultAllowedTagNames=["html","text","br","p","em","strong","a","ol","ul","li","code","pre","blockquote","del","table","thead","tbody","th","tr","td","tfoot","emoji","mention"];function formatUrlForDisplay(tn){try{return decodeURIComponent(tn).replace(detectHttp,"")}catch{return tn}}function encodeDecode(tn){try{return encodeURI(decodeURIComponent(tn))}catch{return tn}}const urlTransform=tn=>tn.startsWith("app://")?tn:defaultUrlTransform(tn),getPluginsForward=tn=>tn,markDownRenderers={a:Anchor,emoji:Emoji,mention:Mention},renderText=(tn,sn,{allowedTagNames:un=defaultAllowedTagNames,customMarkDownRenderers:dn,getRehypePlugins:pn=getPluginsForward,getRemarkPlugins:mn=getPluginsForward}={})=>{if(!tn)return null;if(tn.trim().length===1)return React$1.createElement(React$1.Fragment,null,tn);let hn=tn;const fn=matchMarkdownLinks(hn),gn=messageCodeBlocks(hn),xn=[...find$1(hn,"email"),...find$1(hn,"url")];for(let En=xn.length-1;En>=0;En--){const{end:bn,href:wn,start:Sn,type:Rn,value:_n}=xn[En],jn=gn.some(An=>An==null?void 0:An.includes(_n));if((fn&&fn.filter(An=>{const Tn=wn==null?void 0:wn.replace(detectHttp,""),$n=An==null?void 0:An.replace(detectHttp,"");return!Tn||!$n?!1:Tn.includes($n)||$n.includes(Tn)})).length>0||jn)return;try{if(Rn==="email"&&sn){if(sn.find(Tn=>Tn.name===_n)){const Tn=hn.charAt(Sn-1)==="@";hn=hn.slice(0,Sn)+(Tn?_n:`[${_n}](${encodeDecode(wn)})`)+hn.slice(bn)}}else{const An=Rn==="email"?_n:formatUrlForDisplay(wn);hn=hn.slice(0,Sn)+`[${An}](${encodeDecode(wn)})`+hn.slice(bn)}}catch{}}const yn=[htmlToTextPlugin,keepLineBreaksPlugin,[remarkGfm,{singleTilde:!1}]],vn=[emojiMarkdownPlugin];return sn!=null&&sn.length&&vn.push(mentionsMarkdownPlugin(sn)),React$1.createElement(ErrorBoundary,{fallback:React$1.createElement(React$1.Fragment,null,tn)},React$1.createElement(Markdown,{allowedElements:un,components:{...markDownRenderers,...dn},rehypePlugins:pn(vn),remarkPlugins:mn(yn),skipHtml:!0,unwrapDisallowed:!0,urlTransform},hn))};function MessageBounceModal({MessageBouncePrompt:tn,...sn}){return React$1.createElement(Modal,{className:"str-chat__message-bounce-modal",...sn},React$1.createElement(MessageBounceProvider,null,React$1.createElement(tn,{onClose:sn.onClose})))}function MessageBouncePrompt({children:tn,onClose:sn}){const{handleDelete:un,handleEdit:dn,handleRetry:pn}=useMessageBounceContext("MessageBouncePrompt"),{t:mn}=useTranslationContext("MessageBouncePrompt");function hn(fn){return gn=>{fn(gn),sn==null||sn(gn)}}return React$1.createElement("div",{className:"str-chat__message-bounce-prompt","data-testid":"message-bounce-prompt"},React$1.createElement("div",{className:"str-chat__message-bounce-prompt-header"},tn??mn("This message did not meet our content guidelines")),React$1.createElement("div",{className:"str-chat__message-bounce-actions"},React$1.createElement("button",{className:"str-chat__message-bounce-edit","data-testid":"message-bounce-edit",onClick:hn(dn),type:"button"},mn("Edit Message")),React$1.createElement("button",{className:"str-chat__message-bounce-send","data-testid":"message-bounce-send",onClick:hn(pn)},mn("Send Anyway")),React$1.createElement("button",{className:"str-chat__message-bounce-delete","data-testid":"message-bounce-delete",onClick:hn(un)},mn("Delete"))))}const MessageBlocked=()=>{const{message:tn}=useMessageContext(),{t:sn}=useTranslationContext("MessageBlocked"),{isMyMessage:un}=useUserRole(tn),dn=clsx("str-chat__message str-chat__message-simple str-chat__message--blocked",tn.type,{"str-chat__message--me str-chat__message-simple--me":un,"str-chat__message--other":!un});return React$1.createElement("div",{className:dn,"data-testid":"message-blocked-component",key:tn.id},React$1.createElement("div",{className:"str-chat__message--blocked-inner"},sn("Message was blocked by moderation policies")))},isMutableRef=tn=>tn?tn.current!==void 0:!1,getImageDimensions=tn=>new Promise((sn,un)=>{const dn=new Image;dn.addEventListener("load",()=>{sn([dn.width,dn.height])},{once:!0}),dn.addEventListener("error",()=>un(`Couldn't load image from ${tn}`),{once:!0}),dn.src=tn}),SpriteImage=({columns:tn,fallback:sn,height:un,position:dn,rows:pn,spriteUrl:mn,style:hn,width:fn})=>{const[[gn,xn],yn]=reactExports.useState([0,0]);reactExports.useEffect(()=>{getImageDimensions(mn).then(yn).catch(console.error)},[mn]);const[vn,En]=dn;return!xn||!gn?React$1.createElement(React$1.Fragment,null,sn):React$1.createElement("div",{"data-testid":"sprite-image",style:{...hn,"--str-chat__sprite-image-resize-ratio":"var(--str-chat__sprite-image-resize-ratio-x, var(--str-chat__sprite-image-resize-ratio-y, 1))","--str-chat__sprite-image-resize-ratio-x":"calc(var(--str-chat__sprite-image-width) / var(--str-chat__sprite-item-width))","--str-chat__sprite-image-resize-ratio-y":"calc(var(--str-chat__sprite-image-height) / var(--str-chat__sprite-item-height))","--str-chat__sprite-item-height":`${xn/pn}`,"--str-chat__sprite-item-width":`${gn/tn}`,...Number.isFinite(un)?{"--str-chat__sprite-image-height":`${un}px`}:{},...Number.isFinite(fn)?{"--str-chat__sprite-image-width":`${fn}px`}:{},backgroundImage:`url('${mn}')`,backgroundPosition:`${vn*(100/(tn-1))}% ${En*(100/(pn-1))}%`,backgroundSize:`${tn*100}% ${pn*100}%`,height:"var(--str-chat__sprite-image-height, calc(var(--str-chat__sprite-item-height) * var(--str-chat__sprite-image-resize-ratio)))",width:"var(--str-chat__sprite-image-width, calc(var(--str-chat__sprite-item-width) * var(--str-chat__sprite-image-resize-ratio)))"}})},StreamSpriteEmojiPositions={angry:[1,1],haha:[1,0],like:[0,0],love:[1,2],sad:[0,1],wow:[0,2]},STREAM_SPRITE_URL="https://getstream.imgix.net/images/emoji-sprite.png",StreamEmoji=({fallback:tn,type:sn})=>{const un=StreamSpriteEmojiPositions[sn];return React$1.createElement(SpriteImage,{columns:2,fallback:tn,position:un,rows:3,spriteUrl:STREAM_SPRITE_URL,style:{"--str-chat__sprite-image-height":"var(--str-chat__stream-emoji-size, 18px)"}})},defaultReactionOptions=[{type:"haha",Component:()=>React$1.createElement(StreamEmoji,{fallback:"😂",type:"haha"}),name:"Joy"},{type:"like",Component:()=>React$1.createElement(StreamEmoji,{fallback:"👍",type:"like"}),name:"Thumbs up"},{type:"love",Component:()=>React$1.createElement(StreamEmoji,{fallback:"❤️",type:"love"}),name:"Heart"},{type:"sad",Component:()=>React$1.createElement(StreamEmoji,{fallback:"😔",type:"sad"}),name:"Sad"},{type:"wow",Component:()=>React$1.createElement(StreamEmoji,{fallback:"😲",type:"wow"}),name:"Astonished"}],UnMemoizedReactionSelector=tn=>{var Ln;const{Avatar:sn,detailedView:un=!0,handleReaction:dn,latest_reactions:pn,own_reactions:mn,reaction_groups:hn,reactionOptions:fn,reverse:gn=!1}=tn,{Avatar:xn,reactionOptions:yn=defaultReactionOptions}=useComponentContext(),{closeReactionSelectorOnClick:vn,handleReaction:En,message:bn}=useMessageContext(),wn=`reaction-selector--${bn.id}`,Sn=useDialog({id:wn}),Rn=fn??yn,_n=sn||xn||Avatar,jn=dn||En,Cn=pn||(bn==null?void 0:bn.latest_reactions)||[],An=mn||(bn==null?void 0:bn.own_reactions)||[],Tn=hn||(bn==null?void 0:bn.reaction_groups)||{},[$n,Dn]=reactExports.useState(null),[Nn,kn]=reactExports.useState(null),Pn=reactExports.useRef(null),Mn=reactExports.useRef(null),On=reactExports.useRef(null),Wn=reactExports.useCallback((zn,Bn)=>{Mn.current=zn.currentTarget,Dn(Bn)},[]),In=reactExports.useCallback(()=>{Dn(null),kn(null)},[]);reactExports.useEffect(()=>{var Jn,dr,br;if(!$n||!Pn.current)return;const zn=(Jn=On.current)==null?void 0:Jn.getBoundingClientRect(),Bn=(dr=Mn.current)==null?void 0:dr.getBoundingClientRect(),Fn=isMutableRef(Pn)?(br=Pn.current)==null?void 0:br.getBoundingClientRect():null;if(!zn||!Bn||!Fn)return;const Gn=zn.width===Fn.width||zn.x<Fn.x?0:Bn.left+Bn.width/2-Fn.left-zn.width/2,qn=Bn.x-zn.x+Bn.width/2-Gn;kn({arrow:qn,tooltip:Gn})},[$n,Pn]);const Un=zn=>Cn.map(Bn=>{var Fn,Gn;return Bn.type===zn?((Fn=Bn.user)==null?void 0:Fn.name)||((Gn=Bn.user)==null?void 0:Gn.id):null}).filter(Boolean),Vn=zn=>An.find(Bn=>Bn.type===zn),Hn=zn=>{var Bn;return((Bn=Cn.find(Fn=>Fn.type===zn&&!!Fn.user))==null?void 0:Bn.user)||void 0};return React$1.createElement("div",{className:clsx("str-chat__reaction-selector str-chat__message-reaction-selector str-chat-react__message-reaction-selector",{"str-chat__reaction-selector--reverse":gn}),"data-testid":"reaction-selector",ref:Pn},!!$n&&un&&React$1.createElement("div",{className:"str-chat__reaction-selector-tooltip",ref:On,style:{left:Nn==null?void 0:Nn.tooltip,visibility:Nn?"visible":"hidden"}},React$1.createElement("div",{className:"arrow",style:{left:Nn==null?void 0:Nn.arrow}}),(Ln=Un($n))==null?void 0:Ln.map((zn,Bn,Fn)=>React$1.createElement("span",{className:"latest-user-username",key:`key-${Bn}-${zn}`},`${zn}${Bn<Fn.length-1?", ":""}`))),React$1.createElement("ul",{className:"str-chat__message-reactions-list str-chat__message-reactions-options"},Rn.map(({Component:zn,name:Bn,type:Fn})=>{var Jn;const Gn=Hn(Fn),qn=((Jn=Tn[Fn])==null?void 0:Jn.count)??0;return React$1.createElement("li",{key:Fn},React$1.createElement("button",{"aria-label":`Select Reaction: ${Bn||Fn}`,className:clsx("str-chat__message-reactions-list-item str-chat__message-reactions-option",{"str-chat__message-reactions-option-selected":Vn(Fn)}),"data-testid":"select-reaction-button","data-text":Fn,onClick:dr=>{jn(Fn,dr),vn&&Sn.close()}},!!qn&&un&&React$1.createElement("div",{className:"latest-user str-chat__message-reactions-last-user",onClick:In,onMouseEnter:dr=>Wn(dr,Fn),onMouseLeave:In},Gn?React$1.createElement(_n,{image:Gn.image,name:Gn.name,size:20,user:Gn}):React$1.createElement("div",{className:"latest-user-not-found"})),React$1.createElement("span",{className:"str-chat__message-reaction-emoji"},React$1.createElement(zn,null)),!!qn&&un&&React$1.createElement("span",{className:"str-chat__message-reactions-list-item__count"},qn||"")))})))},ReactionSelector=React$1.memo(UnMemoizedReactionSelector),ReactionSelectorWithButton=({ReactionIcon:tn})=>{const{t:sn}=useTranslationContext("ReactionSelectorWithButton"),{isMyMessage:un,message:dn}=useMessageContext(),{ReactionSelector:pn=ReactionSelector}=useComponentContext(),mn=reactExports.useRef(null),hn=`reaction-selector--${dn.id}`,fn=useDialog({id:hn}),gn=useDialogIsOpen(hn);return React$1.createElement(React$1.Fragment,null,React$1.createElement(DialogAnchor,{id:hn,placement:un()?"top-end":"top-start",referenceElement:mn.current,trapFocus:!0},React$1.createElement(pn,null)),React$1.createElement("button",{"aria-expanded":gn,"aria-label":sn("aria/Open Reaction Selector"),className:"str-chat__message-reactions-button","data-testid":"message-reaction-action",onClick:()=>fn==null?void 0:fn.toggle(),ref:mn},React$1.createElement(tn,{className:"str-chat__message-action-icon"})))},UnMemoizedMessageOptions=tn=>{const{ActionsIcon:sn=ActionsIcon,displayReplies:un=!0,handleOpenThread:dn,ReactionIcon:pn=ReactionIcon,theme:mn="simple",ThreadIcon:hn=ThreadIcon}=tn,{getMessageActions:fn,handleOpenThread:gn,initialMessage:xn,message:yn,threadList:vn}=useMessageContext(),{t:En}=useTranslationContext("MessageOptions"),bn=useDialogIsOpen(`message-actions--${yn.id}`),wn=useDialogIsOpen(`reaction-selector--${yn.id}`),Sn=dn||gn,Rn=fn(),_n=Rn.indexOf(MESSAGE_ACTIONS.react)>-1,jn=Rn.indexOf(MESSAGE_ACTIONS.reply)>-1&&un&&!vn;return!yn.type||yn.type==="error"||yn.type==="system"||yn.type==="ephemeral"||yn.status==="failed"||yn.status==="sending"||xn?null:React$1.createElement("div",{className:clsx(`str-chat__message-${mn}__actions str-chat__message-options`,{"str-chat__message-options--active":bn||wn}),"data-testid":"message-options"},React$1.createElement(MessageActions,{ActionsIcon:sn}),jn&&React$1.createElement("button",{"aria-label":En("aria/Open Thread"),className:`str-chat__message-${mn}__actions__action str-chat__message-${mn}__actions__action--thread str-chat__message-reply-in-thread-button`,"data-testid":"thread-action",onClick:Sn},React$1.createElement(hn,{className:"str-chat__message-action-icon"})),_n&&React$1.createElement(ReactionSelectorWithButton,{ReactionIcon:pn}))},MessageOptions=React$1.memo(UnMemoizedMessageOptions),UnMemoizedMessageRepliesCountButton=tn=>{const{labelPlural:sn,labelSingle:un,onClick:dn,reply_count:pn=0}=tn,{t:mn}=useTranslationContext("MessageRepliesCountButton");if(!pn)return null;let hn=mn("replyCount",{count:pn});return sn&&pn>1?hn=`${pn} ${sn}`:un&&(hn=`1 ${un}`),React$1.createElement("div",{className:"str-chat__message-replies-count-button-wrapper"},React$1.createElement("button",{className:"str-chat__message-replies-count-button","data-testid":"replies-count-button",onClick:dn},hn))},MessageRepliesCountButton=React$1.memo(UnMemoizedMessageRepliesCountButton),PopperTooltip=({children:tn,offset:sn=[0,10],placement:un="top",referenceElement:dn,visible:pn=!1})=>{const[mn,hn]=reactExports.useState(null),{attributes:fn,styles:gn}=usePopper(dn,mn,{modifiers:[{name:"offset",options:{offset:sn}}],placement:un});return pn?React$1.createElement("div",{className:"str-chat__tooltip",ref:hn,style:gn.popper,...fn.popper},tn):null},useEnterLeaveHandlers=({onMouseEnter:tn,onMouseLeave:sn}={})=>{const[un,dn]=reactExports.useState(!1),pn=reactExports.useCallback(hn=>{dn(!0),tn==null||tn(hn)},[tn]),mn=reactExports.useCallback(hn=>{dn(!1),sn==null||sn(hn)},[sn]);return{handleEnter:pn,handleLeave:mn,tooltipVisible:un}},UnMemoizedMessageStatus=tn=>{var On;const{Avatar:sn,MessageDeliveredStatus:un,MessageReadStatus:dn,MessageSendingStatus:pn,messageType:mn="simple",tooltipUserNameMapper:hn=mapToUserNameOrId}=tn,{handleEnter:fn,handleLeave:gn,tooltipVisible:xn}=useEnterLeaveHandlers(),{client:yn}=useChatContext("MessageStatus"),{Avatar:vn}=useComponentContext(),{isMyMessage:En,lastReceivedId:bn,message:wn,readBy:Sn,threadList:Rn}=useMessageContext(),{t:_n}=useTranslationContext("MessageStatus"),[jn,Cn]=reactExports.useState(null),An=sn||vn||Avatar;if(!En()||wn.type==="error")return null;const Tn=(Sn==null?void 0:Sn.length)===1&&Sn[0].id===((On=yn.user)==null?void 0:On.id),$n=`str-chat__message-${mn}-status str-chat__message-status`,Dn=wn.status==="sending",Nn=wn.status==="received"&&wn.id===bn&&!Rn,kn=!!(Sn!=null&&Sn.length&&!Rn&&!Tn),Pn=kn?Sn.filter(Wn=>{var In;return Wn.id!==((In=yn.user)==null?void 0:In.id)}):[],[Mn]=Pn;return React$1.createElement("span",{className:$n,"data-testid":clsx({"message-status-read-by":kn,"message-status-received":Nn&&!kn,"message-status-sending":Dn}),onMouseEnter:fn,onMouseLeave:gn,ref:Cn},Dn&&(pn?React$1.createElement(pn,null):React$1.createElement(React$1.Fragment,null,React$1.createElement(PopperTooltip,{offset:[0,5],referenceElement:jn,visible:xn},_n("Sending...")),React$1.createElement(LoadingIndicator,null))),Nn&&!kn&&(un?React$1.createElement(un,null):React$1.createElement(React$1.Fragment,null,React$1.createElement(PopperTooltip,{offset:[0,5],referenceElement:jn,visible:xn},_n("Delivered")),React$1.createElement(MessageDeliveredIcon,null))),kn&&(dn?React$1.createElement(dn,null):React$1.createElement(React$1.Fragment,null,React$1.createElement(PopperTooltip,{offset:[0,5],referenceElement:jn,visible:xn},getReadByTooltipText(Sn,_n,yn,hn)),React$1.createElement(An,{className:"str-chat__avatar--message-status",image:Mn.image,name:Mn.name||Mn.id,user:Mn}),Pn.length>1&&React$1.createElement("span",{className:`str-chat__message-${mn}-status-number`,"data-testid":"message-status-read-by-many"},Pn.length))))},MessageStatus=React$1.memo(UnMemoizedMessageStatus),pollStateSelector$a=tn=>({enforce_unique_vote:tn.enforce_unique_vote,is_closed:tn.is_closed,max_votes_allowed:tn.max_votes_allowed,name:tn.name,options:tn.options}),PollHeader=()=>{const{t:tn}=useTranslationContext("PollHeader"),{poll:sn}=usePollContext(),{enforce_unique_vote:un,is_closed:dn,max_votes_allowed:pn,name:mn,options:hn}=useStateStore(sn.state,pollStateSelector$a),fn=reactExports.useMemo(()=>dn?tn("Vote ended"):un||hn.length===1?tn("Select one"):pn?tn("Select up to {{count}}",{count:pn>hn.length?hn.length:pn}):hn.length>1?tn("Select one or more"):"",[dn,un,pn,hn.length,tn]);if(mn)return React$1.createElement("div",{className:"str-chat__poll-header"},React$1.createElement("div",{className:"str-chat__poll-title"},mn),React$1.createElement("div",{className:"str-chat__poll-subtitle"},fn))},FieldError=({className:tn,text:sn,...un})=>React$1.createElement("div",{...un,className:clsx("str-chat__form-field-error",tn)},sn),FormDialog=({className:tn,close:sn,fields:un,onSubmit:dn,shouldDisableSubmitButton:pn,title:mn})=>{const{t:hn}=useTranslationContext(),[fn,gn]=reactExports.useState({}),[xn,yn]=reactExports.useState(()=>{let bn={};for(const[wn,Sn]of Object.entries(un))bn={...bn,[wn]:Sn.props.value};return bn}),vn=reactExports.useCallback(bn=>{var _n;const wn=bn.target.id,Sn=un[wn];if(!Sn)return;const Rn=(_n=Sn.validator)==null?void 0:_n.call(Sn,bn.target.value);gn(Rn?jn=>({[wn]:Rn,...jn}):jn=>(delete jn[wn],jn)),yn(jn=>({...jn,[wn]:bn.target.value})),Sn.props.onChange&&(Sn.element==="input"||Sn.element==="textarea")&&Sn.props.onChange(bn)},[un]),En=async()=>{var wn,Sn;if(!Object.keys(xn).length)return;const bn={};for(const[Rn,_n]of Object.entries(xn)){const jn=(Sn=(wn=un[Rn]).validator)==null?void 0:Sn.call(wn,_n);jn&&(bn[Rn]=jn)}if(Object.keys(bn).length){gn(bn);return}await dn(xn),sn()};return React$1.createElement("div",{className:clsx("str-chat__dialog str-chat__dialog--form",tn)},React$1.createElement("div",{className:"str-chat__dialog__body"},mn&&React$1.createElement("div",{className:"str-chat__dialog__title"},mn),React$1.createElement("form",{autoComplete:"off",onSubmit:bn=>{bn.preventDefault(),En()}},Object.entries(un).map(([bn,wn])=>{var Sn;return React$1.createElement("div",{className:"str-chat__dialog__field",key:`dialog-field-${bn}`},wn.label&&React$1.createElement("label",{className:clsx(`str-chat__dialog__title str-chat__dialog__title--${bn}`),htmlFor:bn},wn.label),React$1.createElement(wn.element,{id:bn,...wn.props,onChange:vn,value:xn[bn]}),React$1.createElement(FieldError,{text:(Sn=fn[bn])==null?void 0:Sn.message}))}),React$1.createElement("div",{className:"str-chat__dialog__controls"},React$1.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--cancel",onClick:sn,type:"button"},hn("Cancel")),React$1.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--submit",disabled:Object.keys(fn).length>0||(pn==null?void 0:pn(xn)),type:"submit"},hn("Send"))))))},pollStateSelector$9=tn=>({ownAnswer:tn.ownAnswer}),AddCommentForm=({close:tn,messageId:sn})=>{const{t:un}=useTranslationContext("AddCommentForm"),{poll:dn}=usePollContext(),{ownAnswer:pn}=useStateStore(dn.state,pollStateSelector$9);return React$1.createElement(FormDialog,{className:"str-chat__prompt-dialog str-chat__modal__poll-add-comment",close:tn,fields:{comment:{element:"input",props:{id:"comment",name:"comment",required:!0,type:"text",value:(pn==null?void 0:pn.answer_text)??""}}},onSubmit:async mn=>{await dn.addAnswer(mn.comment,sn)},shouldDisableSubmitButton:mn=>!mn.comment||mn.comment===(pn==null?void 0:pn.answer_text),title:un(pn?"Update your comment":"Add a comment")})},PromptDialog=({actions:tn,className:sn,prompt:un,title:dn})=>React$1.createElement("div",{className:clsx("str-chat__dialog str-chat__dialog--prompt",sn)},React$1.createElement("div",{className:"str-chat__dialog__body"},dn&&React$1.createElement("div",{className:"str-chat__dialog__title"},dn),React$1.createElement("div",{className:"str-chat__dialog__prompt"},un)),React$1.createElement("div",{className:"str-chat__dialog__controls"},tn.map(({className:pn,...mn},hn)=>React$1.createElement("button",{className:clsx("str-chat__dialog__controls-button",pn),key:`prompt-dialog__controls-button--${hn}`,...mn})))),EndPollDialog=({close:tn})=>{const{t:sn}=useTranslationContext("SuggestPollOptionForm"),{poll:un}=usePollContext();return React$1.createElement(PromptDialog,{actions:[{children:sn("Cancel"),className:"str-chat__dialog__controls-button--cancel",onClick:tn},{children:sn("End"),className:".str-chat__dialog__controls-button--submit str-chat__dialog__controls-button--end-poll",onClick:un.close}],className:"str-chat__modal__end-vote",prompt:sn("Nobody will be able to vote in this poll anymore."),title:sn("End vote")})},PollAction=({buttonText:tn,children:sn,closeModal:un,modalClassName:dn,modalIsOpen:pn,openModal:mn})=>React$1.createElement(React$1.Fragment,null,React$1.createElement("button",{className:"str-chat__poll-action",onClick:mn},tn),React$1.createElement(Modal,{className:dn,onClose:un,open:pn},sn)),pollStateSelector$8=tn=>({options:tn.options}),SuggestPollOptionForm=({close:tn,messageId:sn})=>{const{client:un}=useChatContext("SuggestPollOptionForm"),{t:dn}=useTranslationContext("SuggestPollOptionForm"),{poll:pn}=usePollContext(),{options:mn}=useStateStore(pn.state,pollStateSelector$8);return React$1.createElement(FormDialog,{className:"str-chat__prompt-dialog str-chat__modal__suggest-poll-option",close:tn,fields:{optionText:{element:"input",props:{id:"optionText",name:"optionText",required:!0,type:"text",value:""},validator:hn=>{if(!hn)return;if(mn.find(gn=>gn.text===hn.trim()))return new Error(dn("Option already exists"))}}},onSubmit:async hn=>{const{poll_option:fn}=await un.createPollOption(pn.id,{text:hn.optionText});pn.castVote(fn.id,sn)},shouldDisableSubmitButton:hn=>!hn.optionText,title:dn("Suggest an option")})},ModalHeader=({className:tn,close:sn,goBack:un,title:dn})=>React$1.createElement("div",{className:clsx("str-chat__modal-header",tn)},un&&React$1.createElement("button",{className:"str-chat__modal-header__go-back-button",onClick:un}),React$1.createElement("div",{className:"str-chat__modal-header__title"},dn),sn&&React$1.createElement("button",{className:"str-chat__modal-header__close-button",onClick:sn})),PollVoteTimestamp=({timestamp:tn})=>{const{t:sn}=useTranslationContext(),{handleEnter:un,handleLeave:dn,tooltipVisible:pn}=useEnterLeaveHandlers(),[mn,hn]=reactExports.useState(null),fn=new Date(tn);return React$1.createElement("div",{className:"str-chat__poll-vote__timestamp",onMouseEnter:un,onMouseLeave:dn,ref:hn},sn("timestamp/PollVote",{timestamp:fn}),React$1.createElement(PopperTooltip,{offset:[0,5],placement:"bottom",referenceElement:mn,visible:pn},sn("timestamp/PollVoteTooltip",{timestamp:fn})))},PollVoteAuthor=({vote:tn})=>{var xn,yn,vn;const{t:sn}=useTranslationContext(),{client:un}=useChatContext(),{handleEnter:dn,handleLeave:pn,tooltipVisible:mn}=useEnterLeaveHandlers(),[hn,fn]=reactExports.useState(null),gn=(xn=un.user)!=null&&xn.id&&un.user.id===((yn=tn.user)==null?void 0:yn.id)?sn("You"):((vn=tn.user)==null?void 0:vn.name)||sn("Anonymous");return React$1.createElement("div",{className:"str-chat__poll-vote__author",onMouseEnter:dn,onMouseLeave:pn,ref:fn},tn.user&&React$1.createElement(Avatar,{className:"str-chat__avatar--poll-vote-author",image:tn.user.image,key:`poll-vote-${tn.id}-avatar-${tn.user.id}`,name:tn.user.name}),React$1.createElement("div",{className:"str-chat__poll-vote__author__name"},gn),React$1.createElement(PopperTooltip,{offset:[0,5],placement:"bottom",referenceElement:hn,visible:mn},gn))},PollVote=({vote:tn})=>React$1.createElement("div",{className:"str-chat__poll-vote"},React$1.createElement(PollVoteAuthor,{vote:tn}),React$1.createElement(PollVoteTimestamp,{timestamp:tn.created_at})),PollVoteListing=({votes:tn})=>React$1.createElement("div",{className:"str-chat__poll-vote-listing"},tn.map(sn=>React$1.createElement(PollVote,{key:`poll-vote-${sn.id}`,vote:sn})));function useManagePollVotesRealtime(tn,sn,un){const{client:dn}=useChatContext(),[pn,mn]=reactExports.useState((sn==null?void 0:sn.getLatestValue().items)??[]);return reactExports.useEffect(()=>sn==null?void 0:sn.subscribeWithSelector(hn=>[hn.latestPageItems],([hn])=>mn(fn=>[...fn,...hn])),[sn]),reactExports.useEffect(()=>{const hn=yn=>{if(!yn.poll_vote)return;const vn=isVoteAnswer(yn.poll_vote);tn==="answer"&&!vn||tn==="vote"&&(vn||yn.poll_vote.option_id!==un)||(yn.type==="poll.vote_removed"&&mn(En=>yn.poll_vote?En.filter(bn=>bn.id!==yn.poll_vote.id):En),yn.type==="poll.vote_changed"&&mn(En=>yn.poll_vote?En.filter(bn=>bn.id!==yn.poll_vote.id):En),["poll.vote_casted","poll.vote_changed"].includes(yn.type)&&mn(En=>yn.poll_vote?[yn.poll_vote,...En]:En))},fn=dn.on("poll.vote_casted",hn),gn=dn.on("poll.vote_removed",hn),xn=dn.on("poll.vote_changed",hn);return()=>{fn.unsubscribe(),gn.unsubscribe(),xn.unsubscribe()}},[dn,un,tn]),pn}const useCursorPaginator=(tn,sn)=>{const un=reactExports.useMemo(()=>new StateStore({hasNextPage:!0,items:[],latestPageItems:[],loading:!1}),[]),dn=reactExports.useCallback(async()=>{const{loading:pn,next:mn}=un.getLatestValue();if(!(mn===null||pn)){un.partialNext({loading:!0});try{const{items:hn,next:fn}=await tn(mn);un.next(gn=>({...gn,hasNextPage:!!fn,items:uniqBy(gn.items.concat(hn),"id"),latestPageItems:hn,next:fn||null}))}catch(hn){un.partialNext({error:hn})}un.partialNext({loading:!1})}},[un,tn]);return reactExports.useEffect(()=>{const{items:pn}=un.getLatestValue();pn.length||dn()},[un,sn,dn]),{cursorPaginatorState:un,loadMore:dn}},paginationStateSelector$1=tn=>[tn.error,tn.hasNextPage,tn.loading],usePollAnswerPagination=({paginationParams:tn}={})=>{const{poll:sn}=usePollContext(),un=reactExports.useCallback(async xn=>{const{next:yn,votes:vn}=await sn.queryAnswers({filter:tn==null?void 0:tn.filter,options:xn?{...tn==null?void 0:tn.options,next:xn}:tn==null?void 0:tn.options,sort:{created_at:-1,...tn==null?void 0:tn.sort}});return{items:vn,next:yn}},[tn,sn]),{cursorPaginatorState:dn,loadMore:pn}=useCursorPaginator(un,!0),mn=useManagePollVotesRealtime("answer",dn),[hn,fn,gn]=useStateStore(dn,paginationStateSelector$1);return{answers:mn,error:hn,hasNextPage:fn,loading:gn,loadMore:pn}},paginationStateSelector=tn=>[tn.error,tn.hasNextPage,tn.loading],usePollOptionVotesPagination=({paginationParams:tn})=>{const{poll:sn}=usePollContext(),un=reactExports.useCallback(async xn=>{const{next:yn,votes:vn}=await sn.queryOptionVotes({filter:tn.filter,options:xn?{...tn==null?void 0:tn.options,next:xn}:tn==null?void 0:tn.options,sort:{created_at:-1,...tn==null?void 0:tn.sort}});return{items:vn,next:yn}},[tn,sn]),{cursorPaginatorState:dn,loadMore:pn}=useCursorPaginator(un,!0),mn=useManagePollVotesRealtime("vote",dn,tn.filter.option_id),[hn,fn,gn]=useStateStore(dn,paginationStateSelector);return{error:hn,hasNextPage:fn,loading:gn,loadMore:pn,votes:mn}},mousewheelListener$1=tn=>{tn instanceof WheelEvent&&tn.deltaY===1&&tn.preventDefault()},InfiniteScrollPaginator=tn=>{const{children:sn,className:un,listenToScroll:dn,loadNextDebounceMs:pn=500,loadNextOnScrollToBottom:mn,loadNextOnScrollToTop:hn,threshold:fn=DEFAULT_LOAD_PAGE_SCROLL_THRESHOLD,useCapture:gn=!1,...xn}=tn,yn=reactExports.useRef(null),vn=reactExports.useRef(null),En=reactExports.useMemo(()=>debounce$2(()=>{const bn=yn.current,wn=vn.current;if(!bn||bn.offsetParent===null||!wn)return;const Sn=wn.scrollHeight-bn.scrollTop-bn.clientHeight,Rn=bn.scrollTop;dn&&dn(Sn,Rn,fn),Rn<Number(fn)&&(hn==null||hn()),Sn<Number(fn)&&(mn==null||mn())},pn),[dn,pn,mn,hn,fn]);return reactExports.useEffect(()=>{const bn=yn.current;if(bn)return bn.addEventListener("scroll",En,gn),()=>{bn.removeEventListener("scroll",En,gn)}},[En,gn]),reactExports.useEffect(()=>{const bn=yn.current;if(!bn||typeof ResizeObserver>"u"||!En)return;const wn=new ResizeObserver(En);return wn.observe(bn),()=>{wn.disconnect()}},[En]),reactExports.useEffect(()=>{const bn=yn.current;return bn&&bn.addEventListener("wheel",mousewheelListener$1,{passive:!1}),()=>{bn&&bn.removeEventListener("wheel",mousewheelListener$1,gn)}},[gn]),React$1.createElement("div",{...xn,className:clsx("str-chat__infinite-scroll-paginator",un),ref:yn},React$1.createElement("div",{className:"str-chat__infinite-scroll-paginator__content",ref:vn},sn))},pollStateSelector$7=tn=>({is_closed:tn.is_closed,ownAnswer:tn.ownAnswer}),PollAnswerList=({close:tn,onUpdateOwnAnswerClick:sn})=>{const{t:un}=useTranslationContext(),{poll:dn}=usePollContext(),{is_closed:pn,ownAnswer:mn}=useStateStore(dn.state,pollStateSelector$7),{answers:hn,error:fn,hasNextPage:gn,loading:xn,loadMore:yn}=usePollAnswerPagination();return React$1.createElement("div",{className:"str-chat__modal__poll-answer-list"},React$1.createElement(ModalHeader,{close:tn,title:un("Poll comments")}),React$1.createElement("div",{className:"str-chat__modal__poll-answer-list__body"},React$1.createElement(InfiniteScrollPaginator,{loadNextOnScrollToBottom:yn,threshold:40},React$1.createElement("div",{className:"str-chat__poll-answer-list"},hn.map(vn=>React$1.createElement("div",{className:"str-chat__poll-answer",key:`comment-${vn.id}`},vn.answer_text&&React$1.createElement("p",{className:"str-chat__poll-answer__text"},vn.answer_text),React$1.createElement(PollVote,{key:`poll-vote-${vn.id}`,vote:vn})))),gn&&React$1.createElement("div",{className:"str-chat__loading-indicator-placeholder"},xn&&React$1.createElement(LoadingIndicator,null))),(fn==null?void 0:fn.message)&&React$1.createElement("div",null,fn==null?void 0:fn.message)),hn.length>0&&!pn&&React$1.createElement("button",{className:"str-chat__poll-action",onClick:sn},un(mn?"Update your comment":"Add a comment")))},AmountBar=({amount:tn,className:sn})=>React$1.createElement("div",{className:clsx("str-chat__amount-bar",sn),"data-testid":"amount-bar",role:"progressbar",style:{"--str-chat__amount-bar-fulfillment":tn+"%"}}),Checkmark=({checked:tn})=>React$1.createElement("div",{className:clsx("str-chat__checkmark",{"str-chat__checkmark--checked":tn})}),pollStateSelector$6=tn=>({is_closed:tn.is_closed,latest_votes_by_option:tn.latest_votes_by_option,maxVotedOptionIds:tn.maxVotedOptionIds,ownVotesByOptionId:tn.ownVotesByOptionId,vote_counts_by_option:tn.vote_counts_by_option,voting_visibility:tn.voting_visibility}),PollOptionSelector=({displayAvatarCount:tn,option:sn,voteCountVerbose:un})=>{const{t:dn}=useTranslationContext(),{channelCapabilities:pn={}}=useChannelStateContext("PollOptionsShortlist"),{message:mn}=useMessageContext(),{poll:hn}=usePollContext(),{is_closed:fn,latest_votes_by_option:gn,maxVotedOptionIds:xn,ownVotesByOptionId:yn,vote_counts_by_option:vn,voting_visibility:En}=useStateStore(hn.state,pollStateSelector$6),bn=pn["cast-poll-vote"]&&!fn,wn=xn[0]?vn[xn[0]]:0,Sn=reactExports.useMemo(()=>debounce$2(()=>bn?!!yn[sn.id]?hn.removeVote(yn[sn.id].id,mn.id):hn.castVote(sn.id,mn.id):void 0,100),[bn,mn.id,sn.id,yn,hn]);return React$1.createElement("div",{className:clsx("str-chat__poll-option",{"str-chat__poll-option--votable":bn}),key:`base-poll-option-${sn.id}`,onClick:Sn},bn&&React$1.createElement(Checkmark,{checked:!!yn[sn.id]}),React$1.createElement("div",{className:"str-chat__poll-option-data"},React$1.createElement("p",{className:"str-chat__poll-option-text"},sn.text),tn&&En==="public"&&React$1.createElement("div",{className:"str-chat__poll-option-voters"},(gn==null?void 0:gn[sn.id])&&gn[sn.id].filter(Rn=>!!Rn.user&&!isVoteAnswer(Rn)).slice(0,tn).map(({user:Rn})=>React$1.createElement(Avatar,{image:Rn==null?void 0:Rn.image,key:`poll-option-${sn.id}-avatar-${Rn==null?void 0:Rn.id}`,name:Rn==null?void 0:Rn.name}))),React$1.createElement("div",{className:"str-chat__poll-option-vote-count"},un?dn("{{count}} votes",{count:vn[sn.id]??0}):vn[sn.id]??0)),React$1.createElement(AmountBar,{amount:(wn&&(vn[sn.id]??0)/wn)*100,className:clsx("str-chat__poll-option__votes-bar",{"str-chat__poll-option__votes-bar--winner":fn&&xn.length===1&&xn[0]===sn.id})}))},pollStateSelector$5=tn=>({options:tn.options}),PollOptionList=({optionsDisplayCount:tn})=>{const{PollOptionSelector:sn=PollOptionSelector}=useComponentContext(),{poll:un}=usePollContext(),{options:dn}=useStateStore(un.state,pollStateSelector$5);return React$1.createElement("div",{className:clsx("str-chat__poll-option-list",{"str-chat__poll-option-list--full":typeof tn>"u"})},dn.slice(0,tn??dn.length).map(pn=>React$1.createElement(sn,{displayAvatarCount:3,key:`poll-option-${pn.id}`,option:pn})))},pollStateSelector$4=tn=>({name:tn.name}),PollOptionsFullList=({close:tn})=>{const{t:sn}=useTranslationContext(),{poll:un}=usePollContext(),{name:dn}=useStateStore(un.state,pollStateSelector$4);return React$1.createElement("div",{className:"str-chat__modal__poll-option-list"},React$1.createElement(ModalHeader,{close:tn,title:sn("Poll options")}),React$1.createElement("div",{className:"str-chat__modal__poll-option-list__body"},React$1.createElement("div",{className:"str-chat__modal__poll-option-list__title"},dn),React$1.createElement(PollOptionList,null)))},pollStateSelector$3=tn=>({maxVotedOptionIds:tn.maxVotedOptionIds,vote_counts_by_option:tn.vote_counts_by_option}),PollResultOptionVoteCounter=({optionId:tn})=>{const{t:sn}=useTranslationContext(),{poll:un}=usePollContext(),{maxVotedOptionIds:dn,vote_counts_by_option:pn}=useStateStore(un.state,pollStateSelector$3);return React$1.createElement("div",{className:"str-chat__poll-result-option-vote-counter"},dn.length===1&&dn[0]===tn&&React$1.createElement("div",{className:"str-chat__poll-result-winning-option-icon"}),React$1.createElement("span",{className:"str-chat__poll-result-option-vote-count"},sn("{{count}} votes",{count:pn[tn]??0})))},PollOptionWithVotesHeader=({option:tn})=>React$1.createElement("div",{className:"str-chat__poll-option__header"},React$1.createElement("div",{className:"str-chat__poll-option__option-text"},tn.text),React$1.createElement(PollResultOptionVoteCounter,{optionId:tn.id})),PollOptionVotesList=({option:tn})=>{const sn=reactExports.useMemo(()=>({filter:{option_id:tn.id}}),[tn.id]),{error:un,hasNextPage:dn,loading:pn,loadMore:mn,votes:hn}=usePollOptionVotesPagination({paginationParams:sn});return React$1.createElement("div",{className:"str-chat__poll-option str-chat__poll-option--full-vote-list"},React$1.createElement(PollOptionWithVotesHeader,{option:tn}),React$1.createElement(InfiniteScrollPaginator,{loadNextOnScrollToBottom:mn,threshold:40},React$1.createElement(PollVoteListing,{votes:hn}),dn&&React$1.createElement("div",{className:"str-chat__loading-indicator-placeholder"},pn&&React$1.createElement(LoadingIndicator,null))),un&&un.message)},pollStateSelector$2=tn=>({latest_votes_by_option:tn.latest_votes_by_option}),PollOptionWithLatestVotes=({countVotesPreview:tn=5,option:sn,showAllVotes:un})=>{const{t:dn}=useTranslationContext(),{channelCapabilities:pn={}}=useChannelStateContext("PollOptionWithLatestVotes"),{poll:mn}=usePollContext(),{latest_votes_by_option:hn}=useStateStore(mn.state,pollStateSelector$2),fn=hn&&hn[sn.id];return React$1.createElement("div",{className:"str-chat__poll-option"},React$1.createElement(PollOptionWithVotesHeader,{option:sn}),fn&&React$1.createElement(PollVoteListing,{votes:fn.slice(0,tn)}),pn["query-poll-votes"]&&un&&(fn==null?void 0:fn.length)>tn&&React$1.createElement("button",{className:"str-chat__poll-option__show-all-votes-button",onClick:un},dn("Show all")))},pollStateSelector$1=tn=>({name:tn.name,options:[...tn.options],vote_counts_by_option:tn.vote_counts_by_option}),PollResults=({close:tn})=>{const{t:sn}=useTranslationContext(),{poll:un}=usePollContext(),{name:dn,options:pn,vote_counts_by_option:mn}=useStateStore(un.state,pollStateSelector$1),[hn,fn]=reactExports.useState(),gn=reactExports.useCallback(()=>fn(void 0),[]);return React$1.createElement("div",{className:clsx("str-chat__modal__poll-results",{"str-chat__modal__poll-results--option-detail":hn})},hn?React$1.createElement(React$1.Fragment,null,React$1.createElement(ModalHeader,{close:tn,goBack:gn,title:hn.text}),React$1.createElement("div",{className:"str-chat__modal__poll-results__body"},React$1.createElement(PollOptionVotesList,{key:`poll-option-detail-${hn.id}`,option:hn}))):React$1.createElement(React$1.Fragment,null,React$1.createElement(ModalHeader,{close:tn,title:sn("Poll results")}),React$1.createElement("div",{className:"str-chat__modal__poll-results__body"},React$1.createElement("div",{className:"str-chat__modal__poll-results__title"},dn),React$1.createElement("div",{className:"str-chat__modal__poll-results__option-list"},pn.sort((xn,yn)=>(mn[yn.id]??0)>=(mn[xn.id]??0)?1:-1).map(xn=>React$1.createElement(PollOptionWithLatestVotes,{key:`poll-option-${xn.id}`,option:xn,showAllVotes:()=>fn(xn)}))))))},MAX_POLL_OPTIONS=100,MAX_OPTIONS_DISPLAYED=10,pollStateSelector=tn=>({allow_answers:tn.allow_answers,allow_user_suggested_options:tn.allow_user_suggested_options,answers_count:tn.answers_count,created_by_id:tn.created_by_id,is_closed:tn.is_closed,options:tn.options,ownAnswer:tn.ownAnswer}),PollActions=({AddCommentForm:tn=AddCommentForm,EndPollDialog:sn=EndPollDialog,PollAnswerList:un=PollAnswerList,PollOptionsFullList:dn=PollOptionsFullList,PollResults:pn=PollResults,SuggestPollOptionForm:mn=SuggestPollOptionForm})=>{var $n;const{client:hn}=useChatContext(),{t:fn}=useTranslationContext("PollActions"),{channelCapabilities:gn={}}=useChannelStateContext("PollActions"),{message:xn}=useMessageContext(),{poll:yn}=usePollContext(),{allow_answers:vn,allow_user_suggested_options:En,answers_count:bn,created_by_id:wn,is_closed:Sn,options:Rn,ownAnswer:_n}=useStateStore(yn.state,pollStateSelector),[jn,Cn]=reactExports.useState(),An=reactExports.useCallback(()=>Cn(void 0),[]),Tn=reactExports.useCallback(()=>Cn("add-comment"),[]);return React$1.createElement("div",{className:"str-chat__poll-actions"},Rn.length>MAX_OPTIONS_DISPLAYED&&React$1.createElement(PollAction,{buttonText:fn("See all options ({{count}})",{count:Rn.length}),closeModal:An,modalIsOpen:jn==="view-all-options",openModal:()=>Cn("view-all-options")},React$1.createElement(dn,{close:An})),!Sn&&En&&Rn.length<MAX_POLL_OPTIONS&&React$1.createElement(PollAction,{buttonText:fn("Suggest an option"),closeModal:An,modalClassName:"str-chat__suggest-poll-option-modal",modalIsOpen:jn==="suggest-option",openModal:()=>Cn("suggest-option")},React$1.createElement(mn,{close:An,messageId:xn.id})),!Sn&&vn&&React$1.createElement(PollAction,{buttonText:fn(_n?"Update your comment":"Add a comment"),closeModal:An,modalClassName:"str-chat__add-poll-answer-modal",modalIsOpen:jn==="add-comment",openModal:()=>Cn("add-comment")},React$1.createElement(tn,{close:An,messageId:xn.id})),bn>0&&gn["query-poll-votes"]&&React$1.createElement(PollAction,{buttonText:fn("View {{count}} comments",{count:bn}),closeModal:An,modalClassName:"str-chat__poll-answer-list-modal",modalIsOpen:jn==="view-comments",openModal:()=>Cn("view-comments")},React$1.createElement(un,{close:An,onUpdateOwnAnswerClick:Tn})),React$1.createElement(PollAction,{buttonText:fn("View results"),closeModal:An,modalClassName:"str-chat__poll-results-modal",modalIsOpen:jn==="view-results",openModal:()=>Cn("view-results")},React$1.createElement(pn,{close:An})),!Sn&&wn===(($n=hn.user)==null?void 0:$n.id)&&React$1.createElement(PollAction,{buttonText:fn("End vote"),closeModal:An,modalClassName:"str-chat__end-poll-modal",modalIsOpen:jn==="end-vote",openModal:()=>Cn("end-vote")},React$1.createElement(sn,{close:An})))},pollStateSelectorPollContent=tn=>({is_closed:tn.is_closed}),PollContent=()=>{const{PollActions:tn=PollActions,PollHeader:sn=PollHeader}=useComponentContext(),{poll:un}=usePollContext(),{is_closed:dn}=useStateStore(un.state,pollStateSelectorPollContent);return React$1.createElement("div",{className:clsx("str-chat__poll",{"str-chat__poll--closed":dn})},React$1.createElement(sn,null),React$1.createElement(PollOptionList,{optionsDisplayCount:MAX_OPTIONS_DISPLAYED}),React$1.createElement(tn,null))},pollStateSelectorQuotedPoll=tn=>({is_closed:tn.is_closed,name:tn.name}),QuotedPoll=()=>{const{poll:tn}=usePollContext(),{is_closed:sn,name:un}=useStateStore(tn.state,pollStateSelectorQuotedPoll);return React$1.createElement("div",{className:clsx("str-chat__quoted-poll-preview",{"str-chat__quoted-poll-preview--closed":sn})},React$1.createElement("div",{className:"str-chat__quoted-poll-preview__icon"},"📊"),React$1.createElement("div",{className:"str-chat__quoted-poll-preview__name"},un))},Poll$c=({isQuoted:tn,poll:sn})=>{const{PollContent:un=PollContent,QuotedPoll:dn=QuotedPoll}=useComponentContext();return sn?React$1.createElement(PollProvider,{poll:sn},tn?React$1.createElement(dn,null):React$1.createElement(un,null)):null},SwitchField=({children:tn,...sn})=>{const un=reactExports.useRef(null),dn=pn=>{![" ","Enter"].includes(pn.key)||!un.current||(pn.preventDefault(),un.current.click())};return React$1.createElement("div",{className:"str-chat__form__field str-chat__form__switch-field"},React$1.createElement("label",null,React$1.createElement("div",{className:"str-chat__form__field str-chat__form__switch-field-content"},tn),React$1.createElement("input",{type:"checkbox",...sn,ref:un}),React$1.createElement("div",{className:clsx("str-chat__form__switch-field__switch",{"str-chat__form__switch-field__switch--on":sn.checked}),onKeyUp:dn,tabIndex:0},React$1.createElement("div",{className:"str-chat__form__switch-field__switch-handle"}))))},SimpleSwitchField=({labelText:tn,...sn})=>React$1.createElement(SwitchField,{...sn},React$1.createElement("div",{className:"str-chat__form__field str-chat__form__switch-field__text"},tn)),pollComposerStateSelector$3=tn=>({enforce_unique_vote:tn.data.enforce_unique_vote,error:tn.errors.max_votes_allowed,max_votes_allowed:tn.data.max_votes_allowed}),MultipleAnswersField=()=>{const{t:tn}=useTranslationContext(),{pollComposer:sn}=useMessageComposer(),{enforce_unique_vote:un,error:dn,max_votes_allowed:pn}=useStateStore(sn.state,pollComposerStateSelector$3);return React$1.createElement("div",{className:clsx("str-chat__form__expandable-field",{"str-chat__form__expandable-field--expanded":!un})},React$1.createElement(SimpleSwitchField,{checked:!un,id:"enforce_unique_vote",labelText:tn("Multiple answers"),onChange:mn=>{sn.updateFields({enforce_unique_vote:!mn.target.checked})}}),!un&&React$1.createElement("div",{className:clsx("str-chat__form__input-field",{"str-chat__form__input-field--has-error":dn})},React$1.createElement("div",{className:clsx("str-chat__form__input-field__value")},React$1.createElement(FieldError,{className:"str-chat__form__input-field__error","data-testid":"poll-max-votes-allowed-input-field-error",text:dn&&tn(dn)}),React$1.createElement("input",{id:"max_votes_allowed",onBlur:()=>{sn.handleFieldBlur("max_votes_allowed")},onChange:mn=>{const hn=mn.target.validity.valid?void 0:{max_votes_allowed:tn("Only numbers are allowed")};sn.updateFields({max_votes_allowed:hn?sn.max_votes_allowed:mn.target.value},hn)},placeholder:tn("Maximum number of votes (from 2 to 10)"),type:"text",value:pn}))))},pollComposerStateSelector$2=tn=>({error:tn.errors.name,name:tn.data.name}),NameField=()=>{const{t:tn}=useTranslationContext(),{pollComposer:sn}=useMessageComposer(),{error:un,name:dn}=useStateStore(sn.state,pollComposerStateSelector$2);return React$1.createElement("div",{className:clsx("str-chat__form__field str-chat__form__input-field str-chat__form__input-field--with-label",{"str-chat__form__input-field--has-error":un})},React$1.createElement("label",{className:"str-chat__form__field-label",htmlFor:"name"},tn("Question")),React$1.createElement("div",{className:clsx("str-chat__form__input-field__value")},React$1.createElement(FieldError,{className:"str-chat__form__input-field__error","data-testid":"poll-name-input-field-error",text:un&&tn(un)}),React$1.createElement("input",{id:"name",onBlur:()=>{sn.handleFieldBlur("name")},onChange:pn=>{sn.updateFields({name:pn.target.value})},placeholder:tn("Ask a question"),type:"text",value:dn})))},DragAndDropContainer=({children:tn,className:sn,draggable:un,onSetNewOrder:dn})=>{const[pn,mn]=reactExports.useState([]),[hn,fn]=reactExports.useState(null),[gn,xn]=reactExports.useState(null),[yn,vn]=reactExports.useState(null),En=hn===null||gn===null?void 0:hn<=gn?"down":"up",bn=React$1.Children.toArray(tn);return reactExports.useEffect(()=>{mn(React$1.Children.map(tn,(wn,Sn)=>Sn)||[])},[tn]),reactExports.useEffect(()=>{if(!yn)return;const wn=Cn=>{var $n,Dn;const Tn=Cn.target.closest(".str-chat__drag-and-drop-container__item");if(Cn.dataTransfer&&(Cn.dataTransfer.effectAllowed="move"),Tn instanceof HTMLElement){const Nn=Array.from((($n=Tn.parentElement)==null?void 0:$n.children)||[]).indexOf(Tn);fn(Nn),(Dn=Cn.dataTransfer)==null||Dn.setData("text/plain",Nn.toString()),Tn.style.opacity="0.3"}},Sn=Cn=>{var $n;Cn.preventDefault();const Tn=Cn.target.closest(".str-chat__drag-and-drop-container__item");if(Tn instanceof HTMLElement){const Dn=Array.from((($n=Tn.parentElement)==null?void 0:$n.children)||[]).indexOf(Tn);xn(Dn)}},Rn=()=>{xn(null)},_n=Cn=>{var Dn,Nn;Cn.preventDefault();const An=parseInt(((Dn=Cn.dataTransfer)==null?void 0:Dn.getData("text/plain"))||"-1",10),$n=Cn.target.closest(".str-chat__drag-and-drop-container__item");if($n instanceof HTMLElement){const kn=Array.from(((Nn=$n.parentElement)==null?void 0:Nn.children)||[]).indexOf($n);An!==-1&&An!==kn&&mn(Pn=>{const Mn=[...Pn],[On]=Mn.splice(An,1);return Mn.splice(kn,0,On),dn==null||dn(Mn),Mn})}fn(null),xn(null)},jn=Cn=>{const An=Cn.target;An instanceof HTMLElement&&(An.style.opacity=""),fn(null),xn(null)};return yn.addEventListener("dragstart",wn),yn.addEventListener("dragover",Sn),yn.addEventListener("dragleave",Rn),yn.addEventListener("drop",_n),yn.addEventListener("dragend",jn),()=>{yn.removeEventListener("dragstart",wn),yn.removeEventListener("dragover",Sn),yn.removeEventListener("dragleave",Rn),yn.removeEventListener("drop",_n),yn.removeEventListener("dragend",jn)}},[yn,dn]),React$1.createElement("div",{className:clsx("str-chat__drag-and-drop-container",sn),ref:vn},pn.map((wn,Sn)=>{const Rn=bn[wn];return React$1.createElement("div",{className:clsx("str-chat__drag-and-drop-container__item",{"str-chat__drag-and-drop-container__item--dragged-over-from-bottom":En==="up"&&gn===Sn,"str-chat__drag-and-drop-container__item--dragged-over-from-top":En==="down"&&gn===Sn}),draggable:un,key:React$1.isValidElement(Rn)?Rn.key:`draggable-item-${wn}`},Rn)}))},pollComposerStateSelector$1=tn=>({errors:tn.errors.options,options:tn.data.options}),OptionFieldSet=()=>{const{pollComposer:tn}=useMessageComposer(),{errors:sn,options:un}=useStateStore(tn.state,pollComposerStateSelector$1),{t:dn}=useTranslationContext("OptionFieldSet"),pn=reactExports.useCallback(hn=>{const fn=tn.options;tn.updateFields({options:hn.map(gn=>fn[gn])})},[tn]),mn=un.length>1;return React$1.createElement("fieldset",{className:"str-chat__form__field str-chat__form__input-fieldset"},React$1.createElement("legend",{className:"str-chat__form__field-label"},dn("Options")),React$1.createElement(DragAndDropContainer,{className:"str-chat__form__input-fieldset__values",draggable:mn,onSetNewOrder:pn},un.map((hn,fn)=>{const gn=sn==null?void 0:sn[hn.id];return React$1.createElement("div",{className:clsx("str-chat__form__input-field",{"str-chat__form__input-field--draggable":mn,"str-chat__form__input-field--has-error":gn}),key:`new-poll-option-${fn}`},React$1.createElement("div",{className:"str-chat__form__input-field__value"},React$1.createElement(FieldError,{className:"str-chat__form__input-field__error","data-testid":"poll-option-input-field-error",text:gn&&dn(gn)}),React$1.createElement("input",{id:hn.id,onBlur:()=>{tn.handleFieldBlur("options")},onChange:xn=>{tn.updateFields({options:{index:fn,text:xn.target.value}})},onKeyUp:xn=>{var vn;const yn=fn===un.length-1;if(xn.key==="Enter"&&!yn){const En=un[fn+1].id;(vn=document.getElementById(En))==null||vn.focus()}},placeholder:dn("Add an option"),type:"text",value:hn.text})),mn&&React$1.createElement("div",{className:"str-chat__drag-handle"}))})))},PollCreationDialogControls=({close:tn})=>{const{t:sn}=useTranslationContext("PollCreationDialogControls"),{handleSubmit:un}=useMessageInputContext(),dn=useMessageComposer(),pn=useCanCreatePoll();return React$1.createElement("div",{className:"str-chat__dialog__controls"},React$1.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--cancel",onClick:()=>{dn.pollComposer.initState(),tn()},type:"button"},sn("Cancel")),React$1.createElement("button",{className:"str-chat__dialog__controls-button str-chat__dialog__controls-button--submit",disabled:!pn,onClick:()=>{dn.createPoll().then(()=>un()).then(tn).catch(console.error)},type:"submit"},sn("Create")))},pollComposerStateSelector=tn=>({allow_answers:tn.data.allow_answers,allow_user_suggested_options:tn.data.allow_user_suggested_options,voting_visibility:tn.data.voting_visibility}),PollCreationDialog=({close:tn})=>{const{t:sn}=useTranslationContext(),{pollComposer:un}=useMessageComposer(),{allow_answers:dn,allow_user_suggested_options:pn,voting_visibility:mn}=useStateStore(un.state,pollComposerStateSelector),hn=reactExports.useCallback(()=>{un.initState(),tn()},[un,tn]);return React$1.createElement("div",{className:"str-chat__dialog str-chat__poll-creation-dialog","data-testid":"poll-creation-dialog"},React$1.createElement(ModalHeader,{close:hn,title:sn("Create poll")}),React$1.createElement("div",{className:"str-chat__dialog__body"},React$1.createElement("form",{autoComplete:"off"},React$1.createElement(NameField,null),React$1.createElement(OptionFieldSet,null),React$1.createElement(MultipleAnswersField,null),React$1.createElement(SimpleSwitchField,{checked:mn==="anonymous",id:"voting_visibility",labelText:sn("Anonymous poll"),onChange:fn=>un.updateFields({voting_visibility:fn.target.checked?VotingVisibility.anonymous:VotingVisibility.public})}),React$1.createElement(SimpleSwitchField,{checked:pn,id:"allow_user_suggested_options",labelText:sn("Allow option suggestion"),onChange:fn=>un.updateFields({allow_user_suggested_options:fn.target.checked})}),React$1.createElement(SimpleSwitchField,{checked:dn,id:"allow_answers",labelText:sn("Allow comments"),onChange:fn=>un.updateFields({allow_answers:fn.target.checked})}))),React$1.createElement(PollCreationDialogControls,{close:tn}))},QuotedMessage=({renderText:tn})=>{var jn,Cn,An;const{Attachment:sn=Attachment,Avatar:un}=useComponentContext(),{client:dn}=useChatContext(),{isMyMessage:pn,message:mn,renderText:hn}=useMessageContext(),{t:fn,userLanguage:gn}=useTranslationContext("QuotedMessage"),{jumpToMessage:xn}=useChannelActionContext("QuotedMessage"),yn=tn??hn??renderText,vn=un||Avatar,{quoted_message:En}=mn,bn=(En==null?void 0:En.poll_id)&&dn.polls.fromState(En.poll_id),wn=(En==null?void 0:En.deleted_at)||(En==null?void 0:En.type)==="deleted",Sn=wn?fn("This message was deleted..."):((jn=En==null?void 0:En.i18n)==null?void 0:jn[`${gn}_text`])||(En==null?void 0:En.text),Rn=(Cn=En==null?void 0:En.attachments)!=null&&Cn.length&&!wn?En.attachments[0]:null,_n=reactExports.useMemo(()=>yn(Sn,En==null?void 0:En.mentioned_users),[Sn,En==null?void 0:En.mentioned_users,yn]);return!En||!En.poll&&!Sn&&!Rn?null:React$1.createElement(React$1.Fragment,null,React$1.createElement("div",{className:clsx("str-chat__quoted-message-preview",{mine:pn()}),"data-testid":"quoted-message",onClickCapture:Tn=>{Tn.stopPropagation(),Tn.preventDefault(),xn(En.id)}},En.user&&React$1.createElement(vn,{className:"str-chat__avatar--quoted-message-sender",image:En.user.image,name:En.user.name||En.user.id,user:En.user}),React$1.createElement("div",{className:"str-chat__quoted-message-bubble","data-testid":"quoted-message-contents"},bn?React$1.createElement(Poll$c,{isQuoted:!0,poll:bn}):React$1.createElement(React$1.Fragment,null,Rn&&React$1.createElement(sn,{attachments:[Rn],isQuoted:!0}),React$1.createElement("div",{className:"str-chat__quoted-message-bubble__text","data-testid":"quoted-message-text"},_n)))),(An=mn.attachments)!=null&&An.length?React$1.createElement(sn,{attachments:mn.attachments}):null)};function MessageErrorText({message:tn,theme:sn}){var dn;const{t:un}=useTranslationContext("MessageText");return tn.type==="error"&&!isMessageBounced(tn)?React$1.createElement("div",{className:`str-chat__${sn}-message--error-message str-chat__message--error-message`},un("Error · Unsent")):tn.status==="failed"?React$1.createElement("div",{className:`str-chat__${sn}-message--error-message str-chat__message--error-message`},((dn=tn.error)==null?void 0:dn.status)!==403?un("Message Failed · Click to try again"):un("Message Failed · Unauthorized")):null}const UnMemoizedMessageTextComponent=tn=>{var An;const{customInnerClass:sn,customWrapperClass:un="",message:dn,renderText:pn,theme:mn="simple"}=tn,{QuotedMessage:hn=QuotedMessage}=useComponentContext(),{message:fn,onMentionsClickMessage:gn,onMentionsHoverMessage:xn,renderText:yn,unsafeHTML:vn}=useMessageContext(),En=pn??yn??renderText,{userLanguage:bn}=useTranslationContext("MessageText"),wn=dn||fn,Sn=messageHasAttachments(wn),Rn=((An=wn.i18n)==null?void 0:An[`${bn}_text`])||wn.text,_n=reactExports.useMemo(()=>En(Rn,wn.mentioned_users),[wn.mentioned_users,Rn]),jn=un||"str-chat__message-text",Cn=sn||`str-chat__message-text-inner str-chat__message-${mn}-text-inner`;return!Rn&&!wn.quoted_message?null:React$1.createElement("div",{className:jn,tabIndex:0},React$1.createElement("div",{className:clsx(Cn,{[`str-chat__message-${mn}-text-inner--has-attachment`]:Sn,[` str-chat__message-${mn}-text-inner--is-emoji`]:isOnlyEmojis(wn.text)&&!wn.quoted_message}),"data-testid":"message-text-inner-wrapper",onClick:gn,onMouseOver:xn},wn.quoted_message&&React$1.createElement(hn,null),React$1.createElement(MessageErrorText,{message:wn,theme:mn}),vn&&wn.html?React$1.createElement("div",{dangerouslySetInnerHTML:{__html:wn.html}}):React$1.createElement("div",null,_n)))},MessageText=React$1.memo(UnMemoizedMessageTextComponent),StreamedMessageText=tn=>{const{message:sn,renderingLetterCount:un,renderText:dn,streamingLetterIntervalMs:pn}=tn,{message:mn}=useMessageContext(),hn=sn||mn,{text:fn=""}=hn,{streamedMessageText:gn}=useMessageTextStreaming({renderingLetterCount:un,streamingLetterIntervalMs:pn,text:fn});return React$1.createElement(MessageText,{message:{...hn,text:gn},renderText:dn})},UnMemoizedCustomNotification=tn=>{const{active:sn,children:un,className:dn,type:pn}=tn;return sn?React$1.createElement("div",{"aria-live":"polite",className:clsx(`str-chat__custom-notification notification-${pn}`,"str-chat__notification","str-chat-react__notification",dn),"data-testid":"custom-notification"},un):null},CustomNotification=React$1.memo(UnMemoizedCustomNotification),UnMemoizedConnectionStatus=()=>{const{client:tn}=useChatContext("ConnectionStatus"),{t:sn}=useTranslationContext("ConnectionStatus"),[un,dn]=reactExports.useState(!0);return reactExports.useEffect(()=>{const pn=({online:mn=!1})=>{un!==mn&&dn(mn)};return tn.on("connection.changed",pn),()=>tn.off("connection.changed",pn)},[tn,un]),React$1.createElement(CustomNotification,{active:!un,className:"str-chat__connection-status-notification",type:"error"},sn("Connection failure, reconnecting now..."))},ConnectionStatus=React$1.memo(UnMemoizedConnectionStatus),GiphyPreviewMessage=tn=>{const{message:sn}=tn;return React$1.createElement("div",{className:"giphy-preview-message"},React$1.createElement(Message,{message:sn}))},CUSTOM_MESSAGE_TYPE={date:"message.date",intro:"channel.intro"},Anonymous$b="Anonym",Archive$b="Archivieren",Cancel$b="Abbrechen",Close$b="Schließen",Create$b="Erstellen",Delete$b="Löschen",Delivered$b="Zugestellt",Edited$b="Bearbeitet",End$b="Beenden",File$c="Datei",Flag$b="Melden",Menu$b="Menü",Mute$b="Stummschalten",New$b="Neu",Ok$b="Ok",Options$b="Optionen",Pin$b="Anheften",Poll$b="Umfrage",Question$b="Frage",Quote$b="Zitieren",Reply$b="Antworten",Search$b="Suche",Send$b="Senden",Shuffle$b="Mischen",Submit$b="Absenden",Thread$c="Thread",Unarchive$b="Archivierung aufheben",Unmute$b="Stummschaltung aufheben",Unpin$b="Anheftung aufheben",You$b="Du",live$b="live",replyCount_one$b="1 Antwort",replyCount_other$b="{{ count }} Antworten",searchResultsCount_one$b="1 Ergebnis",searchResultsCount_other$b="{{ count }} Ergebnisse",unreadMessagesSeparatorText_one$9="1 ungelesene Nachricht",unreadMessagesSeparatorText_other$b="{{count}} ungelesene Nachrichten",deTranslations={"Add a comment":"Einen Kommentar hinzufügen","Add an option":"Eine Option hinzufügen","All results loaded":"Alle Ergebnisse geladen","Allow access to camera":"Zugriff auf Kamera erlauben","Allow access to microphone":"Zugriff auf Mikrofon erlauben","Allow comments":"Kommentare erlauben","Allow option suggestion":"Optionsvorschläge erlauben","Also send as a direct message":"Auch als Direktnachricht senden","Also send in channel":"Auch im Kanal senden","An error has occurred during recording":"Ein Fehler ist während der Aufnahme aufgetreten","An error has occurred during the recording processing":"Ein Fehler ist während der Aufnahmeverarbeitung aufgetreten",Anonymous:Anonymous$b,"Anonymous poll":"Anonyme Umfrage",Archive:Archive$b,"Ask a question":"Eine Frage stellen","Attach files":"Dateien anhängen","Attachment upload blocked due to {{reason}}":"Anhang-Upload blockiert wegen {{reason}}","Attachment upload failed due to {{reason}}":"Anhang-Upload fehlgeschlagen wegen {{reason}}",Cancel:Cancel$b,"Cannot seek in the recording":"In der Aufnahme kann nicht gesucht werden","Channel Missing":"Kanal fehlt",Close:Close$b,"Close emoji picker":"Emoji-Auswahl schließen","Commands matching":"Übereinstimmende Befehle","Connection failure, reconnecting now...":"Verbindungsfehler, Wiederherstellung der Verbindung...",Create:Create$b,"Create poll":"Umfrage erstellen",Delete:Delete$b,Delivered:Delivered$b,"Download attachment {{ name }}":"Anhang {{ name }} herunterladen","Drag your files here":"Ziehen Sie Ihre Dateien hierher","Drag your files here to add to your post":"Ziehen Sie Ihre Dateien hierher, um sie Ihrem Beitrag hinzuzufügen","Due since {{ dueSince }}":"Fällig seit {{ dueSince }}","Due {{ timeLeft }}":"Fällig {{ timeLeft }}","Edit Message":"Nachricht bearbeiten","Edit message request failed":"Anfrage zum Bearbeiten der Nachricht fehlgeschlagen",Edited:Edited$b,"Emoji matching":"Passende Emojis","Empty message...":"Leere Nachricht...",End:End$b,"End vote":"Abstimmung beenden","Error adding flag":"Fehler beim Hinzufügen des Flags","Error connecting to chat, refresh the page to try again.":"Verbindungsfehler zum Chat, aktualisieren Sie die Seite, um es erneut zu versuchen.","Error deleting message":"Fehler beim Löschen der Nachricht","Error fetching reactions":"Fehler beim Laden von Reaktionen","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Fehler beim Markieren der Nachricht als ungelesen. Kann keine älteren ungelesenen Nachrichten markieren als die neuesten 100 Kanalnachrichten.","Error muting a user ...":"Fehler beim Stummschalten eines Nutzers.","Error pinning message":"Fehler beim Pinnen der Nachricht","Error removing message pin":"Fehler beim Entfernen der gepinnten Nachricht","Error reproducing the recording":"Fehler bei der Wiedergabe der Aufnahme","Error starting recording":"Fehler beim Starten der Aufnahme","Error unmuting a user ...":"Fehler beim Aufheben der Stummschaltung eines Nutzers ...","Error uploading attachment":"Fehler beim Hochladen des Anhangs","Error uploading file":"Fehler beim Hochladen der Datei","Error uploading image":"Fehler beim Hochladen des Bildes","Error · Unsent":"Fehler · Nicht gesendet","Error: {{ errorMessage }}":"Fehler: {{ errorMessage }}","Failed to create the poll":"Fehler beim Erstellen der Umfrage","Failed to create the poll due to {{reason}}":"Die Umfrage konnte aufgrund von {{reason}} nicht erstellt werden","Failed to jump to the first unread message":"Fehler beim Springen zur ersten ungelesenen Nachricht","Failed to mark channel as read":"Fehler beim Markieren des Kanals als gelesen","Failed to play the recording":"Wiedergabe der Aufnahme fehlgeschlagen",File:File$c,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Datei ist zu groß: {{ size }}, maximale Upload-Größe beträgt {{ limit }}",Flag:Flag$b,"Generating...":"Generieren...","Latest Messages":"Neueste Nachrichten","Load more":"Mehr laden","Mark as unread":"Als ungelesen markieren","Maximum number of votes (from 2 to 10)":"Maximale Anzahl der Stimmen (von 2 bis 10)",Menu:Menu$b,"Message Failed · Click to try again":"Nachricht fehlgeschlagen · Klicken, um es erneut zu versuchen","Message Failed · Unauthorized":"Nachricht fehlgeschlagen · Nicht autorisiert","Message deleted":"Nachricht gelöscht","Message has been successfully flagged":"Nachricht wurde erfolgreich gemeldet","Message pinned":"Nachricht angeheftet","Message was blocked by moderation policies":"Nachricht wurde durch moderationsrichtlinien blockiert","Messages have been marked unread.":"Nachrichten wurden als ungelesen markiert.","Missing permissions to upload the attachment":"Fehlende Berechtigungen zum Hochladen des Anhangs","Multiple answers":"Mehrere Antworten",Mute:Mute$b,New:New$b,"New Messages!":"Neue Nachrichten!","No chats here yet…":"Noch keine Chats hier...","No results found":"Keine Ergebnisse gefunden","Nobody will be able to vote in this poll anymore.":"Niemand kann mehr in dieser Umfrage abstimmen.","Nothing yet...":"Noch nichts...",Ok:Ok$b,"Only numbers are allowed":"Nur Zahlen sind erlaubt","Open emoji picker":"Emoji-Auswahl öffnen","Option already exists":"Option existiert bereits",Options:Options$b,"People matching":"Passende Personen",Pin:Pin$b,"Pinned by":"Angeheftet von",Poll:Poll$b,"Poll comments":"Umfragekommentare","Poll options":"Umfrageoptionen","Poll results":"Umfrageergebnisse",Question:Question$b,Quote:Quote$b,"Recording format is not supported and cannot be reproduced":"Aufnahmeformat wird nicht unterstützt und kann nicht wiedergegeben werden","Remind Me":"Erinnern","Remove reminder":"Erinnerung entfernen",Reply:Reply$b,"Reply to Message":"Auf Nachricht antworten","Save for later":"Für später speichern","Saved for later":"Für später gespeichert",Search:Search$b,"Searching...":"Suchen...","See all options ({{count}})_one":"Alle Optionen anzeigen ({{count}})","See all options ({{count}})_other":"Alle Optionen anzeigen ({{count}})","Select one":"Eine auswählen","Select one or more":"Eine oder mehrere auswählen","Select up to {{count}}_one":"Bis zu {{count}} auswählen","Select up to {{count}}_other":"Bis zu {{count}} auswählen",Send:Send$b,"Send Anyway":"Trotzdem senden","Send message request failed":"Senden der Nachrichtenanfrage fehlgeschlagen","Sending...":"Senden...","Show all":"Alle anzeigen",Shuffle:Shuffle$b,"Slow Mode ON":"Langsamer Modus EIN","Some of the files will not be accepted":"Einige der Dateien werden nicht akzeptiert","Start typing to search":"Tippen Sie, um zu suchen",Submit:Submit$b,"Suggest an option":"Eine Option vorschlagen","Thinking...":"Denken...","This message did not meet our content guidelines":"Diese Nachricht entsprach nicht unseren Inhaltsrichtlinien","This message was deleted...":"Diese Nachricht wurde gelöscht...",Thread:Thread$c,"Thread has not been found":"Thread wurde nicht gefunden","Thread reply":"Thread-Antwort","To start recording, allow the camera access in your browser":"Um mit der Aufnahme zu beginnen, erlauben Sie den Zugriff auf die Kamera in Ihrem Browser","To start recording, allow the microphone access in your browser":"Um mit der Aufnahme zu beginnen, erlauben Sie den Zugriff auf das Mikrofon in Ihrem Browser","Type a number from 2 to 10":"Geben Sie eine Zahl von 2 bis 10 ein","Type your message":"Nachricht eingeben",Unarchive:Unarchive$b,Unmute:Unmute$b,Unpin:Unpin$b,"Unread messages":"Ungelesene Nachrichten","Unsupported attachment":"Nicht unterstützter Anhang","Update your comment":"Ihren Kommentar aktualisieren",'Upload type: "{{ type }}" is not allowed':'Upload-Typ: "{{ type }}" ist nicht erlaubt',"User uploaded content":"Vom Benutzer hochgeladener Inhalt","View results":"Ergebnisse anzeigen","View {{count}} comments_one":"{{count}} Kommentar anzeigen","View {{count}} comments_other":"{{count}} Kommentare anzeigen","Voice message":"Sprachnachricht","Vote ended":"Abstimmung beendet","Wait until all attachments have uploaded":"Bitte warten, bis alle Anhänge hochgeladen wurden",You:You$b,"You have no channels currently":"Du hast momentan noch keine Kanäle","You've reached the maximum number of files":"Die maximale Anzahl an Dateien ist erreicht","aria/Attachment":"Anhang","aria/Cancel Reply":"Antwort abbrechen","aria/Cancel upload":"Upload abbrechen","aria/Channel list":"Kanalliste","aria/Channel search results":"Kanalsuchergebnisse","aria/Close thread":"Thread schließen","aria/Download attachment":"Anhang herunterladen","aria/Emoji picker":"Emoji-Auswahl","aria/File input":"Dateieingabe","aria/File upload":"Datei hochladen","aria/Image input":"Bildeingabe","aria/Load More Channels":"Mehr Kanäle laden","aria/Menu":"Menü","aria/Message Options":"Nachrichtenoptionen","aria/Open Attachment Selector":"Anhang-Auswahl öffnen","aria/Open Message Actions Menu":"Nachrichtenaktionsmenü öffnen","aria/Open Reaction Selector":"Reaktionsauswahl öffnen","aria/Open Thread":"Thread öffnen","aria/Reaction list":"Reaktionsliste","aria/Remind Me Options":"Erinnerungsoptionen","aria/Remove attachment":"Anhang entfernen","aria/Retry upload":"Upload erneut versuchen","aria/Search results":"Suchergebnisse","aria/Search results header filter button":"Suchergebnisse-Kopfzeilen-Filterbutton","aria/Send":"Senden","aria/Stop AI Generation":"KI-Generierung stoppen","ban-command-args":"[@Benutzername] [Text]","ban-command-description":"Einen Benutzer verbannen","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[Text]","giphy-command-description":"Poste ein zufälliges Gif in den Kanal",live:live$b,"mute-command-args":"[@Benutzername]","mute-command-description":"Stummschalten eines Benutzers","network error":"Netzwerkfehler",replyCount_one:replyCount_one$b,replyCount_other:replyCount_other$b,"search-results-header-filter-source-button-label--channels":"Kanäle","search-results-header-filter-source-button-label--messages":"Nachrichten","search-results-header-filter-source-button-label--users":"Benutzer",searchResultsCount_one:searchResultsCount_one$b,searchResultsCount_other:searchResultsCount_other$b,"size limit":"Größenbeschränkung","this content could not be displayed":"Dieser Inhalt konnte nicht angezeigt werden","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@Benutzername]","unban-command-description":"Einen Benutzer entbannen","unknown error":"Unbekannter Fehler","unmute-command-args":"[@Benutzername]","unmute-command-description":"Stummschaltung eines Benutzers aufheben",unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$9,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$b,"unsupported file type":"Nicht unterstützter Dateityp","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} und {{moreCount}} mehr","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} und {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} und {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} mehr","{{ memberCount }} members":"{{ memberCount }} Mitglieder","{{ user }} has been muted":"{{ user }} wurde stummgeschaltet","{{ user }} has been unmuted":"Die Stummschaltung von {{ user }} wurde aufgehoben","{{ user }} is typing...":"{{ user }} tippt...","{{ users }} and more are typing...":"{{ users }} und mehr tippen...","{{ users }} and {{ user }} are typing...":"{{ users }} und {{ user }} tippen...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ungelesen","{{count}} unread_other":"{{count}} ungelesen","{{count}} votes_one":"{{count}} Stimme","{{count}} votes_other":"{{count}} Stimmen","🏙 Attachment...":"🏙 Anhang...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} hat erstellt: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} hat abgestimmt: {{pollOptionText}}"},Anonymous$a="Anonymous",Archive$a="Archive",Cancel$a="Cancel",Close$a="Close",Create$a="Create",Delete$a="Delete",Delivered$a="Delivered",Edited$a="Edited",End$a="End",File$b="File",Flag$a="Flag",Menu$a="Menu",Mute$a="Mute",New$a="New",Ok$a="Ok",Options$a="Options",Pin$a="Pin",Poll$a="Poll",Question$a="Question",Quote$a="Quote",Reply$a="Reply",Search$a="Search",Send$a="Send",Shuffle$a="Shuffle",Submit$a="Submit",Thread$b="Thread",Unarchive$a="Unarchive",Unmute$a="Unmute",Unpin$a="Unpin",You$a="You",live$a="live",replyCount_one$a="1 reply",replyCount_other$a="{{ count }} replies",searchResultsCount_one$a="1 result",searchResultsCount_other$a="{{ count }} results",unreadMessagesSeparatorText_one$8="1 unread message",unreadMessagesSeparatorText_other$a="{{count}} unread messages",enTranslations={"Add a comment":"Add a comment","Add an option":"Add an option","All results loaded":"All results loaded","Allow access to camera":"Allow access to camera","Allow access to microphone":"Allow access to microphone","Allow comments":"Allow comments","Allow option suggestion":"Allow option suggestion","Also send as a direct message":"Also send as a direct message","Also send in channel":"Also send in channel","An error has occurred during recording":"An error has occurred during recording","An error has occurred during the recording processing":"An error has occurred during the recording processing",Anonymous:Anonymous$a,"Anonymous poll":"Anonymous poll",Archive:Archive$a,"Ask a question":"Ask a question","Attach files":"Attach files","Attachment upload blocked due to {{reason}}":"Attachment upload blocked due to {{reason}}","Attachment upload failed due to {{reason}}":"Attachment upload failed due to {{reason}}",Cancel:Cancel$a,"Cannot seek in the recording":"Cannot seek in the recording","Channel Missing":"Channel Missing",Close:Close$a,"Close emoji picker":"Close emoji picker","Commands matching":"Commands matching","Connection failure, reconnecting now...":"Connection failure, reconnecting now...",Create:Create$a,"Create poll":"Create poll",Delete:Delete$a,Delivered:Delivered$a,"Download attachment {{ name }}":"Download attachment {{ name }}","Drag your files here":"Drag your files here","Drag your files here to add to your post":"Drag your files here to add to your post","Due since {{ dueSince }}":"Due since {{ dueSince }}","Due {{ timeLeft }}":"Due {{ timeLeft }}","Edit Message":"Edit Message","Edit message request failed":"Edit message request failed",Edited:Edited$a,"Emoji matching":"Emoji matching","Empty message...":"Empty message...",End:End$a,"End vote":"End vote","Error adding flag":"Error adding flag","Error connecting to chat, refresh the page to try again.":"Error connecting to chat, refresh the page to try again.","Error deleting message":"Error deleting message","Error fetching reactions":"Error loading reactions","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.","Error muting a user ...":"Error muting a user ...","Error pinning message":"Error pinning message","Error removing message pin":"Error removing message pin","Error reproducing the recording":"Error reproducing the recording","Error starting recording":"Error starting recording","Error unmuting a user ...":"Error unmuting a user ...","Error uploading attachment":"Error uploading attachment","Error uploading file":"Error uploading file","Error uploading image":"Error uploading image","Error · Unsent":"Error · Unsent","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to create the poll":"Failed to create the poll","Failed to create the poll due to {{reason}}":"Failed to create the poll due to {{reason}}","Failed to jump to the first unread message":"Failed to jump to the first unread message","Failed to mark channel as read":"Failed to mark channel as read","Failed to play the recording":"Failed to play the recording",File:File$b,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"File is too large: {{ size }}, maximum upload size is {{ limit }}",Flag:Flag$a,"Generating...":"Generating...","Latest Messages":"Latest Messages","Load more":"Load more","Mark as unread":"Mark as unread","Maximum number of votes (from 2 to 10)":"Maximum number of votes (from 2 to 10)",Menu:Menu$a,"Message Failed · Click to try again":"Message Failed · Click to try again","Message Failed · Unauthorized":"Message Failed · Unauthorized","Message deleted":"Message deleted","Message has been successfully flagged":"Message has been successfully flagged","Message pinned":"Message pinned","Message was blocked by moderation policies":"Message was blocked by moderation policies","Messages have been marked unread.":"Messages have been marked unread.","Missing permissions to upload the attachment":"Missing permissions to upload the attachment","Multiple answers":"Multiple answers",Mute:Mute$a,New:New$a,"New Messages!":"New Messages!","No chats here yet…":"No chats here yet…","No results found":"No results found","Nobody will be able to vote in this poll anymore.":"Nobody will be able to vote in this poll anymore.","Nothing yet...":"Nothing yet...",Ok:Ok$a,"Only numbers are allowed":"Only numbers are allowed","Open emoji picker":"Open emoji picker","Option already exists":"Option already exists",Options:Options$a,"People matching":"People matching",Pin:Pin$a,"Pinned by":"Pinned by",Poll:Poll$a,"Poll comments":"Poll comments","Poll options":"Poll options","Poll results":"Poll results",Question:Question$a,Quote:Quote$a,"Recording format is not supported and cannot be reproduced":"Recording format is not supported and cannot be reproduced","Remind Me":"Remind Me","Remove reminder":"Remove reminder",Reply:Reply$a,"Reply to Message":"Reply to Message","Save for later":"Save for later","Saved for later":"Saved for later",Search:Search$a,"Searching...":"Searching...","See all options ({{count}})_one":"See all options ({{count}})","See all options ({{count}})_other":"See all options ({{count}})","Select one":"Select one","Select one or more":"Select one or more","Select up to {{count}}_one":"Select up to {{count}}","Select up to {{count}}_other":"Select up to {{count}}",Send:Send$a,"Send Anyway":"Send Anyway","Send message request failed":"Send message request failed","Sending...":"Sending...","Show all":"Show all",Shuffle:Shuffle$a,"Slow Mode ON":"Slow Mode ON","Some of the files will not be accepted":"Some of the files will not be accepted","Start typing to search":"Start typing to search",Submit:Submit$a,"Suggest an option":"Suggest an option","Thinking...":"Thinking...","This message did not meet our content guidelines":"This message did not meet our content guidelines","This message was deleted...":"This message was deleted...",Thread:Thread$b,"Thread has not been found":"Thread has not been found","Thread reply":"Thread reply","To start recording, allow the camera access in your browser":"To start recording, allow the camera access in your browser","To start recording, allow the microphone access in your browser":"To start recording, allow the microphone access in your browser","Type a number from 2 to 10":"Type a number from 2 to 10","Type your message":"Type your message",Unarchive:Unarchive$a,Unmute:Unmute$a,Unpin:Unpin$a,"Unread messages":"Unread messages","Unsupported attachment":"Unsupported attachment","Update your comment":"Update your comment",'Upload type: "{{ type }}" is not allowed':'Upload type: "{{ type }}" is not allowed',"User uploaded content":"User uploaded content","View results":"View results","View {{count}} comments_one":"View {{count}} comment","View {{count}} comments_other":"View {{count}} comments","Voice message":"Voice message","Vote ended":"Vote ended","Wait until all attachments have uploaded":"Wait until all attachments have uploaded",You:You$a,"You have no channels currently":"You have no channels currently","You've reached the maximum number of files":"You've reached the maximum number of files","aria/Attachment":"Attachment","aria/Cancel Reply":"Cancel Reply","aria/Cancel upload":"Cancel upload","aria/Channel list":"Channel list","aria/Channel search results":"Channel search results","aria/Close thread":"Close thread","aria/Download attachment":"aria/Download attachment","aria/Emoji picker":"Emoji picker","aria/File input":"File input","aria/File upload":"File upload","aria/Image input":"Image input","aria/Load More Channels":"Load More Channels","aria/Menu":"Menu","aria/Message Options":"Message Options","aria/Open Attachment Selector":"aria/Open Attachment Selector","aria/Open Message Actions Menu":"Open Message Actions Menu","aria/Open Reaction Selector":"Open Reaction Selector","aria/Open Thread":"Open Thread","aria/Reaction list":"Reaction list","aria/Remind Me Options":"aria/Remind Me Options","aria/Remove attachment":"Remove attachment","aria/Retry upload":"Retry upload","aria/Search results":"Search results","aria/Search results header filter button":"Search results header filter button","aria/Send":"Send","aria/Stop AI Generation":"Stop AI Generation","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}",live:live$a,"network error":"network error",replyCount_one:replyCount_one$a,replyCount_other:replyCount_other$a,"search-results-header-filter-source-button-label--channels":"channels","search-results-header-filter-source-button-label--messages":"messages","search-results-header-filter-source-button-label--users":"users",searchResultsCount_one:searchResultsCount_one$a,searchResultsCount_other:searchResultsCount_other$a,"size limit":"size limit","this content could not be displayed":"this content could not be displayed","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unknown error":"unknown error",unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$8,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$a,"unsupported file type":"unsupported file type","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} and {{ moreCount }} more","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }}, and {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} and {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} more","{{ memberCount }} members":"{{ memberCount }} members","{{ user }} has been muted":"{{ user }} has been muted","{{ user }} has been unmuted":"{{ user }} has been unmuted","{{ user }} is typing...":"{{ user }} is typing...","{{ users }} and more are typing...":"{{ users }} and more are typing...","{{ users }} and {{ user }} are typing...":"{{ users }} and {{ user }} are typing...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} unread","{{count}} unread_other":"{{count}} unread","{{count}} votes_one":"{{count}} vote","{{count}} votes_other":"{{count}} votes","🏙 Attachment...":"🏙 Attachment...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} created: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} voted: {{pollOptionText}}"},Anonymous$9="Anónimo",Archive$9="Archivo",Cancel$9="Cancelar",Close$9="Cerrar",Create$9="Crear",Delete$9="Borrar",Delivered$9="Entregado",Edited$9="Editado",End$9="Final",File$a="Archivo",Flag$9="Marcar",Menu$9="Menú",Mute$9="Silenciar",New$9="Nuevo",Ok$9="Ok",Options$9="Opciones",Pin$9="Fijar",Poll$9="Encuesta",Question$9="Pregunta",Quote$9="Citar",Reply$9="Responder",Search$9="Buscar",Send$9="Enviar",Shuffle$9="Mezclar",Submit$9="Enviar",Thread$a="Hilo",Unarchive$9="Desarchivar",Unmute$9="Activar sonido",Unpin$9="Desfijar",You$9="Tú",live$9="En vivo",replyCount_many$4="{{ count }} respuestas",replyCount_one$9="1 respuesta",replyCount_other$9="{{ count }} respuestas",searchResultsCount_many$4="{{ count }} resultados",searchResultsCount_one$9="1 resultado",searchResultsCount_other$9="{{ count }} resultados",unreadMessagesSeparatorText_many$4="{{count}} mensajes no leídos",unreadMessagesSeparatorText_one$7="1 mensaje no leído",unreadMessagesSeparatorText_other$9="{{count}} mensajes no leídos",esTranslations={"Add a comment":"Agregar un comentario","Add an option":"Agregar una opción","All results loaded":"Todos los resultados cargados","Allow access to camera":"Permitir acceso a la cámara","Allow access to microphone":"Permitir acceso al micrófono","Allow comments":"Permitir comentarios","Allow option suggestion":"Permitir sugerencia de opciones","Also send as a direct message":"También enviar como mensaje directo","Also send in channel":"También enviar en el canal","An error has occurred during recording":"Se ha producido un error durante la grabación","An error has occurred during the recording processing":"Se ha producido un error durante el procesamiento de la grabación",Anonymous:Anonymous$9,"Anonymous poll":"Encuesta anónima",Archive:Archive$9,"Ask a question":"Hacer una pregunta","Attach files":"Adjuntar archivos","Attachment upload blocked due to {{reason}}":"Carga de adjunto bloqueada debido a {{reason}}","Attachment upload failed due to {{reason}}":"Carga de adjunto fallida debido a {{reason}}",Cancel:Cancel$9,"Cannot seek in the recording":"No se puede buscar en la grabación","Channel Missing":"Falta canal",Close:Close$9,"Close emoji picker":"Cerrar el selector de emojis","Commands matching":"Coincidencia de comandos","Connection failure, reconnecting now...":"Fallo de conexión, reconectando ahora...",Create:Create$9,"Create poll":"Crear encuesta",Delete:Delete$9,Delivered:Delivered$9,"Download attachment {{ name }}":"Descargar adjunto {{ name }}","Drag your files here":"Arrastra tus archivos aquí","Drag your files here to add to your post":"Arrastra tus archivos aquí para agregarlos a tu publicación","Due since {{ dueSince }}":"Vencido desde {{ dueSince }}","Due {{ timeLeft }}":"Vence en {{ timeLeft }}","Edit Message":"Editar mensaje","Edit message request failed":"Error al editar la solicitud de mensaje",Edited:Edited$9,"Emoji matching":"Coincidencia de emoji","Empty message...":"Mensaje vacío...",End:End$9,"End vote":"Finalizar votación","Error adding flag":"Error al agregar la bandera","Error connecting to chat, refresh the page to try again.":"Error al conectarse al chat, actualice la página para volver a intentarlo.","Error deleting message":"Error al eliminar el mensaje","Error fetching reactions":"Error al cargar las reacciones","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Error al marcar el mensaje como no leído. No se pueden marcar mensajes no leídos más antiguos que los últimos 100 mensajes del canal.","Error muting a user ...":"Error al silenciar el usuario...","Error pinning message":"Error al fijar el mensaje","Error removing message pin":"Error al quitar el pin del mensaje","Error reproducing the recording":"Error al reproducir la grabación","Error starting recording":"Error al iniciar la grabación","Error unmuting a user ...":"Error al desactivar el silencio del usuario...","Error uploading attachment":"Error al subir el archivo adjunto","Error uploading file":"Error al cargar el archivo","Error uploading image":"Error al subir la imagen","Error · Unsent":"Error · No enviado","Error: {{ errorMessage }}":"Error: {{ errorMessage }}","Failed to create the poll":"Error al crear la encuesta","Failed to create the poll due to {{reason}}":"No se pudo crear la encuesta debido a {{reason}}","Failed to jump to the first unread message":"Error al saltar al primer mensaje no leído","Failed to mark channel as read":"Error al marcar el canal como leído","Failed to play the recording":"No se pudo reproducir la grabación",File:File$a,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"El archivo es demasiado grande: {{ size }}, el tamaño máximo de carga es de {{ limit }}",Flag:Flag$9,"Generating...":"Generando...","Latest Messages":"Últimos mensajes","Load more":"Cargar más","Mark as unread":"Marcar como no leído","Maximum number of votes (from 2 to 10)":"Número máximo de votos (de 2 a 10)",Menu:Menu$9,"Message Failed · Click to try again":"Mensaje fallido · Haga clic para volver a intentarlo","Message Failed · Unauthorized":"Mensaje fallido · No autorizado","Message deleted":"Mensaje eliminado","Message has been successfully flagged":"El mensaje se marcó correctamente","Message pinned":"Mensaje fijado","Message was blocked by moderation policies":"El mensaje fue bloqueado por las políticas de moderación","Messages have been marked unread.":"Los mensajes han sido marcados como no leídos.","Missing permissions to upload the attachment":"Faltan permisos para subir el archivo adjunto","Multiple answers":"Múltiples respuestas",Mute:Mute$9,New:New$9,"New Messages!":"¡Nuevos mensajes!","No chats here yet…":"Aún no hay mensajes aquí...","No results found":"No se han encontrado resultados","Nobody will be able to vote in this poll anymore.":"Nadie podrá votar en esta encuesta.","Nothing yet...":"Nada aún...",Ok:Ok$9,"Only numbers are allowed":"Solo se permiten números","Open emoji picker":"Abrir el selector de emojis","Option already exists":"La opción ya existe",Options:Options$9,"People matching":"Personas que coinciden",Pin:Pin$9,"Pinned by":"Fijado por",Poll:Poll$9,"Poll comments":"Comentarios de la encuesta","Poll options":"Opciones de la encuesta","Poll results":"Resultados de la encuesta",Question:Question$9,Quote:Quote$9,"Recording format is not supported and cannot be reproduced":"El formato de grabación no es compatible y no se puede reproducir","Remind Me":"Recordarme","Remove reminder":"Eliminar recordatorio",Reply:Reply$9,"Reply to Message":"Responder al mensaje","Save for later":"Guardar para más tarde","Saved for later":"Guardado para más tarde",Search:Search$9,"Searching...":"Buscando...","See all options ({{count}})_many":"Ver todas las opciones ({{count}})","See all options ({{count}})_one":"Ver todas las opciones ({{count}})","See all options ({{count}})_other":"Ver todas las opciones ({{count}})","Select one":"Seleccionar uno","Select one or more":"Seleccionar uno o más","Select up to {{count}}_many":"Selecciona hasta {{count}}","Select up to {{count}}_one":"Selecciona hasta {{count}}","Select up to {{count}}_other":"Selecciona hasta {{count}}",Send:Send$9,"Send Anyway":"Enviar de todos modos","Send message request failed":"Error al enviar la solicitud de mensaje","Sending...":"Enviando...","Show all":"Mostrar todo",Shuffle:Shuffle$9,"Slow Mode ON":"Modo lento activado","Some of the files will not be accepted":"Algunos archivos no serán aceptados","Start typing to search":"Empieza a escribir para buscar",Submit:Submit$9,"Suggest an option":"Sugerir una opción","Thinking...":"Pensando...","This message did not meet our content guidelines":"Este mensaje no cumple con nuestras directrices de contenido","This message was deleted...":"Este mensaje fue eliminado...",Thread:Thread$a,"Thread has not been found":"No se ha encontrado el hilo","Thread reply":"Respuesta en hilo","To start recording, allow the camera access in your browser":"Para comenzar a grabar, permita el acceso a la cámara en su navegador","To start recording, allow the microphone access in your browser":"Para comenzar a grabar, permita el acceso al micrófono en su navegador","Type a number from 2 to 10":"Escribe un número del 2 al 10","Type your message":"Escribe tu mensaje",Unarchive:Unarchive$9,Unmute:Unmute$9,Unpin:Unpin$9,"Unread messages":"Mensajes no leídos","Unsupported attachment":"Adjunto no compatible","Update your comment":"Actualizar tu comentario",'Upload type: "{{ type }}" is not allowed':'Tipo de carga: "{{ type }}" no está permitido',"User uploaded content":"Contenido subido por el usuario","View results":"Ver resultados","View {{count}} comments_many":"Ver {{count}} comentarios","View {{count}} comments_one":"Ver {{count}} comentario","View {{count}} comments_other":"Ver {{count}} comentarios","Voice message":"Mensaje de voz","Vote ended":"Votación finalizada","Wait until all attachments have uploaded":"Espere hasta que se hayan cargado todos los archivos adjuntos",You:You$9,"You have no channels currently":"Actualmente no tienes canales","You've reached the maximum number of files":"Has alcanzado el número máximo de archivos","aria/Attachment":"Adjunto","aria/Cancel Reply":"Cancelar respuesta","aria/Cancel upload":"Cancelar carga","aria/Channel list":"Lista de canales","aria/Channel search results":"Resultados de búsqueda de canales","aria/Close thread":"Cerrar hilo","aria/Download attachment":"Descargar adjunto","aria/Emoji picker":"Selector de emojis","aria/File input":"Entrada de archivo","aria/File upload":"Carga de archivo","aria/Image input":"Entrada de imagen","aria/Load More Channels":"Cargar más canales","aria/Menu":"Menú","aria/Message Options":"Opciones de mensaje","aria/Open Attachment Selector":"Abrir selector de adjuntos","aria/Open Message Actions Menu":"Abrir menú de acciones de mensaje","aria/Open Reaction Selector":"Abrir selector de reacciones","aria/Open Thread":"Abrir hilo","aria/Reaction list":"Lista de reacciones","aria/Remind Me Options":"Opciones de recordatorio","aria/Remove attachment":"Eliminar adjunto","aria/Retry upload":"Reintentar carga","aria/Search results":"Resultados de búsqueda","aria/Search results header filter button":"Botón de filtro del encabezado de resultados de búsqueda","aria/Send":"Enviar","aria/Stop AI Generation":"Detener generación de IA","ban-command-args":"[@usuario] [texto]","ban-command-description":"Prohibir a un usuario","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[texto]","giphy-command-description":"Publicar un gif aleatorio en el canal",live:live$9,"mute-command-args":"[@usuario]","mute-command-description":"Silenciar a un usuario","network error":"error de red",replyCount_many:replyCount_many$4,replyCount_one:replyCount_one$9,replyCount_other:replyCount_other$9,"search-results-header-filter-source-button-label--channels":"canales","search-results-header-filter-source-button-label--messages":"mensajes","search-results-header-filter-source-button-label--users":"usuarios",searchResultsCount_many:searchResultsCount_many$4,searchResultsCount_one:searchResultsCount_one$9,searchResultsCount_other:searchResultsCount_other$9,"size limit":"límite de tamaño","this content could not be displayed":"Este contenido no se pudo mostrar","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@usuario]","unban-command-description":"Quitar la prohibición a un usuario","unknown error":"error desconocido","unmute-command-args":"[@usuario]","unmute-command-description":"Desactivar el silencio de un usuario",unreadMessagesSeparatorText_many:unreadMessagesSeparatorText_many$4,unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$7,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$9,"unsupported file type":"tipo de archivo no compatible","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} y {{ moreCount }} más","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} y {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} y {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} más","{{ memberCount }} members":"{{ memberCount }} miembros","{{ user }} has been muted":"{{ user }} ha sido silenciado","{{ user }} has been unmuted":"Se ha desactivado el silencio de {{ user }}","{{ user }} is typing...":"{{ user }} está escribiendo...","{{ users }} and more are typing...":"{{ users }} y más están escribiendo...","{{ users }} and {{ user }} are typing...":"{{ users }} y {{ user }} están escribiendo...","{{ watcherCount }} online":"{{ watcherCount }} en línea","{{count}} unread_many":"{{count}} no leídos","{{count}} unread_one":"{{count}} no leído","{{count}} unread_other":"{{count}} no leídos","{{count}} votes_many":"{{count}} votos","{{count}} votes_one":"1 voto","{{count}} votes_other":"{{count}} votos","🏙 Attachment...":"🏙 Adjunto...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} creó: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} votó: {{pollOptionText}}"},Anonymous$8="Anonyme",Archive$8="Archive",Cancel$8="Annuler",Close$8="Fermer",Create$8="Créer",Delete$8="Supprimer",Delivered$8="Publié",Edited$8="Modifié",End$8="Fin",File$9="Fichier",Flag$8="Signaler",Menu$8="Menu",Mute$8="Muet",New$8="Nouveau",Ok$8="D'accord",Options$8="Options",Pin$8="Épingler",Poll$8="Sondage",Question$8="Question",Quote$8="Citer",Reply$8="Répondre",Search$8="Rechercher",Send$8="Envoyer",Shuffle$8="Mélanger",Submit$8="Envoyer",Thread$9="Fil de discussion",Unarchive$8="Désarchiver",Unmute$8="Désactiver muet",Unpin$8="Détacher",You$8="Vous",live$8="en direct",replyCount_many$3="{{ count }} réponses",replyCount_one$8="1 réponse",replyCount_other$8="{{ count }} réponses",searchResultsCount_many$3="{{ count }} résultats",searchResultsCount_one$8="1 résultat",searchResultsCount_other$8="{{ count }} résultats",unreadMessagesSeparatorText_many$3="{{count}} messages non lus",unreadMessagesSeparatorText_one$6="1 message non lu",unreadMessagesSeparatorText_other$8="{{count}} messages non lus",frTranslations={"Add a comment":"Ajouter un commentaire","Add an option":"Ajouter une option","All results loaded":"Tous les résultats sont chargés","Allow access to camera":"Autoriser l'accès à la caméra","Allow access to microphone":"Autoriser l'accès au microphone","Allow comments":"Autoriser les commentaires","Allow option suggestion":"Autoriser la suggestion d'options","Also send as a direct message":"Également envoyer en message direct","Also send in channel":"Également envoyer dans le canal","An error has occurred during recording":"Une erreur s'est produite pendant l'enregistrement","An error has occurred during the recording processing":"Une erreur s'est produite pendant le traitement de l'enregistrement",Anonymous:Anonymous$8,"Anonymous poll":"Sondage anonyme",Archive:Archive$8,"Ask a question":"Poser une question","Attach files":"Joindre des fichiers","Attachment upload blocked due to {{reason}}":"Téléchargement de pièce jointe bloqué en raison de {{reason}}","Attachment upload failed due to {{reason}}":"Échec du téléchargement de la pièce jointe en raison de {{reason}}",Cancel:Cancel$8,"Cannot seek in the recording":"Impossible de rechercher dans l'enregistrement","Channel Missing":"Canal Manquant",Close:Close$8,"Close emoji picker":"Fermer le sélecteur d'émojis","Commands matching":"Correspondance des commandes","Connection failure, reconnecting now...":"Échec de la connexion, reconnexion en cours...",Create:Create$8,"Create poll":"Créer un sondage",Delete:Delete$8,Delivered:Delivered$8,"Download attachment {{ name }}":"Télécharger la pièce jointe {{ name }}","Drag your files here":"Glissez vos fichiers ici","Drag your files here to add to your post":"Glissez vos fichiers ici pour les ajouter à votre publication","Due since {{ dueSince }}":"Échéance depuis {{ dueSince }}","Due {{ timeLeft }}":"Échéance dans {{ timeLeft }}","Edit Message":"Éditer un message","Edit message request failed":"Échec de la demande de modification du message",Edited:Edited$8,"Emoji matching":"Correspondance d'émojis","Empty message...":"Message vide...",End:End$8,"End vote":"Fin du vote","Error adding flag":"Erreur lors de l'ajout du signalement","Error connecting to chat, refresh the page to try again.":"Erreur de connexion au chat, rafraîchissez la page pour réessayer.","Error deleting message":"Erreur lors de la suppression du message","Error fetching reactions":"Erreur lors du chargement des réactions","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Erreur lors de la marque du message comme non lu. Impossible de marquer des messages non lus plus anciens que les 100 derniers messages du canal.","Error muting a user ...":"Erreur lors de la mise en sourdine d'un utilisateur...","Error pinning message":"Erreur lors de l'épinglage du message","Error removing message pin":"Erreur lors du retrait de l'épinglage du message","Error reproducing the recording":"Erreur lors de la reproduction de l'enregistrement","Error starting recording":"Erreur lors du démarrage de l'enregistrement","Error unmuting a user ...":"Erreur lors du démarrage de la sourdine d'un utilisateur ...","Error uploading attachment":"Erreur lors du téléchargement de la pièce jointe","Error uploading file":"Erreur lors du téléchargement du fichier","Error uploading image":"Erreur lors de l'envoi de l'image","Error · Unsent":"Erreur - Non envoyé","Error: {{ errorMessage }}":"Erreur : {{ errorMessage }}","Failed to create the poll":"Échec de la création du sondage","Failed to create the poll due to {{reason}}":"Échec de la création du sondage en raison de {{reason}}","Failed to jump to the first unread message":"Échec du saut vers le premier message non lu","Failed to mark channel as read":"Échec du marquage du canal comme lu","Failed to play the recording":"Impossible de lire l'enregistrement",File:File$9,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Le fichier est trop volumineux : {{ size }}, la taille maximale de téléchargement est de {{ limit }}",Flag:Flag$8,"Generating...":"Génération...","Latest Messages":"Derniers messages","Load more":"Charger plus","Mark as unread":"Marquer comme non lu","Maximum number of votes (from 2 to 10)":"Nombre maximum de votes (de 2 à 10)",Menu:Menu$8,"Message Failed · Click to try again":"Échec de l'envoi du message - Cliquez pour réessayer","Message Failed · Unauthorized":"Échec de l'envoi du message - Non autorisé","Message deleted":"Message supprimé","Message has been successfully flagged":"Le message a été signalé avec succès","Message pinned":"Message épinglé","Message was blocked by moderation policies":"Le message a été bloqué par les politiques de modération","Messages have been marked unread.":"Les messages ont été marqués comme non lus.","Missing permissions to upload the attachment":"Autorisations manquantes pour télécharger la pièce jointe","Multiple answers":"Réponses multiples",Mute:Mute$8,New:New$8,"New Messages!":"Nouveaux Messages!","No chats here yet…":"Pas encore de messages ici...","No results found":"Aucun résultat trouvé","Nobody will be able to vote in this poll anymore.":"Personne ne pourra plus voter dans ce sondage.","Nothing yet...":"Rien pour l'instant...",Ok:Ok$8,"Only numbers are allowed":"Seuls les chiffres sont autorisés","Open emoji picker":"Ouvrir le sélecteur d'émojis","Option already exists":"L'option existe déjà",Options:Options$8,"People matching":"Correspondance de personnes",Pin:Pin$8,"Pinned by":"Épinglé par",Poll:Poll$8,"Poll comments":"Commentaires du sondage","Poll options":"Options du sondage","Poll results":"Résultats du sondage",Question:Question$8,Quote:Quote$8,"Recording format is not supported and cannot be reproduced":"Le format d'enregistrement n'est pas pris en charge et ne peut pas être reproduit","Remind Me":"Me rappeler","Remove reminder":"Supprimer le rappel",Reply:Reply$8,"Reply to Message":"Répondre au message","Save for later":"Enregistrer pour plus tard","Saved for later":"Enregistré pour plus tard",Search:Search$8,"Searching...":"Recherche en cours...","See all options ({{count}})_many":"Voir toutes les options ({{count}})","See all options ({{count}})_one":"Voir toutes les options ({{count}})","See all options ({{count}})_other":"Voir toutes les options ({{count}})","Select one":"Sélectionner un","Select one or more":"Sélectionner un ou plusieurs","Select up to {{count}}_many":"Sélectionner jusqu'à {{count}}","Select up to {{count}}_one":"Sélectionner jusqu'à {{count}}","Select up to {{count}}_other":"Sélectionner jusqu'à {{count}}",Send:Send$8,"Send Anyway":"Envoyer quand même","Send message request failed":"Échec de la demande d'envoi de message","Sending...":"Envoi en cours...","Show all":"Tout afficher",Shuffle:Shuffle$8,"Slow Mode ON":"Mode lent activé","Some of the files will not be accepted":"Certains fichiers ne seront pas acceptés","Start typing to search":"Commencez à taper pour rechercher",Submit:Submit$8,"Suggest an option":"Suggérer une option","Thinking...":"Réflexion...","This message did not meet our content guidelines":"Ce message ne respecte pas nos directives de contenu","This message was deleted...":"Ce message a été supprimé...",Thread:Thread$9,"Thread has not been found":"Le fil de discussion n'a pas été trouvé","Thread reply":"Réponse dans le fil","To start recording, allow the camera access in your browser":"Pour commencer l'enregistrement, autorisez l'accès à la caméra dans votre navigateur","To start recording, allow the microphone access in your browser":"Pour commencer l'enregistrement, autorisez l'accès au microphone dans votre navigateur","Type a number from 2 to 10":"Tapez un nombre de 2 à 10","Type your message":"Tapez votre message",Unarchive:Unarchive$8,Unmute:Unmute$8,Unpin:Unpin$8,"Unread messages":"Messages non lus","Unsupported attachment":"Pièce jointe non prise en charge","Update your comment":"Mettre à jour votre commentaire",'Upload type: "{{ type }}" is not allowed':`Le type de fichier : "{{ type }}" n'est pas autorisé`,"User uploaded content":"Contenu téléchargé par l'utilisateur","View results":"Voir les résultats","View {{count}} comments_many":"Voir {{count}} commentaires","View {{count}} comments_one":"Voir {{count}} commentaire","View {{count}} comments_other":"Voir {{count}} commentaires","Voice message":"Message vocal","Vote ended":"Vote terminé","Wait until all attachments have uploaded":"Attendez que toutes les pièces jointes soient téléchargées",You:You$8,"You have no channels currently":"Vous n'avez actuellement aucun canal","You've reached the maximum number of files":"Vous avez atteint le nombre maximal de fichiers","aria/Attachment":"Pièce jointe","aria/Cancel Reply":"Annuler la réponse","aria/Cancel upload":"Annuler le téléchargement","aria/Channel list":"Liste des canaux","aria/Channel search results":"Résultats de recherche de canaux","aria/Close thread":"Fermer le fil","aria/Download attachment":"Télécharger la pièce jointe","aria/Emoji picker":"Sélecteur d'émojis","aria/File input":"Entrée de fichier","aria/File upload":"Téléchargement de fichier","aria/Image input":"Entrée d'image","aria/Load More Channels":"Charger plus de canaux","aria/Menu":"Menu","aria/Message Options":"Options du message","aria/Open Attachment Selector":"Ouvrir le sélecteur de pièces jointes","aria/Open Message Actions Menu":"Ouvrir le menu des actions du message","aria/Open Reaction Selector":"Ouvrir le sélecteur de réactions","aria/Open Thread":"Ouvrir le fil","aria/Reaction list":"Liste des réactions","aria/Remind Me Options":"Options de rappel","aria/Remove attachment":"Supprimer la pièce jointe","aria/Retry upload":"Réessayer le téléchargement","aria/Search results":"Résultats de recherche","aria/Search results header filter button":"Bouton de filtre d'en-tête des résultats de recherche","aria/Send":"Envoyer","aria/Stop AI Generation":"Arrêter la génération d'IA","ban-command-args":"[@nomdutilisateur] [texte]","ban-command-description":"Bannir un utilisateur","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[texte]","giphy-command-description":"Poster un GIF aléatoire dans le canal",live:live$8,"mute-command-args":"[@nomdutilisateur]","mute-command-description":"Muter un utilisateur","network error":"erreur réseau",replyCount_many:replyCount_many$3,replyCount_one:replyCount_one$8,replyCount_other:replyCount_other$8,"search-results-header-filter-source-button-label--channels":"canaux","search-results-header-filter-source-button-label--messages":"messages","search-results-header-filter-source-button-label--users":"utilisateurs",searchResultsCount_many:searchResultsCount_many$3,searchResultsCount_one:searchResultsCount_one$8,searchResultsCount_other:searchResultsCount_other$8,"size limit":"limite de taille","this content could not be displayed":"ce contenu n'a pas pu être affiché","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@nomdutilisateur]","unban-command-description":"Débannir un utilisateur","unknown error":"erreur inconnue","unmute-command-args":"[@nomdutilisateur]","unmute-command-description":"Démuter un utilisateur",unreadMessagesSeparatorText_many:unreadMessagesSeparatorText_many$3,unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$6,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$8,"unsupported file type":"type de fichier non pris en charge","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} et {{ moreCount }} autres","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} et {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} et {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} supplémentaires","{{ memberCount }} members":"{{ memberCount }} membres","{{ user }} has been muted":"{{ user }} a été mis en sourdine","{{ user }} has been unmuted":"{{ user }} n'est plus en sourdine","{{ user }} is typing...":"{{ user }} est en train d'écrire...","{{ users }} and more are typing...":"{{ users }} et plus sont en train d'écrire...","{{ users }} and {{ user }} are typing...":"{{ users }} et {{ user }} sont en train d'écrire...","{{ watcherCount }} online":"{{ watcherCount }} en ligne","{{count}} unread_many":"{{count}} non lus","{{count}} unread_one":"{{count}} non lu","{{count}} unread_other":"{{count}} non lus","{{count}} votes_many":"{{count}} votes","{{count}} votes_one":"{{count}} vote","{{count}} votes_other":"{{count}} votes","🏙 Attachment...":"🏙 Pièce jointe...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} a créé : {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} a voté : {{pollOptionText}}"},Anonymous$7="गुमनाम",Archive$7="आर्काइव",Cancel$7="रद्द करें",Close$7="बंद करे",Create$7="बनाएँ",Delete$7="डिलीट",Delivered$7="पहुंच गया",Edited$7="संपादित",End$7="समाप्त",File$8="फ़ाइल",Flag$7="फ्लैग करे",Menu$7="मेन्यू",Mute$7="म्यूट करे",New$7="नए",Ok$7="ठीक है",Options$7="विकल्प",Pin$7="पिन",Poll$7="मतदान",Question$7="प्रश्न",Quote$7="उद्धरण",Reply$7="जवाब दे दो",Search$7="खोज",Send$7="भेजे",Shuffle$7="मिश्रित करें",Submit$7="जमा करें",Thread$8="रिप्लाई थ्रेड",Unarchive$7="अनआर्काइव",Unmute$7="अनम्यूट",Unpin$7="अनपिन",You$7="आप",live$7="लाइव",replyCount_one$7="1 रिप्लाई",replyCount_other$7="{{ count }} रिप्लाई",searchResultsCount_one$7="1 परिणाम",searchResultsCount_other$7="{{ count }} परिणाम",unreadMessagesSeparatorText_one$5="1 अपठित संदेश",unreadMessagesSeparatorText_other$7="{{count}} अपठित संदेश",hiTranslations={"Add a comment":"एक टिप्पणी जोड़ें","Add an option":"एक विकल्प जोड़ें","All results loaded":"सभी परिणाम लोड हो गए","Allow access to camera":"कैमरा तक पहुँच दें","Allow access to microphone":"माइक्रोफ़ोन तक पहुँच दें","Allow comments":"टिप्पणियाँ की अनुमति दें","Allow option suggestion":"विकल्प सुझाव की अनुमति दें","Also send as a direct message":"सीधे संदेश के रूप में भी भेजें","Also send in channel":"चैनल में भी भेजें","An error has occurred during recording":"रेकॉर्डिंग के दौरान एक त्रुटि आ गई है","An error has occurred during the recording processing":"रेकॉर्डिंग प्रोसेसिंग के दौरान एक त्रुटि आ गई है",Anonymous:Anonymous$7,"Anonymous poll":"गुमनाम मतदान",Archive:Archive$7,"Ask a question":"एक प्रश्न पूछें","Attach files":"फाइल्स अटैच करे","Attachment upload blocked due to {{reason}}":"{{reason}} के कारण अटैचमेंट अपलोड ब्लॉक किया गया","Attachment upload failed due to {{reason}}":"{{reason}} के कारण अटैचमेंट अपलोड विफल रहा",Cancel:Cancel$7,"Cannot seek in the recording":"रेकॉर्डिंग में खोज नहीं की जा सकती","Channel Missing":"चैनल उपलब्ध नहीं है",Close:Close$7,"Close emoji picker":"इमोजी पिकर बंद करें","Commands matching":"मेल खाती है","Connection failure, reconnecting now...":"कनेक्शन विफल रहा, अब पुनः कनेक्ट हो रहा है ...",Create:Create$7,"Create poll":"मतदान बनाएँ",Delete:Delete$7,Delivered:Delivered$7,"Download attachment {{ name }}":"अनुलग्नक {{ name }} डाउनलोड करें","Drag your files here":"अपनी फ़ाइलें यहाँ खींचें","Drag your files here to add to your post":"अपनी फ़ाइलें यहाँ खींचें और अपने पोस्ट में जोड़ने के लिए","Due since {{ dueSince }}":"{{ dueSince }} से देय","Due {{ timeLeft }}":"{{ timeLeft }} में देय","Edit Message":"मैसेज में बदलाव करे","Edit message request failed":"संदेश संपादित करने का अनुरोध विफल रहा",Edited:Edited$7,"Emoji matching":"इमोजी मिलान","Empty message...":"खाली संदेश ...",End:End$7,"End vote":"मत समाप्त करें","Error adding flag":"ध्वज जोड़ने में त्रुटि","Error connecting to chat, refresh the page to try again.":"चैट से कनेक्ट करने में त्रुटि, पेज को रिफ्रेश करें","Error deleting message":"संदेश हटाने में त्रुटि","Error fetching reactions":"प्रतिक्रियाएँ लोड करने में त्रुटि","Error marking message unread":"संदेश को अपठित चिह्नित करने में त्रुटि","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"संदेश को अपठित मार्क करने में त्रुटि। सबसे नए 100 चैनल संदेश से पहले के सभी अपठित संदेशों को अपठित मार्क नहीं किया जा सकता है।","Error muting a user ...":"यूजर को म्यूट करने का प्रयास फेल हुआ","Error pinning message":"संदेश को पिन करने में त्रुटि","Error removing message pin":"संदेश पिन निकालने में त्रुटि","Error reproducing the recording":"रिकॉर्डिंग पुन: उत्पन्न करने में त्रुटि","Error starting recording":"रेकॉर्डिंग शुरू करने में त्रुटि","Error unmuting a user ...":"यूजर को अनम्यूट करने का प्रयास फेल हुआ","Error uploading attachment":"अटैचमेंट अपलोड करते समय त्रुटि","Error uploading file":"फ़ाइल अपलोड करने में त्रुटि","Error uploading image":"छवि अपलोड करने में त्रुटि","Error · Unsent":"फेल","Error: {{ errorMessage }}":"फेल: {{ errorMessage }}","Failed to create the poll":"मतदान बनाने में विफल","Failed to create the poll due to {{reason}}":"मतदान {{reason}} के कारण नहीं बन सका","Failed to jump to the first unread message":"पहले अपठित संदेश पर जाने में विफल","Failed to mark channel as read":"चैनल को पढ़ा हुआ चिह्नित करने में विफल।","Failed to play the recording":"रेकॉर्डिंग प्ले करने में विफल",File:File$8,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"फ़ाइल बहुत बड़ी है: {{ size }}, अधिकतम अपलोड साइज़ {{ limit }} है",Flag:Flag$7,"Generating...":"बना रहा है...","Latest Messages":"नवीनतम संदेश","Load more":"और लोड करें","Mark as unread":"अपठित चिह्नित करें","Maximum number of votes (from 2 to 10)":"अधिकतम वोटों की संख्या (2 से 10)",Menu:Menu$7,"Message Failed · Click to try again":"मैसेज फ़ैल - पुनः कोशिश करें","Message Failed · Unauthorized":"मैसेज फ़ैल - अनधिकृत","Message deleted":"मैसेज हटा दिया गया","Message has been successfully flagged":"मैसेज को फ्लैग कर दिया गया है","Message pinned":"संदेश पिन किया गया","Message was blocked by moderation policies":"संदेश को मॉडरेशन नीतियों द्वारा ब्लॉक कर दिया गया है","Messages have been marked unread.":"संदेशों को अपठित चिह्नित किया गया है।","Missing permissions to upload the attachment":"अटैचमेंट अपलोड करने के लिए अनुमतियां गायब","Multiple answers":"कई उत्तर",Mute:Mute$7,New:New$7,"New Messages!":"नए मैसेज!","No chats here yet…":"यहां अभी तक कोई चैट नहीं...","No results found":"कोई परिणाम नहीं मिला","Nobody will be able to vote in this poll anymore.":"अब कोई भी इस मतदान में मतदान नहीं कर सकेगा।","Nothing yet...":"कोई मैसेज नहीं है",Ok:Ok$7,"Only numbers are allowed":"केवल संख्याएँ अनुमत हैं","Open emoji picker":"इमोजी पिकर खोलिये","Option already exists":"विकल्प पहले से मौजूद है",Options:Options$7,"People matching":"मेल खाते लोग",Pin:Pin$7,"Pinned by":"द्वारा पिन किया गया",Poll:Poll$7,"Poll comments":"मतदान टिप्पणियाँ","Poll options":"मतदान विकल्प","Poll results":"मतदान परिणाम",Question:Question$7,Quote:Quote$7,"Recording format is not supported and cannot be reproduced":"रेकॉर्डिंग फ़ॉर्मेट समर्थित नहीं है और पुनः उत्पन्न नहीं किया जा सकता","Remind Me":"मुझे याद दिलाएं","Remove reminder":"रिमाइंडर हटाएं",Reply:Reply$7,"Reply to Message":"संदेश का जवाब दें","Save for later":"बाद के लिए सहेजें","Saved for later":"बाद के लिए सहेजा गया",Search:Search$7,"Searching...":"खोज कर...","See all options ({{count}})_one":"सभी विकल्प देखें ({{count}})","See all options ({{count}})_other":"सभी विकल्प देखें ({{count}})","Select one":"एक चुनें","Select one or more":"एक या अधिक चुनें","Select up to {{count}}_one":"अधिकतम {{count}} तक चुनें","Select up to {{count}}_other":"अधिकतम {{count}} तक चुनें",Send:Send$7,"Send Anyway":"वैसे भी भेजें","Send message request failed":"संदेश भेजने का अनुरोध विफल रहा","Sending...":"भेजा जा रहा है","Show all":"सभी दिखाएँ",Shuffle:Shuffle$7,"Slow Mode ON":"स्लो मोड ऑन","Some of the files will not be accepted":"कुछ फ़ाइलें स्वीकार नहीं की जाएंगी","Start typing to search":"खोजने के लिए टाइप करना शुरू करें",Submit:Submit$7,"Suggest an option":"एक विकल्प सुझाव दें","Thinking...":"सोच रहा है...","This message did not meet our content guidelines":"यह संदेश हमारे सामग्री दिशानिर्देशों के अनुरूप नहीं था","This message was deleted...":"मैसेज हटा दिया गया",Thread:Thread$8,"Thread has not been found":"थ्रेड नहीं मिला","Thread reply":"थ्रेड में उत्तर","To start recording, allow the camera access in your browser":"रिकॉर्डिंग शुरू करने के लिए, अपने ब्राउज़र में कैमरा तक पहुँच दें","To start recording, allow the microphone access in your browser":"रिकॉर्डिंग शुरू करने के लिए, अपने ब्राउज़र में माइक्रोफ़ोन तक पहुँच दें","Type a number from 2 to 10":"2 से 10 तक का एक नंबर टाइप करें","Type your message":"अपना मैसेज लिखे",Unarchive:Unarchive$7,Unmute:Unmute$7,Unpin:Unpin$7,"Unread messages":"अपठित संदेश","Unsupported attachment":"असमर्थित अटैचमेंट","Update your comment":"अपने टिप्पणी को अपडेट करें",'Upload type: "{{ type }}" is not allowed':'अपलोड प्रकार: "{{ type }}" की अनुमति नहीं है',"User uploaded content":"उपयोगकर्ता अपलोड की गई सामग्री","View results":"परिणाम देखें","View {{count}} comments_one":"देखें {{count}} टिप्पणी","View {{count}} comments_other":"देखें {{count}} टिप्पणियाँ","Voice message":"आवाज संदेश","Vote ended":"मतदान समाप्त","Wait until all attachments have uploaded":"सभी अटैचमेंट अपलोड होने तक प्रतीक्षा करें",You:You$7,"You have no channels currently":"आपके पास कोई चैनल नहीं है","You've reached the maximum number of files":"आप अधिकतम फ़ाइलों तक पहुँच गए हैं","aria/Attachment":"अनुलग्नक","aria/Cancel Reply":"उत्तर रद्द करें","aria/Cancel upload":"अपलोड रद्द करें","aria/Channel list":"चैनल सूची","aria/Channel search results":"चैनल खोज परिणाम","aria/Close thread":"थ्रेड बंद करें","aria/Download attachment":"अनुलग्नक डाउनलोड करें","aria/Emoji picker":"इमोजी चुनने वाला","aria/File input":"फ़ाइल इनपुट","aria/File upload":"फ़ाइल अपलोड","aria/Image input":"छवि इनपुट","aria/Load More Channels":"और चैनल लोड करें","aria/Menu":"मेन्यू","aria/Message Options":"संदेश विकल्प","aria/Open Attachment Selector":"अटैचमेंट चयनकर्ता खोलें","aria/Open Message Actions Menu":"संदेश क्रिया मेन्यू खोलें","aria/Open Reaction Selector":"प्रतिक्रिया चयनकर्ता खोलें","aria/Open Thread":"थ्रेड खोलें","aria/Reaction list":"प्रतिक्रिया सूची","aria/Remind Me Options":"रिमाइंडर विकल्प","aria/Remove attachment":"संलग्नक हटाएं","aria/Retry upload":"अपलोड पुनः प्रयास करें","aria/Search results":"खोज परिणाम","aria/Search results header filter button":"खोज परिणाम हेडर फ़िल्टर बटन","aria/Send":"भेजें","aria/Stop AI Generation":"एआई जनरेशन रोकें","ban-command-args":"[@उपयोगकर्तनाम] [पाठ]","ban-command-description":"एक उपयोगकर्ता को प्रतिषेधित करें","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[पाठ]","giphy-command-description":"चैनल पर एक क्रॉफिल जीआइएफ पोस्ट करें",live:live$7,"mute-command-args":"[@उपयोगकर्तनाम]","mute-command-description":"एक उपयोगकर्ता को म्यूट करें","network error":"नेटवर्क त्रुटि",replyCount_one:replyCount_one$7,replyCount_other:replyCount_other$7,"search-results-header-filter-source-button-label--channels":"चैनल्स","search-results-header-filter-source-button-label--messages":"संदेश","search-results-header-filter-source-button-label--users":"उपयोगकर्ता",searchResultsCount_one:searchResultsCount_one$7,searchResultsCount_other:searchResultsCount_other$7,"size limit":"आकार सीमा","this content could not be displayed":"यह कॉन्टेंट लोड नहीं हो पाया","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@उपयोगकर्तनाम]","unban-command-description":"एक उपयोगकर्ता को प्रतिषेध से मुक्त करें","unknown error":"अज्ञात त्रुटि","unmute-command-args":"[@उपयोगकर्तनाम]","unmute-command-description":"एक उपयोगकर्ता को अनम्यूट करें",unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$5,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$7,"unsupported file type":"असमर्थित फ़ाइल प्रकार","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} और {{ moreCount }} और","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} और {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} और {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} और","{{ memberCount }} members":"{{ memberCount }} मेंबर्स","{{ user }} has been muted":"{{ user }} को म्यूट कर दिया गया है","{{ user }} has been unmuted":"{{ user }} को अनम्यूट कर दिया गया है","{{ user }} is typing...":"{{ user }} टाइप कर रहा है...","{{ users }} and more are typing...":"{{ users }} और अधिक टाइप कर रहे हैं...","{{ users }} and {{ user }} are typing...":"{{ users }} और {{ user }} टाइप कर रहे हैं...","{{ watcherCount }} online":"{{ watcherCount }} ऑनलाइन","{{count}} unread_one":"{{count}} अपठित","{{count}} unread_other":"{{count}} अपठित","{{count}} votes_one":"{{count}} वोट","{{count}} votes_other":"{{count}} वोट","🏙 Attachment...":"🏙 अटैचमेंट","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} ने बनाया: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} ने वोट दिया: {{pollOptionText}}"},Anonymous$6="Anonimo",Archive$6="Archivia",Cancel$6="Annulla",Close$6="Chiudi",Create$6="Crea",Delete$6="Elimina",Delivered$6="Consegnato",Edited$6="Modificato",End$6="Fine",File$7="File",Flag$6="Segnala",Menu$6="Menù",Mute$6="Silenzia",New$6="Nuovo",Ok$6="Ok",Options$6="Opzioni",Pin$6="Pin",Poll$6="Sondaggio",Question$6="Domanda",Quote$6="Citazione",Reply$6="Rispondi",Search$6="Cerca",Send$6="Invia",Shuffle$6="Mescolare",Submit$6="Invia",Thread$7="Discussione",Unarchive$6="Ripristina",Unmute$6="Riattiva il notifiche",Unpin$6="Sblocca",You$6="Tu",live$6="live",replyCount_many$2="{{ count }} risposte",replyCount_one$6="Una risposta",replyCount_other$6="{{ count }} risposte",searchResultsCount_many$2="{{ count }} risultati",searchResultsCount_one$6="1 risultato",searchResultsCount_other$6="{{ count }} risultati",unreadMessagesSeparatorText_many$2="{{count}} messaggi non letti",unreadMessagesSeparatorText_one$4="1 messaggio non letto",unreadMessagesSeparatorText_other$6="{{count}} messaggi non letti",itTranslations={"Add a comment":"Aggiungi un commento","Add an option":"Aggiungi un'opzione","All results loaded":"Tutti i risultati caricati","Allow access to camera":"Consenti l'accesso alla fotocamera","Allow access to microphone":"Consenti l'accesso al microfono","Allow comments":"Consenti i commenti","Allow option suggestion":"Consenti il suggerimento di opzioni","Also send as a direct message":"Invia anche come messaggio diretto","Also send in channel":"Invia anche nel canale","An error has occurred during recording":"Si è verificato un errore durante la registrazione","An error has occurred during the recording processing":"Si è verificato un errore durante l'elaborazione della registrazione",Anonymous:Anonymous$6,"Anonymous poll":"Sondaggio anonimo",Archive:Archive$6,"Ask a question":"Fai una domanda","Attach files":"Allega file","Attachment upload blocked due to {{reason}}":"Caricamento allegato bloccato a causa di {{reason}}","Attachment upload failed due to {{reason}}":"Caricamento allegato fallito a causa di {{reason}}",Cancel:Cancel$6,"Cannot seek in the recording":"Impossibile cercare nella registrazione","Channel Missing":"Il canale non esiste",Close:Close$6,"Close emoji picker":"Chiudi il selettore di emoji","Commands matching":"Comandi corrispondenti","Connection failure, reconnecting now...":"Errore di connessione, riconnessione in corso...",Create:Create$6,"Create poll":"Crea sondaggio",Delete:Delete$6,Delivered:Delivered$6,"Download attachment {{ name }}":"Scarica l'allegato {{ name }}","Drag your files here":"Trascina i tuoi file qui","Drag your files here to add to your post":"Trascina i tuoi file qui per aggiungerli al tuo post","Due since {{ dueSince }}":"Scaduto dal {{ dueSince }}","Due {{ timeLeft }}":"Scadenza tra {{ timeLeft }}","Edit Message":"Modifica messaggio","Edit message request failed":"Richiesta di modifica del messaggio non riuscita",Edited:Edited$6,"Emoji matching":"Abbinamento emoji","Empty message...":"Messaggio vuoto...",End:End$6,"End vote":"Termina il voto","Error adding flag":"Errore durante l'aggiunta del flag","Error connecting to chat, refresh the page to try again.":"Errore di connessione alla chat, aggiorna la pagina per riprovare.","Error deleting message":"Errore durante l'eliminazione del messaggio","Error fetching reactions":"Errore nel caricamento delle reazioni","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Errore durante la marcatura del messaggio come non letto. Impossibile marcare messaggi non letti più vecchi dei più recenti 100 messaggi del canale.","Error muting a user ...":"Errore nel silenziare un utente ...","Error pinning message":"Errore durante il blocco del messaggio","Error removing message pin":"Errore durante la rimozione del PIN del messaggio","Error reproducing the recording":"Errore durante la riproduzione della registrazione","Error starting recording":"Errore durante l'avvio della registrazione","Error unmuting a user ...":"Errore nel riattivare un utente ...","Error uploading attachment":"Errore durante il caricamento dell'allegato","Error uploading file":"Errore durante il caricamento del file","Error uploading image":"Errore durante il caricamento dell'immagine","Error · Unsent":"Errore · Non inviato","Error: {{ errorMessage }}":"Errore: {{ errorMessage }}","Failed to create the poll":"Impossibile creare il sondaggio","Failed to create the poll due to {{reason}}":"Impossibile creare il sondaggio a causa di {{reason}}","Failed to jump to the first unread message":"Impossibile passare al primo messaggio non letto","Failed to mark channel as read":"Impossibile contrassegnare il canale come letto","Failed to play the recording":"Impossibile riprodurre la registrazione",File:File$7,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Il file è troppo grande: {{ size }}, la dimensione massima di caricamento è {{ limit }}",Flag:Flag$6,"Generating...":"Generando...","Latest Messages":"Ultimi messaggi","Load more":"Carica di più","Mark as unread":"Contrassegna come non letto","Maximum number of votes (from 2 to 10)":"Numero massimo di voti (da 2 a 10)",Menu:Menu$6,"Message Failed · Click to try again":"Invio messaggio fallito · Clicca per riprovare","Message Failed · Unauthorized":"Invio messaggio fallito · Non autorizzato","Message deleted":"Messaggio cancellato","Message has been successfully flagged":"Il messaggio è stato segnalato con successo","Message pinned":"Messaggio bloccato","Message was blocked by moderation policies":"Il messaggio è stato bloccato dalle politiche di moderazione","Messages have been marked unread.":"I messaggi sono stati contrassegnati come non letti.","Missing permissions to upload the attachment":"Autorizzazioni mancanti per caricare l'allegato","Multiple answers":"Risposte multiple",Mute:Mute$6,New:New$6,"New Messages!":"Nuovi messaggi!","No chats here yet…":"Non ci sono ancora messaggi qui...","No results found":"Nessun risultato trovato","Nobody will be able to vote in this poll anymore.":"Nessuno potrà più votare in questo sondaggio.","Nothing yet...":"Ancora niente...",Ok:Ok$6,"Only numbers are allowed":"Sono consentiti solo numeri","Open emoji picker":"Apri il selettore di emoji","Option already exists":"L'opzione esiste già",Options:Options$6,"People matching":"Persone che corrispondono",Pin:Pin$6,"Pinned by":"Appuntato da",Poll:Poll$6,"Poll comments":"Commenti del sondaggio","Poll options":"Opzioni del sondaggio","Poll results":"Risultati del sondaggio",Question:Question$6,Quote:Quote$6,"Recording format is not supported and cannot be reproduced":"Il formato di registrazione non è supportato e non può essere riprodotto","Remind Me":"Ricordami","Remove reminder":"Rimuovi promemoria",Reply:Reply$6,"Reply to Message":"Rispondi al messaggio","Save for later":"Salva per dopo","Saved for later":"Salvato per dopo",Search:Search$6,"Searching...":"Ricerca in corso...","See all options ({{count}})_many":"Vedi tutte le opzioni ({{count}})","See all options ({{count}})_one":"Vedi tutte le opzioni ({{count}})","See all options ({{count}})_other":"Vedi tutte le opzioni ({{count}})","Select one":"Seleziona uno","Select one or more":"Seleziona uno o più","Select up to {{count}}_many":"Seleziona fino a {{count}}","Select up to {{count}}_one":"Seleziona fino a {{count}}","Select up to {{count}}_other":"Seleziona fino a {{count}}",Send:Send$6,"Send Anyway":"Invia comunque","Send message request failed":"Richiesta di invio messaggio non riuscita","Sending...":"Invio in corso...","Show all":"Mostra tutto",Shuffle:Shuffle$6,"Slow Mode ON":"Modalità lenta attivata","Some of the files will not be accepted":"Alcuni dei file non saranno accettati","Start typing to search":"Inizia a digitare per cercare",Submit:Submit$6,"Suggest an option":"Suggerisci un'opzione","Thinking...":"Pensando...","This message did not meet our content guidelines":"Questo messaggio non soddisfa le nostre linee guida sui contenuti","This message was deleted...":"Questo messaggio è stato cancellato...",Thread:Thread$7,"Thread has not been found":"Discussione non trovata","Thread reply":"Risposta nella discussione","To start recording, allow the camera access in your browser":"Per iniziare a registrare, consenti l'accesso alla fotocamera nel tuo browser","To start recording, allow the microphone access in your browser":"Per iniziare a registrare, consenti l'accesso al microfono nel tuo browser","Type a number from 2 to 10":"Digita un numero da 2 a 10","Type your message":"Scrivi il tuo messaggio",Unarchive:Unarchive$6,Unmute:Unmute$6,Unpin:Unpin$6,"Unread messages":"Messaggi non letti","Unsupported attachment":"Allegato non supportato","Update your comment":"Aggiorna il tuo commento",'Upload type: "{{ type }}" is not allowed':'Tipo di caricamento: "{{ type }}" non è consentito',"User uploaded content":"Contenuto caricato dall'utente","View results":"Vedi risultati","View {{count}} comments_many":"Visualizza {{count}} commenti","View {{count}} comments_one":"Visualizza {{count}} commento","View {{count}} comments_other":"Visualizza {{count}} commenti","Voice message":"Messaggio vocale","Vote ended":"Voto terminato","Wait until all attachments have uploaded":"Attendi il caricamento di tutti gli allegati",You:You$6,"You have no channels currently":"Al momento non sono presenti canali","You've reached the maximum number of files":"Hai raggiunto il numero massimo di file","aria/Attachment":"Allegato","aria/Cancel Reply":"Annulla risposta","aria/Cancel upload":"Annulla caricamento","aria/Channel list":"Elenco dei canali","aria/Channel search results":"Risultati della ricerca dei canali","aria/Close thread":"Chiudi discussione","aria/Download attachment":"Scarica l'allegato","aria/Emoji picker":"Selettore di emoji","aria/File input":"Input di file","aria/File upload":"Caricamento di file","aria/Image input":"Input di immagine","aria/Load More Channels":"Carica altri canali","aria/Menu":"Menu","aria/Message Options":"Opzioni di messaggio","aria/Open Attachment Selector":"Apri selettore allegati","aria/Open Message Actions Menu":"Apri il menu delle azioni di messaggio","aria/Open Reaction Selector":"Apri il selettore di reazione","aria/Open Thread":"Apri discussione","aria/Reaction list":"Elenco delle reazioni","aria/Remind Me Options":"Opzioni promemoria","aria/Remove attachment":"Rimuovi allegato","aria/Retry upload":"Riprova caricamento","aria/Search results":"Risultati della ricerca","aria/Search results header filter button":"Pulsante filtro intestazione risultati ricerca","aria/Send":"Invia","aria/Stop AI Generation":"Interrompi generazione IA","ban-command-args":"[@nomeutente] [testo]","ban-command-description":"Vietare un utente","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[testo]","giphy-command-description":"Pubblica un gif casuale sul canale",live:live$6,"mute-command-args":"[@nomeutente]","mute-command-description":"Silenzia un utente","network error":"errore di rete",replyCount_many:replyCount_many$2,replyCount_one:replyCount_one$6,replyCount_other:replyCount_other$6,"search-results-header-filter-source-button-label--channels":"canali","search-results-header-filter-source-button-label--messages":"messaggi","search-results-header-filter-source-button-label--users":"utenti",searchResultsCount_many:searchResultsCount_many$2,searchResultsCount_one:searchResultsCount_one$6,searchResultsCount_other:searchResultsCount_other$6,"size limit":"limite di dimensione","this content could not be displayed":"questo contenuto non può essere mostrato","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@nomeutente]","unban-command-description":"Togliere il divieto a un utente","unknown error":"errore sconosciuto","unmute-command-args":"[@nomeutente]","unmute-command-description":"Togliere il silenzio a un utente",unreadMessagesSeparatorText_many:unreadMessagesSeparatorText_many$2,unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$4,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$6,"unsupported file type":"tipo di file non supportato","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} e altri {{ moreCount }}","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} e {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} e {{ secondUser }}","{{ imageCount }} more":"+ {{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} membri","{{ user }} has been muted":"{{ user }} è stato silenziato","{{ user }} has been unmuted":"Notifiche riattivate per {{ user }}","{{ user }} is typing...":"{{ user }} sta digitando...","{{ users }} and more are typing...":"{{ users }} e altri stanno digitando...","{{ users }} and {{ user }} are typing...":"{{ users }} e {{ user }} stanno digitando...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_many":"{{count}} non letti","{{count}} unread_one":"{{count}} non letto","{{count}} unread_other":"{{count}} non letti","{{count}} votes_many":"{{count}} voti","{{count}} votes_one":"{{count}} voto","{{count}} votes_other":"{{count}} voti","🏙 Attachment...":"🏙 Allegato...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} ha creato: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} ha votato: {{pollOptionText}}"},Anonymous$5="匿名",Archive$5="アーカイブ",Cancel$5="キャンセル",Close$5="閉める",Create$5="作成",Delete$5="消去",Delivered$5="配信しました",Edited$5="編集済み",End$5="終了",File$6="ファイル",Flag$5="フラグ",Menu$5="メニュー",Mute$5="無音",New$5="新しい",Ok$5="OK",Options$5="オプション",Pin$5="ピン",Poll$5="投票",Question$5="質問",Quote$5="引用",Reply$5="返事",Search$5="探す",Send$5="送信",Shuffle$5="シャッフル",Submit$5="送信",Thread$6="スレッド",Unarchive$5="アーカイブ解除",Unmute$5="無音を解除する",Unpin$5="ピンを解除する",You$5="あなた",live$5="ライブ",replyCount_one$5="1件の返信",replyCount_other$5="{{ count }} 返信",searchResultsCount_one$5="1件の結果",searchResultsCount_other$5="{{ count }}件の結果",unreadMessagesSeparatorText_other$5="未読メッセージ {{count}} 件",jaTranslations={"Add a comment":"コメントを追加","Add an option":"オプションを追加","All results loaded":"すべての結果が読み込まれました","Allow access to camera":"カメラへのアクセスを許可する","Allow access to microphone":"マイクロフォンへのアクセスを許可する","Allow comments":"コメントを許可","Allow option suggestion":"オプションの提案を許可","Also send as a direct message":"ダイレクトメッセージとしても送信","Also send in channel":"チャンネルにも送信","An error has occurred during recording":"録音中にエラーが発生しました","An error has occurred during the recording processing":"録音処理中にエラーが発生しました",Anonymous:Anonymous$5,"Anonymous poll":"匿名投票",Archive:Archive$5,"Ask a question":"質問する","Attach files":"ファイルを添付する","Attachment upload blocked due to {{reason}}":"{{reason}}のため添付ファイルのアップロードがブロックされました","Attachment upload failed due to {{reason}}":"{{reason}}のため添付ファイルのアップロードに失敗しました",Cancel:Cancel$5,"Cannot seek in the recording":"録音中にシークできません","Channel Missing":"チャネルがありません",Close:Close$5,"Close emoji picker":"絵文字ピッカーを閉める","Commands matching":"一致するコマンド","Connection failure, reconnecting now...":"接続が失敗しました。再接続中...",Create:Create$5,"Create poll":"投票を作成",Delete:Delete$5,Delivered:Delivered$5,"Download attachment {{ name }}":"添付ファイル {{ name }} をダウンロード","Drag your files here":"ここにファイルをドラッグ","Drag your files here to add to your post":"投稿に追加するためにここにファイルをドラッグ","Due since {{ dueSince }}":"{{ dueSince }}から期限切れ","Due {{ timeLeft }}":"{{ timeLeft }}に期限切れ","Edit Message":"メッセージを編集","Edit message request failed":"メッセージの編集要求が失敗しました",Edited:Edited$5,"Emoji matching":"絵文字マッチング","Empty message...":"空のメッセージ...",End:End$5,"End vote":"投票を終了","Error adding flag":"フラグを追加のエラーが発生しました","Error connecting to chat, refresh the page to try again.":"チャットへの接続ができませんでした。ページを更新してください。","Error deleting message":"メッセージを削除するエラーが発生しました","Error fetching reactions":"反応の読み込みエラー","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"メッセージを未読にする際にエラーが発生しました。最新の100件のチャンネルメッセージより古い未読メッセージはマークできません。","Error muting a user ...":"ユーザーを無音するエラーが発生しました...","Error pinning message":"メッセージをピンのエラーが発生しました","Error removing message pin":"メッセージのピンを削除のエラーが発生しました","Error reproducing the recording":"録音の再生中にエラーが発生しました","Error starting recording":"録音の開始時にエラーが発生しました","Error unmuting a user ...":"ユーザーの無音解除のエラーが発生しました...","Error uploading attachment":"添付ファイルのアップロード中にエラーが発生しました","Error uploading file":"ファイルをアップロードのエラーが発生しました","Error uploading image":"画像をアップロードのエラーが発生しました","Error · Unsent":"エラー・未送信","Error: {{ errorMessage }}":"エラー: {{ errorMessage }}","Failed to create the poll":"投票の作成に失敗しました","Failed to create the poll due to {{reason}}":"{{reason}} のため投票の作成に失敗しました","Failed to jump to the first unread message":"最初の未読メッセージにジャンプできませんでした","Failed to mark channel as read":"チャンネルを既読にすることができませんでした","Failed to play the recording":"録音の再生に失敗しました",File:File$6,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"ファイルが大きすぎます：{{ size }}、最大アップロードサイズは{{ limit }}です",Flag:Flag$5,"Generating...":"生成中...","Latest Messages":"最新のメッセージ","Load more":"もっと読み込む","Mark as unread":"未読としてマーク","Maximum number of votes (from 2 to 10)":"最大投票数（2から10まで）",Menu:Menu$5,"Message Failed · Click to try again":"メッセージが失敗しました · クリックして再試行してください","Message Failed · Unauthorized":"メッセージが失敗しました · 許可されていません","Message deleted":"メッセージが削除されました","Message has been successfully flagged":"メッセージに正常にフラグが付けられました","Message pinned":"メッセージにピンが付けられました","Message was blocked by moderation policies":"メッセージはモデレーションポリシーによってブロックされました","Messages have been marked unread.":"メッセージは未読としてマークされました。","Missing permissions to upload the attachment":"添付ファイルをアップロードするための許可がありません","Multiple answers":"複数回答",Mute:Mute$5,New:New$5,"New Messages!":"新しいメッセージ!","No chats here yet…":"ここにはまだチャットはありません…","No results found":"結果が見つかりません","Nobody will be able to vote in this poll anymore.":"この投票では、誰も投票できなくなります。","Nothing yet...":"まだ何もありません...",Ok:Ok$5,"Only numbers are allowed":"数字のみ許可されています","Open emoji picker":"絵文字ピッカーを開く","Option already exists":"オプションは既に存在します",Options:Options$5,"People matching":"一致する人",Pin:Pin$5,"Pinned by":"ピンした方",Poll:Poll$5,"Poll comments":"投票コメント","Poll options":"投票オプション","Poll results":"投票結果",Question:Question$5,Quote:Quote$5,"Recording format is not supported and cannot be reproduced":"録音形式はサポートされておらず、再生できません","Remind Me":"リマインダー","Remove reminder":"リマインダーを削除",Reply:Reply$5,"Reply to Message":"メッセージに返信","Save for later":"後で保存","Saved for later":"後で保存済み",Search:Search$5,"Searching...":"検索中...","See all options ({{count}})_other":"すべてのオプションを見る ({{count}})","Select one":"1つ選択","Select one or more":"1つ以上選択","Select up to {{count}}_other":"最大{{count}}まで選択",Send:Send$5,"Send Anyway":"とにかく送信する","Send message request failed":"メッセージ送信リクエストが失敗しました","Sending...":"送信中...","Show all":"すべて表示",Shuffle:Shuffle$5,"Slow Mode ON":"スローモードオン","Some of the files will not be accepted":"一部のファイルは受け付けられません","Start typing to search":"検索するには入力を開始してください",Submit:Submit$5,"Suggest an option":"オプションを提案","Thinking...":"考え中...","This message did not meet our content guidelines":"このメッセージはコンテンツガイドラインに適合していません","This message was deleted...":"このメッセージは削除されました...",Thread:Thread$6,"Thread has not been found":"スレッドが見つかりませんでした","Thread reply":"スレッドの返信","To start recording, allow the camera access in your browser":"録音を開始するには、ブラウザーでカメラへのアクセスを許可してください","To start recording, allow the microphone access in your browser":"録音を開始するには、ブラウザーでマイクロフォンへのアクセスを許可してください","Type a number from 2 to 10":"2から10までの数字を入力してください","Type your message":"メッセージを入力してください",Unarchive:Unarchive$5,Unmute:Unmute$5,Unpin:Unpin$5,"Unread messages":"未読メッセージ","Unsupported attachment":"サポートされていない添付ファイル","Update your comment":"コメントを更新",'Upload type: "{{ type }}" is not allowed':'アップロードタイプ："{{ type }}"は許可されていません',"User uploaded content":"ユーザーがアップロードしたコンテンツ","View results":"結果を表示","View {{count}} comments_other":"{{count}} コメントを表示","Voice message":"ボイスメッセージ","Vote ended":"投票が終了しました","Wait until all attachments have uploaded":"すべての添付ファイルがアップロードされるまでお待ちください",You:You$5,"You have no channels currently":"現在チャンネルはありません","You've reached the maximum number of files":"ファイルの最大数に達しました","aria/Attachment":"添付ファイル","aria/Cancel Reply":"返信をキャンセル","aria/Cancel upload":"アップロードをキャンセル","aria/Channel list":"チャンネル一覧","aria/Channel search results":"チャンネル検索結果","aria/Close thread":"スレッドを閉じる","aria/Download attachment":"添付ファイルをダウンロード","aria/Emoji picker":"絵文字ピッカー","aria/File input":"ファイル入力","aria/File upload":"ファイルアップロード","aria/Image input":"画像入力","aria/Load More Channels":"さらにチャンネルを読み込む","aria/Menu":"メニュー","aria/Message Options":"メッセージオプション","aria/Open Attachment Selector":"添付ファイル選択を開く","aria/Open Message Actions Menu":"メッセージアクションメニューを開く","aria/Open Reaction Selector":"リアクションセレクターを開く","aria/Open Thread":"スレッドを開く","aria/Reaction list":"リアクション一覧","aria/Remind Me Options":"リマインダーオプション","aria/Remove attachment":"添付ファイルを削除","aria/Retry upload":"アップロードを再試行","aria/Search results":"検索結果","aria/Search results header filter button":"検索結果ヘッダーフィルターボタン","aria/Send":"送信","aria/Stop AI Generation":"AI生成を停止","ban-command-args":"[@ユーザ名] [テキスト]","ban-command-description":"ユーザーを禁止する","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[テキスト]","giphy-command-description":"チャンネルにランダムなGIFを投稿する",live:live$5,"mute-command-args":"[@ユーザ名]","mute-command-description":"ユーザーをミュートする","network error":"ネットワークエラー",replyCount_one:replyCount_one$5,replyCount_other:replyCount_other$5,"search-results-header-filter-source-button-label--channels":"チャンネル","search-results-header-filter-source-button-label--messages":"メッセージ","search-results-header-filter-source-button-label--users":"ユーザー",searchResultsCount_one:searchResultsCount_one$5,searchResultsCount_other:searchResultsCount_other$5,"size limit":"サイズ制限","this content could not be displayed":"このコンテンツは表示できませんでした","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@ユーザ名]","unban-command-description":"ユーザーの禁止を解除する","unknown error":"不明なエラー","unmute-command-args":"[@ユーザ名]","unmute-command-description":"ユーザーのミュートを解除する",unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$5,"unsupported file type":"サポートされていないファイル形式","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} と {{ moreCount }} 他人","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} と {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} と {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} イメージ","{{ memberCount }} members":"{{ memberCount }} メンバー","{{ user }} has been muted":"{{ user }} 無音されています","{{ user }} has been unmuted":"{{ user }} 無音されていません","{{ user }} is typing...":"{{ user }} が入力中...","{{ users }} and more are typing...":"{{ users }} とその他が入力中...","{{ users }} and {{ user }} are typing...":"{{ users }} と {{ user }} が入力中...","{{ watcherCount }} online":"{{ watcherCount }} オンライン","{{count}} unread_other":"{{count}} 未読","{{count}} votes_other":"{{count}} 票","🏙 Attachment...":"🏙 アタッチメント...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} が作成: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} が投票: {{pollOptionText}}"},Anonymous$4="익명",Archive$4="아카이브",Cancel$4="취소",Close$4="닫기",Create$4="생성",Delete$4="삭제",Delivered$4="배달됨",Edited$4="편집됨",End$4="종료",File$5="파일",Flag$4="플래그",Menu$4="메뉴",Mute$4="무음",New$4="새로운",Ok$4="확인",Options$4="옵션",Pin$4="핀",Poll$4="투표",Question$4="질문",Quote$4="인용",Reply$4="답장",Search$4="찾다",Send$4="보내다",Shuffle$4="셔플",Submit$4="제출",Thread$5="스레드",Unarchive$4="아카이브 해제",Unmute$4="음소거 해제",Unpin$4="핀 해제",You$4="당신",live$4="라이브",replyCount_one$4="답장 1개",replyCount_other$4="{{ count }} 답장",searchResultsCount_one$4="1개의 결과",searchResultsCount_other$4="{{ count }}개 결과",unreadMessagesSeparatorText_other$4="읽지 않은 메시지 {{count}}개",koTranslations={"Add a comment":"댓글 추가","Add an option":"옵션 추가","All results loaded":"모든 결과가 로드되었습니다","Allow access to camera":"카메라에 대한 액세스 허용","Allow access to microphone":"마이크로폰에 대한 액세스 허용","Allow comments":"댓글 허용","Allow option suggestion":"옵션 제안 허용","Also send as a direct message":"다이렉트 메시지로도 보내기","Also send in channel":"채널에도 보내기","An error has occurred during recording":"녹음 중 오류가 발생했습니다","An error has occurred during the recording processing":"녹음 처리 중 오류가 발생했습니다",Anonymous:Anonymous$4,"Anonymous poll":"익명 투표",Archive:Archive$4,"Ask a question":"질문하기","Attach files":"파일 첨부","Attachment upload blocked due to {{reason}}":"{{reason}}로 인해 첨부 파일 업로드가 차단되었습니다","Attachment upload failed due to {{reason}}":"{{reason}}로 인해 첨부 파일 업로드가 실패했습니다",Cancel:Cancel$4,"Cannot seek in the recording":"녹음에서 찾을 수 없습니다","Channel Missing":"채널 누락",Close:Close$4,"Close emoji picker":"이모티콘 선택기 닫기","Commands matching":"일치하는 명령","Connection failure, reconnecting now...":"연결 실패, 지금 다시 연결 중...",Create:Create$4,"Create poll":"투표 생성",Delete:Delete$4,Delivered:Delivered$4,"Download attachment {{ name }}":"첨부 파일 {{ name }} 다운로드","Drag your files here":"여기로 파일을 끌어다 놓으세요","Drag your files here to add to your post":"게시물에 추가하려면 파일을 여기로 끌어다 놓으세요","Due since {{ dueSince }}":"{{ dueSince }}부터 기한","Due {{ timeLeft }}":"{{ timeLeft }}에 기한","Edit Message":"메시지 수정","Edit message request failed":"메시지 수정 요청 실패",Edited:Edited$4,"Emoji matching":"이모티콘 매칭","Empty message...":"빈 메시지...",End:End$4,"End vote":"투표 종료","Error adding flag":"플래그를 추가하는 동안 오류가 발생했습니다.","Error connecting to chat, refresh the page to try again.":"채팅에 연결하는 동안 오류가 발생했습니다. 페이지를 새로고침하여 다시 시도하세요.","Error deleting message":"메시지를 삭제하는 중에 오류가 발생했습니다.","Error fetching reactions":"반응 로딩 오류.","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"메시지를 읽지 않음으로 표시하는 중 오류가 발생했습니다. 가장 최근 100개의 채널 메시지보다 오래된 읽지 않은 메시지는 표시할 수 없습니다.","Error muting a user ...":"사용자를 음소거하는 중에 오류가 발생했습니다...","Error pinning message":"메시지를 핀하는 중에 오류가 발생했습니다.","Error removing message pin":"메시지 핀을 제거하는 중에 오류가 발생했습니다.","Error reproducing the recording":"녹음 재생 중 오류 발생","Error starting recording":"녹음 시작 중 오류가 발생했습니다","Error unmuting a user ...":"사용자 음소거 해제 중 오류 발생...","Error uploading attachment":"첨부 파일 업로드 중 오류가 발생했습니다","Error uploading file":"파일 업로드 오류","Error uploading image":"이미지를 업로드하는 동안 오류가 발생했습니다.","Error · Unsent":"오류 · 전송되지 않음","Error: {{ errorMessage }}":"오류: {{ errorMessage }}","Failed to create the poll":"투표 생성 실패","Failed to create the poll due to {{reason}}":"{{reason}} 때문에 투표를 생성하지 못했습니다","Failed to jump to the first unread message":"첫 번째 읽지 않은 메시지로 이동하지 못했습니다","Failed to mark channel as read":"채널을 읽음으로 표시하는 데 실패했습니다","Failed to play the recording":"녹음을 재생하지 못했습니다",File:File$5,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"파일이 너무 큽니다: {{ size }}, 최대 업로드 크기는 {{ limit }}입니다",Flag:Flag$4,"Generating...":"생성 중...","Latest Messages":"최신 메시지","Load more":"더 불러오기","Mark as unread":"읽지 않음으로 표시","Maximum number of votes (from 2 to 10)":"최대 투표 수 (2에서 10까지)",Menu:Menu$4,"Message Failed · Click to try again":"메시지 실패 · 다시 시도하려면 클릭하세요.","Message Failed · Unauthorized":"메시지 실패 · 승인되지 않음","Message deleted":"메시지가 삭제되었습니다.","Message has been successfully flagged":"메시지에 플래그가 지정되었습니다.","Message pinned":"메시지 핀했습니다","Message was blocked by moderation policies":"메시지가 관리 정책에 의해 차단되었습니다.","Messages have been marked unread.":"메시지가 읽지 않음으로 표시되었습니다.","Missing permissions to upload the attachment":"첨부 파일을 업로드하려면 권한이 필요합니다","Multiple answers":"복수 응답",Mute:Mute$4,New:New$4,"New Messages!":"새 메시지!","No chats here yet…":"아직 채팅이 없습니다...","No results found":"검색 결과가 없습니다","Nobody will be able to vote in this poll anymore.":"이 투표에 더 이상 아무도 투표할 수 없습니다.","Nothing yet...":"아직 아무것도...",Ok:Ok$4,"Only numbers are allowed":"숫자만 입력 가능합니다","Open emoji picker":"이모지 선택기 열기","Option already exists":"옵션이 이미 존재합니다",Options:Options$4,"People matching":"일치하는 사람",Pin:Pin$4,"Pinned by":"핀했던 분:",Poll:Poll$4,"Poll comments":"투표 댓글","Poll options":"투표 옵션","Poll results":"투표 결과",Question:Question$4,Quote:Quote$4,"Recording format is not supported and cannot be reproduced":"녹음 형식이 지원되지 않으므로 재생할 수 없습니다","Remind Me":"알림 설정","Remove reminder":"알림 제거",Reply:Reply$4,"Reply to Message":"메시지에 답장","Save for later":"나중에 저장","Saved for later":"나중에 저장됨",Search:Search$4,"Searching...":"수색...","See all options ({{count}})_other":"모든 옵션 보기 ({{count}})","Select one":"하나 선택","Select one or more":"하나 이상 선택","Select up to {{count}}_other":"{{count}}개까지 선택",Send:Send$4,"Send Anyway":"어쨌든 보내기","Send message request failed":"메시지 보내기 요청 실패","Sending...":"배상중...","Show all":"모두 보기",Shuffle:Shuffle$4,"Slow Mode ON":"슬로우 모드 켜짐","Some of the files will not be accepted":"일부 파일은 허용되지 않을 수 있습니다","Start typing to search":"검색하려면 입력을 시작하세요",Submit:Submit$4,"Suggest an option":"옵션 제안","Thinking...":"생각 중...","This message did not meet our content guidelines":"이 메시지는 콘텐츠 가이드라인을 충족하지 않습니다.","This message was deleted...":"이 메시지는 삭제되었습니다...",Thread:Thread$5,"Thread has not been found":"스레드를 찾을 수 없습니다","Thread reply":"스레드 답장","To start recording, allow the camera access in your browser":"브라우저에서 카메라 액세스를 허용하여 녹음을 시작합니다","To start recording, allow the microphone access in your browser":"브라우저에서 마이크로폰 액세스를 허용하여 녹음을 시작합니다","Type a number from 2 to 10":"2에서 10 사이의 숫자를 입력하세요","Type your message":"메시지 입력",Unarchive:Unarchive$4,Unmute:Unmute$4,Unpin:Unpin$4,"Unread messages":"읽지 않은 메시지","Unsupported attachment":"지원되지 않는 첨부 파일","Update your comment":"댓글 업데이트",'Upload type: "{{ type }}" is not allowed':'업로드 유형: "{{ type }}"은(는) 허용되지 않습니다.',"User uploaded content":"사용자 업로드 콘텐츠","View results":"결과 보기","View {{count}} comments_other":"{{count}}개의 댓글 보기","Voice message":"음성 메시지","Vote ended":"투표 종료","Wait until all attachments have uploaded":"모든 첨부 파일이 업로드될 때까지 기다립니다.",You:You$4,"You have no channels currently":"현재 채널이 없습니다.","You've reached the maximum number of files":"최대 파일 수에 도달했습니다.","aria/Attachment":"첨부 파일","aria/Cancel Reply":"답장 취소","aria/Cancel upload":"업로드 취소","aria/Channel list":"채널 목록","aria/Channel search results":"채널 검색 결과","aria/Close thread":"스레드 닫기","aria/Download attachment":"첨부 파일 다운로드","aria/Emoji picker":"이모지 선택기","aria/File input":"파일 입력","aria/File upload":"파일 업로드","aria/Image input":"이미지 입력","aria/Load More Channels":"더 많은 채널 불러오기","aria/Menu":"메뉴","aria/Message Options":"메시지 옵션","aria/Open Attachment Selector":"첨부 파일 선택기 열기","aria/Open Message Actions Menu":"메시지 액션 메뉴 열기","aria/Open Reaction Selector":"반응 선택기 열기","aria/Open Thread":"스레드 열기","aria/Reaction list":"반응 목록","aria/Remind Me Options":"알림 옵션","aria/Remove attachment":"첨부 파일 제거","aria/Retry upload":"업로드 다시 시도","aria/Search results":"검색 결과","aria/Search results header filter button":"검색 결과 헤더 필터 버튼","aria/Send":"보내기","aria/Stop AI Generation":"AI 생성 중지","ban-command-args":"[@사용자이름] [텍스트]","ban-command-description":"사용자를 차단","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[텍스트]","giphy-command-description":"채널에 무작위 GIF 게시",live:live$4,"mute-command-args":"[@사용자이름]","mute-command-description":"사용자 음소거","network error":"네트워크 오류",replyCount_one:replyCount_one$4,replyCount_other:replyCount_other$4,"search-results-header-filter-source-button-label--channels":"채널","search-results-header-filter-source-button-label--messages":"메시지","search-results-header-filter-source-button-label--users":"사용자",searchResultsCount_one:searchResultsCount_one$4,searchResultsCount_other:searchResultsCount_other$4,"size limit":"크기 제한","this content could not be displayed":"이 콘텐츠를 표시할 수 없습니다","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@사용자이름]","unban-command-description":"사용자 차단 해제","unknown error":"알 수 없는 오류","unmute-command-args":"[@사용자이름]","unmute-command-description":"사용자 음소거 해제",unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$4,"unsupported file type":"지원되지 않는 파일 형식","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} 그리고 {{ moreCount }}명 더","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} 그리고 {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} 그리고 {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }}개 더","{{ memberCount }} members":"{{ memberCount }}명","{{ user }} has been muted":"{{ user }} 음소거되었습니다","{{ user }} has been unmuted":"{{ user }} 음소거가 해제되었습니다","{{ user }} is typing...":"{{ user }}이(가) 입력 중입니다...","{{ users }} and more are typing...":"{{ users }}와(과) 더 많은 사람들이 입력 중입니다...","{{ users }} and {{ user }} are typing...":"{{ users }}와(과) {{ user }}이(가) 입력 중입니다...","{{ watcherCount }} online":"{{ watcherCount }} 온라인","{{count}} unread_other":"{{count}} 읽지 않음","{{count}} votes_other":"{{count}} 투표","🏙 Attachment...":"🏙 부착...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}}이(가) 생성함: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}}이(가) 투표함: {{pollOptionText}}"},Anonymous$3="Anoniem",Archive$3="Archief",Cancel$3="Annuleer",Close$3="Sluit",Create$3="Maak",Delete$3="Verwijder",Delivered$3="Afgeleverd",Edited$3="Bewerkt",End$3="Einde",File$4="Bestand",Flag$3="Markeer",Menu$3="Menu",Mute$3="Dempen",New$3="Nieuwe",Ok$3="Oké",Options$3="Opties",Pin$3="Pin",Poll$3="Peiling",Question$3="Vraag",Quote$3="Citeer",Reply$3="Antwoord",Search$3="Zoeken",Send$3="Verstuur",Shuffle$3="Schudden",Submit$3="Versturen",Thread$4="Draadje",Unarchive$3="Uit archief halen",Unmute$3="Dempen opheffen",Unpin$3="Losmaken",You$3="Jij",live$3="live",replyCount_one$3="1 antwoord",replyCount_other$3="{{ count }} antwoorden",searchResultsCount_one$3="1 resultaat",searchResultsCount_other$3="{{ count }} resultaten",unreadMessagesSeparatorText_one$3="1 ongelezen bericht",unreadMessagesSeparatorText_other$3="{{count}} ongelezen berichten",nlTranslations={"Add a comment":"Voeg een opmerking toe","Add an option":"Voeg een optie toe","All results loaded":"Alle resultaten geladen","Allow access to camera":"Toegang tot camera toestaan","Allow access to microphone":"Toegang tot microfoon toestaan","Allow comments":"Sta opmerkingen toe","Allow option suggestion":"Sta optie-suggesties toe","Also send as a direct message":"Ook als direct bericht versturen","Also send in channel":"Ook in kanaal versturen","An error has occurred during recording":"Er is een fout opgetreden tijdens het opnemen","An error has occurred during the recording processing":"Er is een fout opgetreden tijdens de verwerking van de opname",Anonymous:Anonymous$3,"Anonymous poll":"Anonieme peiling",Archive:Archive$3,"Ask a question":"Stel een vraag","Attach files":"Bijlage toevoegen","Attachment upload blocked due to {{reason}}":"Bijlage upload geblokkeerd vanwege {{reason}}","Attachment upload failed due to {{reason}}":"Bijlage upload mislukt vanwege {{reason}}",Cancel:Cancel$3,"Cannot seek in the recording":"Kan niet zoeken in de opname","Channel Missing":"Kanaal niet gevonden",Close:Close$3,"Close emoji picker":"Sluit de emoji-kiezer","Commands matching":"Bijpassende opdrachten","Connection failure, reconnecting now...":"Verbindingsfout, opnieuw verbinden...",Create:Create$3,"Create poll":"Maak peiling",Delete:Delete$3,Delivered:Delivered$3,"Download attachment {{ name }}":"Bijlage {{ name }} downloaden","Drag your files here":"Sleep je bestanden hier naartoe","Drag your files here to add to your post":"Sleep je bestanden hier naartoe om aan je bericht toe te voegen","Due since {{ dueSince }}":"Vervallen sinds {{ dueSince }}","Due {{ timeLeft }}":"Vervallen in {{ timeLeft }}","Edit Message":"Bericht bewerken","Edit message request failed":"Verzoek om bericht bewerken mislukt",Edited:Edited$3,"Emoji matching":"Emoji-overeenkomsten","Empty message...":"Leeg bericht...",End:End$3,"End vote":"Einde stem","Error adding flag":"Fout bij toevoegen van vlag","Error connecting to chat, refresh the page to try again.":"Fout bij het verbinden, ververs de pagina om nogmaals te proberen","Error deleting message":"Fout bij verwijderen van bericht","Error fetching reactions":"Fout bij het laden van reacties","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Fout bij markeren van bericht als ongelezen. Kan geen oudere ongelezen berichten markeren dan de nieuwste 100 kanaalberichten.","Error muting a user ...":"Fout bij het muten van de gebruiker","Error pinning message":"Fout bij vastzetten van bericht","Error removing message pin":"Fout bij verwijderen van berichtpin","Error reproducing the recording":"Fout bij het afspelen van de opname","Error starting recording":"Fout bij het starten van de opname","Error unmuting a user ...":"Fout bij het unmuten van de gebruiker","Error uploading attachment":"Fout bij het uploaden van de bijlage","Error uploading file":"Fout bij uploaden bestand","Error uploading image":"Fout bij uploaden afbeelding","Error · Unsent":"Fout · niet verzonden","Error: {{ errorMessage }}":"Fout: {{ errorMessage }}","Failed to create the poll":"Fout bij het maken van de peiling","Failed to create the poll due to {{reason}}":"Peiling kon niet worden aangemaakt vanwege {{reason}}","Failed to jump to the first unread message":"Niet gelukt om naar het eerste ongelezen bericht te springen","Failed to mark channel as read":"Kanaal kon niet als gelezen worden gemarkeerd","Failed to play the recording":"Kan de opname niet afspelen",File:File$4,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Bestand is te groot: {{ size }}, maximale uploadgrootte is {{ limit }}",Flag:Flag$3,"Generating...":"Genereren...","Latest Messages":"Laatste berichten","Load more":"Meer laden","Mark as unread":"Markeren als ongelezen","Maximum number of votes (from 2 to 10)":"Maximaal aantal stemmen (van 2 tot 10)",Menu:Menu$3,"Message Failed · Click to try again":"Bericht mislukt, klik om het nogmaals te proberen","Message Failed · Unauthorized":"Bericht mislukt, ongeautoriseerd","Message deleted":"Bericht verwijderd","Message has been successfully flagged":"Bericht is succesvol gemarkeerd","Message pinned":"Bericht vastgezet","Message was blocked by moderation policies":"Bericht is geblokkeerd door moderatiebeleid","Messages have been marked unread.":"Berichten zijn gemarkeerd als ongelezen.","Missing permissions to upload the attachment":"Missende toestemmingen om de bijlage te uploaden","Multiple answers":"Meerdere antwoorden",Mute:Mute$3,New:New$3,"New Messages!":"Nieuwe Berichten!","No chats here yet…":"Nog geen chats hier...","No results found":"Geen resultaten gevonden","Nobody will be able to vote in this poll anymore.":"Niemand kan meer stemmen in deze peiling.","Nothing yet...":"Nog niets ...",Ok:Ok$3,"Only numbers are allowed":"Alleen nummers zijn toegestaan","Open emoji picker":"Emoji-kiezer openen","Option already exists":"Optie bestaat al",Options:Options$3,"People matching":"Mensen die matchen",Pin:Pin$3,"Pinned by":"Vastgemaakt door",Poll:Poll$3,"Poll comments":"Peiling opmerkingen","Poll options":"Peiling opties","Poll results":"Peiling resultaten",Question:Question$3,Quote:Quote$3,"Recording format is not supported and cannot be reproduced":"Opnameformaat wordt niet ondersteund en kan niet worden gereproduceerd","Remind Me":"Herinner mij","Remove reminder":"Herinnering verwijderen",Reply:Reply$3,"Reply to Message":"Antwoord op bericht","Save for later":"Bewaren voor later","Saved for later":"Bewaard voor later",Search:Search$3,"Searching...":"Zoeken...","See all options ({{count}})_one":"Bekijk alle opties ({{count}})","See all options ({{count}})_other":"Bekijk alle opties ({{count}})","Select one":"Selecteer er een","Select one or more":"Selecteer een of meer","Select up to {{count}}_one":"Selecteer tot {{count}}","Select up to {{count}}_other":"Selecteer tot {{count}}",Send:Send$3,"Send Anyway":"Toch versturen","Send message request failed":"Verzoek om bericht te verzenden mislukt","Sending...":"Aan het verzenden...","Show all":"Toon alles",Shuffle:Shuffle$3,"Slow Mode ON":"Langzame modus aan","Some of the files will not be accepted":"Sommige bestanden zullen niet worden geaccepteerd","Start typing to search":"Begin met typen om te zoeken",Submit:Submit$3,"Suggest an option":"Stel een optie voor","Thinking...":"Denken...","This message did not meet our content guidelines":"Dit bericht voldeed niet aan onze inhoudsrichtlijnen","This message was deleted...":"Dit bericht was verwijderd",Thread:Thread$4,"Thread has not been found":"Draadje niet gevonden","Thread reply":"Draadje antwoord","To start recording, allow the camera access in your browser":"Om te beginnen met opnemen, sta toegang tot de camera toe in uw browser","To start recording, allow the microphone access in your browser":"Om te beginnen met opnemen, sta toegang tot de microfoon toe in uw browser","Type a number from 2 to 10":"Typ een getal van 2 tot 10","Type your message":"Type je bericht",Unarchive:Unarchive$3,Unmute:Unmute$3,Unpin:Unpin$3,"Unread messages":"Ongelezen berichten","Unsupported attachment":"Niet-ondersteunde bijlage","Update your comment":"Werk je opmerking bij",'Upload type: "{{ type }}" is not allowed':'Uploadtype: "{{ type }}" is niet toegestaan',"User uploaded content":"Gebruikersgeüploade inhoud","View results":"Bekijk resultaten","View {{count}} comments_one":"Bekijk {{count}} opmerkingen","View {{count}} comments_other":"Bekijk {{count}} opmerkingen","Voice message":"Spraakbericht","Vote ended":"Stemmen beëindigd","Wait until all attachments have uploaded":"Wacht tot alle bijlagen zijn geüpload",You:You$3,"You have no channels currently":"Er zijn geen chats beschikbaar","You've reached the maximum number of files":"Je hebt het maximale aantal bestanden bereikt","aria/Attachment":"Bijlage","aria/Cancel Reply":"Antwoord annuleren","aria/Cancel upload":"Upload annuleren","aria/Channel list":"Kanaallijst","aria/Channel search results":"Zoekresultaten voor kanalen","aria/Close thread":"Draad sluiten","aria/Download attachment":"Bijlage downloaden","aria/Emoji picker":"Emoji kiezer","aria/File input":"Bestandsinvoer","aria/File upload":"Bestand uploaden","aria/Image input":"Afbeelding invoeren","aria/Load More Channels":"Meer kanalen laden","aria/Menu":"Menu","aria/Message Options":"Berichtopties","aria/Open Attachment Selector":"Open bijlage selector","aria/Open Message Actions Menu":"Menu voor berichtacties openen","aria/Open Reaction Selector":"Reactiekiezer openen","aria/Open Thread":"Draad openen","aria/Reaction list":"Reactielijst","aria/Remind Me Options":"Herinneringsopties","aria/Remove attachment":"Bijlage verwijderen","aria/Retry upload":"Upload opnieuw proberen","aria/Search results":"Zoekresultaten","aria/Search results header filter button":"Zoekresultaten header filter knop","aria/Send":"Verzenden","aria/Stop AI Generation":"AI-generatie stoppen","ban-command-args":"[@gebruikersnaam] [tekst]","ban-command-description":"Een gebruiker verbannen","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[tekst]","giphy-command-description":"Plaats een willekeurige gif in het kanaal",live:live$3,"mute-command-args":"[@gebruikersnaam]","mute-command-description":"Een gebruiker dempen","network error":"netwerkfout",replyCount_one:replyCount_one$3,replyCount_other:replyCount_other$3,"search-results-header-filter-source-button-label--channels":"kanalen","search-results-header-filter-source-button-label--messages":"berichten","search-results-header-filter-source-button-label--users":"gebruikers",searchResultsCount_one:searchResultsCount_one$3,searchResultsCount_other:searchResultsCount_other$3,"size limit":"grootte limiet","this content could not be displayed":"Deze inhoud kan niet weergegeven worden","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@gebruikersnaam]","unban-command-description":"Een gebruiker debannen","unknown error":"onbekende fout","unmute-command-args":"[@gebruikersnaam]","unmute-command-description":"Een gebruiker niet meer dempen",unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$3,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$3,"unsupported file type":"niet-ondersteund bestandstype","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} en {{ moreCount }} meer","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} en {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} en {{ secondUser }}","{{ imageCount }} more":"+{{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} deelnemers","{{ user }} has been muted":"{{ user }} is gedempt","{{ user }} has been unmuted":"{{ user }} is niet meer gedempt","{{ user }} is typing...":"{{ user }} is aan het typen...","{{ users }} and more are typing...":"{{ users }} en meer zijn aan het typen...","{{ users }} and {{ user }} are typing...":"{{ users }} en {{ user }} zijn aan het typen...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_one":"{{count}} ongelezen","{{count}} unread_other":"{{count}} ongelezen","{{count}} votes_one":"{{count}} stem","{{count}} votes_other":"{{count}} stemmen","🏙 Attachment...":"🏙 Bijlage...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} heeft gemaakt: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} heeft gestemd: {{pollOptionText}}"},Anonymous$2="Anônimo",Archive$2="Arquivar",Cancel$2="Cancelar",Close$2="Fechar",Create$2="Criar",Delete$2="Excluir",Delivered$2="Entregue",Edited$2="Editada",End$2="Fim",File$3="Arquivo",Flag$2="Reportar",Menu$2="Menu",Mute$2="Silenciar",New$2="Novo",Ok$2="Ok",Options$2="Opções",Pin$2="Fixar",Poll$2="Enquete",Question$2="Pergunta",Quote$2="Citar",Reply$2="Responder",Search$2="Buscar",Send$2="Enviar",Shuffle$2="Embaralhar",Submit$2="Enviar",Thread$3="Fio",Unarchive$2="Desarquivar",Unmute$2="Ativar som",Unpin$2="Desfixar",You$2="Você",live$2="ao vivo",replyCount_many$1="{{ count }} respostas",replyCount_one$2="1 resposta",replyCount_other$2="{{ count }} respostas",searchResultsCount_many$1="{{ count }} resultados",searchResultsCount_one$2="1 resultado",searchResultsCount_other$2="{{ count }} resultados",unreadMessagesSeparatorText_many$1="{{count}} mensagens não lidas",unreadMessagesSeparatorText_one$2="1 mensagem não lida",unreadMessagesSeparatorText_other$2="{{count}} mensagens não lidas",ptTranslations={"Add a comment":"Adicionar um comentário","Add an option":"Adicionar uma opção","All results loaded":"Todos os resultados carregados","Allow access to camera":"Permitir acesso à câmera","Allow access to microphone":"Permitir acesso ao microfone","Allow comments":"Permitir comentários","Allow option suggestion":"Permitir sugestão de opção","Also send as a direct message":"Também enviar como mensagem direta","Also send in channel":"Também enviar no canal","An error has occurred during recording":"Ocorreu um erro durante a gravação","An error has occurred during the recording processing":"Ocorreu um erro durante o processamento da gravação",Anonymous:Anonymous$2,"Anonymous poll":"Enquete anônima",Archive:Archive$2,"Ask a question":"Faça uma pergunta","Attach files":"Anexar arquivos","Attachment upload blocked due to {{reason}}":"Upload de anexo bloqueado devido a {{reason}}","Attachment upload failed due to {{reason}}":"Upload de anexo falhou devido a {{reason}}",Cancel:Cancel$2,"Cannot seek in the recording":"Não é possível buscar na gravação","Channel Missing":"Canal ausente",Close:Close$2,"Close emoji picker":"Fechar seletor de emoji","Commands matching":"Comandos correspondentes","Connection failure, reconnecting now...":"Falha de conexão, reconectando agora...",Create:Create$2,"Create poll":"Criar enquete",Delete:Delete$2,Delivered:Delivered$2,"Download attachment {{ name }}":"Baixar anexo {{ name }}","Drag your files here":"Arraste seus arquivos aqui","Drag your files here to add to your post":"Arraste seus arquivos aqui para adicionar ao seu post","Due since {{ dueSince }}":"Vencido desde {{ dueSince }}","Due {{ timeLeft }}":"Vence em {{ timeLeft }}","Edit Message":"Editar Mensagem","Edit message request failed":"O pedido de edição da mensagem falhou",Edited:Edited$2,"Emoji matching":"Emoji correspondente","Empty message...":"Mensagem vazia...",End:End$2,"End vote":"Encerrar votação","Error adding flag":"Erro ao reportar","Error connecting to chat, refresh the page to try again.":"Erro ao conectar ao bate-papo, atualize a página para tentar novamente.","Error deleting message":"Erro ao deletar mensagem","Error fetching reactions":"Erro ao carregar reações","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Erro ao marcar a mensagem como não lida. Não é possível marcar mensagens não lidas mais antigas do que as 100 mensagens mais recentes do canal.","Error muting a user ...":"Erro ao silenciar um usuário...","Error pinning message":"Erro ao fixar mensagem","Error removing message pin":"Erro ao remover o PIN da mensagem","Error reproducing the recording":"Erro ao reproduzir a gravação","Error starting recording":"Erro ao iniciar a gravação","Error unmuting a user ...":"Erro ao ativar o som de um usuário...","Error uploading attachment":"Erro ao carregar o anexo","Error uploading file":"Erro ao enviar arquivo","Error uploading image":"Erro ao carregar a imagem","Error · Unsent":"Erro · Não enviado","Error: {{ errorMessage }}":"Erro: {{ errorMessage }}","Failed to create the poll":"Falha ao criar a pesquisa","Failed to create the poll due to {{reason}}":"Falha ao criar a enquete devido a {{reason}}","Failed to jump to the first unread message":"Falha ao pular para a primeira mensagem não lida","Failed to mark channel as read":"Falha ao marcar o canal como lido","Failed to play the recording":"Falha ao reproduzir a gravação",File:File$3,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"O arquivo é muito grande: {{ size }}, o tamanho máximo de upload é {{ limit }}",Flag:Flag$2,"Generating...":"Gerando...","Latest Messages":"Mensagens mais recentes","Load more":"Carregar mais","Mark as unread":"Marcar como não lida","Maximum number of votes (from 2 to 10)":"Número máximo de votos (de 2 a 10)",Menu:Menu$2,"Message Failed · Click to try again":"A mensagem falhou · Clique para tentar novamente","Message Failed · Unauthorized":"A mensagem falhou · não autorizado","Message deleted":"Mensagem apagada","Message has been successfully flagged":"A mensagem foi reportada com sucesso","Message pinned":"Mensagem fixada","Message was blocked by moderation policies":"A mensagem foi bloqueada pelas políticas de moderação","Messages have been marked unread.":"Mensagens foram marcadas como não lidas.","Missing permissions to upload the attachment":"Faltando permissões para enviar o anexo","Multiple answers":"Múltiplas respostas",Mute:Mute$2,New:New$2,"New Messages!":"Novas Mensagens!","No chats here yet…":"Ainda não há conversas aqui...","No results found":"Nenhum resultado encontrado","Nobody will be able to vote in this poll anymore.":"Ninguém mais poderá votar nesta pesquisa.","Nothing yet...":"Nada ainda...",Ok:Ok$2,"Only numbers are allowed":"Apenas números são permitidos","Open emoji picker":"Abrir seletor de emoji","Option already exists":"Opção já existe",Options:Options$2,"People matching":"Pessoas correspondentes",Pin:Pin$2,"Pinned by":"Fixado por",Poll:Poll$2,"Poll comments":"Comentários da pesquisa","Poll options":"Opções da pesquisa","Poll results":"Resultados da pesquisa",Question:Question$2,Quote:Quote$2,"Recording format is not supported and cannot be reproduced":"Formato de gravação não é suportado e não pode ser reproduzido","Remind Me":"Lembrar-me","Remove reminder":"Remover lembrete",Reply:Reply$2,"Reply to Message":"Responder à mensagem","Save for later":"Salvar para depois","Saved for later":"Salvo para depois",Search:Search$2,"Searching...":"Buscando...","See all options ({{count}})_many":"Ver todas as opções ({{count}})","See all options ({{count}})_one":"Ver todas as opções ({{count}})","See all options ({{count}})_other":"Ver todas as opções ({{count}})","Select one":"Selecionar um","Select one or more":"Selecionar um ou mais","Select up to {{count}}_many":"Selecionar até {{count}}","Select up to {{count}}_one":"Selecionar até {{count}}","Select up to {{count}}_other":"Selecionar até {{count}}",Send:Send$2,"Send Anyway":"Enviar de qualquer forma","Send message request failed":"O pedido de envio da mensagem falhou","Sending...":"Enviando...","Show all":"Mostrar tudo",Shuffle:Shuffle$2,"Slow Mode ON":"Modo lento LIGADO","Some of the files will not be accepted":"Alguns arquivos não serão aceitos","Start typing to search":"Comece a digitar para pesquisar",Submit:Submit$2,"Suggest an option":"Sugerir uma opção","Thinking...":"Pensando...","This message did not meet our content guidelines":"Esta mensagem não corresponde às nossas diretrizes de conteúdo","This message was deleted...":"Esta mensagem foi excluída...",Thread:Thread$3,"Thread has not been found":"Fio não encontrado","Thread reply":"Resposta no fio","To start recording, allow the camera access in your browser":"Para começar a gravar, permita o acesso à câmera no seu navegador","To start recording, allow the microphone access in your browser":"Para começar a gravar, permita o acesso ao microfone no seu navegador","Type a number from 2 to 10":"Digite um número de 2 a 10","Type your message":"Digite sua mensagem",Unarchive:Unarchive$2,Unmute:Unmute$2,Unpin:Unpin$2,"Unread messages":"Mensagens não lidas","Unsupported attachment":"Anexo não suportado","Update your comment":"Atualizar seu comentário",'Upload type: "{{ type }}" is not allowed':'Tipo de upload: "{{ type }}" não é permitido',"User uploaded content":"Conteúdo enviado pelo usuário","View results":"Ver resultados","View {{count}} comments_many":"Ver {{count}} comentários","View {{count}} comments_one":"Ver {{count}} comentário","View {{count}} comments_other":"Ver {{count}} comentários","Voice message":"Mensagem de voz","Vote ended":"Votação encerrada","Wait until all attachments have uploaded":"Espere até que todos os anexos tenham sido carregados",You:You$2,"You have no channels currently":"Você não tem canais atualmente","You've reached the maximum number of files":"Você atingiu o número máximo de arquivos","aria/Attachment":"Anexo","aria/Cancel Reply":"Cancelar resposta","aria/Cancel upload":"Cancelar upload","aria/Channel list":"Lista de canais","aria/Channel search results":"Resultados de pesquisa de canais","aria/Close thread":"Fechar tópico","aria/Download attachment":"Baixar anexo","aria/Emoji picker":"Seletor de emojis","aria/File input":"Entrada de arquivo","aria/File upload":"Carregar arquivo","aria/Image input":"Entrada de imagem","aria/Load More Channels":"Carregar mais canais","aria/Menu":"Menu","aria/Message Options":"Opções de mensagem","aria/Open Attachment Selector":"Abrir seletor de anexos","aria/Open Message Actions Menu":"Abrir menu de ações de mensagem","aria/Open Reaction Selector":"Abrir seletor de reações","aria/Open Thread":"Abrir tópico","aria/Reaction list":"Lista de reações","aria/Remind Me Options":"Opções de lembrete","aria/Remove attachment":"Remover anexo","aria/Retry upload":"Tentar upload novamente","aria/Search results":"Resultados da pesquisa","aria/Search results header filter button":"Botão de filtro do cabeçalho dos resultados da pesquisa","aria/Send":"Enviar","aria/Stop AI Generation":"Parar geração de IA","ban-command-args":"[@nomedeusuário] [texto]","ban-command-description":"Banir um usuário","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[texto]","giphy-command-description":"Postar um gif aleatório no canal",live:live$2,"mute-command-args":"[@nomedeusuário]","mute-command-description":"Silenciar um usuário","network error":"erro de rede",replyCount_many:replyCount_many$1,replyCount_one:replyCount_one$2,replyCount_other:replyCount_other$2,"search-results-header-filter-source-button-label--channels":"canais","search-results-header-filter-source-button-label--messages":"mensagens","search-results-header-filter-source-button-label--users":"usuários",searchResultsCount_many:searchResultsCount_many$1,searchResultsCount_one:searchResultsCount_one$2,searchResultsCount_other:searchResultsCount_other$2,"size limit":"limite de tamanho","this content could not be displayed":"este conteúdo não pôde ser exibido","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@nomedeusuário]","unban-command-description":"Desbanir um usuário","unknown error":"erro desconhecido","unmute-command-args":"[@nomedeusuário]","unmute-command-description":"Retirar o silenciamento de um usuário",unreadMessagesSeparatorText_many:unreadMessagesSeparatorText_many$1,unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$2,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$2,"unsupported file type":"tipo de arquivo não suportado","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} e mais {{ moreCount }}","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} e {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} e {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} mais","{{ memberCount }} members":"{{ memberCount }} membros","{{ user }} has been muted":"{{ user }} foi silenciado","{{ user }} has been unmuted":"{{ user }} foi reativado","{{ user }} is typing...":"{{ user }} está digitando...","{{ users }} and more are typing...":"{{ users }} e mais estão digitando...","{{ users }} and {{ user }} are typing...":"{{ users }} e {{ user }} estão digitando...","{{ watcherCount }} online":"{{ watcherCount }} online","{{count}} unread_many":"{{count}} não lidos","{{count}} unread_one":"{{count}} não lido","{{count}} unread_other":"{{count}} não lidos","{{count}} votes_many":"{{count}} votos","{{count}} votes_one":"{{count}} voto","{{count}} votes_other":"{{count}} votos","🏙 Attachment...":"🏙 Anexo...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} criou: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} votou: {{pollOptionText}}"},Anonymous$1="Аноним",Archive$1="Aрхивировать",Cancel$1="Отмена",Close$1="Закрыть",Create$1="Создать",Delete$1="Удалить",Delivered$1="Отправлено",Edited$1="Отредактировано",End$1="Конец",File$2="Файл",Flag$1="Пожаловаться",Menu$1="Меню",Mute$1="Отключить уведомления",New$1="Новые",Ok$1="Ок",Options$1="Варианты",Pin$1="Закрепить",Poll$1="Опрос",Question$1="Вопрос",Quote$1="Цитировать",Reply$1="Ответить",Search$1="Поиск",Send$1="Отправить",Shuffle$1="Перемешать",Submit$1="Отправить",Thread$2="Ветка",Unarchive$1="Удалить из архива",Unmute$1="Включить уведомления",Unpin$1="Открепить",You$1="Вы",live$1="В прямом эфире",replyCount_few="{{ count }} ответов",replyCount_many="{{ count }} ответов",replyCount_one$1="1 ответ",replyCount_other$1="{{ count }} ответов",searchResultsCount_few="{{ count }} результата",searchResultsCount_many="{{ count }} результатов",searchResultsCount_one$1="1 результат",searchResultsCount_other$1="{{ count }} результатов",unreadMessagesSeparatorText_few="1 непрочитанное сообщения",unreadMessagesSeparatorText_many="{{count}} непрочитанных сообщений",unreadMessagesSeparatorText_one$1="1 непрочитанное сообщение",unreadMessagesSeparatorText_other$1="{{count}} непрочитанных сообщений",ruTranslations={"Add a comment":"Добавить комментарий","Add an option":"Добавить вариант","All results loaded":"Все результаты загружены","Allow access to camera":"Разрешить доступ к камере","Allow access to microphone":"Разрешить доступ к микрофону","Allow comments":"Разрешить комментарии","Allow option suggestion":"Разрешить предложение вариантов","Also send as a direct message":"Также отправить как личное сообщение","Also send in channel":"Также отправить в канал","An error has occurred during recording":"Произошла ошибка во время записи","An error has occurred during the recording processing":"Произошла ошибка во время обработки записи",Anonymous:Anonymous$1,"Anonymous poll":"Анонимный опрос",Archive:Archive$1,"Ask a question":"Задать вопрос","Attach files":"Прикрепить файлы","Attachment upload blocked due to {{reason}}":"Загрузка вложения заблокирована из-за {{reason}}","Attachment upload failed due to {{reason}}":"Загрузка вложения не удалась из-за {{reason}}",Cancel:Cancel$1,"Cannot seek in the recording":"Невозможно осуществить поиск в записи","Channel Missing":"Канал не найден",Close:Close$1,"Close emoji picker":"Закрыть окно выбора смайлов","Commands matching":"Соответствие команд","Connection failure, reconnecting now...":"Ошибка соединения, переподключение...",Create:Create$1,"Create poll":"Создать опрос",Delete:Delete$1,Delivered:Delivered$1,"Download attachment {{ name }}":"Скачать вложение {{ name }}","Drag your files here":"Перетащите ваши файлы сюда","Drag your files here to add to your post":"Перетащите ваши файлы сюда, чтобы добавить их в ваш пост","Due since {{ dueSince }}":"Просрочено с {{ dueSince }}","Due {{ timeLeft }}":"Просрочено в {{ timeLeft }}","Edit Message":"Редактировать сообщение","Edit message request failed":"Не удалось изменить запрос сообщения",Edited:Edited$1,"Emoji matching":"Соответствие эмодзи","Empty message...":"Пустое сообщение...",End:End$1,"End vote":"Закончить голосование","Error adding flag":"Ошибка добавления флага","Error connecting to chat, refresh the page to try again.":"Ошибка подключения к чату, обновите страницу чтобы попробовать снова.","Error deleting message":"Ошибка при удалении сообщения","Error fetching reactions":"Ошибка при загрузке реакций","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Ошибка при отметке сообщения как непрочитанного. Невозможно отметить как непрочитанные сообщения старше последних 100 сообщений в канале.","Error muting a user ...":"Ошибка отключения уведомлений от пользователя...","Error pinning message":"Сообщение об ошибке при закреплении","Error removing message pin":"Ошибка при удалении булавки сообщения","Error reproducing the recording":"Ошибка воспроизведения записи","Error starting recording":"Ошибка при запуске записи","Error unmuting a user ...":"Ошибка включения уведомлений...","Error uploading attachment":"Ошибка при загрузке вложения","Error uploading file":"Ошибка при загрузке файла","Error uploading image":"Ошибка загрузки изображения","Error · Unsent":"Ошибка · Не отправлено","Error: {{ errorMessage }}":"Ошибка: {{ errorMessage }}","Failed to create the poll":"Не удалось создать опрос","Failed to create the poll due to {{reason}}":"Не удалось создать опрос из-за {{reason}}","Failed to jump to the first unread message":"Не удалось перейти к первому непрочитанному сообщению","Failed to mark channel as read":"Не удалось пометить канал как прочитанный","Failed to play the recording":"Не удалось воспроизвести запись",File:File$2,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Файл слишком большой: {{ size }}, максимальный размер загрузки составляет {{ limit }}",Flag:Flag$1,"Generating...":"Генерирую...","Latest Messages":"Последние сообщения","Load more":"Загрузить больше","Mark as unread":"Отметить как непрочитанное","Maximum number of votes (from 2 to 10)":"Максимальное количество голосов (от 2 до 10)",Menu:Menu$1,"Message Failed · Click to try again":"Ошибка отправки сообщения · Нажмите чтобы повторить","Message Failed · Unauthorized":"Ошибка отправки сообщения · Неавторизованный","Message deleted":"Сообщение удалено","Message has been successfully flagged":"Жалоба на сообщение была принята","Message pinned":"Сообщение закреплено","Message was blocked by moderation policies":"Сообщение было заблокировано модерацией","Messages have been marked unread.":"Сообщения были отмечены как непрочитанные.","Missing permissions to upload the attachment":"Отсутствуют разрешения для загрузки вложения","Multiple answers":"Несколько ответов",Mute:Mute$1,New:New$1,"New Messages!":"Новые сообщения!","No chats here yet…":"Здесь еще нет чатов...","No results found":"Результаты не найдены","Nobody will be able to vote in this poll anymore.":"Никто больше не сможет голосовать в этом опросе.","Nothing yet...":"Пока ничего нет...",Ok:Ok$1,"Only numbers are allowed":"Разрешены только цифры","Open emoji picker":"Открыть выбор смайлов","Option already exists":"Вариант уже существует",Options:Options$1,"People matching":"Совпадающие люди",Pin:Pin$1,"Pinned by":"Закреплено",Poll:Poll$1,"Poll comments":"Комментарии к опросу","Poll options":"Опции опроса","Poll results":"Результаты опроса",Question:Question$1,Quote:Quote$1,"Recording format is not supported and cannot be reproduced":"Формат записи не поддерживается и не может быть воспроизведен","Remind Me":"Напомнить мне","Remove reminder":"Удалить напоминание",Reply:Reply$1,"Reply to Message":"Ответить на сообщение","Save for later":"Сохранить на потом","Saved for later":"Сохранено на потом",Search:Search$1,"Searching...":"Ищем...","See all options ({{count}})_few":"Посмотреть все варианты ({{count}})","See all options ({{count}})_many":"Посмотреть все варианты ({{count}})","See all options ({{count}})_one":"Посмотреть все варианты ({{count}})","See all options ({{count}})_other":"Посмотреть все варианты ({{count}})","Select one":"Выберите один","Select one or more":"Выберите один или несколько","Select up to {{count}}_few":"Выберите до {{count}}","Select up to {{count}}_many":"Выберите до {{count}}","Select up to {{count}}_one":"Выберите до {{count}}","Select up to {{count}}_other":"Выберите до {{count}}",Send:Send$1,"Send Anyway":"Мне всё равно, отправить","Send message request failed":"Не удалось отправить запрос на отправку сообщения","Sending...":"Отправка...","Show all":"Показать все",Shuffle:Shuffle$1,"Slow Mode ON":"Медленный режим включен","Some of the files will not be accepted":"Некоторые файлы не будут приняты","Start typing to search":"Начните вводить для поиска",Submit:Submit$1,"Suggest an option":"Предложить вариант","Thinking...":"Думаю...","This message did not meet our content guidelines":"Сообщение не соответствует правилам","This message was deleted...":"Сообщение было удалено...",Thread:Thread$2,"Thread has not been found":"Ветка не найдена","Thread reply":"Ответ в ветке","To start recording, allow the camera access in your browser":"Для начала записи разрешите доступ к камере в вашем браузере","To start recording, allow the microphone access in your browser":"Для начала записи разрешите доступ к микрофону в вашем браузере","Type a number from 2 to 10":"Введите число от 2 до 10","Type your message":"Ваше сообщение",Unarchive:Unarchive$1,Unmute:Unmute$1,Unpin:Unpin$1,"Unread messages":"Непрочитанные сообщения","Unsupported attachment":"Неподдерживаемое вложение","Update your comment":"Обновите ваш комментарий",'Upload type: "{{ type }}" is not allowed':'Тип загрузки: "{{ type }}" не разрешен',"User uploaded content":"Пользователь загрузил контент","View results":"Посмотреть результаты","View {{count}} comments_few":"Просмотреть {{count}} комментариев","View {{count}} comments_many":"Просмотреть {{count}} комментариев","View {{count}} comments_one":"Просмотреть {{count}} комментарий","View {{count}} comments_other":"Просмотреть {{count}} комментариев","Voice message":"Голосовое сообщение","Vote ended":"Голосование завершено","Wait until all attachments have uploaded":"Подождите, пока все вложения загрузятся",You:You$1,"You have no channels currently":"У вас нет каналов в данный момент","You've reached the maximum number of files":"Вы достигли максимального количества файлов","aria/Attachment":"Вложение","aria/Cancel Reply":"Отменить ответ","aria/Cancel upload":"Отменить загрузку","aria/Channel list":"Список каналов","aria/Channel search results":"Результаты поиска по каналам","aria/Close thread":"Закрыть тему","aria/Download attachment":"Скачать вложение","aria/Emoji picker":"Выбор эмодзи","aria/File input":"Ввод файла","aria/File upload":"Загрузка файла","aria/Image input":"Ввод изображения","aria/Load More Channels":"Загрузить больше каналов","aria/Menu":"Меню","aria/Message Options":"Параметры сообщения","aria/Open Attachment Selector":"Открыть выбор вложений","aria/Open Message Actions Menu":"Открыть меню действий с сообщениями","aria/Open Reaction Selector":"Открыть селектор реакций","aria/Open Thread":"Открыть тему","aria/Reaction list":"Список реакций","aria/Remind Me Options":"Параметры напоминания","aria/Remove attachment":"Удалить вложение","aria/Retry upload":"Повторить загрузку","aria/Search results":"Результаты поиска","aria/Search results header filter button":"Кнопка фильтра заголовка результатов поиска","aria/Send":"Отправить","aria/Stop AI Generation":"Остановить генерацию ИИ","ban-command-args":"[@имяпользователя] [текст]","ban-command-description":"Заблокировать пользователя","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[текст]","giphy-command-description":"Опубликовать случайную GIF-анимацию в канале",live:live$1,"mute-command-args":"[@имяпользователя]","mute-command-description":"Выключить микрофон у пользователя","network error":"ошибка сети",replyCount_few,replyCount_many,replyCount_one:replyCount_one$1,replyCount_other:replyCount_other$1,"search-results-header-filter-source-button-label--channels":"каналы","search-results-header-filter-source-button-label--messages":"сообщения","search-results-header-filter-source-button-label--users":"пользователи",searchResultsCount_few,searchResultsCount_many,searchResultsCount_one:searchResultsCount_one$1,searchResultsCount_other:searchResultsCount_other$1,"size limit":"ограничение размера","this content could not be displayed":"Этот контент не может быть отображен в данный момент","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@имяпользователя]","unban-command-description":"Разблокировать пользователя","unknown error":"неизвестная ошибка","unmute-command-args":"[@имяпользователя]","unmute-command-description":"Включить микрофон у пользователя",unreadMessagesSeparatorText_few,unreadMessagesSeparatorText_many,unreadMessagesSeparatorText_one:unreadMessagesSeparatorText_one$1,unreadMessagesSeparatorText_other:unreadMessagesSeparatorText_other$1,"unsupported file type":"неподдерживаемый тип файла","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} и {{ moreCount }} еще","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} и {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} и {{ secondUser }}","{{ imageCount }} more":"Ещё {{ imageCount }}","{{ memberCount }} members":"{{ memberCount }} участников","{{ user }} has been muted":"Вы отписались от уведомлений от {{ user }}","{{ user }} has been unmuted":"Уведомления от {{ user }} были включены","{{ user }} is typing...":"{{ user }} печатает...","{{ users }} and more are typing...":"{{ users }} и другие печатают...","{{ users }} and {{ user }} are typing...":"{{ users }} и {{ user }} печатают...","{{ watcherCount }} online":"{{ watcherCount }} в сети","{{count}} unread_few":"{{count}} непрочитанных","{{count}} unread_many":"{{count}} непрочитанных","{{count}} unread_one":"{{count}} непрочитанное","{{count}} unread_other":"{{count}} непрочитанных","{{count}} votes_few":"{{count}} голоса","{{count}} votes_many":"{{count}} голосов","{{count}} votes_one":"{{count}} голос","{{count}} votes_other":"{{count}} голосов","🏙 Attachment...":"🏙 Вложение...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} создал(а): {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} проголосовал(а): {{pollOptionText}}"},Anonymous="Anonim",Archive="Arşivle",Cancel="İptal",Close="Kapat",Create="Oluştur",Delete="Sil",Delivered="İletildi",Edited="Düzenlendi",End="Son",File$1="Dosya",Flag="Bayrak",Menu="Menü",Mute="Sessiz",New="Yeni",Ok="Tamam",Options="Seçenekler",Pin="Sabitle",Poll="Anket",Question="Soru",Quote="Alıntı",Reply="Cevapla",Search="Arama",Send="Gönder",Shuffle="Karıştır",Submit="Gönder",Thread$1="Konu",Unarchive="Arşivden çıkar",Unmute="Sesini aç",Unpin="Sabitlemeyi kaldır",You="Sen",live="canlı",replyCount_one="1 cevap",replyCount_other="{{ count }} cevap",searchResultsCount_one="1 sonuç",searchResultsCount_other="{{ count }} sonuç",unreadMessagesSeparatorText_one="1 okunmamış mesaj",unreadMessagesSeparatorText_other="{{count}} okunmamış mesaj",trTranslations={"Add a comment":"Yorum ekle","Add an option":"Bir seçenek ekle","All results loaded":"Tüm sonuçlar yüklendi","Allow access to camera":"Kameraya erişime izin ver","Allow access to microphone":"Mikrofona erişime izin ver","Allow comments":"Yorumlara izin ver","Allow option suggestion":"Seçenek önerisine izin ver","Also send as a direct message":"Ayrıca doğrudan mesaj olarak gönder","Also send in channel":"Ayrıca kanala gönder","An error has occurred during recording":"Kayıt sırasında bir hata oluştu","An error has occurred during the recording processing":"Kayıt işlemi sırasında bir hata oluştu",Anonymous,"Anonymous poll":"Anonim anket",Archive,"Ask a question":"Bir soru sor","Attach files":"Dosya ekle","Attachment upload blocked due to {{reason}}":"{{reason}} nedeniyle ek yükleme engellendi","Attachment upload failed due to {{reason}}":"{{reason}} nedeniyle ek yükleme başarısız oldu",Cancel,"Cannot seek in the recording":"Kayıtta arama yapılamıyor","Channel Missing":"Kanal bulunamıyor",Close,"Close emoji picker":"Emoji seçiciyi kapat","Commands matching":"Eşleşen komutlar","Connection failure, reconnecting now...":"Bağlantı hatası, tekrar bağlanılıyor...",Create,"Create poll":"Anket oluştur",Delete,Delivered,"Download attachment {{ name }}":"Ek {{ name }}'i indir","Drag your files here":"Dosyalarınızı buraya sürükleyin","Drag your files here to add to your post":"Gönderinize eklemek için dosyalarınızı buraya sürükleyin","Due since {{ dueSince }}":"{{ dueSince }}'den beri süresi dolmuş","Due {{ timeLeft }}":"{{ timeLeft }} içinde süresi dolacak","Edit Message":"Mesajı Düzenle","Edit message request failed":"Mesaj düzenleme isteği başarısız oldu",Edited,"Emoji matching":"Emoji eşleştirme","Empty message...":"Boş mesaj...",End,"End vote":"Oyu bitir","Error adding flag":"Bayrak eklenirken hata oluştu","Error connecting to chat, refresh the page to try again.":"Bağlantı hatası, sayfayı yenileyip tekrar deneyin.","Error deleting message":"Mesaj silinirken hata oluştu","Error fetching reactions":"Reaksiyonlar alınırken hata oluştu","Error marking message unread. Cannot mark unread messages older than the newest 100 channel messages.":"Mesajı okunmamış olarak işaretleme hatası. En yeni 100 kanal mesajından daha eski okunmamış mesajları işaretleme yapılamaz.","Error muting a user ...":"Kullanıcıyı sessize alırken hata oluştu ...","Error pinning message":"Mesaj sabitlenirken hata oluştu","Error removing message pin":"Mesaj PIN'i kaldırılırken hata oluştu","Error reproducing the recording":"Kaydı yeniden üretme hatası","Error starting recording":"Kayıt başlatılırken hata oluştu","Error unmuting a user ...":"Kullanıcının sesini açarken hata oluştu ...","Error uploading attachment":"Ek yüklenirken hata oluştu","Error uploading file":"Dosya yüklenirken hata oluştu","Error uploading image":"Resmi yüklerken hata","Error · Unsent":"Hata · Gönderilemedi","Error: {{ errorMessage }}":"Hata: {{ errorMessage }}","Failed to create the poll":"Anket oluşturulurken hata oluştu","Failed to create the poll due to {{reason}}":"{{reason}} nedeniyle anket oluşturulamadı","Failed to jump to the first unread message":"İlk okunmamış mesaja atlamada hata oluştu","Failed to mark channel as read":"Kanalı okundu olarak işaretleme başarısız oldu","Failed to play the recording":"Kayıt oynatılamadı",File:File$1,"File is too large: {{ size }}, maximum upload size is {{ limit }}":"Dosya çok büyük: {{ size }}, maksimum yükleme boyutu {{ limit }}",Flag,"Generating...":"Oluşturuluyor...","Latest Messages":"Son Mesajlar","Load more":"Daha fazla yükle","Mark as unread":"Okunmamış olarak işaretle","Maximum number of votes (from 2 to 10)":"Maksimum oy sayısı (2 ile 10 arası)",Menu,"Message Failed · Click to try again":"Mesaj Başarısız · Tekrar denemek için tıklayın","Message Failed · Unauthorized":"Mesaj Başarısız · Yetkisiz","Message deleted":"Mesaj silindi","Message has been successfully flagged":"Mesaj başarıyla bayraklandı","Message pinned":"Mesaj sabitlendi","Message was blocked by moderation policies":"Mesaj moderasyon politikaları tarafından engellendi","Messages have been marked unread.":"Mesajlar okunmamış olarak işaretlendi.","Missing permissions to upload the attachment":"Ek yüklemek için izinler eksik","Multiple answers":"Çoklu cevaplar",Mute,New,"New Messages!":"Yeni Mesajlar!","No chats here yet…":"Henüz burada sohbet yok...","No results found":"Sonuç bulunamadı","Nobody will be able to vote in this poll anymore.":"Artık bu ankette kimse oy kullanamayacak.","Nothing yet...":"Şimdilik hiçbir şey...",Ok,"Only numbers are allowed":"Sadece sayılar kullanılabilir","Open emoji picker":"Emoji klavyesini aç","Option already exists":"Seçenek zaten mevcut",Options,"People matching":"Eşleşen kişiler",Pin,"Pinned by":"Sabitleyen",Poll,"Poll comments":"Anket yorumları","Poll options":"Anket seçenekleri","Poll results":"Anket sonuçları",Question,Quote,"Recording format is not supported and cannot be reproduced":"Kayıt formatı desteklenmiyor ve çoğaltılamıyor","Remind Me":"Hatırlat","Remove reminder":"Hatırlatıcıyı kaldır",Reply,"Reply to Message":"Mesaja Cevapla","Save for later":"Daha sonra kaydet","Saved for later":"Daha sonra kaydedildi",Search,"Searching...":"Aranıyor...","See all options ({{count}})_one":"Tüm seçenekleri göster ({{count}})","See all options ({{count}})_other":"Tüm seçenekleri göster ({{count}})","Select one":"Birini seçin","Select one or more":"Bir veya daha fazlasını seçin","Select up to {{count}}_one":"En fazla {{count}}'yi seçin","Select up to {{count}}_other":"En fazla {{count}}'yi seçin",Send,"Send Anyway":"Yine de gönder","Send message request failed":"Mesaj gönderme isteği başarısız oldu","Sending...":"Gönderiliyor...","Show all":"Tümünü göster",Shuffle,"Slow Mode ON":"Yavaş Mod Açık","Some of the files will not be accepted":"Bazı dosyalar kabul edilmeyecek","Start typing to search":"Aramak için yazmaya başlayın",Submit,"Suggest an option":"Bir seçenek önerin","Thinking...":"Düşünüyor...","This message did not meet our content guidelines":"Bu mesaj içerik yönergelerimize uygun değil","This message was deleted...":"Bu mesaj silindi...",Thread:Thread$1,"Thread has not been found":"Konu bulunamadı","Thread reply":"Konu yanıtı","To start recording, allow the camera access in your browser":"Kayıt yapmaya başlamak için tarayıcınızda kameraya erişime izin verin","To start recording, allow the microphone access in your browser":"Kayıt yapmaya başlamak için tarayıcınızda mikrofona erişime izin verin","Type a number from 2 to 10":"2 ile 10 arasında bir sayı yazın","Type your message":"Mesajınızı yazın",Unarchive,Unmute,Unpin,"Unread messages":"Okunmamış mesajlar","Unsupported attachment":"Desteklenmeyen ek","Update your comment":"Yorumunuzu güncelleyin",'Upload type: "{{ type }}" is not allowed':'Yükleme türü: "{{ type }}" izin verilmez',"User uploaded content":"Kullanıcı tarafından yüklenen içerik","View results":"Sonuçları görüntüle","View {{count}} comments_one":"{{count}} yorumu görüntüle","View {{count}} comments_other":"{{count}} yorumu görüntüle","Voice message":"Sesli mesaj","Vote ended":"Oylama sona erdi","Wait until all attachments have uploaded":"Tüm ekler yüklenene kadar bekleyin",You,"You have no channels currently":"Henüz kanalınız yok","You've reached the maximum number of files":"Maksimum dosya sayısına ulaştınız","aria/Attachment":"Ek","aria/Cancel Reply":"Cevabı İptal Et","aria/Cancel upload":"Yüklemeyi İptal Et","aria/Channel list":"Kanal listesi","aria/Channel search results":"Kanal arama sonuçları","aria/Close thread":"Konuyu kapat","aria/Download attachment":"Ek indir","aria/Emoji picker":"Emoji seçici","aria/File input":"Dosya girişi","aria/File upload":"Dosya yükleme","aria/Image input":"Resim girişi","aria/Load More Channels":"Daha Fazla Kanal Yükle","aria/Menu":"Menü","aria/Message Options":"Mesaj Seçenekleri","aria/Open Attachment Selector":"Ek Seçiciyi Aç","aria/Open Message Actions Menu":"Mesaj İşlemleri Menüsünü Aç","aria/Open Reaction Selector":"Tepki Seçiciyi Aç","aria/Open Thread":"Konuyu Aç","aria/Reaction list":"Tepki listesi","aria/Remind Me Options":"Hatırlatma seçenekleri","aria/Remove attachment":"Eki kaldır","aria/Retry upload":"Yüklemeyi Tekrar Dene","aria/Search results":"Arama sonuçları","aria/Search results header filter button":"Arama sonuçları başlık filtre düğmesi","aria/Send":"Gönder","aria/Stop AI Generation":"Yapay Zeka Üretimini Durdur","ban-command-args":"[@kullanıcıadı] [metin]","ban-command-description":"Bir kullanıcıyı yasakla","duration/Message reminder":"{{ milliseconds | durationFormatter(withSuffix: true) }}","duration/Remind Me":"{{ milliseconds | durationFormatter(withSuffix: true) }}","giphy-command-args":"[metin]","giphy-command-description":"Rastgele bir gif'i kanala gönder",live,"mute-command-args":"[@kullanıcıadı]","mute-command-description":"Bir kullanıcının sesini kapat","network error":"ağ hatası",replyCount_one,replyCount_other,"search-results-header-filter-source-button-label--channels":"kanallar","search-results-header-filter-source-button-label--messages":"mesajlar","search-results-header-filter-source-button-label--users":"kullanıcılar",searchResultsCount_one,searchResultsCount_other,"size limit":"boyut sınırı","this content could not be displayed":"bu içerik gösterilemiyor","timestamp/DateSeparator":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/MessageTimestamp":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/PollVote":"{{ timestamp | timestampFormatter(format: MMM D [at] HH:mm) }}","timestamp/PollVoteTooltip":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/ReminderNotification":"{{ timestamp | timestampFormatter(calendar: true) }}","timestamp/SystemMessage":"{{ timestamp | timestampFormatter(format: dddd L) }}","translationBuilderTopic/notification":"{{value, notification}}","unban-command-args":"[@kullanıcıadı]","unban-command-description":"Bir kullanıcının yasağını kaldır","unknown error":"bilinmeyen hata","unmute-command-args":"[@kullanıcıadı]","unmute-command-description":"Bir kullanıcının sesini aç",unreadMessagesSeparatorText_one,unreadMessagesSeparatorText_other,"unsupported file type":"desteklenmeyen dosya türü","{{ commaSeparatedUsers }} and {{ moreCount }} more":"{{ commaSeparatedUsers }} ve {{ moreCount }} daha","{{ commaSeparatedUsers }}, and {{ lastUser }}":"{{ commaSeparatedUsers }} ve {{ lastUser }}","{{ firstUser }} and {{ secondUser }}":"{{ firstUser }} ve {{ secondUser }}","{{ imageCount }} more":"{{ imageCount }} adet daha","{{ memberCount }} members":"{{ memberCount }} üye","{{ user }} has been muted":"{{ user }} sessize alındı","{{ user }} has been unmuted":"{{ user }} sesi açıldı","{{ user }} is typing...":"{{ user }} yazıyor...","{{ users }} and more are typing...":"{{ users }} ve diğerleri yazıyor...","{{ users }} and {{ user }} are typing...":"{{ users }} ve {{ user }} yazıyor...","{{ watcherCount }} online":"{{ watcherCount }} çevrimiçi","{{count}} unread_one":"{{count}} okunmamış","{{count}} unread_other":"{{count}} okunmamış","{{count}} votes_one":"{{count}} oy","{{count}} votes_other":"{{count}} oy","🏙 Attachment...":"🏙 Ek...","📊 {{createdBy}} created: {{ pollName}}":"📊 {{createdBy}} oluşturdu: {{ pollName}}","📊 {{votedBy}} voted: {{pollOptionText}}":"📊 {{votedBy}} oy verdi: {{pollOptionText}}"},isString=tn=>typeof tn=="string",defer=()=>{let tn,sn;const un=new Promise((dn,pn)=>{tn=dn,sn=pn});return un.resolve=tn,un.reject=sn,un},makeString=tn=>tn==null?"":""+tn,copy=(tn,sn,un)=>{tn.forEach(dn=>{sn[dn]&&(un[dn]=sn[dn])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=tn=>tn&&tn.indexOf("###")>-1?tn.replace(lastOfPathSeparatorRegExp,"."):tn,canNotTraverseDeeper=tn=>!tn||isString(tn),getLastOfPath=(tn,sn,un)=>{const dn=isString(sn)?sn.split("."):sn;let pn=0;for(;pn<dn.length-1;){if(canNotTraverseDeeper(tn))return{};const mn=cleanKey(dn[pn]);!tn[mn]&&un&&(tn[mn]=new un),Object.prototype.hasOwnProperty.call(tn,mn)?tn=tn[mn]:tn={},++pn}return canNotTraverseDeeper(tn)?{}:{obj:tn,k:cleanKey(dn[pn])}},setPath=(tn,sn,un)=>{const{obj:dn,k:pn}=getLastOfPath(tn,sn,Object);if(dn!==void 0||sn.length===1){dn[pn]=un;return}let mn=sn[sn.length-1],hn=sn.slice(0,sn.length-1),fn=getLastOfPath(tn,hn,Object);for(;fn.obj===void 0&&hn.length;)mn=`${hn[hn.length-1]}.${mn}`,hn=hn.slice(0,hn.length-1),fn=getLastOfPath(tn,hn,Object),fn!=null&&fn.obj&&typeof fn.obj[`${fn.k}.${mn}`]<"u"&&(fn.obj=void 0);fn.obj[`${fn.k}.${mn}`]=un},pushPath=(tn,sn,un,dn)=>{const{obj:pn,k:mn}=getLastOfPath(tn,sn,Object);pn[mn]=pn[mn]||[],pn[mn].push(un)},getPath=(tn,sn)=>{const{obj:un,k:dn}=getLastOfPath(tn,sn);if(un&&Object.prototype.hasOwnProperty.call(un,dn))return un[dn]},getPathWithDefaults=(tn,sn,un)=>{const dn=getPath(tn,un);return dn!==void 0?dn:getPath(sn,un)},deepExtend=(tn,sn,un)=>{for(const dn in sn)dn!=="__proto__"&&dn!=="constructor"&&(dn in tn?isString(tn[dn])||tn[dn]instanceof String||isString(sn[dn])||sn[dn]instanceof String?un&&(tn[dn]=sn[dn]):deepExtend(tn[dn],sn[dn],un):tn[dn]=sn[dn]);return tn},regexEscape=tn=>tn.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=tn=>isString(tn)?tn.replace(/[&<>"'\/]/g,sn=>_entityMap[sn]):tn;class RegExpCache{constructor(sn){this.capacity=sn,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(sn){const un=this.regExpMap.get(sn);if(un!==void 0)return un;const dn=new RegExp(sn);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(sn,dn),this.regExpQueue.push(sn),dn}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(tn,sn,un)=>{sn=sn||"",un=un||"";const dn=chars.filter(hn=>sn.indexOf(hn)<0&&un.indexOf(hn)<0);if(dn.length===0)return!0;const pn=looksLikeObjectPathRegExpCache.getRegExp(`(${dn.map(hn=>hn==="?"?"\\?":hn).join("|")})`);let mn=!pn.test(tn);if(!mn){const hn=tn.indexOf(un);hn>0&&!pn.test(tn.substring(0,hn))&&(mn=!0)}return mn},deepFind=(tn,sn,un=".")=>{if(!tn)return;if(tn[sn])return Object.prototype.hasOwnProperty.call(tn,sn)?tn[sn]:void 0;const dn=sn.split(un);let pn=tn;for(let mn=0;mn<dn.length;){if(!pn||typeof pn!="object")return;let hn,fn="";for(let gn=mn;gn<dn.length;++gn)if(gn!==mn&&(fn+=un),fn+=dn[gn],hn=pn[fn],hn!==void 0){if(["string","number","boolean"].indexOf(typeof hn)>-1&&gn<dn.length-1)continue;mn+=gn-mn+1;break}pn=hn}return pn},getCleanedCode=tn=>tn==null?void 0:tn.replace("_","-"),consoleLogger={type:"logger",log(tn){this.output("log",tn)},warn(tn){this.output("warn",tn)},error(tn){this.output("error",tn)},output(tn,sn){var un,dn;(dn=(un=console==null?void 0:console[tn])==null?void 0:un.apply)==null||dn.call(un,console,sn)}};class Logger{constructor(sn,un={}){this.init(sn,un)}init(sn,un={}){this.prefix=un.prefix||"i18next:",this.logger=sn||consoleLogger,this.options=un,this.debug=un.debug}log(...sn){return this.forward(sn,"log","",!0)}warn(...sn){return this.forward(sn,"warn","",!0)}error(...sn){return this.forward(sn,"error","")}deprecate(...sn){return this.forward(sn,"warn","WARNING DEPRECATED: ",!0)}forward(sn,un,dn,pn){return pn&&!this.debug?null:(isString(sn[0])&&(sn[0]=`${dn}${this.prefix} ${sn[0]}`),this.logger[un](sn))}create(sn){return new Logger(this.logger,{prefix:`${this.prefix}:${sn}:`,...this.options})}clone(sn){return sn=sn||this.options,sn.prefix=sn.prefix||this.prefix,new Logger(this.logger,sn)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(sn,un){return sn.split(" ").forEach(dn=>{this.observers[dn]||(this.observers[dn]=new Map);const pn=this.observers[dn].get(un)||0;this.observers[dn].set(un,pn+1)}),this}off(sn,un){if(this.observers[sn]){if(!un){delete this.observers[sn];return}this.observers[sn].delete(un)}}emit(sn,...un){this.observers[sn]&&Array.from(this.observers[sn].entries()).forEach(([pn,mn])=>{for(let hn=0;hn<mn;hn++)pn(...un)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([pn,mn])=>{for(let hn=0;hn<mn;hn++)pn.apply(pn,[sn,...un])})}}class ResourceStore extends EventEmitter{constructor(sn,un={ns:["translation"],defaultNS:"translation"}){super(),this.data=sn||{},this.options=un,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(sn){this.options.ns.indexOf(sn)<0&&this.options.ns.push(sn)}removeNamespaces(sn){const un=this.options.ns.indexOf(sn);un>-1&&this.options.ns.splice(un,1)}getResource(sn,un,dn,pn={}){var xn,yn;const mn=pn.keySeparator!==void 0?pn.keySeparator:this.options.keySeparator,hn=pn.ignoreJSONStructure!==void 0?pn.ignoreJSONStructure:this.options.ignoreJSONStructure;let fn;sn.indexOf(".")>-1?fn=sn.split("."):(fn=[sn,un],dn&&(Array.isArray(dn)?fn.push(...dn):isString(dn)&&mn?fn.push(...dn.split(mn)):fn.push(dn)));const gn=getPath(this.data,fn);return!gn&&!un&&!dn&&sn.indexOf(".")>-1&&(sn=fn[0],un=fn[1],dn=fn.slice(2).join(".")),gn||!hn||!isString(dn)?gn:deepFind((yn=(xn=this.data)==null?void 0:xn[sn])==null?void 0:yn[un],dn,mn)}addResource(sn,un,dn,pn,mn={silent:!1}){const hn=mn.keySeparator!==void 0?mn.keySeparator:this.options.keySeparator;let fn=[sn,un];dn&&(fn=fn.concat(hn?dn.split(hn):dn)),sn.indexOf(".")>-1&&(fn=sn.split("."),pn=un,un=fn[1]),this.addNamespaces(un),setPath(this.data,fn,pn),mn.silent||this.emit("added",sn,un,dn,pn)}addResources(sn,un,dn,pn={silent:!1}){for(const mn in dn)(isString(dn[mn])||Array.isArray(dn[mn]))&&this.addResource(sn,un,mn,dn[mn],{silent:!0});pn.silent||this.emit("added",sn,un,dn)}addResourceBundle(sn,un,dn,pn,mn,hn={silent:!1,skipCopy:!1}){let fn=[sn,un];sn.indexOf(".")>-1&&(fn=sn.split("."),pn=dn,dn=un,un=fn[1]),this.addNamespaces(un);let gn=getPath(this.data,fn)||{};hn.skipCopy||(dn=JSON.parse(JSON.stringify(dn))),pn?deepExtend(gn,dn,mn):gn={...gn,...dn},setPath(this.data,fn,gn),hn.silent||this.emit("added",sn,un,dn)}removeResourceBundle(sn,un){this.hasResourceBundle(sn,un)&&delete this.data[sn][un],this.removeNamespaces(un),this.emit("removed",sn,un)}hasResourceBundle(sn,un){return this.getResource(sn,un)!==void 0}getResourceBundle(sn,un){return un||(un=this.options.defaultNS),this.getResource(sn,un)}getDataByLanguage(sn){return this.data[sn]}hasLanguageSomeTranslations(sn){const un=this.getDataByLanguage(sn);return!!(un&&Object.keys(un)||[]).find(pn=>un[pn]&&Object.keys(un[pn]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(tn){this.processors[tn.name]=tn},handle(tn,sn,un,dn,pn){return tn.forEach(mn=>{var hn;sn=((hn=this.processors[mn])==null?void 0:hn.process(sn,un,dn,pn))??sn}),sn}};const checkedLoadedFor={},shouldHandleAsObject=tn=>!isString(tn)&&typeof tn!="boolean"&&typeof tn!="number";class Translator extends EventEmitter{constructor(sn,un={}){super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],sn,this),this.options=un,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(sn){sn&&(this.language=sn)}exists(sn,un={interpolation:{}}){const dn={...un};if(sn==null)return!1;const pn=this.resolve(sn,dn);return(pn==null?void 0:pn.res)!==void 0}extractFromKey(sn,un){let dn=un.nsSeparator!==void 0?un.nsSeparator:this.options.nsSeparator;dn===void 0&&(dn=":");const pn=un.keySeparator!==void 0?un.keySeparator:this.options.keySeparator;let mn=un.ns||this.options.defaultNS||[];const hn=dn&&sn.indexOf(dn)>-1,fn=!this.options.userDefinedKeySeparator&&!un.keySeparator&&!this.options.userDefinedNsSeparator&&!un.nsSeparator&&!looksLikeObjectPath(sn,dn,pn);if(hn&&!fn){const gn=sn.match(this.interpolator.nestingRegexp);if(gn&&gn.length>0)return{key:sn,namespaces:isString(mn)?[mn]:mn};const xn=sn.split(dn);(dn!==pn||dn===pn&&this.options.ns.indexOf(xn[0])>-1)&&(mn=xn.shift()),sn=xn.join(pn)}return{key:sn,namespaces:isString(mn)?[mn]:mn}}translate(sn,un,dn){let pn=typeof un=="object"?{...un}:un;if(typeof pn!="object"&&this.options.overloadTranslationOptionHandler&&(pn=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(pn={...pn}),pn||(pn={}),sn==null)return"";Array.isArray(sn)||(sn=[String(sn)]);const mn=pn.returnDetails!==void 0?pn.returnDetails:this.options.returnDetails,hn=pn.keySeparator!==void 0?pn.keySeparator:this.options.keySeparator,{key:fn,namespaces:gn}=this.extractFromKey(sn[sn.length-1],pn),xn=gn[gn.length-1];let yn=pn.nsSeparator!==void 0?pn.nsSeparator:this.options.nsSeparator;yn===void 0&&(yn=":");const vn=pn.lng||this.language,En=pn.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((vn==null?void 0:vn.toLowerCase())==="cimode")return En?mn?{res:`${xn}${yn}${fn}`,usedKey:fn,exactUsedKey:fn,usedLng:vn,usedNS:xn,usedParams:this.getUsedParamsDetails(pn)}:`${xn}${yn}${fn}`:mn?{res:fn,usedKey:fn,exactUsedKey:fn,usedLng:vn,usedNS:xn,usedParams:this.getUsedParamsDetails(pn)}:fn;const bn=this.resolve(sn,pn);let wn=bn==null?void 0:bn.res;const Sn=(bn==null?void 0:bn.usedKey)||fn,Rn=(bn==null?void 0:bn.exactUsedKey)||fn,_n=["[object Number]","[object Function]","[object RegExp]"],jn=pn.joinArrays!==void 0?pn.joinArrays:this.options.joinArrays,Cn=!this.i18nFormat||this.i18nFormat.handleAsObject,An=pn.count!==void 0&&!isString(pn.count),Tn=Translator.hasDefaultValue(pn),$n=An?this.pluralResolver.getSuffix(vn,pn.count,pn):"",Dn=pn.ordinal&&An?this.pluralResolver.getSuffix(vn,pn.count,{ordinal:!1}):"",Nn=An&&!pn.ordinal&&pn.count===0,kn=Nn&&pn[`defaultValue${this.options.pluralSeparator}zero`]||pn[`defaultValue${$n}`]||pn[`defaultValue${Dn}`]||pn.defaultValue;let Pn=wn;Cn&&!wn&&Tn&&(Pn=kn);const Mn=shouldHandleAsObject(Pn),On=Object.prototype.toString.apply(Pn);if(Cn&&Pn&&Mn&&_n.indexOf(On)<0&&!(isString(jn)&&Array.isArray(Pn))){if(!pn.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Wn=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Sn,Pn,{...pn,ns:gn}):`key '${fn} (${this.language})' returned an object instead of string.`;return mn?(bn.res=Wn,bn.usedParams=this.getUsedParamsDetails(pn),bn):Wn}if(hn){const Wn=Array.isArray(Pn),In=Wn?[]:{},Un=Wn?Rn:Sn;for(const Vn in Pn)if(Object.prototype.hasOwnProperty.call(Pn,Vn)){const Hn=`${Un}${hn}${Vn}`;Tn&&!wn?In[Vn]=this.translate(Hn,{...pn,defaultValue:shouldHandleAsObject(kn)?kn[Vn]:void 0,joinArrays:!1,ns:gn}):In[Vn]=this.translate(Hn,{...pn,joinArrays:!1,ns:gn}),In[Vn]===Hn&&(In[Vn]=Pn[Vn])}wn=In}}else if(Cn&&isString(jn)&&Array.isArray(wn))wn=wn.join(jn),wn&&(wn=this.extendTranslation(wn,sn,pn,dn));else{let Wn=!1,In=!1;!this.isValidLookup(wn)&&Tn&&(Wn=!0,wn=kn),this.isValidLookup(wn)||(In=!0,wn=fn);const Vn=(pn.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&In?void 0:wn,Hn=Tn&&kn!==wn&&this.options.updateMissing;if(In||Wn||Hn){if(this.logger.log(Hn?"updateKey":"missingKey",vn,xn,fn,Hn?kn:wn),hn){const Fn=this.resolve(fn,{...pn,keySeparator:!1});Fn&&Fn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ln=[];const zn=this.languageUtils.getFallbackCodes(this.options.fallbackLng,pn.lng||this.language);if(this.options.saveMissingTo==="fallback"&&zn&&zn[0])for(let Fn=0;Fn<zn.length;Fn++)Ln.push(zn[Fn]);else this.options.saveMissingTo==="all"?Ln=this.languageUtils.toResolveHierarchy(pn.lng||this.language):Ln.push(pn.lng||this.language);const Bn=(Fn,Gn,qn)=>{var dr;const Jn=Tn&&qn!==wn?qn:Vn;this.options.missingKeyHandler?this.options.missingKeyHandler(Fn,xn,Gn,Jn,Hn,pn):(dr=this.backendConnector)!=null&&dr.saveMissing&&this.backendConnector.saveMissing(Fn,xn,Gn,Jn,Hn,pn),this.emit("missingKey",Fn,xn,Gn,wn)};this.options.saveMissing&&(this.options.saveMissingPlurals&&An?Ln.forEach(Fn=>{const Gn=this.pluralResolver.getSuffixes(Fn,pn);Nn&&pn[`defaultValue${this.options.pluralSeparator}zero`]&&Gn.indexOf(`${this.options.pluralSeparator}zero`)<0&&Gn.push(`${this.options.pluralSeparator}zero`),Gn.forEach(qn=>{Bn([Fn],fn+qn,pn[`defaultValue${qn}`]||kn)})}):Bn(Ln,fn,kn))}wn=this.extendTranslation(wn,sn,pn,bn,dn),In&&wn===fn&&this.options.appendNamespaceToMissingKey&&(wn=`${xn}${yn}${fn}`),(In||Wn)&&this.options.parseMissingKeyHandler&&(wn=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${xn}${yn}${fn}`:fn,Wn?wn:void 0,pn))}return mn?(bn.res=wn,bn.usedParams=this.getUsedParamsDetails(pn),bn):wn}extendTranslation(sn,un,dn,pn,mn){var gn,xn;if((gn=this.i18nFormat)!=null&&gn.parse)sn=this.i18nFormat.parse(sn,{...this.options.interpolation.defaultVariables,...dn},dn.lng||this.language||pn.usedLng,pn.usedNS,pn.usedKey,{resolved:pn});else if(!dn.skipInterpolation){dn.interpolation&&this.interpolator.init({...dn,interpolation:{...this.options.interpolation,...dn.interpolation}});const yn=isString(sn)&&(((xn=dn==null?void 0:dn.interpolation)==null?void 0:xn.skipOnVariables)!==void 0?dn.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let vn;if(yn){const bn=sn.match(this.interpolator.nestingRegexp);vn=bn&&bn.length}let En=dn.replace&&!isString(dn.replace)?dn.replace:dn;if(this.options.interpolation.defaultVariables&&(En={...this.options.interpolation.defaultVariables,...En}),sn=this.interpolator.interpolate(sn,En,dn.lng||this.language||pn.usedLng,dn),yn){const bn=sn.match(this.interpolator.nestingRegexp),wn=bn&&bn.length;vn<wn&&(dn.nest=!1)}!dn.lng&&pn&&pn.res&&(dn.lng=this.language||pn.usedLng),dn.nest!==!1&&(sn=this.interpolator.nest(sn,(...bn)=>(mn==null?void 0:mn[0])===bn[0]&&!dn.context?(this.logger.warn(`It seems you are nesting recursively key: ${bn[0]} in key: ${un[0]}`),null):this.translate(...bn,un),dn)),dn.interpolation&&this.interpolator.reset()}const hn=dn.postProcess||this.options.postProcess,fn=isString(hn)?[hn]:hn;return sn!=null&&(fn!=null&&fn.length)&&dn.applyPostProcessor!==!1&&(sn=postProcessor.handle(fn,sn,un,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...pn,usedParams:this.getUsedParamsDetails(dn)},...dn}:dn,this)),sn}resolve(sn,un={}){let dn,pn,mn,hn,fn;return isString(sn)&&(sn=[sn]),sn.forEach(gn=>{if(this.isValidLookup(dn))return;const xn=this.extractFromKey(gn,un),yn=xn.key;pn=yn;let vn=xn.namespaces;this.options.fallbackNS&&(vn=vn.concat(this.options.fallbackNS));const En=un.count!==void 0&&!isString(un.count),bn=En&&!un.ordinal&&un.count===0,wn=un.context!==void 0&&(isString(un.context)||typeof un.context=="number")&&un.context!=="",Sn=un.lngs?un.lngs:this.languageUtils.toResolveHierarchy(un.lng||this.language,un.fallbackLng);vn.forEach(Rn=>{var _n,jn;this.isValidLookup(dn)||(fn=Rn,!checkedLoadedFor[`${Sn[0]}-${Rn}`]&&((_n=this.utils)!=null&&_n.hasLoadedNamespace)&&!((jn=this.utils)!=null&&jn.hasLoadedNamespace(fn))&&(checkedLoadedFor[`${Sn[0]}-${Rn}`]=!0,this.logger.warn(`key "${pn}" for languages "${Sn.join(", ")}" won't get resolved as namespace "${fn}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Sn.forEach(Cn=>{var $n;if(this.isValidLookup(dn))return;hn=Cn;const An=[yn];if(($n=this.i18nFormat)!=null&&$n.addLookupKeys)this.i18nFormat.addLookupKeys(An,yn,Cn,Rn,un);else{let Dn;En&&(Dn=this.pluralResolver.getSuffix(Cn,un.count,un));const Nn=`${this.options.pluralSeparator}zero`,kn=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(En&&(An.push(yn+Dn),un.ordinal&&Dn.indexOf(kn)===0&&An.push(yn+Dn.replace(kn,this.options.pluralSeparator)),bn&&An.push(yn+Nn)),wn){const Pn=`${yn}${this.options.contextSeparator}${un.context}`;An.push(Pn),En&&(An.push(Pn+Dn),un.ordinal&&Dn.indexOf(kn)===0&&An.push(Pn+Dn.replace(kn,this.options.pluralSeparator)),bn&&An.push(Pn+Nn))}}let Tn;for(;Tn=An.pop();)this.isValidLookup(dn)||(mn=Tn,dn=this.getResource(Cn,Rn,Tn,un))}))})}),{res:dn,usedKey:pn,exactUsedKey:mn,usedLng:hn,usedNS:fn}}isValidLookup(sn){return sn!==void 0&&!(!this.options.returnNull&&sn===null)&&!(!this.options.returnEmptyString&&sn==="")}getResource(sn,un,dn,pn={}){var mn;return(mn=this.i18nFormat)!=null&&mn.getResource?this.i18nFormat.getResource(sn,un,dn,pn):this.resourceStore.getResource(sn,un,dn,pn)}getUsedParamsDetails(sn={}){const un=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],dn=sn.replace&&!isString(sn.replace);let pn=dn?sn.replace:sn;if(dn&&typeof sn.count<"u"&&(pn.count=sn.count),this.options.interpolation.defaultVariables&&(pn={...this.options.interpolation.defaultVariables,...pn}),!dn){pn={...pn};for(const mn of un)delete pn[mn]}return pn}static hasDefaultValue(sn){const un="defaultValue";for(const dn in sn)if(Object.prototype.hasOwnProperty.call(sn,dn)&&un===dn.substring(0,un.length)&&sn[dn]!==void 0)return!0;return!1}}class LanguageUtil{constructor(sn){this.options=sn,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(sn){if(sn=getCleanedCode(sn),!sn||sn.indexOf("-")<0)return null;const un=sn.split("-");return un.length===2||(un.pop(),un[un.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(un.join("-"))}getLanguagePartFromCode(sn){if(sn=getCleanedCode(sn),!sn||sn.indexOf("-")<0)return sn;const un=sn.split("-");return this.formatLanguageCode(un[0])}formatLanguageCode(sn){if(isString(sn)&&sn.indexOf("-")>-1){let un;try{un=Intl.getCanonicalLocales(sn)[0]}catch{}return un&&this.options.lowerCaseLng&&(un=un.toLowerCase()),un||(this.options.lowerCaseLng?sn.toLowerCase():sn)}return this.options.cleanCode||this.options.lowerCaseLng?sn.toLowerCase():sn}isSupportedCode(sn){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(sn=this.getLanguagePartFromCode(sn)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(sn)>-1}getBestMatchFromCodes(sn){if(!sn)return null;let un;return sn.forEach(dn=>{if(un)return;const pn=this.formatLanguageCode(dn);(!this.options.supportedLngs||this.isSupportedCode(pn))&&(un=pn)}),!un&&this.options.supportedLngs&&sn.forEach(dn=>{if(un)return;const pn=this.getScriptPartFromCode(dn);if(this.isSupportedCode(pn))return un=pn;const mn=this.getLanguagePartFromCode(dn);if(this.isSupportedCode(mn))return un=mn;un=this.options.supportedLngs.find(hn=>{if(hn===mn)return hn;if(!(hn.indexOf("-")<0&&mn.indexOf("-")<0)&&(hn.indexOf("-")>0&&mn.indexOf("-")<0&&hn.substring(0,hn.indexOf("-"))===mn||hn.indexOf(mn)===0&&mn.length>1))return hn})}),un||(un=this.getFallbackCodes(this.options.fallbackLng)[0]),un}getFallbackCodes(sn,un){if(!sn)return[];if(typeof sn=="function"&&(sn=sn(un)),isString(sn)&&(sn=[sn]),Array.isArray(sn))return sn;if(!un)return sn.default||[];let dn=sn[un];return dn||(dn=sn[this.getScriptPartFromCode(un)]),dn||(dn=sn[this.formatLanguageCode(un)]),dn||(dn=sn[this.getLanguagePartFromCode(un)]),dn||(dn=sn.default),dn||[]}toResolveHierarchy(sn,un){const dn=this.getFallbackCodes((un===!1?[]:un)||this.options.fallbackLng||[],sn),pn=[],mn=hn=>{hn&&(this.isSupportedCode(hn)?pn.push(hn):this.logger.warn(`rejecting language code not found in supportedLngs: ${hn}`))};return isString(sn)&&(sn.indexOf("-")>-1||sn.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&mn(this.formatLanguageCode(sn)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&mn(this.getScriptPartFromCode(sn)),this.options.load!=="currentOnly"&&mn(this.getLanguagePartFromCode(sn))):isString(sn)&&mn(this.formatLanguageCode(sn)),dn.forEach(hn=>{pn.indexOf(hn)<0&&mn(this.formatLanguageCode(hn))}),pn}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:tn=>tn===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(sn,un={}){this.languageUtils=sn,this.options=un,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}addRule(sn,un){this.rules[sn]=un}clearCache(){this.pluralRulesCache={}}getRule(sn,un={}){const dn=getCleanedCode(sn==="dev"?"en":sn),pn=un.ordinal?"ordinal":"cardinal",mn=JSON.stringify({cleanedCode:dn,type:pn});if(mn in this.pluralRulesCache)return this.pluralRulesCache[mn];let hn;try{hn=new Intl.PluralRules(dn,{type:pn})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!sn.match(/-|_/))return dummyRule;const gn=this.languageUtils.getLanguagePartFromCode(sn);hn=this.getRule(gn,un)}return this.pluralRulesCache[mn]=hn,hn}needsPlural(sn,un={}){let dn=this.getRule(sn,un);return dn||(dn=this.getRule("dev",un)),(dn==null?void 0:dn.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(sn,un,dn={}){return this.getSuffixes(sn,dn).map(pn=>`${un}${pn}`)}getSuffixes(sn,un={}){let dn=this.getRule(sn,un);return dn||(dn=this.getRule("dev",un)),dn?dn.resolvedOptions().pluralCategories.sort((pn,mn)=>suffixesOrder[pn]-suffixesOrder[mn]).map(pn=>`${this.options.prepend}${un.ordinal?`ordinal${this.options.prepend}`:""}${pn}`):[]}getSuffix(sn,un,dn={}){const pn=this.getRule(sn,dn);return pn?`${this.options.prepend}${dn.ordinal?`ordinal${this.options.prepend}`:""}${pn.select(un)}`:(this.logger.warn(`no plural rule found for: ${sn}`),this.getSuffix("dev",un,dn))}}const deepFindWithDefaults=(tn,sn,un,dn=".",pn=!0)=>{let mn=getPathWithDefaults(tn,sn,un);return!mn&&pn&&isString(un)&&(mn=deepFind(tn,un,dn),mn===void 0&&(mn=deepFind(sn,un,dn))),mn},regexSafe=tn=>tn.replace(/\$/g,"$$$$");class Interpolator{constructor(sn={}){var un;this.logger=baseLogger.create("interpolator"),this.options=sn,this.format=((un=sn==null?void 0:sn.interpolation)==null?void 0:un.format)||(dn=>dn),this.init(sn)}init(sn={}){sn.interpolation||(sn.interpolation={escapeValue:!0});const{escape:un,escapeValue:dn,useRawValueToEscape:pn,prefix:mn,prefixEscaped:hn,suffix:fn,suffixEscaped:gn,formatSeparator:xn,unescapeSuffix:yn,unescapePrefix:vn,nestingPrefix:En,nestingPrefixEscaped:bn,nestingSuffix:wn,nestingSuffixEscaped:Sn,nestingOptionsSeparator:Rn,maxReplaces:_n,alwaysFormat:jn}=sn.interpolation;this.escape=un!==void 0?un:escape,this.escapeValue=dn!==void 0?dn:!0,this.useRawValueToEscape=pn!==void 0?pn:!1,this.prefix=mn?regexEscape(mn):hn||"{{",this.suffix=fn?regexEscape(fn):gn||"}}",this.formatSeparator=xn||",",this.unescapePrefix=yn?"":vn||"-",this.unescapeSuffix=this.unescapePrefix?"":yn||"",this.nestingPrefix=En?regexEscape(En):bn||regexEscape("$t("),this.nestingSuffix=wn?regexEscape(wn):Sn||regexEscape(")"),this.nestingOptionsSeparator=Rn||",",this.maxReplaces=_n||1e3,this.alwaysFormat=jn!==void 0?jn:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const sn=(un,dn)=>(un==null?void 0:un.source)===dn?(un.lastIndex=0,un):new RegExp(dn,"g");this.regexp=sn(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=sn(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=sn(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(sn,un,dn,pn){var bn;let mn,hn,fn;const gn=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},xn=wn=>{if(wn.indexOf(this.formatSeparator)<0){const jn=deepFindWithDefaults(un,gn,wn,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(jn,void 0,dn,{...pn,...un,interpolationkey:wn}):jn}const Sn=wn.split(this.formatSeparator),Rn=Sn.shift().trim(),_n=Sn.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(un,gn,Rn,this.options.keySeparator,this.options.ignoreJSONStructure),_n,dn,{...pn,...un,interpolationkey:Rn})};this.resetRegExp();const yn=(pn==null?void 0:pn.missingInterpolationHandler)||this.options.missingInterpolationHandler,vn=((bn=pn==null?void 0:pn.interpolation)==null?void 0:bn.skipOnVariables)!==void 0?pn.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:wn=>regexSafe(wn)},{regex:this.regexp,safeValue:wn=>this.escapeValue?regexSafe(this.escape(wn)):regexSafe(wn)}].forEach(wn=>{for(fn=0;mn=wn.regex.exec(sn);){const Sn=mn[1].trim();if(hn=xn(Sn),hn===void 0)if(typeof yn=="function"){const _n=yn(sn,mn,pn);hn=isString(_n)?_n:""}else if(pn&&Object.prototype.hasOwnProperty.call(pn,Sn))hn="";else if(vn){hn=mn[0];continue}else this.logger.warn(`missed to pass in variable ${Sn} for interpolating ${sn}`),hn="";else!isString(hn)&&!this.useRawValueToEscape&&(hn=makeString(hn));const Rn=wn.safeValue(hn);if(sn=sn.replace(mn[0],Rn),vn?(wn.regex.lastIndex+=hn.length,wn.regex.lastIndex-=mn[0].length):wn.regex.lastIndex=0,fn++,fn>=this.maxReplaces)break}}),sn}nest(sn,un,dn={}){let pn,mn,hn;const fn=(gn,xn)=>{const yn=this.nestingOptionsSeparator;if(gn.indexOf(yn)<0)return gn;const vn=gn.split(new RegExp(`${yn}[ ]*{`));let En=`{${vn[1]}`;gn=vn[0],En=this.interpolate(En,hn);const bn=En.match(/'/g),wn=En.match(/"/g);(((bn==null?void 0:bn.length)??0)%2===0&&!wn||wn.length%2!==0)&&(En=En.replace(/'/g,'"'));try{hn=JSON.parse(En),xn&&(hn={...xn,...hn})}catch(Sn){return this.logger.warn(`failed parsing options string in nesting for key ${gn}`,Sn),`${gn}${yn}${En}`}return hn.defaultValue&&hn.defaultValue.indexOf(this.prefix)>-1&&delete hn.defaultValue,gn};for(;pn=this.nestingRegexp.exec(sn);){let gn=[];hn={...dn},hn=hn.replace&&!isString(hn.replace)?hn.replace:hn,hn.applyPostProcessor=!1,delete hn.defaultValue;const xn=/{.*}/.test(pn[1])?pn[1].lastIndexOf("}")+1:pn[1].indexOf(this.formatSeparator);if(xn!==-1&&(gn=pn[1].slice(xn).split(this.formatSeparator).map(yn=>yn.trim()).filter(Boolean),pn[1]=pn[1].slice(0,xn)),mn=un(fn.call(this,pn[1].trim(),hn),hn),mn&&pn[0]===sn&&!isString(mn))return mn;isString(mn)||(mn=makeString(mn)),mn||(this.logger.warn(`missed to resolve ${pn[1]} for nesting ${sn}`),mn=""),gn.length&&(mn=gn.reduce((yn,vn)=>this.format(yn,vn,dn.lng,{...dn,interpolationkey:pn[1].trim()}),mn.trim())),sn=sn.replace(pn[0],mn),this.regexp.lastIndex=0}return sn}}const parseFormatStr=tn=>{let sn=tn.toLowerCase().trim();const un={};if(tn.indexOf("(")>-1){const dn=tn.split("(");sn=dn[0].toLowerCase().trim();const pn=dn[1].substring(0,dn[1].length-1);sn==="currency"&&pn.indexOf(":")<0?un.currency||(un.currency=pn.trim()):sn==="relativetime"&&pn.indexOf(":")<0?un.range||(un.range=pn.trim()):pn.split(";").forEach(hn=>{if(hn){const[fn,...gn]=hn.split(":"),xn=gn.join(":").trim().replace(/^'+|'+$/g,""),yn=fn.trim();un[yn]||(un[yn]=xn),xn==="false"&&(un[yn]=!1),xn==="true"&&(un[yn]=!0),isNaN(xn)||(un[yn]=parseInt(xn,10))}})}return{formatName:sn,formatOptions:un}},createCachedFormatter=tn=>{const sn={};return(un,dn,pn)=>{let mn=pn;pn&&pn.interpolationkey&&pn.formatParams&&pn.formatParams[pn.interpolationkey]&&pn[pn.interpolationkey]&&(mn={...mn,[pn.interpolationkey]:void 0});const hn=dn+JSON.stringify(mn);let fn=sn[hn];return fn||(fn=tn(getCleanedCode(dn),pn),sn[hn]=fn),fn(un)}},createNonCachedFormatter=tn=>(sn,un,dn)=>tn(getCleanedCode(un),dn)(sn);class Formatter{constructor(sn={}){this.logger=baseLogger.create("formatter"),this.options=sn,this.init(sn)}init(sn,un={interpolation:{}}){this.formatSeparator=un.interpolation.formatSeparator||",";const dn=un.cacheInBuiltFormats?createCachedFormatter:createNonCachedFormatter;this.formats={number:dn((pn,mn)=>{const hn=new Intl.NumberFormat(pn,{...mn});return fn=>hn.format(fn)}),currency:dn((pn,mn)=>{const hn=new Intl.NumberFormat(pn,{...mn,style:"currency"});return fn=>hn.format(fn)}),datetime:dn((pn,mn)=>{const hn=new Intl.DateTimeFormat(pn,{...mn});return fn=>hn.format(fn)}),relativetime:dn((pn,mn)=>{const hn=new Intl.RelativeTimeFormat(pn,{...mn});return fn=>hn.format(fn,mn.range||"day")}),list:dn((pn,mn)=>{const hn=new Intl.ListFormat(pn,{...mn});return fn=>hn.format(fn)})}}add(sn,un){this.formats[sn.toLowerCase().trim()]=un}addCached(sn,un){this.formats[sn.toLowerCase().trim()]=createCachedFormatter(un)}format(sn,un,dn,pn={}){const mn=un.split(this.formatSeparator);if(mn.length>1&&mn[0].indexOf("(")>1&&mn[0].indexOf(")")<0&&mn.find(fn=>fn.indexOf(")")>-1)){const fn=mn.findIndex(gn=>gn.indexOf(")")>-1);mn[0]=[mn[0],...mn.splice(1,fn)].join(this.formatSeparator)}return mn.reduce((fn,gn)=>{var vn;const{formatName:xn,formatOptions:yn}=parseFormatStr(gn);if(this.formats[xn]){let En=fn;try{const bn=((vn=pn==null?void 0:pn.formatParams)==null?void 0:vn[pn.interpolationkey])||{},wn=bn.locale||bn.lng||pn.locale||pn.lng||dn;En=this.formats[xn](fn,wn,{...yn,...pn,...bn})}catch(bn){this.logger.warn(bn)}return En}else this.logger.warn(`there was no format function for ${xn}`);return fn},sn)}}const removePending=(tn,sn)=>{tn.pending[sn]!==void 0&&(delete tn.pending[sn],tn.pendingCount--)};class Connector extends EventEmitter{constructor(sn,un,dn,pn={}){var mn,hn;super(),this.backend=sn,this.store=un,this.services=dn,this.languageUtils=dn.languageUtils,this.options=pn,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=pn.maxParallelReads||10,this.readingCalls=0,this.maxRetries=pn.maxRetries>=0?pn.maxRetries:5,this.retryTimeout=pn.retryTimeout>=1?pn.retryTimeout:350,this.state={},this.queue=[],(hn=(mn=this.backend)==null?void 0:mn.init)==null||hn.call(mn,dn,pn.backend,pn)}queueLoad(sn,un,dn,pn){const mn={},hn={},fn={},gn={};return sn.forEach(xn=>{let yn=!0;un.forEach(vn=>{const En=`${xn}|${vn}`;!dn.reload&&this.store.hasResourceBundle(xn,vn)?this.state[En]=2:this.state[En]<0||(this.state[En]===1?hn[En]===void 0&&(hn[En]=!0):(this.state[En]=1,yn=!1,hn[En]===void 0&&(hn[En]=!0),mn[En]===void 0&&(mn[En]=!0),gn[vn]===void 0&&(gn[vn]=!0)))}),yn||(fn[xn]=!0)}),(Object.keys(mn).length||Object.keys(hn).length)&&this.queue.push({pending:hn,pendingCount:Object.keys(hn).length,loaded:{},errors:[],callback:pn}),{toLoad:Object.keys(mn),pending:Object.keys(hn),toLoadLanguages:Object.keys(fn),toLoadNamespaces:Object.keys(gn)}}loaded(sn,un,dn){const pn=sn.split("|"),mn=pn[0],hn=pn[1];un&&this.emit("failedLoading",mn,hn,un),!un&&dn&&this.store.addResourceBundle(mn,hn,dn,void 0,void 0,{skipCopy:!0}),this.state[sn]=un?-1:2,un&&dn&&(this.state[sn]=0);const fn={};this.queue.forEach(gn=>{pushPath(gn.loaded,[mn],hn),removePending(gn,sn),un&&gn.errors.push(un),gn.pendingCount===0&&!gn.done&&(Object.keys(gn.loaded).forEach(xn=>{fn[xn]||(fn[xn]={});const yn=gn.loaded[xn];yn.length&&yn.forEach(vn=>{fn[xn][vn]===void 0&&(fn[xn][vn]=!0)})}),gn.done=!0,gn.errors.length?gn.callback(gn.errors):gn.callback())}),this.emit("loaded",fn),this.queue=this.queue.filter(gn=>!gn.done)}read(sn,un,dn,pn=0,mn=this.retryTimeout,hn){if(!sn.length)return hn(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:sn,ns:un,fcName:dn,tried:pn,wait:mn,callback:hn});return}this.readingCalls++;const fn=(xn,yn)=>{if(this.readingCalls--,this.waitingReads.length>0){const vn=this.waitingReads.shift();this.read(vn.lng,vn.ns,vn.fcName,vn.tried,vn.wait,vn.callback)}if(xn&&yn&&pn<this.maxRetries){setTimeout(()=>{this.read.call(this,sn,un,dn,pn+1,mn*2,hn)},mn);return}hn(xn,yn)},gn=this.backend[dn].bind(this.backend);if(gn.length===2){try{const xn=gn(sn,un);xn&&typeof xn.then=="function"?xn.then(yn=>fn(null,yn)).catch(fn):fn(null,xn)}catch(xn){fn(xn)}return}return gn(sn,un,fn)}prepareLoading(sn,un,dn={},pn){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),pn&&pn();isString(sn)&&(sn=this.languageUtils.toResolveHierarchy(sn)),isString(un)&&(un=[un]);const mn=this.queueLoad(sn,un,dn,pn);if(!mn.toLoad.length)return mn.pending.length||pn(),null;mn.toLoad.forEach(hn=>{this.loadOne(hn)})}load(sn,un,dn){this.prepareLoading(sn,un,{},dn)}reload(sn,un,dn){this.prepareLoading(sn,un,{reload:!0},dn)}loadOne(sn,un=""){const dn=sn.split("|"),pn=dn[0],mn=dn[1];this.read(pn,mn,"read",void 0,void 0,(hn,fn)=>{hn&&this.logger.warn(`${un}loading namespace ${mn} for language ${pn} failed`,hn),!hn&&fn&&this.logger.log(`${un}loaded namespace ${mn} for language ${pn}`,fn),this.loaded(sn,hn,fn)})}saveMissing(sn,un,dn,pn,mn,hn={},fn=()=>{}){var gn,xn,yn,vn,En;if((xn=(gn=this.services)==null?void 0:gn.utils)!=null&&xn.hasLoadedNamespace&&!((vn=(yn=this.services)==null?void 0:yn.utils)!=null&&vn.hasLoadedNamespace(un))){this.logger.warn(`did not save key "${dn}" as the namespace "${un}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(dn==null||dn==="")){if((En=this.backend)!=null&&En.create){const bn={...hn,isUpdate:mn},wn=this.backend.create.bind(this.backend);if(wn.length<6)try{let Sn;wn.length===5?Sn=wn(sn,un,dn,pn,bn):Sn=wn(sn,un,dn,pn),Sn&&typeof Sn.then=="function"?Sn.then(Rn=>fn(null,Rn)).catch(fn):fn(null,Sn)}catch(Sn){fn(Sn)}else wn(sn,un,dn,pn,fn,bn)}!sn||!sn[0]||this.store.addResource(sn[0],un,dn,pn)}}}const get=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:tn=>{let sn={};if(typeof tn[1]=="object"&&(sn=tn[1]),isString(tn[1])&&(sn.defaultValue=tn[1]),isString(tn[2])&&(sn.tDescription=tn[2]),typeof tn[2]=="object"||typeof tn[3]=="object"){const un=tn[3]||tn[2];Object.keys(un).forEach(dn=>{sn[dn]=un[dn]})}return sn},interpolation:{escapeValue:!0,format:tn=>tn,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),transformOptions=tn=>{var sn,un;return isString(tn.ns)&&(tn.ns=[tn.ns]),isString(tn.fallbackLng)&&(tn.fallbackLng=[tn.fallbackLng]),isString(tn.fallbackNS)&&(tn.fallbackNS=[tn.fallbackNS]),((un=(sn=tn.supportedLngs)==null?void 0:sn.indexOf)==null?void 0:un.call(sn,"cimode"))<0&&(tn.supportedLngs=tn.supportedLngs.concat(["cimode"])),typeof tn.initImmediate=="boolean"&&(tn.initAsync=tn.initImmediate),tn},noop$2=()=>{},bindMemberFunctions=tn=>{Object.getOwnPropertyNames(Object.getPrototypeOf(tn)).forEach(un=>{typeof tn[un]=="function"&&(tn[un]=tn[un].bind(tn))})};class I18n extends EventEmitter{constructor(sn={},un){if(super(),this.options=transformOptions(sn),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),un&&!this.isInitialized&&!sn.isClone){if(!this.options.initAsync)return this.init(sn,un),this;setTimeout(()=>{this.init(sn,un)},0)}}init(sn={},un){this.isInitializing=!0,typeof sn=="function"&&(un=sn,sn={}),sn.defaultNS==null&&sn.ns&&(isString(sn.ns)?sn.defaultNS=sn.ns:sn.ns.indexOf("translation")<0&&(sn.defaultNS=sn.ns[0]));const dn=get();this.options={...dn,...this.options,...transformOptions(sn)},this.options.interpolation={...dn.interpolation,...this.options.interpolation},sn.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=sn.keySeparator),sn.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=sn.nsSeparator);const pn=xn=>xn?typeof xn=="function"?new xn:xn:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(pn(this.modules.logger),this.options):baseLogger.init(null,this.options);let xn;this.modules.formatter?xn=this.modules.formatter:xn=Formatter;const yn=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const vn=this.services;vn.logger=baseLogger,vn.resourceStore=this.store,vn.languageUtils=yn,vn.pluralResolver=new PluralResolver(yn,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==dn.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),xn&&(!this.options.interpolation.format||this.options.interpolation.format===dn.interpolation.format)&&(vn.formatter=pn(xn),vn.formatter.init&&vn.formatter.init(vn,this.options),this.options.interpolation.format=vn.formatter.format.bind(vn.formatter)),vn.interpolator=new Interpolator(this.options),vn.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},vn.backendConnector=new Connector(pn(this.modules.backend),vn.resourceStore,vn,this.options),vn.backendConnector.on("*",(bn,...wn)=>{this.emit(bn,...wn)}),this.modules.languageDetector&&(vn.languageDetector=pn(this.modules.languageDetector),vn.languageDetector.init&&vn.languageDetector.init(vn,this.options.detection,this.options)),this.modules.i18nFormat&&(vn.i18nFormat=pn(this.modules.i18nFormat),vn.i18nFormat.init&&vn.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(bn,...wn)=>{this.emit(bn,...wn)}),this.modules.external.forEach(bn=>{bn.init&&bn.init(this)})}if(this.format=this.options.interpolation.format,un||(un=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const xn=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);xn.length>0&&xn[0]!=="dev"&&(this.options.lng=xn[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(xn=>{this[xn]=(...yn)=>this.store[xn](...yn)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(xn=>{this[xn]=(...yn)=>(this.store[xn](...yn),this)});const fn=defer(),gn=()=>{const xn=(yn,vn)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),fn.resolve(vn),un(yn,vn)};if(this.languages&&!this.isInitialized)return xn(null,this.t.bind(this));this.changeLanguage(this.options.lng,xn)};return this.options.resources||!this.options.initAsync?gn():setTimeout(gn,0),fn}loadResources(sn,un=noop$2){var mn,hn;let dn=un;const pn=isString(sn)?sn:this.language;if(typeof sn=="function"&&(dn=sn),!this.options.resources||this.options.partialBundledLanguages){if((pn==null?void 0:pn.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return dn();const fn=[],gn=xn=>{if(!xn||xn==="cimode")return;this.services.languageUtils.toResolveHierarchy(xn).forEach(vn=>{vn!=="cimode"&&fn.indexOf(vn)<0&&fn.push(vn)})};pn?gn(pn):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(yn=>gn(yn)),(hn=(mn=this.options.preload)==null?void 0:mn.forEach)==null||hn.call(mn,xn=>gn(xn)),this.services.backendConnector.load(fn,this.options.ns,xn=>{!xn&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),dn(xn)})}else dn(null)}reloadResources(sn,un,dn){const pn=defer();return typeof sn=="function"&&(dn=sn,sn=void 0),typeof un=="function"&&(dn=un,un=void 0),sn||(sn=this.languages),un||(un=this.options.ns),dn||(dn=noop$2),this.services.backendConnector.reload(sn,un,mn=>{pn.resolve(),dn(mn)}),pn}use(sn){if(!sn)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!sn.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return sn.type==="backend"&&(this.modules.backend=sn),(sn.type==="logger"||sn.log&&sn.warn&&sn.error)&&(this.modules.logger=sn),sn.type==="languageDetector"&&(this.modules.languageDetector=sn),sn.type==="i18nFormat"&&(this.modules.i18nFormat=sn),sn.type==="postProcessor"&&postProcessor.addPostProcessor(sn),sn.type==="formatter"&&(this.modules.formatter=sn),sn.type==="3rdParty"&&this.modules.external.push(sn),this}setResolvedLanguage(sn){if(!(!sn||!this.languages)&&!(["cimode","dev"].indexOf(sn)>-1)){for(let un=0;un<this.languages.length;un++){const dn=this.languages[un];if(!(["cimode","dev"].indexOf(dn)>-1)&&this.store.hasLanguageSomeTranslations(dn)){this.resolvedLanguage=dn;break}}!this.resolvedLanguage&&this.languages.indexOf(sn)<0&&this.store.hasLanguageSomeTranslations(sn)&&(this.resolvedLanguage=sn,this.languages.unshift(sn))}}changeLanguage(sn,un){this.isLanguageChangingTo=sn;const dn=defer();this.emit("languageChanging",sn);const pn=fn=>{this.language=fn,this.languages=this.services.languageUtils.toResolveHierarchy(fn),this.resolvedLanguage=void 0,this.setResolvedLanguage(fn)},mn=(fn,gn)=>{gn?this.isLanguageChangingTo===sn&&(pn(gn),this.translator.changeLanguage(gn),this.isLanguageChangingTo=void 0,this.emit("languageChanged",gn),this.logger.log("languageChanged",gn)):this.isLanguageChangingTo=void 0,dn.resolve((...xn)=>this.t(...xn)),un&&un(fn,(...xn)=>this.t(...xn))},hn=fn=>{var yn,vn;!sn&&!fn&&this.services.languageDetector&&(fn=[]);const gn=isString(fn)?fn:fn&&fn[0],xn=this.store.hasLanguageSomeTranslations(gn)?gn:this.services.languageUtils.getBestMatchFromCodes(isString(fn)?[fn]:fn);xn&&(this.language||pn(xn),this.translator.language||this.translator.changeLanguage(xn),(vn=(yn=this.services.languageDetector)==null?void 0:yn.cacheUserLanguage)==null||vn.call(yn,xn)),this.loadResources(xn,En=>{mn(En,xn)})};return!sn&&this.services.languageDetector&&!this.services.languageDetector.async?hn(this.services.languageDetector.detect()):!sn&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(hn):this.services.languageDetector.detect(hn):hn(sn),dn}getFixedT(sn,un,dn){const pn=(mn,hn,...fn)=>{let gn;typeof hn!="object"?gn=this.options.overloadTranslationOptionHandler([mn,hn].concat(fn)):gn={...hn},gn.lng=gn.lng||pn.lng,gn.lngs=gn.lngs||pn.lngs,gn.ns=gn.ns||pn.ns,gn.keyPrefix!==""&&(gn.keyPrefix=gn.keyPrefix||dn||pn.keyPrefix);const xn=this.options.keySeparator||".";let yn;return gn.keyPrefix&&Array.isArray(mn)?yn=mn.map(vn=>`${gn.keyPrefix}${xn}${vn}`):yn=gn.keyPrefix?`${gn.keyPrefix}${xn}${mn}`:mn,this.t(yn,gn)};return isString(sn)?pn.lng=sn:pn.lngs=sn,pn.ns=un,pn.keyPrefix=dn,pn}t(...sn){var un;return(un=this.translator)==null?void 0:un.translate(...sn)}exists(...sn){var un;return(un=this.translator)==null?void 0:un.exists(...sn)}setDefaultNamespace(sn){this.options.defaultNS=sn}hasLoadedNamespace(sn,un={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const dn=un.lng||this.resolvedLanguage||this.languages[0],pn=this.options?this.options.fallbackLng:!1,mn=this.languages[this.languages.length-1];if(dn.toLowerCase()==="cimode")return!0;const hn=(fn,gn)=>{const xn=this.services.backendConnector.state[`${fn}|${gn}`];return xn===-1||xn===0||xn===2};if(un.precheck){const fn=un.precheck(this,hn);if(fn!==void 0)return fn}return!!(this.hasResourceBundle(dn,sn)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||hn(dn,sn)&&(!pn||hn(mn,sn)))}loadNamespaces(sn,un){const dn=defer();return this.options.ns?(isString(sn)&&(sn=[sn]),sn.forEach(pn=>{this.options.ns.indexOf(pn)<0&&this.options.ns.push(pn)}),this.loadResources(pn=>{dn.resolve(),un&&un(pn)}),dn):(un&&un(),Promise.resolve())}loadLanguages(sn,un){const dn=defer();isString(sn)&&(sn=[sn]);const pn=this.options.preload||[],mn=sn.filter(hn=>pn.indexOf(hn)<0&&this.services.languageUtils.isSupportedCode(hn));return mn.length?(this.options.preload=pn.concat(mn),this.loadResources(hn=>{dn.resolve(),un&&un(hn)}),dn):(un&&un(),Promise.resolve())}dir(sn){var pn,mn;if(sn||(sn=this.resolvedLanguage||(((pn=this.languages)==null?void 0:pn.length)>0?this.languages[0]:this.language)),!sn)return"rtl";try{const hn=new Intl.Locale(sn);if(hn&&hn.getTextInfo){const fn=hn.getTextInfo();if(fn&&fn.direction)return fn.direction}}catch{}const un=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],dn=((mn=this.services)==null?void 0:mn.languageUtils)||new LanguageUtil(get());return sn.toLowerCase().indexOf("-latn")>1?"ltr":un.indexOf(dn.getLanguagePartFromCode(sn))>-1||sn.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(sn={},un){return new I18n(sn,un)}cloneInstance(sn={},un=noop$2){const dn=sn.forkResourceStore;dn&&delete sn.forkResourceStore;const pn={...this.options,...sn,isClone:!0},mn=new I18n(pn);if((sn.debug!==void 0||sn.prefix!==void 0)&&(mn.logger=mn.logger.clone(sn)),["store","services","language"].forEach(fn=>{mn[fn]=this[fn]}),mn.services={...this.services},mn.services.utils={hasLoadedNamespace:mn.hasLoadedNamespace.bind(mn)},dn){const fn=Object.keys(this.store.data).reduce((gn,xn)=>(gn[xn]={...this.store.data[xn]},gn[xn]=Object.keys(gn[xn]).reduce((yn,vn)=>(yn[vn]={...gn[xn][vn]},yn),gn[xn]),gn),{});mn.store=new ResourceStore(fn,pn),mn.services.resourceStore=mn.store}return mn.translator=new Translator(mn.services,pn),mn.translator.on("*",(fn,...gn)=>{mn.emit(fn,...gn)}),mn.init(pn,un),mn.translator.options=pn,mn.translator.backendConnector.services.utils={hasLoadedNamespace:mn.hasLoadedNamespace.bind(mn)},mn}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;var updateLocale$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){return function(un,dn,pn){pn.updateLocale=function(mn,hn){var fn=pn.Ls[mn];if(fn)return(hn?Object.keys(hn):[]).forEach(function(gn){fn[gn]=hn[gn]}),fn}}})})(updateLocale$1);var updateLocaleExports=updateLocale$1.exports;const updateLocale=getDefaultExportFromCjs(updateLocaleExports);var localeData$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){return function(un,dn,pn){var mn=dn.prototype,hn=function(vn){return vn&&(vn.indexOf?vn:vn.s)},fn=function(vn,En,bn,wn,Sn){var Rn=vn.name?vn:vn.$locale(),_n=hn(Rn[En]),jn=hn(Rn[bn]),Cn=_n||jn.map(function(Tn){return Tn.slice(0,wn)});if(!Sn)return Cn;var An=Rn.weekStart;return Cn.map(function(Tn,$n){return Cn[($n+(An||0))%7]})},gn=function(){return pn.Ls[pn.locale()]},xn=function(vn,En){return vn.formats[En]||function(bn){return bn.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(wn,Sn,Rn){return Sn||Rn.slice(1)})}(vn.formats[En.toUpperCase()])},yn=function(){var vn=this;return{months:function(En){return En?En.format("MMMM"):fn(vn,"months")},monthsShort:function(En){return En?En.format("MMM"):fn(vn,"monthsShort","months",3)},firstDayOfWeek:function(){return vn.$locale().weekStart||0},weekdays:function(En){return En?En.format("dddd"):fn(vn,"weekdays")},weekdaysMin:function(En){return En?En.format("dd"):fn(vn,"weekdaysMin","weekdays",2)},weekdaysShort:function(En){return En?En.format("ddd"):fn(vn,"weekdaysShort","weekdays",3)},longDateFormat:function(En){return xn(vn.$locale(),En)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};mn.localeData=function(){return yn.bind(this)()},pn.localeData=function(){var vn=gn();return{firstDayOfWeek:function(){return vn.weekStart||0},weekdays:function(){return pn.weekdays()},weekdaysShort:function(){return pn.weekdaysShort()},weekdaysMin:function(){return pn.weekdaysMin()},months:function(){return pn.months()},monthsShort:function(){return pn.monthsShort()},longDateFormat:function(En){return xn(vn,En)},meridiem:vn.meridiem,ordinal:vn.ordinal}},pn.months=function(){return fn(gn(),"months")},pn.monthsShort=function(){return fn(gn(),"monthsShort","months",3)},pn.weekdays=function(vn){return fn(gn(),"weekdays",null,null,vn)},pn.weekdaysShort=function(vn){return fn(gn(),"weekdaysShort","weekdays",3,vn)},pn.weekdaysMin=function(vn){return fn(gn(),"weekdaysMin","weekdays",2,vn)}}})})(localeData$1);var localeDataExports=localeData$1.exports;const localeData=getDefaultExportFromCjs(localeDataExports);var relativeTime$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){return function(un,dn,pn){un=un||{};var mn=dn.prototype,hn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function fn(xn,yn,vn,En){return mn.fromToBase(xn,yn,vn,En)}pn.en.relativeTime=hn,mn.fromToBase=function(xn,yn,vn,En,bn){for(var wn,Sn,Rn,_n=vn.$locale().relativeTime||hn,jn=un.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Cn=jn.length,An=0;An<Cn;An+=1){var Tn=jn[An];Tn.d&&(wn=En?pn(xn).diff(vn,Tn.d,!0):vn.diff(xn,Tn.d,!0));var $n=(un.rounding||Math.round)(Math.abs(wn));if(Rn=wn>0,$n<=Tn.r||!Tn.r){$n<=1&&An>0&&(Tn=jn[An-1]);var Dn=_n[Tn.l];bn&&($n=bn(""+$n)),Sn=typeof Dn=="string"?Dn.replace("%d",$n):Dn($n,yn,Tn.l,Rn);break}}if(yn)return Sn;var Nn=Rn?_n.future:_n.past;return typeof Nn=="function"?Nn(Sn):Nn.replace("%s",Sn)},mn.to=function(xn,yn){return fn(xn,yn,this,!0)},mn.from=function(xn,yn){return fn(xn,yn,this)};var gn=function(xn){return xn.$u?pn.utc():pn()};mn.toNow=function(xn){return this.to(gn(this),xn)},mn.fromNow=function(xn){return this.from(gn(this),xn)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs(relativeTimeExports);var duration$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){var un,dn,pn=1e3,mn=6e4,hn=36e5,fn=864e5,gn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,xn=31536e6,yn=2628e6,vn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,En={years:xn,months:yn,days:fn,hours:hn,minutes:mn,seconds:pn,milliseconds:1,weeks:6048e5},bn=function($n){return $n instanceof An},wn=function($n,Dn,Nn){return new An($n,Nn,Dn.$l)},Sn=function($n){return dn.p($n)+"s"},Rn=function($n){return $n<0},_n=function($n){return Rn($n)?Math.ceil($n):Math.floor($n)},jn=function($n){return Math.abs($n)},Cn=function($n,Dn){return $n?Rn($n)?{negative:!0,format:""+jn($n)+Dn}:{negative:!1,format:""+$n+Dn}:{negative:!1,format:""}},An=function(){function $n(Nn,kn,Pn){var Mn=this;if(this.$d={},this.$l=Pn,Nn===void 0&&(this.$ms=0,this.parseFromMilliseconds()),kn)return wn(Nn*En[Sn(kn)],this);if(typeof Nn=="number")return this.$ms=Nn,this.parseFromMilliseconds(),this;if(typeof Nn=="object")return Object.keys(Nn).forEach(function(In){Mn.$d[Sn(In)]=Nn[In]}),this.calMilliseconds(),this;if(typeof Nn=="string"){var On=Nn.match(vn);if(On){var Wn=On.slice(2).map(function(In){return In!=null?Number(In):0});return this.$d.years=Wn[0],this.$d.months=Wn[1],this.$d.weeks=Wn[2],this.$d.days=Wn[3],this.$d.hours=Wn[4],this.$d.minutes=Wn[5],this.$d.seconds=Wn[6],this.calMilliseconds(),this}}return this}var Dn=$n.prototype;return Dn.calMilliseconds=function(){var Nn=this;this.$ms=Object.keys(this.$d).reduce(function(kn,Pn){return kn+(Nn.$d[Pn]||0)*En[Pn]},0)},Dn.parseFromMilliseconds=function(){var Nn=this.$ms;this.$d.years=_n(Nn/xn),Nn%=xn,this.$d.months=_n(Nn/yn),Nn%=yn,this.$d.days=_n(Nn/fn),Nn%=fn,this.$d.hours=_n(Nn/hn),Nn%=hn,this.$d.minutes=_n(Nn/mn),Nn%=mn,this.$d.seconds=_n(Nn/pn),Nn%=pn,this.$d.milliseconds=Nn},Dn.toISOString=function(){var Nn=Cn(this.$d.years,"Y"),kn=Cn(this.$d.months,"M"),Pn=+this.$d.days||0;this.$d.weeks&&(Pn+=7*this.$d.weeks);var Mn=Cn(Pn,"D"),On=Cn(this.$d.hours,"H"),Wn=Cn(this.$d.minutes,"M"),In=this.$d.seconds||0;this.$d.milliseconds&&(In+=this.$d.milliseconds/1e3,In=Math.round(1e3*In)/1e3);var Un=Cn(In,"S"),Vn=Nn.negative||kn.negative||Mn.negative||On.negative||Wn.negative||Un.negative,Hn=On.format||Wn.format||Un.format?"T":"",Ln=(Vn?"-":"")+"P"+Nn.format+kn.format+Mn.format+Hn+On.format+Wn.format+Un.format;return Ln==="P"||Ln==="-P"?"P0D":Ln},Dn.toJSON=function(){return this.toISOString()},Dn.format=function(Nn){var kn=Nn||"YYYY-MM-DDTHH:mm:ss",Pn={Y:this.$d.years,YY:dn.s(this.$d.years,2,"0"),YYYY:dn.s(this.$d.years,4,"0"),M:this.$d.months,MM:dn.s(this.$d.months,2,"0"),D:this.$d.days,DD:dn.s(this.$d.days,2,"0"),H:this.$d.hours,HH:dn.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:dn.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:dn.s(this.$d.seconds,2,"0"),SSS:dn.s(this.$d.milliseconds,3,"0")};return kn.replace(gn,function(Mn,On){return On||String(Pn[Mn])})},Dn.as=function(Nn){return this.$ms/En[Sn(Nn)]},Dn.get=function(Nn){var kn=this.$ms,Pn=Sn(Nn);return Pn==="milliseconds"?kn%=1e3:kn=Pn==="weeks"?_n(kn/En[Pn]):this.$d[Pn],kn||0},Dn.add=function(Nn,kn,Pn){var Mn;return Mn=kn?Nn*En[Sn(kn)]:bn(Nn)?Nn.$ms:wn(Nn,this).$ms,wn(this.$ms+Mn*(Pn?-1:1),this)},Dn.subtract=function(Nn,kn){return this.add(Nn,kn,!0)},Dn.locale=function(Nn){var kn=this.clone();return kn.$l=Nn,kn},Dn.clone=function(){return wn(this.$ms,this)},Dn.humanize=function(Nn){return un().add(this.$ms,"ms").locale(this.$l).fromNow(!Nn)},Dn.valueOf=function(){return this.asMilliseconds()},Dn.milliseconds=function(){return this.get("milliseconds")},Dn.asMilliseconds=function(){return this.as("milliseconds")},Dn.seconds=function(){return this.get("seconds")},Dn.asSeconds=function(){return this.as("seconds")},Dn.minutes=function(){return this.get("minutes")},Dn.asMinutes=function(){return this.as("minutes")},Dn.hours=function(){return this.get("hours")},Dn.asHours=function(){return this.as("hours")},Dn.days=function(){return this.get("days")},Dn.asDays=function(){return this.as("days")},Dn.weeks=function(){return this.get("weeks")},Dn.asWeeks=function(){return this.as("weeks")},Dn.months=function(){return this.get("months")},Dn.asMonths=function(){return this.as("months")},Dn.years=function(){return this.get("years")},Dn.asYears=function(){return this.as("years")},$n}(),Tn=function($n,Dn,Nn){return $n.add(Dn.years()*Nn,"y").add(Dn.months()*Nn,"M").add(Dn.days()*Nn,"d").add(Dn.hours()*Nn,"h").add(Dn.minutes()*Nn,"m").add(Dn.seconds()*Nn,"s").add(Dn.milliseconds()*Nn,"ms")};return function($n,Dn,Nn){un=Nn,dn=Nn().$utils(),Nn.duration=function(Mn,On){var Wn=Nn.locale();return wn(Mn,{$l:Wn},On)},Nn.isDuration=bn;var kn=Dn.prototype.add,Pn=Dn.prototype.subtract;Dn.prototype.add=function(Mn,On){return bn(Mn)?Tn(this,Mn,1):kn.bind(this)(Mn,On)},Dn.prototype.subtract=function(Mn,On){return bn(Mn)?Tn(this,Mn,-1):Pn.bind(this)(Mn,On)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs(durationExports);var utc$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){var un="minute",dn=/[+-]\d\d(?::?\d\d)?/g,pn=/([+-]|\d\d)/g;return function(mn,hn,fn){var gn=hn.prototype;fn.utc=function(Sn){var Rn={date:Sn,utc:!0,args:arguments};return new hn(Rn)},gn.utc=function(Sn){var Rn=fn(this.toDate(),{locale:this.$L,utc:!0});return Sn?Rn.add(this.utcOffset(),un):Rn},gn.local=function(){return fn(this.toDate(),{locale:this.$L,utc:!1})};var xn=gn.parse;gn.parse=function(Sn){Sn.utc&&(this.$u=!0),this.$utils().u(Sn.$offset)||(this.$offset=Sn.$offset),xn.call(this,Sn)};var yn=gn.init;gn.init=function(){if(this.$u){var Sn=this.$d;this.$y=Sn.getUTCFullYear(),this.$M=Sn.getUTCMonth(),this.$D=Sn.getUTCDate(),this.$W=Sn.getUTCDay(),this.$H=Sn.getUTCHours(),this.$m=Sn.getUTCMinutes(),this.$s=Sn.getUTCSeconds(),this.$ms=Sn.getUTCMilliseconds()}else yn.call(this)};var vn=gn.utcOffset;gn.utcOffset=function(Sn,Rn){var _n=this.$utils().u;if(_n(Sn))return this.$u?0:_n(this.$offset)?vn.call(this):this.$offset;if(typeof Sn=="string"&&(Sn=function(Tn){Tn===void 0&&(Tn="");var $n=Tn.match(dn);if(!$n)return null;var Dn=(""+$n[0]).match(pn)||["-",0,0],Nn=Dn[0],kn=60*+Dn[1]+ +Dn[2];return kn===0?0:Nn==="+"?kn:-kn}(Sn),Sn===null))return this;var jn=Math.abs(Sn)<=16?60*Sn:Sn,Cn=this;if(Rn)return Cn.$offset=jn,Cn.$u=Sn===0,Cn;if(Sn!==0){var An=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(Cn=this.local().add(jn+An,un)).$offset=jn,Cn.$x.$localOffset=An}else Cn=this.utc();return Cn};var En=gn.format;gn.format=function(Sn){var Rn=Sn||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return En.call(this,Rn)},gn.valueOf=function(){var Sn=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*Sn},gn.isUTC=function(){return!!this.$u},gn.toISOString=function(){return this.toDate().toISOString()},gn.toString=function(){return this.toDate().toUTCString()};var bn=gn.toDate;gn.toDate=function(Sn){return Sn==="s"&&this.$offset?fn(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():bn.call(this)};var wn=gn.diff;gn.diff=function(Sn,Rn,_n){if(Sn&&this.$u===Sn.$u)return wn.call(this,Sn,Rn,_n);var jn=this.local(),Cn=fn(Sn).local();return wn.call(jn,Cn,Rn,_n)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs(utcExports);var timezone$1={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){var un={year:0,month:1,day:2,hour:3,minute:4,second:5},dn={};return function(pn,mn,hn){var fn,gn=function(En,bn,wn){wn===void 0&&(wn={});var Sn=new Date(En),Rn=function(_n,jn){jn===void 0&&(jn={});var Cn=jn.timeZoneName||"short",An=_n+"|"+Cn,Tn=dn[An];return Tn||(Tn=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:Cn}),dn[An]=Tn),Tn}(bn,wn);return Rn.formatToParts(Sn)},xn=function(En,bn){for(var wn=gn(En,bn),Sn=[],Rn=0;Rn<wn.length;Rn+=1){var _n=wn[Rn],jn=_n.type,Cn=_n.value,An=un[jn];An>=0&&(Sn[An]=parseInt(Cn,10))}var Tn=Sn[3],$n=Tn===24?0:Tn,Dn=Sn[0]+"-"+Sn[1]+"-"+Sn[2]+" "+$n+":"+Sn[4]+":"+Sn[5]+":000",Nn=+En;return(hn.utc(Dn).valueOf()-(Nn-=Nn%1e3))/6e4},yn=mn.prototype;yn.tz=function(En,bn){En===void 0&&(En=fn);var wn,Sn=this.utcOffset(),Rn=this.toDate(),_n=Rn.toLocaleString("en-US",{timeZone:En}),jn=Math.round((Rn-new Date(_n))/1e3/60),Cn=15*-Math.round(Rn.getTimezoneOffset()/15)-jn;if(!Number(Cn))wn=this.utcOffset(0,bn);else if(wn=hn(_n,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(Cn,!0),bn){var An=wn.utcOffset();wn=wn.add(Sn-An,"minute")}return wn.$x.$timezone=En,wn},yn.offsetName=function(En){var bn=this.$x.$timezone||hn.tz.guess(),wn=gn(this.valueOf(),bn,{timeZoneName:En}).find(function(Sn){return Sn.type.toLowerCase()==="timezonename"});return wn&&wn.value};var vn=yn.startOf;yn.startOf=function(En,bn){if(!this.$x||!this.$x.$timezone)return vn.call(this,En,bn);var wn=hn(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return vn.call(wn,En,bn).tz(this.$x.$timezone,!0)},hn.tz=function(En,bn,wn){var Sn=wn&&bn,Rn=wn||bn||fn,_n=xn(+hn(),Rn);if(typeof En!="string")return hn(En).tz(Rn);var jn=function($n,Dn,Nn){var kn=$n-60*Dn*1e3,Pn=xn(kn,Nn);if(Dn===Pn)return[kn,Dn];var Mn=xn(kn-=60*(Pn-Dn)*1e3,Nn);return Pn===Mn?[kn,Pn]:[$n-60*Math.min(Pn,Mn)*1e3,Math.max(Pn,Mn)]}(hn.utc(En,Sn).valueOf(),_n,Rn),Cn=jn[0],An=jn[1],Tn=hn(Cn).utcOffset(An);return Tn.$x.$timezone=Rn,Tn},hn.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},hn.tz.setDefault=function(En){fn=En}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs(timezoneExports);class TranslationTopic{constructor(sn){this.options=sn,this.translators=new Map,this.setTranslator=(un,dn)=>{this.translators.set(un,dn)},this.removeTranslator=un=>{this.translators.delete(un)},this.i18next=sn.i18next,sn.translators&&Object.entries(sn.translators).forEach(([un,dn])=>{this.setTranslator(un,dn)})}}const forwardTranslation=({value:tn})=>tn;class TranslationBuilder{constructor(sn){this.i18next=sn,this.topics=new Map,this.translatorRegistrationsBuffer={},this.registerTopic=(un,dn)=>{let pn=this.topics.get(un);pn||(pn=new dn({i18next:this.i18next}),this.topics.set(un,pn),this.i18next.use({name:un,process:(hn,fn,gn)=>{const xn=this.topics.get(un);return xn?xn.translate(hn,fn,gn):hn},type:"postProcessor"}));const mn=this.translatorRegistrationsBuffer[un];return mn&&(Object.entries(mn).forEach(([hn,fn])=>{pn.setTranslator(hn,fn)}),delete this.translatorRegistrationsBuffer[un]),pn},this.disableTopic=un=>{this.topics.get(un)&&(this.i18next.use({name:un,process:forwardTranslation,type:"postProcessor"}),this.topics.delete(un))},this.getTopic=un=>this.topics.get(un)}registerTranslators(sn,un){const dn=this.getTopic(sn);if(!dn){this.translatorRegistrationsBuffer[sn]||(this.translatorRegistrationsBuffer[sn]={}),Object.entries(un).forEach(([pn,mn])=>{this.translatorRegistrationsBuffer[sn][pn]=mn});return}Object.entries(un).forEach(([pn,mn])=>{dn.setTranslator(pn,mn)})}removeTranslators(sn,un){const dn=this.getTopic(sn);this.translatorRegistrationsBuffer[sn]&&un.forEach(pn=>{delete this.translatorRegistrationsBuffer[sn][pn]}),dn&&un.forEach(pn=>{dn.removeTranslator(pn)})}}const attachmentUploadBlockedNotificationTranslator=({options:tn,t:sn})=>{var pn,mn;const{notification:un}=tn;if(!un)return null;if(typeof((pn=un.metadata)==null?void 0:pn.reason)!="string"){const hn=sn("unknown error");return sn("Attachment upload blocked due to {{reason}}",{reason:hn})}if(((mn=un.metadata)==null?void 0:mn.reason)==="size_limit"){const hn=sn("size limit");return sn("Attachment upload blocked due to {{reason}}",{reason:hn})}const dn=sn("unsupported file type");return sn("Attachment upload blocked due to {{reason}}",{reason:dn})},attachmentUploadFailedNotificationTranslator=({options:tn,t:sn})=>{const{notification:un}=tn;if(!un)return null;const{reason:dn}=un.metadata??{};if(typeof dn!="string"){const mn=sn("unknown error");return sn("Attachment upload failed due to {{reason}}",{reason:mn})}let pn=dn.toLowerCase();return pn==="network error"?(pn=sn("network error"),sn("Attachment upload failed due to {{reason}}",{reason:pn})):sn("Attachment upload failed due to {{reason}}",{reason:pn})},pollCreationFailedNotificationTranslator=({options:{notification:tn},t:sn})=>{var un;return typeof((un=tn==null?void 0:tn.metadata)==null?void 0:un.reason)=="string"&&tn.metadata.reason.length?sn("Failed to create the poll due to {{reason}}",{reason:tn.metadata.reason.toLowerCase()}):sn("Failed to create the poll")},defaultNotificationTranslators={"api:attachment:upload:failed":attachmentUploadFailedNotificationTranslator,"api:poll:create:failed":pollCreationFailedNotificationTranslator,"validation:attachment:upload:blocked":attachmentUploadBlockedNotificationTranslator};class NotificationTranslationTopic extends TranslationTopic{constructor({i18next:sn,translators:un}){super({i18next:sn,translators:defaultNotificationTranslators}),this.translate=(dn,pn,mn)=>{const{notification:hn}=mn;if(!hn)return dn;const fn=hn.type&&this.translators.get(hn.type);return fn&&fn({key:pn,options:mn,t:this.i18next.t,value:dn})||dn},un&&Object.entries(un).forEach(([dn,pn])=>{this.setTranslator(dn,pn)})}}var de={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(gn){return gn&&typeof gn=="object"&&"default"in gn?gn:{default:gn}}var pn=dn(un),mn={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function hn(gn,xn,yn){var vn=mn[yn];return Array.isArray(vn)&&(vn=vn[xn?0:1]),vn.replace("%d",gn)}var fn={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(gn){return gn+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:hn,m:hn,mm:hn,h:hn,hh:hn,d:hn,dd:hn,M:hn,MM:hn,y:hn,yy:hn}};return pn.default.locale(fn,null,!0),fn})})(de);var es={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(hn){return hn+"º"}};return pn.default.locale(mn,null,!0),mn})})(es);var fr={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(hn){return""+hn+(hn===1?"er":"")}};return pn.default.locale(mn,null,!0),mn})})(fr);var hi={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(hn){return hn},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return pn.default.locale(mn,null,!0),mn})})(hi);var it={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(hn){return hn+"º"}};return pn.default.locale(mn,null,!0),mn})})(it);var ja={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(hn){return hn+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(hn){return hn<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return pn.default.locale(mn,null,!0),mn})})(ja);var ko={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(hn){return hn+"일"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(hn){return hn<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return pn.default.locale(mn,null,!0),mn})})(ko);var nl={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(hn){return"["+hn+(hn===1||hn===8||hn>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return pn.default.locale(mn,null,!0),mn})})(nl);var pt={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(hn){return hn+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return pn.default.locale(mn,null,!0),mn})})(pt);var ru={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(wn){return wn&&typeof wn=="object"&&"default"in wn?wn:{default:wn}}var pn=dn(un),mn="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),hn="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),fn="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),gn="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),xn=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function yn(wn,Sn,Rn){var _n,jn;return Rn==="m"?Sn?"минута":"минуту":wn+" "+(_n=+wn,jn={mm:Sn?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[Rn].split("_"),_n%10==1&&_n%100!=11?jn[0]:_n%10>=2&&_n%10<=4&&(_n%100<10||_n%100>=20)?jn[1]:jn[2])}var vn=function(wn,Sn){return xn.test(Sn)?mn[wn.month()]:hn[wn.month()]};vn.s=hn,vn.f=mn;var En=function(wn,Sn){return xn.test(Sn)?fn[wn.month()]:gn[wn.month()]};En.s=gn,En.f=fn;var bn={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:vn,monthsShort:En,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:yn,mm:yn,h:"час",hh:yn,d:"день",dd:yn,M:"месяц",MM:yn,y:"год",yy:yn},ordinal:function(wn){return wn},meridiem:function(wn){return wn<4?"ночи":wn<12?"утра":wn<17?"дня":"вечера"}};return pn.default.locale(bn,null,!0),bn})})(ru);var tr={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn(dayjs_minExports)})(commonjsGlobal,function(un){function dn(hn){return hn&&typeof hn=="object"&&"default"in hn?hn:{default:hn}}var pn=dn(un),mn={name:"tr",weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(hn){return hn+"."}};return pn.default.locale(mn,null,!0),mn})})(tr);var en={exports:{}};(function(tn,sn){(function(un,dn){tn.exports=dn()})(commonjsGlobal,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(un){var dn=["th","st","nd","rd"],pn=un%100;return"["+un+(dn[(pn-20)%10]||dn[pn]||dn[0])+"]"}}})})(en);const defaultNS="translation",defaultLng="en";Dayjs.extend(updateLocale);Dayjs.extend(utc);Dayjs.extend(timezone);Dayjs.updateLocale("de",{calendar:{lastDay:"[gestern um] LT",lastWeek:"[letzten] dddd [um] LT",nextDay:"[morgen um] LT",nextWeek:"dddd [um] LT",sameDay:"[heute um] LT",sameElse:"L"}});Dayjs.updateLocale("es",{calendar:{lastDay:"[ayer a las] LT",lastWeek:"[pasado] dddd [a] LT",nextDay:"[mañana a] LT",nextWeek:"dddd [a] LT",sameDay:"[hoy a las] LT",sameElse:"L"}});Dayjs.updateLocale("fr",{calendar:{lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",sameDay:"[Aujourd'hui à] LT",sameElse:"L"}});Dayjs.updateLocale("hi",{calendar:{lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",sameDay:"[आज] LT",sameElse:"L"},meridiem(tn){return tn<4?"रात":tn<10?"सुबह":tn<17?"दोपहर":tn<20?"शाम":"रात"},meridiemHour(tn,sn){return tn===12&&(tn=0),sn==="रात"?tn<4?tn:tn+12:sn==="सुबह"?tn:sn==="दोपहर"?tn>=10?tn:tn+12:sn==="शाम"?tn+12:tn},meridiemParse:/रात|सुबह|दोपहर|शाम/});Dayjs.updateLocale("it",{calendar:{lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",sameDay:"[Oggi alle] LT",sameElse:"L"}});Dayjs.updateLocale("ja",{calendar:{lastDay:"[昨日] LT",lastWeek:"dddd LT",nextDay:"[明日] LT",nextWeek:"[次の] dddd LT",sameDay:"[今日] LT",sameElse:"L"}});Dayjs.updateLocale("ko",{calendar:{lastDay:"[어제] LT",lastWeek:"[지난] dddd LT",nextDay:"[내일] LT",nextWeek:"dddd LT",sameDay:"[오늘] LT",sameElse:"L"}});Dayjs.updateLocale("nl",{calendar:{lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",sameDay:"[vandaag om] LT",sameElse:"L"}});Dayjs.updateLocale("pt",{calendar:{lastDay:"[ontem às] LT",lastWeek:"dddd [passada às] LT",nextDay:"[amanhã às] LT",nextWeek:"dddd [às] LT",sameDay:"[hoje às] LT",sameElse:"L"}});Dayjs.updateLocale("ru",{calendar:{lastDay:"[Вчера, в] LT",nextDay:"[Завтра, в] LT",sameDay:"[Сегодня, в] LT"}});Dayjs.updateLocale("tr",{calendar:{lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",sameDay:"[bugün saat] LT",sameElse:"L"}});const en_locale={formats:{},months:["January","February","March","April","May","June","July","August","September","October","November","December"],relativeTime:{},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},isDayJs=tn=>tn.extend!==void 0,supportsTz=tn=>tn.tz!==void 0,defaultStreami18nOptions={DateTimeParser:Dayjs,dayjsLocaleConfigForLanguage:null,debug:!1,disableDateTimeTranslations:!1,language:"en",logger:tn=>console.warn(tn),translationBuilderTopics:{notification:NotificationTranslationTopic}};class Streami18n{constructor(sn={}){this.i18nInstance=instance.createInstance(),this.translationBuilderTopics={},this.Dayjs=null,this.setLanguageCallback=()=>null,this.initialized=!1,this.t=defaultTranslatorFunction,this.translations={de:{[defaultNS]:deTranslations},en:{[defaultNS]:enTranslations},es:{[defaultNS]:esTranslations},fr:{[defaultNS]:frTranslations},hi:{[defaultNS]:hiTranslations},it:{[defaultNS]:itTranslations},ja:{[defaultNS]:jaTranslations},ko:{[defaultNS]:koTranslations},nl:{[defaultNS]:nlTranslations},pt:{[defaultNS]:ptTranslations},ru:{[defaultNS]:ruTranslations},tr:{[defaultNS]:trTranslations}},this.dayjsLocales={},this.formatters=predefinedFormatters,this.localeExists=hn=>this.isCustomDateTimeParser?!0:Object.keys(Dayjs.Ls).indexOf(hn)>-1,this.validateCurrentLanguage=()=>{Object.keys(this.translations).indexOf(this.currentLanguage)===-1&&(this.logger(`Streami18n: '${this.currentLanguage}' language is not registered. Please make sure to call streami18n.registerTranslation('${this.currentLanguage}', {...}) or use one the built-in supported languages - ${this.getAvailableLanguages()}`),this.currentLanguage=defaultLng)},this.geti18Instance=()=>this.i18nInstance,this.getAvailableLanguages=()=>Object.keys(this.translations),this.getTranslations=()=>this.translations;const un={...defaultStreami18nOptions,...sn};this.logger=un.logger,this.currentLanguage=un.language,this.DateTimeParser=un.DateTimeParser,this.timezone=un.timezone,this.formatters={...predefinedFormatters,...sn==null?void 0:sn.formatters},this.translationBuilder=new TranslationBuilder(this.i18nInstance),this.translationBuilderTopics={...defaultStreami18nOptions.translationBuilderTopics,...sn.translationBuilderTopics};try{this.DateTimeParser&&isDayJs(this.DateTimeParser)&&(this.DateTimeParser.extend(LocalizedFormat),this.DateTimeParser.extend(calendar),this.DateTimeParser.extend(localeData),this.DateTimeParser.extend(relativeTime),this.DateTimeParser.extend(duration))}catch(hn){throw Error(`Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins ${hn}`)}this.isCustomDateTimeParser=!!sn.DateTimeParser;const dn=un.translationsForLanguage;dn&&(this.translations[this.currentLanguage]={[defaultNS]:this.translations[this.currentLanguage]&&this.translations[this.currentLanguage][defaultNS]?{...this.translations[this.currentLanguage][defaultNS],...dn}:dn}),this.translations[this.currentLanguage]||(this.translations[this.currentLanguage]={[defaultNS]:{}}),this.i18nextConfig={debug:un.debug,fallbackLng:!1,interpolation:{escapeValue:!1,formatSeparator:"|"},keySeparator:!1,lng:this.currentLanguage,nsSeparator:!1};const pn=Object.keys(this.translationBuilderTopics);pn.length>0&&(this.i18nextConfig.postProcess=pn),un.parseMissingKeyHandler&&(this.i18nextConfig.parseMissingKeyHandler=un.parseMissingKeyHandler),this.validateCurrentLanguage();const mn=un.dayjsLocaleConfigForLanguage;mn?this.addOrUpdateLocale(this.currentLanguage,{...mn}):this.localeExists(this.currentLanguage)||this.logger(`Streami18n: Streami18n(...) - Locale config for ${this.currentLanguage} does not exist in momentjs.Please import the locale file using "import 'moment/locale/${this.currentLanguage}';" in your app or register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`),this.tDateTimeParser=hn=>{const fn=un.disableDateTimeTranslations||!this.localeExists(this.currentLanguage)?defaultLng:this.currentLanguage;return isDayJs(this.DateTimeParser)?supportsTz(this.DateTimeParser)?this.DateTimeParser(hn).tz(this.timezone).locale(fn):this.DateTimeParser(hn).locale(fn):supportsTz(this.DateTimeParser)&&this.timezone?this.DateTimeParser(hn).tz(this.timezone).locale(fn):this.DateTimeParser(hn).locale(fn)}}async init(){this.validateCurrentLanguage();try{this.t=await this.i18nInstance.init({...this.i18nextConfig,lng:this.currentLanguage,resources:this.translations}),this.initialized=!0,this.formatters&&Object.entries(this.formatters).forEach(([sn,un])=>{var dn;un&&((dn=this.i18nInstance.services.formatter)==null||dn.add(sn,un(this)))}),Object.entries(this.translationBuilderTopics).forEach(([sn,un])=>{this.translationBuilder.registerTopic(sn,un)})}catch(sn){this.logger(`Something went wrong with init: ${JSON.stringify(sn)}`)}return{t:this.t,tDateTimeParser:this.tDateTimeParser}}async getTranslators(){return this.initialized?{t:this.t,tDateTimeParser:this.tDateTimeParser}:(this.dayjsLocales[this.currentLanguage]&&this.addOrUpdateLocale(this.currentLanguage,this.dayjsLocales[this.currentLanguage]),await this.init())}registerTranslation(sn,un,dn){if(!un){this.logger("Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation");return}this.translations[sn]?this.translations[sn][defaultNS]=un:this.translations[sn]={[defaultNS]:un},dn?this.dayjsLocales[sn]={...dn}:this.localeExists(sn)||this.logger(`Streami18n: registerTranslation(language, translation, customDayjsLocale) - Locale config for ${sn} does not exist in Dayjs.Please import the locale file using "import 'dayjs/locale/${sn}';" in your app or register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)`),this.initialized&&this.i18nInstance.addResources(sn,defaultNS,un)}addOrUpdateLocale(sn,un){this.localeExists(sn)?Dayjs.updateLocale(sn,{...un}):Dayjs.locale({name:sn,...en_locale,...un},void 0,!0)}async setLanguage(sn){if(this.currentLanguage=sn,!!this.initialized)try{const un=await this.i18nInstance.changeLanguage(sn);return this.dayjsLocales[sn]&&this.addOrUpdateLocale(this.currentLanguage,this.dayjsLocales[this.currentLanguage]),this.setLanguageCallback(un),un}catch(un){return this.logger(`Failed to set language: ${JSON.stringify(un)}`),this.t}}registerSetLanguageCallback(sn){this.setLanguageCallback=sn}}const processMessages=tn=>{var wn;const{messages:sn,reviewProcessedMessage:un,setGiphyPreviewMessage:dn,...pn}=tn,{enableDateSeparator:mn,hideDeletedMessages:hn,hideNewMessageSeparator:fn,lastRead:gn,userId:xn}=pn;let yn=!1,vn=!1,En;const bn=[];for(let Sn=0;Sn<sn.length;Sn+=1){const Rn=sn[Sn];if(hn&&Rn.type==="deleted")continue;if(dn&&Rn.type==="ephemeral"&&Rn.command==="giphy"){vn=!0,dn(Rn);continue}const _n=[],jn=Rn.created_at&&isDate(Rn.created_at)&&Rn.created_at.toDateString()||"",Cn=sn[Sn-1];let An=jn;mn&&(Cn!=null&&Cn.created_at)&&isDate(Cn.created_at)&&(An=Cn.created_at.toDateString()),!yn&&!fn&&(yn=gn&&Rn.created_at&&new Date(gn)<Rn.created_at||!1,mn&&yn&&((wn=Rn.user)==null?void 0:wn.id)!==xn&&_n.push({customType:CUSTOM_MESSAGE_TYPE.date,date:Rn.created_at,id:makeDateMessageId(Rn.created_at),unread:yn})),mn&&(Sn===0||jn!==An||hn&&(Cn==null?void 0:Cn.type)==="deleted"&&En!==jn)&&!isDateSeparatorMessage(_n[_n.length-1])?(En=jn,_n.push({customType:CUSTOM_MESSAGE_TYPE.date,date:Rn.created_at,id:makeDateMessageId(Rn.created_at)},Rn)):_n.push(Rn),bn.push(...(un==null?void 0:un({changes:_n,context:pn,index:Sn,messages:sn,processedMessages:bn}))||_n)}return dn&&!vn&&dn(void 0),bn},makeIntroMessage=()=>({customType:CUSTOM_MESSAGE_TYPE.intro,id:nanoid()}),makeDateMessageId=tn=>{let sn;try{sn=tn?tn instanceof Date?tn.toISOString():tn:nanoid()}catch{sn=nanoid()}return`${CUSTOM_MESSAGE_TYPE.date}-${sn}`},getLastReceived=tn=>{for(let sn=tn.length-1;sn>0;sn-=1)if(tn[sn].status==="received")return tn[sn].id;return null},getReadStates=(tn,sn={},un)=>{const dn={};return Object.values(sn).forEach(pn=>{if(!pn.last_read)return;let mn;tn.forEach(hn=>{hn.created_at&&hn.created_at<pn.last_read&&(mn=hn.id,un&&(dn[mn]||(dn[mn]=[]),dn[mn].push(pn.user)))}),mn&&!un&&(dn[mn]||(dn[mn]=[]),dn[mn].push(pn.user))}),dn},insertIntro=(tn,sn)=>{const un=tn,dn=makeIntroMessage();if(!sn||!un.length)return un.unshift(dn),un;for(let pn=0;pn<tn.length;pn+=1){const mn=isDate(tn[pn].created_at)?tn[pn].created_at.getTime():null,hn=isDate(tn[pn+1].created_at)?tn[pn+1].created_at.getTime():null;if(mn&&mn<sn)if(hn&&hn<sn){if(tn[pn+1]&&isDateSeparatorMessage(tn[pn+1]))continue;if(!hn)return un.push(dn),un}else return un.splice(pn+1,0,dn),un}return un},getGroupStyles=(tn,sn,un,dn,pn)=>{var fn,gn,xn,yn,vn,En,bn;if(isDateSeparatorMessage(tn)||isIntroMessage(tn))return"";if(dn||((fn=tn.attachments)==null?void 0:fn.length)!==0)return"single";const mn=!sn||isIntroMessage(sn)||isDateSeparatorMessage(sn)||sn.type==="system"||sn.type==="error"||((gn=sn.attachments)==null?void 0:gn.length)!==0||((xn=tn.user)==null?void 0:xn.id)!==((yn=sn.user)==null?void 0:yn.id)||sn.deleted_at||tn.reaction_groups&&Object.keys(tn.reaction_groups).length>0||isMessageEdited(sn)||pn!==void 0&&sn.created_at&&tn.created_at&&new Date(tn.created_at).getTime()-new Date(sn.created_at).getTime()>pn,hn=!un||isIntroMessage(un)||isDateSeparatorMessage(un)||un.type==="system"||un.type==="error"||((vn=un.attachments)==null?void 0:vn.length)!==0||((En=tn.user)==null?void 0:En.id)!==((bn=un.user)==null?void 0:bn.id)||un.deleted_at||un.reaction_groups&&Object.keys(un.reaction_groups).length>0||isMessageEdited(tn)||pn!==void 0&&un.created_at&&tn.created_at&&new Date(un.created_at).getTime()-new Date(tn.created_at).getTime()>pn;return!mn&&!hn?tn.deleted_at||tn.type==="error"?"single":"middle":hn?mn||tn.deleted_at||tn.type==="error"?"single":"bottom":mn?"top":""},hasMoreMessagesProbably=(tn,sn)=>tn>=sn;function isIntroMessage(tn){return tn.customType===CUSTOM_MESSAGE_TYPE.intro}function isDateSeparatorMessage(tn){return tn!==null&&typeof tn=="object"&&tn.customType===CUSTOM_MESSAGE_TYPE.date&&isDate(tn.date)}function isLocalMessage(tn){return!isDateSeparatorMessage(tn)&&!isIntroMessage(tn)}const getIsFirstUnreadMessage=({firstUnreadMessageId:tn,isFirstMessage:sn,lastReadDate:un,lastReadMessageId:dn,message:pn,previousMessage:mn,unreadMessageCount:hn=0})=>{if(pn.parent_id)return!1;const fn=pn.created_at&&new Date(pn.created_at).getTime(),gn=un==null?void 0:un.getTime(),xn=!!fn&&!!gn&&fn>gn,yn=!!dn&&dn===(mn==null?void 0:mn.id);return tn===pn.id||!!hn&&xn&&(sn||yn)},useEnrichedMessages=tn=>{const{channel:sn,disableDateSeparator:un,groupStyles:dn,headerPosition:pn,hideDeletedMessages:mn,hideNewMessageSeparator:hn,maxTimeBetweenGroupedMessages:fn,messages:gn,noGroupByUser:xn,reviewProcessedMessage:yn}=tn,{client:vn}=useChatContext("useEnrichedMessages"),{HeaderComponent:En}=useComponentContext(),bn=reactExports.useMemo(()=>{var jn;return(jn=sn.lastRead)==null?void 0:jn.call(sn)},[sn]),wn=!un;let Sn=!wn&&!mn&&hn?gn:processMessages({enableDateSeparator:wn,hideDeletedMessages:mn,hideNewMessageSeparator:hn,lastRead:bn,messages:gn,reviewProcessedMessage:yn,userId:vn.userID||""});En&&(Sn=insertIntro(Sn,pn));const Rn=dn||getGroupStyles;return{messageGroupStyles:reactExports.useMemo(()=>Sn.reduce((jn,Cn,An)=>{const Tn=Rn(Cn,Sn[An-1],Sn[An+1],xn,fn);return Tn&&(jn[Cn.id]=Tn),jn},{}),[fn,Sn,xn]),messages:Sn}},useLastReadData=tn=>{const{messages:sn,read:un,returnAllReadData:dn,userID:pn}=tn;return reactExports.useMemo(()=>{const mn=sn.filter(hn=>{var fn;return isLocalMessage(hn)&&((fn=hn.user)==null?void 0:fn.id)===pn});return getReadStates(mn,un,dn)},[sn,un,dn,pn])},useMessageListElements=tn=>{const{channelUnreadUiState:sn,enrichedMessages:un,internalMessageProps:dn,messageGroupStyles:pn,read:mn,renderMessages:hn,returnAllReadData:fn,threadList:gn}=tn,{client:xn,customClasses:yn}=useChatContext("useMessageListElements"),vn=useComponentContext(),En=useLastReadData({messages:un,read:mn,returnAllReadData:fn,userID:xn.userID}),bn=reactExports.useMemo(()=>getLastReceived(un),[un]);return reactExports.useMemo(()=>hn({channelUnreadUiState:sn,components:vn,customClasses:yn,lastReceivedMessageId:bn,messageGroupStyles:pn,messages:un,readData:En,sharedMessageProps:{...dn,threadList:gn}}),[un,dn,bn,pn,sn,En,hn,gn])};function useMessageListScrollManager(tn){const{loadMoreScrollThreshold:sn,onScrollBy:un,scrollContainerMeasures:dn,scrolledUpThreshold:pn,scrollToBottom:mn,showNewMessages:hn}=tn,{client:fn}=useChatContext("useMessageListScrollManager"),gn=reactExports.useRef({offsetHeight:0,scrollHeight:0}),xn=reactExports.useRef(void 0),yn=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{var jn,Cn,An;const vn=gn.current,En=xn.current,bn=tn.messages,wn=bn[bn.length-1]||{},Sn=En==null?void 0:En[En.length-1],Rn=dn(),_n=vn.scrollHeight-vn.offsetHeight-yn.current<pn;if(typeof En<"u")if(En.length<bn.length)if((Sn==null?void 0:Sn.id)===wn.id){if(yn.current<sn){const Tn=Rn.scrollHeight-vn.scrollHeight;un(Tn)}}else((jn=wn.user)==null?void 0:jn.id)===fn.userID||_n?mn():hn();else{const Tn=((Cn=Sn==null?void 0:Sn.latest_reactions)==null?void 0:Cn.length)!==((An=wn.latest_reactions)==null?void 0:An.length),$n=(Sn==null?void 0:Sn.reply_count)!==wn.reply_count;(Tn||$n)&&_n&&mn()}xn.current=bn,gn.current=Rn},[gn,xn,tn.messages]),vn=>{yn.current=vn}}const useScrollLocationLogic=tn=>{const{hasMoreNewer:sn,listElement:un,loadMoreScrollThreshold:dn,messages:pn=[],scrolledUpThreshold:mn=200,suppressAutoscroll:hn}=tn,[fn,gn]=reactExports.useState(!1),[xn,yn]=reactExports.useState(),[vn,En]=reactExports.useState(!0),bn=reactExports.useRef(!1),wn=reactExports.useRef(!1),Sn=reactExports.useCallback(()=>{!(un!=null&&un.scrollTo)||sn||hn||(un.scrollTo({top:un.scrollHeight}),gn(!1))},[un,sn,hn]);reactExports.useLayoutEffect(()=>{un&&(yn(un.getBoundingClientRect()),Sn())},[un,sn]);const Rn=useMessageListScrollManager({loadMoreScrollThreshold:dn,messages:pn,onScrollBy:jn=>{un==null||un.scrollBy({top:jn})},scrollContainerMeasures:()=>({offsetHeight:(un==null?void 0:un.offsetHeight)||0,scrollHeight:(un==null?void 0:un.scrollHeight)||0}),scrolledUpThreshold:mn,scrollToBottom:Sn,showNewMessages:()=>gn(!0)}),_n=reactExports.useCallback(jn=>{const Cn=jn.target,An=Cn.scrollTop;Rn(An);const Tn=Cn.offsetHeight,$n=Cn.scrollHeight,Dn=bn.current;bn.current=$n-(An+Tn)<mn,wn.current=An<mn,bn.current&&gn(!1),Dn&&!bn.current?En(!1):!Dn&&bn.current&&En(!0)},[Rn,wn,bn,mn]);return{hasNewMessages:fn,isMessageListScrolledToBottom:vn,onScroll:_n,scrollToBottom:Sn,wrapperRect:xn}},MESSAGE_LIST_MAIN_PANEL_CLASS="str-chat__main-panel-inner str-chat__message-list-main-panel",MessageListMainPanel=({children:tn})=>React$1.createElement("div",{className:MESSAGE_LIST_MAIN_PANEL_CLASS},tn),UNREAD_MESSAGE_SEPARATOR_CLASS="str-chat__unread-messages-separator",UnreadMessagesSeparator=({showCount:tn,unreadCount:sn})=>{const{t:un}=useTranslationContext("UnreadMessagesSeparator");return React$1.createElement("div",{className:UNREAD_MESSAGE_SEPARATOR_CLASS,"data-testid":"unread-messages-separator"},sn&&tn?un("unreadMessagesSeparatorText",{count:sn}):un("Unread messages"))},targetScrolledAboveVisibleContainerArea=tn=>{const{bottom:sn}=tn.getBoundingClientRect();return sn<0},targetScrolledBelowVisibleContainerArea=(tn,sn)=>{const{top:un}=tn.getBoundingClientRect(),{top:dn}=sn.getBoundingClientRect();return un>dn},useUnreadMessagesNotification=({isMessageListScrolledToBottom:tn,showAlways:sn,unreadCount:un})=>{const{messages:dn}=useChannelStateContext("UnreadMessagesNotification"),[pn,mn]=reactExports.useState(!1),hn=reactExports.useRef(!1),fn=typeof IntersectionObserver<"u";return reactExports.useEffect(()=>{if(!(un&&fn)){mn(!1);return}const[gn]=document.getElementsByClassName(MESSAGE_LIST_MAIN_PANEL_CLASS);if(!gn)return;const[xn]=document.getElementsByClassName(UNREAD_MESSAGE_SEPARATOR_CLASS);if(!xn){mn(!0);return}const yn=targetScrolledAboveVisibleContainerArea(xn),vn=targetScrolledBelowVisibleContainerArea(xn,gn);mn(sn?yn||vn:yn);const En=new IntersectionObserver(bn=>{if(!bn.length)return;const{boundingClientRect:wn,isIntersecting:Sn}=bn[0];if(Sn){mn(!1);return}const Rn=wn.bottom<0;mn(sn||Rn),hn.current=Rn},{root:gn});return En.observe(xn),()=>{En.disconnect()}},[fn,tn,dn,sn,un]),reactExports.useEffect(()=>{un&&tn&&hn.current&&(mn(!0),hn.current=!1)},[tn,un]),{show:pn&&fn}},hasReadLastMessage=(tn,sn)=>{var pn,mn;const un=(pn=tn.state.latestMessages.slice(-1)[0])==null?void 0:pn.id,dn=(mn=tn.state.read[sn])==null?void 0:mn.last_read_message_id;return un===dn},useMarkRead=({isMessageListScrolledToBottom:tn,messageListIsThread:sn,wasMarkedUnread:un})=>{const{client:dn}=useChatContext("useMarkRead"),{markRead:pn,setChannelUnreadUiState:mn}=useChannelActionContext("useMarkRead"),{channel:hn}=useChannelStateContext("useMarkRead");reactExports.useEffect(()=>{const fn=()=>{var yn;return!document.hidden&&!un&&!sn&&tn&&((yn=dn.user)==null?void 0:yn.id)&&!hasReadLastMessage(hn,dn.user.id)},gn=()=>{fn()&&pn()},xn=yn=>{var En,bn;const vn=!((En=yn.message)!=null&&En.parent_id)||((bn=yn.message)==null?void 0:bn.show_in_channel);!tn||un||document.hidden?mn(wn=>{const Sn=(wn==null?void 0:wn.unread_messages)??0,Rn=getPreviousLastMessage(hn.state.messages,yn.message);return{...wn||{},last_read:(wn==null?void 0:wn.last_read)??(Sn===0&&(Rn!=null&&Rn.created_at)?new Date(Rn.created_at):new Date(0)),unread_messages:Sn+1}}):vn&&fn()&&pn()};return hn.on("message.new",xn),document.addEventListener("visibilitychange",gn),fn()&&pn(),()=>{hn.off("message.new",xn),document.removeEventListener("visibilitychange",gn)}},[hn,dn,tn,pn,sn,mn,un])};function getPreviousLastMessage(tn,sn){if(!sn)return;let un;for(let dn=tn.length-1;dn>=0;dn--){const pn=tn[dn];if(!(pn!=null&&pn.id))break;if(pn.id!==sn.id){un=pn;break}}return un}const UnMemoizedMessageNotification=tn=>{const{children:sn,onClick:un,showNotification:dn=!0}=tn;return dn?React$1.createElement("button",{"aria-live":"polite",className:"str-chat__message-notification","data-testid":"message-notification",onClick:un},sn):null},MessageNotification=React$1.memo(UnMemoizedMessageNotification),selector$1=tn=>({notifications:tn.notifications}),useNotifications=()=>{const{client:tn}=useChatContext();return useStateStore(tn.notifications.store,selector$1).notifications},ClientNotifications=()=>{const tn=useNotifications(),{t:sn}=useTranslationContext();return React$1.createElement(React$1.Fragment,null,tn.map(un=>React$1.createElement(CustomNotification,{active:!0,key:un.id,type:un.severity},sn("translationBuilderTopic/notification",{notification:un}))))},MessageListNotifications=tn=>{const{hasNewMessages:sn,isMessageListScrolledToBottom:un,isNotAtLatestMessageSet:dn,MessageNotification:pn,notifications:mn,scrollToBottom:hn,threadList:fn,unreadCount:gn}=tn,{t:xn}=useTranslationContext("MessageListNotifications");return React$1.createElement("div",{className:"str-chat__list-notifications"},mn.map(yn=>React$1.createElement(CustomNotification,{active:!0,key:yn.id,type:yn.type},yn.text)),React$1.createElement(ClientNotifications,null),React$1.createElement(ConnectionStatus,null),React$1.createElement(pn,{isMessageListScrolledToBottom:un,onClick:hn,showNotification:sn||dn,threadList:fn,unreadCount:gn},xn(dn?"Latest Messages":"New Messages!")))},CloseIcon$1=()=>React$1.createElement("svg",{fill:"currentColor",viewBox:"0 0 14 13",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("path",{d:"M1.32227 12.3408C0.944336 11.9629 0.953125 11.3213 1.32227 10.9521L5.60254 6.66309L1.32227 2.38281C0.953125 2.01367 0.944336 1.37207 1.32227 0.994141C1.7002 0.616211 2.3418 0.625 2.71094 0.985352L7 5.27441L11.2803 0.994141C11.6494 0.625 12.291 0.616211 12.6689 0.994141C13.0469 1.37207 13.0381 2.01367 12.6689 2.38281L8.38867 6.66309L12.6689 10.9521C13.0381 11.3213 13.0469 11.9629 12.6689 12.3408C12.291 12.7188 11.6494 12.71 11.2803 12.3408L7 8.06055L2.71094 12.3408C2.3418 12.71 1.7002 12.7188 1.32227 12.3408Z"})),UnreadMessagesNotification=({queryMessageLimit:tn,showCount:sn,unreadCount:un})=>{const{jumpToFirstUnreadMessage:dn,markRead:pn}=useChannelActionContext("UnreadMessagesNotification"),{t:mn}=useTranslationContext("UnreadMessagesNotification");return React$1.createElement("div",{className:"str-chat__unread-messages-notification","data-testid":"unread-messages-notification"},React$1.createElement("button",{onClick:()=>dn(tn)},un&&sn?mn("{{count}} unread",{count:un??0}):mn("Unread messages")),React$1.createElement("button",{onClick:()=>pn()},React$1.createElement(CloseIcon$1,null)))},mousewheelListener=tn=>{tn instanceof WheelEvent&&tn.deltaY===1&&tn.preventDefault()},InfiniteScroll=tn=>{const{children:sn,element:un="div",hasMore:dn,hasMoreNewer:pn,hasNextPage:mn,hasPreviousPage:hn,head:fn,initialLoad:gn=!0,isLoading:xn,listenToScroll:yn,loader:vn,loadMore:En,loadMoreNewer:bn,loadNextPage:wn,loadPreviousPage:Sn,threshold:Rn=DEFAULT_LOAD_PAGE_SCROLL_THRESHOLD,useCapture:_n=!1,...jn}=tn,Cn=wn||bn,An=Sn||En,Tn=mn||pn,$n=hn||dn,[Dn,Nn]=reactExports.useState(null),kn=reactExports.useRef(void 0),Pn=reactExports.useRef(void 0),Mn=reactExports.useRef(void 0);return Mn.current=()=>{const On=Dn;if(!On||On.offsetParent===null)return;const Wn=On.parentElement,In=On.scrollHeight-Wn.scrollTop-Wn.clientHeight,Un=Wn.scrollTop;yn&&yn(In,Un,Rn),!xn&&(kn.current===In&&Pn.current===Un||(kn.current=In,Pn.current=Un,Un<Number(Rn)&&typeof An=="function"&&$n&&An(),In<Number(Rn)&&typeof Cn=="function"&&Tn&&Cn()))},reactExports.useEffect(()=>{deprecationAndReplacementWarning([[{hasMoreNewer:pn},{hasNextPage:mn}],[{loadMoreNewer:bn},{loadNextPage:wn}],[{hasMore:dn},{hasPreviousPage:hn}],[{loadMore:En},{loadPreviousPage:Sn}]],"InfiniteScroll")},[]),reactExports.useEffect(()=>{const On=Dn==null?void 0:Dn.parentNode;if(!On)return;const Wn=()=>{var In;return(In=Mn.current)==null?void 0:In.call(Mn)};return On.addEventListener("scroll",Wn,_n),On.addEventListener("resize",Wn,_n),Wn(),()=>{On.removeEventListener("scroll",Wn,_n),On.removeEventListener("resize",Wn,_n)}},[gn,Dn,_n]),reactExports.useEffect(()=>{const On=Dn==null?void 0:Dn.parentNode;if(On)return On.addEventListener("wheel",mousewheelListener,{passive:!1}),()=>{On.removeEventListener("wheel",mousewheelListener,_n)}},[Dn,_n]),React$1.createElement(un,{...jn,ref:Nn},fn,vn,sn)},useJoinTypingUsers=tn=>{const{t:sn}=useTranslationContext();if(!tn.length)return null;const[un,...dn]=tn;if(tn.length===1)return sn("{{ user }} is typing...",{user:un});const pn=3;return tn.length>pn?sn("{{ users }} and more are typing...",{users:tn.slice(0,pn).join(", ").trim()}):sn("{{ users }} and {{ user }} are typing...",{user:un,users:dn.join(", ").trim()})},UnMemoizedTypingIndicator=tn=>{const{threadList:sn}=tn,{channelConfig:un,thread:dn}=useChannelStateContext("TypingIndicator"),{client:pn}=useChatContext("TypingIndicator"),{typing:mn={}}=useTypingContext("TypingIndicator"),hn=sn?[]:Object.values(mn).filter(({parent_id:vn,user:En})=>{var bn;return(En==null?void 0:En.id)!==((bn=pn.user)==null?void 0:bn.id)&&!vn}),fn=sn?Object.values(mn).filter(({parent_id:vn,user:En})=>{var bn;return(En==null?void 0:En.id)!==((bn=pn.user)==null?void 0:bn.id)&&vn===(dn==null?void 0:dn.id)}):[],gn=(sn?fn:hn).map(({user:vn})=>(vn==null?void 0:vn.name)||(vn==null?void 0:vn.id)).filter(Boolean),xn=useJoinTypingUsers(gn),yn=sn&&fn.length||!sn&&hn.length;return(un==null?void 0:un.typing_events)===!1||!yn?null:React$1.createElement("div",{className:clsx("str-chat__typing-indicator",{"str-chat__typing-indicator--typing":yn}),"data-testid":"typing-indicator"},React$1.createElement("div",{className:"str-chat__typing-indicator__dots"},React$1.createElement("span",{className:"str-chat__typing-indicator__dot"}),React$1.createElement("span",{className:"str-chat__typing-indicator__dot"}),React$1.createElement("span",{className:"str-chat__typing-indicator__dot"})),React$1.createElement("div",{className:"str-chat__typing-indicator__users","data-testid":"typing-users"},xn))},TypingIndicator=React$1.memo(UnMemoizedTypingIndicator),UnMemoizedDateSeparator=tn=>{const{calendar:sn,date:un,formatDate:dn,position:pn="right",unread:mn,...hn}=tn,{t:fn,tDateTimeParser:gn}=useTranslationContext("DateSeparator"),xn=getDateString({calendar:sn,...hn,formatDate:dn,messageCreatedAt:un,t:fn,tDateTimeParser:gn,timestampTranslationKey:"timestamp/DateSeparator"});return React$1.createElement("div",{className:"str-chat__date-separator","data-testid":"date-separator"},(pn==="right"||pn==="center")&&React$1.createElement("hr",{className:"str-chat__date-separator-line"}),React$1.createElement("div",{className:"str-chat__date-separator-date"},mn?`${fn("New")} - ${xn}`:xn),(pn==="left"||pn==="center")&&React$1.createElement("hr",{className:"str-chat__date-separator-line"}))},DateSeparator=React$1.memo(UnMemoizedDateSeparator),UnMemoizedEventComponent=tn=>{var bn,wn,Sn;const{Avatar:sn=Avatar,calendar:un,calendarFormats:dn,format:pn,message:mn}=tn,{t:hn,tDateTimeParser:fn}=useTranslationContext("EventComponent"),{created_at:gn="",event:xn,text:yn,type:vn}=mn,En={messageCreatedAt:gn.toString(),tDateTimeParser:fn};if(vn==="system")return React$1.createElement("div",{className:"str-chat__message--system","data-testid":"message-system"},React$1.createElement("div",{className:"str-chat__message--system__text"},React$1.createElement("div",{className:"str-chat__message--system__line"}),React$1.createElement("p",null,yn),React$1.createElement("div",{className:"str-chat__message--system__line"})),React$1.createElement("div",{className:"str-chat__message--system__date"},React$1.createElement("strong",null,getDateString({...En,calendar:un,calendarFormats:dn,format:pn,t:hn,timestampTranslationKey:"timestamp/SystemMessage"}))));if((xn==null?void 0:xn.type)==="member.removed"||(xn==null?void 0:xn.type)==="member.added"){const Rn=((bn=xn.user)==null?void 0:bn.name)||((wn=xn.user)==null?void 0:wn.id),_n=`${Rn} ${xn.type==="member.added"?"has joined the chat":"was removed from the chat"}`;return React$1.createElement("div",{className:"str-chat__event-component__channel-event"},React$1.createElement(sn,{image:(Sn=xn.user)==null?void 0:Sn.image,name:Rn,user:xn.user}),React$1.createElement("div",{className:"str-chat__event-component__channel-event__content"},React$1.createElement("em",{className:"str-chat__event-component__channel-event__sentence"},_n),React$1.createElement("div",{className:"str-chat__event-component__channel-event__date"},getDateString({...En,format:"LT"}))))}return null},EventComponent=React$1.memo(UnMemoizedEventComponent);function defaultRenderMessages({channelUnreadUiState:tn,components:sn,customClasses:un,lastReceivedMessageId:dn,messageGroupStyles:pn,messages:mn,readData:hn,sharedMessageProps:fn}){const{DateSeparator:gn=DateSeparator,HeaderComponent:xn,MessageSystem:yn=EventComponent,UnreadMessagesSeparator:vn=UnreadMessagesSeparator}=sn,En=[];let bn,wn;for(let Sn=0;Sn<mn.length;Sn++){const Rn=mn[Sn];if(isDateSeparatorMessage(Rn))En.push(React$1.createElement("li",{key:`${Rn.date.toISOString()}-i`},React$1.createElement(gn,{date:Rn.date,formatDate:fn.formatDate,unread:Rn.unread})));else if(isIntroMessage(Rn))xn&&En.push(React$1.createElement("li",{key:"intro"},React$1.createElement(xn,null)));else if(Rn.type==="system")En.push(React$1.createElement("li",{"data-message-id":Rn.id,key:Rn.id||Rn.created_at.toISOString()},React$1.createElement(yn,{message:Rn})));else{bn||(bn=Rn);const _n=pn[Rn.id]||"",jn=(un==null?void 0:un.message)||`str-chat__li str-chat__li--${_n}`,Cn=getIsFirstUnreadMessage({firstUnreadMessageId:tn==null?void 0:tn.first_unread_message_id,isFirstMessage:!!(bn!=null&&bn.id)&&bn.id===Rn.id,lastReadDate:tn==null?void 0:tn.last_read,lastReadMessageId:tn==null?void 0:tn.last_read_message_id,message:Rn,previousMessage:wn,unreadMessageCount:tn==null?void 0:tn.unread_messages});En.push(React$1.createElement(reactExports.Fragment,{key:Rn.id||Rn.created_at.toISOString()},Cn&&vn&&React$1.createElement("li",{className:"str-chat__li str-chat__unread-messages-separator-wrapper"},React$1.createElement(vn,{unreadCount:tn==null?void 0:tn.unread_messages})),React$1.createElement("li",{className:jn,"data-message-id":Rn.id,"data-testid":jn},React$1.createElement(Message,{groupStyles:[_n],lastReceivedId:dn,message:Rn,readBy:hn[Rn.id]||[],...fn})))),wn=Rn}}return En}const useStableId=tn=>reactExports.useMemo(()=>nanoid(),[tn]),MessageListWithContext=tn=>{const{channel:sn,channelUnreadUiState:un,disableDateSeparator:dn=!1,groupStyles:pn,hasMoreNewer:mn=!1,headerPosition:hn,hideDeletedMessages:fn=!1,hideNewMessageSeparator:gn=!1,highlightedMessageId:xn,internalInfiniteScrollProps:{threshold:yn=DEFAULT_LOAD_PAGE_SCROLL_THRESHOLD,...vn}={},jumpToLatestMessage:En=()=>Promise.resolve(),loadMore:bn,loadMoreNewer:wn,maxTimeBetweenGroupedMessages:Sn,messageActions:Rn=Object.keys(MESSAGE_ACTIONS),messageLimit:_n=DEFAULT_NEXT_CHANNEL_PAGE_SIZE,messages:jn=[],noGroupByUser:Cn=!1,notifications:An,pinPermissions:Tn=defaultPinPermissions,reactionDetailsSort:$n,read:Dn,renderMessages:Nn=defaultRenderMessages,returnAllReadData:kn=!1,reviewProcessedMessage:Pn,showUnreadNotificationAlways:Mn,sortReactionDetails:On,sortReactions:Wn,suppressAutoscroll:In,threadList:Un=!1,unsafeHTML:Vn=!1}=tn,[Hn,Ln]=React$1.useState(null),[zn,Bn]=React$1.useState(null),{customClasses:Fn}=useChatContext("MessageList"),{EmptyStateIndicator:Gn=EmptyStateIndicator,LoadingIndicator:qn=LoadingIndicator,MessageListMainPanel:Jn=MessageListMainPanel,MessageListNotifications:dr=MessageListNotifications,MessageNotification:br=MessageNotification,TypingIndicator:Er=TypingIndicator,UnreadMessagesNotification:yr=UnreadMessagesNotification}=useComponentContext(),{hasNewMessages:xr,isMessageListScrolledToBottom:vr,onScroll:nr,scrollToBottom:sr,wrapperRect:Rr}=useScrollLocationLogic({hasMoreNewer:mn,listElement:Hn,loadMoreScrollThreshold:yn,messages:jn,scrolledUpThreshold:tn.scrolledUpThreshold,suppressAutoscroll:In}),{show:Ar}=useUnreadMessagesNotification({isMessageListScrolledToBottom:vr,showAlways:!!Mn,unreadCount:un==null?void 0:un.unread_messages});useMarkRead({isMessageListScrolledToBottom:vr,messageListIsThread:Un,wasMarkedUnread:!!(un!=null&&un.first_unread_message_id)});const{messageGroupStyles:Lr,messages:Or}=useEnrichedMessages({channel:sn,disableDateSeparator:dn,groupStyles:pn,headerPosition:hn,hideDeletedMessages:fn,hideNewMessageSeparator:gn,maxTimeBetweenGroupedMessages:Sn,messages:jn,noGroupByUser:Cn,reviewProcessedMessage:Pn}),Zn=useMessageListElements({channelUnreadUiState:un,enrichedMessages:Or,internalMessageProps:{additionalMessageInputProps:tn.additionalMessageInputProps,closeReactionSelectorOnClick:tn.closeReactionSelectorOnClick,customMessageActions:tn.customMessageActions,disableQuotedMessages:tn.disableQuotedMessages,formatDate:tn.formatDate,getDeleteMessageErrorNotification:tn.getDeleteMessageErrorNotification,getFlagMessageErrorNotification:tn.getFlagMessageErrorNotification,getFlagMessageSuccessNotification:tn.getFlagMessageSuccessNotification,getMarkMessageUnreadErrorNotification:tn.getMarkMessageUnreadErrorNotification,getMarkMessageUnreadSuccessNotification:tn.getMarkMessageUnreadSuccessNotification,getMuteUserErrorNotification:tn.getMuteUserErrorNotification,getMuteUserSuccessNotification:tn.getMuteUserSuccessNotification,getPinMessageErrorNotification:tn.getPinMessageErrorNotification,Message:tn.Message,messageActions:Rn,messageListRect:Rr,onlySenderCanEdit:tn.onlySenderCanEdit,onMentionsClick:tn.onMentionsClick,onMentionsHover:tn.onMentionsHover,onUserClick:tn.onUserClick,onUserHover:tn.onUserHover,openThread:tn.openThread,pinPermissions:Tn,reactionDetailsSort:$n,renderText:tn.renderText,retrySendMessage:tn.retrySendMessage,sortReactionDetails:On,sortReactions:Wn,unsafeHTML:Vn},messageGroupStyles:Lr,read:Dn,renderMessages:Nn,returnAllReadData:kn,threadList:Un}),Cr=(Fn==null?void 0:Fn.messageList)||"str-chat__list",Fr=React$1.useCallback(()=>{bn&&bn(_n)},[bn,_n]),Pr=React$1.useCallback(()=>{wn&&wn(_n)},[wn,_n]),Br=React$1.useCallback(async()=>{mn?await En():sr()},[sr,mn]);React$1.useLayoutEffect(()=>{if(xn){const $r=zn==null?void 0:zn.querySelector(`[data-message-id='${xn}']`);$r==null||$r.scrollIntoView({block:"center"})}},[xn]);const ar=useStableId(),pr=Zn.length===0&&!Un,Xn=Un?`message-list-dialog-manager-thread-${ar}`:`message-list-dialog-manager-${ar}`;return React$1.createElement(MessageListContextProvider,{value:{listElement:Hn,scrollToBottom:sr}},React$1.createElement(Jn,null,React$1.createElement(DialogManagerProvider,{id:Xn},!Un&&Ar&&React$1.createElement(yr,{unreadCount:un==null?void 0:un.unread_messages}),React$1.createElement("div",{className:clsx(Cr,Fn==null?void 0:Fn.threadList),onScroll:nr,ref:Ln,tabIndex:0},pr?React$1.createElement(Gn,{listType:Un?"thread":"message"}):React$1.createElement(InfiniteScroll,{className:"str-chat__message-list-scroll","data-testid":"reverse-infinite-scroll",hasNextPage:tn.hasMoreNewer,hasPreviousPage:tn.hasMore,head:tn.head,isLoading:tn.loadingMore,loader:React$1.createElement("div",{className:"str-chat__list__loading",key:"loading-indicator"},tn.loadingMore&&React$1.createElement(qn,{size:20})),loadNextPage:Pr,loadPreviousPage:Fr,threshold:yn,...vn},React$1.createElement("ul",{className:"str-chat__ul",ref:Bn},Zn),React$1.createElement(Er,{threadList:Un}),React$1.createElement("div",{key:"bottom"}))))),React$1.createElement(dr,{hasNewMessages:xr,isMessageListScrolledToBottom:vr,isNotAtLatestMessageSet:mn,MessageNotification:br,notifications:An,scrollToBottom:Br,threadList:Un,unreadCount:Un||un==null?void 0:un.unread_messages}))},MessageList=tn=>{const{jumpToLatestMessage:sn,loadMore:un,loadMoreNewer:dn}=useChannelActionContext("MessageList"),{members:pn,mutes:mn,watchers:hn,...fn}=useChannelStateContext("MessageList");return React$1.createElement(MessageListWithContext,{jumpToLatestMessage:sn,loadMore:un,loadMoreNewer:dn,...fn,...tn})};function useNewMessageNotification(tn,sn,un){const[dn,pn]=reactExports.useState(!1),[mn,hn]=reactExports.useState(!0),fn=reactExports.useRef(!1),gn=reactExports.useRef(""),xn=reactExports.useRef(!1);return reactExports.useEffect(()=>{var En;if(un){pn(!0);return}if(!(tn!=null&&tn.length))return;const yn=tn[tn.length-1],vn=gn.current;gn.current=yn.id||"",yn.id!==vn&&(xn.current||(((En=yn.user)==null?void 0:En.id)!==sn&&fn.current&&pn(!0),fn.current=!0))},[sn,tn,un]),{atBottom:xn,isMessageListScrolledToBottom:mn,newMessagesNotification:dn,setIsMessageListScrolledToBottom:hn,setNewMessagesNotification:pn}}const STATUSES_EXCLUDED_FROM_PREPEND={failed:!0,sending:!0};function usePrependedMessagesCount(tn,sn){const un=sn?1:0,dn=reactExports.useRef(void 0),pn=reactExports.useRef(void 0),mn=reactExports.useRef(0);return reactExports.useMemo(()=>{var vn,En;if(!tn||!tn.length)return mn.current=0,0;const fn=tn==null?void 0:tn[un],gn=(fn==null?void 0:fn.id)===((vn=pn.current)==null?void 0:vn.id),xn=isLocalMessage(fn)?fn.status:void 0,yn=!!(xn&&STATUSES_EXCLUDED_FROM_PREPEND[xn]);if(gn||yn)return mn.current;dn.current||(dn.current=fn),pn.current=fn;for(let bn=mn.current;bn<tn.length;bn+=1)if(tn[bn].id===((En=dn.current)==null?void 0:En.id))return mn.current=bn-un,mn.current;return dn.current=fn,mn.current=0,0},[un,tn,tn==null?void 0:tn.length])}function useShouldForceScrollToBottom(tn,sn){const un=reactExports.useRef(""),dn=reactExports.useRef(!1);function pn(){var mn;if(tn&&tn.length>0){const hn=tn[tn.length-1];if(((mn=hn.user)==null?void 0:mn.id)===sn&&un.current!==hn.id)return un.current=hn.id,!0}return!1}return reactExports.useEffect(()=>{tn&&tn.length&&!dn.current&&(dn.current=!0,pn())},[tn,tn==null?void 0:tn.length]),pn}const useGiphyPreview=tn=>{const[sn,un]=reactExports.useState(),{client:dn}=useChatContext("useGiphyPreview");return reactExports.useEffect(()=>{if(!tn)return;const pn=mn=>{const{message:hn,user:fn}=mn;(hn==null?void 0:hn.command)==="giphy"&&(fn==null?void 0:fn.id)===dn.userID&&un(void 0)};return dn.on("message.new",pn),()=>dn.off("message.new",pn)},[dn,tn]),{giphyPreviewMessage:sn,setGiphyPreviewMessage:tn?un:void 0}},useMessageSetKey=({messages:tn})=>{const[sn,un]=reactExports.useState(+new Date),dn=reactExports.useRef(void 0);return reactExports.useEffect(()=>{var mn;(tn==null?void 0:tn.find(hn=>hn.id===dn.current))||un(+new Date),dn.current=(mn=tn==null?void 0:tn[0])==null?void 0:mn.id},[tn]),{messageSetKey:sn}},useScrollToBottomOnNewMessage=({messages:tn,scrollToBottom:sn,scrollToLatestMessageOnFocus:un})=>{const[dn,pn]=reactExports.useState(!1),mn=reactExports.useRef(void 0);mn.current=hn=>{!un||!dn||hn.target!==window||setTimeout(sn,100)},reactExports.useEffect(()=>{pn(!0)},[tn]),reactExports.useEffect(()=>{const hn=gn=>{var xn;(xn=mn.current)==null||xn.call(mn,gn)},fn=()=>{pn(!1)};return typeof window<"u"&&(window.addEventListener("focus",hn),window.addEventListener("blur",fn)),()=>{window.removeEventListener("focus",hn),window.removeEventListener("blur",fn)}},[])},useUnreadMessagesNotificationVirtualized=({lastRead:tn,showAlways:sn,unreadCount:un})=>{const[dn,pn]=reactExports.useState(!1),mn=reactExports.useCallback(hn=>{if(!un)return;const fn=hn[0],gn=hn.slice(-1)[0];if(!(fn&&gn))return;const xn=new Date(fn.created_at??0).getTime(),yn=new Date(gn.created_at??0).getTime(),vn=new Date(tn??0).getTime(),En=!!vn&&xn>vn,bn=!!vn&&yn<vn;pn(sn?En||bn:En)},[tn,sn,un]);return reactExports.useEffect(()=>{un||pn(!1)},[un]),{show:dn,toggleShowUnreadMessagesNotification:mn}},PREPEND_OFFSET=10**7;function calculateItemIndex(tn,sn){return tn+sn-PREPEND_OFFSET}function calculateFirstItemIndex(tn){return PREPEND_OFFSET-tn}const makeItemsRenderedHandler=(tn,sn)=>throttle$1(un=>{const dn=un.map(pn=>{if(pn.originalIndex)return sn[calculateItemIndex(pn.originalIndex,PREPEND_OFFSET)]}).filter(pn=>!!pn);tn.forEach(pn=>pn(dn))},200),Item=({context:tn,...sn})=>{var pn;if(!tn)return React$1.createElement(React$1.Fragment,null);const un=tn.processedMessages[calculateItemIndex(sn["data-item-index"],tn.numItemsPrepended)],dn=tn.messageGroupStyles[un.id];return React$1.createElement("div",{...sn,className:((pn=tn==null?void 0:tn.customClasses)==null?void 0:pn.virtualMessage)||clsx("str-chat__virtual-list-message-wrapper str-chat__li",{[`str-chat__li--${dn}`]:dn})})},Header=({context:tn})=>{const{LoadingIndicator:sn=LoadingIndicator}=useComponentContext();return React$1.createElement(React$1.Fragment,null,tn==null?void 0:tn.head,(tn==null?void 0:tn.loadingMore)&&sn&&React$1.createElement("div",{className:"str-chat__virtual-list__loading"},React$1.createElement(sn,{size:20})))},EmptyPlaceholder=({context:tn})=>{const{EmptyStateIndicator:sn=EmptyStateIndicator}=useComponentContext();return typeof(tn==null?void 0:tn.processedMessages)<"u"&&tn.processedMessages.length>0?null:React$1.createElement(React$1.Fragment,null,sn&&React$1.createElement(sn,{listType:tn!=null&&tn.threadList?"thread":"message"}))},messageRenderer=(tn,sn,un)=>{var Fn,Gn,qn,Jn,dr,br,Er;const{additionalMessageInputProps:dn,closeReactionSelectorOnClick:pn,customMessageActions:mn,customMessageRenderer:hn,DateSeparator:fn,firstUnreadMessageId:gn,formatDate:xn,lastReadDate:yn,lastReadMessageId:vn,lastReceivedMessageId:En,Message:bn,messageActions:wn,messageGroupStyles:Sn,MessageSystem:Rn,numItemsPrepended:_n,openThread:jn,ownMessagesReadByOthers:Cn,processedMessages:An,reactionDetailsSort:Tn,shouldGroupByUser:$n,sortReactionDetails:Dn,sortReactions:Nn,threadList:kn,unreadMessageCount:Pn=0,UnreadMessagesSeparator:Mn,virtuosoRef:On}=un,Wn=calculateItemIndex(tn,_n);if(hn)return hn(An,Wn);const In=An[Wn];if(!In||isIntroMessage(In))return React$1.createElement("div",{style:{height:"1px"}});if(isDateSeparatorMessage(In))return fn?React$1.createElement(fn,{date:In.date,unread:In.unread}):null;if(In.type==="system")return Rn?React$1.createElement(Rn,{message:In}):null;const Un=An[Wn-1],Vn=An[Wn+1],Hn=$n&&Wn>0&&((Fn=In.user)==null?void 0:Fn.id)===((Gn=Un==null?void 0:Un.user)==null?void 0:Gn.id),Ln=$n&&(((qn=In.user)==null?void 0:qn.id)!==((Jn=Un==null?void 0:Un.user)==null?void 0:Jn.id)||Un&&isMessageEdited(Un)),zn=$n&&(((dr=In.user)==null?void 0:dr.id)!==((br=Vn==null?void 0:Vn.user)==null?void 0:br.id)||isMessageEdited(In)),Bn=getIsFirstUnreadMessage({firstUnreadMessageId:gn,isFirstMessage:Wn===0,lastReadDate:yn,lastReadMessageId:vn,message:In,previousMessage:Wn?An[Wn-1]:void 0,unreadMessageCount:Pn});return React$1.createElement(React$1.Fragment,null,Bn&&React$1.createElement("div",{className:"str-chat__unread-messages-separator-wrapper"},React$1.createElement(Mn,{unreadCount:Pn})),React$1.createElement(Message,{additionalMessageInputProps:dn,autoscrollToBottom:(Er=On.current)==null?void 0:Er.autoscrollToBottom,closeReactionSelectorOnClick:pn,customMessageActions:mn,endOfGroup:zn,firstOfGroup:Ln,formatDate:xn,groupedByUser:Hn,groupStyles:[Sn[In.id]??""],lastReceivedId:En,message:In,Message:bn,messageActions:wn,openThread:jn,reactionDetailsSort:Tn,readBy:Cn[In.id]||[],sortReactionDetails:Dn,sortReactions:Nn,threadList:kn}))},VirtualizedMessageListContext=reactExports.createContext(void 0),VirtualizedMessageListContextProvider=({children:tn,value:sn})=>React$1.createElement(VirtualizedMessageListContext.Provider,{value:sn},tn);function captureResizeObserverExceededError(tn){(tn.message==="ResizeObserver loop completed with undelivered notifications."||tn.message==="ResizeObserver loop limit exceeded")&&tn.stopImmediatePropagation()}function useCaptureResizeObserverExceededError(){reactExports.useEffect(()=>(window.addEventListener("error",captureResizeObserverExceededError),()=>{window.removeEventListener("error",captureResizeObserverExceededError)}),[])}function fractionalItemSize(tn){return tn.getBoundingClientRect().height}function findMessageIndex(tn,sn){return tn.findIndex(un=>un.id===sn)}function calculateInitialTopMostItemIndex(tn,sn){if(sn){const un=findMessageIndex(tn,sn);if(un!==-1)return{align:"center",index:un}}return tn.length-1}const VirtualizedMessageListWithContext=tn=>{const{additionalMessageInputProps:sn,additionalVirtuosoProps:un={},channel:dn,channelUnreadUiState:pn,closeReactionSelectorOnClick:mn,customMessageActions:hn,customMessageRenderer:fn,defaultItemHeight:gn,disableDateSeparator:xn=!0,formatDate:yn,groupStyles:vn,hasMoreNewer:En,head:bn,hideDeletedMessages:wn=!1,hideNewMessageSeparator:Sn=!1,highlightedMessageId:Rn,jumpToLatestMessage:_n,loadingMore:jn,loadMore:Cn,loadMoreNewer:An,maxTimeBetweenGroupedMessages:Tn,Message:$n,messageActions:Dn,messageLimit:Nn=DEFAULT_NEXT_CHANNEL_PAGE_SIZE,messages:kn,notifications:Pn,openThread:Mn,overscan:On=0,reactionDetailsSort:Wn,read:In,returnAllReadData:Un=!1,reviewProcessedMessage:Vn,scrollSeekPlaceHolder:Hn,scrollToLatestMessageOnFocus:Ln=!1,separateGiphyPreview:zn=!1,shouldGroupByUser:Bn=!1,showUnreadNotificationAlways:Fn,sortReactionDetails:Gn,sortReactions:qn,stickToBottomScrollBehavior:Jn="smooth",suppressAutoscroll:dr,threadList:br}=tn,{components:Er,...yr}=un;useCaptureResizeObserverExceededError();const{DateSeparator:xr=DateSeparator,GiphyPreviewMessage:vr=GiphyPreviewMessage,MessageListMainPanel:nr=MessageListMainPanel,MessageListNotifications:sr=MessageListNotifications,MessageNotification:Rr=MessageNotification,MessageSystem:Ar=EventComponent,TypingIndicator:Lr,UnreadMessagesNotification:Or=UnreadMessagesNotification,UnreadMessagesSeparator:Zn=UnreadMessagesSeparator,VirtualMessage:Cr=MessageSimple}=useComponentContext(),Fr=$n||Cr,{client:Pr,customClasses:Br}=useChatContext("VirtualizedMessageList"),ar=reactExports.useRef(null),pr=reactExports.useMemo(()=>{var Qr;return(Qr=dn.lastRead)==null?void 0:Qr.call(dn)},[dn]),{show:Xn,toggleShowUnreadMessagesNotification:$r}=useUnreadMessagesNotificationVirtualized({lastRead:pn==null?void 0:pn.last_read,showAlways:!!Fn,unreadCount:(pn==null?void 0:pn.unread_messages)??0}),{giphyPreviewMessage:lr,setGiphyPreviewMessage:gr}=useGiphyPreview(zn),_r=reactExports.useMemo(()=>typeof kn>"u"?[]:xn&&!wn&&Sn&&!zn?kn:processMessages({enableDateSeparator:!xn,hideDeletedMessages:wn,hideNewMessageSeparator:Sn,lastRead:pr,messages:kn,reviewProcessedMessage:Vn,setGiphyPreviewMessage:gr,userId:Pr.userID||""}),[xn,wn,Sn,pr,kn,kn==null?void 0:kn.length,Pr.userID]),Hr=useLastReadData({messages:_r,read:In,returnAllReadData:Un,userID:Pr.userID}),Vr=reactExports.useMemo(()=>getLastReceived(_r),[_r]),ss=vn||getGroupStyles,Rs=reactExports.useMemo(()=>_r.reduce((Qr,Ls,Vs)=>{const ba=ss(Ls,_r[Vs-1],_r[Vs+1],!Bn,Tn);return ba&&Ls.id&&(Qr[Ls.id]=ba),Qr},{}),[Tn,_r.length,Bn,ss]),{atBottom:Cs,isMessageListScrolledToBottom:Ps,newMessagesNotification:js,setIsMessageListScrolledToBottom:ms,setNewMessagesNotification:ks}=useNewMessageNotification(_r,Pr.userID,En);useMarkRead({isMessageListScrolledToBottom:Ps,messageListIsThread:!!br,wasMarkedUnread:!!(pn!=null&&pn.first_unread_message_id)});const Nr=reactExports.useCallback(async()=>{if(En){await _n();return}ar.current&&ar.current.scrollToIndex(_r.length-1),ks(!1)},[ar,_r,ks,_r.length,En,_n]);useScrollToBottomOnNewMessage({messages:kn,scrollToBottom:Nr,scrollToLatestMessageOnFocus:Ln});const Yr=usePrependedMessagesCount(_r,!xn),{messageSetKey:ps}=useMessageSetKey({messages:kn}),os=useShouldForceScrollToBottom(_r,Pr.userID),$s=reactExports.useMemo(()=>makeItemsRenderedHandler([$r],_r),[_r,$r]),as=Qr=>En||dr?!1:os()?Qr?Jn:"auto":Qr?Jn:!1,_s=reactExports.useCallback((Qr,Ls,{numItemsPrepended:Vs,processedMessages:ba})=>ba[calculateItemIndex(Qr,Vs)].id,[]),Os=Qr=>{Cs.current=Qr,ms(Qr),Qr&&(An==null||An(Nn),ks==null||ks(!1))},Bs=Qr=>{Qr&&(Cn==null||Cn(Nn))};reactExports.useEffect(()=>{let Qr;if(Rn){const Ls=findMessageIndex(_r,Rn);Ls!==-1&&(Qr=setTimeout(()=>{var Vs;(Vs=ar.current)==null||Vs.scrollToIndex({align:"center",index:Ls})},0))}return()=>{clearTimeout(Qr)}},[Rn,_r]);const Ts=useStableId();if(!_r)return null;const fs=br?`virtualized-message-list-dialog-manager-thread-${Ts}`:`virtualized-message-list-dialog-manager-${Ts}`;return React$1.createElement(VirtualizedMessageListContextProvider,{value:{scrollToBottom:Nr}},React$1.createElement(nr,null,React$1.createElement(DialogManagerProvider,{id:fs},!br&&Xn&&React$1.createElement(Or,{unreadCount:pn==null?void 0:pn.unread_messages}),React$1.createElement("div",{className:(Br==null?void 0:Br.virtualizedMessageList)||"str-chat__virtual-list"},React$1.createElement(ln,{atBottomStateChange:Os,atBottomThreshold:100,atTopStateChange:Bs,atTopThreshold:100,className:"str-chat__message-list-scroll",components:{EmptyPlaceholder,Header,Item,...Er},computeItemKey:_s,context:{additionalMessageInputProps:sn,closeReactionSelectorOnClick:mn,customClasses:Br,customMessageActions:hn,customMessageRenderer:fn,DateSeparator:xr,firstUnreadMessageId:pn==null?void 0:pn.first_unread_message_id,formatDate:yn,head:bn,lastReadDate:pn==null?void 0:pn.last_read,lastReadMessageId:pn==null?void 0:pn.last_read_message_id,lastReceivedMessageId:Vr,loadingMore:jn,Message:Fr,messageActions:Dn,messageGroupStyles:Rs,MessageSystem:Ar,numItemsPrepended:Yr,openThread:Mn,ownMessagesReadByOthers:Hr,processedMessages:_r,reactionDetailsSort:Wn,shouldGroupByUser:Bn,sortReactionDetails:Gn,sortReactions:qn,threadList:br,unreadMessageCount:pn==null?void 0:pn.unread_messages,UnreadMessagesSeparator:Zn,virtuosoRef:ar},firstItemIndex:calculateFirstItemIndex(Yr),followOutput:as,increaseViewportBy:{bottom:200,top:0},initialTopMostItemIndex:calculateInitialTopMostItemIndex(_r,Rn),itemContent:messageRenderer,itemSize:fractionalItemSize,itemsRendered:$s,key:ps,overscan:On,ref:ar,style:{overflowX:"hidden"},totalCount:_r.length,...yr,...Hn?{scrollSeek:Hn}:{},...gn?{defaultItemHeight:gn}:{}}))),Lr&&React$1.createElement(Lr,null)),React$1.createElement(sr,{hasNewMessages:js,isMessageListScrolledToBottom:Ps,isNotAtLatestMessageSet:En,MessageNotification:Rr,notifications:Pn,scrollToBottom:Nr,threadList:br,unreadCount:br||pn==null?void 0:pn.unread_messages}),lr&&React$1.createElement(vr,{message:lr}))};function VirtualizedMessageList(tn){const{jumpToLatestMessage:sn,loadMore:un,loadMoreNewer:dn}=useChannelActionContext("VirtualizedMessageList"),{channel:pn,channelUnreadUiState:mn,hasMore:hn,hasMoreNewer:fn,highlightedMessageId:gn,loadingMore:xn,loadingMoreNewer:yn,messages:vn,notifications:En,read:bn,suppressAutoscroll:wn}=useChannelStateContext("VirtualizedMessageList"),Sn=tn.messages||vn;return React$1.createElement(VirtualizedMessageListWithContext,{channel:pn,channelUnreadUiState:tn.channelUnreadUiState??mn,hasMore:!!hn,hasMoreNewer:!!fn,highlightedMessageId:gn,jumpToLatestMessage:sn,loadingMore:!!xn,loadingMoreNewer:!!yn,loadMore:un,loadMoreNewer:dn,messages:Sn,notifications:En,read:bn,suppressAutoscroll:wn,...tn})}const MessageIsThreadReplyInChannelButtonIndicator=()=>{const{client:tn}=useChatContext(),{t:sn}=useTranslationContext(),{channel:un}=useChannelStateContext(),{openThread:dn}=useChannelActionContext(),{message:pn}=useMessageContext(),mn=reactExports.useRef(void 0),hn=()=>un.getClient().search({cid:un.cid},{id:pn.parent_id}).then(({results:fn})=>{if(!fn.length)throw new Error("Thread has not been found");mn.current=formatMessage(fn[0].message)}).catch(fn=>{tn.notifications.addError({message:sn("Thread has not been found"),options:{originalError:fn,type:"api:message:search:not-found"},origin:{context:{threadReply:pn},emitter:"MessageIsThreadReplyInChannelButtonIndicator"}})});return reactExports.useEffect(()=>{if(mn.current||mn.current===null||!pn.parent_id)return;const fn=un.state.findMessage(pn.parent_id);if(fn){mn.current=fn;return}},[un,pn]),pn.parent_id?React$1.createElement("div",{className:"str-chat__message-is-thread-reply-button-wrapper"},React$1.createElement("button",{className:"str-chat__message-is-thread-reply-button","data-testid":"message-is-thread-reply-button",onClick:async()=>{if(!mn.current){await hn(),mn.current?dn(mn.current):mn.current=null;return}dn(mn.current)},type:"button"},sn("Thread reply"))):null},reminderStateSelector=tn=>({timeLeftMs:tn.timeLeftMs}),ReminderNotification=({reminder:tn})=>{const{t:sn}=useTranslationContext(),{timeLeftMs:un}=useStateStore(tn==null?void 0:tn.state,reminderStateSelector)??{},dn=tn==null?void 0:tn.timer.stopRefreshBoundaryMs,pn=tn!=null&&tn.remindAt&&dn?(tn==null?void 0:tn.remindAt.getTime())+dn:void 0,mn=!!pn&&new Date().getTime()>pn;return React$1.createElement("p",{className:"str-chat__message-reminder"},React$1.createElement("span",null,sn("Saved for later")),(tn==null?void 0:tn.remindAt)&&un!==null&&React$1.createElement(React$1.Fragment,null,React$1.createElement("span",null," | "),React$1.createElement("span",null,mn?sn("Due since {{ dueSince }}",{dueSince:sn("timestamp/ReminderNotification",{timestamp:tn.remindAt})}):sn("Due {{ timeLeft }}",{timeLeft:sn("duration/Message reminder",{milliseconds:un})}))))};function useFetchReactions(tn){const{handleFetchReactions:sn}=useMessageContext(),[un,dn]=reactExports.useState([]),{handleFetchReactions:pn,reactionType:mn,shouldFetch:hn,sort:fn}=tn,[gn,xn]=reactExports.useState(hn),yn=pn??sn;return reactExports.useEffect(()=>{if(!hn)return;let vn=!1;return(async()=>{try{xn(!0);const En=await yn(mn,fn);vn||dn(En)}catch{vn||dn([])}finally{vn||xn(!1)}})(),()=>{vn=!0}},[yn,mn,hn,fn]),{isLoading:gn,reactions:un}}const defaultReactionDetailsSort={created_at:-1};function ReactionsListModal({handleFetchReactions:tn,onSelectedReactionTypeChange:sn,reactionDetailsSort:un,reactions:dn,selectedReactionType:pn,sortReactionDetails:mn,...hn}){const fn=dn.find(({reactionType:Rn})=>Rn===pn),gn=(fn==null?void 0:fn.EmojiComponent)??null,{reactionDetailsSort:xn,sortReactionDetails:yn}=useMessageContext(),vn=mn??yn,En=un??xn??defaultReactionDetailsSort,{isLoading:bn,reactions:wn}=useFetchReactions({handleFetchReactions:tn,reactionType:pn,shouldFetch:hn.open,sort:En}),Sn=reactExports.useMemo(()=>vn?[...wn].sort(vn):wn,[vn,wn]);return React$1.createElement(Modal,{...hn,className:clsx("str-chat__message-reactions-details-modal",hn.className)},React$1.createElement("div",{className:"str-chat__message-reactions-details","data-testid":"reactions-list-modal"},React$1.createElement("div",{className:"str-chat__message-reactions-details-reaction-types"},dn.map(({EmojiComponent:Rn,reactionCount:_n,reactionType:jn})=>Rn&&React$1.createElement("div",{className:clsx("str-chat__message-reactions-details-reaction-type",{"str-chat__message-reactions-details-reaction-type--selected":pn===jn}),"data-testid":`reaction-details-selector-${jn}`,key:jn,onClick:()=>sn==null?void 0:sn(jn)},React$1.createElement("span",{className:"str-chat__message-reaction-emoji str-chat__message-reaction-emoji--with-fallback"},React$1.createElement(Rn,null))," ",React$1.createElement("span",{className:"str-chat__message-reaction-count"},_n)))),gn&&React$1.createElement("div",{className:"str-chat__message-reaction-emoji str-chat__message-reaction-emoji--with-fallback str-chat__message-reaction-emoji-big"},React$1.createElement(gn,null)),React$1.createElement("div",{className:"str-chat__message-reactions-details-reacting-users","data-testid":"all-reacting-users"},bn?React$1.createElement(LoadingIndicator,null):Sn.map(({user:Rn})=>React$1.createElement("div",{className:"str-chat__message-reactions-details-reacting-user",key:Rn==null?void 0:Rn.id},React$1.createElement(Avatar,{className:"stream-chat__avatar--reaction","data-testid":"avatar",image:Rn==null?void 0:Rn.image,name:(Rn==null?void 0:Rn.name)||(Rn==null?void 0:Rn.id)}),React$1.createElement("span",{className:"str-chat__user-item--name","data-testid":"reaction-user-username"},(Rn==null?void 0:Rn.name)||(Rn==null?void 0:Rn.id)))))))}const defaultReactionsSort=(tn,sn)=>tn.firstReactionAt&&sn.firstReactionAt?+tn.firstReactionAt-+sn.firstReactionAt:tn.reactionType.localeCompare(sn.reactionType,"en"),useProcessReactions=tn=>{const{own_reactions:sn,reaction_groups:un,reactionOptions:dn,reactions:pn,sortReactions:mn}=tn,{message:hn,sortReactions:fn}=useMessageContext(),{reactionOptions:gn=defaultReactionOptions}=useComponentContext(),xn=dn??gn,yn=mn??fn??defaultReactionsSort,vn=pn||hn.latest_reactions,En=sn||(hn==null?void 0:hn.own_reactions),bn=un||(hn==null?void 0:hn.reaction_groups),wn=reactExports.useCallback(Tn=>(En==null?void 0:En.some($n=>$n.type===Tn))??!1,[En]),Sn=reactExports.useCallback(Tn=>{var $n;return(($n=xn.find(({type:Dn})=>Dn===Tn))==null?void 0:$n.Component)??null},[xn]),Rn=reactExports.useCallback(Tn=>xn.some($n=>$n.type===Tn),[xn]),_n=reactExports.useCallback(Tn=>(vn==null?void 0:vn.flatMap($n=>{var Dn,Nn;if(Tn&&Tn===$n.type){const kn=((Dn=$n.user)==null?void 0:Dn.name)||((Nn=$n.user)==null?void 0:Nn.id);return kn?[kn]:[]}return[]}))??[],[vn]),jn=reactExports.useMemo(()=>bn?Object.entries(bn).flatMap(([$n,{count:Dn,first_reaction_at:Nn,last_reaction_at:kn}])=>{if(Dn===0||!Rn($n))return[];const Pn=_n($n);return[{EmojiComponent:Sn($n),firstReactionAt:Nn?new Date(Nn):null,isOwnReaction:wn($n),lastReactionAt:kn?new Date(kn):null,latestReactedUserNames:Pn,reactionCount:Dn,reactionType:$n,unlistedReactedUserCount:Dn-Pn.length}]}).sort(yn):[],[Sn,_n,wn,Rn,bn,yn]),Cn=jn.length>0,An=reactExports.useMemo(()=>jn.reduce((Tn,{reactionCount:$n})=>Tn+$n,0),[jn]);return{existingReactions:jn,hasReactions:Cn,totalReactionCount:An}},UnMemoizedReactionsList=tn=>{const{handleFetchReactions:sn,reactionDetailsSort:un,reverse:dn=!1,sortReactionDetails:pn,...mn}=tn,{existingReactions:hn,hasReactions:fn,totalReactionCount:gn}=useProcessReactions(mn),[xn,yn]=reactExports.useState(null),{t:vn}=useTranslationContext("ReactionsList"),{ReactionsListModal:En=ReactionsListModal}=useComponentContext(),bn=wn=>{gn>MAX_MESSAGE_REACTIONS_TO_FETCH||yn(wn)};return fn?React$1.createElement(React$1.Fragment,null,React$1.createElement("div",{"aria-label":vn("aria/Reaction list"),className:clsx("str-chat__reaction-list str-chat__message-reactions-container",{"str-chat__reaction-list--reverse":dn}),"data-testid":"reaction-list",role:"figure"},React$1.createElement("ul",{className:"str-chat__message-reactions"},hn.map(({EmojiComponent:wn,isOwnReaction:Sn,reactionCount:Rn,reactionType:_n})=>wn&&React$1.createElement("li",{className:clsx("str-chat__message-reaction",{"str-chat__message-reaction-own":Sn}),key:_n},React$1.createElement("button",{"aria-label":`Reactions: ${_n}`,"data-testid":`reactions-list-button-${_n}`,onClick:()=>bn(_n),type:"button"},React$1.createElement("span",{className:"str-chat__message-reaction-emoji"},React$1.createElement(wn,null))," ",React$1.createElement("span",{className:"str-chat__message-reaction-count","data-testclass":"reaction-list-reaction-count"},Rn)))),React$1.createElement("li",null,React$1.createElement("span",{className:"str-chat__reaction-list--counter"},gn)))),xn!==null&&React$1.createElement(En,{handleFetchReactions:sn,onClose:()=>yn(null),onSelectedReactionTypeChange:yn,open:xn!==null,reactions:hn,selectedReactionType:xn,sortReactionDetails:pn})):null},ReactionsList=React$1.memo(UnMemoizedReactionsList);function MessageEditedTimestamp({message:tn,open:sn,...un}){const{t:dn}=useTranslationContext("MessageEditedTimestamp"),{message:pn}=useMessageContext(),{Timestamp:mn=Timestamp}=useComponentContext(),hn=tn||pn;return isMessageEdited(hn)?React$1.createElement("div",{className:clsx("str-chat__message-edited-timestamp",sn?"str-chat__message-edited-timestamp--open":"str-chat__message-edited-timestamp--collapsed"),"data-testid":"message-edited-timestamp"},dn("Edited")," ",React$1.createElement(mn,{timestamp:hn.message_text_updated_at,...un})):null}const MessageSimpleWithContext=tn=>{var Lr,Or,Zn;const{additionalMessageInputProps:sn,editing:un,endOfGroup:dn,firstOfGroup:pn,groupedByUser:mn,handleAction:hn,handleOpenThread:fn,handleRetry:gn,highlighted:xn,isMessageAIGenerated:yn,isMyMessage:vn,message:En,onUserClick:bn,onUserHover:wn,renderText:Sn,threadList:Rn}=tn,{client:_n}=useChatContext("MessageSimple"),{t:jn}=useTranslationContext("MessageSimple"),[Cn,An]=reactExports.useState(!1),[Tn,$n]=reactExports.useState(!1),Dn=useMessageReminder(En.id),{Attachment:Nn=Attachment,Avatar:kn=Avatar,MessageOptions:Pn=MessageOptions,MessageActions:Mn=Pn,MessageBlocked:On=MessageBlocked,MessageBouncePrompt:Wn=MessageBouncePrompt,MessageDeleted:In=MessageDeleted,MessageIsThreadReplyInChannelButtonIndicator:Un=MessageIsThreadReplyInChannelButtonIndicator,MessageRepliesCountButton:Vn=MessageRepliesCountButton,MessageStatus:Hn=MessageStatus,MessageTimestamp:Ln=MessageTimestamp,ReactionsList:zn=ReactionsList,ReminderNotification:Bn=ReminderNotification,StreamedMessageText:Fn=StreamedMessageText,PinIndicator:Gn}=useComponentContext(),qn=messageHasAttachments(En),Jn=messageHasReactions(En),dr=reactExports.useMemo(()=>yn==null?void 0:yn(En),[yn,En]);if(isDateSeparatorMessage(En))return null;if(En.deleted_at||En.type==="deleted")return React$1.createElement(In,{message:En});if(isMessageBlocked(En))return React$1.createElement(On,null);const br=!mn||dn,Er=!Rn&&!!En.reply_count,yr=!Rn&&En.show_in_channel&&En.parent_id,xr=En.status==="failed"&&((Lr=En.error)==null?void 0:Lr.status)!==403,vr=isMessageBounced(En),nr=isMessageEdited(En)&&!dr;let sr;xr?sr=()=>gn(En):vr?sr=()=>An(!0):nr&&(sr=()=>$n(Cr=>!Cr));const Rr=clsx("str-chat__message str-chat__message-simple",`str-chat__message--${En.type}`,`str-chat__message--${En.status}`,vn()?"str-chat__message--me str-chat__message-simple--me":"str-chat__message--other",En.text?"str-chat__message--has-text":"has-no-text",{"str-chat__message--has-attachment":qn,"str-chat__message--highlighted":xn,"str-chat__message--pinned pinned-message":En.pinned,"str-chat__message--with-reactions":Jn,"str-chat__message-send-can-be-retried":(En==null?void 0:En.status)==="failed"&&((Or=En==null?void 0:En.error)==null?void 0:Or.status)!==403,"str-chat__message-with-thread-link":Er||yr,"str-chat__virtual-message__wrapper--end":dn,"str-chat__virtual-message__wrapper--first":pn,"str-chat__virtual-message__wrapper--group":mn}),Ar=En.poll_id&&_n.polls.fromState(En.poll_id);return React$1.createElement(React$1.Fragment,null,un&&React$1.createElement(EditMessageModal,{additionalMessageInputProps:sn}),Cn&&React$1.createElement(MessageBounceModal,{MessageBouncePrompt:Wn,onClose:()=>An(!1),open:Cn}),React$1.createElement("div",{className:Rr,key:En.id},Gn&&React$1.createElement(Gn,null),!!Dn&&React$1.createElement(Bn,{reminder:Dn}),En.user&&React$1.createElement(kn,{image:En.user.image,name:En.user.name||En.user.id,onClick:bn,onMouseOver:wn,user:En.user}),React$1.createElement("div",{className:clsx("str-chat__message-inner",{"str-chat__simple-message--error-failed":xr||vr}),"data-testid":"message-inner",onClick:sr,onKeyUp:sr},React$1.createElement(Mn,null),React$1.createElement("div",{className:"str-chat__message-reactions-host"},Jn&&React$1.createElement(zn,{reverse:!0})),React$1.createElement("div",{className:"str-chat__message-bubble"},Ar&&React$1.createElement(Poll$c,{poll:Ar}),(Zn=En.attachments)!=null&&Zn.length&&!En.quoted_message?React$1.createElement(Nn,{actionHandler:hn,attachments:En.attachments}):null,dr?React$1.createElement(Fn,{message:En,renderText:Sn}):React$1.createElement(MessageText,{message:En,renderText:Sn}),React$1.createElement(MessageErrorIcon,null))),Er&&React$1.createElement(Vn,{onClick:fn,reply_count:En.reply_count}),yr&&React$1.createElement(Un,null),br&&React$1.createElement("div",{className:"str-chat__message-metadata"},React$1.createElement(Hn,null),!vn()&&!!En.user&&React$1.createElement("span",{className:"str-chat__message-simple-name"},En.user.name||En.user.id),React$1.createElement(Ln,{customClass:"str-chat__message-simple-timestamp"}),nr&&React$1.createElement("span",{className:"str-chat__mesage-simple-edited"},jn("Edited")),nr&&React$1.createElement(MessageEditedTimestamp,{calendar:!0,open:Tn}))))},MemoizedMessageSimple=React$1.memo(MessageSimpleWithContext,areMessageUIPropsEqual),MessageSimple=tn=>{const sn=useMessageContext();return React$1.createElement(MemoizedMessageSimple,{...sn,...tn})},MessageWithContext=tn=>{const{canPin:sn,groupedByUser:un,Message:dn,message:pn,messageActions:mn=Object.keys(MESSAGE_ACTIONS),onUserClick:hn,onUserHover:fn,userRoles:gn}=tn,{client:xn,isMessageAIGenerated:yn}=useChatContext("Message"),{channelConfig:vn,read:En}=useChannelStateContext("Message"),{Message:bn}=useComponentContext(),wn=pn.type==="regular"&&pn.status==="received",Sn=dn??bn??MessageSimple,{clearEdit:Rn,editing:_n,setEdit:jn}=useEditHandler(),{onUserClick:Cn,onUserHover:An}=useUserHandler(pn,{onUserClickHandler:hn,onUserHoverHandler:fn}),{canDelete:Tn,canEdit:$n,canFlag:Dn,canMarkUnread:Nn,canMute:kn,canQuote:Pn,canReact:Mn,canReply:On,isMyMessage:Wn}=gn,In=reactExports.useMemo(()=>{var Jn;return!!(!Wn&&((Jn=xn.user)!=null&&Jn.id)&&En&&(!En[xn.user.id]||pn!=null&&pn.created_at&&new Date(pn.created_at).getTime()>En[xn.user.id].last_read.getTime()))},[xn,Wn,pn.created_at,En]),Un=reactExports.useCallback(()=>getMessageActions(mn,{canDelete:Tn,canEdit:$n,canFlag:Dn,canMarkUnread:Nn,canMute:kn,canPin:sn,canQuote:Pn,canReact:Mn,canReply:On},vn),[mn,Tn,$n,Dn,Nn,kn,sn,Pn,Mn,On,vn]),{canPin:Vn,messageActions:Hn,onlySenderCanEdit:Ln,onUserClick:zn,onUserHover:Bn,userRoles:Fn,...Gn}=tn,qn={...Gn,actionsEnabled:wn,clearEditingState:Rn,editing:_n,getMessageActions:Un,handleEdit:jn,isMessageAIGenerated:yn,isMyMessage:()=>Wn,messageIsUnread:In,onUserClick:Cn,onUserHover:An,setEditingState:jn};return React$1.createElement(MessageProvider,{value:qn},React$1.createElement(Sn,{groupedByUser:un}))},MemoizedMessage=React$1.memo(MessageWithContext,areMessagePropsEqual),Message=tn=>{const{closeReactionSelectorOnClick:sn,disableQuotedMessages:un,getDeleteMessageErrorNotification:dn,getFetchReactionsErrorNotification:pn,getFlagMessageErrorNotification:mn,getFlagMessageSuccessNotification:hn,getMarkMessageUnreadErrorNotification:fn,getMarkMessageUnreadSuccessNotification:gn,getMuteUserErrorNotification:xn,getMuteUserSuccessNotification:yn,getPinMessageErrorNotification:vn,message:En,onlySenderCanEdit:bn=!1,onMentionsClick:wn,onMentionsHover:Sn,openThread:Rn,pinPermissions:_n,reactionDetailsSort:jn,retrySendMessage:Cn,sortReactionDetails:An,sortReactions:Tn}=tn,{addNotification:$n}=useChannelActionContext("Message"),{highlightedMessageId:Dn,mutes:Nn}=useChannelStateContext("Message"),kn=useActionHandler(En),Pn=useOpenThreadHandler(En,Rn),Mn=useReactionHandler(En),On=useRetryHandler(Cn),Wn=useUserRole(En,bn,un),In=useReactionsFetcher(En,{getErrorNotification:pn,notify:$n}),Un=useDeleteHandler(En,{getErrorNotification:dn,notify:$n}),Vn=useFlagHandler(En,{getErrorNotification:mn,getSuccessNotification:hn,notify:$n}),Hn=useMarkUnreadHandler(En,{getErrorNotification:fn,getSuccessNotification:gn,notify:$n}),Ln=useMuteHandler(En,{getErrorNotification:xn,getSuccessNotification:yn,notify:$n}),{onMentionsClick:zn,onMentionsHover:Bn}=useMentionsHandler(En,{onMentionsClick:wn,onMentionsHover:Sn}),{canPin:Fn,handlePin:Gn}=usePinHandler(En,_n,{getErrorNotification:vn,notify:$n}),qn=Dn===En.id;return React$1.createElement(MemoizedMessage,{additionalMessageInputProps:tn.additionalMessageInputProps,autoscrollToBottom:tn.autoscrollToBottom,canPin:Fn,closeReactionSelectorOnClick:sn,customMessageActions:tn.customMessageActions,disableQuotedMessages:tn.disableQuotedMessages,endOfGroup:tn.endOfGroup,firstOfGroup:tn.firstOfGroup,formatDate:tn.formatDate,groupedByUser:tn.groupedByUser,groupStyles:tn.groupStyles,handleAction:kn,handleDelete:Un,handleFetchReactions:In,handleFlag:Vn,handleMarkUnread:Hn,handleMute:Ln,handleOpenThread:Pn,handlePin:Gn,handleReaction:Mn,handleRetry:On,highlighted:qn,initialMessage:tn.initialMessage,lastReceivedId:tn.lastReceivedId,message:En,Message:tn.Message,messageActions:tn.messageActions,messageListRect:tn.messageListRect,mutes:Nn,onMentionsClickMessage:zn,onMentionsHoverMessage:Bn,onUserClick:tn.onUserClick,onUserHover:tn.onUserHover,pinPermissions:tn.pinPermissions,reactionDetailsSort:jn,readBy:tn.readBy,renderText:tn.renderText,sortReactionDetails:An,sortReactions:Tn,threadList:tn.threadList,unsafeHTML:tn.unsafeHTML,userRoles:Wn})},CloseIcon=({title:tn})=>{const{t:sn}=useTranslationContext("CloseIcon");return React$1.createElement("svg",{"data-testid":"close-no-outline",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("title",null,tn??sn("Close")),React$1.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"black"}))},ThreadHeader=tn=>{const{closeThread:sn,overrideImage:un,overrideTitle:dn}=tn,{t:pn}=useTranslationContext("ThreadHeader"),{channel:mn}=useChannelStateContext(""),{displayTitle:hn}=useChannelPreviewInfo({channel:mn,overrideImage:un,overrideTitle:dn});return React$1.createElement("div",{className:"str-chat__thread-header"},React$1.createElement("div",{className:"str-chat__thread-header-details"},React$1.createElement("div",{className:"str-chat__thread-header-title"},pn("Thread")),React$1.createElement("div",{className:"str-chat__thread-header-subtitle"},hn)),React$1.createElement("button",{"aria-label":pn("aria/Close thread"),className:"str-chat__close-thread-button","data-testid":"close-button",onClick:sn},React$1.createElement(CloseIcon,null)))},ThreadStart=()=>{const{thread:tn}=useChannelStateContext("ThreadStart"),{t:sn}=useTranslationContext("ThreadStart");return tn!=null&&tn.reply_count?React$1.createElement("div",{className:"str-chat__thread-start"},sn("replyCount",{count:tn.reply_count})):null},ThreadHead=tn=>{const{ThreadStart:sn=ThreadStart}=useComponentContext();return React$1.createElement("div",{className:"str-chat__parent-message-li"},React$1.createElement(Message,{initialMessage:!0,threadList:!0,...tn}),React$1.createElement(sn,null))},Thread=tn=>{var mn;const{channel:sn,channelConfig:un,thread:dn}=useChannelStateContext("Thread"),pn=useThreadContext();return!dn&&!pn||(un==null?void 0:un.replies)===!1?null:React$1.createElement(ThreadInner,{...tn,key:`thread-${(mn=dn??pn)==null?void 0:mn.id}-${sn==null?void 0:sn.cid}`})},selector=tn=>({isLoadingNext:tn.pagination.isLoadingNext,isLoadingPrev:tn.pagination.isLoadingPrev,parentMessage:tn.parentMessage,replies:tn.replies}),ThreadInner=tn=>{const{additionalMessageInputProps:sn,additionalMessageListProps:un,additionalParentMessageProps:dn,additionalVirtualizedMessageListProps:pn,autoFocus:mn=!0,enableDateSeparator:hn=!1,Input:fn,Message:gn,messageActions:xn=Object.keys(MESSAGE_ACTIONS),virtualized:yn}=tn,vn=useThreadContext(),{thread:En,threadHasMore:bn,threadLoadingMore:wn,threadMessages:Sn=[],threadSuppressAutoscroll:Rn}=useChannelStateContext("Thread"),{closeThread:_n,loadMoreThread:jn}=useChannelActionContext("Thread"),{customClasses:Cn}=useChatContext("Thread"),{Message:An,ThreadHead:Tn=ThreadHead,ThreadHeader:$n=ThreadHeader,ThreadInput:Dn,VirtualMessage:Nn}=useComponentContext(),{isLoadingNext:kn,isLoadingPrev:Pn,parentMessage:Mn,replies:On}=useStateStore(vn==null?void 0:vn.state,selector)??{},Wn=fn??(sn==null?void 0:sn.Input)??Dn??MessageInputFlat,Vn=gn||(un==null?void 0:un.Message)||(yn&&Nn?Nn:An),Hn=yn?VirtualizedMessageList:MessageList;reactExports.useEffect(()=>{vn||((En==null?void 0:En.reply_count)??0)>0&&jn()},[En,jn,vn]);const Ln=vn?{loadingMore:Pn,loadingMoreNewer:kn,loadMore:vn.loadPrevPage,loadMoreNewer:vn.loadNextPage,messages:On}:{hasMore:bn,loadingMore:wn,loadMore:jn,messages:Sn},zn=En??Mn;if(!zn)return null;const Bn=(Cn==null?void 0:Cn.thread)||clsx("str-chat__thread-container str-chat__thread",{"str-chat__thread--virtualized":yn}),Fn=React$1.createElement(Tn,{key:zn.id,message:zn,Message:Vn,...dn});return React$1.createElement(LegacyThreadContext.Provider,{value:{legacyThread:En??void 0}},React$1.createElement("div",{className:Bn},React$1.createElement($n,{closeThread:_n,thread:zn}),React$1.createElement(Hn,{disableDateSeparator:!hn,head:Fn,Message:Vn,messageActions:xn,suppressAutoscroll:Rn,threadList:!0,...Ln,...yn?pn:un}),React$1.createElement(MessageInput,{focus:mn,Input:Wn,isThreadInput:!0,parent:En??Mn,...sn})))},queueCache=new FixedSizeQueueCache(64),useMessageComposer=()=>{const{client:tn}=useChatContext(),{channel:sn}=useChannelStateContext(),{editing:un,message:dn}=useMessageContext(),{legacyThread:pn}=useLegacyThreadContext(),mn=useThreadContext(),hn=reactExports.useMemo(()=>{if(dn)return dn},[dn==null?void 0:dn.id]),fn=reactExports.useMemo(()=>{if(pn)return pn},[pn==null?void 0:pn.id]),gn=reactExports.useMemo(()=>{if(un&&hn){const xn=MessageComposer.constructTag(hn),yn=queueCache.get(xn);return yn||new MessageComposer({client:tn,composition:hn,compositionContext:hn})}else{if(mn)return mn.messageComposer;if(fn){const xn={...fn,legacyThreadId:fn.id},yn=MessageComposer.constructTag(xn),vn=queueCache.get(yn);return vn||new MessageComposer({client:tn,compositionContext:xn})}else return sn.messageComposer}},[hn,fn,sn,tn,un,mn]);return["legacy_thread","message"].includes(gn.contextType)&&!queueCache.peek(gn.tag)&&queueCache.add(gn.tag,gn),reactExports.useEffect(()=>{const xn=gn.registerSubscriptions();return()=>{xn()}},[gn]),gn},stateSelector$1=tn=>({attachments:tn.attachments}),useAttachmentManagerState=()=>{const{attachmentManager:tn}=useMessageComposer(),{attachments:sn}=useStateStore(tn.state,stateSelector$1);return{attachments:sn,availableUploadSlots:tn.availableUploadSlots,blockedUploadsCount:tn.blockedUploadsCount,failedUploadsCount:tn.failedUploadsCount,isUploadEnabled:tn.isUploadEnabled,pendingUploadsCount:tn.pendingUploadsCount,successfulUploadsCount:tn.successfulUploadsCount,uploadsInProgressCount:tn.uploadsInProgressCount}},CHANNEL_CONTAINER_ID="str-chat__channel",DialogMenuButton=({children:tn,className:sn,...un})=>React$1.createElement("button",{className:clsx("str-chat__dialog-menu__button",sn),...un},React$1.createElement("div",{className:"str-chat__dialog-menu__button-icon"}),React$1.createElement("div",{className:"str-chat__dialog-menu__button-text"},tn)),AttachmentSelectorContext=reactExports.createContext({fileInput:null}),AttachmentSelectorContextProvider=({children:tn,value:sn})=>React$1.createElement(AttachmentSelectorContext.Provider,{value:sn},tn),useAttachmentSelectorContext=()=>reactExports.useContext(AttachmentSelectorContext),SimpleAttachmentSelector=()=>{const{AttachmentSelectorInitiationButtonContents:tn,FileUploadIcon:sn=UploadIcon}=useComponentContext(),un=reactExports.useRef(null),[dn,pn]=reactExports.useState(null),mn=useStableId();return reactExports.useEffect(()=>{if(!dn)return;const hn=fn=>{![" ","Enter"].includes(fn.key)||!un.current||(fn.preventDefault(),un.current.click())};return dn.addEventListener("keyup",hn),()=>{dn.removeEventListener("keyup",hn)}},[dn]),React$1.createElement("div",{className:"str-chat__file-input-container","data-testid":"file-upload-button"},React$1.createElement(UploadFileInput,{id:mn,ref:un}),React$1.createElement("label",{className:"str-chat__file-input-label",htmlFor:mn,ref:pn,tabIndex:0},tn?React$1.createElement(tn,null):React$1.createElement(sn,null)))},AttachmentSelectorMenuInitButtonIcon=()=>{const{AttachmentSelectorInitiationButtonContents:tn,FileUploadIcon:sn}=useComponentContext();return tn?React$1.createElement(tn,null):sn?React$1.createElement(sn,null):React$1.createElement("div",{className:"str-chat__attachment-selector__menu-button__icon"})},DefaultAttachmentSelectorComponents={File({closeMenu:tn}){const{t:sn}=useTranslationContext(),{fileInput:un}=useAttachmentSelectorContext(),{isUploadEnabled:dn}=useAttachmentManagerState();return React$1.createElement(DialogMenuButton,{className:"str-chat__attachment-selector-actions-menu__button str-chat__attachment-selector-actions-menu__upload-file-button",disabled:!dn,onClick:()=>{un&&un.click(),tn()}},sn("File"))},Poll({closeMenu:tn,openModalForAction:sn}){const{t:un}=useTranslationContext();return React$1.createElement(DialogMenuButton,{className:"str-chat__attachment-selector-actions-menu__button str-chat__attachment-selector-actions-menu__create-poll-button",onClick:()=>{sn("createPoll"),tn()}},un("Poll"))}},defaultAttachmentSelectorActionSet=[{ActionButton:DefaultAttachmentSelectorComponents.File,type:"uploadFile"},{ActionButton:DefaultAttachmentSelectorComponents.Poll,type:"createPoll"}],useAttachmentSelectorActionsFiltered=tn=>{const{PollCreationDialog:sn=PollCreationDialog}=useComponentContext(),{channelCapabilities:un,channelConfig:dn}=useChannelStateContext(),{isThreadInput:pn}=useMessageInputContext();return tn.filter(mn=>!(mn.type==="uploadFile"&&!un["upload-file"]||mn.type==="createPoll"&&(!(dn!=null&&dn.polls)||pn||!un["send-poll"]))).map(mn=>mn.type==="createPoll"&&!mn.ModalContent?{...mn,ModalContent:sn}:mn)},AttachmentSelector=({attachmentSelectorActionSet:tn=defaultAttachmentSelectorActionSet,getModalPortalDestination:sn})=>{const{t:un}=useTranslationContext(),{channelCapabilities:dn}=useChannelStateContext(),{isThreadInput:pn}=useMessageInputContext(),mn=useAttachmentSelectorActionsFiltered(tn),hn=`attachment-actions-menu${pn?"-thread":""}`,fn=useDialog({id:hn}),gn=useDialogIsOpen(hn),[xn,yn]=reactExports.useState(),vn=reactExports.useCallback(Cn=>{const An=mn.find(Tn=>Tn.type===Cn);An!=null&&An.ModalContent&&yn(An)},[mn]),En=reactExports.useCallback(()=>yn(void 0),[]),[bn,wn]=reactExports.useState(null),Sn=reactExports.useRef(null),Rn=reactExports.useCallback(()=>document.getElementById(CHANNEL_CONTAINER_ID),[]);if(mn.length===0)return null;if(mn.length===1&&mn[0].type==="uploadFile")return React$1.createElement(SimpleAttachmentSelector,null);const _n=xn==null?void 0:xn.ModalContent,jn=!!_n;return React$1.createElement(AttachmentSelectorContextProvider,{value:{fileInput:bn}},React$1.createElement("div",{className:"str-chat__attachment-selector"},dn["upload-file"]&&React$1.createElement(UploadFileInput,{ref:wn}),React$1.createElement("button",{"aria-expanded":gn,"aria-haspopup":"true","aria-label":un("aria/Open Attachment Selector"),className:"str-chat__attachment-selector__menu-button","data-testid":"invoke-attachment-selector-button",onClick:()=>fn==null?void 0:fn.toggle(),ref:Sn},React$1.createElement(AttachmentSelectorMenuInitButtonIcon,null)),React$1.createElement(DialogAnchor,{id:hn,placement:"top-start",referenceElement:Sn.current,tabIndex:-1,trapFocus:!0},React$1.createElement("div",{className:"str-chat__attachment-selector-actions-menu str-chat__dialog-menu","data-testid":"attachment-selector-actions-menu"},mn.map(({ActionButton:Cn,type:An})=>React$1.createElement(Cn,{closeMenu:fn.close,key:`attachment-selector-item-${An}`,openModalForAction:vn})))),React$1.createElement(Portal,{getPortalDestination:sn??Rn,isOpen:jn},React$1.createElement(Modal,{className:"str-chat__create-poll-modal",onClose:En,open:jn},_n&&React$1.createElement(_n,{close:En})))))},UnsupportedAttachmentPreview=({attachment:tn,handleRetry:sn,removeAttachments:un})=>{var mn,hn,fn,gn;const{t:dn}=useTranslationContext("UnsupportedAttachmentPreview"),pn=tn.title??dn("Unsupported attachment");return React$1.createElement("div",{className:"str-chat__attachment-preview-unsupported","data-testid":"attachment-preview-unknown"},React$1.createElement("div",{className:"str-chat__attachment-preview-file-icon"},React$1.createElement(FileIcon,{filename:pn,mimeType:tn.mime_type})),React$1.createElement("button",{"aria-label":dn("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((mn=tn.localMetadata)==null?void 0:mn.uploadState)==="uploading",onClick:()=>{var xn,yn;return((xn=tn.localMetadata)==null?void 0:xn.id)&&un([(yn=tn.localMetadata)==null?void 0:yn.id])}},React$1.createElement(CloseIcon$2,null)),isLocalUploadAttachment(tn)&&["blocked","failed"].includes((hn=tn.localMetadata)==null?void 0:hn.uploadState)&&!!sn&&React$1.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:()=>sn(tn)},React$1.createElement(RetryIcon,null)),React$1.createElement("div",{className:"str-chat__attachment-preview-metadata"},React$1.createElement("div",{className:"str-chat__attachment-preview-title",title:pn},pn),((fn=tn.localMetadata)==null?void 0:fn.uploadState)==="finished"&&!!tn.asset_url&&React$1.createElement("a",{className:"str-chat__attachment-preview-file-download",download:!0,href:tn.asset_url,rel:"noreferrer",target:"_blank"},React$1.createElement(DownloadIcon,null)),((gn=tn.localMetadata)==null?void 0:gn.uploadState)==="uploading"&&React$1.createElement(LoadingIndicatorIcon,{size:17})))},RecordingPermissionDeniedNotification=({onClose:tn,permissionName:sn})=>{const{t:un}=useTranslationContext(),dn={body:{camera:un("To start recording, allow the camera access in your browser"),microphone:un("To start recording, allow the microphone access in your browser")},heading:{camera:un("Allow access to camera"),microphone:un("Allow access to microphone")}};return React$1.createElement("div",{className:"str-chat__recording-permission-denied-notification"},React$1.createElement("div",{className:"str-chat__recording-permission-denied-notification__heading"},dn.heading[sn]),React$1.createElement("p",{className:"str-chat__recording-permission-denied-notification__message"},dn.body[sn]),React$1.createElement("div",{className:"str-chat__recording-permission-denied-notification__dismiss-button-container"},React$1.createElement("button",{className:"str-chat__recording-permission-denied-notification__dismiss-button",onClick:tn},un("Ok"))))},RecordingTimer=({durationSeconds:tn})=>React$1.createElement("div",{className:clsx("str-chat__recording-timer",{"str-chat__recording-timer--hours":tn>=3600})},displayDuration(tn)),AudioRecordingPreview=({durationSeconds:tn,mimeType:sn,waveformData:un,...dn})=>{const{audioRef:pn,isPlaying:mn,progress:hn,secondsElapsed:fn,seek:gn,togglePlay:xn}=useAudioController({durationSeconds:tn,mimeType:sn}),yn=fn||tn;return React$1.createElement(React$1.Fragment,null,React$1.createElement("audio",{ref:pn},React$1.createElement("source",{src:dn.src,type:sn})),React$1.createElement("button",{className:"str-chat__audio_recorder__toggle-playback-button","data-testid":"audio-recording-preview-toggle-play-btn",onClick:xn},mn?React$1.createElement(PauseIcon,null):React$1.createElement(PlayIcon,null)),React$1.createElement(RecordingTimer,{durationSeconds:yn}),React$1.createElement("div",{className:"str-chat__wave-progress-bar__track-container"},React$1.createElement(WaveProgressBar,{progress:hn,seek:gn,waveformData:un||[]})))},useTimeElapsed=({startOnMount:tn}={})=>{const[sn,un]=reactExports.useState(0),dn=reactExports.useRef(void 0),pn=reactExports.useCallback(()=>{dn.current||(dn.current=setInterval(()=>{un(hn=>hn+1)},1e3))},[]),mn=reactExports.useCallback(()=>{clearInterval(dn.current),dn.current=void 0},[]);return reactExports.useEffect(()=>{if(tn)return pn(),()=>{mn()}},[pn,tn,mn]),{secondsElapsed:sn,startCounter:pn,stopCounter:mn}},AudioRecordingWaveform=({maxDataPointsDrawn:tn=100})=>{const{recordingController:{recorder:sn}}=useMessageInputContext(),[un,dn]=reactExports.useState([]);return reactExports.useEffect(()=>{if(!(sn!=null&&sn.amplitudeRecorder))return;const pn=sn.amplitudeRecorder.amplitudes.subscribe(dn);return()=>{pn.unsubscribe()}},[sn]),sn?React$1.createElement("div",{className:"str-chat__waveform-box-container"},React$1.createElement("div",{className:"str-chat__audio_recorder__waveform-box"},un.slice(-tn).map((pn,mn)=>React$1.createElement("div",{className:"str-chat__wave-progress-bar__amplitude-bar",key:`amplitude-${mn}-voice-recording`,style:{"--str-chat__wave-progress-bar__amplitude-bar-height":pn?pn*100+"%":"0%"}})))):null},AudioRecordingInProgress=()=>{const{secondsElapsed:tn,startCounter:sn,stopCounter:un}=useTimeElapsed(),{recordingController:{recorder:dn}}=useMessageInputContext();return reactExports.useEffect(()=>{if(!(dn!=null&&dn.mediaRecorder))return;const{mediaRecorder:pn}=dn;return pn.state==="recording"&&sn(),pn.addEventListener("start",sn),pn.addEventListener("resume",sn),pn.addEventListener("stop",un),pn.addEventListener("pause",un),()=>{pn.removeEventListener("start",sn),pn.removeEventListener("resume",sn),pn.removeEventListener("stop",un),pn.removeEventListener("pause",un)}},[dn,sn,un]),React$1.createElement(React$1.Fragment,null,React$1.createElement(RecordingTimer,{durationSeconds:tn}),React$1.createElement(AudioRecordingWaveform,null))};class Subscription{constructor(sn){this.closed=!1,this._unsubscribe=sn}unsubscribe(){var sn;this.closed=!0,(sn=this._unsubscribe)==null||sn.call(this)}}function createObserver(tn){return typeof tn=="function"?{next:tn}:tn}class Observable{constructor(sn){this._closed=!1,sn&&(this._producer=sn)}get closed(){return this._closed}subscribe(sn){var dn;const un=createObserver(sn);return this.closed||(dn=this._producer)==null||dn.call(this,un),new Subscription(()=>{this._closed=!0})}}class Subject extends Observable{constructor(){super(),this._observers=new Map,this._observerCounter=0}get observers(){return Array.from(this._observers.values())}next(sn){if(this.closed)return;const un=this.observers;for(let dn=0;dn<un.length;dn++)un[dn].next(sn)}error(sn){var dn,pn;if(this.closed)return;this.thrownError=sn;const{observers:un}=this;for(let mn=0;mn<un.length;mn++)(pn=(dn=un[mn]).error)==null||pn.call(dn,sn);this._observers.clear()}complete(){var un,dn;if(this.closed)return;this._closed=!0;const{observers:sn}=this;for(let pn=0;pn<sn.length;pn++)(dn=(un=sn[pn]).complete)==null||dn.call(un);this._observers.clear()}subscribe(sn){const un=createObserver(sn);if(this.thrownError||this.closed){const pn=new Subscription;return pn.closed=!0,pn}const dn=this._observerCounter++;return this._observers.set(dn,un),new Subscription(()=>{this._observers.delete(dn)})}unsubscribe(){this._closed=!0,this._observers.clear()}}class BehaviorSubject extends Subject{constructor(sn){super(),this._value=sn}get value(){const{_value:sn,thrownError:un}=this;if(un)throw un;return sn}subscribe(sn){const un=createObserver(sn),dn=super.subscribe(sn);return dn.closed||un.next(this._value),dn}next(sn){super.next(this._value=sn)}}var RecordingPermission;(function(tn){tn.CAM="camera",tn.MIC="microphone"})(RecordingPermission||(RecordingPermission={}));const MEDIA_TO_PERMISSION={audio:RecordingPermission.MIC,video:RecordingPermission.CAM};class BrowserPermission{constructor({mediaType:sn}){this.state=new BehaviorSubject(void 0),this.status=new BehaviorSubject(void 0),this.error=new Subject,this.changeSubscriptions=[],this.name=MEDIA_TO_PERMISSION[sn]}get isWatching(){return this.changeSubscriptions.some(sn=>!sn.closed)}async watch(){if(!this.status.value&&(await this.check(),!this.status.value))return;const sn=this.status.value,un=dn=>{const{state:pn}=dn.target;this.state.next(pn)};sn.addEventListener("change",un),this.changeSubscriptions.push(new Subscription(()=>{sn.removeEventListener("change",un)}))}unwatch(){this.changeSubscriptions.forEach(sn=>sn.unsubscribe())}async check(){if(!this.name){this.error.next(new Error("Unknown media recording permission"));return}let sn;try{const un=await navigator.permissions.query({name:this.name});sn=un.state,this.status.next(un)}catch{sn="granted"}this.state.next(sn)}}var fixWebmDuration$1={exports:{}};(function(tn){(function(sn,un){tn.exports?tn.exports=un():window.ysFixWebmDuration=un()})("fix-webm-duration",function(){var sn={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function un(yn,vn){yn.prototype=Object.create(vn.prototype),yn.prototype.constructor=yn}function dn(yn,vn){this.name=yn||"Unknown",this.type=vn||"Unknown"}dn.prototype.updateBySource=function(){},dn.prototype.setSource=function(yn){this.source=yn,this.updateBySource()},dn.prototype.updateByData=function(){},dn.prototype.setData=function(yn){this.data=yn,this.updateByData()};function pn(yn,vn){dn.call(this,yn,vn||"Uint")}un(pn,dn);function mn(yn){return yn.length%2===1?"0"+yn:yn}pn.prototype.updateBySource=function(){this.data="";for(var yn=0;yn<this.source.length;yn++){var vn=this.source[yn].toString(16);this.data+=mn(vn)}},pn.prototype.updateByData=function(){var yn=this.data.length/2;this.source=new Uint8Array(yn);for(var vn=0;vn<yn;vn++){var En=this.data.substr(vn*2,2);this.source[vn]=parseInt(En,16)}},pn.prototype.getValue=function(){return parseInt(this.data,16)},pn.prototype.setValue=function(yn){this.setData(mn(yn.toString(16)))};function hn(yn,vn){dn.call(this,yn,vn||"Float")}un(hn,dn),hn.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},hn.prototype.updateBySource=function(){var yn=this.source.reverse(),vn=this.getFloatArrayType(),En=new vn(yn.buffer);this.data=En[0]},hn.prototype.updateByData=function(){var yn=this.getFloatArrayType(),vn=new yn([this.data]),En=new Uint8Array(vn.buffer);this.source=En.reverse()},hn.prototype.getValue=function(){return this.data},hn.prototype.setValue=function(yn){this.setData(yn)};function fn(yn,vn){dn.call(this,yn,vn||"Container")}un(fn,dn),fn.prototype.readByte=function(){return this.source[this.offset++]},fn.prototype.readUint=function(){for(var yn=this.readByte(),vn=8-yn.toString(2).length,En=yn-(1<<7-vn),bn=0;bn<vn;bn++)En*=256,En+=this.readByte();return En},fn.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=En){var yn=this.readUint(),vn=this.readUint(),En=Math.min(this.offset+vn,this.source.length),bn=this.source.slice(this.offset,En),wn=sn[yn]||{name:"Unknown",type:"Unknown"},Sn=dn;switch(wn.type){case"Container":Sn=fn;break;case"Uint":Sn=pn;break;case"Float":Sn=hn;break}var Rn=new Sn(wn.name,wn.type);Rn.setSource(bn),this.data.push({id:yn,idHex:yn.toString(16),data:Rn})}},fn.prototype.writeUint=function(yn,vn){for(var En=1,bn=128;yn>=bn&&En<8;En++,bn*=128);if(!vn)for(var wn=bn+yn,Sn=En-1;Sn>=0;Sn--){var Rn=wn%256;this.source[this.offset+Sn]=Rn,wn=(wn-Rn)/256}this.offset+=En},fn.prototype.writeSections=function(yn){this.offset=0;for(var vn=0;vn<this.data.length;vn++){var En=this.data[vn],bn=En.data.source,wn=bn.length;this.writeUint(En.id,yn),this.writeUint(wn,yn),yn||this.source.set(bn,this.offset),this.offset+=wn}return this.offset},fn.prototype.updateByData=function(){var yn=this.writeSections("draft");this.source=new Uint8Array(yn),this.writeSections()},fn.prototype.getSectionById=function(yn){for(var vn=0;vn<this.data.length;vn++){var En=this.data[vn];if(En.id===yn)return En.data}return null};function gn(yn){fn.call(this,"File","File"),this.setSource(yn)}un(gn,fn),gn.prototype.fixDuration=function(yn,vn){var En=vn&&vn.logger;En===void 0?En=function(_n){console.log(_n)}:En||(En=function(){});var bn=this.getSectionById(139690087);if(!bn)return En("[fix-webm-duration] Segment section is missing"),!1;var wn=bn.getSectionById(88713574);if(!wn)return En("[fix-webm-duration] Info section is missing"),!1;var Sn=wn.getSectionById(710577);if(!Sn)return En("[fix-webm-duration] TimecodeScale section is missing"),!1;var Rn=wn.getSectionById(1161);if(Rn)if(Rn.getValue()<=0)En(`[fix-webm-duration] Duration section is present, but the value is ${Rn.getValue()}`),Rn.setValue(yn);else return En(`[fix-webm-duration] Duration section is present, and the value is ${Rn.getValue()}`),!1;else En("[fix-webm-duration] Duration section is missing"),Rn=new hn("Duration","Float"),Rn.setValue(yn),wn.data.push({id:1161,data:Rn});return Sn.setValue(1e6),wn.updateByData(),bn.updateByData(),this.updateByData(),!0},gn.prototype.toBlob=function(yn){return new Blob([this.source.buffer],{type:yn||"video/webm"})};function xn(yn,vn,En,bn){if(typeof En=="object"&&(bn=En,En=void 0),!En)return new Promise(function(Sn){xn(yn,vn,Sn,bn)});try{var wn=new FileReader;wn.onloadend=function(){try{var Sn=new gn(new Uint8Array(wn.result));Sn.fixDuration(vn,bn)&&(yn=Sn.toBlob(yn.type))}catch{}En(yn)},wn.readAsArrayBuffer(yn)}catch{En(yn)}}return xn.default=xn,xn})})(fixWebmDuration$1);var fixWebmDurationExports=fixWebmDuration$1.exports;const fixWebmDuration=getDefaultExportFromCjs(fixWebmDurationExports);var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(tn,sn){var un=200,dn="__lodash_hash_undefined__",pn=800,mn=16,hn=9007199254740991,fn="[object Arguments]",gn="[object Array]",xn="[object AsyncFunction]",yn="[object Boolean]",vn="[object Date]",En="[object Error]",bn="[object Function]",wn="[object GeneratorFunction]",Sn="[object Map]",Rn="[object Number]",_n="[object Null]",jn="[object Object]",Cn="[object Proxy]",An="[object RegExp]",Tn="[object Set]",$n="[object String]",Dn="[object Undefined]",Nn="[object WeakMap]",kn="[object ArrayBuffer]",Pn="[object DataView]",Mn="[object Float32Array]",On="[object Float64Array]",Wn="[object Int8Array]",In="[object Int16Array]",Un="[object Int32Array]",Vn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Ln="[object Uint16Array]",zn="[object Uint32Array]",Bn=/[\\^$.*+?()[\]{}|]/g,Fn=/^\[object .+?Constructor\]$/,Gn=/^(?:0|[1-9]\d*)$/,qn={};qn[Mn]=qn[On]=qn[Wn]=qn[In]=qn[Un]=qn[Vn]=qn[Hn]=qn[Ln]=qn[zn]=!0,qn[fn]=qn[gn]=qn[kn]=qn[yn]=qn[Pn]=qn[vn]=qn[En]=qn[bn]=qn[Sn]=qn[Rn]=qn[jn]=qn[An]=qn[Tn]=qn[$n]=qn[Nn]=!1;var Jn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,dr=typeof self=="object"&&self&&self.Object===Object&&self,br=Jn||dr||Function("return this")(),Er=sn&&!sn.nodeType&&sn,yr=Er&&!0&&tn&&!tn.nodeType&&tn,xr=yr&&yr.exports===Er,vr=xr&&Jn.process,nr=function(){try{var rr=yr&&yr.require&&yr.require("util").types;return rr||vr&&vr.binding&&vr.binding("util")}catch{}}(),sr=nr&&nr.isTypedArray;function Rr(rr,Sr,Yn){switch(Yn.length){case 0:return rr.call(Sr);case 1:return rr.call(Sr,Yn[0]);case 2:return rr.call(Sr,Yn[0],Yn[1]);case 3:return rr.call(Sr,Yn[0],Yn[1],Yn[2])}return rr.apply(Sr,Yn)}function Ar(rr,Sr){for(var Yn=-1,ir=Array(rr);++Yn<rr;)ir[Yn]=Sr(Yn);return ir}function Lr(rr){return function(Sr){return rr(Sr)}}function Or(rr,Sr){return rr==null?void 0:rr[Sr]}function Zn(rr,Sr){return function(Yn){return rr(Sr(Yn))}}var Cr=Array.prototype,Fr=Function.prototype,Pr=Object.prototype,Br=br["__core-js_shared__"],ar=Fr.toString,pr=Pr.hasOwnProperty,Xn=function(){var rr=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return rr?"Symbol(src)_1."+rr:""}(),$r=Pr.toString,lr=ar.call(Object),gr=RegExp("^"+ar.call(pr).replace(Bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=xr?br.Buffer:void 0,Hr=br.Symbol,Vr=br.Uint8Array;_r&&_r.allocUnsafe;var ss=Zn(Object.getPrototypeOf,Object),Rs=Object.create,Cs=Pr.propertyIsEnumerable,Ps=Cr.splice,js=Hr?Hr.toStringTag:void 0,ms=function(){try{var rr=io(Object,"defineProperty");return rr({},"",{}),rr}catch{}}(),ks=_r?_r.isBuffer:void 0,Nr=Math.max,Yr=Date.now,ps=io(br,"Map"),os=io(Object,"create"),$s=function(){function rr(){}return function(Sr){if(!po(Sr))return{};if(Rs)return Rs(Sr);rr.prototype=Sr;var Yn=new rr;return rr.prototype=void 0,Yn}}();function as(rr){var Sr=-1,Yn=rr==null?0:rr.length;for(this.clear();++Sr<Yn;){var ir=rr[Sr];this.set(ir[0],ir[1])}}function _s(){this.__data__=os?os(null):{},this.size=0}function Os(rr){var Sr=this.has(rr)&&delete this.__data__[rr];return this.size-=Sr?1:0,Sr}function Bs(rr){var Sr=this.__data__;if(os){var Yn=Sr[rr];return Yn===dn?void 0:Yn}return pr.call(Sr,rr)?Sr[rr]:void 0}function Ts(rr){var Sr=this.__data__;return os?Sr[rr]!==void 0:pr.call(Sr,rr)}function fs(rr,Sr){var Yn=this.__data__;return this.size+=this.has(rr)?0:1,Yn[rr]=os&&Sr===void 0?dn:Sr,this}as.prototype.clear=_s,as.prototype.delete=Os,as.prototype.get=Bs,as.prototype.has=Ts,as.prototype.set=fs;function Qr(rr){var Sr=-1,Yn=rr==null?0:rr.length;for(this.clear();++Sr<Yn;){var ir=rr[Sr];this.set(ir[0],ir[1])}}function Ls(){this.__data__=[],this.size=0}function Vs(rr){var Sr=this.__data__,Yn=cs(Sr,rr);if(Yn<0)return!1;var ir=Sr.length-1;return Yn==ir?Sr.pop():Ps.call(Sr,Yn,1),--this.size,!0}function ba(rr){var Sr=this.__data__,Yn=cs(Sr,rr);return Yn<0?void 0:Sr[Yn][1]}function _i(rr){return cs(this.__data__,rr)>-1}function eo(rr,Sr){var Yn=this.__data__,ir=cs(Yn,rr);return ir<0?(++this.size,Yn.push([rr,Sr])):Yn[ir][1]=Sr,this}Qr.prototype.clear=Ls,Qr.prototype.delete=Vs,Qr.prototype.get=ba,Qr.prototype.has=_i,Qr.prototype.set=eo;function hr(rr){var Sr=-1,Yn=rr==null?0:rr.length;for(this.clear();++Sr<Yn;){var ir=rr[Sr];this.set(ir[0],ir[1])}}function Kn(){this.size=0,this.__data__={hash:new as,map:new(ps||Qr),string:new as}}function ur(rr){var Sr=ao(this,rr).delete(rr);return this.size-=Sr?1:0,Sr}function jr(rr){return ao(this,rr).get(rr)}function Mr(rr){return ao(this,rr).has(rr)}function qr(rr,Sr){var Yn=ao(this,rr),ir=Yn.size;return Yn.set(rr,Sr),this.size+=Yn.size==ir?0:1,this}hr.prototype.clear=Kn,hr.prototype.delete=ur,hr.prototype.get=jr,hr.prototype.has=Mr,hr.prototype.set=qr;function Kr(rr){var Sr=this.__data__=new Qr(rr);this.size=Sr.size}function er(){this.__data__=new Qr,this.size=0}function or(rr){var Sr=this.__data__,Yn=Sr.delete(rr);return this.size=Sr.size,Yn}function Tr(rr){return this.__data__.get(rr)}function Ir(rr){return this.__data__.has(rr)}function zr(rr,Sr){var Yn=this.__data__;if(Yn instanceof Qr){var ir=Yn.__data__;if(!ps||ir.length<un-1)return ir.push([rr,Sr]),this.size=++Yn.size,this;Yn=this.__data__=new hr(ir)}return Yn.set(rr,Sr),this.size=Yn.size,this}Kr.prototype.clear=er,Kr.prototype.delete=or,Kr.prototype.get=Tr,Kr.prototype.has=Ir,Kr.prototype.set=zr;function Wr(rr,Sr){var Yn=No(rr),ir=!Yn&&vo(rr),wr=!Yn&&!ir&&Ul(rr),Ur=!Yn&&!ir&&!wr&&Hl(rr),ns=Yn||ir||wr||Ur,Jr=ns?Ar(rr.length,String):[],ds=Jr.length;for(var xs in rr)ns&&(xs=="length"||wr&&(xs=="offset"||xs=="parent")||Ur&&(xs=="buffer"||xs=="byteLength"||xs=="byteOffset")||Js(xs,ds))||Jr.push(xs);return Jr}function ls(rr,Sr,Yn){(Yn!==void 0&&!Bo(rr[Sr],Yn)||Yn===void 0&&!(Sr in rr))&&ys(rr,Sr,Yn)}function Xr(rr,Sr,Yn){var ir=rr[Sr];(!(pr.call(rr,Sr)&&Bo(ir,Yn))||Yn===void 0&&!(Sr in rr))&&ys(rr,Sr,Yn)}function cs(rr,Sr){for(var Yn=rr.length;Yn--;)if(Bo(rr[Yn][0],Sr))return Yn;return-1}function ys(rr,Sr,Yn){Sr=="__proto__"&&ms?ms(rr,Sr,{configurable:!0,enumerable:!0,value:Yn,writable:!0}):rr[Sr]=Yn}var hs=so();function gs(rr){return rr==null?rr===void 0?Dn:_n:js&&js in Object(rr)?uo(rr):lu(rr)}function Es(rr){return ga(rr)&&gs(rr)==fn}function As(rr){if(!po(rr)||ou(rr))return!1;var Sr=co(rr)?gr:Fn;return Sr.test(Bl(rr))}function Us(rr){return ga(rr)&&to(rr.length)&&!!qn[gs(rr)]}function Qs(rr){if(!po(rr))return Fl(rr);var Sr=Ll(rr),Yn=[];for(var ir in rr)ir=="constructor"&&(Sr||!pr.call(rr,ir))||Yn.push(ir);return Yn}function Ws(rr,Sr,Yn,ir,wr){rr!==Sr&&hs(Sr,function(Ur,ns){if(wr||(wr=new Kr),po(Ur))_a(rr,Sr,ns,Yn,Ws,ir,wr);else{var Jr=ir?ir(yl(rr,ns),Ur,ns+"",rr,Sr,wr):void 0;Jr===void 0&&(Jr=Ur),ls(rr,ns,Jr)}},zl)}function _a(rr,Sr,Yn,ir,wr,Ur,ns){var Jr=yl(rr,Yn),ds=yl(Sr,Yn),xs=ns.get(ds);if(xs){ls(rr,Yn,xs);return}var bs=Ur?Ur(Jr,ds,Yn+"",rr,Sr,ns):void 0,qs=bs===void 0;if(qs){var Ys=No(ds),Eo=!Ys&&Ul(ds),Ho=!Ys&&!Eo&&Hl(ds);bs=ds,Ys||Eo||Ho?No(Jr)?bs=Jr:jo(Jr)?bs=Ao(Jr):Eo?(qs=!1,bs=Is(ds)):Ho?(qs=!1,bs=To(ds)):bs=[]:mo(ds)||vo(ds)?(bs=Jr,vo(Jr)?bs=Vl(Jr):(!po(Jr)||co(Jr))&&(bs=yo(ds))):qs=!1}qs&&(ns.set(ds,bs),wr(bs,ds,ir,Ur,ns),ns.delete(ds)),ls(rr,Yn,bs)}function Xs(rr,Sr){return El(cu(rr,Sr,Gl),rr+"")}var Ms=ms?function(rr,Sr){return ms(rr,"toString",{configurable:!0,enumerable:!1,value:Sl(Sr),writable:!0})}:Gl;function Is(rr,Sr){return rr.slice()}function wo(rr){var Sr=new rr.constructor(rr.byteLength);return new Vr(Sr).set(new Vr(rr)),Sr}function To(rr,Sr){var Yn=wo(rr.buffer);return new rr.constructor(Yn,rr.byteOffset,rr.length)}function Ao(rr,Sr){var Yn=-1,ir=rr.length;for(Sr||(Sr=Array(ir));++Yn<ir;)Sr[Yn]=rr[Yn];return Sr}function xo(rr,Sr,Yn,ir){var wr=!Yn;Yn||(Yn={});for(var Ur=-1,ns=Sr.length;++Ur<ns;){var Jr=Sr[Ur],ds=void 0;ds===void 0&&(ds=rr[Jr]),wr?ys(Yn,Jr,ds):Xr(Yn,Jr,ds)}return Yn}function Ro(rr){return Xs(function(Sr,Yn){var ir=-1,wr=Yn.length,Ur=wr>1?Yn[wr-1]:void 0,ns=wr>2?Yn[2]:void 0;for(Ur=rr.length>3&&typeof Ur=="function"?(wr--,Ur):void 0,ns&&Fo(Yn[0],Yn[1],ns)&&(Ur=wr<3?void 0:Ur,wr=1),Sr=Object(Sr);++ir<wr;){var Jr=Yn[ir];Jr&&rr(Sr,Jr,ir,Ur)}return Sr})}function so(rr){return function(Sr,Yn,ir){for(var wr=-1,Ur=Object(Sr),ns=ir(Sr),Jr=ns.length;Jr--;){var ds=ns[++wr];if(Yn(Ur[ds],ds,Ur)===!1)break}return Sr}}function ao(rr,Sr){var Yn=rr.__data__;return iu(Sr)?Yn[typeof Sr=="string"?"string":"hash"]:Yn.map}function io(rr,Sr){var Yn=Or(rr,Sr);return As(Yn)?Yn:void 0}function uo(rr){var Sr=pr.call(rr,js),Yn=rr[js];try{rr[js]=void 0;var ir=!0}catch{}var wr=$r.call(rr);return ir&&(Sr?rr[js]=Yn:delete rr[js]),wr}function yo(rr){return typeof rr.constructor=="function"&&!Ll(rr)?$s(ss(rr)):{}}function Js(rr,Sr){var Yn=typeof rr;return Sr=Sr??hn,!!Sr&&(Yn=="number"||Yn!="symbol"&&Gn.test(rr))&&rr>-1&&rr%1==0&&rr<Sr}function Fo(rr,Sr,Yn){if(!po(Yn))return!1;var ir=typeof Sr;return(ir=="number"?Do(Yn)&&Js(Sr,Yn.length):ir=="string"&&Sr in Yn)?Bo(Yn[Sr],rr):!1}function iu(rr){var Sr=typeof rr;return Sr=="string"||Sr=="number"||Sr=="symbol"||Sr=="boolean"?rr!=="__proto__":rr===null}function ou(rr){return!!Xn&&Xn in rr}function Ll(rr){var Sr=rr&&rr.constructor,Yn=typeof Sr=="function"&&Sr.prototype||Pr;return rr===Yn}function Fl(rr){var Sr=[];if(rr!=null)for(var Yn in Object(rr))Sr.push(Yn);return Sr}function lu(rr){return $r.call(rr)}function cu(rr,Sr,Yn){return Sr=Nr(Sr===void 0?rr.length-1:Sr,0),function(){for(var ir=arguments,wr=-1,Ur=Nr(ir.length-Sr,0),ns=Array(Ur);++wr<Ur;)ns[wr]=ir[Sr+wr];wr=-1;for(var Jr=Array(Sr+1);++wr<Sr;)Jr[wr]=ir[wr];return Jr[Sr]=Yn(ns),Rr(rr,this,Jr)}}function yl(rr,Sr){if(!(Sr==="constructor"&&typeof rr[Sr]=="function")&&Sr!="__proto__")return rr[Sr]}var El=uu(Ms);function uu(rr){var Sr=0,Yn=0;return function(){var ir=Yr(),wr=mn-(ir-Yn);if(Yn=ir,wr>0){if(++Sr>=pn)return arguments[0]}else Sr=0;return rr.apply(void 0,arguments)}}function Bl(rr){if(rr!=null){try{return ar.call(rr)}catch{}try{return rr+""}catch{}}return""}function Bo(rr,Sr){return rr===Sr||rr!==rr&&Sr!==Sr}var vo=Es(function(){return arguments}())?Es:function(rr){return ga(rr)&&pr.call(rr,"callee")&&!Cs.call(rr,"callee")},No=Array.isArray;function Do(rr){return rr!=null&&to(rr.length)&&!co(rr)}function jo(rr){return ga(rr)&&Do(rr)}var Ul=ks||Uo;function co(rr){if(!po(rr))return!1;var Sr=gs(rr);return Sr==bn||Sr==wn||Sr==xn||Sr==Cn}function to(rr){return typeof rr=="number"&&rr>-1&&rr%1==0&&rr<=hn}function po(rr){var Sr=typeof rr;return rr!=null&&(Sr=="object"||Sr=="function")}function ga(rr){return rr!=null&&typeof rr=="object"}function mo(rr){if(!ga(rr)||gs(rr)!=jn)return!1;var Sr=ss(rr);if(Sr===null)return!0;var Yn=pr.call(Sr,"constructor")&&Sr.constructor;return typeof Yn=="function"&&Yn instanceof Yn&&ar.call(Yn)==lr}var Hl=sr?Lr(sr):Us;function Vl(rr){return xo(rr,zl(rr))}function zl(rr){return Do(rr)?Wr(rr):Qs(rr)}var Wl=Ro(function(rr,Sr,Yn,ir){Ws(rr,Sr,Yn,ir)});function Sl(rr){return function(){return rr}}function Gl(rr){return rr}function Uo(){return!1}tn.exports=Wl})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs(lodash_mergewithExports),overrideUndefinedOnly=(tn,sn)=>tn??sn,mergeDeepUndefined=(tn,sn)=>mergeWith(tn,sn,overrideUndefinedOnly),MAX_FREQUENCY_AMPLITUDE=255,logError$1=tn=>tn&&console.error("[AMPLITUDE RECORDER ERROR]",tn),rootMeanSquare=tn=>Math.sqrt(tn.reduce((sn,un)=>sn+Math.pow(un,2),0)/tn.length),DEFAULT_AMPLITUDE_RECORDER_CONFIG={analyserConfig:{fftSize:32,maxDecibels:0,minDecibels:-100},sampleCount:100,samplingFrequencyMs:60};var AmplitudeRecorderState;(function(tn){tn.CLOSED="closed",tn.RECORDING="recording",tn.STOPPED="stopped"})(AmplitudeRecorderState||(AmplitudeRecorderState={}));class AmplitudeRecorder{constructor({config:sn,stream:un}){this.amplitudes=new BehaviorSubject([]),this.state=new BehaviorSubject(void 0),this.error=new Subject,this.start=()=>{if(this.state.value!==AmplitudeRecorderState.CLOSED){if(!this.stream)throw new Error("Missing MediaStream instance. Cannot to start amplitude recording");if(this.state.value===AmplitudeRecorderState.RECORDING&&this.stop(),!this.analyserNode){if(!this.stream)return;this.init()}this.state.next(AmplitudeRecorderState.RECORDING),this.amplitudeSamplingInterval=setInterval(()=>{if(!(this.analyserNode&&this.state.value===AmplitudeRecorderState.RECORDING))return;const dn=new Uint8Array(this.analyserNode.frequencyBinCount);try{this.analyserNode.getByteFrequencyData(dn)}catch(mn){logError$1(mn),this.error.next(mn);return}const pn=rootMeanSquare(dn)/MAX_FREQUENCY_AMPLITUDE;this.amplitudes.next([...this.amplitudes.value,pn])},this.config.samplingFrequencyMs)}},this.config=mergeDeepUndefined({...sn},DEFAULT_AMPLITUDE_RECORDER_CONFIG),this.stream=un}init(){this.audioContext=new AudioContext,this.analyserNode=this.audioContext.createAnalyser();const{analyserConfig:sn}=this.config;this.analyserNode.fftSize=sn.fftSize,this.analyserNode.maxDecibels=sn.maxDecibels,this.analyserNode.minDecibels=sn.minDecibels,this.microphone=this.audioContext.createMediaStreamSource(this.stream),this.microphone.connect(this.analyserNode)}stop(){clearInterval(this.amplitudeSamplingInterval),this.amplitudeSamplingInterval=void 0,this.state.next(AmplitudeRecorderState.STOPPED)}close(){var sn,un,dn,pn;this.state.value!==AmplitudeRecorderState.STOPPED&&this.stop(),this.state.next(AmplitudeRecorderState.CLOSED),this.amplitudes.next([]),(sn=this.microphone)==null||sn.disconnect(),(un=this.analyserNode)==null||un.disconnect(),((dn=this.audioContext)==null?void 0:dn.state)!=="closed"&&((pn=this.audioContext)==null||pn.close())}}const toAudioBuffer=async tn=>{const sn=new AudioContext,un=await readFileAsArrayBuffer(tn),dn=await sn.decodeAudioData(un);return sn.state!=="closed"&&await sn.close(),dn},renderAudio=async(tn,sn)=>{const un=new OfflineAudioContext(tn.numberOfChannels,tn.duration*sn,sn),dn=un.createBufferSource();return dn.buffer=tn,dn.connect(un.destination),dn.start(),await un.startRendering()},WAV_HEADER_LENGTH_BYTES=44,BYTES_PER_SAMPLE=2,RIFF_FILE_MAX_BYTES=4294967295,HEADER={AUDIO_FORMAT:{offset:20,value:1},BITS_PER_SAMPLE:{offset:34,value:BYTES_PER_SAMPLE*8},BLOCK_ALIGN:{offset:32},BYTE_RATE:{offset:28},CHANNEL_COUNT:{offset:22},CHUNK_ID:{offset:0,value:1380533830},CHUNK_SIZE:{offset:4},FILE_FORMAT:{offset:8,value:1463899717},SAMPLE_RATE:{offset:24},SUBCHUNK1_ID:{offset:12,value:1718449184},SUBCHUNK1_SIZE:{offset:16,value:16},SUBCHUNK2_ID:{offset:36,value:1684108385},SUBCHUNK2_SIZE:{offset:40}},fourCharsToInt=tn=>tn.charCodeAt(0)<<24|tn.charCodeAt(1)<<16|tn.charCodeAt(2)<<8|tn.charCodeAt(3);fourCharsToInt("data"),fourCharsToInt("fmt "),fourCharsToInt("RIFF"),fourCharsToInt("WAVE");const writeWavHeader=({arrayBuffer:tn,channelCount:sn,sampleRate:un})=>{const dn=un*sn*BYTES_PER_SAMPLE,pn=sn*BYTES_PER_SAMPLE,mn=new DataView(tn),hn=Math.min(mn.byteLength-WAV_HEADER_LENGTH_BYTES,RIFF_FILE_MAX_BYTES-WAV_HEADER_LENGTH_BYTES);mn.setUint32(HEADER.CHUNK_ID.offset,HEADER.CHUNK_ID.value),mn.setUint32(HEADER.CHUNK_SIZE.offset,tn.byteLength-8,!0),mn.setUint32(HEADER.FILE_FORMAT.offset,HEADER.FILE_FORMAT.value),mn.setUint32(HEADER.SUBCHUNK1_ID.offset,HEADER.SUBCHUNK1_ID.value),mn.setUint32(HEADER.SUBCHUNK1_SIZE.offset,HEADER.SUBCHUNK1_SIZE.value,!0),mn.setUint16(HEADER.AUDIO_FORMAT.offset,HEADER.AUDIO_FORMAT.value,!0),mn.setUint16(HEADER.CHANNEL_COUNT.offset,sn,!0),mn.setUint32(HEADER.SAMPLE_RATE.offset,un,!0),mn.setUint32(HEADER.BYTE_RATE.offset,dn,!0),mn.setUint16(HEADER.BLOCK_ALIGN.offset,pn,!0),mn.setUint16(HEADER.BITS_PER_SAMPLE.offset,HEADER.BITS_PER_SAMPLE.value,!0),mn.setUint32(HEADER.SUBCHUNK2_ID.offset,HEADER.SUBCHUNK2_ID.value),mn.setUint32(HEADER.SUBCHUNK2_SIZE.offset,hn,!0)},splitDataByChannel=tn=>Array.from({length:tn.numberOfChannels},(sn,un)=>tn.getChannelData(un)),writeWavAudioData=({arrayBuffer:tn,dataByChannel:sn})=>{const un=new DataView(tn),dn=sn.length;sn.forEach((pn,mn)=>{let hn=WAV_HEADER_LENGTH_BYTES+dn*mn;pn.forEach(fn=>{un.setInt16(hn,fn<0?Math.max(-1,fn)*32768:Math.min(1,fn)*32767,!0),hn+=dn*BYTES_PER_SAMPLE})})},encodeToWaw=async(tn,sn)=>{const un=await renderAudio(await toAudioBuffer(tn),sn),pn=un.duration*sn*un.numberOfChannels*BYTES_PER_SAMPLE+WAV_HEADER_LENGTH_BYTES,mn=new ArrayBuffer(pn);return writeWavHeader({arrayBuffer:mn,channelCount:un.numberOfChannels,sampleRate:sn}),writeWavAudioData({arrayBuffer:mn,dataByChannel:splitDataByChannel(un)}),new Blob([mn],{type:"audio/wav"})},transcode=({blob:tn,encoder:sn=encodeToWaw,sampleRate:un})=>sn(createFileFromBlobs({blobsArray:[tn],fileName:`audio_recording_${new Date().toISOString()}.${getExtensionFromMimeType(tn.type)}`,mimeType:tn.type}),un),RECORDED_MIME_TYPE_BY_BROWSER={audio:{others:"audio/webm",safari:"audio/mp4;codecs=mp4a.40.2"}},DEFAULT_AUDIO_TRANSCODER_CONFIG={sampleRate:16e3},disposeOfMediaStream=tn=>{tn!=null&&tn.active&&tn.getTracks().forEach(sn=>{sn.stop(),tn.removeTrack(sn)})},logError=tn=>tn&&console.error("[MEDIA RECORDER ERROR]",tn);var MediaRecordingState;(function(tn){tn.PAUSED="paused",tn.RECORDING="recording",tn.STOPPED="stopped"})(MediaRecordingState||(MediaRecordingState={}));var RecordingAttachmentType;(function(tn){tn.VOICE_RECORDING="voiceRecording"})(RecordingAttachmentType||(RecordingAttachmentType={}));class MediaRecorderController{constructor({config:sn,generateRecordingTitle:un,t:dn}={}){this.recordedChunkDurations=[],this.recordedData=[],this.recordingState=new BehaviorSubject(void 0),this.recording=new BehaviorSubject(void 0),this.error=new Subject,this.notification=new Subject,this.generateRecordingTitle=mn=>this.customGenerateRecordingTitle?this.customGenerateRecordingTitle(mn):`${this.mediaType}_recording_${new Date().toISOString()}.${getExtensionFromMimeType(mn)}`,this.makeVoiceRecording=async()=>{var gn;if(this.recordingUri&&URL.revokeObjectURL(this.recordingUri),!this.recordedData.length)return;const{mimeType:mn}=this.mediaRecorderConfig;let hn=new Blob(this.recordedData,{type:mn});if(mn.match("audio/webm")&&(hn=await fixWebmDuration(hn,this.durationMs,{logger:()=>null})),mn.match("audio/mp4")||(hn=await transcode({blob:hn,...this.transcoderConfig})),!hn)return;this.recordingUri=URL.createObjectURL(hn);const fn=createFileFromBlobs({blobsArray:[hn],fileName:this.generateRecordingTitle(hn.type),mimeType:hn.type});return{asset_url:this.recordingUri,duration:this.durationMs/1e3,file_size:hn.size,localMetadata:{file:fn,id:nanoid()},mime_type:hn.type,title:fn.name,type:RecordingAttachmentType.VOICE_RECORDING,waveform_data:resampleWaveformData(((gn=this.amplitudeRecorder)==null?void 0:gn.amplitudes.value)??[],this.amplitudeRecorderConfig.sampleCount)}},this.handleErrorEvent=mn=>{const{error:hn}=mn;logError(hn),this.error.next(hn),this.notification.next({text:this.t("An error has occurred during recording"),type:"error"})},this.handleDataavailableEvent=async mn=>{var hn;if(mn.data.size&&this.mediaType==="audio")try{this.recordedData.push(mn.data);const fn=await this.makeVoiceRecording();if(!fn)return;(hn=this.signalRecordingReady)==null||hn.call(this,fn),this.recording.next(fn)}catch(fn){logError(fn),this.error.next(fn),this.notification.next({text:this.t("An error has occurred during the recording processing"),type:"error"})}},this.resetRecordingState=()=>{this.recordedData=[],this.recording.next(void 0),this.recordingState.next(void 0),this.recordedChunkDurations=[],this.startTime=void 0},this.cleanUp=()=>{var mn;this.resetRecordingState(),this.recordingUri&&URL.revokeObjectURL(this.recordingUri),(mn=this.amplitudeRecorder)==null||mn.close(),this.mediaRecorder&&(disposeOfMediaStream(this.mediaRecorder.stream),this.mediaRecorder.removeEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder.removeEventListener("error",this.handleErrorEvent))},this.start=async()=>{if([MediaRecordingState.RECORDING,MediaRecordingState.PAUSED].includes(this.recordingState.value)){const mn=new Error("Cannot start recording. Recording already in progress");logError(mn),this.error.next(mn);return}if(!navigator.mediaDevices){const mn=new Error("Media recording is not supported");logError(mn),this.error.next(mn),this.notification.next({text:this.t("Error starting recording"),type:"error"});return}if(this.mediaType==="video"){const mn=new Error(`Video recording is not supported. Provided MIME type: ${this.mediaRecorderConfig.mimeType}`);logError(mn),this.error.next(mn),this.notification.next({text:this.t("Error starting recording"),type:"error"});return}if(this.permission.state.value||await this.permission.check(),this.permission.state.value==="denied"){logError(new Error("Permission denied"));return}try{const mn=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(mn,this.mediaRecorderConfig),this.mediaRecorder.addEventListener("dataavailable",this.handleDataavailableEvent),this.mediaRecorder.addEventListener("error",this.handleErrorEvent),this.startTime=new Date().getTime(),this.mediaRecorder.start(),this.mediaType==="audio"&&mn&&(this.amplitudeRecorder=new AmplitudeRecorder({config:this.amplitudeRecorderConfig,stream:mn}),this.amplitudeRecorder.start()),this.recordingState.next(MediaRecordingState.RECORDING)}catch(mn){logError(mn),this.cancel(),this.error.next(mn),this.notification.next({text:this.t("Error starting recording"),type:"error"})}},this.pause=()=>{var mn,hn;this.recordingState.value===MediaRecordingState.RECORDING&&(this.startTime&&(this.recordedChunkDurations.push(new Date().getTime()-this.startTime),this.startTime=void 0),(mn=this.mediaRecorder)==null||mn.pause(),(hn=this.amplitudeRecorder)==null||hn.stop(),this.recordingState.next(MediaRecordingState.PAUSED))},this.resume=()=>{var mn,hn;this.recordingState.value===MediaRecordingState.PAUSED&&(this.startTime=new Date().getTime(),(mn=this.mediaRecorder)==null||mn.resume(),(hn=this.amplitudeRecorder)==null||hn.start(),this.recordingState.next(MediaRecordingState.RECORDING))},this.stop=()=>{var fn,gn,xn;const mn=this.recording.value;if(mn)return Promise.resolve(mn);if(![MediaRecordingState.PAUSED,MediaRecordingState.RECORDING].includes(((fn=this.mediaRecorder)==null?void 0:fn.state)||""))return Promise.resolve(void 0);this.startTime&&(this.recordedChunkDurations.push(new Date().getTime()-this.startTime),this.startTime=void 0);const hn=new Promise(yn=>{this.signalRecordingReady=yn});return(gn=this.mediaRecorder)==null||gn.stop(),(xn=this.amplitudeRecorder)==null||xn.stop(),this.recordingState.next(MediaRecordingState.STOPPED),hn},this.cancel=()=>{this.stop(),this.cleanUp()},this.t=dn||defaultTranslatorFunction,this.amplitudeRecorderConfig=mergeDeepUndefined({...sn==null?void 0:sn.amplitudeRecorderConfig},DEFAULT_AMPLITUDE_RECORDER_CONFIG),this.mediaRecorderConfig=mergeDeepUndefined({...sn==null?void 0:sn.mediaRecorderConfig},{mimeType:MediaRecorder.isTypeSupported("audio/webm")?RECORDED_MIME_TYPE_BY_BROWSER.audio.others:RECORDED_MIME_TYPE_BY_BROWSER.audio.safari}),this.transcoderConfig=mergeDeepUndefined({...sn==null?void 0:sn.transcoderConfig},DEFAULT_AUDIO_TRANSCODER_CONFIG);const pn=getRecordedMediaTypeFromMimeType(this.mediaRecorderConfig.mimeType);if(!pn)throw new Error(`Unsupported media type (supported audio or video only). Provided mimeType: ${this.mediaRecorderConfig.mimeType}`);this.mediaType=pn,this.permission=new BrowserPermission({mediaType:pn}),this.customGenerateRecordingTitle=un}get durationMs(){return this.recordedChunkDurations.reduce((sn,un)=>sn+un,0)}}const AudioRecorder=()=>{var fn;const tn=useMessageInputContext(),{recordingController:{completeRecording:sn,recorder:un,recording:dn,recordingState:pn}}=tn,mn=((fn=dn==null?void 0:dn.localMetadata)==null?void 0:fn.uploadState)==="uploading",hn=reactExports.useMemo(()=>({paused:pn===MediaRecordingState.PAUSED,recording:pn===MediaRecordingState.RECORDING,stopped:pn===MediaRecordingState.STOPPED}),[pn]);return un?React$1.createElement("div",{className:"str-chat__audio_recorder-container"},React$1.createElement("div",{className:"str-chat__audio_recorder","data-testid":"audio-recorder"},React$1.createElement("button",{className:"str-chat__audio_recorder__cancel-button","data-testid":"cancel-recording-audio-button",disabled:mn,onClick:un.cancel},React$1.createElement(BinIcon,null)),hn.stopped&&(dn!=null&&dn.asset_url)?React$1.createElement(AudioRecordingPreview,{durationSeconds:dn.duration??0,mimeType:dn.mime_type,src:dn.asset_url,waveformData:dn.waveform_data}):hn.paused||hn.recording?React$1.createElement(AudioRecordingInProgress,null):null,hn.paused&&React$1.createElement("button",{className:"str-chat__audio_recorder__resume-recording-button",onClick:un.resume},React$1.createElement(MicIcon,null)),hn.recording&&React$1.createElement("button",{className:"str-chat__audio_recorder__pause-recording-button","data-testid":"pause-recording-audio-button",onClick:un.pause},React$1.createElement(PauseIcon,null)),hn.stopped?React$1.createElement("button",{className:"str-chat__audio_recorder__complete-button","data-testid":"audio-recorder-complete-button",disabled:mn,onClick:sn},mn?React$1.createElement(LoadingIndicatorIcon,null):React$1.createElement(SendIcon,null)):React$1.createElement("button",{className:"str-chat__audio_recorder__stop-button","data-testid":"audio-recorder-stop-button",onClick:un.stop},React$1.createElement(CheckSignIcon,null)))):null},StartRecordingAudioButton=tn=>React$1.createElement("button",{"aria-label":"Start recording audio",className:"str-chat__start-recording-audio-button","data-testid":"start-recording-audio-button",...tn},React$1.createElement(MicIcon,null)),VoiceRecordingPreview=({attachment:tn,handleRetry:sn,removeAttachments:un})=>{var gn,xn,yn;const{t:dn}=useTranslationContext(),{audioRef:pn,isPlaying:mn,secondsElapsed:hn,togglePlay:fn}=useAudioController({mimeType:tn.mime_type});return React$1.createElement("div",{className:"str-chat__attachment-preview-voice-recording","data-testid":"attachment-preview-voice-recording"},React$1.createElement("audio",{ref:pn},React$1.createElement("source",{"data-testid":"audio-source",src:tn.asset_url,type:tn.mime_type})),React$1.createElement(PlayButton,{isPlaying:mn,onClick:fn}),React$1.createElement("button",{"aria-label":dn("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:((gn=tn.localMetadata)==null?void 0:gn.uploadState)==="uploading",onClick:()=>{var vn;return((vn=tn.localMetadata)==null?void 0:vn.id)&&un([tn.localMetadata.id])}},React$1.createElement(CloseIcon$2,null)),["blocked","failed"].includes((xn=tn.localMetadata)==null?void 0:xn.uploadState)&&!!sn&&React$1.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:()=>sn(tn)},React$1.createElement(RetryIcon,null)),React$1.createElement("div",{className:"str-chat__attachment-preview-metadata"},React$1.createElement("div",{className:"str-chat__attachment-preview-file-name",title:tn.title},tn.title),typeof tn.duration<"u"&&React$1.createElement(RecordingTimer,{durationSeconds:hn||tn.duration}),((yn=tn.localMetadata)==null?void 0:yn.uploadState)==="uploading"&&React$1.createElement(LoadingIndicatorIcon,{size:17})),React$1.createElement("div",{className:"str-chat__attachment-preview-file-icon"},React$1.createElement(FileIcon,{filename:tn.title,mimeType:tn.mime_type})))},FileAttachmentPreview=({attachment:tn,handleRetry:sn,removeAttachments:un})=>{var mn;const{t:dn}=useTranslationContext("FilePreview"),pn=(mn=tn.localMetadata)==null?void 0:mn.uploadState;return React$1.createElement("div",{className:"str-chat__attachment-preview-file","data-testid":"attachment-preview-file"},React$1.createElement("div",{className:"str-chat__attachment-preview-file-icon"},React$1.createElement(FileIcon,{filename:tn.title,mimeType:tn.mime_type})),React$1.createElement("button",{"aria-label":dn("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"file-preview-item-delete-button",disabled:pn==="uploading",onClick:()=>{var hn,fn;return((hn=tn.localMetadata)==null?void 0:hn.id)&&un([(fn=tn.localMetadata)==null?void 0:fn.id])}},React$1.createElement(CloseIcon$2,null)),["blocked","failed"].includes(pn)&&!!sn&&React$1.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-file","data-testid":"file-preview-item-retry-button",onClick:()=>{sn(tn)}},React$1.createElement(RetryIcon,null)),React$1.createElement("div",{className:"str-chat__attachment-preview-file-end"},React$1.createElement("div",{className:"str-chat__attachment-preview-file-name",title:tn.title},tn.title),(typeof pn>"u"||pn==="finished")&&!!tn.asset_url&&React$1.createElement("a",{"aria-label":dn("aria/Download attachment"),className:"str-chat__attachment-preview-file-download",download:!0,href:tn.asset_url,rel:"noreferrer",target:"_blank",title:dn("Download attachment {{ name }}",{name:tn.title})},React$1.createElement(DownloadIcon,null)),pn==="uploading"&&React$1.createElement(LoadingIndicatorIcon,{size:17})))},ImageAttachmentPreview=({attachment:tn,handleRetry:sn,removeAttachments:un})=>{const{t:dn}=useTranslationContext("ImagePreviewItem"),{BaseImage:pn=BaseImage}=useComponentContext(),[mn,hn]=reactExports.useState(!1),{id:fn,uploadState:gn}=tn.localMetadata??{},xn=reactExports.useCallback(()=>hn(!0),[]),yn=tn.image_url||tn.localMetadata.previewUri;return React$1.createElement("div",{className:clsx("str-chat__attachment-preview-image",{"str-chat__attachment-preview-image--error":mn}),"data-testid":"attachment-preview-image"},React$1.createElement("button",{"aria-label":dn("aria/Remove attachment"),className:"str-chat__attachment-preview-delete","data-testid":"image-preview-item-delete-button",disabled:gn==="uploading",onClick:()=>fn&&un([fn])},React$1.createElement(CloseIcon$2,null)),["blocked","failed"].includes(gn)&&React$1.createElement("button",{className:"str-chat__attachment-preview-error str-chat__attachment-preview-error-image","data-testid":"image-preview-item-retry-button",onClick:()=>sn(tn)},React$1.createElement(RetryIcon,null)),gn==="uploading"&&React$1.createElement("div",{className:"str-chat__attachment-preview-image-loading"},React$1.createElement(LoadingIndicatorIcon,{size:17})),yn&&React$1.createElement(pn,{alt:tn.fallback,className:"str-chat__attachment-preview-thumbnail",onError:xn,src:yn,title:tn.fallback}))},useCanCreatePoll=()=>{const{pollComposer:tn}=useMessageComposer(),[sn,un]=reactExports.useState(tn.canCreatePoll);return reactExports.useEffect(()=>tn.state.subscribe(()=>{un(tn.canCreatePoll)}),[tn]),sn},useCooldownTimer=()=>{var yn;const{client:tn,latestMessageDatesByChannels:sn}=useChatContext("useCooldownTimer"),{channel:un,messages:dn=[]}=useChannelStateContext("useCooldownTimer"),[pn,mn]=reactExports.useState(),{cooldown:hn=0,own_capabilities:fn}=un.data||{},gn=fn==null?void 0:fn.includes("skip-slow-mode"),xn=reactExports.useMemo(()=>{var vn;return sn[un.cid]??((vn=[...dn].sort((En,bn)=>{var wn,Sn;return((wn=bn.created_at)==null?void 0:wn.getTime())-((Sn=En.created_at)==null?void 0:Sn.getTime())}).find(En=>{var bn,wn;return((bn=En.user)==null?void 0:bn.id)===((wn=tn.user)==null?void 0:wn.id)}))==null?void 0:vn.created_at)},[dn,(yn=tn.user)==null?void 0:yn.id,sn,un.cid]);return reactExports.useEffect(()=>{const vn=xn?Math.max(0,(new Date().getTime()-xn.getTime())/1e3):void 0,En=!gn&&typeof vn<"u"&&hn>vn?Math.round(hn-vn):0;if(mn(En),!En)return;const bn=setTimeout(()=>{mn(0)},En*1e3);return()=>{clearTimeout(bn)}},[hn,xn,gn]),{cooldownInterval:hn,cooldownRemaining:pn,setCooldownRemaining:mn}},useTextareaRef=tn=>{const{focus:sn}=tn,un=reactExports.useRef(void 0);return reactExports.useEffect(()=>{sn&&un.current&&un.current.focus()},[sn]),{textareaRef:un}},takeStateSnapshot=tn=>{const sn=tn.textComposer.state.getLatestValue(),un=tn.attachmentManager.state.getLatestValue(),dn=tn.linkPreviewsManager.state.getLatestValue(),pn=tn.pollComposer.state.getLatestValue(),mn=tn.customDataManager.state.getLatestValue(),hn=tn.state.getLatestValue();return()=>{tn.state.next(hn),tn.textComposer.state.next(sn),tn.attachmentManager.state.next(un),tn.linkPreviewsManager.state.next(dn),tn.pollComposer.state.next(pn),tn.customDataManager.state.next(mn)}},useSubmitHandler=tn=>{const{clearEditingState:sn,overrideSubmitHandler:un}=tn,{addNotification:dn,editMessage:pn,sendMessage:mn}=useChannelActionContext("useSubmitHandler"),{t:hn}=useTranslationContext("useSubmitHandler"),fn=useMessageComposer();return{handleSubmit:reactExports.useCallback(async xn=>{xn==null||xn.preventDefault();const yn=await fn.compose();if(!yn||!yn.message)return;const{localMessage:vn,message:En,sendOptions:bn}=yn;if(fn.editedMessage&&vn.type!=="error")try{await pn(vn,bn),sn==null||sn()}catch{dn(hn("Edit message request failed"),"error")}else{const wn=takeStateSnapshot(fn);try{!!En.poll_id?fn.state.partialNext({id:MessageComposer.generateId(),pollId:null}):fn.clear(),un?await un({cid:fn.channel.cid,localMessage:vn,message:En,sendOptions:bn}):await mn({localMessage:vn,message:En,options:bn}),fn.config.text.publishTypingEvents&&await fn.channel.stopTyping()}catch{wn(),dn(hn("Send message request failed"),"error")}}},[dn,sn,pn,fn,un,mn,hn])}},usePasteHandler=()=>{const{attachmentManager:tn,textComposer:sn}=useMessageComposer();return{onPaste:reactExports.useCallback(dn=>{(async pn=>{const{items:mn}=pn.clipboardData;pn.preventDefault();let hn;for(let gn=0;gn<mn.length;gn++){const xn=mn[gn];if(xn.kind==="string"&&xn.type==="text/plain"){hn=new Promise(yn=>{xn.getAsString(vn=>{yn(vn)})});break}}const fn=await dataTransferItemsToFiles(Array.from(mn));if(hn){const gn=await hn;sn.insertText({text:gn})}else tn.uploadFiles(fn)})(dn)},[tn,sn])}},useMediaRecorder=({asyncMessagesMultiSendEnabled:tn,enabled:sn,generateRecordingTitle:un,handleSubmit:dn,recordingConfig:pn})=>{const{t:mn}=useTranslationContext("useMediaRecorder"),hn=useMessageComposer(),[fn,gn]=reactExports.useState(),[xn,yn]=reactExports.useState(),[vn,En]=reactExports.useState(),[bn,wn]=reactExports.useState(!1),Sn=reactExports.useMemo(()=>sn?new MediaRecorderController({config:pn??{},generateRecordingTitle:un,t:mn}):void 0,[pn,sn,un,mn]),Rn=reactExports.useCallback(async()=>{if(!Sn)return;const _n=await Sn.stop();_n&&(await hn.attachmentManager.uploadAttachment(_n),tn||wn(!0),Sn.cleanUp())},[tn,hn,Sn]);return reactExports.useEffect(()=>{bn&&(dn(),wn(!1))},[dn,bn]),reactExports.useEffect(()=>{if(!Sn)return;Sn.permission.watch();const _n=Sn.recording.subscribe(gn),jn=Sn.recordingState.subscribe(yn),Cn=Sn.permission.state.subscribe(En);return()=>{Sn.cancel(),Sn.permission.unwatch(),_n.unsubscribe(),jn.unsubscribe(),Cn.unsubscribe()}},[Sn]),{completeRecording:Rn,permissionState:vn,recorder:Sn,recording:fn,recordingState:xn}},useMessageInputControls=tn=>{const{asyncMessagesMultiSendEnabled:sn,audioRecordingConfig:un,audioRecordingEnabled:dn}=tn,{textareaRef:pn}=useTextareaRef(tn),{handleSubmit:mn}=useSubmitHandler(tn),hn=useMediaRecorder({asyncMessagesMultiSendEnabled:sn,enabled:!!dn,handleSubmit:mn,recordingConfig:un}),{onPaste:fn}=usePasteHandler();return{handleSubmit:mn,onPaste:fn,recordingController:hn,textareaRef:pn}},editingAuditStateStateSelector=tn=>tn,useMessageComposerHasSendableData=()=>{const tn=useMessageComposer();return useStateStore(tn.editingAuditState,editingAuditStateStateSelector),tn.hasSendableData},AttachmentPreviewList=({AudioAttachmentPreview:tn=FileAttachmentPreview,FileAttachmentPreview:sn=FileAttachmentPreview,ImageAttachmentPreview:un=ImageAttachmentPreview,UnsupportedAttachmentPreview:dn=UnsupportedAttachmentPreview,VideoAttachmentPreview:pn=FileAttachmentPreview,VoiceRecordingPreview:mn=VoiceRecordingPreview})=>{const hn=useMessageComposer(),{attachments:fn}=useAttachmentManagerState();return fn.length?React$1.createElement("div",{className:"str-chat__attachment-preview-list"},React$1.createElement("div",{className:"str-chat__attachment-list-scroll-container","data-testid":"attachment-list-scroll-container"},fn.map(gn=>isScrapedContent(gn)?null:isLocalVoiceRecordingAttachment(gn)?React$1.createElement(mn,{attachment:gn,handleRetry:hn.attachmentManager.uploadAttachment,key:gn.localMetadata.id||gn.asset_url,removeAttachments:hn.attachmentManager.removeAttachments}):isLocalAudioAttachment(gn)?React$1.createElement(tn,{attachment:gn,handleRetry:hn.attachmentManager.uploadAttachment,key:gn.localMetadata.id||gn.asset_url,removeAttachments:hn.attachmentManager.removeAttachments}):isLocalVideoAttachment(gn)?React$1.createElement(pn,{attachment:gn,handleRetry:hn.attachmentManager.uploadAttachment,key:gn.localMetadata.id||gn.asset_url,removeAttachments:hn.attachmentManager.removeAttachments}):isLocalImageAttachment(gn)?React$1.createElement(un,{attachment:gn,handleRetry:hn.attachmentManager.uploadAttachment,key:gn.localMetadata.id||gn.image_url,removeAttachments:hn.attachmentManager.removeAttachments}):isLocalFileAttachment(gn)?React$1.createElement(sn,{attachment:gn,handleRetry:hn.attachmentManager.uploadAttachment,key:gn.localMetadata.id||gn.asset_url,removeAttachments:hn.attachmentManager.removeAttachments}):isLocalAttachment(gn)?React$1.createElement(dn,{attachment:gn,handleRetry:hn.attachmentManager.uploadAttachment,key:gn.localMetadata.id,removeAttachments:hn.attachmentManager.removeAttachments}):null))):null},useTimer=({startFrom:tn})=>{const[sn,un]=reactExports.useState();return reactExports.useEffect(()=>{let dn;return typeof sn=="number"&&sn>0&&(dn=setTimeout(()=>{un(sn-1)},1e3)),()=>{clearTimeout(dn)}},[sn]),reactExports.useEffect(()=>{un(tn??0)},[tn]),sn},CooldownTimer=({cooldownInterval:tn})=>{const sn=useTimer({startFrom:tn});return React$1.createElement("div",{className:"str-chat__message-input-cooldown","data-testid":"cooldown-timer"},sn)},SendButton=({sendMessage:tn,...sn})=>{const un=useMessageComposerHasSendableData();return React$1.createElement("button",{"aria-label":"Send",className:"str-chat__send-button","data-testid":"send-button",disabled:!un,onClick:tn,type:"button",...sn},React$1.createElement(SendIcon,null))},StopAIGenerationButton=({onClick:tn,...sn})=>{const{t:un}=useTranslationContext();return React$1.createElement("button",{"aria-label":un("aria/Stop AI Generation"),className:"str-chat__stop-ai-generation-button","data-testid":"stop-ai-generation-button",onClick:tn,...sn})},messageComposerStateStoreSelector=tn=>({quotedMessage:tn.quotedMessage}),QuotedMessagePreviewHeader=()=>{const{t:tn}=useTranslationContext("QuotedMessagePreview"),sn=useMessageComposer(),{quotedMessage:un}=useStateStore(sn.state,messageComposerStateStoreSelector);return un?React$1.createElement("div",{className:"str-chat__quoted-message-preview-header"},React$1.createElement("div",{className:"str-chat__quoted-message-reply-to-message"},tn("Reply to Message")),React$1.createElement("button",{"aria-label":tn("aria/Cancel Reply"),className:"str-chat__quoted-message-remove",onClick:()=>sn.setQuotedMessage(null)},React$1.createElement(CloseIcon$2,null))):null},QuotedMessagePreview=({renderText:tn=renderText})=>{const{client:sn}=useChatContext(),{Attachment:un=Attachment,Avatar:dn=Avatar}=useComponentContext(),{userLanguage:pn}=useTranslationContext("QuotedMessagePreview"),mn=useMessageComposer(),{quotedMessage:hn}=useStateStore(mn.state,messageComposerStateStoreSelector),fn=reactExports.useMemo(()=>{var vn;return((vn=hn==null?void 0:hn.i18n)==null?void 0:vn[`${pn}_text`])||(hn==null?void 0:hn.text)},[hn==null?void 0:hn.i18n,hn==null?void 0:hn.text,pn]),gn=reactExports.useMemo(()=>tn(fn,hn==null?void 0:hn.mentioned_users),[hn,fn,tn]),xn=reactExports.useMemo(()=>{var vn;return(vn=hn==null?void 0:hn.attachments)!=null&&vn.length?hn.attachments.slice(0,1):[]},[hn]),yn=(hn==null?void 0:hn.poll_id)&&sn.polls.fromState(hn.poll_id);return!fn&&!xn.length&&!yn?null:React$1.createElement("div",{className:"str-chat__quoted-message-preview","data-testid":"quoted-message-preview"},(hn==null?void 0:hn.user)&&React$1.createElement(dn,{className:"str-chat__avatar--quoted-message-sender",image:hn.user.image,name:hn.user.name||hn.user.id,user:hn.user}),React$1.createElement("div",{className:"str-chat__quoted-message-bubble"},yn?React$1.createElement(Poll$c,{isQuoted:!0,poll:yn}):React$1.createElement(React$1.Fragment,null,!!xn.length&&React$1.createElement(un,{attachments:xn,isQuoted:!0}),React$1.createElement("div",{className:"str-chat__quoted-message-text","data-testid":"quoted-message-text"},gn))))},linkPreviewsManagerStateSelector=tn=>({linkPreviews:Array.from(tn.previews.values()).filter(sn=>LinkPreviewsManager.previewIsLoaded(sn)||LinkPreviewsManager.previewIsLoading(sn))}),messageComposerStateSelector$1=tn=>({quotedMessage:tn.quotedMessage}),LinkPreviewList=()=>{const tn=useMessageComposer(),{linkPreviewsManager:sn}=tn,{quotedMessage:un}=useStateStore(tn.state,messageComposerStateSelector$1),{linkPreviews:dn}=useStateStore(sn.state,linkPreviewsManagerStateSelector);return dn.length>0&&!un?React$1.createElement("div",{className:"str-chat__link-preview-list"},dn.map(mn=>React$1.createElement(LinkPreviewCard,{key:mn.og_scrape_url,linkPreview:mn}))):null},LinkPreviewCard=({linkPreview:tn})=>{const{linkPreviewsManager:sn}=useMessageComposer(),{handleEnter:un,handleLeave:dn,tooltipVisible:pn}=useEnterLeaveHandlers(),[mn,hn]=reactExports.useState(null);return!LinkPreviewsManager.previewIsLoaded(tn)&&!LinkPreviewsManager.previewIsLoading(tn)?null:React$1.createElement("div",{className:clsx("str-chat__link-preview-card",{"str-chat__link-preview-card--loading":LinkPreviewsManager.previewIsLoading(tn)}),"data-testid":"link-preview-card"},React$1.createElement(PopperTooltip,{offset:[0,5],referenceElement:mn,visible:pn},tn.og_scrape_url),React$1.createElement("div",{className:"str-chat__link-preview-card__icon-container",onMouseEnter:un,onMouseLeave:dn,ref:hn},React$1.createElement(LinkIcon,null)),React$1.createElement("div",{className:"str-chat__link-preview-card__content"},React$1.createElement("div",{className:"str-chat__link-preview-card__content-title"},tn.title),React$1.createElement("div",{className:"str-chat__link-preview-card__content-description"},tn.text)),React$1.createElement("button",{className:"str-chat__link-preview-card__dismiss-button","data-testid":"link-preview-card-dismiss-btn",onClick:()=>sn.dismissPreview(tn.og_scrape_url),type:"button"},React$1.createElement(CloseIcon$2,null)))},stateSelector=tn=>({showReplyInChannel:tn.showReplyInChannel}),SendToChannelCheckbox=()=>{const{t:tn}=useTranslationContext(),sn=useMessageComposer(),{showReplyInChannel:un}=useStateStore(sn.state,stateSelector);return sn.editedMessage||!sn.threadId?null:React$1.createElement("div",{className:"str-chat__send-to-channel-checkbox__container"},React$1.createElement("div",{className:"str-chat__send-to-channel-checkbox__field"},React$1.createElement("input",{id:"send-to-channel-checkbox",onClick:sn.toggleShowReplyInChannel,type:"checkbox",value:un.toString()}),React$1.createElement("label",{htmlFor:"send-to-channel-checkbox"},Object.keys(sn.channel.state.members).length===2?tn("Also send as a direct message"):tn("Also send in channel"))))},CommandItem=tn=>{const{entity:sn}=tn;return React$1.createElement("div",{className:"str-chat__slash-command"},React$1.createElement("span",{className:"str-chat__slash-command-header"},React$1.createElement("strong",null,sn.name)," ",sn.args),React$1.createElement("br",null),React$1.createElement("span",{className:"str-chat__slash-command-description"},sn.description))},EmoticonItem=tn=>{const{entity:sn}=tn;if(!Object.keys(sn).length)return null;const{parts:dn,token:pn}=sn.tokenizedDisplayName??{},mn=()=>(dn==null?void 0:dn.map((hn,fn)=>hn.toLowerCase()===pn?React$1.createElement("span",{className:"str-chat__emoji-item--highlight",key:`part-${fn}`},hn):React$1.createElement("span",{className:"str-chat__emoji-item--part",key:`part-${fn}`},hn)))??null;return React$1.createElement("div",{className:"str-chat__emoji-item"},React$1.createElement("span",{className:"str-chat__emoji-item--entity"},sn.native),React$1.createElement("span",{className:"str-chat__emoji-item--name"},mn()))},SuggestionListItem=React$1.forwardRef(function tn({className:sn,component:un,focused:dn,item:pn,onMouseEnter:mn},hn){const{textComposer:fn}=useMessageComposer(),gn=reactExports.useRef(null),xn=reactExports.useCallback(()=>{fn.handleSelect(pn)},[pn,fn]);return reactExports.useLayoutEffect(()=>{var yn;dn&&((yn=gn.current)==null||yn.scrollIntoView({behavior:"instant",block:"nearest"}))},[dn,gn]),React$1.createElement("li",{className:clsx("str-chat__suggestion-list-item",sn,{"str-chat__suggestion-item--selected":dn}),onMouseEnter:mn,ref:gn},React$1.createElement("button",{onClick:xn,onKeyDown:yn=>{yn.key==="Enter"&&xn()},ref:hn},React$1.createElement(un,{entity:pn,focused:dn})))}),UserItem=({Avatar:tn=Avatar,entity:sn})=>{if(!!!Object.keys(sn).length)return null;const{parts:dn,token:pn}=sn.tokenizedDisplayName,mn=()=>dn.map((hn,fn)=>{const gn=hn.toLowerCase()===pn,xn=hn.replace(/^\s+|\s+$/g," ");return React$1.createElement("span",{className:clsx({"str-chat__emoji-item--highlight":gn,"str-chat__emoji-item--part":!gn}),key:`part-${fn}`},xn)});return React$1.createElement("div",{className:"str-chat__user-item"},React$1.createElement(tn,{className:"str-chat__avatar--autocomplete-item",image:sn.image,name:sn.name||sn.id}),React$1.createElement("span",{className:"str-chat__user-item--name","data-testid":"user-item-name"},mn()),React$1.createElement("div",{className:"str-chat__user-item-at"},"@"))},textComposerStateSelector$1=tn=>({suggestions:tn.suggestions}),searchSourceStateSelector$1=tn=>({items:tn.items??[]}),defaultComponents={"/":tn=>React$1.createElement(CommandItem,{entity:tn.entity}),":":tn=>React$1.createElement(EmoticonItem,{entity:tn.entity}),"@":tn=>React$1.createElement(UserItem,{entity:tn.entity})},SuggestionList=({className:tn,closeOnClickOutside:sn=!0,containerClassName:un,focusedItemIndex:dn,setFocusedItemIndex:pn,suggestionItemComponents:mn=defaultComponents})=>{const{AutocompleteSuggestionItem:hn=SuggestionListItem}=useComponentContext(),fn=useMessageComposer(),{textComposer:gn}=fn,{suggestions:xn}=useStateStore(gn.state,textComposerStateSelector$1),{items:yn}=useStateStore(xn==null?void 0:xn.searchSource.state,searchSourceStateSelector$1)??{},[vn,En]=reactExports.useState(null),bn=xn!=null&&xn.trigger?mn[xn==null?void 0:xn.trigger]:void 0;return reactExports.useEffect(()=>{if(!sn||!xn||!vn)return;const wn=Sn=>{vn.contains(Sn.target)||gn.closeSuggestions()};return document.addEventListener("click",wn),()=>{document.removeEventListener("click",wn)}},[sn,xn,vn,gn]),!xn||!(yn!=null&&yn.length)||!bn?null:React$1.createElement("div",{className:clsx("str-chat__suggestion-list-container",un),ref:En},React$1.createElement(InfiniteScrollPaginator,{loadNextOnScrollToBottom:xn.searchSource.search,threshold:100},React$1.createElement("ul",{className:clsx("str-chat__suggestion-list str-chat__suggestion-list--react",tn)},yn.map((wn,Sn)=>React$1.createElement(hn,{component:bn,focused:dn===Sn,item:wn,key:wn.id.toString(),onMouseEnter:()=>pn==null?void 0:pn(Sn)})))))};var index$1=reactExports.useLayoutEffect,useLatest=function tn(sn){var un=React$1.useRef(sn);return index$1(function(){un.current=sn}),un},updateRef=function tn(sn,un){if(typeof sn=="function"){sn(un);return}sn.current=un},useComposedRef=function tn(sn,un){var dn=React$1.useRef();return React$1.useCallback(function(pn){sn.current=pn,dn.current&&updateRef(dn.current,null),dn.current=un,un&&updateRef(un,pn)},[un])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},forceHiddenStyles=function tn(sn){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(un){sn.style.setProperty(un,HIDDEN_TEXTAREA_STYLE[un],"important")})},forceHiddenStyles$1=forceHiddenStyles,hiddenTextarea=null,getHeight=function tn(sn,un){var dn=sn.scrollHeight;return un.sizingStyle.boxSizing==="border-box"?dn+un.borderSize:dn-un.paddingSize};function calculateNodeHeight(tn,sn,un,dn){un===void 0&&(un=1),dn===void 0&&(dn=1/0),hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles$1(hiddenTextarea)),hiddenTextarea.parentNode===null&&document.body.appendChild(hiddenTextarea);var pn=tn.paddingSize,mn=tn.borderSize,hn=tn.sizingStyle,fn=hn.boxSizing;Object.keys(hn).forEach(function(En){var bn=En;hiddenTextarea.style[bn]=hn[bn]}),forceHiddenStyles$1(hiddenTextarea),hiddenTextarea.value=sn;var gn=getHeight(hiddenTextarea,tn);hiddenTextarea.value=sn,gn=getHeight(hiddenTextarea,tn),hiddenTextarea.value="x";var xn=hiddenTextarea.scrollHeight-pn,yn=xn*un;fn==="border-box"&&(yn=yn+pn+mn),gn=Math.max(yn,gn);var vn=xn*dn;return fn==="border-box"&&(vn=vn+pn+mn),gn=Math.min(vn,gn),[gn,xn]}var noop$1=function tn(){},pick=function tn(sn,un){return sn.reduce(function(dn,pn){return dn[pn]=un[pn],dn},{})},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],isIE=!!document.documentElement.currentStyle,getSizingData=function tn(sn){var un=window.getComputedStyle(sn);if(un===null)return null;var dn=pick(SIZING_STYLE,un),pn=dn.boxSizing;if(pn==="")return null;isIE&&pn==="border-box"&&(dn.width=parseFloat(dn.width)+parseFloat(dn.borderRightWidth)+parseFloat(dn.borderLeftWidth)+parseFloat(dn.paddingRight)+parseFloat(dn.paddingLeft)+"px");var mn=parseFloat(dn.paddingBottom)+parseFloat(dn.paddingTop),hn=parseFloat(dn.borderBottomWidth)+parseFloat(dn.borderTopWidth);return{sizingStyle:dn,paddingSize:mn,borderSize:hn}},getSizingData$1=getSizingData;function useListener(tn,sn,un){var dn=useLatest(un);reactExports.useLayoutEffect(function(){var pn=function(hn){return dn.current(hn)};if(tn)return tn.addEventListener(sn,pn),function(){return tn.removeEventListener(sn,pn)}},[])}var useFormResetListener=function tn(sn,un){useListener(document.body,"reset",function(dn){sn.current.form===dn.target&&un(dn)})},useWindowResizeListener=function tn(sn){useListener(window,"resize",sn)},useFontsLoadedListener=function tn(sn){useListener(document.fonts,"loadingdone",sn)},_excluded$1=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],TextareaAutosize=function tn(sn,un){var dn=sn.cacheMeasurements,pn=sn.maxRows,mn=sn.minRows,hn=sn.onChange,fn=hn===void 0?noop$1:hn,gn=sn.onHeightChange,xn=gn===void 0?noop$1:gn,yn=_objectWithoutPropertiesLoose$b(sn,_excluded$1),vn=yn.value!==void 0,En=reactExports.useRef(null),bn=useComposedRef(En,un),wn=reactExports.useRef(0),Sn=reactExports.useRef(),Rn=function(){var Cn=En.current,An=dn&&Sn.current?Sn.current:getSizingData$1(Cn);if(An){Sn.current=An;var Tn=calculateNodeHeight(An,Cn.value||Cn.placeholder||"x",mn,pn),$n=Tn[0],Dn=Tn[1];wn.current!==$n&&(wn.current=$n,Cn.style.setProperty("height",$n+"px","important"),xn($n,{rowHeight:Dn}))}},_n=function(Cn){vn||Rn(),fn(Cn)};return reactExports.useLayoutEffect(Rn),useFormResetListener(En,function(){if(!vn){var jn=En.current.value;requestAnimationFrame(function(){var Cn=En.current;Cn&&jn!==Cn.value&&Rn()})}}),useWindowResizeListener(Rn),useFontsLoadedListener(Rn),reactExports.createElement("textarea",_extends$i({},yn,{onChange:_n,ref:bn}))},index=reactExports.forwardRef(TextareaAutosize);const textComposerStateSelector=tn=>({selection:tn.selection,suggestions:tn.suggestions,text:tn.text}),searchSourceStateSelector=tn=>({isLoadingItems:tn.isLoading,items:tn.items}),configStateSelector=tn=>({enabled:tn.text.enabled}),messageComposerStateSelector=tn=>({quotedMessage:tn.quotedMessage}),attachmentManagerStateSelector=tn=>({attachments:tn.attachments}),defaultShouldSubmit=tn=>tn.key==="Enter"&&!tn.shiftKey&&!tn.nativeEvent.isComposing,TextareaComposer=({className:tn,closeSuggestionsOnClickOutside:sn,containerClassName:un,listClassName:dn,maxRows:pn,minRows:mn,onBlur:hn,onChange:fn,onKeyDown:gn,onScroll:xn,onSelect:yn,placeholder:vn,shouldSubmit:En,...bn})=>{const{t:wn}=useTranslationContext(),{AutocompleteSuggestionList:Sn=SuggestionList}=useComponentContext(),{additionalTextareaProps:Rn,cooldownRemaining:_n,focus:jn,handleSubmit:Cn,maxRows:An,minRows:Tn,onPaste:$n,shouldSubmit:Dn,textareaRef:Nn}=useMessageInputContext(),kn=pn??An??1,Pn=mn??Tn,Mn=vn??(Rn==null?void 0:Rn.placeholder),On=En??Dn??defaultShouldSubmit,Wn=useMessageComposer(),{textComposer:In}=Wn,{selection:Un,suggestions:Vn,text:Hn}=useStateStore(In.state,textComposerStateSelector),{enabled:Ln}=useStateStore(Wn.configState,configStateSelector),{quotedMessage:zn}=useStateStore(Wn.state,messageComposerStateSelector),{attachments:Bn}=useStateStore(Wn.attachmentManager.state,attachmentManagerStateSelector),{isLoadingItems:Fn}=useStateStore(Vn==null?void 0:Vn.searchSource.state,searchSourceStateSelector)??{},Gn=reactExports.useRef(null),[qn,Jn]=reactExports.useState(0),[dr,br]=reactExports.useState(!1),Er=reactExports.useCallback(Rr=>{if(fn){fn(Rr);return}Nn.current&&In.handleChange({selection:{end:Nn.current.selectionEnd,start:Nn.current.selectionStart},text:Rr.target.value})},[fn,In,Nn]),yr=reactExports.useCallback(()=>{br(!1)},[]),xr=reactExports.useCallback(()=>{br(!0)},[]),vr=reactExports.useCallback(Rr=>{var Ar;if(gn){gn(Rr);return}if(In.suggestions&&((Ar=In.suggestions.searchSource.items)!=null&&Ar.length)){if(Rr.key==="Escape")return In.closeSuggestions();const Lr=In.suggestions.searchSource.items;Rr.key==="Enter"&&(Rr.preventDefault(),In.handleSelect(Lr[qn])),Rr.key==="ArrowUp"&&(Rr.preventDefault(),Jn(Or=>{let Zn=Or-1;return Vn!=null&&Vn.searchSource.hasNext?Zn=Or:Zn<0&&(Zn=Lr.length-1),Zn})),Rr.key==="ArrowDown"&&(Rr.preventDefault(),Jn(Or=>{let Zn=Or+1;return Vn!=null&&Vn.searchSource.hasNext?Zn=Or:Zn>=Lr.length&&(Zn=0),Zn}))}else On(Rr)&&Nn.current&&(Rr.key==="Enter"&&Rr.preventDefault(),Cn(),Nn.current.selectionEnd=0)},[qn,Cn,gn,On,Vn,In,Nn]),nr=reactExports.useCallback(Rr=>{xn?xn(Rr):In.closeSuggestions()},[xn,In]),sr=reactExports.useCallback(Rr=>{yn==null||yn(Rr),In.setSelection({end:Rr.target.selectionEnd,start:Rr.target.selectionStart})},[yn,In]);return reactExports.useEffect(()=>{Nn.current&&!dr&&(Nn.current.selectionStart=Un.start,Nn.current.selectionEnd=Un.end)},[Hn,Nn,Un.start,Un.end,dr]),reactExports.useEffect(()=>{In.suggestions&&Jn(0)},[In.suggestions]),reactExports.useEffect(()=>{var Ar;const Rr=(Ar=Nn.current)==null?void 0:Ar.matches(":focus");!Nn.current||Rr||!jn||Nn.current.focus()},[Bn,jn,zn,Nn]),reactExports.useEffect(()=>{const Rr=Nn.current;Rr&&(Rr.value=Hn)},[Nn,Hn]),React$1.createElement("div",{className:clsx("rta","str-chat__textarea str-chat__message-textarea-react-host",un,{"rta--loading":Fn}),ref:Gn},React$1.createElement(index,{...Rn,...bn,"aria-label":_n?wn("Slow Mode ON"):Mn,className:clsx("rta__textarea","str-chat__textarea__textarea str-chat__message-textarea",tn),"data-testid":"message-input",disabled:!Ln||!!_n,maxRows:kn,minRows:Pn,onBlur:hn,onChange:Er,onCompositionEnd:yr,onCompositionStart:xr,onKeyDown:vr,onPaste:$n,onScroll:nr,onSelect:sr,placeholder:Mn||wn("Type your message"),ref:Rr=>{Nn.current=Rr}}),!dr&&React$1.createElement(Sn,{className:dn,closeOnClickOutside:sn,focusedItemIndex:qn,setFocusedItemIndex:Jn}))},AIStates={Generating:"AI_STATE_GENERATING",Idle:"AI_STATE_IDLE",Thinking:"AI_STATE_THINKING"},useAIState=tn=>{const[sn,un]=reactExports.useState(AIStates.Idle);return reactExports.useEffect(()=>{if(!tn)return;const dn=tn.on("ai_indicator.update",mn=>{const{cid:hn}=mn,fn=mn.ai_state;tn.cid===hn&&un(fn)}),pn=tn.on("ai_indicator.clear",mn=>{const{cid:hn}=mn;tn.cid===hn&&un(AIStates.Idle)});return()=>{dn.unsubscribe(),pn.unsubscribe()}},[tn]),{aiState:sn}},COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(tn,sn,un){const dn=withMimeType(tn),{webkitRelativePath:pn}=tn,mn=typeof sn=="string"?sn:typeof pn=="string"&&pn.length>0?pn:`./${tn.name}`;return typeof dn.path!="string"&&setObjProp(dn,"path",mn),setObjProp(dn,"relativePath",mn),dn}function withMimeType(tn){const{name:sn}=tn;if(sn&&sn.lastIndexOf(".")!==-1&&!tn.type){const dn=sn.split(".").pop().toLowerCase(),pn=COMMON_MIME_TYPES.get(dn);pn&&Object.defineProperty(tn,"type",{value:pn,writable:!1,configurable:!1,enumerable:!0})}return tn}function setObjProp(tn,sn,un){Object.defineProperty(tn,sn,{value:un,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(tn){return __awaiter(this,void 0,void 0,function*(){return isObject(tn)&&isDataTransfer(tn.dataTransfer)?getDataTransferFiles(tn.dataTransfer,tn.type):isChangeEvt(tn)?getInputFiles(tn):Array.isArray(tn)&&tn.every(sn=>"getFile"in sn&&typeof sn.getFile=="function")?getFsHandleFiles(tn):[]})}function isDataTransfer(tn){return isObject(tn)}function isChangeEvt(tn){return isObject(tn)&&isObject(tn.target)}function isObject(tn){return typeof tn=="object"&&tn!==null}function getInputFiles(tn){return fromList(tn.target.files).map(sn=>toFileWithPath(sn))}function getFsHandleFiles(tn){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(tn.map(un=>un.getFile()))).map(un=>toFileWithPath(un))})}function getDataTransferFiles(tn,sn){return __awaiter(this,void 0,void 0,function*(){if(tn.items){const un=fromList(tn.items).filter(pn=>pn.kind==="file");if(sn!=="drop")return un;const dn=yield Promise.all(un.map(toFilePromises));return noIgnoredFiles(flatten(dn))}return noIgnoredFiles(fromList(tn.files).map(un=>toFileWithPath(un)))})}function noIgnoredFiles(tn){return tn.filter(sn=>FILES_TO_IGNORE.indexOf(sn.name)===-1)}function fromList(tn){if(tn===null)return[];const sn=[];for(let un=0;un<tn.length;un++){const dn=tn[un];sn.push(dn)}return sn}function toFilePromises(tn){if(typeof tn.webkitGetAsEntry!="function")return fromDataTransferItem(tn);const sn=tn.webkitGetAsEntry();return sn&&sn.isDirectory?fromDirEntry(sn):fromDataTransferItem(tn,sn)}function flatten(tn){return tn.reduce((sn,un)=>[...sn,...Array.isArray(un)?flatten(un):[un]],[])}function fromDataTransferItem(tn,sn){return __awaiter(this,void 0,void 0,function*(){var un;if(globalThis.isSecureContext&&typeof tn.getAsFileSystemHandle=="function"){const mn=yield tn.getAsFileSystemHandle();if(mn===null)throw new Error(`${tn} is not a File`);if(mn!==void 0){const hn=yield mn.getFile();return hn.handle=mn,toFileWithPath(hn)}}const dn=tn.getAsFile();if(!dn)throw new Error(`${tn} is not a File`);return toFileWithPath(dn,(un=sn==null?void 0:sn.fullPath)!==null&&un!==void 0?un:void 0)})}function fromEntry(tn){return __awaiter(this,void 0,void 0,function*(){return tn.isDirectory?fromDirEntry(tn):fromFileEntry(tn)})}function fromDirEntry(tn){const sn=tn.createReader();return new Promise((un,dn)=>{const pn=[];function mn(){sn.readEntries(hn=>__awaiter(this,void 0,void 0,function*(){if(hn.length){const fn=Promise.all(hn.map(fromEntry));pn.push(fn),mn()}else try{const fn=yield Promise.all(pn);un(fn)}catch(fn){dn(fn)}}),hn=>{dn(hn)})}mn()})}function fromFileEntry(tn){return __awaiter(this,void 0,void 0,function*(){return new Promise((sn,un)=>{tn.file(dn=>{const pn=toFileWithPath(dn,tn.fullPath);sn(pn)},dn=>{un(dn)})})})}var _default=function(tn,sn){if(tn&&sn){var un=Array.isArray(sn)?sn:sn.split(",");if(un.length===0)return!0;var dn=tn.name||"",pn=(tn.type||"").toLowerCase(),mn=pn.replace(/\/.*$/,"");return un.some(function(hn){var fn=hn.trim().toLowerCase();return fn.charAt(0)==="."?dn.toLowerCase().endsWith(fn):fn.endsWith("/*")?mn===fn.replace(/\/.*$/,""):pn===fn})}return!0};function _toConsumableArray$1(tn){return _arrayWithoutHoles$1(tn)||_iterableToArray$1(tn)||_unsupportedIterableToArray$1(tn)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles$1(tn){if(Array.isArray(tn))return _arrayLikeToArray$1(tn)}function ownKeys$1(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread$1(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys$1(Object(un),!0).forEach(function(dn){_defineProperty$1(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys$1(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty$1(tn,sn,un){return sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _slicedToArray$1(tn,sn){return _arrayWithHoles$1(tn)||_iterableToArrayLimit$1(tn,sn)||_unsupportedIterableToArray$1(tn,sn)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray$1(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray$1(tn,sn)}}function _arrayLikeToArray$1(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit$1(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn=[],pn=!0,mn=!1,hn,fn;try{for(un=un.call(tn);!(pn=(hn=un.next()).done)&&(dn.push(hn.value),!(sn&&dn.length===sn));pn=!0);}catch(gn){mn=!0,fn=gn}finally{try{!pn&&un.return!=null&&un.return()}finally{if(mn)throw fn}}return dn}}function _arrayWithHoles$1(tn){if(Array.isArray(tn))return tn}var accepts=typeof _default=="function"?_default:_default.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function tn(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",un=sn.split(","),dn=un.length>1?"one of ".concat(un.join(", ")):un[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(dn)}},getTooLargeRejectionErr=function tn(sn){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(sn," ").concat(sn===1?"byte":"bytes")}},getTooSmallRejectionErr=function tn(sn){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(sn," ").concat(sn===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(tn,sn){var un=tn.type==="application/x-moz-file"||accepts(tn,sn);return[un,un?null:getInvalidTypeRejectionErr(sn)]}function fileMatchSize(tn,sn,un){if(isDefined(tn.size))if(isDefined(sn)&&isDefined(un)){if(tn.size>un)return[!1,getTooLargeRejectionErr(un)];if(tn.size<sn)return[!1,getTooSmallRejectionErr(sn)]}else{if(isDefined(sn)&&tn.size<sn)return[!1,getTooSmallRejectionErr(sn)];if(isDefined(un)&&tn.size>un)return[!1,getTooLargeRejectionErr(un)]}return[!0,null]}function isDefined(tn){return tn!=null}function allFilesAccepted(tn){var sn=tn.files,un=tn.accept,dn=tn.minSize,pn=tn.maxSize,mn=tn.multiple,hn=tn.maxFiles,fn=tn.validator;return!mn&&sn.length>1||mn&&hn>=1&&sn.length>hn?!1:sn.every(function(gn){var xn=fileAccepted(gn,un),yn=_slicedToArray$1(xn,1),vn=yn[0],En=fileMatchSize(gn,dn,pn),bn=_slicedToArray$1(En,1),wn=bn[0],Sn=fn?fn(gn):null;return vn&&wn&&!Sn})}function isPropagationStopped(tn){return typeof tn.isPropagationStopped=="function"?tn.isPropagationStopped():typeof tn.cancelBubble<"u"?tn.cancelBubble:!1}function isEvtWithFiles(tn){return tn.dataTransfer?Array.prototype.some.call(tn.dataTransfer.types,function(sn){return sn==="Files"||sn==="application/x-moz-file"}):!!tn.target&&!!tn.target.files}function onDocumentDragOver(tn){tn.preventDefault()}function isIe(tn){return tn.indexOf("MSIE")!==-1||tn.indexOf("Trident/")!==-1}function isEdge(tn){return tn.indexOf("Edge/")!==-1}function isIeOrEdge(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(tn)||isEdge(tn)}function composeEventHandlers(){for(var tn=arguments.length,sn=new Array(tn),un=0;un<tn;un++)sn[un]=arguments[un];return function(dn){for(var pn=arguments.length,mn=new Array(pn>1?pn-1:0),hn=1;hn<pn;hn++)mn[hn-1]=arguments[hn];return sn.some(function(fn){return!isPropagationStopped(dn)&&fn&&fn.apply(void 0,[dn].concat(mn)),isPropagationStopped(dn)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(tn){if(isDefined(tn)){var sn=Object.entries(tn).filter(function(un){var dn=_slicedToArray$1(un,2),pn=dn[0],mn=dn[1],hn=!0;return isMIMEType(pn)||(console.warn('Skipped "'.concat(pn,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),hn=!1),(!Array.isArray(mn)||!mn.every(isExt))&&(console.warn('Skipped "'.concat(pn,'" because an invalid file extension was provided.')),hn=!1),hn}).reduce(function(un,dn){var pn=_slicedToArray$1(dn,2),mn=pn[0],hn=pn[1];return _objectSpread$1(_objectSpread$1({},un),{},_defineProperty$1({},mn,hn))},{});return[{description:"Files",accept:sn}]}return tn}function acceptPropAsAcceptAttr(tn){if(isDefined(tn))return Object.entries(tn).reduce(function(sn,un){var dn=_slicedToArray$1(un,2),pn=dn[0],mn=dn[1];return[].concat(_toConsumableArray$1(sn),[pn],_toConsumableArray$1(mn))},[]).filter(function(sn){return isMIMEType(sn)||isExt(sn)}).join(",")}function isAbort(tn){return tn instanceof DOMException&&(tn.name==="AbortError"||tn.code===tn.ABORT_ERR)}function isSecurityError(tn){return tn instanceof DOMException&&(tn.name==="SecurityError"||tn.code===tn.SECURITY_ERR)}function isMIMEType(tn){return tn==="audio/*"||tn==="video/*"||tn==="image/*"||tn==="text/*"||tn==="application/*"||/\w+\/[-+.\w]+/g.test(tn)}function isExt(tn){return/^.*\.[\w]+$/.test(tn)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(tn){return _arrayWithoutHoles(tn)||_iterableToArray(tn)||_unsupportedIterableToArray(tn)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(tn){if(typeof Symbol<"u"&&tn[Symbol.iterator]!=null||tn["@@iterator"]!=null)return Array.from(tn)}function _arrayWithoutHoles(tn){if(Array.isArray(tn))return _arrayLikeToArray(tn)}function _slicedToArray(tn,sn){return _arrayWithHoles(tn)||_iterableToArrayLimit(tn,sn)||_unsupportedIterableToArray(tn,sn)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(tn,sn){if(tn){if(typeof tn=="string")return _arrayLikeToArray(tn,sn);var un=Object.prototype.toString.call(tn).slice(8,-1);if(un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set")return Array.from(tn);if(un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un))return _arrayLikeToArray(tn,sn)}}function _arrayLikeToArray(tn,sn){(sn==null||sn>tn.length)&&(sn=tn.length);for(var un=0,dn=new Array(sn);un<sn;un++)dn[un]=tn[un];return dn}function _iterableToArrayLimit(tn,sn){var un=tn==null?null:typeof Symbol<"u"&&tn[Symbol.iterator]||tn["@@iterator"];if(un!=null){var dn=[],pn=!0,mn=!1,hn,fn;try{for(un=un.call(tn);!(pn=(hn=un.next()).done)&&(dn.push(hn.value),!(sn&&dn.length===sn));pn=!0);}catch(gn){mn=!0,fn=gn}finally{try{!pn&&un.return!=null&&un.return()}finally{if(mn)throw fn}}return dn}}function _arrayWithHoles(tn){if(Array.isArray(tn))return tn}function ownKeys(tn,sn){var un=Object.keys(tn);if(Object.getOwnPropertySymbols){var dn=Object.getOwnPropertySymbols(tn);sn&&(dn=dn.filter(function(pn){return Object.getOwnPropertyDescriptor(tn,pn).enumerable})),un.push.apply(un,dn)}return un}function _objectSpread(tn){for(var sn=1;sn<arguments.length;sn++){var un=arguments[sn]!=null?arguments[sn]:{};sn%2?ownKeys(Object(un),!0).forEach(function(dn){_defineProperty(tn,dn,un[dn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(un)):ownKeys(Object(un)).forEach(function(dn){Object.defineProperty(tn,dn,Object.getOwnPropertyDescriptor(un,dn))})}return tn}function _defineProperty(tn,sn,un){return sn in tn?Object.defineProperty(tn,sn,{value:un,enumerable:!0,configurable:!0,writable:!0}):tn[sn]=un,tn}function _objectWithoutProperties(tn,sn){if(tn==null)return{};var un=_objectWithoutPropertiesLoose(tn,sn),dn,pn;if(Object.getOwnPropertySymbols){var mn=Object.getOwnPropertySymbols(tn);for(pn=0;pn<mn.length;pn++)dn=mn[pn],!(sn.indexOf(dn)>=0)&&Object.prototype.propertyIsEnumerable.call(tn,dn)&&(un[dn]=tn[dn])}return un}function _objectWithoutPropertiesLoose(tn,sn){if(tn==null)return{};var un={},dn=Object.keys(tn),pn,mn;for(mn=0;mn<dn.length;mn++)pn=dn[mn],!(sn.indexOf(pn)>=0)&&(un[pn]=tn[pn]);return un}var Dropzone=reactExports.forwardRef(function(tn,sn){var un=tn.children,dn=_objectWithoutProperties(tn,_excluded),pn=useDropzone(dn),mn=pn.open,hn=_objectWithoutProperties(pn,_excluded2);return reactExports.useImperativeHandle(sn,function(){return{open:mn}},[mn]),React$1.createElement(reactExports.Fragment,null,un(_objectSpread(_objectSpread({},hn),{},{open:mn})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState$1={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},sn=_objectSpread(_objectSpread({},defaultProps),tn),un=sn.accept,dn=sn.disabled,pn=sn.getFilesFromEvent,mn=sn.maxSize,hn=sn.minSize,fn=sn.multiple,gn=sn.maxFiles,xn=sn.onDragEnter,yn=sn.onDragLeave,vn=sn.onDragOver,En=sn.onDrop,bn=sn.onDropAccepted,wn=sn.onDropRejected,Sn=sn.onFileDialogCancel,Rn=sn.onFileDialogOpen,_n=sn.useFsAccessApi,jn=sn.autoFocus,Cn=sn.preventDropOnDocument,An=sn.noClick,Tn=sn.noKeyboard,$n=sn.noDrag,Dn=sn.noDragEventsBubbling,Nn=sn.onError,kn=sn.validator,Pn=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(un)},[un]),Mn=reactExports.useMemo(function(){return pickerOptionsFromAccept(un)},[un]),On=reactExports.useMemo(function(){return typeof Rn=="function"?Rn:noop},[Rn]),Wn=reactExports.useMemo(function(){return typeof Sn=="function"?Sn:noop},[Sn]),In=reactExports.useRef(null),Un=reactExports.useRef(null),Vn=reactExports.useReducer(reducer,initialState$1),Hn=_slicedToArray(Vn,2),Ln=Hn[0],zn=Hn[1],Bn=Ln.isFocused,Fn=Ln.isFileDialogActive,Gn=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&_n&&canUseFileSystemAccessAPI()),qn=function(){!Gn.current&&Fn&&setTimeout(function(){if(Un.current){var $r=Un.current.files;$r.length||(zn({type:"closeDialog"}),Wn())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",qn,!1),function(){window.removeEventListener("focus",qn,!1)}},[Un,Fn,Wn,Gn]);var Jn=reactExports.useRef([]),dr=function($r){In.current&&In.current.contains($r.target)||($r.preventDefault(),Jn.current=[])};reactExports.useEffect(function(){return Cn&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",dr,!1)),function(){Cn&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",dr))}},[In,Cn]),reactExports.useEffect(function(){return!dn&&jn&&In.current&&In.current.focus(),function(){}},[In,jn,dn]);var br=reactExports.useCallback(function(Xn){Nn?Nn(Xn):console.error(Xn)},[Nn]),Er=reactExports.useCallback(function(Xn){Xn.preventDefault(),Xn.persist(),Pr(Xn),Jn.current=[].concat(_toConsumableArray(Jn.current),[Xn.target]),isEvtWithFiles(Xn)&&Promise.resolve(pn(Xn)).then(function($r){if(!(isPropagationStopped(Xn)&&!Dn)){var lr=$r.length,gr=lr>0&&allFilesAccepted({files:$r,accept:Pn,minSize:hn,maxSize:mn,multiple:fn,maxFiles:gn,validator:kn}),_r=lr>0&&!gr;zn({isDragAccept:gr,isDragReject:_r,isDragActive:!0,type:"setDraggedFiles"}),xn&&xn(Xn)}}).catch(function($r){return br($r)})},[pn,xn,br,Dn,Pn,hn,mn,fn,gn,kn]),yr=reactExports.useCallback(function(Xn){Xn.preventDefault(),Xn.persist(),Pr(Xn);var $r=isEvtWithFiles(Xn);if($r&&Xn.dataTransfer)try{Xn.dataTransfer.dropEffect="copy"}catch{}return $r&&vn&&vn(Xn),!1},[vn,Dn]),xr=reactExports.useCallback(function(Xn){Xn.preventDefault(),Xn.persist(),Pr(Xn);var $r=Jn.current.filter(function(gr){return In.current&&In.current.contains(gr)}),lr=$r.indexOf(Xn.target);lr!==-1&&$r.splice(lr,1),Jn.current=$r,!($r.length>0)&&(zn({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Xn)&&yn&&yn(Xn))},[In,yn,Dn]),vr=reactExports.useCallback(function(Xn,$r){var lr=[],gr=[];Xn.forEach(function(_r){var Hr=fileAccepted(_r,Pn),Vr=_slicedToArray(Hr,2),ss=Vr[0],Rs=Vr[1],Cs=fileMatchSize(_r,hn,mn),Ps=_slicedToArray(Cs,2),js=Ps[0],ms=Ps[1],ks=kn?kn(_r):null;if(ss&&js&&!ks)lr.push(_r);else{var Nr=[Rs,ms];ks&&(Nr=Nr.concat(ks)),gr.push({file:_r,errors:Nr.filter(function(Yr){return Yr})})}}),(!fn&&lr.length>1||fn&&gn>=1&&lr.length>gn)&&(lr.forEach(function(_r){gr.push({file:_r,errors:[TOO_MANY_FILES_REJECTION]})}),lr.splice(0)),zn({acceptedFiles:lr,fileRejections:gr,isDragReject:gr.length>0,type:"setFiles"}),En&&En(lr,gr,$r),gr.length>0&&wn&&wn(gr,$r),lr.length>0&&bn&&bn(lr,$r)},[zn,fn,Pn,hn,mn,gn,En,bn,wn,kn]),nr=reactExports.useCallback(function(Xn){Xn.preventDefault(),Xn.persist(),Pr(Xn),Jn.current=[],isEvtWithFiles(Xn)&&Promise.resolve(pn(Xn)).then(function($r){isPropagationStopped(Xn)&&!Dn||vr($r,Xn)}).catch(function($r){return br($r)}),zn({type:"reset"})},[pn,vr,br,Dn]),sr=reactExports.useCallback(function(){if(Gn.current){zn({type:"openDialog"}),On();var Xn={multiple:fn,types:Mn};window.showOpenFilePicker(Xn).then(function($r){return pn($r)}).then(function($r){vr($r,null),zn({type:"closeDialog"})}).catch(function($r){isAbort($r)?(Wn($r),zn({type:"closeDialog"})):isSecurityError($r)?(Gn.current=!1,Un.current?(Un.current.value=null,Un.current.click()):br(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):br($r)});return}Un.current&&(zn({type:"openDialog"}),On(),Un.current.value=null,Un.current.click())},[zn,On,Wn,_n,vr,br,Mn,fn]),Rr=reactExports.useCallback(function(Xn){!In.current||!In.current.isEqualNode(Xn.target)||(Xn.key===" "||Xn.key==="Enter"||Xn.keyCode===32||Xn.keyCode===13)&&(Xn.preventDefault(),sr())},[In,sr]),Ar=reactExports.useCallback(function(){zn({type:"focus"})},[]),Lr=reactExports.useCallback(function(){zn({type:"blur"})},[]),Or=reactExports.useCallback(function(){An||(isIeOrEdge()?setTimeout(sr,0):sr())},[An,sr]),Zn=function($r){return dn?null:$r},Cr=function($r){return Tn?null:Zn($r)},Fr=function($r){return $n?null:Zn($r)},Pr=function($r){Dn&&$r.stopPropagation()},Br=reactExports.useMemo(function(){return function(){var Xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$r=Xn.refKey,lr=$r===void 0?"ref":$r,gr=Xn.role,_r=Xn.onKeyDown,Hr=Xn.onFocus,Vr=Xn.onBlur,ss=Xn.onClick,Rs=Xn.onDragEnter,Cs=Xn.onDragOver,Ps=Xn.onDragLeave,js=Xn.onDrop,ms=_objectWithoutProperties(Xn,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Cr(composeEventHandlers(_r,Rr)),onFocus:Cr(composeEventHandlers(Hr,Ar)),onBlur:Cr(composeEventHandlers(Vr,Lr)),onClick:Zn(composeEventHandlers(ss,Or)),onDragEnter:Fr(composeEventHandlers(Rs,Er)),onDragOver:Fr(composeEventHandlers(Cs,yr)),onDragLeave:Fr(composeEventHandlers(Ps,xr)),onDrop:Fr(composeEventHandlers(js,nr)),role:typeof gr=="string"&&gr!==""?gr:"presentation"},lr,In),!dn&&!Tn?{tabIndex:0}:{}),ms)}},[In,Rr,Ar,Lr,Or,Er,yr,xr,nr,Tn,$n,dn]),ar=reactExports.useCallback(function(Xn){Xn.stopPropagation()},[]),pr=reactExports.useMemo(function(){return function(){var Xn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$r=Xn.refKey,lr=$r===void 0?"ref":$r,gr=Xn.onChange,_r=Xn.onClick,Hr=_objectWithoutProperties(Xn,_excluded4),Vr=_defineProperty({accept:Pn,multiple:fn,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Zn(composeEventHandlers(gr,nr)),onClick:Zn(composeEventHandlers(_r,ar)),tabIndex:-1},lr,Un);return _objectSpread(_objectSpread({},Vr),Hr)}},[Un,un,fn,nr,dn]);return _objectSpread(_objectSpread({},Ln),{},{isFocused:Bn&&!dn,getRootProps:Br,getInputProps:pr,rootRef:In,inputRef:Un,open:Zn(sr)})}function reducer(tn,sn){switch(sn.type){case"focus":return _objectSpread(_objectSpread({},tn),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},tn),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState$1),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},tn),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},tn),{},{isDragActive:sn.isDragActive,isDragAccept:sn.isDragAccept,isDragReject:sn.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},tn),{},{acceptedFiles:sn.acceptedFiles,fileRejections:sn.fileRejections,isDragReject:sn.isDragReject});case"reset":return _objectSpread({},initialState$1);default:return tn}}function noop(){}const DragAndDropUploadContext=React$1.createContext({subscribeToDrop:null}),useDragAndDropUploadContext=()=>reactExports.useContext(DragAndDropUploadContext),useRegisterDropHandlers=()=>{const{subscribeToDrop:tn}=useDragAndDropUploadContext(),sn=useMessageComposer();reactExports.useEffect(()=>tn==null?void 0:tn(sn.attachmentManager.uploadFiles),[tn,sn])},attachmentManagerConfigStateSelector$1=tn=>({acceptedFiles:tn.attachments.acceptedFiles,multipleUploads:tn.attachments.maxNumberOfFilesPerMessage>1}),WithDragAndDropUpload=({children:tn,className:sn,component:un="div",style:dn})=>{const pn=reactExports.useRef(new Set),{t:mn}=useTranslationContext(),hn=useMessageInputContext(),fn=useDragAndDropUploadContext(),gn=useMessageComposer(),{isUploadEnabled:xn}=useAttachmentManagerState(),{acceptedFiles:yn,multipleUploads:vn}=useStateStore(gn.configState,attachmentManagerConfigStateSelector$1),En=Object.keys(hn).length>0,bn=reactExports.useMemo(()=>yn.reduce((Cn,An)=>(Cn[An]??(Cn[An]=[]),Cn),{}),[yn]),wn=reactExports.useCallback(Cn=>(pn.current.add(Cn),()=>{pn.current.delete(Cn)}),[]),Sn=reactExports.useCallback(Cn=>{pn.current.forEach(An=>An(Cn))},[]),{getRootProps:Rn,isDragActive:_n,isDragReject:jn}=useDropzone({accept:bn,disabled:En?!xn||(hn.cooldownRemaining??0)>0:!1,multiple:vn,noClick:!0,onDrop:En?gn.attachmentManager.uploadFiles:Sn});return fn.subscribeToDrop!==null?React$1.createElement(un,{className:sn},tn):React$1.createElement(DragAndDropUploadContext.Provider,{value:{subscribeToDrop:wn}},React$1.createElement(un,{...Rn({className:sn,style:dn})},_n&&React$1.createElement("div",{className:clsx("str-chat__dropzone-container",{"str-chat__dropzone-container--not-accepted":jn})},!jn&&React$1.createElement("p",null,mn("Drag your files here")),jn&&React$1.createElement("p",null,mn("Some of the files will not be accepted"))),tn))},MessageInputFlat=()=>{const{message:tn}=useMessageContext(),{asyncMessagesMultiSendEnabled:sn,cooldownRemaining:un,handleSubmit:dn,hideSendButton:pn,recordingController:mn,setCooldownRemaining:hn}=useMessageInputContext(),{AttachmentPreviewList:fn=AttachmentPreviewList,AttachmentSelector:gn=tn?SimpleAttachmentSelector:AttachmentSelector,AudioRecorder:xn=AudioRecorder,CooldownTimer:yn=CooldownTimer,EmojiPicker:vn,LinkPreviewList:En=LinkPreviewList,QuotedMessagePreview:bn=QuotedMessagePreview,RecordingPermissionDeniedNotification:wn=RecordingPermissionDeniedNotification,SendButton:Sn=SendButton,SendToChannelCheckbox:Rn=SendToChannelCheckbox,StartRecordingAudioButton:_n=StartRecordingAudioButton,StopAIGenerationButton:jn,TextareaComposer:Cn=TextareaComposer}=useComponentContext(),{channel:An}=useChatContext("MessageInputFlat"),{aiState:Tn}=useAIState(An),$n=reactExports.useCallback(()=>An==null?void 0:An.stopAIResponse(),[An]),[Dn,Nn]=reactExports.useState(!1),kn=reactExports.useCallback(()=>{Nn(!1)},[]),{attachments:Pn}=useAttachmentManagerState();if(mn.recordingState)return React$1.createElement(xn,null);const Mn=!!(mn.recorder&&navigator.mediaDevices),On=!!mn.recordingState,Wn=jn===void 0?StopAIGenerationButton:jn,In=[AIStates.Thinking,AIStates.Generating].includes(Tn)&&!!Wn;return React$1.createElement(WithDragAndDropUpload,{className:"str-chat__message-input",component:"div"},Mn&&mn.permissionState==="denied"&&Dn&&React$1.createElement(wn,{onClose:kn,permissionName:RecordingPermission.MIC}),React$1.createElement(En,null),React$1.createElement(QuotedMessagePreviewHeader,null),React$1.createElement("div",{className:"str-chat__message-input-inner"},React$1.createElement(gn,null),React$1.createElement("div",{className:"str-chat__message-textarea-container"},React$1.createElement(bn,null),React$1.createElement(fn,null),React$1.createElement("div",{className:"str-chat__message-textarea-with-emoji-picker"},React$1.createElement(Cn,null),vn&&React$1.createElement(vn,null))),In?React$1.createElement(Wn,{onClick:$n}):!pn&&React$1.createElement(React$1.Fragment,null,un?React$1.createElement(yn,{cooldownInterval:un,setCooldownRemaining:hn}):React$1.createElement(React$1.Fragment,null,React$1.createElement(Sn,{sendMessage:dn}),Mn&&React$1.createElement(_n,{disabled:On||!sn&&Pn.some(Un=>Un.type===RecordingAttachmentType.VOICE_RECORDING),onClick:()=>{var Un;(Un=mn.recorder)==null||Un.start(),Nn(!0)}})))),React$1.createElement(Rn,null))},useCreateMessageInputContext=tn=>{const{additionalTextareaProps:sn,asyncMessagesMultiSendEnabled:un,audioRecordingEnabled:dn,clearEditingState:pn,cooldownInterval:mn,cooldownRemaining:hn,emojiSearchIndex:fn,focus:gn,handleSubmit:xn,hideSendButton:yn,isThreadInput:vn,maxRows:En,minRows:bn,onPaste:wn,parent:Sn,recordingController:Rn,setCooldownRemaining:_n,shouldSubmit:jn,textareaRef:Cn}=tn,An=Sn==null?void 0:Sn.id;return reactExports.useMemo(()=>({additionalTextareaProps:sn,asyncMessagesMultiSendEnabled:un,audioRecordingEnabled:dn,clearEditingState:pn,cooldownInterval:mn,cooldownRemaining:hn,emojiSearchIndex:fn,focus:gn,handleSubmit:xn,hideSendButton:yn,isThreadInput:vn,maxRows:En,minRows:bn,onPaste:wn,parent:Sn,recordingController:Rn,setCooldownRemaining:_n,shouldSubmit:jn,textareaRef:Cn}),[un,dn,mn,hn,fn,xn,yn,vn,bn,An,Rn])},MessageInputProvider=tn=>{const sn=useCooldownTimer(),un=useMessageInputControls(tn),{emojiSearchIndex:dn}=useComponentContext(),pn=useCreateMessageInputContext({...sn,...un,...tn,emojiSearchIndex:tn.emojiSearchIndex??dn}),mn=useMessageComposer();return reactExports.useEffect(()=>()=>{mn.createDraft()},[mn]),reactExports.useEffect(()=>{const hn=mn.threadId;!hn||!mn.channel||!mn.compositionIsEmpty||!mn.config.drafts.enabled||mn.channel.getDraft({parent_id:hn}).then(({draft:fn})=>{fn&&mn.initState({composition:fn})})},[mn]),useRegisterDropHandlers(),React$1.createElement(MessageInputContextProvider,{value:pn},tn.children)},UnMemoizedMessageInput=tn=>{const{Input:sn}=tn,{Input:un}=useComponentContext(),dn=useStableId(),pn=sn||un||MessageInputFlat,mn=tn.isThreadInput?`message-input-dialog-manager-thread-${dn}`:`message-input-dialog-manager-${dn}`;return React$1.createElement(DialogManagerProvider,{id:mn},React$1.createElement(MessageInputProvider,{...tn},React$1.createElement(pn,null)))},MessageInput=React$1.memo(UnMemoizedMessageInput),EditMessageFormSendButton=()=>{const{t:tn}=useTranslationContext(),sn=useMessageComposerHasSendableData();return React$1.createElement("button",{className:"str-chat__edit-message-send","data-testid":"send-button-edit-form",disabled:!sn,type:"submit"},tn("Send"))},EditMessageForm=()=>{const{t:tn}=useTranslationContext("EditMessageForm"),sn=useMessageComposer(),{clearEditingState:un,handleSubmit:dn}=useMessageInputContext(),pn=reactExports.useCallback(()=>{un==null||un(),sn.restore()},[un,sn]);return reactExports.useEffect(()=>{const mn=hn=>{hn.key==="Escape"&&pn()};return document.addEventListener("keydown",mn),()=>document.removeEventListener("keydown",mn)},[pn]),React$1.createElement("form",{autoComplete:"off",className:"str-chat__edit-message-form",onSubmit:dn},React$1.createElement(MessageInputFlat,null),React$1.createElement("div",{className:"str-chat__edit-message-form-options"},React$1.createElement("button",{className:"str-chat__edit-message-cancel","data-testid":"cancel-button",onClick:pn,type:"button"},tn("Cancel")),React$1.createElement(EditMessageFormSendButton,null)))},EditMessageModal=({additionalMessageInputProps:tn})=>{const{EditMessageInput:sn=EditMessageForm}=useComponentContext(),{clearEditingState:un}=useMessageContext(),dn=useMessageComposer(),pn=reactExports.useCallback(()=>{un(),dn.restore()},[un,dn]);return React$1.createElement(Modal,{className:"str-chat__edit-message-modal",onClose:pn,open:!0},React$1.createElement(MessageInput,{clearEditingState:un,focus:!0,hideSendButton:!0,Input:sn,...tn}))},attachmentManagerConfigStateSelector=tn=>({acceptedFiles:tn.attachments.acceptedFiles,maxNumberOfFilesPerMessage:tn.attachments.maxNumberOfFilesPerMessage}),UploadButton=reactExports.forwardRef(function tn({onFileChange:sn,resetOnChange:un=!0,...dn},pn){const mn=useHandleFileChangeWrapper(un,sn);return React$1.createElement("input",{onChange:mn,ref:pn,type:"file",...dn})}),FileInput=UploadButton,UploadFileInput=reactExports.forwardRef(function tn({className:sn,onFileChange:un,...dn},pn){const{t:mn}=useTranslationContext("UploadFileInput"),{cooldownRemaining:hn,textareaRef:fn}=useMessageInputContext(),gn=useMessageComposer(),{attachmentManager:xn}=gn,{isUploadEnabled:yn}=useAttachmentManagerState(),{acceptedFiles:vn,maxNumberOfFilesPerMessage:En}=useStateStore(gn.configState,attachmentManagerConfigStateSelector),bn=reactExports.useMemo(()=>nanoid(),[]),wn=reactExports.useCallback(Sn=>{var Rn;xn.uploadFiles(Sn),(Rn=fn.current)==null||Rn.focus(),un==null||un(Sn)},[un,xn,fn]);return React$1.createElement(FileInput,{accept:vn==null?void 0:vn.join(","),"aria-label":mn("aria/File upload"),"data-testid":"file-input",disabled:!yn||!!hn,id:bn,multiple:En>1,...dn,className:clsx("str-chat__file-input",sn),onFileChange:wn,ref:pn})}),rootClassName="str-chat__message-attachment__voice-recording-widget",VoiceRecordingPlayer=({attachment:tn,playbackRates:sn})=>{const{t:un}=useTranslationContext("VoiceRecordingPlayer"),{asset_url:dn,duration:pn=0,mime_type:mn,title:hn=un("Voice message"),waveform_data:fn}=tn,{audioRef:gn,increasePlaybackRate:xn,isPlaying:yn,playbackRate:vn,progress:En,secondsElapsed:bn,seek:wn,togglePlay:Sn}=useAudioController({durationSeconds:pn??0,mimeType:mn,playbackRates:sn});if(!dn)return null;const Rn=bn||pn;return React$1.createElement("div",{className:rootClassName,"data-testid":"voice-recording-widget"},React$1.createElement("audio",{ref:gn},React$1.createElement("source",{"data-testid":"audio-source",src:dn,type:mn})),React$1.createElement(PlayButton,{isPlaying:yn,onClick:Sn}),React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__metadata"},React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__title","data-testid":"voice-recording-title",title:hn},hn),React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__audio-state"},React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__timer"},tn.duration?displayDuration(Rn):React$1.createElement(FileSizeIndicator,{fileSize:tn.file_size,maximumFractionDigits:0})),React$1.createElement(WaveProgressBar,{progress:En,seek:wn,waveformData:fn||[]}))),React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__right-section"},yn?React$1.createElement(PlaybackRateButton,{disabled:!gn.current,onClick:xn},vn.toFixed(1),"x"):React$1.createElement(FileIcon,{big:!0,mimeType:mn,size:40})))},QuotedVoiceRecording=({attachment:tn})=>{const{t:sn}=useTranslationContext(),un=tn.title||sn("Voice message");return React$1.createElement("div",{className:rootClassName,"data-testid":"quoted-voice-recording-widget"},React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__metadata"},un&&React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__title","data-testid":"voice-recording-title",title:un},un),React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__audio-state"},React$1.createElement("div",{className:"str-chat__message-attachment__voice-recording-widget__timer"},tn.duration?displayDuration(tn.duration):React$1.createElement(FileSizeIndicator,{fileSize:tn.file_size,maximumFractionDigits:0})))),React$1.createElement(FileIcon,{big:!0,mimeType:tn.mime_type,size:34}))},VoiceRecording=({attachment:tn,isQuoted:sn})=>sn?React$1.createElement(QuotedVoiceRecording,{attachment:tn}):React$1.createElement(VoiceRecordingPlayer,{attachment:tn}),getHostFromURL=tn=>{if(tn!=null){const[sn]=tn.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/");return sn}return null},UnableToRenderCard=({type:tn})=>{const{t:sn}=useTranslationContext("Card");return React$1.createElement("div",{className:clsx("str-chat__message-attachment-card",{[`str-chat__message-attachment-card--${tn}`]:tn})},React$1.createElement("div",{className:"str-chat__message-attachment-card--content"},React$1.createElement("div",{className:"str-chat__message-attachment-card--text"},sn("this content could not be displayed"))))},SourceLink=({author_name:tn,url:sn})=>React$1.createElement("div",{className:"str-chat__message-attachment-card--source-link","data-testid":"card-source-link"},React$1.createElement(SafeAnchor,{className:"str-chat__message-attachment-card--url",href:sn,rel:"noopener noreferrer",target:"_blank"},tn||getHostFromURL(sn))),CardHeader=tn=>{const{asset_url:sn,dimensions:un,image:dn,image_url:pn,thumb_url:mn,title:hn,type:fn}=tn;let gn=null;return sn&&fn==="video"?gn=React$1.createElement(ReactPlayer,{className:"react-player",controls:!0,height:"100%",url:sn,width:"100%"}):dn&&(gn=React$1.createElement(ImageComponent,{dimensions:un,fallback:hn||dn,image_url:pn,thumb_url:mn})),gn?React$1.createElement("div",{className:"str-chat__message-attachment-card--header str-chat__message-attachment-card-react--header","data-testid":"card-header"},gn):null},CardContent=tn=>{const{author_name:sn,og_scrape_url:un,text:dn,title:pn,title_link:mn,type:hn}=tn,fn=mn||un;return React$1.createElement("div",{className:"str-chat__message-attachment-card--content"},hn==="audio"?React$1.createElement(CardAudio,{og:tn}):React$1.createElement("div",{className:"str-chat__message-attachment-card--flex"},fn&&React$1.createElement(SourceLink,{author_name:sn,url:fn}),pn&&React$1.createElement("div",{className:"str-chat__message-attachment-card--title"},pn),dn&&React$1.createElement("div",{className:"str-chat__message-attachment-card--text"},dn)))},CardAudio=({og:{asset_url:tn,author_name:sn,mime_type:un,og_scrape_url:dn,text:pn,title:mn,title_link:hn}})=>{const{audioRef:fn,isPlaying:gn,progress:xn,seek:yn,togglePlay:vn}=useAudioController({mimeType:un}),En=hn||dn;return React$1.createElement("div",{className:"str-chat__message-attachment-card-audio-widget","data-testid":"card-audio-widget"},tn&&React$1.createElement(React$1.Fragment,null,React$1.createElement("audio",{ref:fn},React$1.createElement("source",{"data-testid":"audio-source",src:tn,type:"audio/mp3"})),React$1.createElement("div",{className:"str-chat__message-attachment-card-audio-widget--first-row"},React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--play-controls"},React$1.createElement(PlayButton,{isPlaying:gn,onClick:vn})),React$1.createElement(ProgressBar,{onClick:yn,progress:xn}))),React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--second-row"},En&&React$1.createElement(SourceLink,{author_name:sn,url:En}),mn&&React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--title"},mn),pn&&React$1.createElement("div",{className:"str-chat__message-attachment-audio-widget--description"},pn)))},UnMemoizedCard=tn=>{const{asset_url:sn,giphy:un,image_url:dn,thumb_url:pn,title:mn,title_link:hn,type:fn}=tn,{giphyVersion:gn}=useChannelStateContext("CardHeader");let xn=pn||dn;const yn={};if(fn==="giphy"&&typeof un<"u"){const vn=un[gn];xn=vn.url,yn.height=vn.height,yn.width=vn.width}return!mn&&!hn&&!sn&&!xn?React$1.createElement(UnableToRenderCard,null):React$1.createElement("div",{className:`str-chat__message-attachment-card str-chat__message-attachment-card--${fn}`},React$1.createElement(CardHeader,{...tn,dimensions:yn,image:xn}),React$1.createElement(CardContent,{...tn}))},Card=React$1.memo(UnMemoizedCard),UnMemoizedFileAttachment=({attachment:tn})=>React$1.createElement("div",{className:"str-chat__message-attachment-file--item","data-testid":"attachment-file"},React$1.createElement(FileIcon,{className:"str-chat__file-icon",mimeType:tn.mime_type}),React$1.createElement("div",{className:"str-chat__message-attachment-file--item-text"},React$1.createElement("div",{className:"str-chat__message-attachment-file--item-first-row"},React$1.createElement("div",{className:"str-chat__message-attachment-file--item-name","data-testid":"file-title"},tn.title),React$1.createElement(DownloadButton,{assetUrl:tn.asset_url})),React$1.createElement(FileSizeIndicator,{fileSize:tn.file_size}))),FileAttachment=React$1.memo(UnMemoizedFileAttachment),UnsupportedAttachment=({attachment:tn})=>{const{t:sn}=useTranslationContext("UnsupportedAttachment");return React$1.createElement("div",{className:"str-chat__message-attachment-unsupported","data-testid":"attachment-unsupported"},React$1.createElement(FileIcon,{className:"str-chat__file-icon"}),React$1.createElement("div",{className:"str-chat__message-attachment-unsupported__metadata"},React$1.createElement("div",{className:"str-chat__message-attachment-unsupported__title","data-testid":"unsupported-attachment-title"},tn.title||sn("Unsupported attachment"))))},AttachmentWithinContainer=({attachment:tn,children:sn,componentType:un})=>{var hn;const dn=isGalleryAttachmentType(tn);let pn="";dn||(pn=un==="card"&&!(tn!=null&&tn.image_url)&&!(tn!=null&&tn.thumb_url)?"no-image":(hn=tn==null?void 0:tn.actions)!=null&&hn.length?"actions":"");const mn=clsx("str-chat__message-attachment str-chat__message-attachment-dynamic-size",{[`str-chat__message-attachment--${un}`]:un,[`str-chat__message-attachment--${tn==null?void 0:tn.type}`]:tn==null?void 0:tn.type,[`str-chat__message-attachment--${un}--${pn}`]:un&&pn,"str-chat__message-attachment--svg-image":isSvgAttachment(tn),"str-chat__message-attachment-with-actions":pn==="actions"});return React$1.createElement("div",{className:mn},sn)},AttachmentActionsContainer=({actionHandler:tn,attachment:sn,AttachmentActions:un=AttachmentActions})=>{var dn,pn;return(dn=sn.actions)!=null&&dn.length?React$1.createElement(un,{...sn,actionHandler:tn,actions:sn.actions,id:((pn=sn.localMetadata)==null?void 0:pn.id)||"",text:sn.text||""}):null};function getCssDimensionsVariables(tn){const sn={"--original-height":1e6,"--original-width":1e6};if(test(tn,"url")){const un=new URL(tn).searchParams,dn=Number(un.get("oh")),pn=Number(un.get("ow")),mn=dn>1?dn:1e6,hn=pn>1?pn:1e6;sn["--original-width"]=hn,sn["--original-height"]=mn}return sn}const GalleryContainer=({attachment:tn,Gallery:sn=Gallery})=>{const un=reactExports.useRef([]),{imageAttachmentSizeHandler:dn}=useChannelStateContext(),[pn,mn]=reactExports.useState([]);reactExports.useLayoutEffect(()=>{if(!un.current||!dn)return;const fn=[],gn=un.current.filter(xn=>!!xn);gn.length<un.current.length&&(un.current=gn),un.current.forEach((xn,yn)=>{if(!xn)return;const vn=dn(tn.images[yn],xn);fn.push(vn)}),mn(fn)},[dn,tn]);const hn=tn.images.map((fn,gn)=>{var xn,yn,vn;return{...fn,previewUrl:((xn=pn[gn])==null?void 0:xn.url)||"about:blank",style:getCssDimensionsVariables(((yn=tn.images[gn])==null?void 0:yn.image_url)||((vn=tn.images[gn])==null?void 0:vn.thumb_url)||"")}});return React$1.createElement(AttachmentWithinContainer,{attachment:tn,componentType:"gallery"},React$1.createElement(sn,{images:hn||[],innerRefs:un,key:"gallery"}))},ImageContainer=tn=>{const{attachment:sn,Image:un=ImageComponent}=tn,dn="image",pn=reactExports.useRef(null),{imageAttachmentSizeHandler:mn}=useChannelStateContext(),[hn,fn]=reactExports.useState(void 0);reactExports.useLayoutEffect(()=>{if(pn.current&&mn){const xn=mn(sn,pn.current);fn(xn)}},[pn,mn,sn]);const gn={...sn,previewUrl:(hn==null?void 0:hn.url)||"about:blank",style:getCssDimensionsVariables(sn.image_url||sn.thumb_url||"")};return sn.actions&&sn.actions.length?React$1.createElement(AttachmentWithinContainer,{attachment:sn,componentType:dn},React$1.createElement("div",{className:"str-chat__attachment"},React$1.createElement(un,{...gn,innerRef:pn}),React$1.createElement(AttachmentActionsContainer,{...tn}))):React$1.createElement(AttachmentWithinContainer,{attachment:sn,componentType:dn},React$1.createElement(un,{...gn,innerRef:pn}))},CardContainer=tn=>{const{attachment:sn,Card:un=Card}=tn,dn="card";return sn.actions&&sn.actions.length?React$1.createElement(AttachmentWithinContainer,{attachment:sn,componentType:dn},React$1.createElement("div",{className:"str-chat__attachment"},React$1.createElement(un,{...sn}),React$1.createElement(AttachmentActionsContainer,{...tn}))):React$1.createElement(AttachmentWithinContainer,{attachment:sn,componentType:dn},React$1.createElement(un,{...sn}))},FileContainer=({attachment:tn,File:sn=FileAttachment})=>tn.asset_url?React$1.createElement(AttachmentWithinContainer,{attachment:tn,componentType:"file"},React$1.createElement(sn,{attachment:tn})):null,AudioContainer=({attachment:tn,Audio:sn=Audio})=>React$1.createElement(AttachmentWithinContainer,{attachment:tn,componentType:"audio"},React$1.createElement("div",{className:"str-chat__attachment"},React$1.createElement(sn,{og:tn}))),VoiceRecordingContainer=({attachment:tn,isQuoted:sn,VoiceRecording:un=VoiceRecording})=>React$1.createElement(AttachmentWithinContainer,{attachment:tn,componentType:"voiceRecording"},React$1.createElement("div",{className:"str-chat__attachment"},React$1.createElement(un,{attachment:tn,isQuoted:sn}))),MediaContainer=tn=>{var yn;const{attachment:sn,Media:un=ReactPlayer}=tn,dn="media",{shouldGenerateVideoThumbnail:pn,videoAttachmentSizeHandler:mn}=useChannelStateContext(),hn=reactExports.useRef(null),[fn,gn]=reactExports.useState();reactExports.useLayoutEffect(()=>{if(hn.current&&mn){const vn=mn(sn,hn.current,pn);gn(vn)}},[hn,mn,sn]);const xn=React$1.createElement("div",{className:"str-chat__player-wrapper","data-testid":"video-wrapper",ref:hn,style:getCssDimensionsVariables(sn.thumb_url||"")},React$1.createElement(un,{className:"react-player",config:{file:{attributes:{poster:fn==null?void 0:fn.thumbUrl}}},controls:!0,height:"100%",url:fn==null?void 0:fn.url,width:"100%"}));return(yn=sn.actions)!=null&&yn.length?React$1.createElement(AttachmentWithinContainer,{attachment:sn,componentType:dn},React$1.createElement("div",{className:"str-chat__attachment"},xn,React$1.createElement(AttachmentActionsContainer,{...tn}))):React$1.createElement(AttachmentWithinContainer,{attachment:sn,componentType:dn},xn)},UnsupportedAttachmentContainer=({attachment:tn,UnsupportedAttachment:sn=UnsupportedAttachment})=>React$1.createElement(React$1.Fragment,null,React$1.createElement(sn,{attachment:tn})),CONTAINER_MAP={audio:AudioContainer,card:CardContainer,file:FileContainer,media:MediaContainer,unsupported:UnsupportedAttachmentContainer,voiceRecording:VoiceRecordingContainer},ATTACHMENT_GROUPS_ORDER=["card","gallery","image","media","audio","voiceRecording","file","unsupported"],Attachment=tn=>{const{attachments:sn}=tn,un=reactExports.useMemo(()=>renderGroupedAttachments(tn),[sn]);return React$1.createElement("div",{className:"str-chat__attachment-list"},ATTACHMENT_GROUPS_ORDER.reduce((dn,pn)=>[...dn,...un[pn]],[]))},renderGroupedAttachments=({attachments:tn,...sn})=>{const un=tn.filter(pn=>isImageAttachment(pn)),dn=tn.filter(pn=>!isImageAttachment(pn)).reduce((pn,mn)=>{const hn=getAttachmentType(mn),fn=CONTAINER_MAP[hn];return pn[hn].push(React$1.createElement(fn,{key:`${hn}-${pn[hn].length}`,...sn,attachment:mn})),pn},{audio:[],card:[],file:[],media:[],unsupported:[],image:[],gallery:[],voiceRecording:[]});return un.length>1?dn.gallery=[React$1.createElement(GalleryContainer,{key:"gallery-container",...sn,attachment:{images:un,type:"gallery"}})]:un.length===1&&(dn.image=[React$1.createElement(ImageContainer,{key:"image-container",...sn,attachment:un[0]})]),dn},getAttachmentType=tn=>isScrapedContent(tn)?"card":isVideoAttachment(tn,SUPPORTED_VIDEO_FORMATS)?"media":isAudioAttachment(tn)?"audio":isVoiceRecordingAttachment(tn)?"voiceRecording":isFileAttachment(tn,SUPPORTED_VIDEO_FORMATS)?"file":"unsupported";var lodash_defaultsdeep={exports:{}};lodash_defaultsdeep.exports;(function(tn,sn){var un=200,dn="__lodash_hash_undefined__",pn=800,mn=16,hn=9007199254740991,fn="[object Arguments]",gn="[object Array]",xn="[object AsyncFunction]",yn="[object Boolean]",vn="[object Date]",En="[object Error]",bn="[object Function]",wn="[object GeneratorFunction]",Sn="[object Map]",Rn="[object Number]",_n="[object Null]",jn="[object Object]",Cn="[object Proxy]",An="[object RegExp]",Tn="[object Set]",$n="[object String]",Dn="[object Undefined]",Nn="[object WeakMap]",kn="[object ArrayBuffer]",Pn="[object DataView]",Mn="[object Float32Array]",On="[object Float64Array]",Wn="[object Int8Array]",In="[object Int16Array]",Un="[object Int32Array]",Vn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Ln="[object Uint16Array]",zn="[object Uint32Array]",Bn=/[\\^$.*+?()[\]{}|]/g,Fn=/^\[object .+?Constructor\]$/,Gn=/^(?:0|[1-9]\d*)$/,qn={};qn[Mn]=qn[On]=qn[Wn]=qn[In]=qn[Un]=qn[Vn]=qn[Hn]=qn[Ln]=qn[zn]=!0,qn[fn]=qn[gn]=qn[kn]=qn[yn]=qn[Pn]=qn[vn]=qn[En]=qn[bn]=qn[Sn]=qn[Rn]=qn[jn]=qn[An]=qn[Tn]=qn[$n]=qn[Nn]=!1;var Jn=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,dr=typeof self=="object"&&self&&self.Object===Object&&self,br=Jn||dr||Function("return this")(),Er=sn&&!sn.nodeType&&sn,yr=Er&&!0&&tn&&!tn.nodeType&&tn,xr=yr&&yr.exports===Er,vr=xr&&Jn.process,nr=function(){try{var Yn=yr&&yr.require&&yr.require("util").types;return Yn||vr&&vr.binding&&vr.binding("util")}catch{}}(),sr=nr&&nr.isTypedArray;function Rr(Yn,ir,wr){switch(wr.length){case 0:return Yn.call(ir);case 1:return Yn.call(ir,wr[0]);case 2:return Yn.call(ir,wr[0],wr[1]);case 3:return Yn.call(ir,wr[0],wr[1],wr[2])}return Yn.apply(ir,wr)}function Ar(Yn,ir){for(var wr=-1,Ur=Array(Yn);++wr<Yn;)Ur[wr]=ir(wr);return Ur}function Lr(Yn){return function(ir){return Yn(ir)}}function Or(Yn,ir){return Yn==null?void 0:Yn[ir]}function Zn(Yn,ir){return function(wr){return Yn(ir(wr))}}var Cr=Array.prototype,Fr=Function.prototype,Pr=Object.prototype,Br=br["__core-js_shared__"],ar=Fr.toString,pr=Pr.hasOwnProperty,Xn=function(){var Yn=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return Yn?"Symbol(src)_1."+Yn:""}(),$r=Pr.toString,lr=ar.call(Object),gr=RegExp("^"+ar.call(pr).replace(Bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_r=xr?br.Buffer:void 0,Hr=br.Symbol,Vr=br.Uint8Array;_r&&_r.allocUnsafe;var ss=Zn(Object.getPrototypeOf,Object),Rs=Object.create,Cs=Pr.propertyIsEnumerable,Ps=Cr.splice,js=Hr?Hr.toStringTag:void 0,ms=function(){try{var Yn=uo(Object,"defineProperty");return Yn({},"",{}),Yn}catch{}}(),ks=_r?_r.isBuffer:void 0,Nr=Math.max,Yr=Date.now,ps=uo(br,"Map"),os=uo(Object,"create"),$s=function(){function Yn(){}return function(ir){if(!ga(ir))return{};if(Rs)return Rs(ir);Yn.prototype=ir;var wr=new Yn;return Yn.prototype=void 0,wr}}();function as(Yn){var ir=-1,wr=Yn==null?0:Yn.length;for(this.clear();++ir<wr;){var Ur=Yn[ir];this.set(Ur[0],Ur[1])}}function _s(){this.__data__=os?os(null):{},this.size=0}function Os(Yn){var ir=this.has(Yn)&&delete this.__data__[Yn];return this.size-=ir?1:0,ir}function Bs(Yn){var ir=this.__data__;if(os){var wr=ir[Yn];return wr===dn?void 0:wr}return pr.call(ir,Yn)?ir[Yn]:void 0}function Ts(Yn){var ir=this.__data__;return os?ir[Yn]!==void 0:pr.call(ir,Yn)}function fs(Yn,ir){var wr=this.__data__;return this.size+=this.has(Yn)?0:1,wr[Yn]=os&&ir===void 0?dn:ir,this}as.prototype.clear=_s,as.prototype.delete=Os,as.prototype.get=Bs,as.prototype.has=Ts,as.prototype.set=fs;function Qr(Yn){var ir=-1,wr=Yn==null?0:Yn.length;for(this.clear();++ir<wr;){var Ur=Yn[ir];this.set(Ur[0],Ur[1])}}function Ls(){this.__data__=[],this.size=0}function Vs(Yn){var ir=this.__data__,wr=cs(ir,Yn);if(wr<0)return!1;var Ur=ir.length-1;return wr==Ur?ir.pop():Ps.call(ir,wr,1),--this.size,!0}function ba(Yn){var ir=this.__data__,wr=cs(ir,Yn);return wr<0?void 0:ir[wr][1]}function _i(Yn){return cs(this.__data__,Yn)>-1}function eo(Yn,ir){var wr=this.__data__,Ur=cs(wr,Yn);return Ur<0?(++this.size,wr.push([Yn,ir])):wr[Ur][1]=ir,this}Qr.prototype.clear=Ls,Qr.prototype.delete=Vs,Qr.prototype.get=ba,Qr.prototype.has=_i,Qr.prototype.set=eo;function hr(Yn){var ir=-1,wr=Yn==null?0:Yn.length;for(this.clear();++ir<wr;){var Ur=Yn[ir];this.set(Ur[0],Ur[1])}}function Kn(){this.size=0,this.__data__={hash:new as,map:new(ps||Qr),string:new as}}function ur(Yn){var ir=io(this,Yn).delete(Yn);return this.size-=ir?1:0,ir}function jr(Yn){return io(this,Yn).get(Yn)}function Mr(Yn){return io(this,Yn).has(Yn)}function qr(Yn,ir){var wr=io(this,Yn),Ur=wr.size;return wr.set(Yn,ir),this.size+=wr.size==Ur?0:1,this}hr.prototype.clear=Kn,hr.prototype.delete=ur,hr.prototype.get=jr,hr.prototype.has=Mr,hr.prototype.set=qr;function Kr(Yn){var ir=this.__data__=new Qr(Yn);this.size=ir.size}function er(){this.__data__=new Qr,this.size=0}function or(Yn){var ir=this.__data__,wr=ir.delete(Yn);return this.size=ir.size,wr}function Tr(Yn){return this.__data__.get(Yn)}function Ir(Yn){return this.__data__.has(Yn)}function zr(Yn,ir){var wr=this.__data__;if(wr instanceof Qr){var Ur=wr.__data__;if(!ps||Ur.length<un-1)return Ur.push([Yn,ir]),this.size=++wr.size,this;wr=this.__data__=new hr(Ur)}return wr.set(Yn,ir),this.size=wr.size,this}Kr.prototype.clear=er,Kr.prototype.delete=or,Kr.prototype.get=Tr,Kr.prototype.has=Ir,Kr.prototype.set=zr;function Wr(Yn,ir){var wr=Do(Yn),Ur=!wr&&No(Yn),ns=!wr&&!Ur&&co(Yn),Jr=!wr&&!Ur&&!ns&&Vl(Yn),ds=wr||Ur||ns||Jr,xs=ds?Ar(Yn.length,String):[],bs=xs.length;for(var qs in Yn)ds&&(qs=="length"||ns&&(qs=="offset"||qs=="parent")||Jr&&(qs=="buffer"||qs=="byteLength"||qs=="byteOffset")||Fo(qs,bs))||xs.push(qs);return xs}function ls(Yn,ir,wr){(wr!==void 0&&!vo(Yn[ir],wr)||wr===void 0&&!(ir in Yn))&&ys(Yn,ir,wr)}function Xr(Yn,ir,wr){var Ur=Yn[ir];(!(pr.call(Yn,ir)&&vo(Ur,wr))||wr===void 0&&!(ir in Yn))&&ys(Yn,ir,wr)}function cs(Yn,ir){for(var wr=Yn.length;wr--;)if(vo(Yn[wr][0],ir))return wr;return-1}function ys(Yn,ir,wr){ir=="__proto__"&&ms?ms(Yn,ir,{configurable:!0,enumerable:!0,value:wr,writable:!0}):Yn[ir]=wr}var hs=so();function gs(Yn){return Yn==null?Yn===void 0?Dn:_n:js&&js in Object(Yn)?yo(Yn):cu(Yn)}function Es(Yn){return mo(Yn)&&gs(Yn)==fn}function As(Yn){if(!ga(Yn)||Ll(Yn))return!1;var ir=to(Yn)?gr:Fn;return ir.test(Bo(Yn))}function Us(Yn){return mo(Yn)&&po(Yn.length)&&!!qn[gs(Yn)]}function Qs(Yn){if(!ga(Yn))return lu(Yn);var ir=Fl(Yn),wr=[];for(var Ur in Yn)Ur=="constructor"&&(ir||!pr.call(Yn,Ur))||wr.push(Ur);return wr}function Ws(Yn,ir,wr,Ur,ns){Yn!==ir&&hs(ir,function(Jr,ds){if(ns||(ns=new Kr),ga(Jr))_a(Yn,ir,ds,wr,Ws,Ur,ns);else{var xs=Ur?Ur(El(Yn,ds),Jr,ds+"",Yn,ir,ns):void 0;xs===void 0&&(xs=Jr),ls(Yn,ds,xs)}},Sl)}function _a(Yn,ir,wr,Ur,ns,Jr,ds){var xs=El(Yn,wr),bs=El(ir,wr),qs=ds.get(bs);if(qs){ls(Yn,wr,qs);return}var Ys=Jr?Jr(xs,bs,wr+"",Yn,ir,ds):void 0,Eo=Ys===void 0;if(Eo){var Ho=Do(bs),du=!Ho&&co(bs),xu=!Ho&&!du&&Vl(bs);Ys=bs,Ho||du||xu?Do(xs)?Ys=xs:Ul(xs)?Ys=Ao(xs):du?(Eo=!1,Ys=Is(bs)):xu?(Eo=!1,Ys=To(bs)):Ys=[]:Hl(bs)||No(bs)?(Ys=xs,No(xs)?Ys=zl(xs):(!ga(xs)||to(xs))&&(Ys=Js(bs))):Eo=!1}Eo&&(ds.set(bs,Ys),ns(Ys,bs,Ur,Jr,ds),ds.delete(bs)),ls(Yn,wr,Ys)}function Xs(Yn,ir){return uu(yl(Yn,ir,rr),Yn+"")}var Ms=ms?function(Yn,ir){return ms(Yn,"toString",{configurable:!0,enumerable:!1,value:Uo(ir),writable:!0})}:rr;function Is(Yn,ir){return Yn.slice()}function wo(Yn){var ir=new Yn.constructor(Yn.byteLength);return new Vr(ir).set(new Vr(Yn)),ir}function To(Yn,ir){var wr=wo(Yn.buffer);return new Yn.constructor(wr,Yn.byteOffset,Yn.length)}function Ao(Yn,ir){var wr=-1,Ur=Yn.length;for(ir||(ir=Array(Ur));++wr<Ur;)ir[wr]=Yn[wr];return ir}function xo(Yn,ir,wr,Ur){var ns=!wr;wr||(wr={});for(var Jr=-1,ds=ir.length;++Jr<ds;){var xs=ir[Jr],bs=void 0;bs===void 0&&(bs=Yn[xs]),ns?ys(wr,xs,bs):Xr(wr,xs,bs)}return wr}function Ro(Yn){return Xs(function(ir,wr){var Ur=-1,ns=wr.length,Jr=ns>1?wr[ns-1]:void 0,ds=ns>2?wr[2]:void 0;for(Jr=Yn.length>3&&typeof Jr=="function"?(ns--,Jr):void 0,ds&&iu(wr[0],wr[1],ds)&&(Jr=ns<3?void 0:Jr,ns=1),ir=Object(ir);++Ur<ns;){var xs=wr[Ur];xs&&Yn(ir,xs,Ur,Jr)}return ir})}function so(Yn){return function(ir,wr,Ur){for(var ns=-1,Jr=Object(ir),ds=Ur(ir),xs=ds.length;xs--;){var bs=ds[++ns];if(wr(Jr[bs],bs,Jr)===!1)break}return ir}}function ao(Yn,ir,wr,Ur,ns,Jr){return ga(Yn)&&ga(ir)&&(Jr.set(ir,Yn),Ws(Yn,ir,void 0,ao,Jr),Jr.delete(ir)),Yn}function io(Yn,ir){var wr=Yn.__data__;return ou(ir)?wr[typeof ir=="string"?"string":"hash"]:wr.map}function uo(Yn,ir){var wr=Or(Yn,ir);return As(wr)?wr:void 0}function yo(Yn){var ir=pr.call(Yn,js),wr=Yn[js];try{Yn[js]=void 0;var Ur=!0}catch{}var ns=$r.call(Yn);return Ur&&(ir?Yn[js]=wr:delete Yn[js]),ns}function Js(Yn){return typeof Yn.constructor=="function"&&!Fl(Yn)?$s(ss(Yn)):{}}function Fo(Yn,ir){var wr=typeof Yn;return ir=ir??hn,!!ir&&(wr=="number"||wr!="symbol"&&Gn.test(Yn))&&Yn>-1&&Yn%1==0&&Yn<ir}function iu(Yn,ir,wr){if(!ga(wr))return!1;var Ur=typeof ir;return(Ur=="number"?jo(wr)&&Fo(ir,wr.length):Ur=="string"&&ir in wr)?vo(wr[ir],Yn):!1}function ou(Yn){var ir=typeof Yn;return ir=="string"||ir=="number"||ir=="symbol"||ir=="boolean"?Yn!=="__proto__":Yn===null}function Ll(Yn){return!!Xn&&Xn in Yn}function Fl(Yn){var ir=Yn&&Yn.constructor,wr=typeof ir=="function"&&ir.prototype||Pr;return Yn===wr}function lu(Yn){var ir=[];if(Yn!=null)for(var wr in Object(Yn))ir.push(wr);return ir}function cu(Yn){return $r.call(Yn)}function yl(Yn,ir,wr){return ir=Nr(ir===void 0?Yn.length-1:ir,0),function(){for(var Ur=arguments,ns=-1,Jr=Nr(Ur.length-ir,0),ds=Array(Jr);++ns<Jr;)ds[ns]=Ur[ir+ns];ns=-1;for(var xs=Array(ir+1);++ns<ir;)xs[ns]=Ur[ns];return xs[ir]=wr(ds),Rr(Yn,this,xs)}}function El(Yn,ir){if(!(ir==="constructor"&&typeof Yn[ir]=="function")&&ir!="__proto__")return Yn[ir]}var uu=Bl(Ms);function Bl(Yn){var ir=0,wr=0;return function(){var Ur=Yr(),ns=mn-(Ur-wr);if(wr=Ur,ns>0){if(++ir>=pn)return arguments[0]}else ir=0;return Yn.apply(void 0,arguments)}}function Bo(Yn){if(Yn!=null){try{return ar.call(Yn)}catch{}try{return Yn+""}catch{}}return""}function vo(Yn,ir){return Yn===ir||Yn!==Yn&&ir!==ir}var No=Es(function(){return arguments}())?Es:function(Yn){return mo(Yn)&&pr.call(Yn,"callee")&&!Cs.call(Yn,"callee")},Do=Array.isArray;function jo(Yn){return Yn!=null&&po(Yn.length)&&!to(Yn)}function Ul(Yn){return mo(Yn)&&jo(Yn)}var co=ks||Sr;function to(Yn){if(!ga(Yn))return!1;var ir=gs(Yn);return ir==bn||ir==wn||ir==xn||ir==Cn}function po(Yn){return typeof Yn=="number"&&Yn>-1&&Yn%1==0&&Yn<=hn}function ga(Yn){var ir=typeof Yn;return Yn!=null&&(ir=="object"||ir=="function")}function mo(Yn){return Yn!=null&&typeof Yn=="object"}function Hl(Yn){if(!mo(Yn)||gs(Yn)!=jn)return!1;var ir=ss(Yn);if(ir===null)return!0;var wr=pr.call(ir,"constructor")&&ir.constructor;return typeof wr=="function"&&wr instanceof wr&&ar.call(wr)==lr}var Vl=sr?Lr(sr):Us;function zl(Yn){return xo(Yn,Sl(Yn))}var Wl=Xs(function(Yn){return Yn.push(void 0,ao),Rr(Gl,void 0,Yn)});function Sl(Yn){return jo(Yn)?Wr(Yn):Qs(Yn)}var Gl=Ro(function(Yn,ir,wr,Ur){Ws(Yn,ir,wr,Ur)});function Uo(Yn){return function(){return Yn}}function rr(Yn){return Yn}function Sr(){return!1}tn.exports=Wl})(lodash_defaultsdeep,lodash_defaultsdeep.exports);var lodash_defaultsdeepExports=lodash_defaultsdeep.exports;const defaultsDeep=getDefaultExportFromCjs(lodash_defaultsdeepExports),makeChannelReducer=()=>(tn,sn)=>{var un;switch(sn.type){case"closeThread":return{...tn,thread:null,threadLoadingMore:!1,threadMessages:[]};case"copyMessagesFromChannel":{const{channel:dn,parentId:pn}=sn;return{...tn,messages:[...dn.state.messages],pinnedMessages:[...dn.state.pinnedMessages],suppressAutoscroll:!1,threadMessages:pn?{...dn.state.threads}[pn]||[]:tn.threadMessages}}case"copyStateFromChannelOnEvent":{const{channel:dn}=sn;return{...tn,members:{...dn.state.members},messages:[...dn.state.messages],pinnedMessages:[...dn.state.pinnedMessages],read:{...dn.state.read},watcherCount:dn.state.watcher_count,watchers:{...dn.state.watchers}}}case"initStateFromChannel":{const{channel:dn,hasMore:pn}=sn;return{...tn,hasMore:pn,loading:!1,members:{...dn.state.members},messages:[...dn.state.messages],pinnedMessages:[...dn.state.pinnedMessages],read:{...dn.state.read},watcherCount:dn.state.watcher_count,watchers:{...dn.state.watchers}}}case"jumpToLatestMessage":return{...tn,hasMoreNewer:!1,highlightedMessageId:void 0,loading:!1,suppressAutoscroll:!1};case"jumpToMessageFinished":return{...tn,hasMoreNewer:sn.channel.state.messagePagination.hasNext,highlightedMessageId:sn.highlightedMessageId,messages:sn.channel.state.messages};case"clearHighlightedMessage":return{...tn,highlightedMessageId:void 0};case"loadMoreFinished":{const{hasMore:dn,messages:pn}=sn;return{...tn,hasMore:dn,loadingMore:!1,messages:pn,suppressAutoscroll:!1}}case"loadMoreNewerFinished":{const{hasMoreNewer:dn,messages:pn}=sn;return{...tn,hasMoreNewer:dn,loadingMoreNewer:!1,messages:pn}}case"loadMoreThreadFinished":{const{threadHasMore:dn,threadMessages:pn}=sn;return{...tn,threadHasMore:dn,threadLoadingMore:!1,threadMessages:pn}}case"openThread":{const{channel:dn,message:pn}=sn;return{...tn,thread:pn,threadHasMore:!0,threadMessages:pn.id?{...dn.state.threads}[pn.id]||[]:[],threadSuppressAutoscroll:!1}}case"setError":{const{error:dn}=sn;return{...tn,error:dn}}case"setLoadingMore":{const{loadingMore:dn}=sn;return{...tn,loadingMore:dn,suppressAutoscroll:dn}}case"setLoadingMoreNewer":{const{loadingMoreNewer:dn}=sn;return{...tn,loadingMoreNewer:dn}}case"setThread":{const{message:dn}=sn;return{...tn,thread:dn}}case"setTyping":{const{channel:dn}=sn;return{...tn,typing:{...dn.state.typing}}}case"startLoadingThread":return{...tn,threadLoadingMore:!0,threadSuppressAutoscroll:!0};case"updateThreadOnEvent":{const{channel:dn,message:pn}=sn;return tn.thread?{...tn,thread:(pn==null?void 0:pn.id)===tn.thread.id?dn.state.formatMessage(pn):tn.thread,threadMessages:(un=tn.thread)!=null&&un.id?{...dn.state.threads}[tn.thread.id]||[]:[]}:tn}default:return tn}},initialState={error:null,hasMore:!0,hasMoreNewer:!1,loading:!0,loadingMore:!1,members:{},messages:[],pinnedMessages:[],read:{},suppressAutoscroll:!1,thread:null,threadHasMore:!0,threadLoadingMore:!1,threadMessages:[],threadSuppressAutoscroll:!1,typing:{},watcherCount:0,watchers:{}},useCreateChannelStateContext=tn=>{var br,Er;const{channel:sn,channelCapabilitiesArray:un=[],channelConfig:dn,channelUnreadUiState:pn,error:mn,giphyVersion:hn,hasMore:fn,hasMoreNewer:gn,highlightedMessageId:xn,imageAttachmentSizeHandler:yn,loading:vn,loadingMore:En,members:bn,messages:wn=[],mutes:Sn,notifications:Rn,pinnedMessages:_n,read:jn={},shouldGenerateVideoThumbnail:Cn,skipMessageDataMemoization:An,suppressAutoscroll:Tn,thread:$n,threadHasMore:Dn,threadLoadingMore:Nn,threadMessages:kn=[],videoAttachmentSizeHandler:Pn,watcher_count:Mn,watcherCount:On,watchers:Wn}=tn,In=sn.cid,Un=sn.initialized&&((br=sn.lastRead())==null?void 0:br.getTime()),Vn=Object.keys(bn||[]).length,Hn=Rn.length,Ln=Object.values(jn),zn=Ln.length,Bn=Ln.map(({last_read:yr})=>yr.toISOString()).join(),Fn=kn==null?void 0:kn.length,Gn={};un.forEach(yr=>{Gn[yr]=!0});const qn=An?wn:wn.map(({deleted_at:yr,latest_reactions:xr,pinned:vr,reply_count:nr,status:sr,updated_at:Rr,user:Ar})=>`${yr}${xr?xr.map(({type:Lr})=>Lr).join():""}${vr}${nr}${sr}${Rr&&(isDayOrMoment(Rr)||isDate(Rr))?Rr.toISOString():Rr||""}${Ar==null?void 0:Ar.updated_at}`).join(),Jn=kn.map(({deleted_at:yr,latest_reactions:xr,pinned:vr,status:nr,updated_at:sr,user:Rr})=>`${yr}${xr?xr.map(({type:Ar})=>Ar).join():""}${vr}${nr}${sr&&(isDayOrMoment(sr)||isDate(sr))?sr.toISOString():sr||""}${Rr==null?void 0:Rr.updated_at}`).join();return reactExports.useMemo(()=>({channel:sn,channelCapabilities:Gn,channelConfig:dn,channelUnreadUiState:pn,error:mn,giphyVersion:hn,hasMore:fn,hasMoreNewer:gn,highlightedMessageId:xn,imageAttachmentSizeHandler:yn,loading:vn,loadingMore:En,members:bn,messages:wn,mutes:Sn,notifications:Rn,pinnedMessages:_n,read:jn,shouldGenerateVideoThumbnail:Cn,suppressAutoscroll:Tn,thread:$n,threadHasMore:Dn,threadLoadingMore:Nn,threadMessages:kn,videoAttachmentSizeHandler:Pn,watcher_count:Mn,watcherCount:On,watchers:Wn}),[(Er=sn.data)==null?void 0:Er.name,In,pn,mn,fn,gn,xn,Un,vn,En,Vn,qn,Jn,Hn,zn,Bn,Cn,An,Tn,$n,Dn,Nn,Fn,On])},useCreateTypingContext=tn=>{const{typing:sn}=tn,un=Object.keys(sn||{}).join();return reactExports.useMemo(()=>({typing:sn}),[un])},useEditMessageHandler=tn=>{const{channel:sn,client:un}=useChatContext("useEditMessageHandler");return(dn,pn)=>tn&&sn?Promise.resolve(tn(sn.cid,dn,pn)):un.updateMessage(dn,void 0,pn)},useIsMounted=()=>{const tn=reactExports.useRef(!1);return reactExports.useEffect(()=>(tn.current=!0,()=>{tn.current=!1}),[]),tn},useMentionsHandlers=(tn,sn)=>reactExports.useCallback((un,dn)=>{if(!tn&&!sn||!(un.target instanceof HTMLElement))return;const mn=un.target.innerHTML.replace("*","");if(mn[0]==="@"){const hn=mn.replace("@",""),fn=dn==null?void 0:dn.find(({id:gn,name:xn})=>xn===hn||gn===hn);tn&&typeof tn=="function"&&un.type==="mouseover"&&tn(un,fn),sn&&un.type==="click"&&typeof sn=="function"&&sn(un,fn)}},[sn,tn]),LoadingMessage=()=>React$1.createElement("div",{className:"str-chat__loading-channel-message"},React$1.createElement("div",{className:"str-chat__loading-channel-message-avatar"}),React$1.createElement("div",{className:"str-chat__loading-channel-message-end"},React$1.createElement("div",{className:"str-chat__loading-channel-message-sender"}),React$1.createElement("div",{className:"str-chat__loading-channel-message-last-row"},React$1.createElement("div",{className:"str-chat__loading-channel-message-text"}),React$1.createElement("div",{className:"str-chat__loading-channel-message-date"})))),LoadingMessageInput=()=>React$1.createElement("div",{className:"str-chat__loading-channel-message-input-row"},React$1.createElement("div",{className:"str-chat__loading-channel-message-input"}),React$1.createElement("div",{className:"str-chat__loading-channel-message-send"})),LoadingChannelHeader=()=>React$1.createElement("div",{className:"str-chat__loading-channel-header"},React$1.createElement("div",{className:"str-chat__loading-channel-header-avatar"}),React$1.createElement("div",{className:"str-chat__loading-channel-header-end"},React$1.createElement("div",{className:"str-chat__loading-channel-header-name"}),React$1.createElement("div",{className:"str-chat__loading-channel-header-info"}))),LoadingChannel=()=>React$1.createElement("div",{className:"str-chat__loading-channel"},React$1.createElement(LoadingChannelHeader,null),React$1.createElement("div",{className:"str-chat__loading-channel-message-list"},Array.from(Array(3)).map((tn,sn)=>React$1.createElement(LoadingMessage,{key:`loading-message-${sn}`}))),React$1.createElement(LoadingMessageInput,null)),useImageFlagEmojisOnWindowsClass=()=>{const{useImageFlagEmojisOnWindows:tn}=useChatContext("Channel");return tn&&navigator.userAgent.match(/Win/)?"str-chat--windows-flags":""},getChatContainerClass=tn=>tn??"str-chat__container",useChannelContainerClasses=({customClasses:tn})=>{const sn=useImageFlagEmojisOnWindowsClass();return{channelClass:(tn==null?void 0:tn.channel)??"str-chat__channel",chatClass:(tn==null?void 0:tn.chat)??"str-chat",chatContainerClass:getChatContainerClass(tn==null?void 0:tn.chatContainer),windowsEmojiClass:sn}},makeAddNotifications=(tn,sn)=>(un,dn)=>{if(typeof un!="string"||dn!=="success"&&dn!=="error")return;const pn=nanoid();tn(hn=>[...hn,{id:pn,text:un,type:dn}]);const mn=setTimeout(()=>tn(hn=>hn.filter(fn=>fn.id!==pn)),5e3);sn.push(mn)},findInMsgSetById=(tn,sn)=>{for(let un=sn.length-1;un>=0;un--){const dn=sn[un];if(dn.id===tn)return{index:un,target:dn}}return{index:-1}},findInMsgSetByDate=(tn,sn,un=!1)=>{var fn,gn;const dn=tn.getTime();let pn=0,mn=0,hn=sn.length-1;for(;pn<=hn;){mn=Math.floor((hn+pn)/2);const xn=new Date(sn[mn].created_at).getTime(),yn=((fn=sn[mn-1])==null?void 0:fn.created_at)&&new Date(sn[mn-1].created_at).getTime(),vn=((gn=sn[mn+1])==null?void 0:gn.created_at)&&new Date(sn[mn+1].created_at).getTime();if(xn===dn||yn&&vn&&yn<dn&&dn<vn)return{index:mn,target:sn[mn]};xn<dn?pn=mn+1:hn=mn-1}return!un||new Date(sn[pn].created_at).getTime()===dn?{index:pn,target:sn[pn]}:{index:-1}},getImageAttachmentConfiguration=(tn,sn)=>{let un;const dn=tn.image_url||tn.thumb_url||"";if(test(dn,"url")){const pn=new URL(dn),mn=getSizingRestrictions(pn,sn);mn&&(mn.height*=2,mn.width*=2,addResizingParamsToUrl(mn,pn)),un=pn.href}return{url:un||""}},getVideoAttachmentConfiguration=(tn,sn,un)=>{let dn;if(tn.thumb_url&&un&&test(tn.thumb_url,"url")){const pn=new URL(tn.thumb_url),mn=getSizingRestrictions(pn,sn);mn&&(mn.height*=2,mn.width*=2,addResizingParamsToUrl(mn,pn)),dn=pn.href}return{thumbUrl:dn,url:tn.asset_url||""}},getSizingRestrictions=(tn,sn)=>{const un=tn.searchParams,dn=Number(un.get("oh"))||1,pn=Number(un.get("ow"))||1,mn=getCSSSizeRestrictions(sn);let hn;return(mn.maxHeight||mn.height)&&mn.maxWidth?hn=getResizeDimensions(dn,pn,mn.maxHeight||mn.height,mn.maxWidth):hn=void 0,hn},getResizeDimensions=(tn,sn,un,dn)=>({height:Math.round(Math.max(un,dn/sn*tn)),width:Math.round(Math.max(un,dn/tn*sn))}),getCSSSizeRestrictions=tn=>{const sn=getComputedStyle(tn),un=getValueRepresentationOfCSSProperty(sn.getPropertyValue("height")),dn=getValueRepresentationOfCSSProperty(sn.getPropertyValue("max-height")),pn=getValueRepresentationOfCSSProperty(sn.getPropertyValue("max-width"));return(un||dn)&&pn||console.warn("Invalid value set for height/max-height and/or max-width for HTML element, this can cause scrolling issues inside the message list, more info https://getstream.io/chat/docs/sdk/react/message-components/attachment/#image-and-video-sizing"),{height:un,maxHeight:dn,maxWidth:pn}},getValueRepresentationOfCSSProperty=tn=>{if(!tn.endsWith("px"))return;const sn=parseFloat(tn);return isNaN(sn)?void 0:sn},addResizingParamsToUrl=(tn,sn)=>{sn.searchParams.set("h",tn.height.toString()),sn.searchParams.set("w",tn.width.toString())},searchControllerStateSelector=tn=>({focusedMessage:tn.focusedMessage}),useSearchFocusedMessage=()=>{const{searchController:tn}=useChatContext("Channel"),{focusedMessage:sn}=useStateStore(tn._internalState,searchControllerStateSelector);return sn},ChannelContainer=({children:tn,className:sn,...un})=>{const{customClasses:dn,theme:pn}=useChatContext("Channel"),{channelClass:mn,chatClass:hn}=useChannelContainerClasses({customClasses:dn}),fn=clsx(hn,pn,mn,sn);return React$1.createElement("div",{id:CHANNEL_CONTAINER_ID,...un,className:fn},tn)},UnMemoizedChannel=tn=>{const{channel:sn,EmptyPlaceholder:un=null,LoadingErrorIndicator:dn,LoadingIndicator:pn=LoadingChannel}=tn,{channel:mn,channelsQueryState:hn}=useChatContext("Channel"),fn=sn||mn;return hn.queryInProgress==="reload"&&pn?React$1.createElement(ChannelContainer,null,React$1.createElement(pn,null)):hn.error&&dn?React$1.createElement(ChannelContainer,null,React$1.createElement(dn,{error:hn.error})):fn!=null&&fn.cid?React$1.createElement(ChannelInner,{...tn,channel:fn,key:fn.cid}):React$1.createElement(ChannelContainer,null,un)},ChannelInner=tn=>{var ks;const{activeUnreadHandler:sn,channel:un,channelQueryOptions:dn,children:pn,doDeleteMessageRequest:mn,doMarkReadRequest:hn,doSendMessageRequest:fn,doUpdateMessageRequest:gn,initializeOnMount:xn=!0,LoadingErrorIndicator:yn=LoadingErrorIndicator,LoadingIndicator:vn=LoadingChannel,markReadOnMount:En=!0,onMentionsClick:bn,onMentionsHover:wn,skipMessageDataMemoization:Sn}=tn,Rn=reactExports.useMemo(()=>defaultsDeep(dn,{messages:{limit:DEFAULT_INITIAL_CHANNEL_PAGE_SIZE}}),[dn]),{client:_n,customClasses:jn,latestMessageDatesByChannels:Cn,mutes:An,searchController:Tn}=useChatContext("Channel"),{t:$n}=useTranslationContext("Channel"),Dn=getChatContainerClass(jn==null?void 0:jn.chatContainer),Nn=useImageFlagEmojisOnWindowsClass(),kn=useThreadContext(),[Pn,Mn]=reactExports.useState(un.getConfig()),[On,Wn]=reactExports.useState([]),In=reactExports.useRef([]),[Un,Vn]=reactExports.useState(),Hn=reactExports.useMemo(()=>makeChannelReducer(),[]),[Ln,zn]=reactExports.useReducer(Hn,{...initialState,hasMore:un.state.messagePagination.hasPrev,loading:!un.initialized,messages:un.state.messages}),Bn=useSearchFocusedMessage(),Fn=useIsMounted(),Gn=reactExports.useRef(""),qn=reactExports.useRef(void 0),Jn=reactExports.useRef(!0),dr=reactExports.useRef(null),br=(ks=un.data)==null?void 0:ks.own_capabilities,Er=throttle$1(()=>zn({channel:un,type:"copyStateFromChannelOnEvent"}),500,{leading:!0,trailing:!0}),yr=reactExports.useMemo(()=>throttle$1(Vn,200,{leading:!0,trailing:!1}),[]),xr=reactExports.useMemo(()=>throttle$1(async Nr=>{const{updateChannelUiUnreadState:Yr=!0}=Nr??{};if(!(un.disconnected||!(Pn!=null&&Pn.read_events))){qn.current=new Date;try{if(hn)hn(un,Yr?yr:void 0);else{const ps=await un.markRead();Yr&&(ps!=null&&ps.event)&&Vn({last_read:qn.current,last_read_message_id:ps.event.last_read_message_id,unread_messages:0})}sn?sn(0,Gn.current):Gn.current&&(document.title=Gn.current)}catch{console.error($n("Failed to mark channel as read"))}}},500,{leading:!0,trailing:!1}),[sn,un,Pn,hn,yr,$n]),vr=async Nr=>{var Yr,ps,os,$s,as,_s,Os,Bs,Ts;if(Nr.message&&zn({channel:un,message:Nr.message,type:"updateThreadOnEvent"}),!(Nr.type==="user.watching.start"||Nr.type==="user.watching.stop")){if(Nr.type==="typing.start"||Nr.type==="typing.stop")return zn({channel:un,type:"setTyping"});if(Nr.type==="connection.changed"&&typeof Nr.online=="boolean"&&(Jn.current=Nr.online),Nr.type==="message.new"){if((!((Yr=Nr.message)!=null&&Yr.parent_id)||((ps=Nr.message)==null?void 0:ps.show_in_channel))&&document.hidden&&Pn!=null&&Pn.read_events&&!un.muteStatus().muted){const Qr=un.countUnread(qn.current);sn?sn(Qr,Gn.current):document.title=`(${Qr}) ${Gn.current}`}if((($s=(os=Nr.message)==null?void 0:os.user)==null?void 0:$s.id)===_n.userID&&((as=Nr==null?void 0:Nr.message)!=null&&as.created_at)&&((_s=Nr==null?void 0:Nr.message)!=null&&_s.cid)){const Qr=new Date(Nr.message.created_at),Ls=Nr.message.cid;(!Cn[Ls]||Cn[Ls].getTime()<Qr.getTime())&&(Cn[Ls]=Qr)}}if(Nr.type==="user.deleted"){const fs=(Ts=(Bs=(Os=un.state)==null?void 0:Os.messages)==null?void 0:Bs[0])==null?void 0:Ts.id;await un.query({messages:{id_lt:fs,limit:DEFAULT_NEXT_CHANNEL_PAGE_SIZE},watchers:{limit:DEFAULT_NEXT_CHANNEL_PAGE_SIZE}})}Nr.type==="notification.mark_unread"&&Vn(fs=>Nr.last_read_at&&Nr.user?{first_unread_message_id:Nr.first_unread_message_id,last_read:new Date(Nr.last_read_at),last_read_message_id:Nr.last_read_message_id,unread_messages:Nr.unread_messages??0}:fs),Nr.type==="channel.truncated"&&Nr.cid===un.cid&&Vn(void 0),Er()}};reactExports.useLayoutEffect(()=>{let Nr=!1,Yr=!1;(async()=>{var os,$s;if(!un.initialized&&xn)try{const as=[];if(!un.id&&((os=un.data)!=null&&os.members))for(const Os of un.data.members){let Bs;if(typeof Os=="string")Bs=Os;else if(typeof Os=="object"){const{user:Ts,user_id:fs}=Os;Bs=fs||(Ts==null?void 0:Ts.id)}Bs&&as.push(Bs)}await getChannel({channel:un,client:_n,members:as,options:Rn});const _s=un.getConfig();Mn(_s)}catch(as){zn({error:as,type:"setError"}),Nr=!0}if(Yr=!0,Gn.current=document.title,!Nr){if(zn({channel:un,hasMore:un.state.messagePagination.hasPrev,type:"initStateFromChannel"}),($s=_n.user)!=null&&$s.id&&un.state.read[_n.user.id]){const{user:as,..._s}=un.state.read[_n.user.id];Vn(_s)}un.countUnread()>0&&En&&xr({updateChannelUiUnreadState:!1}),_n.on("connection.changed",vr),_n.on("connection.recovered",vr),_n.on("user.updated",vr),_n.on("user.deleted",vr),un.on(vr)}})();const ps=In.current;return()=>{Nr||!Yr||(un==null||un.off(vr),_n.off("connection.changed",vr),_n.off("connection.recovered",vr),_n.off("user.deleted",vr),ps.forEach(clearTimeout))}},[un.cid,Rn,hn,Pn==null?void 0:Pn.read_events,xn]),reactExports.useEffect(()=>{var Yr;if(!Ln.thread)return;const Nr=(Yr=Ln.messages)==null?void 0:Yr.find(ps=>{var os;return ps.id===((os=Ln.thread)==null?void 0:os.id)});Nr&&zn({message:Nr,type:"setThread"})},[Ln.messages,Ln.thread]);const nr=reactExports.useCallback(({highlightDuration:Nr,highlightedMessageId:Yr})=>{zn({channel:un,highlightedMessageId:Yr,type:"jumpToMessageFinished"}),dr.current&&clearTimeout(dr.current),dr.current=setTimeout(()=>{Tn._internalState.getLatestValue().focusedMessage&&Tn._internalState.partialNext({focusedMessage:void 0}),dr.current=null,zn({type:"clearHighlightedMessage"})},Nr??DEFAULT_HIGHLIGHT_DURATION)},[un,Tn]);reactExports.useEffect(()=>{Bn!=null&&Bn.id&&nr({highlightedMessageId:Bn.id})},[Bn,nr]);const sr=reactExports.useMemo(()=>makeAddNotifications(Wn,In.current),[]),Rr=reactExports.useCallback(debounce$2((Nr,Yr)=>{Fn.current&&zn({hasMore:Nr,messages:Yr,type:"loadMoreFinished"})},2e3,{leading:!0,trailing:!0}),[]),Ar=async(Nr=DEFAULT_NEXT_CHANNEL_PAGE_SIZE)=>{var as;if(!Jn.current||!window.navigator.onLine||!un.state.messagePagination.hasPrev)return 0;const Yr=(as=Ln==null?void 0:Ln.messages)==null?void 0:as[0];if(Ln.loadingMore||Ln.loadingMoreNewer||(Yr==null?void 0:Yr.status)!=="received")return 0;zn({loadingMore:!0,type:"setLoadingMore"});const ps=Yr==null?void 0:Yr.id,os=Nr;let $s;try{$s=await un.query({messages:{id_lt:ps,limit:os},watchers:{limit:os}})}catch(_s){return console.warn("message pagination request failed with error",_s),zn({loadingMore:!1,type:"setLoadingMore"}),0}return Rr(un.state.messagePagination.hasPrev,un.state.messages),$s.messages.length},Lr=async(Nr=DEFAULT_NEXT_CHANNEL_PAGE_SIZE)=>{var as,_s;if(!Jn.current||!window.navigator.onLine||!un.state.messagePagination.hasNext)return 0;const Yr=(_s=Ln==null?void 0:Ln.messages)==null?void 0:_s[((as=Ln==null?void 0:Ln.messages)==null?void 0:as.length)-1];if(Ln.loadingMore||Ln.loadingMoreNewer)return 0;zn({loadingMoreNewer:!0,type:"setLoadingMoreNewer"});const ps=Yr==null?void 0:Yr.id,os=Nr;let $s;try{$s=await un.query({messages:{id_gt:ps,limit:os},watchers:{limit:os}})}catch(Os){return console.warn("message pagination request failed with error",Os),zn({loadingMoreNewer:!1,type:"setLoadingMoreNewer"}),0}return zn({hasMoreNewer:un.state.messagePagination.hasNext,messages:un.state.messages,type:"loadMoreNewerFinished"}),$s.messages.length},Or=reactExports.useCallback(async(Nr,Yr=DEFAULT_JUMP_TO_PAGE_SIZE,ps=DEFAULT_HIGHLIGHT_DURATION)=>{zn({loadingMore:!0,type:"setLoadingMore"}),await un.state.loadMessageIntoState(Nr,void 0,Yr),Rr(un.state.messagePagination.hasPrev,un.state.messages),nr({highlightDuration:ps,highlightedMessageId:Nr})},[un,nr,Rr]),Zn=reactExports.useCallback(async()=>{await un.state.loadMessageIntoState("latest"),Rr(un.state.messagePagination.hasPrev,un.state.messages),zn({type:"jumpToLatestMessage"})},[un,Rr]),Cr=reactExports.useCallback(async(Nr=DEFAULT_JUMP_TO_PAGE_SIZE,Yr=DEFAULT_HIGHLIGHT_DURATION)=>{var as,_s,Os,Bs;if(!(Un!=null&&Un.unread_messages))return;let ps=Un==null?void 0:Un.last_read_message_id,os=Un==null?void 0:Un.first_unread_message_id,$s=!1;if(os)$s=findInMsgSetById(os,un.state.messages).index!==-1;else if(ps){const Ts=findInMsgSetById(ps,un.state.messages);$s=!!Ts.target,os=Ts.index>-1?(as=un.state.messages[Ts.index+1])==null?void 0:as.id:void 0}else{const Ts=Un.last_read.getTime(),{index:fs,target:Qr}=findInMsgSetByDate(Un.last_read,un.state.messages,!0);if(Qr)os=(_s=un.state.messages[fs+1])==null?void 0:_s.id,$s=!!os,ps=Qr.id;else{zn({loadingMore:!0,type:"setLoadingMore"});let Ls;try{Ls=(await un.query({messages:{created_at_around:Un.last_read.toISOString(),limit:Nr}},"new")).messages}catch{sr($n("Failed to jump to the first unread message"),"error"),Rr(un.state.messagePagination.hasPrev,un.state.messages);return}const Vs=Ls.find(_i=>_i.created_at);if(!Vs){sr($n("Failed to jump to the first unread message"),"error"),Rr(un.state.messagePagination.hasPrev,un.state.messages);return}const ba=new Date(Vs.created_at).getTime();Ts<ba?os=Vs.id:ps=(Os=findInMsgSetByDate(Un.last_read,Ls).target)==null?void 0:Os.id,Rr(un.state.messagePagination.hasPrev,un.state.messages)}}if(!os&&!ps){sr($n("Failed to jump to the first unread message"),"error");return}if(!$s){zn({loadingMore:!0,type:"setLoadingMore"});try{const Ts=os??ps;await un.state.loadMessageIntoState(Ts,void 0,Nr);const fs=un.state.messages.findIndex(Qr=>Qr.id===Ts);Rr(un.state.messagePagination.hasPrev,un.state.messages),os=os??((Bs=un.state.messages[fs+1])==null?void 0:Bs.id)}catch{sr($n("Failed to jump to the first unread message"),"error"),Rr(un.state.messagePagination.hasPrev,un.state.messages);return}}if(!os){sr($n("Failed to jump to the first unread message"),"error");return}Un.first_unread_message_id||Vn({...Un,first_unread_message_id:os,last_read_message_id:ps}),nr({highlightDuration:Yr,highlightedMessageId:os})},[sr,un,nr,Rr,$n,Un]),Fr=reactExports.useCallback(async Nr=>{if(!(Nr!=null&&Nr.id))throw new Error("Cannot delete a message - missing message ID.");let Yr;return mn?Yr=await mn(Nr):Yr=(await _n.deleteMessage(Nr.id)).message,Yr},[_n,mn]),Pr=Nr=>{un.state.addMessageSorted(Nr,!0),zn({channel:un,parentId:Ln.thread&&Nr.parent_id,type:"copyMessagesFromChannel"})},Br=async({localMessage:Nr,message:Yr,options:ps})=>{var os,$s;try{let as;fn?as=await fn(un,Yr,ps):as=await un.sendMessage(Yr,ps);let _s;for(let fs=un.state.messages.length-1;fs>=0;fs--){const Qr=un.state.messages[fs];if(Qr.id&&Qr.id===Yr.id){_s=Qr;break}}const Os=new Date(((os=as==null?void 0:as.message)==null?void 0:os.updated_at)||0).getTime(),Bs=(($s=_s==null?void 0:_s.updated_at)==null?void 0:$s.getTime())||0,Ts=Os>Bs;as!=null&&as.message&&(Ts||(_s==null?void 0:_s.status)==="sending")&&Pr({...as.message,status:"received"})}catch(as){const _s=JSON.stringify(as),Os=_s?JSON.parse(_s):{};Os.code===4&&as instanceof Error&&as.message.includes("already exists")?Pr({...Nr,status:"received"}):(Pr({...Nr,error:Os,status:"failed"}),kn==null||kn.upsertReplyLocally({message:{...Nr,error:Os,status:"failed"}}))}},ar=async({localMessage:Nr,message:Yr,options:ps})=>{un.state.filterErrorMessages(),kn==null||kn.upsertReplyLocally({message:Nr}),Pr(Nr),await Br({localMessage:Nr,message:Yr,options:ps})},pr=async Nr=>{Pr({...Nr,error:void 0,status:"sending"}),await Br({localMessage:Nr,message:localMessageToNewMessagePayload(Nr)})},Xn=Nr=>{un.state.removeMessage(Nr),zn({channel:un,parentId:Ln.thread&&Nr.parent_id,type:"copyMessagesFromChannel"})},$r=(Nr,Yr)=>{Yr==null||Yr.preventDefault(),zn({channel:un,message:Nr,type:"openThread"})},lr=Nr=>{Nr==null||Nr.preventDefault(),zn({type:"closeThread"})},gr=reactExports.useCallback(debounce$2((Nr,Yr)=>{zn({threadHasMore:Nr,threadMessages:Yr,type:"loadMoreThreadFinished"})},2e3,{leading:!0,trailing:!0}),[]),_r=async(Nr=DEFAULT_THREAD_PAGE_SIZE)=>{var $s;if(Ln.threadLoadingMore||!Ln.thread||!Ln.threadHasMore)return;zn({type:"startLoadingThread"});const Yr=Ln.thread.id;if(!Yr)return zn({type:"closeThread"});const ps=un.state.threads[Yr]||[],os=($s=ps[0])==null?void 0:$s.id;try{const as=await un.getReplies(Yr,{id_lt:os,limit:Nr}),_s=hasMoreMessagesProbably(as.messages.length,Nr),Os=un.state.threads[Yr]||[];gr(_s,Os)}catch{gr(!1,ps)}},Hr=useMentionsHandlers(wn,bn),Vr=useEditMessageHandler(gn),{typing:ss,...Rs}=Ln,Cs=useCreateChannelStateContext({...Rs,channel:un,channelCapabilitiesArray:br,channelConfig:Pn,channelUnreadUiState:Un,giphyVersion:tn.giphyVersion||"fixed_height",imageAttachmentSizeHandler:tn.imageAttachmentSizeHandler||getImageAttachmentConfiguration,mutes:An,notifications:On,shouldGenerateVideoThumbnail:tn.shouldGenerateVideoThumbnail||!0,videoAttachmentSizeHandler:tn.videoAttachmentSizeHandler||getVideoAttachmentConfiguration,watcher_count:Ln.watcherCount}),Ps=reactExports.useMemo(()=>({addNotification:sr,closeThread:lr,deleteMessage:Fr,dispatch:zn,editMessage:Vr,jumpToFirstUnreadMessage:Cr,jumpToLatestMessage:Zn,jumpToMessage:Or,loadMore:Ar,loadMoreNewer:Lr,loadMoreThread:_r,markRead:xr,onMentionsClick:Hr,onMentionsHover:Hr,openThread:$r,removeMessage:Xn,retrySendMessage:pr,sendMessage:ar,setChannelUnreadUiState:yr,skipMessageDataMemoization:Sn,updateMessage:Pr}),[un.cid,Fr,Ar,Lr,xr,Cr,Or,Zn,yr]),js=reactExports.useMemo(()=>({Attachment:tn.Attachment,AttachmentPreviewList:tn.AttachmentPreviewList,AttachmentSelector:tn.AttachmentSelector,AttachmentSelectorInitiationButtonContents:tn.AttachmentSelectorInitiationButtonContents,AudioRecorder:tn.AudioRecorder,AutocompleteSuggestionItem:tn.AutocompleteSuggestionItem,AutocompleteSuggestionList:tn.AutocompleteSuggestionList,Avatar:tn.Avatar,BaseImage:tn.BaseImage,CooldownTimer:tn.CooldownTimer,CustomMessageActionsList:tn.CustomMessageActionsList,DateSeparator:tn.DateSeparator,EditMessageInput:tn.EditMessageInput,EmojiPicker:tn.EmojiPicker,emojiSearchIndex:tn.emojiSearchIndex,EmptyStateIndicator:tn.EmptyStateIndicator,FileUploadIcon:tn.FileUploadIcon,GiphyPreviewMessage:tn.GiphyPreviewMessage,HeaderComponent:tn.HeaderComponent,Input:tn.Input,LinkPreviewList:tn.LinkPreviewList,LoadingIndicator:tn.LoadingIndicator,Message:tn.Message,MessageActions:tn.MessageActions,MessageBlocked:tn.MessageBlocked,MessageBouncePrompt:tn.MessageBouncePrompt,MessageDeleted:tn.MessageDeleted,MessageIsThreadReplyInChannelButtonIndicator:tn.MessageIsThreadReplyInChannelButtonIndicator,MessageListNotifications:tn.MessageListNotifications,MessageNotification:tn.MessageNotification,MessageOptions:tn.MessageOptions,MessageRepliesCountButton:tn.MessageRepliesCountButton,MessageStatus:tn.MessageStatus,MessageSystem:tn.MessageSystem,MessageTimestamp:tn.MessageTimestamp,ModalGallery:tn.ModalGallery,PinIndicator:tn.PinIndicator,PollActions:tn.PollActions,PollContent:tn.PollContent,PollCreationDialog:tn.PollCreationDialog,PollHeader:tn.PollHeader,PollOptionSelector:tn.PollOptionSelector,QuotedMessage:tn.QuotedMessage,QuotedMessagePreview:tn.QuotedMessagePreview,QuotedPoll:tn.QuotedPoll,reactionOptions:tn.reactionOptions,ReactionSelector:tn.ReactionSelector,ReactionsList:tn.ReactionsList,ReactionsListModal:tn.ReactionsListModal,ReminderNotification:tn.ReminderNotification,SendButton:tn.SendButton,SendToChannelCheckbox:tn.SendToChannelCheckbox,StartRecordingAudioButton:tn.StartRecordingAudioButton,StopAIGenerationButton:tn.StopAIGenerationButton,StreamedMessageText:tn.StreamedMessageText,TextareaComposer:tn.TextareaComposer,ThreadHead:tn.ThreadHead,ThreadHeader:tn.ThreadHeader,ThreadStart:tn.ThreadStart,Timestamp:tn.Timestamp,TypingIndicator:tn.TypingIndicator,UnreadMessagesNotification:tn.UnreadMessagesNotification,UnreadMessagesSeparator:tn.UnreadMessagesSeparator,VirtualMessage:tn.VirtualMessage}),[tn.Attachment,tn.AttachmentPreviewList,tn.AttachmentSelector,tn.AttachmentSelectorInitiationButtonContents,tn.AudioRecorder,tn.AutocompleteSuggestionItem,tn.AutocompleteSuggestionList,tn.Avatar,tn.BaseImage,tn.CooldownTimer,tn.CustomMessageActionsList,tn.DateSeparator,tn.EditMessageInput,tn.EmojiPicker,tn.emojiSearchIndex,tn.EmptyStateIndicator,tn.FileUploadIcon,tn.GiphyPreviewMessage,tn.HeaderComponent,tn.Input,tn.LinkPreviewList,tn.LoadingIndicator,tn.Message,tn.MessageActions,tn.MessageBlocked,tn.MessageBouncePrompt,tn.MessageDeleted,tn.MessageIsThreadReplyInChannelButtonIndicator,tn.MessageListNotifications,tn.MessageNotification,tn.MessageOptions,tn.MessageRepliesCountButton,tn.MessageStatus,tn.MessageSystem,tn.MessageTimestamp,tn.ModalGallery,tn.PinIndicator,tn.PollActions,tn.PollContent,tn.PollCreationDialog,tn.PollHeader,tn.PollOptionSelector,tn.QuotedMessage,tn.QuotedMessagePreview,tn.QuotedPoll,tn.reactionOptions,tn.ReactionSelector,tn.ReactionsList,tn.ReactionsListModal,tn.ReminderNotification,tn.SendButton,tn.SendToChannelCheckbox,tn.StartRecordingAudioButton,tn.StopAIGenerationButton,tn.StreamedMessageText,tn.TextareaComposer,tn.ThreadHead,tn.ThreadHeader,tn.ThreadStart,tn.Timestamp,tn.TypingIndicator,tn.UnreadMessagesNotification,tn.UnreadMessagesSeparator,tn.VirtualMessage]),ms=useCreateTypingContext({typing:ss});return Ln.error?React$1.createElement(ChannelContainer,null,React$1.createElement(yn,{error:Ln.error})):Ln.loading?React$1.createElement(ChannelContainer,null,React$1.createElement(vn,null)):un.watch?React$1.createElement(ChannelContainer,{className:Nn},React$1.createElement(ChannelStateProvider,{value:Cs},React$1.createElement(ChannelActionProvider,{value:Ps},React$1.createElement(WithComponents,{overrides:js},React$1.createElement(TypingProvider,{value:ms},React$1.createElement("div",{className:clsx(Dn)},pn)))))):React$1.createElement(ChannelContainer,null,React$1.createElement("div",null,$n("Channel Missing")))},Channel=React$1.memo(UnMemoizedChannel),MenuIcon=({title:tn})=>{const{t:sn}=useTranslationContext("MenuIcon");return React$1.createElement("svg",{"data-testid":"menu-icon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("title",null,tn??sn("Menu")),React$1.createElement("path",{d:"M0 88C0 74.75 10.75 64 24 64H424C437.3 64 448 74.75 448 88C448 101.3 437.3 112 424 112H24C10.75 112 0 101.3 0 88zM0 248C0 234.7 10.75 224 24 224H424C437.3 224 448 234.7 448 248C448 261.3 437.3 272 424 272H24C10.75 272 0 261.3 0 248zM424 432H24C10.75 432 0 421.3 0 408C0 394.7 10.75 384 24 384H424C437.3 384 448 394.7 448 408C448 421.3 437.3 432 424 432z",fill:"currentColor"}))},ChannelHeader=tn=>{const{Avatar:sn=Avatar,image:un,live:dn,MenuIcon:pn=MenuIcon,title:mn}=tn,{channel:hn,watcher_count:fn}=useChannelStateContext("ChannelHeader"),{openMobileNav:gn}=useChatContext("ChannelHeader"),{t:xn}=useTranslationContext("ChannelHeader"),{displayImage:yn,displayTitle:vn,groupChannelDisplayInfo:En}=useChannelPreviewInfo({channel:hn,overrideImage:un,overrideTitle:mn}),{member_count:bn,subtitle:wn}=(hn==null?void 0:hn.data)||{};return React$1.createElement("div",{className:"str-chat__channel-header"},React$1.createElement("button",{"aria-label":xn("aria/Menu"),className:"str-chat__header-hamburger",onClick:gn},React$1.createElement(pn,null)),React$1.createElement(sn,{className:"str-chat__avatar--channel-header",groupChannelDisplayInfo:En,image:yn,name:vn}),React$1.createElement("div",{className:"str-chat__channel-header-end"},React$1.createElement("p",{className:"str-chat__channel-header-title"},vn," ",dn&&React$1.createElement("span",{className:"str-chat__header-livestream-livelabel"},xn("live"))),wn&&React$1.createElement("p",{className:"str-chat__channel-header-subtitle"},wn),React$1.createElement("p",{className:"str-chat__channel-header-info"},!dn&&!!bn&&bn>0&&React$1.createElement(React$1.Fragment,null,xn("{{ memberCount }} members",{memberCount:bn}),","," "),xn("{{ watcherCount }} online",{watcherCount:fn}))))},useChat=({client:tn,defaultLanguage:sn="en",i18nInstance:un,initialNavOpen:dn})=>{var An,Tn;const[pn,mn]=reactExports.useState({t:defaultTranslatorFunction,tDateTimeParser:defaultDateTimeParser,userLanguage:"en"}),[hn,fn]=reactExports.useState(),[gn,xn]=reactExports.useState([]),[yn,vn]=reactExports.useState(dn),[En,bn]=reactExports.useState({}),wn=((An=tn.user)==null?void 0:An.mutes)??[],Sn=()=>vn(!1),Rn=()=>setTimeout(()=>vn(!0),100),_n=reactExports.useRef(null),jn=()=>(_n.current||(_n.current=tn.getAppSettings()),_n.current);reactExports.useEffect(()=>{if(!tn)return;const $n="13.2.3",Dn=tn.getUserAgent();return Dn.includes("stream-chat-react")||tn.setUserAgent(`stream-chat-react-${$n}-${Dn}`),tn.threads.registerSubscriptions(),tn.polls.registerSubscriptions(),tn.reminders.registerSubscriptions(),tn.reminders.initTimers(),()=>{tn.threads.unregisterSubscriptions(),tn.polls.unregisterSubscriptions(),tn.reminders.unregisterSubscriptions(),tn.reminders.clearTimers()}},[tn]),reactExports.useEffect(()=>{xn(wn);const $n=Dn=>{var Nn;xn(((Nn=Dn.me)==null?void 0:Nn.mutes)||[])};return tn.on("notification.mutes_updated",$n),()=>tn.off("notification.mutes_updated",$n)},[wn==null?void 0:wn.length]),reactExports.useEffect(()=>{var Nn;let $n=(Nn=tn.user)==null?void 0:Nn.language;if(!$n){const kn=window.navigator.language.slice(0,2);$n=isLanguageSupported(kn)?kn:sn}const Dn=un||new Streami18n({language:$n});Dn.registerSetLanguageCallback(kn=>mn(Pn=>({...Pn,t:kn}))),Dn.getTranslators().then(kn=>{mn({...kn,userLanguage:$n||sn})})},[un]);const Cn=reactExports.useCallback(async($n,Dn={},Nn)=>{Nn&&Nn.preventDefault&&Nn.preventDefault(),$n&&Object.keys(Dn).length&&await $n.query({watch:!0,watchers:Dn}),fn($n),Sn()},[]);return reactExports.useEffect(()=>{bn({})},[(Tn=tn.user)==null?void 0:Tn.id]),{channel:hn,closeMobileNav:Sn,getAppSettings:jn,latestMessageDatesByChannels:En,mutes:gn,navOpen:yn,openMobileNav:Rn,setActiveChannel:Cn,translators:pn}},useCreateChatContext=tn=>{var $n;const{channel:sn,channelsQueryState:un,client:dn,closeMobileNav:pn,customClasses:mn,getAppSettings:hn,isMessageAIGenerated:fn,latestMessageDatesByChannels:gn,mutes:xn,navOpen:yn,openMobileNav:vn,searchController:En,setActiveChannel:bn,theme:wn,useImageFlagEmojisOnWindows:Sn}=tn,Rn=sn==null?void 0:sn.cid,_n=un.error,jn=un.queryInProgress,Cn=`${dn.clientID}${Object.keys(dn.activeChannels).length}${Object.keys(dn.listeners).length}${dn.mutedChannels.length}
  ${($n=dn.user)==null?void 0:$n.id}`,An=xn.length;return reactExports.useMemo(()=>({channel:sn,channelsQueryState:un,client:dn,closeMobileNav:pn,customClasses:mn,getAppSettings:hn,isMessageAIGenerated:fn,latestMessageDatesByChannels:gn,mutes:xn,navOpen:yn,openMobileNav:vn,searchController:En,setActiveChannel:bn,theme:wn,useImageFlagEmojisOnWindows:Sn}),[Rn,_n,jn,Cn,hn,En,An,yn,fn])},useChannelsQueryState=()=>{const[tn,sn]=reactExports.useState(null),[un,dn]=reactExports.useState("uninitialized");return{error:tn,queryInProgress:un,setError:sn,setQueryInProgress:dn}},Chat=tn=>{const{children:sn,client:un,customClasses:dn,defaultLanguage:pn,i18nInstance:mn,initialNavOpen:hn=!0,isMessageAIGenerated:fn,searchController:gn,theme:xn="messaging light",useImageFlagEmojisOnWindows:yn=!1}=tn,{channel:vn,closeMobileNav:En,getAppSettings:bn,latestMessageDatesByChannels:wn,mutes:Sn,navOpen:Rn,openMobileNav:_n,setActiveChannel:jn,translators:Cn}=useChat({client:un,defaultLanguage:pn,i18nInstance:mn,initialNavOpen:hn}),An=useChannelsQueryState(),Tn=reactExports.useMemo(()=>gn??new SearchController({sources:[new ChannelSearchSource(un),new UserSearchSource(un),new MessageSearchSource(un)]}),[un,gn]),$n=useCreateChatContext({channel:vn,channelsQueryState:An,client:un,closeMobileNav:En,customClasses:dn,getAppSettings:bn,isMessageAIGenerated:fn,latestMessageDatesByChannels:wn,mutes:Sn,navOpen:Rn,openMobileNav:_n,searchController:Tn,setActiveChannel:jn,theme:xn,useImageFlagEmojisOnWindows:yn});return Cn.t?React$1.createElement(ChatProvider,{value:$n},React$1.createElement(TranslationProvider,{value:Cn},sn)):null},UnMemoizedWindow=tn=>{const{children:sn,thread:un}=tn,{thread:dn}=useChannelStateContext("Window");return React$1.createElement("div",{className:clsx("str-chat__main-panel",{"str-chat__main-panel--thread-open":dn||un})},sn)},Window=React$1.memo(UnMemoizedWindow);function isValidUser(tn){return tn&&typeof tn.id<"u"&&tn.email}function StreamMessagesPage(){const[tn,sn]=reactExports.useState(null),[un,dn]=reactExports.useState(null),[pn,mn]=reactExports.useState(!0),[hn,fn]=reactExports.useState(null),[gn,xn]=reactExports.useState(!1),[yn,vn]=reactExports.useState(""),[En,bn]=reactExports.useState("messaging"),[wn,Sn]=reactExports.useState([]),[Rn,_n]=reactExports.useState([]),{user:jn}=useAuth(),{toast:Cn}=useToast(),An=async()=>{try{const kn=await fetch("/api/users",{credentials:"include",headers:{"Content-Type":"application/json"}});if(kn.ok){const Pn=await kn.json();return(Array.isArray(Pn)?Pn:Pn.users||[]).filter(Wn=>Wn.isActive&&Wn.id!==(isValidUser(jn)?jn.id:null)&&Wn.email).map(Wn=>({id:Wn.id.toString(),name:Wn.firstName?`${Wn.firstName} ${Wn.lastName||""}`.trim():Wn.email,email:Wn.email}))}return[]}catch(kn){return console.error("Failed to fetch users:",kn),[]}};reactExports.useEffect(()=>((async()=>{if(isValidUser(jn))try{if(mn(!0),console.log("🚀 Initializing Stream Chat..."),!(await fetch("/api/stream/sync-users",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to sync users to Stream");console.log("✅ Users synced to Stream successfully");const Mn=await fetch("/api/stream/token",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:jn.id.toString()})});if(!Mn.ok)throw new Error("Failed to get Stream token");const{token:On,apiKey:Wn}=await Mn.json();console.log("✅ Stream token received");const In=StreamChat.getInstance(Wn);await In.connectUser({id:jn.id.toString(),name:jn.firstName?`${jn.firstName} ${jn.lastName||""}`.trim():jn.email},On),console.log("✅ Connected to Stream Chat"),sn(In);const Un=await An();_n(Un),fn(null)}catch(Pn){console.error("Stream Chat initialization failed:",Pn),fn(Pn.message),Cn({title:"Connection Failed",description:"Unable to connect to messaging service. Please try again.",variant:"destructive"})}finally{mn(!1)}})(),()=>{tn&&tn.disconnectUser()}),[isValidUser(jn)?jn.id:null]);const Tn=async()=>{if(!(!tn||!yn.trim()))try{mn(!0);const kn=jn;let Pn;En==="messaging"?Pn=tn.channel(En,{members:[kn.id.toString(),...wn]}):Pn=tn.channel(En,yn,{members:[kn.id.toString(),...wn]}),await Pn.create(),dn(Pn),xn(!1),vn(""),Sn([]),Cn({title:"Channel Created",description:`${yn||"Direct message"} has been created successfully.`})}catch(kn){console.error("Failed to create channel:",kn),Cn({title:"Creation Failed",description:"Unable to create channel. Please try again.",variant:"destructive"})}finally{mn(!1)}},$n=kn=>{Sn(Pn=>Pn.includes(kn)?Pn.filter(Mn=>Mn!==kn):[...Pn,kn])};if(pn)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Connecting to Stream Chat..."})]})});if(hn)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx(Card$1,{className:"p-6 max-w-md",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-8 w-8 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Connection Error"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:hn}),jsxRuntimeExports.jsx(Button,{onClick:()=>window.location.reload(),children:"Try Again"})]})})});if(!tn)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-64",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Stream Chat not initialized"})});const Dn={members:{$in:[isValidUser(jn)?jn.id.toString():""]}},Nn=[{last_message_at:-1}];return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Stream Chat Messages"})]}),jsxRuntimeExports.jsxs(Dialog,{open:gn,onOpenChange:xn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"New Channel"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Create New Channel"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Start a new conversation with team members"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"channelName",children:"Channel Name"}),jsxRuntimeExports.jsx(Input,{id:"channelName",value:yn,onChange:kn=>vn(kn.target.value),placeholder:"Enter channel name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"channelType",children:"Channel Type"}),jsxRuntimeExports.jsxs("select",{id:"channelType",value:En,onChange:kn=>bn(kn.target.value),className:"w-full px-3 py-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{value:"messaging",children:"Direct Message"}),jsxRuntimeExports.jsx("option",{value:"team",children:"Team Channel"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Select Users"}),jsxRuntimeExports.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-md p-2 space-y-2",children:Rn.map(kn=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:`user-${kn.id}`,checked:wn.includes(kn.id),onChange:()=>$n(kn.id),className:"rounded"}),jsxRuntimeExports.jsx("label",{htmlFor:`user-${kn.id}`,className:"text-sm",children:kn.name})]},kn.id))})]}),jsxRuntimeExports.jsx(Button,{onClick:Tn,className:"w-full",disabled:!yn.trim()||pn,children:pn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Channel"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex",children:jsxRuntimeExports.jsxs(Chat,{client:tn,theme:"str-chat__theme-light",children:[jsxRuntimeExports.jsx("div",{className:"w-80 border-r",children:jsxRuntimeExports.jsx(ChannelList,{filters:Dn,sort:Nn,showChannelSearch:!0})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:un?jsxRuntimeExports.jsxs(Channel,{channel:un,children:[jsxRuntimeExports.jsxs(Window,{children:[jsxRuntimeExports.jsx(ChannelHeader,{}),jsxRuntimeExports.jsx(MessageList,{}),jsxRuntimeExports.jsx(MessageInput,{})]}),jsxRuntimeExports.jsx(Thread,{})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Hash$2,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Channel"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Choose a channel from the sidebar to start messaging"})]})})})]})})]})}function DirectMessages(){const[tn,sn]=reactExports.useState([]),[un,dn]=reactExports.useState([]),[pn,mn]=reactExports.useState(null),[hn,fn]=reactExports.useState([]),[gn,xn]=reactExports.useState(!0),[yn,vn]=reactExports.useState(!1),[En,bn]=reactExports.useState(""),[wn,Sn]=reactExports.useState(""),[Rn,_n]=reactExports.useState(""),[jn,Cn]=reactExports.useState(""),[An,Tn]=reactExports.useState(!1),{user:$n}=useAuth(),{toast:Dn}=useToast(),Nn=(In,Un)=>`${(In==null?void 0:In[0])||""}${(Un==null?void 0:Un[0])||""}`.toUpperCase()||"U",kn=async()=>{try{const In=await fetch("/api/users",{credentials:"include",headers:{"Content-Type":"application/json"}});if(In.ok){const Un=await In.json(),Vn=Array.isArray(Un)?Un:Un.users||[];sn(Vn.filter(Hn=>Hn.isActive&&Hn.id!==($n==null?void 0:$n.id)))}}catch(In){console.error("Error fetching users:",In)}},Pn=async()=>{var In;try{xn(!0);const Un=await fetch("/api/messaging/conversations",{credentials:"include",headers:{"Content-Type":"application/json"}});if(Un.ok){const Vn=await Un.json();console.log("Conversations data:",Vn);const Hn=new Map;(In=Vn.messages)==null||In.forEach(Ln=>{const zn=$n==null?void 0:$n.id,Bn=Ln.senderId===zn?Ln.recipientId:Ln.senderId,Fn=Ln.senderId===zn?Ln.recipientName:Ln.senderName;if(!Hn.has(Bn)){const qn=tn.find(Jn=>Jn.id===Bn)||{id:Bn,firstName:Fn.split(" ")[0]||"Unknown",lastName:Fn.split(" ")[1]||"User",email:"unknown@email.com",isActive:!0};Hn.set(Bn,{otherUser:qn,lastMessage:Ln,unreadCount:0})}const Gn=Hn.get(Bn);new Date(Ln.createdAt)>new Date(Gn.lastMessage.createdAt)&&(Gn.lastMessage=Ln),!Ln.isRead&&Ln.recipientId===zn&&Gn.unreadCount++}),dn(Array.from(Hn.values()))}}catch(Un){console.error("Error fetching conversations:",Un)}finally{xn(!1)}},Mn=async In=>{try{const Un=await fetch(`/api/messaging/conversation/${In}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(Un.ok){const Vn=await Un.json();fn(Vn.messages||[])}}catch(Un){console.error("Error fetching conversation messages:",Un)}},On=async()=>{if(!(!pn||!En.trim()))try{Tn(!0),(await fetch("/api/messaging/send",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientIds:[pn.otherUser.id],content:`Re: ${pn.lastMessage.subject}

${En}`,contextType:"direct"})})).ok&&(bn(""),await Mn(pn.otherUser.id),await Pn(),Dn({title:"Message Sent",description:"Your reply has been sent successfully"}))}catch(In){console.error("Error sending message:",In),Dn({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{Tn(!1)}},Wn=async()=>{if(!wn||!Rn.trim()||!jn.trim()){Dn({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}try{Tn(!0),(await fetch("/api/messaging/send",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientIds:[wn],content:`Subject: ${Rn}

${jn}`,contextType:"direct"})})).ok&&(Sn(""),_n(""),Cn(""),vn(!1),await Pn(),Dn({title:"Message Sent",description:"Your message has been sent successfully"}))}catch(In){console.error("Error sending message:",In),Dn({title:"Error",description:"Failed to send message",variant:"destructive"})}finally{Tn(!1)}};return reactExports.useEffect(()=>{$n&&kn()},[$n]),reactExports.useEffect(()=>{tn.length>0&&Pn()},[tn]),gn?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-96",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-primary"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading conversations..."})]})}):jsxRuntimeExports.jsxs("div",{className:"h-full flex",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/3 border-r bg-background",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-5 w-5"}),"Conversations"]}),jsxRuntimeExports.jsxs(Dialog,{open:yn,onOpenChange:vn,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"sm",className:"gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"New"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Compose New Message"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Send a direct message to another user"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"recipient",children:"Recipient"}),jsxRuntimeExports.jsxs(Select,{value:wn,onValueChange:Sn,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"mt-1",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select recipient..."})}),jsxRuntimeExports.jsx(SelectContent,{children:tn.map(In=>jsxRuntimeExports.jsxs(SelectItem,{value:In.id,children:[In.firstName," ",In.lastName," (",In.email,")"]},In.id))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"subject",children:"Subject"}),jsxRuntimeExports.jsx(Input,{id:"subject",value:Rn,onChange:In=>_n(In.target.value),placeholder:"Enter message subject",className:"mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"body",children:"Message"}),jsxRuntimeExports.jsx(Textarea,{id:"body",value:jn,onChange:In=>Cn(In.target.value),placeholder:"Type your message here...",className:"mt-1 min-h-[120px]"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>vn(!1),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:Wn,disabled:An,children:An?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})]})]})]})}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-[calc(100vh-180px)]",children:un.length===0?jsxRuntimeExports.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[jsxRuntimeExports.jsx(Mail,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"No conversations yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Start a new conversation to get started"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-1 p-2",children:un.map(In=>jsxRuntimeExports.jsx("div",{onClick:()=>{mn(In),Mn(In.otherUser.id)},className:`p-3 rounded-lg cursor-pointer transition-colors ${(pn==null?void 0:pn.otherUser.id)===In.otherUser.id?"bg-primary/10 border-primary/20":"hover:bg-muted/50"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Avatar$1,{className:"h-10 w-10",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary/10 text-primary",children:Nn(In.otherUser.firstName,In.otherUser.lastName)})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("p",{className:"font-medium truncate",children:[In.otherUser.firstName," ",In.otherUser.lastName]}),In.unreadCount>0&&jsxRuntimeExports.jsx(Badge,{variant:"default",className:"h-5 min-w-[20px] text-xs",children:In.unreadCount})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground truncate",children:In.lastMessage.subject}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3 text-muted-foreground"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[formatDistanceToNow(new Date(In.lastMessage.createdAt))," ago"]})]})]})]})},In.otherUser.id))})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col",children:pn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b bg-background",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Avatar$1,{className:"h-10 w-10",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary/10 text-primary",children:Nn(pn.otherUser.firstName,pn.otherUser.lastName)})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[pn.otherUser.firstName," ",pn.otherUser.lastName]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:pn.otherUser.email})]})]})}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1 p-4",children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:hn.map(In=>{const Un=In.senderId===($n==null?void 0:$n.id);return jsxRuntimeExports.jsx("div",{className:`flex ${Un?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${Un?"bg-primary text-primary-foreground":"bg-muted"}`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium mb-1",children:In.subject}),jsxRuntimeExports.jsx("div",{className:"text-sm whitespace-pre-wrap",children:In.body}),jsxRuntimeExports.jsxs("div",{className:`text-xs mt-2 ${Un?"text-primary-foreground/70":"text-muted-foreground"}`,children:[formatDistanceToNow(new Date(In.createdAt))," ago"]})]})},In.id)})})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t bg-background",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:En,onChange:In=>bn(In.target.value),placeholder:"Type a quick reply...",onKeyPress:In=>In.key==="Enter"&&!In.shiftKey&&On(),className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:On,disabled:!En.trim()||An,children:An?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Send$c,{className:"h-4 w-4"})})]})})]}):jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-muted-foreground",children:[jsxRuntimeExports.jsx(Users,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),jsxRuntimeExports.jsx("p",{children:"Choose a conversation from the sidebar to start messaging"})]})})})]})}const HelpContext=reactExports.createContext(null);function useHelp(){const tn=reactExports.useContext(HelpContext);if(!tn)throw new Error("useHelp must be used within a HelpProvider");return tn}function HelpProvider({children:tn}){const[sn,un]=reactExports.useState(new Map),[dn,pn]=reactExports.useState(()=>{const vn=localStorage.getItem("help-mode-enabled");return vn?JSON.parse(vn):!0}),mn=reactExports.useCallback((vn,En)=>{un(bn=>new Map(bn.set(vn,En)))},[]),hn=reactExports.useCallback(vn=>{console.log("Showing help:",vn)},[]),fn=reactExports.useCallback(vn=>{console.log("Hiding help:",vn)},[]),gn=reactExports.useCallback(()=>{const vn=!dn;pn(vn),localStorage.setItem("help-mode-enabled",JSON.stringify(vn))},[dn]),xn=reactExports.useCallback(vn=>sn.get(vn)||null,[sn]);reactExports.useEffect(()=>{[["dashboard-welcome",{id:"dashboard-welcome",title:"Welcome to TSP!",message:"I'm so glad you're here! This dashboard is your central hub for everything related to The Sandwich Project. From here, you can track collections, connect with your team, and make a real difference in your community.",tone:"encouraging",character:"friend",position:"bottom",showOnFirstVisit:!0}],["collections-form",{id:"collections-form",title:"Recording Your Collections",message:"Every sandwich you record here represents a meal for someone in need. Don't worry about making mistakes - you can always edit entries later. Just do your best, and know that your contribution matters so much!",tone:"supportive",character:"mentor",position:"right"}],["navigation-help",{id:"navigation-help",title:"Finding Your Way Around",message:"Think of this sidebar as your map to everything TSP! Each section is designed to help you contribute in your own unique way. Take your time exploring - there's no rush.",tone:"informative",character:"guide",position:"right"}],["team-chat",{id:"team-chat",title:"Connect with Your Team",message:"This is where the magic happens! Chat with your fellow volunteers, share updates, and celebrate each other's wins. We're all in this together, and your voice matters here.",tone:"encouraging",character:"friend",position:"top"}],["reports-analytics",{id:"reports-analytics",title:"See Your Impact",message:"These numbers tell the story of our collective impact! Every chart and statistic represents real people whose lives we've touched. You should feel proud - you're part of something beautiful.",tone:"celebratory",character:"coach",position:"bottom"}],["directory-contacts",{id:"directory-contacts",title:"Your TSP Family",message:"Here's everyone who's part of our wonderful community! Don't hesitate to reach out to anyone - we're all here to support each other in this important work.",tone:"supportive",character:"friend",position:"left"}],["meetings-schedule",{id:"meetings-schedule",title:"Stay Connected",message:"Meetings are where we come together as a team! They're not just about business - they're about connecting, sharing ideas, and supporting each other. Your participation is valued!",tone:"encouraging",character:"mentor",position:"bottom"}],["project-management",{id:"project-management",title:"Making Things Happen",message:"Projects might seem overwhelming, but remember - every big change starts with small steps. You don't have to do everything at once. Just pick something that speaks to you and take it one task at a time!",tone:"supportive",character:"coach",position:"right"}],["data-entry-tips",{id:"data-entry-tips",title:"Data Entry Made Easy",message:"I know forms can feel tedious, but think of each entry as a story of generosity! Take breaks when you need them, and remember - accuracy matters more than speed. You're doing great!",tone:"encouraging",character:"mentor",position:"top"}],["first-time-user",{id:"first-time-user",title:"New Here? You're Welcome!",message:"Starting something new can feel a bit overwhelming, but you've joined an incredibly supportive community! Take things at your own pace, ask questions whenever you need to, and know that everyone here wants to see you succeed.",tone:"supportive",character:"friend",position:"bottom",showOnFirstVisit:!0,actions:[{label:"Take a Quick Tour",action:()=>console.log("Starting tour"),primary:!0},{label:"I'll Explore on My Own",action:()=>console.log("Self exploration")}]}]].forEach(([En,bn])=>{mn(En,bn)})},[mn]);const yn={showHelp:hn,hideHelp:fn,registerHelp:mn,isHelpEnabled:dn,toggleHelpMode:gn,getHelpContent:xn};return jsxRuntimeExports.jsx(HelpContext.Provider,{value:yn,children:tn})}function HelpToggle({className:tn=""}){const{isHelpEnabled:sn,toggleHelpMode:un}=useHelp();return jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:`flex items-center space-x-2 text-slate-600 hover:text-teal-600 hover:bg-teal-50 transition-colors ${tn}`,onClick:un,title:sn?"Hide help bubbles":"Show help bubbles",children:[jsxRuntimeExports.jsx(CircleHelp,{className:"w-4 h-4"}),sn?jsxRuntimeExports.jsx(EyeOff,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Eye,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm hidden sm:block",children:sn?"Hide Help":"Show Help"})]})}const safetyDocuments=[{name:"Summer Food Safety Guidelines",path:"/attached_assets/Summer Food Safety Guidelines_1751569876472.pdf",type:"pdf",category:"Safety Guidelines",description:"Updated guidelines for no cooler collections, proper refrigeration temperatures (33-36°F), and summer heat safety protocols for home hosts"},{name:"Food Safety Volunteers Guide",path:"/attached_assets/20230525-TSP-Food Safety Volunteers_1749341933308.pdf",type:"pdf",category:"Safety Guidelines",description:"Comprehensive safety protocols for volunteers preparing and delivering sandwiches"},{name:"Food Safety Hosts Guide",path:"/attached_assets/20230525-TSP-Food Safety Hosts (1)_1753670644140.pdf",type:"pdf",category:"Safety Guidelines",description:"Safety standards and procedures for hosts collecting and storing sandwiches"},{name:"Food Safety Volunteers Guide (Alternate)",path:"/attached_assets/20230525-TSP-Food Safety Volunteers (1)_1753670644140.pdf",type:"pdf",category:"Safety Guidelines",description:"Additional volunteer safety guidelines for sandwich preparation, storage, and delivery"},{name:"Food Safety Recipients Guide",path:"/attached_assets/20250205-TSP-Food Safety Recipients_1753670644140.pdf",type:"pdf",category:"Safety Guidelines",description:"Safety standards for recipient organizations handling perishable food donations"},{name:"Food Safety Recipients (Alternate)",path:"/attached_assets/Copy of Copy of Food Safety TSP.RECIPIENTS.04042023_1753670644141.pdf",type:"pdf",category:"Safety Guidelines",description:"Additional safety guidelines for 501(c)(3) recipient organizations"}],labelDocuments=[{name:"Deli Labels",path:"/attached_assets/Deli labels_1749341916236.pdf",type:"pdf",category:"Labels",description:"Official TSP labels for deli sandwich identification and tracking"},{name:"PBJ Labels",path:"/attached_assets/20250622-TSP-PBJ Sandwich Making 101_1749341916236.pdf",type:"pdf",category:"Labels",description:"Labels and guidelines for peanut butter and jelly sandwiches"}],sandwichMakingDocuments=[{name:"Deli Sandwich Making 101",path:"/attached_assets/20240622-TSP-Deli Sandwich Making 101_1749341916236.pdf",type:"pdf",category:"Sandwich Making",description:"Complete guide to preparing deli sandwiches according to TSP standards"},{name:"PBJ Sandwich Making 101",path:"/attached_assets/20250622-TSP-PBJ Sandwich Making 101_1749341916236.pdf",type:"pdf",category:"Sandwich Making",description:"Step-by-step instructions for making peanut butter and jelly sandwiches"},{name:"Sandwich Inventory List",path:"/attached_assets/CLEANED UP Sandwich Totals_1753480177827.pdf",type:"pdf",category:"Sandwich Making",description:"Comprehensive inventory tracking system for sandwich collections"}],getFileIcon=tn=>{switch(tn){case"pdf":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-red-500"});case"xlsx":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-green-500"});case"docx":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-blue-500"});case"txt":return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-500"});default:return jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-gray-500"})}},getCategoryColor=tn=>{switch(tn){case"Safety Guidelines":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"Labels":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Sandwich Making":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};function DocumentCard({document:tn,onPreview:sn}){const un=(dn,pn)=>{const mn=window.document.createElement("a");mn.href=dn,mn.download=pn,mn.target="_blank",window.document.body.appendChild(mn),mn.click(),window.document.body.removeChild(mn)};return jsxRuntimeExports.jsxs(Card$1,{className:"hover:shadow-md transition-shadow duration-200 h-full flex flex-col p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0",children:getFileIcon(tn.type)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100 leading-tight",children:tn.name}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:`mt-2 text-xs ${getCategoryColor(tn.category)}`,children:tn.category})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[tn.description&&jsxRuntimeExports.jsx(CardDescription,{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed",children:tn.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>sn(tn),className:"w-full text-xs sm:text-sm h-8 sm:h-9",children:[jsxRuntimeExports.jsx(Eye,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Preview"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>un(tn.path,tn.name),className:"flex-1 text-xs sm:text-sm h-8 sm:h-9",children:[jsxRuntimeExports.jsx(Download,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Download"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"DL"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>window.open(tn.path,"_blank"),className:"px-2 sm:px-3 h-8 sm:h-9",children:jsxRuntimeExports.jsx(ExternalLink,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})]})]})}function ToolkitTabs(){const[tn,sn]=reactExports.useState(null);return tn?jsxRuntimeExports.jsxs("div",{className:"space-y-4 p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[getFileIcon(tn.type),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100 leading-tight",children:tn.name}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:`mt-2 text-xs ${getCategoryColor(tn.category)}`,children:tn.category})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{const un=document.createElement("a");un.href=tn.path,un.download=tn.name,un.target="_blank",document.body.appendChild(un),un.click(),document.body.removeChild(un)},className:"text-xs sm:text-sm h-9",children:[jsxRuntimeExports.jsx(Download,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Download"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"DL"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>sn(null),className:"text-xs sm:text-sm h-9",children:[jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Back to Toolkit"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]}),jsxRuntimeExports.jsx(DocumentPreview,{documentPath:tn.path,documentName:tn.name,documentType:tn.type,onClose:()=>sn(null)})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-[#FBAD3F] rounded-lg flex items-center justify-center shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100 font-roboto leading-tight",children:"Toolkit & Resources"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-400 leading-tight mt-1",children:"Essential documents, guidelines, and resources for volunteers and hosts"})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"safety",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3 h-auto p-1",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"safety",className:"flex items-center gap-1 sm:gap-2 py-3 px-2 sm:px-4 text-xs sm:text-sm font-medium",children:[jsxRuntimeExports.jsx(Shield,{className:"h-3 w-3 sm:h-4 sm:w-4 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Safety"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Safe"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"labels",className:"flex items-center gap-1 sm:gap-2 py-3 px-2 sm:px-4 text-xs sm:text-sm font-medium",children:[jsxRuntimeExports.jsx(Tag,{className:"h-3 w-3 sm:h-4 sm:w-4 shrink-0"}),jsxRuntimeExports.jsx("span",{children:"Labels"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"sandwich-making",className:"flex items-center gap-1 sm:gap-2 py-3 px-2 sm:px-4 text-xs sm:text-sm font-medium",children:[jsxRuntimeExports.jsx(Sandwich,{className:"h-3 w-3 sm:h-4 sm:w-4 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Sandwich Making"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Making"})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"safety",className:"space-y-4 mt-6",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-4 lg:gap-6",children:safetyDocuments.map((un,dn)=>jsxRuntimeExports.jsx(DocumentCard,{document:un,onPreview:sn},dn))})}),jsxRuntimeExports.jsx(TabsContent,{value:"labels",className:"space-y-4 mt-6",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-4 lg:gap-6",children:labelDocuments.map((un,dn)=>jsxRuntimeExports.jsx(DocumentCard,{document:un,onPreview:sn},dn))})}),jsxRuntimeExports.jsx(TabsContent,{value:"sandwich-making",className:"space-y-4 mt-6",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-4 lg:gap-6",children:sandwichMakingDocuments.map((un,dn)=>jsxRuntimeExports.jsx(DocumentCard,{document:un,onPreview:sn},dn))})})]})]})}function Dashboard({initialSection:tn="dashboard"}){var jn,Cn,An;const[sn]=useLocation(),[un,dn]=reactExports.useState(tn);reactExports.useEffect(()=>{if(console.log("Current URL location:",sn),sn.startsWith("/projects/")){const Tn=sn.split("/projects/")[1];if(Tn){const $n=`project-${Tn}`;console.log("Setting activeSection to project ID:",$n),dn($n)}}else{const Tn=sn.substring(1)||"dashboard";Tn!==un&&Tn!==sn.substring(1)&&(console.log("Setting activeSection to:",Tn),dn(Tn))}},[sn]),reactExports.useEffect(()=>{console.log("Dashboard activeSection changed to:",un)},[un]);const pn=Tn=>{console.log("📍 Dashboard setActiveSection called with:",Tn),dn(Tn)},[mn,hn]=reactExports.useState([]),[fn,gn]=reactExports.useState(!1),[xn,yn]=reactExports.useState(!1),{user:vn,loading:En}=useAuth(),{data:bn,isLoading:wn}=useQuery({queryKey:["/api/auth/user",vn==null?void 0:vn.id],enabled:!!vn}),Sn=bn||vn,Rn=En||wn;reactExports.useEffect(()=>(window.dashboardSetActiveSection=pn,()=>{delete window.dashboardSetActiveSection}),[]),[...hasPermission(Sn,PERMISSIONS.VIEW_HOSTS)?[{id:"hosts",label:"Hosts",icon:Building2}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_RECIPIENTS)?[{id:"recipients",label:"Recipients",icon:Users}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_DRIVERS)?[{id:"drivers",label:"Drivers",icon:Car}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_MEETINGS)?[{id:"meetings",label:"Meetings",icon:ClipboardList}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_ANALYTICS)?[{id:"analytics",label:"Analytics",icon:ChartColumn}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_REPORTS)?[{id:"reports",label:"Reports",icon:FileText}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_PROJECTS)?[{id:"projects",label:"Projects",icon:ListTodo}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_COMMITTEE)?[{id:"committee",label:"Committee",icon:MessageCircle}]:[],...hasPermission(Sn,PERMISSIONS.VIEW_SUGGESTIONS)?[{id:"suggestions",label:"Suggestions",icon:Lightbulb}]:[],...hasPermission(Sn,PERMISSIONS.MANAGE_USERS)?[{id:"user-management",label:"Admin",icon:UserCog}]:[]];const _n=()=>{const Tn=un.match(/^project-(\d+)$/),$n=Tn?parseInt(Tn[1]):null;if($n)return jsxRuntimeExports.jsx(ProjectDetailClean,{projectId:$n});switch(un){case"dashboard":return jsxRuntimeExports.jsx(DashboardOverview,{onSectionChange:dn});case"collections":return jsxRuntimeExports.jsx(SandwichCollectionLog,{});case"projects":return console.log("Rendering ProjectsClean component"),jsxRuntimeExports.jsx(ProjectsClean,{});case"real-time-messages":return jsxRuntimeExports.jsx(RealTimeMessages,{});case"messages":return jsxRuntimeExports.jsx(DirectMessages,{});case"gmail-inbox":return jsxRuntimeExports.jsx(GmailStyleInbox,{});case"inbox":return jsxRuntimeExports.jsx(Inbox,{});case"stream-messages":return jsxRuntimeExports.jsx(StreamMessagesPage,{});case"chat":return jsxRuntimeExports.jsx(EnhancedChat,{});case"profile":return jsxRuntimeExports.jsx(UserProfile,{});case"meetings":return jsxRuntimeExports.jsx(UnifiedMeetings,{});case"reports":return jsxRuntimeExports.jsx(ReportingDashboard,{isEmbedded:!0});case"toolkit":return jsxRuntimeExports.jsx(ToolkitTabs,{});case"hosts":return jsxRuntimeExports.jsx(HostsManagementConsolidated,{});case"recipients":return jsxRuntimeExports.jsx(RecipientsManagement,{});case"drivers":return jsxRuntimeExports.jsx(DriversManagement,{});case"phone-directory":return jsxRuntimeExports.jsx(PhoneDirectoryFixed,{});case"analytics":return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-main-heading text-primary dark:text-secondary",children:"Analytics Dashboard"}),jsxRuntimeExports.jsx("p",{className:"font-body text-muted-foreground",children:"Data insights and impact visualization"})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"data",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2 h-9 sm:h-10",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"data",className:"text-xs sm:text-sm",children:"Data Analytics"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"impact",className:"text-xs sm:text-sm",children:"Impact Dashboard"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"data",className:"mt-6",children:jsxRuntimeExports.jsx(AnalyticsDashboard,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"impact",className:"mt-6",children:jsxRuntimeExports.jsx(ImpactDashboard,{})})]})]});case"role-demo":return jsxRuntimeExports.jsx(RoleDemo,{});case"work-log":return jsxRuntimeExports.jsx(WorkLogPage,{});case"suggestions":return jsxRuntimeExports.jsx(SuggestionsPortal,{});case"google-sheets":return jsxRuntimeExports.jsx(GoogleSheetsPage,{});case"governance":return jsxRuntimeExports.jsx(Governance,{});case"committee":case"committee-chat":return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl",style:{backgroundColor:"var(--tsp-teal-light)"},children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-6 h-6",style:{color:"var(--tsp-teal)"}})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Committee Communications"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Internal committee discussions and collaboration"})]})]}),jsxRuntimeExports.jsx(CommitteeChat,{})]});case"user-management":return jsxRuntimeExports.jsx(UserManagement,{});case"development":return jsxRuntimeExports.jsx(Development,{});case"admin":return jsxRuntimeExports.jsx(AdminPage,{});default:if($n)return jsxRuntimeExports.jsx(ProjectDetailClean,{projectId:$n});if(un.startsWith("project-")){const Dn=parseInt(un.replace("project-",""));if(!isNaN(Dn))return jsxRuntimeExports.jsx(ProjectDetailClean,{projectId:Dn})}return jsxRuntimeExports.jsx(DashboardOverview,{onSectionChange:dn})}};return Rn?jsxRuntimeExports.jsx("div",{className:"bg-slate-50 min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):Sn?jsxRuntimeExports.jsx(HelpProvider,{children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 min-h-screen flex flex-col overflow-x-hidden",children:[jsxRuntimeExports.jsx(AnnouncementBanner,{}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-white to-orange-50/30 border-b-2 border-amber-200 shadow-sm px-2 sm:px-4 md:px-6 py-2 sm:py-3 flex items-center relative z-50 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:()=>gn(!fn),className:"md:hidden p-2 rounded-lg text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors touch-manipulation relative z-60","aria-label":"Toggle navigation menu",children:fn?jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Menu$d,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("img",{src:sandwichLogo,alt:"Sandwich Logo",className:"w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0"}),jsxRuntimeExports.jsx("h1",{className:"text-base sm:text-lg font-semibold text-teal-800 hidden sm:block",children:"The Sandwich Project"}),jsxRuntimeExports.jsx("h1",{className:"text-sm font-semibold text-teal-800 sm:hidden",children:"TSP"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[Sn&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-1.5 bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg border border-amber-200 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-r from-teal-100 to-teal-200 rounded-full flex items-center justify-center shadow-sm",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-teal-800",children:((jn=Sn==null?void 0:Sn.firstName)==null?void 0:jn.charAt(0))||((Cn=Sn==null?void 0:Sn.email)==null?void 0:Cn.charAt(0))||"U"})}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-teal-800",children:Sn!=null&&Sn.firstName?`${Sn.firstName} ${(Sn==null?void 0:Sn.lastName)||""}`.trim():Sn==null?void 0:Sn.email}),jsxRuntimeExports.jsx("span",{className:"text-xs text-amber-600",children:Sn==null?void 0:Sn.email})]}),jsxRuntimeExports.jsx("div",{className:"sm:hidden",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-teal-800",children:Sn!=null&&Sn.firstName?`${Sn.firstName}`:((An=Sn==null?void 0:Sn.email)==null?void 0:An.split("@")[0])||"User"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 relative z-50 flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{console.log("Messages button clicked"),dn("messages"),gn(!1)},className:`p-2 rounded-lg transition-colors relative z-50 pointer-events-auto touch-manipulation ${un==="messages"?"bg-[#236383] hover:bg-[#1d5470] text-white border border-[#236383] shadow-sm":"text-teal-600 hover:bg-teal-50 hover:text-teal-800"}`,title:"Messages","aria-label":"Messages",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),jsxRuntimeExports.jsx(MessageNotifications$1,{user:Sn}),jsxRuntimeExports.jsx(HelpToggle,{}),jsxRuntimeExports.jsx("button",{onClick:Tn=>{Tn.preventDefault(),Tn.stopPropagation(),console.log("Profile button clicked, current section:",un),dn("profile"),window.history.pushState({},"","/dashboard?section=profile"),gn(!1)},className:`p-2 rounded-lg transition-colors relative z-50 pointer-events-auto touch-manipulation ${un==="profile"?"bg-[#236383] hover:bg-[#1d5470] text-white border border-[#236383] shadow-sm":"text-teal-600 hover:bg-teal-50 hover:text-teal-800"}`,title:"Account Settings","aria-label":"Account Settings",children:jsxRuntimeExports.jsx(UserCog,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),jsxRuntimeExports.jsxs("button",{onClick:async()=>{try{await supabase.auth.signOut(),queryClient.clear(),window.location.href="/"}catch(Tn){console.error("Logout error:",Tn),queryClient.clear(),window.location.href="/"}},className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 text-amber-700 hover:text-amber-900 rounded-lg hover:bg-amber-50 transition-colors touch-manipulation border border-amber-200 hover:border-amber-300","aria-label":"Logout",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs sm:text-sm hidden sm:block",children:"Logout"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 relative flex-col md:flex-row",children:[fn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>gn(!1)}),jsxRuntimeExports.jsxs("div",{className:`${fn?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:relative z-50 ${xn?"w-16":"w-64 sm:w-72"} bg-gradient-to-b from-white to-orange-50/30 border-r-2 border-amber-200 shadow-lg flex flex-col transition-all duration-300 ease-in-out h-full md:h-auto md:min-h-screen`,children:[jsxRuntimeExports.jsx("div",{className:"hidden md:flex justify-end p-2 border-b border-amber-200",children:jsxRuntimeExports.jsx("button",{onClick:()=>yn(!xn),className:"p-1.5 rounded-lg hover:bg-amber-100 transition-colors","aria-label":xn?"Expand sidebar":"Collapse sidebar",children:xn?jsxRuntimeExports.jsx("img",{src:squareSandwichLogo,alt:"Expand",className:"w-5 h-5"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4 text-amber-700 rotate-90"})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto pb-6 touch-pan-y overscroll-contain",children:jsxRuntimeExports.jsx(SimpleNav,{activeSection:un,onSectionChange:Tn=>{console.log("Dashboard setActiveSection called with:",Tn),dn(Tn),gn(!1);const $n=Tn==="dashboard"?"/dashboard":`/dashboard?section=${Tn}`;window.history.pushState({},"",$n)},isCollapsed:xn})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden w-full md:w-auto relative z-10 bg-gradient-to-br from-white to-orange-50/20",children:jsxRuntimeExports.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:jsxRuntimeExports.jsx("div",{className:`${un==="gmail-inbox"?"p-2":"p-1 sm:p-4 md:p-6"} pb-20 min-h-full`,children:jsxRuntimeExports.jsx("div",{className:"max-w-full overflow-x-auto",children:_n()})})})})]})]})}):(window.location.href="/",null)}const signupSchema=z$1.object({firstName:z$1.string().min(2,"First name must be at least 2 characters"),lastName:z$1.string().min(2,"Last name must be at least 2 characters"),email:z$1.string().email("Please enter a valid email address"),phone:z$1.string().min(10,"Please enter a valid phone number"),address:z$1.string().min(5,"Please enter your address"),city:z$1.string().min(2,"Please enter your city"),state:z$1.string().min(2,"Please enter your state"),zipCode:z$1.string().min(5,"Please enter a valid ZIP code"),role:z$1.enum(["volunteer","host","driver","coordinator"]),availability:z$1.array(z$1.string()).min(1,"Please select at least one availability option"),interests:z$1.array(z$1.string()).optional(),emergencyContact:z$1.string().min(5,"Please provide emergency contact information"),agreeToTerms:z$1.boolean().refine(tn=>tn===!0,"You must agree to the terms and conditions"),agreeToBackground:z$1.boolean().optional()}),availabilityOptions=["Monday Morning","Monday Afternoon","Monday Evening","Tuesday Morning","Tuesday Afternoon","Tuesday Evening","Wednesday Morning","Wednesday Afternoon","Wednesday Evening","Thursday Morning","Thursday Afternoon","Thursday Evening","Friday Morning","Friday Afternoon","Friday Evening","Saturday Morning","Saturday Afternoon","Saturday Evening","Sunday Morning","Sunday Afternoon","Sunday Evening","Weekends Only","Weekdays Only","Flexible Schedule"],interestOptions=["Food Collection","Food Distribution","Transportation/Driving","Event Planning","Administrative Support","Marketing/Outreach","Technology Support","Fundraising","Community Partnerships","Volunteer Coordination","Data Management","Special Events"];function SignupPage(){const[tn,sn]=reactExports.useState(1),[un,dn]=reactExports.useState([]),[pn,mn]=reactExports.useState([]),{toast:hn}=useToast(),fn=useForm({resolver:t(signupSchema),defaultValues:{firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",role:"volunteer",availability:[],interests:[],emergencyContact:"",agreeToTerms:!1,agreeToBackground:!1}}),gn=useMutation({mutationFn:async En=>await apiRequest("/api/auth/signup","POST",En),onSuccess:()=>{hn({title:"Registration Successful",description:"Welcome to The Sandwich Project! Please check your email for next steps."}),sn(4)},onError:En=>{hn({title:"Registration Failed",description:En.message||"There was an error creating your account. Please try again.",variant:"destructive"})}}),xn=En=>{const bn={...En,availability:un,interests:pn};gn.mutate(bn)},yn=()=>{tn<3&&sn(tn+1)},vn=()=>{tn>1&&sn(tn-1)};return tn===4?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsx(Card$1,{className:"w-full max-w-md",children:jsxRuntimeExports.jsxs(CardContent$1,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome Aboard!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Your registration has been submitted successfully. We'll review your application and contact you soon with next steps."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Button,{asChild:!0,className:"w-full",children:jsxRuntimeExports.jsx(Link$1,{href:"/",children:"Return to Home"})}),jsxRuntimeExports.jsx(Button,{variant:"outline",asChild:!0,className:"w-full",children:jsxRuntimeExports.jsx(Link$1,{href:"/login",children:"Sign In"})})]})]})})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(Card$1,{className:"w-full max-w-2xl",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-3xl font-bold text-gray-900",children:"Join The Sandwich Project"}),jsxRuntimeExports.jsxs(CardDescription,{className:"text-lg",children:["Help us fight hunger in our community - Step ",tn," of 3"]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-4",children:jsxRuntimeExports.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(En=>jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${En<=tn?"bg-[#236383]":"bg-gray-300"}`},En))})})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsx(Form,{...fn,children:jsxRuntimeExports.jsxs("form",{onSubmit:fn.handleSubmit(xn),className:"space-y-6",children:[tn===1&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Personal Information"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"firstName",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"First Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Enter your first name",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"lastName",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Last Name"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Enter your last name",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"email",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Email Address"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"your.email@example.com",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"phone",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Phone Number"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"(555) 123-4567",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"city",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"City"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Your city",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"state",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"State"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"State",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"zipCode",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"ZIP Code"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"12345",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"address",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Address"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"123 Main Street",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),tn===2&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Your Role & Availability"})]}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"role",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"How would you like to help?"}),jsxRuntimeExports.jsxs(Select,{onValueChange:En.onChange,defaultValue:En.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select your preferred role"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"volunteer",children:"General Volunteer"}),jsxRuntimeExports.jsx(SelectItem,{value:"host",children:"Host Location"}),jsxRuntimeExports.jsx(SelectItem,{value:"driver",children:"Driver/Transportation"}),jsxRuntimeExports.jsx(SelectItem,{value:"coordinator",children:"Team Coordinator"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"When are you available? (Select all that apply)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:availabilityOptions.map(En=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:En,checked:un.includes(En),onCheckedChange:bn=>{dn(bn?[...un,En]:un.filter(wn=>wn!==En))}}),jsxRuntimeExports.jsx(Label$1,{htmlFor:En,className:"text-sm",children:En})]},En))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Areas of Interest (Optional)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:interestOptions.map(En=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:En,checked:pn.includes(En),onCheckedChange:bn=>{mn(bn?[...pn,En]:pn.filter(wn=>wn!==En))}}),jsxRuntimeExports.jsx(Label$1,{htmlFor:En,className:"text-sm",children:En})]},En))})]}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"emergencyContact",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Emergency Contact Information"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Name and phone number of emergency contact",...En})}),jsxRuntimeExports.jsx(FormMessage,{})]})})]}),tn===3&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Terms & Agreement"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"The Sandwich Project Terms of Service"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600 space-y-2 max-h-40 overflow-y-auto",children:[jsxRuntimeExports.jsx("p",{children:"By joining The Sandwich Project, you agree to:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Volunteer in a safe and respectful manner"}),jsxRuntimeExports.jsx("li",{children:"Follow all food safety and handling guidelines"}),jsxRuntimeExports.jsx("li",{children:"Represent the organization professionally"}),jsxRuntimeExports.jsx("li",{children:"Respect the privacy of all community members"}),jsxRuntimeExports.jsx("li",{children:"Participate in required training sessions"}),jsxRuntimeExports.jsx("li",{children:"Report any safety concerns immediately"})]})]})]}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"agreeToTerms",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-row items-start space-x-3 space-y-0",children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Checkbox,{checked:En.value,onCheckedChange:En.onChange})}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 leading-none",children:[jsxRuntimeExports.jsx(FormLabel,{children:"I agree to the terms and conditions of The Sandwich Project"}),jsxRuntimeExports.jsx(FormMessage,{})]})]})}),jsxRuntimeExports.jsx(FormField,{control:fn.control,name:"agreeToBackground",render:({field:En})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-row items-start space-x-3 space-y-0",children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Checkbox,{checked:En.value,onCheckedChange:En.onChange})}),jsxRuntimeExports.jsx("div",{className:"space-y-1 leading-none",children:jsxRuntimeExports.jsx(FormLabel,{children:"I consent to a background check (required for certain volunteer roles)"})})]})}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-800",children:[jsxRuntimeExports.jsx("strong",{children:"Next Steps:"})," After submitting your application, our volunteer coordinator will review your information and contact you within 2-3 business days with orientation details and next steps."]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-6",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:vn,disabled:tn===1,children:"Previous"}),tn<3?jsxRuntimeExports.jsx(Button,{type:"button",onClick:yn,children:"Next"}):jsxRuntimeExports.jsx(Button,{type:"submit",disabled:gn.isPending,children:gn.isPending?"Submitting...":"Complete Registration"})]})]})}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link$1,{href:"/login",className:"text-blue-600 hover:underline",children:"Sign in here"})]})})]})]})})}function NotFound(){return jsxRuntimeExports.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsx(Card$1,{className:"w-full max-w-md mx-4",children:jsxRuntimeExports.jsxs(CardContent$1,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex mb-4 gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-red-500"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const LoginForm=()=>{const[,tn]=useLocation(),{signIn:sn,signUp:un,resetPassword:dn}=useAuth(),[pn,mn]=reactExports.useState(!1),[hn,fn]=reactExports.useState(null),[gn,xn]=reactExports.useState(null),[yn,vn]=reactExports.useState(""),[En,bn]=reactExports.useState(""),[wn,Sn]=reactExports.useState(""),[Rn,_n]=reactExports.useState(""),jn=async Tn=>{Tn.preventDefault(),mn(!0),fn(null);const{error:$n}=await sn(yn,En);$n?(fn($n.message),mn(!1)):tn("/dashboard")},Cn=async Tn=>{Tn.preventDefault(),mn(!0),fn(null);const{error:$n}=await un(yn,En,{firstName:wn,lastName:Rn,role:"volunteer"});$n?(fn($n.message),mn(!1)):(xn("Account created! Please check your email to verify your account."),mn(!1))},An=async Tn=>{if(Tn.preventDefault(),mn(!0),fn(null),xn(null),!yn){fn("Please enter your email address"),mn(!1);return}const{error:$n}=await dn(yn);$n?fn($n.message):xn("Password reset email sent! Check your inbox."),mn(!1)};return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:jsxRuntimeExports.jsxs(Card$1,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader$1,{className:"space-y-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-center",children:"The Sandwich Project"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-center",children:"Sign in to your account or create a new one"})]}),jsxRuntimeExports.jsxs(CardContent$1,{children:[jsxRuntimeExports.jsxs(Tabs,{defaultValue:"signin",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"signin",children:"Sign In"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"signup",children:"Sign Up"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"signin",children:jsxRuntimeExports.jsxs("form",{onSubmit:jn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"signin-email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"signin-email",type:"email",placeholder:"you@example.com",value:yn,onChange:Tn=>vn(Tn.target.value),required:!0,disabled:pn})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"signin-password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"signin-password",type:"password",value:En,onChange:Tn=>bn(Tn.target.value),required:!0,disabled:pn})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:pn,children:pn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"link",className:"w-full text-sm",onClick:An,disabled:pn,children:"Forgot your password?"})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"signup",children:jsxRuntimeExports.jsxs("form",{onSubmit:Cn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"signup-firstname",children:"First Name"}),jsxRuntimeExports.jsx(Input,{id:"signup-firstname",type:"text",value:wn,onChange:Tn=>Sn(Tn.target.value),required:!0,disabled:pn})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"signup-lastname",children:"Last Name"}),jsxRuntimeExports.jsx(Input,{id:"signup-lastname",type:"text",value:Rn,onChange:Tn=>_n(Tn.target.value),required:!0,disabled:pn})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"signup-email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"signup-email",type:"email",placeholder:"you@example.com",value:yn,onChange:Tn=>vn(Tn.target.value),required:!0,disabled:pn})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"signup-password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"signup-password",type:"password",value:En,onChange:Tn=>bn(Tn.target.value),required:!0,disabled:pn,minLength:8}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:pn,children:pn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Sign Up"})]})})]}),hn&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",className:"mt-4",children:jsxRuntimeExports.jsx(AlertDescription,{children:hn})}),gn&&jsxRuntimeExports.jsxs(Alert,{className:"mt-4",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:gn})]})]}),jsxRuntimeExports.jsx(CardFooter,{className:"flex flex-col space-y-2 text-center text-sm text-muted-foreground",children:jsxRuntimeExports.jsx("p",{children:"By signing up, you agree to our Terms of Service"})})]})})},ResetPassword=()=>{const[,tn]=useLocation(),[sn,un]=reactExports.useState(!1),[dn,pn]=reactExports.useState(null),[mn,hn]=reactExports.useState(!1),[fn,gn]=reactExports.useState(""),[xn,yn]=reactExports.useState("");reactExports.useEffect(()=>{supabase.auth.onAuthStateChange(async(En,bn)=>{En==="PASSWORD_RECOVERY"&&console.log("Password recovery mode activated")})},[]);const vn=async En=>{if(En.preventDefault(),un(!0),pn(null),fn!==xn){pn("Passwords do not match"),un(!1);return}if(fn.length<8){pn("Password must be at least 8 characters"),un(!1);return}const{error:bn}=await supabase.auth.updateUser({password:fn});bn?(pn(bn.message),un(!1)):(hn(!0),setTimeout(()=>{tn("/dashboard")},2e3))};return mn?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:jsxRuntimeExports.jsx(Card$1,{className:"w-full max-w-md",children:jsxRuntimeExports.jsx(CardContent$1,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-12 w-12 text-green-500"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Password Reset Successful!"}),jsxRuntimeExports.jsx("p",{className:"text-center text-muted-foreground",children:"Your password has been updated. Redirecting to dashboard..."})]})})})}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:jsxRuntimeExports.jsxs(Card$1,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader$1,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Reset Your Password"}),jsxRuntimeExports.jsx(CardDescription,{children:"Enter your new password below"})]}),jsxRuntimeExports.jsx(CardContent$1,{children:jsxRuntimeExports.jsxs("form",{onSubmit:vn,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"New Password"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:fn,onChange:En=>gn(En.target.value),required:!0,disabled:sn,minLength:8,placeholder:"Enter new password"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"confirmPassword",children:"Confirm Password"}),jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:"password",value:xn,onChange:En=>yn(En.target.value),required:!0,disabled:sn,minLength:8,placeholder:"Confirm new password"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters"}),dn&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",children:jsxRuntimeExports.jsx(AlertDescription,{children:dn})}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:sn,children:sn?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Reset Password"})]})})]})})};function ProtectedRoute({children:tn}){const{user:sn,loading:un}=useAuth();return un?jsxRuntimeExports.jsx(LoadingState,{text:"Authenticating...",size:"lg",className:"min-h-screen"}):sn?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:tn}):jsxRuntimeExports.jsx(Redirect,{to:"/login"})}function Router(){const{user:tn,loading:sn}=useAuth();return useAnalytics(),useEnhancedTracking(),sn?jsxRuntimeExports.jsx(LoadingState,{text:"Loading...",size:"lg",className:"min-h-screen"}):jsxRuntimeExports.jsxs(Switch$2,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",children:()=>tn?jsxRuntimeExports.jsx(Redirect,{to:"/dashboard"}):jsxRuntimeExports.jsx(LoginForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/signup",children:()=>tn?jsxRuntimeExports.jsx(Redirect,{to:"/dashboard"}):jsxRuntimeExports.jsx(SignupPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",component:ResetPassword}),jsxRuntimeExports.jsx(Route,{path:"/messages",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"messages"})})}),jsxRuntimeExports.jsx(Route,{path:"/stream-messages",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"stream-messages"})})}),jsxRuntimeExports.jsx(Route,{path:"/inbox",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"inbox"})})}),jsxRuntimeExports.jsx(Route,{path:"/suggestions",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"suggestions"})})}),jsxRuntimeExports.jsx(Route,{path:"/governance",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"governance"})})}),jsxRuntimeExports.jsx(Route,{path:"/google-sheets",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"google-sheets"})})}),jsxRuntimeExports.jsx(Route,{path:"/meetings",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"meetings"})})}),jsxRuntimeExports.jsx(Route,{path:"/projects",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:"projects"})})}),jsxRuntimeExports.jsx(Route,{path:"/projects/:id",children:un=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:`project-${un.id}`})})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",children:()=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard/:section",children:un=>jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Dashboard,{initialSection:un.section})})}),jsxRuntimeExports.jsx(Route,{path:"/",children:()=>tn?jsxRuntimeExports.jsx(Redirect,{to:"/dashboard"}):jsxRuntimeExports.jsx(Redirect,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{component:NotFound})]})}function App(){return reactExports.useEffect(()=>{console.warn("Missing required Google Analytics key: VITE_GA_MEASUREMENT_ID")},[]),jsxRuntimeExports.jsx(ErrorBoundary$1,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(Router,{})]})})})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
